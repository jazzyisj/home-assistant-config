#######################################################################
## https://github.com/custom-cards/bar-card
#######################################################################
type: conditional
conditions:
  - entity: binary_sensor.wan_connected_alert
    state: 'off'
card:
  type: custom:bar-card
  entity: sensor.jason_time_to_home
  animation:
    - state: 'on'
    - speed: 5
  decimal: 0
  direction: right
  height: 40px
  name: Home - Jason
  positions:
    icon: 'off'
    indicator: inside
    name: 'inside'
    minmax: 'off'
    value: 'inside'
  target: 10
  unit_of_measurement: 'min'
  width: 96%
  severity:
    - from: 0
      to: 2
      color: rgb(0, 204, 15)
    - from: 3
      to: 4
      color: rgb(25, 208, 0)
    - from: 5
      to: 6
      color: rgb(68, 212, 0)
    - from: 7
      to: 8
      color: rgb(112, 216, 0)
    - from: 9
      to: 10
      color: rgb(158, 219, 0)
    - from: 11
      to: 12
      color: rgb(205, 224, 0)
    - from: 13
      to: 14
      color: rgb(238, 215, 0)
    - from: 15
      to: 16
      color: rgb(231, 159, 0)
    - from: 17
      to: 18
      color: rgb(236, 115, 0)
    - from: 19
      to: 20
      color: rgb(239, 69, 0)
    - from: 21
      to: 22
      color: rgb(239, 69, 0)
  tap_action: #NOTE double, hold don't work, fire-dom-event doesn't work
    action: call-service
    service: script.update_traffic_sensors
  card_mod:
    style: |
      ha-card { background-color: transparent; box-shadow: none;}
      bar-card-card { margin-left: -10px; margin-bottom: -3px; margin-top: -3px; }
      bar-card-currentbar, bar-card-backgroundbar { border-radius: 0.5em; }
      bar-card-value { overflow; visible; padding-left: 10px; margin: 0px; }
      .card-content { text-align: start; padding: 0px; }
