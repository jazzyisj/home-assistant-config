###############################################################################
## Jason Time To Home Bar Card
###############################################################################
type: custom:hui-element
card_type: vertical-stack
cards:
  - type: conditional
    conditions:
      - entity: binary_sensor.jason_home
        state: 'off'
    card:
      type: custom:bar-card
      entity: sensor.jason_time_to_home
      name: 'Home'
      unit_of_measurement: 'min'
      direction: right
      height: 15px
      width: 80%
      decimal: 0
      positions:
        icon: 'outside'
        indicator: 'inside'
        name: 'outside'
        minmax: 'off'
        value: 'inside'
      animation:
        - state: 'on'
        - speed: 5
      target: 10
      severity: !include /config/lovelace/bar/include/work_commute_bar_color.yaml
      tap_action:
        action: call-service
        service: script.update_traffic_sensors
      card_mod:
        style: |
          ha-card { background-color: transparent; box-shadow: none;  padding: 0px; margin: 0px; }
          bar-card-currentbar, bar-card-backgroundbar { padding: 0px; margin: 0px; }
          bar-card-card { padding-left: 5px; padding-right: 5px; padding-top: 0px; padding-bottom: 0px; margin: 0px; }
          .card-content { text-align: start; padding: 0px; margin: 0px; }

  - type: conditional
    conditions:
      - entity: binary_sensor.work_commute_active
        state: 'on'
    card:
      type: custom:bar-card
      entity: sensor.jason_time_to_work
      name: 'Work'
      animation:
        - state: 'on'
        - speed: 5
      decimal: 0
      direction: right
      height: 15px
      width: 80%
      positions:
        icon: 'outside'
        indicator: 'inside'
        name: 'outside'
        minmax: 'off'
        value: 'inside'
      target: 10
      unit_of_measurement: 'min'
      severity: !include /config/lovelace/bar/include/work_commute_bar_color.yaml
      tap_action:
        action: call-service
        service: script.update_traffic_sensors
      card_mod:
        style: |
          ha-card { background-color: transparent; box-shadow: none;  padding: 0px; margin: 0px; }
          bar-card-currentbar, bar-card-backgroundbar { padding: 0px; margin: 0px; }
          bar-card-card { padding-left: 5px; padding-right: 5px; padding-top: 0px; padding-bottom: 0px; margin: 0px; }
          .card-content { text-align: start; padding: 0px; margin: 0px; }
