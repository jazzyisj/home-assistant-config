#######################################################################
## Pressure Bar Card  https://github.com/custom-cards/bar-card
#######################################################################
type: custom:card-templater
entities:
  - sensor.pressure_trend
card:
  type: custom:bar-card
  entity: sensor.barometric_pressure
  name_template: Pressure
  icon_template: "{{ state_attr('sensor.pressure_trend','icon') }}"
  unit_of_measurement: hPa
  decimal: 0
  min: 990
  max: 1030
  direction: up
  animation:
    state: on
    speed: 10
  positions:
    icon: 'outside'
    indicator: 'inside'
    name: 'off'
    minmax: 'off'
    value: outside
  width: 50%
  color: rgb(0, 151, 206)
  tap_action:
    action: none
  severity:
    - from: 900
      to: 1000
      color: var(--entity-critical-color);

    - from: 1000
      to: 1010
      color: var(--entity-warning-color);

    - from: 1010
      to: 1020
      color: var(--entity-minor-color);

    - from: 1020
      to: 1030
      color: var(--entity-ok-color);
card_mod:
  class: sub_card
  style: |
    :host {
      --paper-item-icon-color: var(--entity-ok-color);
      ha-card { background-color: transparent; box-shadow: none;}
      bar-card-card { margin-left: -10px; margin-bottom: -3px; margin-top: -3px; }
      bar-card-currentbar, bar-card-backgroundbar { border-radius: 0.5em; }
      bar-card-value { overflow; visible; padding-left: 10px; margin: 0px; }
      .card-content { text-align: start; padding: 0px; }
    }
