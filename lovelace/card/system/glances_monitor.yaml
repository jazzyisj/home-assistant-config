###############################################################################
## Glances Monitor #QUESTION difference between this and sysmonitor in values
###############################################################################
type: entities
title: "Glances Monitor"
icon: mdi:chart-areaspline
entities:
  - type: custom:bar-card
    name: "Processor Temp"
    entity: sensor.glances_cpu_thermal_1_temperature
    entity_row: true
    icon: mdi:thermometer
    positions:
      icon: outside
      name: outside
      indicator: inside
      value: outside
    direction: right
    height: 15px
    width: 60%
    decimal: 0
    min: 0
    max: 100
    severity: !include /config/lovelace/bar/include/processor_temp_bar_color.yaml
    card_mod:
      style: |
        bar-card-card { margin-left: 5px; }
        :host {
          --paper-item-icon-color:
            {% set status = states('sensor.cpu_temp_status') %}
            {% if status == 'critical' %} var(--entity-critical-color)
            {% elif status == 'severe' %} var(--entity-severe-color)
            {% elif status == 'warning' %} var(--entity-warning-color)
            {% elif status == 'minor' %} var(--entity-minor-color)
            {% else %} var(--state-icon-color)
            {% endif %}
          ;
        }

  - type: custom:fold-entity-row
    padding: 5
    head:
      type: custom:bar-card
      name: "Processor Use"
      entity: sensor.glances_cpu_used
      entity_row: true
      icon: mdi:cpu-32-bit
      positions:
        icon: outside
        name: outside
        indicator: inside
        value: outside
      direction: right
      height: 15px
      width: 56%
      decimal: 0
      min: 0
      max: 100
      severity: !include /config/lovelace/bar/include/processor_use_bar_color.yaml
      card_mod:
        style: |
          bar-card-card { margin-left: 5px; }
          :host {
            --paper-item-icon-color:
              {% set status = states('sensor.processor_use_status') %}
              {% if status == 'critical' %} var(--entity-critical-color)
              {% elif status == 'severe' %} var(--entity-severe-color)
              {% elif status == 'warning' %} var(--entity-warning-color)
              {% elif status == 'minor' %} var(--entity-minor-color)
              {% else %} var(--state-icon-color)
              {% endif %}
            ;
          }
    entities:
      - entity: sensor.glances_cpu_load
        card_mod:
          style: |
            :host {
              --paper-item-icon-color:
                {% set load = states('sensor.load_1m')|float(-1) %}
                {% if load > 3 %} var(--entity-critical-color)
                {% elif load > 2 %} var(--entity-severe-color)
                {% elif load > 1.5 %} var(--entity-warning-color)
                {% elif load > 1 %} var(--entity-minor-color)
                {% else %} var(--state-icon-color)
                {% endif %}
              ;
            }

  - type: custom:fold-entity-row
    padding: 5
    head:
      type: custom:bar-card
      name: "Disk Use"
      entity: sensor.glances_config_used_percent
      entity_row: true
      icon: mdi:cpu-32-bit
      positions:
        icon: outside
        name: outside
        indicator: inside
        value: outside
      direction: right
      height: 15px
      width: 56%
      decimal: 0
      min: 0
      max: 100
      severity: !include /config/lovelace/bar/include/processor_use_bar_color.yaml
      card_mod:
        style: |
          bar-card-card { margin-left: 5px; }
          :host {
            --paper-item-icon-color:
              {% set status = states('sensor.processor_use_status') %}
              {% if status == 'critical' %} var(--entity-critical-color)
              {% elif status == 'severe' %} var(--entity-severe-color)
              {% elif status == 'warning' %} var(--entity-warning-color)
              {% elif status == 'minor' %} var(--entity-minor-color)
              {% else %} var(--state-icon-color)
              {% endif %}
            ;
          }
    entities:
      - entity: sensor.glances_config_free
      - entity: sensor.glances_config_used

  - type: custom:bar-card
    name: "DDR RAM Temp"
    entity: sensor.glances_ddr_thermal_1_temperature
    entity_row: true
    icon: mdi:thermometer
    positions:
      icon: outside
      name: outside
      indicator: inside
      value: outside
    direction: right
    height: 15px
    width: 60%
    decimal: 0
    min: 0
    max: 100
    severity: !include /config/lovelace/bar/include/processor_temp_bar_color.yaml
    card_mod:
      style: |
        bar-card-card { margin-left: 5px; }
        :host {
          --paper-item-icon-color:
            {% set status = states('sensor.ram_temp_status') %}
            {% if status == 'critical' %} var(--entity-critical-color)
            {% elif status == 'severe' %} var(--entity-severe-color)
            {% elif status == 'warning' %} var(--entity-warning-color)
            {% elif status == 'minor' %} var(--entity-minor-color)
            {% else %} var(--state-icon-color)
            {% endif %}
          ;
        }

  - type: custom:fold-entity-row
    padding: 5
    head:
      type: custom:bar-card
      name: "Ram Use"
      entity: sensor.glances_ram_used_percent
      entity_row: true
      icon: mdi:cpu-32-bit
      positions:
        icon: outside
        name: outside
        indicator: inside
        value: outside
      direction: right
      height: 15px
      width: 56%
      decimal: 0
      min: 0
      max: 100
      severity: !include /config/lovelace/bar/include/processor_use_bar_color.yaml
      card_mod:
        style: |
          bar-card-card { margin-left: 5px; }
          :host {
            --paper-item-icon-color:
              {% set status = states('sensor.processor_use_status') %}
              {% if status == 'critical' %} var(--entity-critical-color)
              {% elif status == 'severe' %} var(--entity-severe-color)
              {% elif status == 'warning' %} var(--entity-warning-color)
              {% elif status == 'minor' %} var(--entity-minor-color)
              {% else %} var(--state-icon-color)
              {% endif %}
            ;
          }
    entities:
      - entity: sensor.glances_ram_free
      - entity: sensor.glances_ram_used

  - type: custom:fold-entity-row
    padding: 5
    head:
      type: custom:bar-card
      name: "Swap Use"
      entity: sensor.glances_swap_used_percent
      entity_row: true
      icon: mdi:cpu-32-bit
      positions:
        icon: outside
        name: outside
        indicator: inside
        value: outside
      direction: right
      height: 15px
      width: 56%
      decimal: 0
      min: 0
      max: 100
      severity: !include /config/lovelace/bar/include/processor_use_bar_color.yaml
      card_mod:
        style: |
          bar-card-card { margin-left: 5px; }
          :host {
            --paper-item-icon-color:
              {% set status = states('sensor.processor_use_status') %}
              {% if status == 'critical' %} var(--entity-critical-color)
              {% elif status == 'severe' %} var(--entity-severe-color)
              {% elif status == 'warning' %} var(--entity-warning-color)
              {% elif status == 'minor' %} var(--entity-minor-color)
              {% else %} var(--state-icon-color)
              {% endif %}
            ;
          }
    entities:
      - entity: sensor.glances_swap_free
      - entity: sensor.glances_swap_used

  - sensor.glances_running
  - sensor.glances_sleeping
  - sensor.glances_containers_active
  - sensor.glances_containers_cpu_used
  - sensor.glances_containers_ram_used
  - sensor.glances_thread
  - sensor.glances_total
card_mod:
  class: basic_swipe
