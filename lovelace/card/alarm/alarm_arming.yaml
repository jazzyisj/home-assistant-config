###############################################################################
## Alarm Arming
###############################################################################
type: custom:state-switch
entity: template
template: >
  {% if is_state('alarm_control_panel.master','arming') %} master
  {% elif is_state('alarm_control_panel.house','arming') %} house
  {% elif is_state('alarm_control_panel.garage','arming') %} garage
  {% endif %}
states:
  master:
    type: entities
    entities:
      - type: custom:timer-bar-card
        entity: timer.alarm_arming
        name: 'ARMING MASTER'
        bar_width: 30%
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            deviceID: this
            hide_header: true
            title: 'Alarm Control Panel'
            card: !include /config/lovelace/card/alarm/alarm_control_panel.yaml
        card_mod:
          style: |
            @keyframes blink {
              50% {
                --paper-item-icon-color: white;
              }
            }
            :host {
              --paper-item-icon-color: var(--entity-critical-color);
              animation: blink 1s linear infinite;
            }
    card_mod:
      class: alarm_timer

  house:
    type: entities
    entities:
      - type: custom:timer-bar-card
        entity: timer.alarm_arming
        name: 'ARMING HOUSE'
        bar_width: 30%
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            deviceID: this
            hide_header: true
            title: 'Alarm Control Panel'
            card: !include /config/lovelace/card/alarm/alarm_control_panel_house.yaml
        card_mod:
          style: |
            @keyframes blink {
              50% {
                --paper-item-icon-color: white;
              }
            }
            :host {
              --paper-item-icon-color: var(--entity-critical-color);
              animation: blink 1s linear infinite;
            }
    card_mod:
      class: alarm_timer

  garage:
    type: entities
    entities:
      - type: custom:timer-bar-card
        entity: timer.alarm_arming
        name: 'ARMING GARAGE'
        bar_width: 30%
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            deviceID: this
            hide_header: true
            title: 'Alarm Control Panel'
            card: !include /config/lovelace/card/alarm/alarm_control_panel_garage.yaml
        card_mod:
          style: |
            @keyframes blink {
              50% {
                --paper-item-icon-color: white;
              }
            }
            :host {
              --paper-item-icon-color: var(--entity-critical-color);
              animation: blink 1s linear infinite;
            }
    card_mod:
      class: alarm_timer
