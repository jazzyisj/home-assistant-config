###############################################################################
## Battery Monitor  https://github.com/maxwroc/battery-state-card
###############################################################################
type: custom:stack-in-card
cards:
  - type: entities
    title: 'Battery Monitor'
    state_color: true
    show_header_toggle: false
    entities:
      - type: custom:fold-entity-row
        head:
          entity: binary_sensor.low_battery_alert
          card_mod:
            style: |
              :host {
                --paper-item-icon-color: var(--entity-ok-color);
                --paper-item-icon-active-color: var(--entity-warning-color);
              }
        entities:
          - entity: input_number.battery_alert_threshold
    card_mod:
      class: subcard

  - type: custom:battery-state-card
    sort_by_level: asc
    collapse: 2
    state_map:
      - from: 'on'
        to: 10
      - from: 'off'
        to: 80
    filter:
      include:
        - name: attributes.device_class
          value: battery
      exclude:
        - name: entity_id
          value: binary_sensor.low_battery_alert
        - name: attributes.mobile
          value: true
    card_mod:
      class: subcard
      style: |
        ha-card {
          box-shadow: none !important;
        }
card_mod:
  class: basic
