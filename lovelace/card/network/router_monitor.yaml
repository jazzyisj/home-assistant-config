###############################################################################
## Router Monitor
###############################################################################
type: vertical-stack
cards:
  - type: entities
    title: 'Router Monitor'
    icon: mdi:router-wireless
    state_color: true
    show_header_toggle: false
    entities:
      - type: custom:template-entity-row
        name: "Router Uptime: {{ states('sensor.jnet_router_uptime_verbose') }}"
        secondary: "Last Boot: {{ states('sensor.jnet_router_last_boot') }}"
        icon: mdi:clock-start

      - entity: binary_sensor.jnet_router_wan_status
      # - entity: sensor.jnet_router_wan_status #QUESTION why dupe of binary?
      # - entity: sensor.jnet_router_external_ip

      - type: custom:fold-entity-row
        padding: 5
        head:
          entity: sensor.asuswrt_download
        entities:
          - sensor.jnet_router_b_received
          - sensor.jnet_router_b_sent
          - sensor.jnet_router_kib_s_received
          - sensor.jnet_router_kib_s_sent

          - sensor.asuswrt_download
          - sensor.asuswrt_download_speed
          - sensor.asuswrt_upload
          - sensor.asuswrt_upload_speed

      - type: buttons
        entities:
          - entity: binary_sensor.jnet_router_wan_status
            name: 'Internal Admin'
            tap_action:
              action: url
              url_path: !secret ROUTER_ADMIN

          - entity: binary_sensor.jnet_router_wan_status
            name: 'External Admin'
            tap_action:
              action: url
              url_path: !secret ROUTER_ADMIN_EXT
        card_mod:
          style:
            hui-buttons-base $: |
              .ha-scrollbar {
                justify-content: center;
              }
    card_mod:
      class: basic

  - type: grid
    columns: 3
    cards:
      - !include /config/lovelace/graph/network/router_2ghz_temperature_graph.yaml
      - !include /config/lovelace/graph/network/router_5ghz_temperature_graph.yaml
      - !include /config/lovelace/graph/network/router_cpu_temperature_graph.yaml

      - !include /config/lovelace/graph/network/router_load_1m_graph.yaml
      - !include /config/lovelace/graph/network/router_load_5m_graph.yaml
      - !include /config/lovelace/graph/network/router_load_15m_graph.yaml
