###############################################################################
## Single Speakers
###############################################################################
type: custom:stack-in-card
cards:
  # - type: entities
  #   title: "Speakers"
  #   icon: mdi:monitor-speaker
  #   entities:
  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.bathroom_speaker') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_bathroom_speaker') in ['unknown','unavailable'] }}
    states:
      true:
        type: entities
        entities:
          - entity: media_player.mass_bathroom_speaker
        card_mod:
          class: basic
      false:
        type: media-control
        entity: media_player.mass_bathroom_speaker

  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.bedroom_hub') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_bedroom_hub') in ['unknown','unavailable'] }}
    states:
      true:
        type: entities
        entities:
          - entity: media_player.mass_bedroom_hub
        card_mod:
          class: sub_card
      false:
        type: media-control
        entity: media_player.mass_bedroom_hub

  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.dining_room_hub') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_dining_room_hub') in ['unknown','unavailable'] }}
    states:
      true:
        type: custom:hui-element
        card_type: entities
        entities:
          - entity: media_player.mass_dining_room_hub
        card_mod:
          class: sub_card
      false:
        type: custom:hui-element
        card_type: media-control
        entity: media_player.mass_dining_room_hub

  - type: media-control
    entity: media_player.dining_room_hub #TEST

  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.garage_speaker') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_garage_speaker') in ['unknown','unavailable'] }}
    states:
      true:
        type: custom:hui-element
        card_type: entities
        entities:
          - entity: media_player.mass_garage_speaker
        card_mod:
          class: sub_card
      false:
        type: custom:hui-element
        card_type: media-control
        entity: media_player.mass_garage_speaker

  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.laundry_room_speaker') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_laundry_room_speaker') in ['unknown','unavailable'] }}
    states:
      true:
        type: custom:hui-element
        card_type: entities
        entities:
          - entity: media_player.mass_laundry_room_speaker
        card_mod:
          class: sub_card
      false:
        type: custom:hui-element
        card_type: media-control
        entity: media_player.mass_laundry_room_speaker

  - type: custom:state-switch
    entity: template
    template: >
      {% set state = states('sensor.living_room_speaker') %}
      {{ state == 'off' or 'group' in state
          or states('media_player.mass_living_room_speaker') in ['unknown','unavailable'] }}
    states:
      true:
        type: custom:hui-element
        card_type: entities
        entities:
          - entity: media_player.mass_living_room_speaker
        card_mod:
          class: sub_card
      false:
        type: custom:hui-element
        card_type: media-control
        entity: media_player.mass_living_room_speaker
