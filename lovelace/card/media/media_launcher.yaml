###############################################################################
## Media Launcher Card
###############################################################################
type: vertical-stack
cards:
  - !include /config/lovelace/card/media/media_buttons.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {% if is_state('input_boolean.media_launcher_alarm_clock','on') %} alarm
      {% elif is_state('input_boolean.media_launcher_tts','on') %} tts
      {% elif is_state('input_boolean.media_launcher_volume','on') %} volume
      {% elif is_state('input_boolean.media_launcher_settings','on') %} settings
      {% elif is_state('input_boolean.media_launcher_tv','on') %} tv
      {% elif is_state('input_boolean.media_launcher_radio','on') %} radio
      {% elif is_state('input_boolean.media_launcher_spotify','on')
          and is_state('input_select.spotify_account','Hassio') %} spotify
      {% elif is_state('input_boolean.media_launcher_spotify','on')
          and is_state('input_select.spotify_account','Jason') %} spotify_jason
      {% elif is_state('input_boolean.media_launcher_spotify','on')
          and is_state('input_select.spotify_account','Sheri') %} spotify_sheri
      {% elif is_state('input_boolean.media_launcher_youtube','on') %} youtube
      {% elif is_state('input_boolean.media_launcher_preset_jason','on') %} jason
      {% elif is_state('input_boolean.media_launcher_preset_sheri','on') %} sheri
      {% elif is_state('input_boolean.media_launcher_preset_guest','on') %} guest
      {% elif is_state('input_boolean.media_launcher_preset_wake','on') %} wake
      {% elif is_state('input_boolean.media_launcher_preset_morning','on') %} morning
      {% elif is_state('input_boolean.media_launcher_preset_sleep','on') %} sleep
      {% elif is_state('input_boolean.media_launcher_preset_chill','on') %} chill
      {% elif is_state('input_boolean.media_launcher_preset_company','on') %} company
      {% elif is_state('input_boolean.media_launcher_preset_shower','on') %} shower
      {% endif %}
    states:
      alarm: !include /config/lovelace/card/media/alarm_clock/alarm_clock_card.yaml
      tts: !include /config/lovelace/card/media/tts_settings.yaml
      volume: !include /config/lovelace/card/media/volume_settings.yaml
      settings: !include /config/lovelace/card/media/media_settings.yaml
      tv: !include /config/lovelace/card/media/media_player/media_players_television.yaml
      radio: !include /config/lovelace/card/media/radio_launcher.yaml
      spotify: !include /config/lovelace/card/media/spotify_launcher.yaml
      spotify_jason: !include /config/lovelace/card/media/spotify_jason_launcher.yaml
      spotify_sheri: !include /config/lovelace/card/media/spotify_sheri_launcher.yaml
      youtube: !include /config/lovelace/card/media/youtube_launcher.yaml
      jason: !include /config/lovelace/card/media/media_preset/media_preset_jason.yaml
      sheri: !include /config/lovelace/card/media/media_preset/media_preset_sheri.yaml
      guest: !include /config/lovelace/card/media/media_preset/media_preset_guest.yaml
      wake: !include /config/lovelace/card/media/media_preset/media_preset_wake.yaml
      morning: !include /config/lovelace/card/media/media_preset/media_preset_morning.yaml
      sleep: !include /config/lovelace/card/media/media_preset/media_preset_sleep.yaml
      chill: !include /config/lovelace/card/media/media_preset/media_preset_chill.yaml
      company: !include /config/lovelace/card/media/media_preset/media_preset_company.yaml
      shower: !include /config/lovelace/card/media/media_preset/media_preset_shower.yaml
      players: !include /config/lovelace/card/media/media_player/media_player_conditional.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ is_state('input_boolean.media_launcher_alarm_clock','off')
          and is_state('input_boolean.media_launcher_tv','off')
          and is_state('input_boolean.media_launcher_tts','off')
          and is_state('input_boolean.media_launcher_volume','off')
          and is_state('input_boolean.media_launcher_settings','off')
          and is_state('input_boolean.media_launcher_radio','off')
          and is_state('input_boolean.media_launcher_spotify','off')
          and is_state('input_boolean.media_launcher_youtube','off')
          and is_state('input_boolean.media_launcher_preset_jason','off')
          and is_state('input_boolean.media_launcher_preset_sheri','off')
          and is_state('input_boolean.media_launcher_preset_guest','off')
          and is_state('input_boolean.media_launcher_preset_wake','off')
          and is_state('input_boolean.media_launcher_preset_morning','off')
          and is_state('input_boolean.media_launcher_preset_sleep','off')
          and is_state('input_boolean.media_launcher_preset_chill','off')
          and is_state('input_boolean.media_launcher_preset_company','off')
          and is_state('input_boolean.media_launcher_preset_shower','off') }}
    states:
      true:
        # type: custom:state-switch
        # entity: template
        # template: >
        #   {% if is_state('binary_sensor.alarm_clock','on') %} alarm_clock
        #   {% elif is_state('binary_sensor.radio','on')
        #       or is_state('binary_sensor.spotify','on')
        #       or is_state('binary_sensor.spotify_jason','on')
        #       or is_state('binary_sensor.spotify_sheri','on')
        #       or is_state('binary_sensor.youtube','on') %} media_players
        #   {% endif %}
        # states:
        #   alarm_clock: !include /config/lovelace/card/media/alarm_clock/alarm_clock_card.yaml
        #   media_players:
        type: vertical-stack
        cards:
          - type: custom:state-switch
            entity: binary_sensor.alarm_clock
            states:
              'on': !include /config/lovelace/card/media/alarm_clock/alarm_clock_media_players.yaml

          - type: custom:state-switch
            entity: binary_sensor.radio
            states:
              'on': !include /config/lovelace/media_player/radio_media_player.yaml

          - type: custom:state-switch
            entity: binary_sensor.spotify
            states:
              'on': !include /config/lovelace/media_player/spotify_media_player.yaml

          - type: custom:state-switch
            entity: binary_sensor.spotify_jason
            states:
              'on': !include /config/lovelace/media_player/spotify_jason_media_player.yaml

          - type: custom:state-switch
            entity: binary_sensor.spotify_sheri
            states:
              'on': !include /config/lovelace/media_player/spotify_sheri_media_player.yaml

          - type: custom:state-switch
            entity: binary_sensor.youtube
            states:
              'on': !include /config/lovelace/media_player/youtube_media_player.yaml

  - !include /config/lovelace/card/media/media_player/media_player_conditional.yaml
  - !include /config/lovelace/card/media/media_timers.yaml
