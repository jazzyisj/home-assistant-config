###############################################################################
## Fan Controls Card
###############################################################################
type: entities
title: 'Fan Controls'
icon: mdi:fan
show_header_toggle: false
entities:
  - !include /config/lovelace/card/fan/include/fan_schedule.yaml

  - type: conditional
    conditions:
      - entity: timer.fan_schedule_duration
        state_not: idle
    row:
      type: custom:timer-bar-card
      entity: timer.fan_schedule_duration

  - type: conditional
    conditions:
      - entity: timer.fan_schedule_delay
        state_not: idle
    row:
      type: custom:timer-bar-card
      entity: timer.fan_schedule_delay

  - type: custom:fan-percent-button-row
    entity: fan.bedroom_fan
    name: Bedroom
    customTheme: true
    customSetpoints: true
    reverseButtons: false
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnLowColor: 'var(--light-low-color)'
    isOnMedColor: 'var(--light-med-color)'
    isOnHiColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
    lowPercentage: 33
    medPercentage: 66
    hiPercentage: 100

  - type: custom:fan-percent-button-row
    entity: fan.office_fan
    name: Office
    customTheme: true
    customSetpoints: true
    reverseButtons: false
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnLowColor: 'var(--light-low-color)'
    isOnMedColor: 'var(--light-med-color)'
    isOnHiColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
    lowPercentage: 33
    medPercentage: 66
    hiPercentage: 100

  - type: custom:fan-percent-button-row
    entity: fan.bathroom_fan
    name: Bathroom
    customTheme: true
    customSetpoints: true
    reverseButtons: false
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnLowColor: 'var(--light-low-color)'
    isOnMedColor: 'var(--light-med-color)'
    isOnHiColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
    lowPercentage: 33
    medPercentage: 66
    hiPercentage: 100

  - type: custom:fan-percent-button-row
    entity: fan.downstairs_bathroom_fan
    name: Downstairs Bathroom
    customTheme: true
    customSetpoints: true
    reverseButtons: false
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnLowColor: 'var(--light-low-color)'
    isOnMedColor: 'var(--light-med-color)'
    isOnHiColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
    lowPercentage: 33
    medPercentage: 66
    hiPercentage: 100

  - type: custom:fan-percent-button-row
    entity: fan.master_bathroom_fan
    name: Master Bathroom
    customTheme: true
    customSetpoints: true
    reverseButtons: false
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnLowColor: 'var(--light-low-color)'
    isOnMedColor: 'var(--light-med-color)'
    isOnHiColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
    lowPercentage: 33
    medPercentage: 66
    hiPercentage: 100

  - type: custom:binary-control-button-row
    entity: fan.hvac_fan
    name: HVAC Fan
    customTheme: true
    width: 35px
    height: 35px
    isOffColor: 'var(--state-icon-color)'
    isOnColor: 'var(--light-high-color)'
    buttonInactiveColor: 'var(--light-inactive-color)'
footer:
  type: buttons
  entities:
    - entity: script.fans_on
      icon: mdi:fan
      name: Turn Fans On
      tap_action:
        action: call-service
        service: script.fans_on

    - entity: script.fans_off
      icon: mdi:fan-off
      name: Turn Fans Off
      tap_action:
        action: call-service
        service: script.fans_off
  card_mod:
    style: #STYLE doesn't work in footer
      hui-buttons-base $: |
        .ha-scrollbar {
          justify-content: center;
        }
card_mod:
  class: basic
