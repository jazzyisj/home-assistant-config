title: Weather
type: custom:vertical-layout
layout:
  max_cols: 4
icon: mdi:weather-partly-snowy-rainy
path: weather
cards:
  - !include /config/lovelace/include/menu/weather_menu.yaml
  - !include /config/lovelace/include/card/alarm/alarm_alert_card.yaml
  - !include /config/lovelace/include/card/weather/weather_alert_card.yaml

  - type: custom:swipe-card
    card_width: '98%'
    start_card: 1
    reset_after: 120
    parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
    cards:
      - type: custom:stack-in-card
        cards:
          - type: weather-forecast
            entity: weather.climacell_daily

          - type: picture-entity
            entity: camera.windsor_metrogram
            camera_image: camera.windsor_metrogram
            show_name: false
            show_state: false

          - !include /config/lovelace/include/card/weather/weather_extra_sensors.yaml

          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/card/weather/barometer_card.yaml
              - !include /config/lovelace/include/card/weather/wind_compass_card.yaml

          - type: entities
            entities:
              - entity: sensor.pressure_trend #IDEA add to cards
              - entity: sensor.temperature_trend

        card_mod:
          class: basic

      - !include /config/lovelace/include/card/weather/climacell_weather_card.yaml

      - type: conditional
        conditions:
          - entity: input_boolean.display_gdacs_alerts
            state: 'on'
          - entity: binary_sensor.gdacs_alert_active
            state: 'on'
        card: !include /config/lovelace/include/markdown/gdacs_markdown.yaml

  - type: custom:layout-break
  - type: custom:swipe-card
    card_width: '98%'
    start_card: 1
    reset_after: 120
    parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
    cards:
      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/graph/temperature_summary_graph.yaml
          - !include /config/lovelace/include/graph/precipitation_summary_graph.yaml

      - !include /config/lovelace/include/card/weather/climacell_sensors.yaml
      - !include /config/lovelace/include/card/weather/envcan_sensors.yaml

  - type: custom:layout-break
  - !include /config/lovelace/include/graph/atmosphere_summary_graph.yaml

  - type: custom:swipe-card
    card_width: '98%'
    start_card: 1
    reset_after: 120
    parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
    cards:
      - !include /config/lovelace/include/graph/air_quality_summary_graph.yaml
      - !include /config/lovelace/include/card/weather/uv_allergy_asthma.yaml

  - type: custom:layout-break
  - !include /config/lovelace/include/graph/wind_summary_graph.yaml

  - type: custom:swipe-card
    card_width: '98%'
    start_card: 1
    reset_after: 120
    parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
    cards:
      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/card/weather/windy_widget.yaml
          - !include /config/lovelace/include/settings/weather_settings.yaml

      - type: vertical-stack
        cards:
          - type: picture-entity
            name: Windsor Radar
            entity: camera.envcan_radar

          - !include /config/lovelace/include/settings/weather_settings.yaml

      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/history/weather_alert_history.yaml
          - !include /config/lovelace/include/settings/weather_settings.yaml

