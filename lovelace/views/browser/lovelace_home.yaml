title: Home
icon: mdi:home-account
path: home
type: custom:vertical-layout
layout:
  max_cols: 4
cards:
  - type: horizontal-stack
    cards:
      - !include /config/lovelace/include/button/presence/presence_button_jason.yaml
      - !include /config/lovelace/include/button/presence/presence_button_sheri.yaml

      - type: conditional
        conditions:
          - entity: input_boolean.guest_home
            state: 'on'
        card: !include /config/lovelace/include/button/presence/guest_presence_button.yaml

      - !include /config/lovelace/include/button/presence/occupancy_mode_button.yaml
      - !include /config/lovelace/include/button/alarm_button.yaml

  - type: horizontal-stack
    cards:
      - type: conditional
        conditions:
          - entity: binary_sensor.jason_home
            state: 'off'
        card: !include /config/lovelace/include/bar/jason_time_home.yaml

      - type: conditional # just to fill hole in UI
        conditions:
          - entity: binary_sensor.sheri_home
            state: 'off'
          - entity: binary_sensor.jason_home
            state: 'on'
        card: !include /config/lovelace/include/bar/jason_time_home.yaml

      - type: conditional
        conditions:
          - entity: binary_sensor.work_commute_active
            state: 'on'
        card: !include /config/lovelace/include/bar/jason_time_work.yaml

      - type: conditional
        conditions:
          - entity: binary_sensor.sheri_home
            state: 'off'
        card: !include /config/lovelace/include/bar/sheri_time_home.yaml

      - type: conditional # just to fill hole in UI
        conditions:
          - entity: binary_sensor.sheri_home
            state: 'off'
          - entity: binary_sensor.sheri_home
            state: 'on'
        card: !include /config/lovelace/include/bar/sheri_time_home.yaml

      - type: conditional
        conditions:
          - entity: binary_sensor.work_commute_active
            state: 'on'
        card: !include /config/lovelace/include/bar/sheri_time_work.yaml

  - !include /config/lovelace/include/card/alarm/alarm_alert_card.yaml
  - !include /config/lovelace/include/card/general/home_view_buttons.yaml
  - !include /config/lovelace/include/menu/home_menu.yaml

  - type: conditional
    conditions:
      - entity: input_boolean.maddie_mealtime_active
        state: 'on'
    card: !include /config/lovelace/include/picture_glance/maddie_picture_glance.yaml

  - type: conditional
    conditions:
      - entity: input_boolean.dexter_medication_active
        state: 'on'
    card: !include /config/lovelace/include/picture_glance/dexter_picture_glance.yaml

  - type: conditional
    conditions:
      - entity: input_boolean.jason_medication_active
        state: 'on'
    card: !include /config/lovelace/include/picture_glance/jason_medication_picture_glance.yaml

  - type: conditional
    conditions:
      - entity: input_boolean.hot_tub_maintenance_active
        state: 'on'
    card: !include /config/lovelace/include/picture_glance/hot_tub_maintenance_picture_glance.yaml

  - !include /config/lovelace/include/card/schedule/google_timers.yaml
  - !include /config/lovelace/include/card/scene/scene_timers.yaml

  - type: custom:layout-break
  - type: custom:state-switch
    # transition: flip # default none - slide-left, slide-right, swap-left, swap_right, flip
    # transition_time: 750 # default 500 #ISSUE not rendering with transition
    entity: input_boolean.alarm_clock_show_card
    default: 'off'
    states:
      'on': !include /config/lovelace/include/card/alarm_clock/alarm_clock_card.yaml
      'off': !include /config/lovelace/include/card/media/media_player/media_player_home.yaml

  - type: custom:layout-break
  - type: custom:swipe-card
    card_width: '98%'
    start_card: 1
    reset_after: 120
    parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
    cards:
      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/picture_glance/front_door_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/side_door_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/front_drive_picture_glance.yaml

      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/picture_glance/back_house_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/front_yard_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/patio_door_picture_glance.yaml

      - type: vertical-stack
        cards:
          - !include /config/lovelace/include/picture_glance/side_drive_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/back_door_picture_glance.yaml
          - !include /config/lovelace/include/picture_glance/garage_inside_picture_glance.yaml

  - type: custom:layout-break
  - !include /config/lovelace/include/card/weather/weather_alert_card.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {% if states.persistent_notification|list|count > 0 %} notify
      {% elif is_state('binary_sensor.commute_active','on')  %} commute
      {% else %} default
      {% endif %}
    default: default
    states:
      default:
        type: custom:swipe-card
        card_width: '98%'
        start_card: 2 # start with last cards so correct card displays when switching states
        reset_after: 120
        parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
        cards:
          - !include /config/lovelace/include/card/schedule/commute/traffic_card.yaml
          - !include /config/lovelace/include/card/weather/weather_card.yaml
          - !include /config/lovelace/include/card/weather/weather_radar.yaml
          - !include /config/lovelace/include/card/general/home_feed_card.yaml

      commute:
        type: custom:swipe-card
        card_width: '98%'
        start_card: 1 # start with last cards so correct card displays when switching states
        reset_after: 120
        parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
        cards:
          - !include /config/lovelace/include/card/schedule/commute/traffic_card.yaml
          - !include /config/lovelace/include/card/weather/weather_card.yaml
          - !include /config/lovelace/include/card/weather/weather_radar.yaml
          - !include /config/lovelace/include/card/general/home_feed_card.yaml

      notify:
        type: vertical-stack
        cards:
          - type: custom:swipe-card
            card_width: '98%'
            start_card: 4 # start with last cards so correct card displays when switching states
            reset_after: 120
            parameters: !include /config/lovelace/lovelace_swipe_parameters.yaml
            cards:
              - !include /config/lovelace/include/card/schedule/commute/traffic_card.yaml
              - !include /config/lovelace/include/card/weather/weather_radar.yaml
              - !include /config/lovelace/include/card/weather/weather_card.yaml
              - !include /config/lovelace/include/card/general/home_feed_card.yaml
