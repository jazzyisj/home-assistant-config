###############################################################################
## Indoor Temperature Graph
###############################################################################
type: custom:apexcharts-card
config_templates: climate_mini
header:
  title: "Temperature"
yaxis:
  - id: temperature
    show: false
    min: ~15
    max: ~30
series:
  - name: "Temperature"
    entity: sensor.indoor_temperature
    yaxis_id: temperature
    show:
      in_header: raw
      header_color_threshold: true
    color_threshold: !include /config/lovelace/graph/include/temperature_line_color.yaml
    header_actions:
      tap_action:
        action: fire-dom-event
        browser_mod:
          service: browser_mod.popup
          data:
            content: !include /config/lovelace/card/climate/thermostat_card.yaml
            timeout: 60000
      hold_action:
        action: fire-dom-event
        browser_mod:
          service: browser_mod.popup
          data:
            title: "Indoor Temperature"
            content: !include /config/lovelace/graph/climate/indoor_temperature_detail_graph.yaml
            size: wide

  - entity: sensor.indoor_temperature
    yaxis_id: temperature
    type: area
    show:
      in_header: false
    stroke_width: 0
    color_threshold: !include /config/lovelace/graph/include/temperature_area_color.yaml

  - name: "Target"
    entity: sensor.thermostat_target_temperature
    yaxis_id: temperature
    show:
      in_header: false
    group_by:
      func: raw
    curve: stepline
    color: rgb(255, 255, 204)
