#######################################################################################################################
## Precipitation Probability Graph
#######################################################################################################################
type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: "Precipitation Probability"
yaxis:
  - id: percent
    show: true
    opposite: true
    min: 0
    max: 100
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      labels:
        show: true
      title:
        text: Perecent
        rotate: -90

  - id: intensity
    show: true
    min: 0
    max: 1
    apex_config:
      tickAmount: 5
      decimalsInFloat: 3
series:
  - entity: sensor.precipitation_probability
    name: Accuweather
    yaxis_id: percent

  - entity: sensor.windsor_chance_of_precip
    name: Envcan
    fill_raw: 'null'
    yaxis_id: percent

  - entity: sensor.nws_precipitation_probability
    name: NWS
    yaxis_id: percent

  - entity: sensor.dark_sky_precip_probability
    name: Dark Sky
    yaxis_id: percent

  - entity: sensor.dark_sky_precip_intensity
    name: Dark Sky Intensity
    yaxis_id: intensity
    float_precision: 3
    type: area
    stroke_width: 0
    # opacity: 0.7
    # color: rgb(255, 0, 0)
    color_threshold:
      - value: 0
        color: rgb(67, 204, 115)
        opacity: 0.5
      - value: 0.1
        color: rgb(164, 206, 60)
        opacity: 0.5
      - value: 0.2
        color: rgb(249, 242, 4)
        opacity: 0.6
      - value: 0.5
        color: rgb(241, 147, 28)
        opacity: 0.6
      - value: 0.7
        color: rgb(236, 26, 36)
        opacity: 0.7
      - value: 0.8
        color: rgb(164, 2, 76)
        opacity: 0.8
      - value: 1
        color: rgb(137, 26, 31)
        opacity: 0.9
