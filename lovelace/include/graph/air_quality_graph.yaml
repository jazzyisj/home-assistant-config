#######################################################################################################################
## Air Quality Summary Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################
type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: Air Quality
yaxis:
  - id: aqi
    show: true
    min: 0
    max: 200
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      forceNiceScale: true
      title:
        text: Air Quality Index (AQI)
        rotate: -90

  - id: ppb
    show: true
    opposite: true
    min: 0
    max: 100
    apex_config:
      tickAmount: 5
      decimalsInFloat: 3
      title:
        text: Parts/Billion (ppb)
        rotate: -90

  - id: ppm
    show: false
    min: 0
    max: 1
    apex_config:
      tickAmount: 5
      decimalsInFloat: 3
      title:
        text: Parts/Million (ppm)

  - id: m3
    show: false
    min: 0
    max: 50
    apex_config:
      tickAmount: 5
      decimalsInFloat: 3
      title:
        text: 'µg/ft³'
series:
  - name: AQI
    entity: sensor.air_quality_index
    yaxis_id: aqi
    type: area
    stroke_width: 0
    opacity: 0.7
    color: rgb(255, 0, 0)
    color_threshold:
      - value: 0
        color: rgb(67, 204, 115)
        opacity: 0.1
      - value: 20
        color: rgb(164, 206, 60)
        opacity: 0.3
      - value: 50
        color: rgb(249, 242, 4)
        opacity: 0.4
      - value: 100
        color: rgb(241, 147, 28)
        opacity: 0.7
      - value: 150
        color: rgb(236, 26, 36)
        opacity: 0.7
      - value: 200
        color: rgb(164, 2, 76)
        opacity: 0.8
      - value: 300
        color: rgb(137, 26, 31)
        opacity: 0.9

  - name: CO
    entity: sensor.carbon_monoxide
    yaxis_id: ppm
    color: rgb(255, 129, 56)

  - name: NO2
    entity: sensor.nitrogen_dioxide
    yaxis_id: ppb
    color: rgb(99, 255, 56)

  - name: SO2
    entity: sensor.sulphur_dioxide
    yaxis_id: ppb
    color: rgb(255, 252, 56)

  - name: Ozone
    entity: sensor.ozone
    yaxis_id: ppb
    color: rgb(56, 252, 255)

  - name: 10mm
    entity: sensor.particulate_matter_10
    yaxis_id: m3
    color: rgb(46, 60, 255)

  - name: 2.5mm
    entity: sensor.particulate_matter_2_5
    yaxis_id: m3
    color: rgb(222, 56, 255)


