#######################################################################################################################
## Temperature Summary Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################
type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: Temperature
yaxis:
  - id: temperature
    show: true
    min: -20
    max: 40
    apex_config:
      tickAmount: 7
      decimalsInFloat: 0
      forceNiceScale: true
      title:
        text: Temperature
        rotate: -90

  - id: percent
    show: true
    opposite: true
    min: 0
    max: 100
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      labels:
        show: true
      title:
        text: Perecent
        rotate: -90
series:
  - entity: sensor.outdoor_temperature
    name: Temperature
    yaxis_id: temperature
    type: area
    opacity: 0.5
    color: '#FFBF00'
    color_threshold:
      - value: -20
        color: rgb(0, 155, 255)
      - value: -15
        color: rgb(0, 206, 255)
      - value: -10
        color: rgb(51, 255, 255)
      - value: -5
        color: rgb(151, 255, 255)
      - value: 0
        color: rgb(205, 255, 255)
      - value: 5
        color: rgb(255, 255, 151)
      - value: 10
        color: rgb(255, 255, 51)
      - value: 15
        color: rgb(255, 206, 0)
      - value: 20
        color: rgb(255, 151, 0)
      - value: 25
        color: rgb(255, 100, 0)
      - value: 30
        color: rgb(206, 51, 0)
      - value: 35
        color: rgb(155, 0, 0)
      - value: 40
        color: rgb(103, 0, 0)

  - entity: sensor.outdoor_apparent_temperature
    name: RealFeel
    yaxis_id: temperature
    fill_raw: 'null'
    transform: "if (isNaN(x)) return hass.states['sensor.outdoor_temperature'].state; else return x;"
    stroke_width: 2
    opacity: 1
    color: '#FF0000'
    color_threshold:
      - value: -20
        color: rgb(0, 155, 255)
      - value: -15
        color: rgb(0, 206, 255)
      - value: -10
        color: rgb(51, 255, 255)
      - value: -5
        color: rgb(151, 255, 255)
      - value: 0
        color: rgb(205, 255, 255)
      - value: 5
        color: rgb(255, 255, 151)
      - value: 10
        color: rgb(255, 255, 51)
      - value: 15
        color: rgb(255, 206, 0)
      - value: 20
        color: rgb(255, 151, 0)
      - value: 25
        color: rgb(255, 100, 0)
      - value: 30
        color: rgb(206, 51, 0)
      - value: 35
        color: rgb(155, 0, 0)
      - value: 40
        color: rgb(103, 0, 0)

  - name: Avg (24h)
    entity: sensor.outdoor_temperature
    yaxis_id: temperature
    group_by:
      func: avg
      duration: 24h
    opacity: 0.6
    color: rgb(255, 0, 206)

  - name: Dewpoint
    entity: sensor.dew_point
    yaxis_id: temperature
    opacity: 0.6
    color: rgb(0, 206, 51)

  - name: Humidity
    entity: sensor.outdoor_humidity
    yaxis_id: percent
    stroke_width: 3
    opacity: 0.6
    color: rgb(0, 106, 255)