#######################################################################################################################
## Atmosphere Summary Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################
type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: Atmospheric Conditions
yaxis:
  - id: speed
    show: true
    min: 0
    max: 40
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      title:
        text: Wind Speed (km/h)
        rotate: -90

  - id: pressure
    show: true
    opposite: true
    min: 980
    max: 1030
    apex_config:
      tickAmount: 5
      decimalsInFloat: 1
      title:
        text: Barmetric Pressure (hPa)
        rotate: -90

  - id: percent
    show: false
    min: 0
    max: 100
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      title:
        text: Percent
        rotate: -90

  - id: uv
    show: false
    min: 0
    max: 11
    apex_config:
      tickAmount: 5

  - id: visibility
    show: false
    min: 0
    max: 20
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      title:
        text: Visibility (km)
        rotate: -90

all_series_config:
  float_precision: 1
series:
  - name: Wind
    entity: sensor.wind_speed
    yaxis_id: speed
    type: area
    stroke_width: 1
    opacity: 0.5
    color: '#006400'
    color_threshold:
      - value: 0
        color: rgb(0, 51, 255)
        opacity: 0.0
      - value: 5
        color: rgb(0, 255, 255)
        opacity: 0.2
      - value: 10
        color: rgb(0, 255, 0)
        opacity: 0.4
      - value: 15
        color: rgb(255, 255, 0)
        opacity: 0.6
      - value: 20
        color: rgb(255, 151, 0)
        opacity: 0.8
      - value: 25
        color: rgb(255, 0, 0)
        opacity: 1

  - name: Gust
    entity: sensor.wind_gust
    yaxis_id: speed
    type: area
    stroke_width: 0
    opacity: 0.2
    color: '#0BF704'
    color_threshold:
      - value: 0
        color: rgb(0, 51, 255)
        opacity: 0.0
      - value: 5
        color: rgb(0, 255, 255)
        opacity: 0.2
      - value: 10
        color: rgb(0, 255, 0)
        opacity: 0.4
      - value: 15
        color: rgb(255, 255, 0)
        opacity: 0.6
      - value: 20
        color: rgb(255, 151, 0)
        opacity: 0.8
      - value: 25
        color: rgb(255, 0, 0)
        opacity: 1

  - name: Pressure
    entity: sensor.barometric_pressure
    yaxis_id: pressure
    float_precision: 1
    color: '#FFFA00'
    #OPTION color_threshold:
    #   - value: 0.0
    #     color: '#85529D'
    #   - value: 28.0
    #     color: '#AD51A6'
    #   - value: 28.2
    #     color: '#B58AE6'
    #   - value: 28.4
    #     color: '#D388E3'
    #   - value: 28.5
    #     color: '#4A7BE1'
    #   - value: 28.6
    #     color: '#71A4E6'
    #   - value: 28.7
    #     color: '#A2D4F9'
    #   - value: 28.8
    #     color: '#B1E0F4'
    #   - value: 28.9
    #     color: '#BFEDEB'
    #   - value: 29.0
    #     color: '#BCEDDA'
    #   - value: 29.1
    #     color: '#B0F1AD'
    #   - value: 29.2
    #     color: '#BCEAC3'
    #   - value: 29.3
    #     color: '#ADF39B'
    #   - value: 29.4
    #     color: '#A0E78B'
    #   - value: 29.6
    #     color: '#6FAD5A'
    #   - value: 29.8
    #     color: '#5CA530'
    #   - value: 29.9
    #     color: '#ABBF22'
    #   - value: 30.0
    #     color: '#BFC41F'
    #   - value: 30.1
    #     color: '#E9CE1F'
    #   - value: 30.2
    #     color: '#EBD021'
    #   - value: 30.3
    #     color: '#E4B01C'
    #   - value: 30.4
    #     color: '#E59B22'
    #   - value: 30.6
    #     color: '#4D50DB'

  - name: UV
    entity: sensor.uv_index
    yaxis_id: uv
    color: rgb(148, 66, 255)
    #OPTION color_threshold:
    #   - value: 1
    #     color: '#33CC99'
    #   - value: 3
    #     color: '#FFFF66'
    #   - value: 6
    #     color: '#FF9933'
    #   - value: 8
    #     color: '#FFFF66'
    #   - value: 11
    #     color: '#CC0099'

  - name: Clouds
    entity: sensor.cloud_cover
    yaxis_id: percent
    type: area
    color: rgb(128, 128, 128)
    color_threshold:
      - value: 0
        color: rgb(0, 122, 255)
        opacity: 0
      - value: 1.00
        color:  rgb(128, 128, 128)
        opacity: 0.5

  - name: Visibility
    entity: sensor.visibility
    yaxis_id: visibility
    color: rgb(0, 206, 255)
