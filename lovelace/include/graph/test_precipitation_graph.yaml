#######################################################################################################################
## Temperature Summary Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################
type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: Precipitation Probability
yaxis:
  - id: percent
    show: true
    opposite: true
    min: 0
    max: 100
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      labels:
        show: true
      title:
        text: Perecent
        rotate: -90

  - id: intensity
    show: false
    # min: 0
    # max: 50
    apex_config:
      tickAmount: 5
      decimalsInFloat: 3
series:
  - entity: sensor.climacell_precipitation_probability
    name: Climacell
    yaxis_id: percent

  - entity: sensor.precipitation_probability
    name: Accuweather
    yaxis_id: percent

  - entity: sensor.envcan_chance_of_precip
    name: Envcan
    fill_raw: zero
    yaxis_id: percent

  - entity: weather.kdtw_daynight
    attribute: forecast[0].precipitation_probability #TODO doesn't work
    name: NWS
    yaxis_id: percent

  - entity: sensor.dark_sky_precip_probability
    name: Dark Sky
    yaxis_id: percent

  - entity: sensor.dark_sky_precip_intensity
    name: Dark Sky Intensity
    yaxis_id: intensity

  - entity: sensor.climacell_precipitation_intensity
    name: Climacell Intensity
    yaxis_id: intensity