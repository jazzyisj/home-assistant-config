#######################################################################################################################
## Atmosphere Summary Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################

type: custom:apexcharts-card
config_templates: weather_graph
apex_config:
  title:
    text: Wind Conditions
yaxis:
  - id: speed
    show: true
    apex_config:
      tickAmount: 5
      decimalsInFloat: 0
      title:
        text: Wind Speed (mph)
        rotate: -90

  - id: direction
    show: true
    opposite: true
    min: 0
    max: 360
    apex_config:
      tickAmount: 10
      decimalsInFloat: 0
      title:
        text: Bearing
        rotate: -90

all_series_config:
  float_precision: 0
  fill_raw: last
  curve: smooth
  opacity: 1
  stroke_width: 3
series:
  - entity: sensor.wind_speed
    name: Wind Speed
    yaxis_id: speed
    type: area
    color: '#006400'
    stroke_width: 1
    opacity: 0.5
    color_threshold:
    - value: 0
      color: '#FFFFFF'
      opacity: 0.1
    - value: 1
      color: '#07E9E8'
      opacity: 0.2
    - value: 2
      color: '#00A1F2'
      opacity: 0.2
    - value: 3
      color: '#0005EC'
      opacity: 0.3
    - value: 5
      color: '#0BF704'
      opacity: 0.3
    - value: 10
      color: '#06C206'
      opacity: 0.3
    - value: 15
      color: '#009201'
      opacity: 0.4
    - value: 20
      color: '#F9F506'
      opacity: 0.4
    - value: 25
      color: '#F2B600'
      opacity: 0.5
    - value: 30
      color: '#F99708'
      opacity: 0.6
    - value: 35
      color: '#FB010A'
      opacity: 0.6
    - value: 40
      color: '#D60006'
      opacity: 0.7
    - value: 45
      color: '#B70205'
      opacity: 0.8
    - value: 50
      color: '#F801FF'
      opacity: 0.9
    - value: 60
      color: '#9953C3'
      opacity: 0.9
    - value: 70
      color: '#3C0F66'
      opacity: 0.9

  - entity: sensor.wind_gust
    yaxis_id: speed
    name: Wind Gust
    group_by:
      func: max
      duration: 60min
    type: area
    color: '#0BF704'
    stroke_width: 0
    opacity: 0.2
    color_threshold:
    - value: 0
      color: '#0BF704'
      opacity: 0.1
    - value: 1
      color: '#0BF704'
      opacity: 0.2
    - value: 2
      color: '#0BF704'
      opacity: 0.2
    - value: 3
      color: '#0BF704'
      opacity: 0.3
    - value: 5
      color: '#0BF704'
      opacity: 0.3
    - value: 10
      color: '#06C206'
      opacity: 0.3
    - value: 15
      color: '#009201'
      opacity: 0.4
    - value: 20
      color: '#F9F506'
      opacity: 0.4
    - value: 25
      color: '#F2B600'
      opacity: 0.5
    - value: 30
      color: '#F99708'
      opacity: 0.6
    - value: 35
      color: '#FB010A'
      opacity: 0.6
    - value: 40
      color: '#D60006'
      opacity: 0.7
    - value: 45
      color: '#B70205'
      opacity: 0.8
    - value: 50
      color: '#F801FF'
      opacity: 0.9
    - value: 60
      color: '#9953C3'
      opacity: 0.9
    - value: 70
      color: '#3C0F66'
      opacity: 0.9

  # - entity: sensor.climacell_wind_bearing
  #   yaxis_id: direction
  #   type: line
  #   name: Bearing
  #   color: '#00DDFF'
  #   stroke_width: 2
