#######################################################################################################################
## HVAC Runtime Graph
# https://github.com/RomRider/apexcharts-card
# https://apexcharts.com/docs/installation/
#######################################################################################################################

type: custom:apexcharts-card
config_templates: default
graph_span: 7d
header:
  show: true
  title: HVAC Runtime
apex_config:
  grid:
    show: true
  legend:
    position: bottom
    itemMargin:
      horizontal: 10
      vertical: 10
yaxis:
  - id: temp
    min: 50
    max: 95
    apex_config:
      decimalsInFloat: 0
      tickAmount: 4
      labels:
        show: true
      title:
        text: Temperature
        rotate: -90

  - id: hvac # identification name of the second y-axis
    opposite: true # make it show on the right side
    min: 0
    max: 12
    apex_config:
      decimalsInFloat: 2
      tickAmount: 4
      labels:
        show: true
      title:
        text: HVAC Hours
        rotate: -90

all_series_config:
  stroke_width: 3
  fill_raw: last
  group_by:
    func: max
    duration: 1d
series:
  - entity: sensor.upstairs_thermostat_temperature
    yaxis_id: temp
    type: line
    name: Temp

  - entity: sensor.upstairs_thermostat_target
    yaxis_id: temp
    type: line
    name: Target

  - entity: sensor.climacell_temperature
    yaxis_id: temp
    type: line
    name: DS Temp

  - entity: sensor.daily_heat_runtime
    yaxis_id: hvac
    type: column
    name: Heat

  - entity: sensor.daily_ac_runtime
    yaxis_id: hvac
    type: column
    name: Cool
    color: "#0000FF"
    show:
      datalabels: true