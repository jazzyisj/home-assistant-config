#######################################################################
## Garage Speaker
#######################################################################
type: custom:state-switch
entity: template
template: >
  {% if states('sensor.garage_speaker') == 'off' %} off
  {% elif states('sensor.garage_speaker') in ['on','alarm_clock'] %} on
  {% else %}{{ 'group' if 'group' in states('sensor.garage_speaker') else 'single' }}
  {% endif %}
default: 'off'
states:
  'off':
    type: custom:mini-media-player
    entity: media_player.garage_speaker
    name: "Garage Speaker"
    icon: mdi:tablet
    hide: !include /config/lovelace/include/media_player/include/mini_media_player_off.yaml
    toggle_power: true
    group: true
    tap_action:
      action: none
  'on':
    type: custom:mini-media-player
    entity: media_player.garage_speaker
    name: "Garage Speaker"
    icon: mdi:tablet
    hide: !include /config/lovelace/include/media_player/include/mini_media_player_on.yaml
    toggle_power: true
    group: true
    artwork: material
    source: full
    info: scroll
    tap_action:
      action: none
  single:
    type: custom:mini-media-player
    entity: media_player.garage_speaker
    name: "Garage Speaker"
    icon: mdi:tablet
    toggle_power: true
    group: true
    hide: !include /config/lovelace/include/media_player/include/mini_media_player_on.yaml
    artwork: full-cover
    source: full
    info: scroll
    idle_view: when_idle
    tap_action:
      action: none
  group:
    type: custom:mini-media-player
    entity: media_player.garage_speaker
    name: "Garage Speaker"
    icon: mdi:tablet
    hide: !include /config/lovelace/include/media_player/include/mini_media_player_group.yaml
    toggle_power: true
    group: true
    artwork: material
    source: full
    info: scroll
    idle_view: when_idle
    tap_action:
      action: none
