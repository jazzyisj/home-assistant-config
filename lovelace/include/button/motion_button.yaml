type: custom:button-card
template: menu_button
entity: binary_sensor.garage_motion
icon: mdi:motion-sensor
styles:
  icon:
    - color: >
        [[[
          if (states['binary_sensor.motion_on'].state == 'on')
            return 'var(--state-icon-active-color';
          else
            return 'var(--state-icon-color)';
        ]]]
tap_action:
  action: call-service
  service: browser_mod.popup
  service_data:
    deviceID: this
    title: Motion Sensors
    large: false
    card:
      type: markdown
      content: >
        {% set motion = states.binary_sensor|selectattr('attributes.device_class','eq','motion')|rejectattr('state','eq','off')|map(attribute='name')|list %}
        The following motion sensors are on:{{ '\n'  }}
        {%- if motion|count > 0 -%}
        - {{ motion|join('\n- ') }}
        {%- else -%}
            No open doors.
        {%- endif -%}
double_tap_action:
  action: none
hold_action:
  action: none