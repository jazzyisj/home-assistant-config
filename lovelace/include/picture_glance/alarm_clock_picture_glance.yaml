###################################################################################################
## Alarm Clock Card
###################################################################################################
type: picture-glance
entity: sensor.alarm_clock_next_alarm
state_image:
  'Off': /local/images/glance/alarm_clock_off.png
  'Pending': /local/images/glance/alarm_clock_off.png
  'Playing': /local/images/glance/alarm_clock_playing.png
  'Snoozed': /local/images/glance/alarm_clock_snoozed.png
  'Failed': /local/images/glance/alarm_clock_failed.png
  'unknown': /local/images/glance/alarm_clock_failed.png
tap_action:
  action: fire-dom-event
  browser_mod:
    command: popup
    deviceID: this
    title: Auto Alarm Clock
    show_header: false
    card: !include /config/lovelace/include/card/alarm_clock/alarm_clock_auto.yaml
double_tap_action:
  action: call-service
  service: script.alarm_clock_stop
  service_data:
    reset_volume: true
hold_action:
  action: call-service
  service: switch.toggle
  service_data:
    entity_id: switch.alarm_clock_snooze
entities:
  - type: attribute
    entity: sensor.alarm_clock_auto
    attribute: 12hour
    tap_action:
      action: fire-dom-event
      browser_mod:
        command: popup
        deviceID: this
        title: Auto Alarm Clock
        card: !include /config/lovelace/include/card/alarm_clock/alarm_clock_auto.yaml
    double_tap_action:
      action: call-service
      service: input_boolean.toggle
      service_data:
        entity_id: input_boolean.alarm_clock_auto_workdays
    hold_action:
      action: call-service
      service: switch.turn_off
      service_data:
        entity_id: switch.alarm_clock_auto

  - type: attribute
    entity: sensor.alarm_clock_manual
    attribute: 12hour
    tap_action:
      action: fire-dom-event
      browser_mod:
        command: popup
        deviceID: this
        title: Manual Alarm Clock
        card: !include /config/lovelace/include/card/alarm_clock/alarm_clock_manual.yaml
    double_tap_action:
      action: call-service
      service: input_boolean.toggle
      service_data:
        entity_id: input_boolean.alarm_clock_manual
    hold_action:
      action: call-service
      service: input_boolean.turn_off
      service_data:
        entity_id: switch.alarm_clock_manual

  - type: attribute
    entity: sensor.alarm_clock_nap
    attribute: 12hour
    tap_action:
      action: fire-dom-event
      browser_mod:
        command: popup
        deviceID: this
        title: Nap Alarm Clock
        card: !include /config/lovelace/include/card/alarm_clock/alarm_clock_nap.yaml
    double_tap_action:
      action: call-service
      service: input_boolean.toggle
      service_data:
        entity_id: input_boolean.alarm_clock_nap
    hold_action:
      action: call-service
      service: switch.turn_off
      service_data:
        entity_id: switch.alarm_clock_nap

  - entity: switch.alarm_clock_snooze


