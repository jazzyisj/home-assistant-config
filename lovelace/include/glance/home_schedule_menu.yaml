type: entity-filter
card:
  type: glance
  show_header_toggle: false
  show_name: true
  show_state: true
  state_color: true
  columns: 4
  style: |
    ha-card {
      font-size: 12px;
    }
    .card-header {
      font-size: 18px;
      font-variant: small-caps;
    }
state_filter:
  - operator: regex
    value: ".*"
entities:
  - !include /config/lovelace/include/entity/waketime_today.yaml
  - !include /config/lovelace/include/entity/bedtime_today.yaml
  - !include /config/lovelace/include/entity/waketime_tomorrow.yaml

  - entity: sensor.alarm_clock_next_alarm_display
    state_filter:
      - operator: '!='
        value: 'Active'
    tap_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        deviceID: this
        title: Waketime Settings
        card: !include /config/lovelace/include/entities/waketime_settings.yaml
    double_tap_action:
      action: none
    hold_action:
      action: none
    style: |
      :host {
        --paper-item-icon-color:
          {% if is_state('sensor.alarm_clock_next_alarm','Off') %} var(--state-icon-color)
          {% else %} var(--state-icon-active-color)
          {% endif %}
          ;
      }

  - entity: sensor.alarm_clock_auto_display
    state_filter:
      - operator: '=='
        value: 'Active'
      - operator: '=='
        value: 'Snooze'
    tap_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        deviceID: this
        title: Ceiling Fan Settings
        large: false
        card: !include /config/lovelace/include/entities/alarm_clock_settings_auto.yaml
    double_tap_action:
      action: navigate
      navigation_path: /lovelace/schedule
    hold_action:
      action: call-service
      service: input_boolean.turn_off
      service_data:
        entity_id: input_boolean.alarm_clock_auto_workdays
    style: |
      :host {
        --paper-item-icon-color:
          {% if is_state('sensor.alarm_clock_auto','Off') %} var(--disabled-text-color)
          {% elif is_state('sensor.alarm_clock_auto','Snooze') %} var(--alarm-clock-snooze-color)
          {% elif is_state('sensor.alarm_clock_auto','Active') %} var(--alarm-clock-active-color)
          {% else %} var(--paper-item-icon-active-color)
          {% endif %}
          ;
      }

  - entity: sensor.alarm_clock_manual_display
    state_filter:
      - operator: '=='
        value: 'Active'
      - operator: '=='
        value: 'Snooze'
    tap_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        deviceID: this
        title: Ceiling Fan Settings
        large: false
        card: !include /config/lovelace/include/entities/alarm_clock_settings_manual.yaml
    double_tap_action:
      action: navigate
      navigation_path: /lovelace/schedule
    hold_action:
      action: call-service
      service: input_boolean.turn_off
      service_data:
        entity_id: input_boolean.alarm_clock_manual
    style: |
      :host {
        --paper-item-icon-color:
          {% if is_state('sensor.alarm_clock_manual','Off') %} var(--disabled-text-color)
          {% elif is_state('sensor.alarm_clock_manual','Snooze') %} var(--alarm-clock-snooze-color)
          {% elif is_state('sensor.alarm_clock_manual','Active') %} var(--alarm-clock-active-color)
          {% else %} var(--paper-item-icon-active-color)
          {% endif %}
          ;
      }

  - entity: sensor.alarm_clock_nap_display
    state_filter:
      - operator: '=='
        value: 'Active'
      - operator: '=='
        value: 'Snooze'
    tap_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        deviceID: this
        title: Ceiling Fan Settings
        large: false
        card: !include /config/lovelace/include/entities/alarm_clock_settings_nap.yaml
    double_tap_action:
      action: navigate
      navigation_path: /lovelace/schedule
    hold_action:
      action: call-service
      service: input_boolean.turn_off
      service_data:
        entity_id: input_boolean.alarm_clock_nap
    style: |
      :host {
        --paper-item-icon-color:
          {% if is_state('sensor.alarm_clock_nap','Off') %} var(--disabled-text-color)
          {% elif is_state('sensor.alarm_clock_nap','Snooze') %} var(--alarm-clock-snooze-color)
          {% elif is_state('sensor.alarm_clock_nap','Active') %} var(--alarm-clock-active-color)
          {% else %} var(--paper-item-icon-active-color)
          {% endif %}
          ;
      }