type: conditional
conditions:
  - entity: binary_sensor.alarm_connected
    state: 'on'
  - entity: input_boolean.alarm_automation
    state: 'on'
card:
  type: alarm-panel
  name: Alarm Control Panel
  entity: alarm_control_panel.house
  style: |
    :host {
      --label-badge-red:
          {% if is_state('alarm_control_panel.house','armed_home') %} var(--alarm-armed-home-color)
          {% elif is_state('alarm_control_panel.house','armed_night') %} var(--alarm-armed-night-color)
          {% elif is_state('alarm_control_panel.house','armed_away') %} var(--alarm-armed-away-color)
          {% else %} var(--disabled-text-color)
          {% endif %}
        ;
      --label-badge-yellow: var(--alarm-pending-color);
      --label-badge-green: var(--alarm-disarmed-color);
    }
    .card-header {
      font-size: 22px;
      font-variant: small-caps;
    }
  states:
    - arm_home
    - arm_night
    - arm_away