#######################################################################################################################
## Thermostat Card
#######################################################################################################################
type: custom:vertical-stack-in-card
cards:
  - type: thermostat
    entity: climate.upstairs_thermostat
    style: |
      ha-card {
        background:
          {% if is_state('sensor.upstairs_thermostat_hvac_state','heat') %} #DE6000;
          {% elif is_state('sensor.upstairs_thermostat_hvac_state','cool') %} #1602C9;
          {% endif %}
        ;
      }

  - type: glance
    title: 'Thermostat'
    show_state: false
    show_name: false
    state_color: true
    show_empty: true
    columns: 6
    style: |
      ha-card {
        font-size: 12px;
      }
      .card-header {
        font-size: 24px;
        font-variant: small-caps;
      }
    entities:
      - entity: automation.climate_occupancy_mode_control
        style: |
          :host {
            --paper-item-icon-color: var(--entity-warning-color);
          }
        tap_action:
          action: call-service
          service: browser_mod.popup
          service_data:
            deviceID: this
            title: Climate Settings
            large: false
            hide_header: true
            card: !include /config/lovelace/include/entities/climate_settings.yaml
        double_tap_action:
          action: none
        hold_action:
          action: toggle

      - entity: binary_sensor.upstairs_thermostat_leaf
        style: |
          :host {
            --paper-item-icon-active-color: green;
          }

      - entity: binary_sensor.home_away
      - entity: binary_sensor.upstairs_thermostat_locked

      - entity: binary_sensor.upstairs_thermostat_fan
        hold_action:
          action: call-service
          service: fan.toggle
          service_data:
            entity_id: fan.hvac_fan

      - !include /config/lovelace/include/entity/climate_fan_schedule.yaml

  - type: entities
    show_header_toggle: false
    state_color: true
    entities:
      - entity: binary_sensor.humidity_level_in_range
        name: Humidity Confort Zone

      - entity: sensor.indoor_temperature_stats
        name: Average Indoor Temp