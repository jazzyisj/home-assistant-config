type: custom:stack-in-card
cards:
  - type: weather-forecast
    entity: weather.climacell_daily
    card_mod:
      class: sub_card
    style: | #STYLE
      :host {
        padding: 5px;
      }

  - type: picture-entity
    entity: camera.windsor_metrogram
    camera_image: camera.windsor_metrogram
    show_name: false
    show_state: false
    card_mod:
      style: | #STYLE how can we center this?
        ha-card {
          width: 98%;
          justify-content: center !important;
        }

  - !include /config/lovelace/include/card/weather/weather_extra_sensors.yaml

  - type: custom:multiline-entity-card
    name: Forecast
    entity: sensor.envcan_forecast
    # attribute:
    show_icon: false
    show_name: false
    card_mod:
      style: | #STYLE font size
        span.value{
          font-size: 14px;
          font-weight: normal;
        }

  - type: horizontal-stack
    cards:
      - !include /config/lovelace/include/bar/rain_today_bar.yaml
      - !include /config/lovelace/include/card/weather/barometer_card.yaml
      - !include /config/lovelace/include/card/weather/wind_compass_card.yaml

  - type: entities
    entities:
      - entity: binary_sensor.outdoor_temperature_alert #IDEA move to temp in weather card
        card_mod:
          style: |
            :host {
              --paper-item-icon-color:
                {% if is_state_attr('binary_sensor.outdoor_temperature_alert','type','Heat') %} var(--entity-heating-color)
                {% elif is_state_attr('binary_sensor.outdoor_temperature_alert','type','Cold') %} var(--entity-cooling-color)
                {% else %} var(--entity-ok-color)
                {% endif %}
              ;
            }
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            deviceID: this
            large: true
            hide_header: true
            title: Air Quality Summary Graph
            card: !include /config/lovelace/include/card/weather/windy_temperature_widget.yaml

      - entity: sensor.temperature_trend #IDEA move to temp in weather card
        card_mod:
          style: |
            :host {
              --paper-item-icon-color:
                {% if is_state('binary_sensor.temperature_rising','on') %} var(--entity-heating-color)
                {% elif is_state('binary_sensor.temperature_falling','on') %} var(--entity-cooling-color)
                {% else %} var(--entity-ok-color)
                {% endif %}
              ;
            }
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            deviceID: this
            large: true
            hide_header: true
            title: Air Quality Summary Graph
            card: !include /config/lovelace/include/card/weather/windy_temperature_widget.yaml

      - entity: sensor.pressure_trend #IDEA add to barometer card
        card_mod:
          style: |
            :host {
              --paper-item-icon-color:
                {% if is_state('binary_sensor.pressure_rising','on') %} var(--entity-heating-color)
                {% elif is_state('binary_sensor.pressure_falling','on') %} var(--entity-cooling-color)
                {% else %} var(--entity-ok-color)
                {% endif %}
              ;
            }

      - entity: sensor.outdoor_temperature_statistics
      - entity: sensor.barometric_pressure_statistics
card_mod:
  class: basic
  style: |
    ha-card {
      justify-content: center !important;
    }

