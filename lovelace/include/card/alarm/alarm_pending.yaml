type: entities
entities:
  - entity: timer.alarm_pending #BUG not button/template row entity, timer state does not update in UI
    tap_action:
      action: navigate
      navigation_path: /lovelace/alarm
    card_mod:
      style: |
        @keyframes blink {
          50% {
            --paper-item-icon-color: white;
          }
        }
        :host {
          --paper-item-icon-color: var(--entity-critical-color);
          animation: blink 1s linear infinite;
        }

  - type: custom:template-entity-row
    name: "{{ states('input_text.current_alarm') }}"
    icon: >
      {% set dclass = state_attr(state_attr('alarm_control_panel.master','changed_by'),'device_class') %}
      {% if dclass == 'motion' %} mdi:motion-sensor
      {% elif dclass == 'door' %} mdi:door-open
      {% elif dclass == 'window' %} mdi:window-open-variant
      {% else %} mdi:alert
      {% endif %}
    card_mod:
      style: |
        :host {
          --paper-item-icon-color: black;
          animation: blink 1s linear infinite;
        }
card_mod:
  class: alarm_timer