title: Presence
icon: mdi:human-male-female
path: presence
panel: true
cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - !include /config/lovelace/include/menu/presence_menu.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/jason_presence_button.yaml
          - !include /config/lovelace/include/button/sheri_presence_button.yaml

          - type: conditional
            conditions:
              - entity: input_boolean.guest_home
                state: 'on'
            card: !include /config/lovelace/include/button/guest_presence_button.yaml

      - !include /config/lovelace/include/card/global_alerts.yaml
      - !include /config/lovelace/include/card/occupancy_buttons_card.yaml
      - !include /config/lovelace/include/entities/presence_summary.yaml

      - break
      - !include /config/lovelace/include/entities/presence_entities_jason.yaml

      - type: custom:swipe-card
        card_width: '98%'
        start_card: 1
        reset_after: 120
        parameters:
          nested: false
          followFinger: true
          threshold: 10
          autoHeight: true
          roundLengths: true
          speed: 300
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          spaceBetween: 8
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows : true
          pagination:
            type: bullets
            hideOnClick: false
            clickable: true
        cards:
          - type: picture-entity
            entity: camera.jason_location
            show_state: false
            show_name: false
            tap_action:
              action: more-info
            double_tap_action:
              action: call-service
              service: script.update_device_location
              service_data:
                device: jphone
            hold_action:
              action: none

          - !include /config/lovelace/include/history/presence_history_jason.yaml

      - break
      - !include /config/lovelace/include/entities/presence_entities_sheri.yaml

      - type: custom:swipe-card
        card_width: '98%'
        start_card: 1
        reset_after: 120
        parameters:
          nested: false
          followFinger: true
          threshold: 10
          autoHeight: true
          roundLengths: true
          speed: 300
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          spaceBetween: 8
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows : true
          pagination:
            type: bullets
            hideOnClick: false
            clickable: true
        cards:
          - type: picture-entity
            entity: camera.sheri_location
            show_state: false
            show_name: false
            tap_action:
              action: more-info
            double_tap_action:
              action: call-service
              service: script.update_device_location
              service_data:
                device: sphone
            hold_action:
              action: none

          - !include /config/lovelace/include/history/presence_history_sheri.yaml

      - break

      - type: map
        aspect_ratio: 1
        default_zoom: 14
        entities:
          - entity: device_tracker.jason_tracker
          - entity: device_tracker.sheri_tracker
          - entity: zone.home
          - entity: zone.work
          - entity: zone.moms

      - !include /config/lovelace/include/history/presence_history.yaml
      - !include /config/lovelace/include/settings/presence_settings.yaml
