title: Home
icon: mdi:home-account
path: home
panel: true
cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/jason_presence_button.yaml
          - !include /config/lovelace/include/button/sheri_presence_button.yaml

          - type: conditional
            conditions:
              - entity: input_boolean.guest_home
                state: 'on'
            card: !include /config/lovelace/include/button/guest_presence_button.yaml

      - !include /config/lovelace/include/card/global_alerts.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/occupancy_mode_button.yaml
          - !include /config/lovelace/include/button/alarm_button.yaml
          - !include /config/lovelace/include/button/lock_button.yaml
          - !include /config/lovelace/include/button/door_button.yaml
          - !include /config/lovelace/include/button/window_button.yaml
          - !include /config/lovelace/include/button/motion_button.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/garage_door_button.yaml
          - !include /config/lovelace/include/button/ceiling_fan_button.yaml
          - !include /config/lovelace/include/button/light_button.yaml
          - !include /config/lovelace/include/button/quiet_mute_button.yaml
          - !include /config/lovelace/include/button/announcement_button.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/thermostat_button.yaml
          - !include /config/lovelace/include/button/work_schedule_button.yaml
          - !include /config/lovelace/include/button/spotify_button.yaml
          - !include /config/lovelace/include/button/radio_button.yaml
          - !include /config/lovelace/include/button/alarm_clock_button.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/button/wake_up_button.yaml
          - !include /config/lovelace/include/button/scene_evening_button.yaml
          - !include /config/lovelace/include/button/scene_company_button.yaml
          - !include /config/lovelace/include/button/scene_movie_button.yaml
          - !include /config/lovelace/include/button/bedtime_button.yaml

      - !include /config/lovelace/include/menu/home_menu.yaml

      - break
      - type: custom:swipe-card
        card_width: '98%'
        start_card: 1
        reset_after: 120
        parameters:
          followFinger: true
          threshold: 10
          autoHeight: true
          roundLengths: true
          speed: 300
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          spaceBetween: 8
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows : true
          pagination:
            type: bullets
        cards:
          - type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/front_door_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/side_door_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/front_drive_picture_glance.yaml

          - type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/back_house_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/front_yard_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/patio_door_picture_glance.yaml

          - type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/side_drive_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/back_door_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/garage_inside_picture_glance.yaml

      - break
      - type: conditional
        conditions:
          - entity: binary_sensor.alarm_clock_active
            state: 'on'
        card: !include /config/lovelace/include/card/alarm_clock_card.yaml

      - type: conditional
        conditions:
          - entity: input_boolean.maddie_mealtime_active
            state: 'on'
        card: !include /config/lovelace/include/picture_glance/maddie_picture_glance.yaml

      - type: conditional
        conditions:
          - entity: input_boolean.dexter_medication_active
            state: 'on'
        card: !include /config/lovelace/include/picture_glance/dexter_picture_glance.yaml

      - type: custom:swipe-card #SWIPE #TEST
        start_card: 2
        reset_after: 60
        parameters:
          followFinger: true
          threshold: 10
          autoHeight: true
          roundLengths: true
          speed: 300
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          spaceBetween: 8
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows : true
          pagination:
            type: bullets
            hideOnClick: false
            clickable: true
        cards:
          - type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/radio_picture_glance_card.yaml
              - !include /config/lovelace/include/entities/media_player_conditional_entities_radio.yaml
          - !include /config/lovelace/include/entities/radio_player.yaml

      - type: custom:swipe-card #SWIPE
        start_card: 3
        reset_after: 60
        parameters:
          followFinger: true
          threshold: 10
          autoHeight: true
          roundLengths: true
          speed: 300
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          spaceBetween: 8
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows : true
          pagination:
            type: bullets
            hideOnClick: false
            clickable: true
        cards:
          - !include /config/lovelace/include/entities/spotify_player.yaml
          - !include /config/lovelace/include/entities/media_player_conditional_entities_spotify.yaml
          - !include /config/lovelace/include/card/spotcast_card.yaml

      # - type: custom:state-switch
      #   entity: template
      #   template: >
      #     {% if is_state('input_boolean.spotify_on','on') and is_state('input_boolean.radio_on','on') %} both
      #     {% elif is_state('input_boolean.spotify_on','on') and is_state('input_boolean.radio_on','off') %} spotify
      #     {% elif is_state('input_boolean.spotify_on','off') and is_state('input_boolean.radio_on','on') %} radio
      #     {% else %} default
      #     {% endif %}
      #   default: default
      #   states:
      #     default:
      #       type: vertical-stack
      #       cards:
      #         - type: custom:swipe-card #SWIPE
      #           cards:
      #             - !include /config/lovelace/include/picture_glance/radio_picture_glance_card.yaml
      #             - !include /config/lovelace/include/entities/radio_player.yaml

      #         # - type: custom:swipe-card
      #         #   cards:
      #             #- !include /config/lovelace/include/card/spotcast_card.yaml
      #         - type: entities
      #           title: Spotify Player
      #           show_header_toggle: false
      #           entities:
      #             - entity: input_select.spotify_playlist
      #             - entity: input_select.spotify_media_player
      #             - entity: input_number.spotify_volume
      #             - entity: input_boolean.spotify_shuffle
      #             - entity: input_boolean.spotify_random
      #             - entity: input_boolean.spotify_repeat
      #             - entity: input_boolean.volume_override

      #         #- !include /config/lovelace/include/entities/spotify_player.yaml

      #     radio:
      #       type: custom:swipe-card #SWIPE
      #       start_card: 2
      #       reset_after: 60
      #       parameters:
      #         followFinger: true
      #         threshold: 10
      #         autoHeight: true
      #         roundLengths: true
      #         speed: 300
      #         effect: coverflow
      #         grabCursor: true
      #         centeredSlides: true
      #         slidesPerView: auto
      #         spaceBetween: 8
      #         coverflowEffect:
      #           rotate: 50
      #           stretch: 0
      #           depth: 100
      #           modifier: 1
      #           slideShadows : true
      #         pagination:
      #           type: bullets
      #           hideOnClick: false
      #           clickable: true
      #       cards:
      #         - type: vertical-stack
      #           cards:
      #             - !include /config/lovelace/include/picture_glance/radio_picture_glance_card.yaml
      #             - !include /config/lovelace/include/entities/media_player_conditional_entities_radio.yaml
      #         - !include /config/lovelace/include/entities/radio_player.yaml

      #     spotify:
      #       type: custom:swipe-card #SWIPE
      #       start_card: 2
      #       reset_after: 60
      #       parameters:
      #         followFinger: true
      #         threshold: 10
      #         autoHeight: true
      #         roundLengths: true
      #         speed: 300
      #         effect: coverflow
      #         grabCursor: true
      #         centeredSlides: true
      #         slidesPerView: auto
      #         spaceBetween: 8
      #         coverflowEffect:
      #           rotate: 50
      #           stretch: 0
      #           depth: 100
      #           modifier: 1
      #           slideShadows : true
      #         pagination:
      #           type: bullets
      #           hideOnClick: false
      #           clickable: true
      #       cards:
      #         # - type: vertical-stack
      #         #   cards:
      #         - !include /config/lovelace/include/entities/spotify_player.yaml
      #         - !include /config/lovelace/include/entities/media_player_conditional_entities_spotify.yaml

      #         #TEST - !include /config/lovelace/include/card/spotcast_card.yaml

      #     both:
      #       type: vertical-stack
      #       cards:
      #         - type: custom:swipe-card #SWIPE
      #           start_card: 2
      #           reset_after: 60
      #           parameters:
      #             followFinger: true
      #             threshold: 10
      #             autoHeight: true
      #             roundLengths: true
      #             speed: 300
      #             effect: coverflow
      #             grabCursor: true
      #             centeredSlides: true
      #             slidesPerView: auto
      #             spaceBetween: 8
      #             coverflowEffect:
      #               rotate: 50
      #               stretch: 0
      #               depth: 100
      #               modifier: 1
      #               slideShadows : true
      #             pagination:
      #               type: bullets
      #               hideOnClick: false
      #               clickable: true
      #           cards:
      #             - !include /config/lovelace/include/entities/radio_player.yaml
      #             - type: vertical-stack
      #               cards:
      #                 - !include /config/lovelace/include/picture_glance/radio_picture_glance_card.yaml
      #                 - !include /config/lovelace/include/entities/media_player_conditional_entities_radio.yaml

      #         - type: custom:swipe-card #SWIPE
      #           start_card: 2
      #           reset_after: 60
      #           parameters:
      #             followFinger: true
      #             threshold: 10
      #             autoHeight: true
      #             roundLengths: true
      #             speed: 300
      #             effect: coverflow
      #             grabCursor: true
      #             centeredSlides: true
      #             slidesPerView: auto
      #             spaceBetween: 8
      #             coverflowEffect:
      #               rotate: 50
      #               stretch: 0
      #               depth: 100
      #               modifier: 1
      #               slideShadows : true
      #             pagination:
      #               type: bullets
      #               hideOnClick: false
      #               clickable: true
      #           cards:
      #             - !include /config/lovelace/include/entities/spotify_player.yaml
      #             - !include /config/lovelace/include/entities/media_player_conditional_entities_spotify.yaml

      #             #TEST - !include /config/lovelace/include/card/spotcast_card.yaml

      - !include /config/lovelace/include/entities/media_timers.yaml
      - !include /config/lovelace/include/entities/media_player_conditional.yaml

      - break
      - type: custom:state-switch
        entity: template
        template: >
          {% if (states('sensor.current_noaa_alert_severity') in ['extreme','severe']
                  or states('sensor.current_dark_sky_alert_severity') == 'warning')
                    and is_state('input_boolean.display_weather_alerts','on') %} weather
          {% elif states.persistent_notification|list|count > 0 %} notify
          {% elif is_state('binary_sensor.commute_active','on') %} commute
          {% else %} default
          {% endif %}
        default: default
        states:
          default:
            type: custom:swipe-card #SWIPE
            start_card: 2 #NOTE start with last cards so correct card displays when all notification dismissed etc.
            reset_after: 10
            parameters:
              followFinger: true
              threshold: 10
              autoHeight: true
              roundLengths: true
              speed: 300
              effect: coverflow
              grabCursor: true
              centeredSlides: true
              slidesPerView: auto
              spaceBetween: 8
              coverflowEffect:
                rotate: 50
                stretch: 0
                depth: 100
                modifier: 1
                slideShadows : true
              pagination:
                type: bullets
                hideOnClick: false
                clickable: true
            cards:
              - !include /config/lovelace/include/card/traffic_card.yaml
              - !include /config/lovelace/include/card/weather_card.yaml

          commute:
            type: custom:swipe-card #SWIPE
            start_card: 2
            reset_after: 10
            parameters:
              followFinger: true
              threshold: 10
              autoHeight: true
              roundLengths: true
              speed: 300
              effect: coverflow
              grabCursor: true
              centeredSlides: true
              slidesPerView: auto
              spaceBetween: 8
              coverflowEffect:
                rotate: 50
                stretch: 0
                depth: 100
                modifier: 1
                slideShadows : true
              pagination:
                type: bullets
            cards:
              - !include /config/lovelace/include/card/weather_card.yaml
              - !include /config/lovelace/include/card/traffic_card.yaml

          weather:
            type: custom:swipe-card #SWIPE
            start_card: 4
            reset_after: 10
            parameters:
              followFinger: true
              threshold: 10
              autoHeight: true
              roundLengths: true
              speed: 300
              effect: coverflow
              grabCursor: true
              centeredSlides: true
              slidesPerView: auto
              spaceBetween: 8
              coverflowEffect:
                rotate: 50
                stretch: 0
                depth: 100
                modifier: 1
                slideShadows : true
              pagination:
                type: bullets
            cards:
              - !include /config/lovelace/include/card/home_feed_card.yaml
              - !include /config/lovelace/include/card/weather_card.yaml
              - !include /config/lovelace/include/card/traffic_card.yaml
              - type: vertical-stack
                cards:
                  - !include /config/lovelace/include/markdown/noaa_alert_markdown.yaml
                  - !include /config/lovelace/include/markdown/dark_sky_alert_markdown.yaml

          notify:
            type: custom:swipe-card #SWIPE - swipe not reloading to default card with state switch
            start_card: 3
            reset_after: 10
            parameters:
              followFinger: true
              threshold: 10
              autoHeight: true
              roundLengths: true
              speed: 300
              effect: coverflow
              grabCursor: true
              centeredSlides: true
              slidesPerView: auto
              spaceBetween: 8
              coverflowEffect:
                rotate: 50
                stretch: 0
                depth: 100
                modifier: 1
                slideShadows : true
              pagination:
                type: bullets
            cards:
              - !include /config/lovelace/include/card/traffic_card.yaml
              - !include /config/lovelace/include/card/weather_card.yaml
              - !include /config/lovelace/include/card/home_feed_card.yaml



