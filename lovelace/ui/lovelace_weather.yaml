title: Weather
icon: mdi:weather-partly-snowy-rainy
path: weather
panel: true
cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - !include /config/lovelace/include/menu/weather_menu.yaml
      - !include /config/lovelace/include/card/global_alerts.yaml
      - !include /config/lovelace/include/card/weather_card_stack.yaml
      - !include /config/lovelace/include/entities/gdacs_conditional.yaml

      - break
      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/graph/outdoor_temperature_graph_mini.yaml
          - !include /config/lovelace/include/graph/outdoor_humidity_graph_mini.yaml

      - type: horizontal-stack
        cards:

          - !include /config/lovelace/include/graph/wind_speed_graph_mini.yaml
          - !include /config/lovelace/include/graph/pressure_graph_mini.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/graph/cloud_coverage_mini.yaml
          - !include /config/lovelace/include/graph/precipitation_intensity_graph_mini.yaml

      - !include /config/lovelace/include/history/precipitation_history.yaml

      - break
      - !include /config/lovelace/include/history/weather_history.yaml

      - type: custom:swipe-card
        cards:
          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/graph/air_quality_graph_mini.yaml
              - !include /config/lovelace/include/graph/uv_index_graph_mini.yaml
          - !include /config/lovelace/include/entities/uv_allergy_asthma.yaml

      - !include /config/lovelace/include/entities/weather_conditions_uv.yaml

      - break
      - type: custom:state-switch
        entity: input_boolean.display_weather_alerts
        default: 'off'
        states:
          'off':
            type: vertical-stack
            cards:
              - type: iframe
                aspect_ratio: 100%
                url: https://embed.windy.com/embed2.html?lat=42.121&lon=-82.856&detailLat=42.303&detailLon=-83.034&width=650&height=450&zoom=8&level=surface&overlay=radar&product=radar&menu=&message=true&marker=&calendar=12&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=default&radarRange=-1
              - type: custom:swipe-card
                cards:
                  - type: picture-entity
                    name: Windsor Radar
                    entity: camera.envcan_radar

                  - type: picture-entity
                    name: NWS Windsor
                    entity: camera.windsor_radar

                  - type: picture-entity
                    name: NWS Radar Great Lakes
                    entity: camera.nwsradar_dtx_enhanced_composite_reflectivity_loop

              - !include /config/lovelace/include/settings/weather_settings.yaml

          'on':
            type: custom:swipe-card
            cards:
              - type: vertical-stack
                cards:
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.dark_sky_alert_active
                        state: 'on'
                    card:
                      !include /config/lovelace/include/markdown/dark_sky_alert_markdown.yaml

                  - type: conditional
                    conditions:
                      - entity: binary_sensor.noaa_alert_active
                        state: 'on'
                    card:
                      !include /config/lovelace/include/markdown/noaa_alert_markdown.yaml

                  - !include /config/lovelace/include/settings/weather_settings.yaml

              - type: vertical-stack
                cards:
                  - type: iframe
                    aspect_ratio: 100%
                    url: https://embed.windy.com/embed2.html?lat=42.121&lon=-82.856&detailLat=42.303&detailLon=-83.034&width=650&height=450&zoom=8&level=surface&overlay=radar&product=radar&menu=&message=true&marker=&calendar=12&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=default&radarRange=-1
                  - type: custom:swipe-card
                    cards:
                      - type: picture-entity
                        name: Windsor Radar
                        entity: camera.envcan_radar

                      #DISABLED - type: picture-entity
                      #   name: NWS Windsor
                      #   entity: camera.windsor_radar

                      #DISABLED - type: picture-entity
                      #   name: NWS - DTX
                      #   entity: camera.nwsradar_dtx_enhanced_composite_reflectivity_loop

                  - !include /config/lovelace/include/settings/weather_settings.yaml
