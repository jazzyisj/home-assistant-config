title: Home
icon: mdi:home-account
path: home
panel: true
cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - !include /config/lovelace/include/button/occupancy_buttons.yaml
      - !include /config/lovelace/include/card/global_alerts.yaml

      #DISABLED hold actions don't work in swipe
      # - type: custom:swipe-card
      #   cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/button/jason_presence_button.yaml
              - !include /config/lovelace/include/button/sheri_presence_button.yaml

              - type: conditional
                conditions:
                  - entity: input_boolean.guest_home
                    state: 'on'
                card: !include /config/lovelace/include/button/guest_presence_button.yaml

          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/button/alarm_button.yaml
              - !include /config/lovelace/include/button/work_schedule_button.yaml
              - !include /config/lovelace/include/button/announcement_button.yaml
              - !include /config/lovelace/include/button/quiet_mute_button.yaml
              - !include /config/lovelace/include/button/radio_button.yaml

          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/button/garage_door_button.yaml
              - !include /config/lovelace/include/button/door_button.yaml
              - !include /config/lovelace/include/button/window_button.yaml
              - !include /config/lovelace/include/button/ceiling_fan_button.yaml
              - !include /config/lovelace/include/button/light_button.yaml

          - type: horizontal-stack
            cards:
              - !include /config/lovelace/include/button/wake_up_button.yaml
              - !include /config/lovelace/include/button/scene_evening_button.yaml
              - !include /config/lovelace/include/button/scene_company_button.yaml
              - !include /config/lovelace/include/button/scene_movie_button.yaml
              - !include /config/lovelace/include/button/bedtime_button.yaml

          - !include /config/lovelace/include/menu/home_menu.yaml
          - !include /config/lovelace/include/glance/home_schedule_menu.yaml

          #DISABLED swipe - !include /config/lovelace/include/card/home_feed_card.yaml

      - break
      - type: custom:state-switch
        entity: alarm_control_panel.house
        default: default
        states:
          default:
            type: custom:swipe-card
            cards:
              - type: vertical-stack
                cards:
                  - !include /config/lovelace/include/picture_glance/front_door_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/side_door_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/back_house_picture_glance.yaml

              - type: vertical-stack
                cards:
                  - !include /config/lovelace/include/picture_glance/front_drive_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/front_yard_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/patio_door_picture_glance.yaml

              - type: vertical-stack
                cards:
                  - !include /config/lovelace/include/picture_glance/side_drive_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/back_door_picture_glance.yaml
                  - !include /config/lovelace/include/picture_glance/garage_inside_picture_glance.yaml

          triggered:
            type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/front_door_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/side_door_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/back_house_picture_glance.yaml

      - break
      - type: custom:state-switch
        entity: alarm_control_panel.house
        default: default
        states:
          default:
            type: vertical-stack
            cards:
              - type: custom:state-switch
                entity: binary_sensor.commute_active
                default: default
                states:
                  default:
                    #ISSUE hold not working with swipe type: custom:swipe-card
                    # cards:
                    type: vertical-stack
                    cards:
                      - type: conditional
                        conditions:
                          - entity: input_boolean.buster_medication_active
                            state: 'on'
                        card: !include /config/lovelace/include/picture_glance/buster_picture_glance.yaml

                      - type: conditional
                        conditions:
                          - entity: input_boolean.maddie_mealtime_active
                            state: 'on'
                        card: !include /config/lovelace/include/picture_glance/maddie_picture_glance.yaml

                      - type: conditional
                        conditions:
                          - entity: input_boolean.dexter_medication_active
                            state: 'on'
                        card: !include /config/lovelace/include/picture_glance/dexter_picture_glance.yaml

                      - type: conditional
                        conditions:
                          - entity: binary_sensor.alarm_clock_active
                            state: 'on'
                        card: !include /config/lovelace/include/picture_glance/alarm_clock_picture_glance.yaml

                      - !include /config/lovelace/include/entities/media_player_conditional_entities_alarm_clock.yaml

                      - type: custom:vertical-stack-in-card
                        cards:
                          - !include /config/lovelace/include/picture_glance/radio_glance_card.yaml
                          - !include /config/lovelace/include/entities/media_player_conditional_entities_radio.yaml
                          - !include /config/lovelace/include/entities/radio_timers.yaml

                      - !include /config/lovelace/include/entities/media_player_conditional_entities_spotify.yaml
                      - !include /config/lovelace/include/entities/media_player_conditional.yaml

                  'on':
                    type: custom:swipe-card
                    cards:
                      - type: vertical-stack
                        cards:
                          - !include /config/lovelace/include/card/traffic_map_iframe.yaml
                          - !include /config/lovelace/include/entities/traffic_cameras_glance.yaml

                      - type: vertical-stack
                        cards:
                          - type: conditional
                            conditions:
                              - entity: input_boolean.buster_medication_active
                                state: 'on'
                            card: !include /config/lovelace/include/picture_glance/buster_picture_glance.yaml

                          - type: conditional
                            conditions:
                              - entity: input_boolean.maddie_mealtime_active
                                state: 'on'
                            card: !include /config/lovelace/include/picture_glance/maddie_picture_glance.yaml

                          - type: conditional
                            conditions:
                              - entity: input_boolean.dexter_medication_active
                                state: 'on'
                            card: !include /config/lovelace/include/picture_glance/dexter_picture_glance.yaml

                          - !include /config/lovelace/include/picture_glance/alarm_clock_picture_glance.yaml
                          - !include /config/lovelace/include/entities/media_player_conditional_entities_alarm_clock.yaml

                          - type: custom:vertical-stack-in-card
                            cards:
                              - !include /config/lovelace/include/picture_glance/radio_glance_card.yaml
                              - !include /config/lovelace/include/entities/media_player_conditional_entities_radio.yaml

                          - !include /config/lovelace/include/entities/media_player_conditional.yaml

          triggered:
            type: vertical-stack
            cards:
              - !include /config/lovelace/include/picture_glance/front_drive_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/front_yard_picture_glance.yaml
              - !include /config/lovelace/include/picture_glance/patio_door_picture_glance.yaml

      - break
      #TODO - type: custom:state-switch
      #   entity: alarm_control_panel.house
      #   default: default
      #   states:
      #     default:
      #       type: vertical-stack
      #       cards:
      - !include /config/lovelace/include/card/weather_card_stack.yaml

      - type: horizontal-stack
        cards:
          - !include /config/lovelace/include/graph/inside_temperature_graph_basic.yaml
          - !include /config/lovelace/include/graph/inside_humidity_graph_basic.yaml

      #     triggered:
      #       - !include /config/lovelace/include/picture_glance/side_drive_picture_glance.yaml
      #       - !include /config/lovelace/include/picture_glance/back_door_picture_glance.yaml
      #       - !include /config/lovelace/include/picture_glance/garage_inside_picture_glance.yaml