#######################################################################
## Office TV
#######################################################################
type: custom:state-switch
entity: template
template: >
  {% if states('sensor.office_tv') == 'off' %} off
  {% elif states('sensor.office_tv') in ['on','alarm_clock'] %} on
  {% else %}{{ 'group' if 'group' in states('sensor.office_tv') else 'single' }}
  {% endif %}
states:
  'off':
    type: custom:mini-media-player
    entity: media_player.office_tv
    name: 'Office TV'
    icon: mdi:tablet
    hide: !include /config/lovelace/media_player/include/mini_media_player_off.yaml
    toggle_power: true
    group: true
    tap_action:
      action: call-service
      service: remote.turn_on
      service_data:
        entity_id: remote.office_tv
  'on':
    type: custom:mini-media-player
    entity: media_player.office_tv
    name: 'Office TV'
    icon: mdi:tablet
    hide: !include /config/lovelace/media_player/include/mini_media_player_on.yaml
    toggle_power: true
    group: true
    artwork: material
    source: full
    info: scroll
    tap_action:
      action: more-info
  single:
    type: custom:mini-media-player
    entity: media_player.office_tv
    name: 'Office TV'
    icon: mdi:tablet
    toggle_power: true
    group: true
    hide: !include /config/lovelace/media_player/include/mini_media_player_on.yaml
    artwork: full-cover
    source: full
    info: scroll
    idle_view: when_standby
    tap_action:
      action: more-info
  group:
    type: custom:mini-media-player
    entity: media_player.office_tv
    name: 'Office TV'
    icon: mdi:tablet
    hide: !include /config/lovelace/media_player/include/mini_media_player_group.yaml
    toggle_power: true
    group: true
    artwork: material
    source: full
    info: scroll
    idle_view: when_standby
    tap_action:
      action: more-info
