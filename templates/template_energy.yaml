###############################################################################
## Templates - Energy
###############################################################################
- sensor:
    - name: "Current Power Use"
      unique_id: current_power_use
      icon: mdi:lightning-bolt
      device_class: power
      state_class: measurement
      unit_of_measurement: W
      state: >
        {{ '%0.0f'|format( states('sensor.back_house_potlights_electric_consumed_w')|float(0)
            + states('sensor.back_yard_tree_lights_electric_consumed_w')|float(0)
            + states('sensor.dining_room_light_electric_consumed_w')|float(0)
            + states('sensor.dining_room_potlights_electric_consumed_w')|float(0)
            + states('sensor.front_house_potlights_electric_consumed_w')|float(0)
            + states('sensor.front_porch_light_electric_consumed_w')|float(0)
            + states('sensor.kitchen_potlights_electric_consumed_w')|float(0)
            + states('sensor.office_light_electric_consumed_w')|float(0)
            + states('sensor.office_potlights_electric_consumed_w')|float(0)
            + states('sensor.outside_garage_lights_electric_consumed_w')|float(0)
            + states('sensor.side_entrance_light_electric_consumed_w')|float(0)
            + states('sensor.upstairs_bathroom_shower_light_electric_consumed_w')|float(0)
            + states('sensor.upstairs_bathroom_vanity_light_electric_consumed_w')|float(0)
            + states('sensor.upstairs_bedroom_light_electric_consumed_w')|float(0)
            + states('sensor.upstairs_bedroom_potlights_electric_consumed_w')|float(0)
            + states('sensor.upstairs_hallway_potlights_electric_consumed_w')|float(0)
            + states('sensor.kitchen_sink_light_electric_consumed_w')|float(0)
            + states('sensor.back_yard_garden_light_electric_consumed_w')|float(0) ) }}

    - name: "Total Energy Consumption"
      unique_id: total_energy_consumption  #ISSUE can't use for utility meter
      icon: mdi:lightning-bolt
      device_class: energy
      state_class: total_increasing
      unit_of_measurement: kWh
      state: >
        {{ '%0.0f'|format(states('sensor.back_house_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.back_yard_tree_lights_electric_consumed_kwh')|float(0)
            + states('sensor.dining_room_light_electric_consumed_kwh')|float(0)
            + states('sensor.dining_room_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.front_house_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.front_porch_light_electric_consumed_kwh')|float(0)
            + states('sensor.kitchen_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.office_light_electric_consumed_kwh')|float(0)
            + states('sensor.office_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.outside_garage_lights_electric_consumed_kwh')|float(0)
            + states('sensor.side_entrance_light_electric_consumed_kwh')|float(0)
            + states('sensor.upstairs_bathroom_shower_light_electric_consumed_kwh')|float(0)
            + states('sensor.upstairs_bathroom_vanity_light_electric_consumed_kwh')|float(0)
            + states('sensor.upstairs_bedroom_light_electric_consumed_kwh')|float(0)
            + states('sensor.upstairs_bedroom_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.upstairs_hallway_potlights_electric_consumed_kwh')|float(0)
            + states('sensor.kitchen_sink_light_electric_consumed_kwh')|float(0)
            + states('sensor.back_yard_garden_light_electric_consumed_kwh')|float(0) ) }}
