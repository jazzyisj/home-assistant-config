#######################################################################################################################
## Waste Collection Alert
#######################################################################################################################
waste_collection_alert:
  alias: Waste Collection Alert
  description: Send waste collection day notification.
  icon: mdi:trash-can
  fields:
    waste_type:
      description: Waste type (Garbage, Recycle, Yardwaste).
      example: Garbage
  sequence:
    - service: notify.mobile
      data:
        title: "{{ waste_type }} Day"
        message: "{{ waste_type }} Day is tomorrow!."
        data:
          tag: "{{ waste_type }}_collection"
          group: General
          channel: General
          importance: max
          ttl: 0
          priority: high
          timeout: 86400
          persistent: true
          clickAction: /lovelace/schedule
          color: !secret NOTIFY_COLOR
          icon_url: !secret WASTE_ICON_TEMPLATE
          image: !secret WASTE_IMAGE_TEMPLATE
          actions:
            - title: "{{ waste_type }} Done"
              action: "close_{{ waste_type}}_collection"