#######################################################################################################################
## Toggle Pause
#######################################################################################################################
media_player_toggle_pause:
  alias: Media Player Toggle Pause
  description: Toggle pause/resume for all media players.
  icon: mdi:play-box-multiple-outline
  mode: parallel
  fields:
    media_type:
      description: Media type
      example: radio
  variables:
    media_player: "{{ states('sensor.' ~ media_type  ~ '_media_player') }}"
  sequence:
    - condition: template
      value_template: "{{ media_type in ['radio','spotify'] }}"

    - condition: template
      value_template: "{{ is_state('input_boolean.' ~ media_type,'on') }}"

    - condition: template
      value_template: "{{ states(media_player) in ['playing','paused'] }}"

    - service: media_player.media_play_pause
      data:
        entity_id: "{{ media_player }}"