#######################################################################################################################
## Media Toggle
#######################################################################################################################
media_toggle:
  alias: Media Toggle
  description: Toggle media state.
  mode: parallel # more than 1 media type can be toggled at once
  max: 5 # must be at least number of media types
  max_exceeded: error
  fields:
    media_type:
      description: Media type to toggle.
      example: spotify
  sequence:
    - choose:
        - conditions: "{{ is_state('switch.' ~ media_type,'off') }}"
          sequence:
            - service: switch.turn_on
              target:
                entity_id: "switch.{{ media_type }}"
      default:
        - service: switch.turn_off
          target:
            entity_id: "switch.{{ media_type }}"
