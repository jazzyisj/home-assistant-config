#######################################################################################################################
## Media Toggle
#######################################################################################################################
media_toggle:
  alias: Media Toggle
  description: Toggle media state.
  mode: parallel # more than 1 media type can be toggled at once
  max: 5 # must be at least number of media types
  max_exceeded: error
  fields:
    media_type:
      description: Media type to toggle.
      example: spotify
  sequence:
    - choose:
        - conditions: "{{ is_state('input_boolean.' ~ media_type,'off') }}"
          sequence:
            - service: input_boolean.turn_on
              data:
                entity_id: "input_boolean.{{ media_type }}"
      default:
        - service: input_boolean.turn_off
          data:
            entity_id: "input_boolean.{{ media_type }}"
