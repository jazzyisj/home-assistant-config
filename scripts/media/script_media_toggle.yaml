###############################################################################
## Media Toggle
###############################################################################
media_toggle:
  alias: 'Media Toggle'
  description: 'Toggle media.'
  mode: parallel
  fields:
    media_type:
      description: 'Media type to toggle.'
      example: 'spotify_hassio'
  variables:
    media_player: 'media_player.{{ media_type }}'
  sequence:
    - if: "{{ states(media_player) in ['idle','off'] }}"
      then:
        - service: script.media_play
          data:
            media_type: '{{ media_type }}'
      else:
        - service: script.media_stop
          data:
            media_type: '{{ media_type }}'
