###############################################################################
## Media Player Toggle
###############################################################################
media_player_toggle:
  alias: 'Media Player Toggle'
  description: 'Toggle media player.'
  mode: parallel # more than 1 media player might be toggled at once
  fields:
    media_player:
      description: 'Media player entity id to toggle.'
      example: 'media_player.bedroom_tv'
  sequence:
    - choose:
        - conditions: "{{ is_state(media_player,'off') }}"
          sequence:
            - service: media_player.turn_on
              target:
                entity_id: '{{ media_player }}'
      default:
        - service: script.media_players_off
          data:
            media_players: '{{ media_player }}'
