mytest:
  alias: 'MyTest'
  fields:
    use_config_defaults:
      description: ''
    use_actual_sunrise_time:
      description: ''
    use_actual_sunset_time:
      description: ''
    max_brightness:
      description: ''
    max_color_temp:
      description: ''
    min_brightness:
      description: ''
    min_color_temp:
      description: ''
    sleep_brightness:
      description: ''
    sleep_color_temp:
      description: ''
    sunrise_offset:
      description: ''
    sunrise_time:
      description: ''
    sunset_offset:
      description: ''
    sunset_time:
      description: ''
    transition:
      description: ''
  variables:
    using_real_sunrise_time: "{{ 'off' if sunrise_time is defined else 'on' }}"
    using_real_sunset_time: "{{ 'off' if sunset_time is defined else 'on' }}"
    use_config_defaults: "{{ use_config_defaults|default('off') }}"
    use_actual_sunrise_time: '{{ using_real_sunrise_time|default(none) }}'
    use_actual_sunset_time: '{{ using_real_sunset_time|default(none) }}'
    max_brightness: '{{ max_brightness|default(none) }}'
    max_color_temp: '{{ max_color_temp|default(none) }}'
    min_brightness: '{{ min_brightness|default(none) }}'
    min_color_temp: '{{ min_color_temp|default(none) }}'
    sleep_brightness: '{{ sleep_brightness|default(none) }}'
    sleep_color_temp: '{{ sleep_color_temp|default(none) }}'
    sunrise_offset: '{{ sunrise_offset|default(none) }}'
    sunrise_time: '{{ sunrise_time|default(none) }}'
    sunset_offset: '{{ sunset_offset|default(none) }}'
    sunset_time: '{{ sunset_time|default(none) }}'
    transition: '{{ transition|default(none) }}'
    options:
      'Hello' #>
      # {% set option_dict = namespace(value='') %}
      # {% set options = ['use_config_defaults','use_actual_sunrise_time','use_actual_sunset_time',
      #     'max_brightness','max_color_temp','min_brightness','min_color_temp','sleep_brightness',
      #     'sleep_color_temp','sunrise_offset','sunrise_time','sunset_offset','sunset_time','transition'] %}
      # {% set values = [use_config_defaults,use_actual_sunrise_time,use_actual_sunset_time,
      #     max_brightness,max_color_temp,min_brightness,min_color_temp,sleep_brightness,
      #     sleep_color_temp,sunrise_offset,sunrise_time,sunset_offset,sunset_time,transition] %}
      # {% for item in options if values['item'] != none %}
      #   {% set option_dict.value = option_dict.value
      #       ~ '"' ~ item ~ '":"'
      #       ~ values['item'] ~ '"' ~ ',' %}
      # {% endfor %}
      # {{ '{' ~ options_dict.value[:-1] ~ '}' }}
  sequence:
    - service: system_log.write
      data:
        message: '{{ options }}'

    # - service: adaptive_lighting.change_sunlight_settings
    #   data: '{{ options }}'
