#######################################################################################################################
## Media Preset Stop
#######################################################################################################################
media_preset_stop:
  alias: Media Preset Stop
  description: Turn off media preset.
  mode: single
  #max_exceeded: silent
  fields:
    preset:
      description: Play media preset.
      example: sleep
  variables:
    media_type: >
      {% if preset == 'wake' %}{{ states('input_select.media_preset_type_wake') }}
      {% elif preset == 'morning' %}{{ states('input_select.media_preset_type_morning') }}
      {% elif preset == 'sleep' %}{{ states('input_select.media_preset_type_sleep') }}
      {% elif preset == 'jason' %}{{ states('input_select.media_preset_type_jason') }}
      {% elif preset == 'sheri' %}{{ states('input_select.media_preset_type_sheri') }}
      {% elif preset == 'shower' %}{{ states('input_select.media_preset_type_shower') }}
      {% elif preset == 'company' %}{{ states('input_select.media_preset_type_company') }}
      {% endif %}
  sequence:
    - choose:
        - conditions: "{{ preset == 'wake' }}"
          sequence:
            - service: input_boolean.turn_off
              entity_id: input_boolean.media_preset_wake

            - service: timer.cancel
              entity_id: timer.media_preset_wake

        - conditions: "{{ preset == 'sleep' }}"
          sequence:
            - service: input_boolean.turn_off
              entity_id: input_boolean.media_preset_sleep

            - service: timer.cancel
              entity_id: timer.media_preset_sleep

    - choose:
        - conditions: "{{ media_type == 'radio' }}"
          sequence:
            - service: script.turn_on
              entity_id: script.radio_stop


        - conditions: "{{ media_type == 'spotify' }}"
          sequence:
            - service: script.turn_on
              entity_id: script.spotify_stop

        #IDEA add netflix, youtube