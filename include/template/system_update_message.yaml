|
  {%- set ac = state_attr('sensor.updater_supervisor','addons')|count -%}
  {%- if is_state('sensor.updater_core','on') -%}
  - Home Assistant verion {{ state_attr('sensor.updater_core','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_core','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('binary_sensor.updater_supervisor','on') -%}
  - Supervisor version {{ state_attr('sensor.updater_supervisor','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_supervisor','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('binary_sensor.updater_hassos','on') -%}
  - HASS OS version {{ states('sensor.hassos_current_version') }} is installed.
  Version {{ states('sensor.hassos_newest_version') }} is available.
  {% endif -%}
  {%- if is_state('sensor.updater_audio','on') -%}
  - Audio version {{ state_attr('sensor.updater_audio','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_audio','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('sensor.updater_dns','on') -%}
  - DNS version {{ state_attr('sensor.updater_dns','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_dns','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('binary_sensor.updater_cli','on') -%}
  - CLI version {{ state_attr('sensor.updater_cli','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_cli','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('binary_sensor.updater_multicast','on') -%}
  - Multicast version {{ state_attr('sensor.updater_multicast','current_version') }} is installed.
  Version {{ state_attr('sensor.updater_multicast','newest_version') }} is available.
  {% endif -%}
  {%- if is_state('binary_sensor.updater_addons','on') -%}
  {%- if states.sensor.updater_supervisor.attributes.addons is defined -%}
  {%- for repository in state_attr('sensor.updater_supervisor','addons') -%}
  - Addon: {{ states.sensor.updater_supervisor.attributes['addons'][loop.index0].name }}
  Installed Version: {{ states.sensor.updater_supervisor.attributes['addons'][loop.index0].version_latest }}
  Current Version: {{ states.sensor.updater_supervisor.attributes['addons'][loop.index0].version }}
  {% endfor -%}
  {%- endif -%}
  {%- endif -%}
  {%- if states('sensor.hacs')|int > 0 -%}
  There {{ 'is' if states('sensor.hacs')|int == 1  else 'are'}} {{ states('sensor.hacs') }} HACS {{ 'update' if states('sensor.hacs')|int == 1  else 'updates'}} available.{% endif -%}
  {%- for item in states.sensor.hacs.attributes.repositories %}
  {{ states.sensor.hacs.attributes['repositories'][loop.index0]['display_name'] ~' v(' ~ states.sensor.hacs.attributes['repositories'][loop.index0]['available_version'] ~ ')' }}
  {%- if not loop.last -%}{{ '\n' }}{%- endif -%}
  {%- endfor -%}
