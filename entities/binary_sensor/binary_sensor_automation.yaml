#######################################################################################################################
## Automation Binary Sensors
#######################################################################################################################

- platform: template
  sensors:
#######################################################################################################################
## Automation Disabled
#######################################################################################################################
    automation_disabled:
      friendly_name: Automation
      unique_id: automation_disabled
      icon_template: mdi:sync-alert
      value_template: "{{ states('group.automation_controls') == 'off' }}"

#######################################################################################################################
## Alert Disabled
#######################################################################################################################
    alert_disabled:
      friendly_name: Alert
      unique_id: alert_disabled
      icon_template: mdi:alert
      value_template: "{{ states.alert|selectattr('state','eq','off')|list|count > 0 }}"

#######################################################################################################################
## Alert Enabled
#NOTE used in conditions to prevent tts / mobile app / push alerts
#NOTE alerts disabled during startup to prevent false triggers
#ISSUE disables glance alerts in lovelace
#######################################################################################################################
    alerts_enabled:
      unique_id: alerts_enabled
      value_template: "{{ is_state('input_boolean.enable_alerts','on') and is_state('variable.startup_complete','true') }}"