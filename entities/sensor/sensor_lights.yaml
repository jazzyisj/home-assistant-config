#######################################################################################################################
## Illuminance Sensor   https://github.com/pnbruckner/ha-illuminance
#######################################################################################################################
- platform: illuminance
  name: Illuminance
  entity_id: sensor.dark_sky_icon

- platform: template
  sensors:
#######################################################################################################################
## Day / Night Sensor
#######################################################################################################################
    day_night:
      friendly_name: "Day/Night"
      unique_id: day_night
      icon_template: "{{ 'mdi:weather-sunny' if is_state('sun.sun','above_horizon') else 'mdi:weather-night' }}"
      value_template: "{{ 'Day' if is_state('sun.sun','above_horizon') else 'Night' }}"

#######################################################################################################################
## Sun Elevation
#######################################################################################################################
    sun_elevation:
      friendly_name: Sun Elevation
      unique_id: sun_elevation
      icon_template: mdi:weather-sunset
      unit_of_measurement: 'Â°'
      value_template: "{{ state_attr('sun.sun','elevation') }}"

#######################################################################################################################
## Sun Next Rising
#######################################################################################################################
    sun_next_rising:
      friendly_name: Sun Rise
      unique_id: sun_next_rising
      icon_template: mdi:weather-sunset-up
      value_template: "{{ as_timestamp(state_attr('sun.sun','next_rising'))|timestamp_custom('%-I:%M %p',true) }}"

#######################################################################################################################
## Sun Next Setting
#######################################################################################################################
    sun_next_setting:
      friendly_name: Sun Set
      unique_id: sun_next_setting
      icon_template: mdi:weather-sunset-down
      value_template: "{{ as_timestamp(state_attr('sun.sun','next_setting'))|timestamp_custom('%-I:%M %p',true) }}"
