#######################################################################################################################
## Alert - Shift Selection
#######################################################################################################################
schedule_shift_selection:
  name: "Shift Selection"
  title: "Shift Selection Alert"
  message: >-
    {% if is_state('binary_sensor.google_calendar_connected','off') %} Google Calendar is not connected. {{'\n'}}{% endif %}
    {%- if is_state('input_boolean.shift_override','on') -%} The shift override is on {%- endif -%}
    {{ ', and the' if is_state('input_boolean.shift_override','on') else '\nThe' }} current shift is {{ states('sensor.current_shift') ~ ' ' }}.
  entity_id: binary_sensor.shift_selection_alert
  state: 'on'
  repeat: 1440 # 24h
  can_acknowledge: true
  skip_first: false
  notifiers: jason
  data:
    actions:
      - action: turn_off_shift_override
        title: Override Off
      - action: pause_shift_selection
        title: Pause
      - action: close_shift_selection
        title: Close
    tag: shift_selection
    timestamp: "{{ as_timestamp(now()) }}" #push
    priority: normal
    renotify: true #push
    ttl: 3600
    silent: true #push
    requireInteraction: false #push
    sticky: false #app
    url: /lovelace/schedule #push
    clickAction: /lovelace/schedule #app
    color: !secret WARNING_COLOR #app
    image: !secret WORK_IMAGE
    icon: !secret WORK_ICON #push
    badge: !secret WORK_BADGE #push
