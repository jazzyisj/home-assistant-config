#######################################################################################################################
## Alert - Indoor High Temperature
#######################################################################################################################
climate_indoor_high_temperature:
  name: "Indoor High Temperature"
  title: "Indoor High Temperature Alert"
  message: >
    {%- set thresh = states('input_number.high_temperature_threshold')|float -%}
    {%- set t = '%0.0f'|format(states('sensor.upstairs_thermostat_temperature')|float)|float -%}
    {%- set b = '%0.0f'|format(states('sensor.upstairs_bathroom_temperature')|float)|float -%}
    Attention! The indoor low temperature alert is active. The
    {%- if t > thresh %} current indoor temperature is {{ t }}
    {%- elif b > thresh %} upstairs bathroom temperature is {{ b }}
    {%- endif %} degrees.
  entity_id: binary_sensor.indoor_high_temperature_alert
  state: 'on'
  repeat: 60
  can_acknowledge: true
  skip_first: false
  notifiers: jason
  data:
    actions:
      - action: pause_indoor_high_temperature
        title: Pause
      - action: close_indoor_high_temperature
        title: Close
    tag: indoor_high_temperature
    timestamp: "{{ as_timestamp(now()) }}" #push
    priority: normal
    renotify: false #push
    ttl: 3600
    silent: true #push
    requireInteraction: false #push
    sticky: false #app
    url: /lovelace/climate #push
    clickAction: /lovelace/climate #app
    color: !secret WARNING_COLOR #app
    image: !secret HIGH_TEMP_IMAGE
    icon: !secret HIGH_TEMP_ICON #push
    badge: !secret HIGH_TEMP_BADGE #push
