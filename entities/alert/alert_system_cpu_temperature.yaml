#######################################################################################################################
## Alert - CPU Temperature
#######################################################################################################################
system_cpu_temperature:
  name: "CPU Temperature"
  title: "CPU Temperature Alert"
  message: "CPU Temp - {{ states('sensor.cpu_temperature') }} Â°C"
  entity_id: binary_sensor.cpu_temperature_alert
  state: 'on'
  repeat: 60
  can_acknowledge: true
  skip_first: false
  notifiers: jason
  data:
    tag: cpu_temperature
    group: System
    channel: Alert
    importance: high
    vibrationPattern: '200, 200, 200, 200, 200, 200, 200'
    ledColor: !secret WARNING_COLOR
    priority: high
    ttl: 0    
    timeout: 3600
    persistent: false
    sticky: false
    clickAction: /lovelace/system
    color: !secret WARNING_COLOR
    icon_url: !secret PROCESSOR_ICON
    image: !secret PROCESSOR_IMAGE
    actions:
      - action: reboot_server
        title: Reboot
      - action: pause_cpu_temperature
        title: Pause
      - action: close_cpu_temperature
        title: Close

    # additional parameters for html5 push
    timestamp: "{{ as_timestamp(now()) }}"
    renotify: true
    silent: true
    requireInteraction: false
    url: /lovelace/system
    icon: !secret PROCESSOR_ICON
    badge: !secret PROCESSOR_BADGE