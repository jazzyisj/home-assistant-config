#######################################################################################################################
## Alert - Processor Use
#######################################################################################################################
system_processor_use:
  name: "Processor Use"
  title: "Processor Use Alert"
  message: "Processor Use - {{ states('sensor.processor_use') }}%"
  entity_id: binary_sensor.processor_use_alert
  state: 'on'
  repeat: 60
  can_acknowledge: true
  skip_first: false
  notifiers: jason
  data:
    tag: processor_use
    group: System
    channel: Alert
    importance: high
    vibrationPattern: '200, 200, 200, 200, 200, 200, 200'
    ledColor: !secret WARNING_COLOR
    priority: high
    ttl: 0
    timeout: 3600
    persistent: false
    sticky: false
    clickAction: /lovelace/system
    color: !secret WARNING_COLOR
    icon_url: !secret PROCESSOR_ICON
    image: !secret PROCESSOR_IMAGE
    actions:
      - action: pause_processor_use
        title: Pause
      - action: close_processor_use
        title: Close

    # additional parameters for html5 push
    timestamp: "{{ as_timestamp(now()) }}"
    renotify: true
    silent: true
    requireInteraction: false
    url: /lovelace/system
    icon: !secret PROCESSOR_ICON
    badge: !secret PROCESSOR_BADGE

