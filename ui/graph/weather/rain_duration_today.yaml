###############################################################################
## Precipitation Duration Today Graph
###############################################################################
type: custom:apexcharts-card
config_templates: weather_mini
header:
  title: "Precip Time"
yaxis:
  - id: duration
    show: false
    min: 0
    max: ~15
series:
  - entity: sensor.precipitation_duration_today
    yaxis_id: duration
    type: line
    show:
      in_header: raw
      header_color_threshold: true
    stroke_width: 0 # hide graph line
    color_threshold:
      - value: 0
        color: rgb(110, 110, 110)
        opacity: 0

      - value: 1
        color: rgb(80, 137, 178)
        opacity: 1

  - entity: sensor.hourly_precipitation_duration
    yaxis_id: duration
    type: column
    group_by:
      func: max
      duration: 1h
    show:
      in_header: false
      header_color_threshold: true
    stroke_width: 5
    color_threshold:
      - value: 0
        color: rgb(110, 110, 110)
        opacity: 0

      - value: 1
        color: rgb(80, 137, 178)
        opacity: 1
    header_actions:
      tap_action:
        action: navigate
        navigation_path: precipitation-detail
      double_tap_action:
        action: navigate
        navigation_path: rain-radar
      hold_action:
        action: more-info
