###############################################################################
## Lightning Entities
###############################################################################
- entity: sensor.lightning_count
  name: "Recent Strikes"

- entity: sensor.home_sensors_lightnings_strikes #TEST
  name: "Lightning Strikes"

- type: conditional
  conditions:
    - condition: state
      entity: sensor.lightning_distance
      state_not: unknown
  row:
    entity: sensor.lightning_distance
    name: "Strike Distance"

- entity: sensor.home_sensors_distance_last_lightning_strike #TEST
  name: "Last Strike Distance"

- entity: sensor.lightning_last_strike
  name: "Last Strike"
  format: relative

- type: custom:template-entity-row
  entity: sensor.nearest_storm_distance
  name: "Nearest Storm"
  icon: mdi:weather-lightning-rainy
  state: "{{ states('sensor.nearest_storm_distance', with_unit=true) }}"
  secondary: >
    {% from 'speech.jinja' import cardinal_direction %}
    Direction: {{ cardinal_direction(states('sensor.nearest_storm_bearing')) }}

- type: custom:template-entity-row
  entity: sensor.fire_risk
  name: "Fire Risk"
  state: "{{ states('sensor.fire_risk') }}"
  secondary: "Index: {{ states('sensor.fire_index') }}"

- type: conditional
  conditions:
    - entity: alert.lightning
      state_not: idle
  row:
    entity: alert.lightning
    name: "Lightning Alert"

- type: button
  name: "EnvCan Map"
  entity: binary_sensor.lightning
  action_name: "VIEW"
  tap_action:
    action: navigate
    navigation_path: envcan-lightning

- type: button
  name: "Blitzortung Map"
  entity: binary_sensor.lightning
  action_name: "VIEW"
  tap_action:
    action: navigate
    navigation_path: blitz-lightning

- type: button
  name: "Storm Radar"
  icon: mdi:weather-lightning-rainy
  action_name: "VIEW"
  tap_action:
    action: navigate
    navigation_path: storm-radar

- type: button
  icon: mdi:fire
  name: "Ontario Fire Map"
  action_name: "VIEW"
  tap_action:
    action: navigate
    navigation_path: fire
