###############################################################################
## Lightning Detail
###############################################################################
type: entities
title: "Lightning Detail"
icon: mdi:weather-pouring
state_color: true
entities:
  - entity: binary_sensor.weatherflow_is_lightning
  - entity: sensor.weatherflow_lightning_strike_count
  - entity: sensor.weatherflow_lightning_strike_count_last_3_hours
  - entity: sensor.weatherflow_lightning_strike_count_last_hour
  - entity: sensor.weatherflow_last_lightning_strike_distance
  - entity: sensor.weatherflow_last_lightning_strike

  - entity: sensor.nearest_storm_distance
  - entity: sensor.nearest_storm_bearing

  - type: buttons
    entities:
      - entity: sensor.precipitation_today
        name: "Rain Radar"
        tap_action:
          action: navigate
          navigation_path: storm-radar

      - entity: sensor.precipitation_today
        name: "Satellite"
        tap_action:
          action: navigate
          navigation_path: ventusky-satellite

      - entity: sensor.precipitation_today
        name: "Rainviewer"
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              content: !include /config/ui/card/weather/rain_viewer_radar.yaml
          timeout: 120000
          card_mod:
            style:
              ha-dialog$: |
                div.mdc-dialog__scrim {
                  backdrop-filter: grayscale(100%) brightness(25%) !important;
                  -webkit-backdrop-filter: grayscale(100%) brightness(25%) !important;
                }
                div.mdc-dialog__surface {
                  background: transparent !important;
                }
    card_mod:
      style:
        hui-buttons-base $: |
          .ha-scrollbar {
            justify-content: center;
          }
card_mod:
  class: basic
