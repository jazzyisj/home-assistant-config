###############################################################################
## Weather Card
###############################################################################
type: custom:vertical-stack-in-card
cards:
  - type: custom:weather-chart-card
    entity: weather.home_daily
    show_main: true
    show_attributes: false
    icons_size: 35
    icons: /local/images/weather_icons/animated/
    card_mod:
      class: sub_card

  - type: conditional
    conditions:
      - entity: binary_sensor.envcan_weather_alert
        state: "on"
    card: !include /config/ui/button/weather/envcan_alert.yaml

  - type: custom:hourly-weather
    entity: weather.home_hourly
    num_segments: 9
    name: "" # defaults to "Hourly Weather"
    icons: true
    hide_bar: false
    show_date: boundary
    hide_hours: false
    hide_temperatures: false
    show_wind: barb-and-speed
    show_precipitation_amounts: true
    show_precipitation_probability: true
    colors:
      clear-night:
        background: "#202e45"
        foreground: "#aebacf"
      cloudy: "#6e6d6d"
      fog: "#737272"
      hail: "#3105e3"
      lightning:
        background: "#3105e3"
        foreground: "#ced108"
      lightning-rainy:
        background: "#3105e3"
        foreground: "#ced108"
      partlycloudy:
        background: "#adbac4"
        foreground: "#f5ee67"
      pouring: "#3105e3"
      rainy: "#3105e3"
      snowy:
        background: "#ffffff"
        foreground: "#363534"
      snowy-rainy: "#112bf0"
      sunny:
        background: "#8cc8ff"
        foreground: "#f5ee67"
      windy: "#593a1f"
      windy-variant: "#593a1f"
      exceptional:
        background: "#5e823b"
        foreground: "#FFFFFF"
    card_mod:
      class: sub_card

  - !include /config/ui/card/weather/weather_forecast_alerts.yaml

  - type: custom:multiline-entity-card
    name: "Forecast"
    entity: sensor.windsor_forecast
    show_icon: false
    show_name: false
    card_mod:
      class: sub_card
      style: |
        span.value{
          font-size: 1.3em;
          font-weight: normal;
        }

  - type: entities
    entities:
      - type: buttons
        entities:
          - entity: script.weather_report
            icon: mdi:account-voice
            name: "Weather Report"
            tap_action:
              action: call-service
              service: script.weather_report

          - entity: sensor.weatherflow_station_information
            icon: mdi:alpha-w-circle
            name: "Weatherflow"
            tap_action:
              action: navigate
              navigation_path: weatherflow
        card_mod:
          style:
            hui-buttons-base $: |
              .ha-scrollbar {
                justify-content: center;
              }

      - type: buttons
        entities:
          - entity: input_button.weather_statistics
            icon: mdi:chart-areaspline
            name: "Stats"
            tap_action:
              action: navigate
              navigation_path: weather-statistics

          - entity: input_button.weather_data
            icon: mdi:list-box
            name: "Data"
            tap_action:
              action: navigate
              navigation_path: weather-data

          - entity: input_button.weather_data
            icon: mdi:ab-testing
            name: "Compare"
            tap_action:
              action: navigate
              navigation_path: weather-compare
        card_mod:
          style:
            hui-buttons-base $: |
              .ha-scrollbar {
                justify-content: center;
              }
