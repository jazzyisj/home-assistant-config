###############################################################################
## Home Media Players
###############################################################################
type: custom:vertical-stack-in-card
cards:
  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.all_speakers', 'tts'),
          is_state('sensor.all_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/all_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.broadcast_speakers', 'tts'),
          is_state('sensor.broadcast_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/broadcast_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.inside_speakers', 'tts'),
          is_state('sensor.inside_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/inside_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.music_speakers', 'tts'),
          is_state('sensor.music_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/music_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.quiet_speakers', 'tts'),
          is_state('sensor.quiet_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/quiet_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          is_state('sensor.night_speakers', 'tts'),
          is_state('sensor.night_speakers', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/night_speakers_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.bathroom_speaker') | contains('tts'),
          is_state('sensor.bathroom_speaker', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/bathroom_speaker_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.bathroom_speaker') | contains('tts'),
          is_state('sensor.bathroom_speaker', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/bedroom_hub_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.dining_room_hub') | contains('tts'),
          is_state('sensor.dining_room_hub', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/dining_room_hub_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.office_speaker') | contains('tts'),
          is_state('sensor.office_speaker', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/office_speaker_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.laundry_room_speaker') | contains('tts'),
          is_state('sensor.laundry_room_speaker', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/laundry_room_speaker_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ iif(is_state('input_boolean.tts','on'),
          states('sensor.living_room_speaker') | contains('tts'),
          is_state('sensor.living_room_speaker', 'on')) }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/living_room_speaker_mini_full.yaml

  - type: custom:state-switch
    entity: sensor.living_room_tv_dlna
    states:
      "on": !include /config/ui/card/media/media_player/media_players/living_room_tv_dlna_mini_full.yaml

  - type: custom:state-switch
    entity: sensor.bedroom_tv_dlna
    states:
      "on": !include /config/ui/card/media/media_player/media_players/bedroom_tv_dlna_mini_full.yaml

  - type: custom:state-switch
    entity: template
    template: "{{ is_state('sensor.bedroom_tv', 'on') }}"
    states:
      true: !include /config/ui/card/media/media_player/media_players/bedroom_tv_mini.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ is_state('sensor.living_room_tv', 'on')
          and is_state('sensor.living_room_chromecast', 'off') }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/living_room_tv_mini.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {{ is_state('sensor.office_tv', 'on')
          and is_state('sensor.office_chromecast', 'off') }}
    states:
      true: !include /config/ui/card/media/media_player/media_players/office_tv_mini.yaml

  - type: custom:state-switch
    entity: sensor.deck_chromecast
    states:
      "on": !include /config/ui/card/media/media_player/media_players/deck_chromecast_mini.yaml

  - type: custom:state-switch
    entity: sensor.living_room_chromecast
    states:
      "on": !include /config/ui/card/media/media_player/media_players/living_room_chromecast_mini.yaml

  - type: custom:state-switch
    entity: sensor.office_chromecast
    states:
      "on": !include /config/ui/card/media/media_player/media_players/office_chromecast_mini.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {% if is_state('input_boolean.tts','on') %}
        {{ states('sensor.hass_media_player') | contains('tts') }}
      {% else %}
        {{ is_state('sensor.hass_media_player', 'on') }}
      {% endif %}
    states:
      true: !include /config/ui/card/media/media_player/media_players/hass_player_mini.yaml

  - type: custom:state-switch
    entity: template
    template: >
      {% if is_state('input_boolean.tts','on') %}
        {{ states('sensor.kiosk_media_player') | contains('tts') }}
      {% else %}
        {{ is_state('sensor.kiosk_media_player', 'on') }}
      {% endif %}
    states:
      true: !include /config/ui/card/media/media_player/media_players/kiosk_player_mini.yaml
card_mod:
  class: basic
