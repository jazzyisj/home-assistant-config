###############################################################################
## Other Media Players  (HASS, kiosk, browsers)
###############################################################################
type: vertical-stack
cards:
  - type: entities
    entities:
      - type: custom:state-switch
        entity: template
        template: "{{ states('sensor.hass_media_player') in ['off','alarm_clock','unknown','unavailable'] }}"
        states:
          true:
            type: custom:hui-element
            card_type: entities
            entities:
              - entity: media_player.hass_media_player
            card_mod:
              class: sub_card
          false:
            type: custom:hui-element
            card_type: media-control
            entity: media_player.hass_media_player

  - type: custom:state-switch
    entity: deviceID #SWITCH https://github.com/jazzyisj/home-assistant-config/issues/42
    default: "jlaptop_chrome_internal"
    states:
      kiosk_internal:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.kiosk_internal') %}
            {% if states('sensor.kiosk_internal_media_player') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.kiosk_internal
          player:
            type: media-control
            entity: media_player.kiosk_internal

      jlaptop_chrome_internal:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.jlaptop_chrome_internal') %}
            {% if states('sensor.jason_laptop_media_player_internal') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.jlaptop_chrome_internal
          player:
            type: media-control
            entity: media_player.jlaptop_chrome_internal

      jlaptop_chrome_external:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.jlaptop_chrome_external') %}
            {% if states('sensor.jason_laptop_media_player_external') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.jlaptop_chrome_external
          player:
            type: media-control
            entity: media_player.jlaptop_chrome_external

      jphone_app_internal:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.jphone_app_internal') %}
            {% if states('sensor.jason_phone_media_player_internal') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.jphone_app_internal
          player:
            type: media-control
            entity: media_player.jphone_app_internal

      jphone_app_external:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.jphone_app_external') %}
            {% if states('sensor.jason_phone_media_player_external') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.jphone_app_external
          player:
            type: media-control
            entity: media_player.jphone_app_external

      jtablet_app_internal:
        type: custom:state-switch
        entity: template
        template: >
          {% if has_value('media_player.jtablet_app_internal') %}
            {% if states('sensor.jason_phone_media_player_internal') in ['playing','paused','buffering','on'] %} player
            {% else %} entity
            {% endif %}
          {% endif %}
        states:
          entity:
            type: entities
            entities:
              - entity: media_player.jtablet_app_internal
          player:
            type: media-control
            entity: media_player.jtablet_app_internal
