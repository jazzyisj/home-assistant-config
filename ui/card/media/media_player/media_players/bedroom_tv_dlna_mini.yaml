#######################################################################
## Bedoom TV DLNA
#######################################################################
type: custom:state-switch
entity: template
template: >
  {% from 'media_player.jinja' import player_status %}
  {{ player_status('media_player.bedroom_tv_dlna') }}
default: media_off
states:
  media_on:
    type: &type custom:mini-media-player
    entity: &entity media_player.bedroom_tv_dlna
    name: &name "Bedoom TV DLNA"
    icon: &icon mdi:dlna
    group: &group true
    hide: !include &hide_on /config/ui/card/media/media_player/media_players/include/mini_player_dlna_on_hide_config.yaml
    artwork: &artwork material
    source: &source_on full
    sound_mode: *source_on
    info: &info scroll
    volume_stateless: &vol_state false
    toggle_power: &toggle true
    min_volume: &min_vol 0
    max_volume: &max_vol 100
    idle_view: &idle when_idle
    #DISABLED https://github.com/madmicio/LG-WebOS-Remote-Control/issues/123
    # tap_action: &tap
    #   action: fire-dom-event
    #   browser_mod:
    #     service: browser_mod.popup
    #     data:
    #       content: !include /config/ui/card/media/media_player/bedroom_tv_remote.yaml
    #       timeout: 100000
    #       card_mod:
    #         style:
    #           ha-dialog$: |
    #             div.mdc-dialog__scrim {
    #               backdrop-filter: grayscale(100%) brightness(25%) !important;
    #               -webkit-backdrop-filter: grayscale(100%) brightness(25%) !important;
    #             }
    #             div.mdc-dialog__surface {
    #               background: transparent !important;
    #             }
    #       style: |
    #         --popup-min-width: 200px;
    #         --popup-max-width: 300px;
    #         --popup-border-radius: 25px;

  media_off:
    type: *type
    entity: *entity
    name: *name
    icon: *icon
    group: *group
    hide: !include &hide_off /config/ui/card/media/media_player/media_players/include/mini_player_dlna_off_hide_config.yaml
    artwork: *artwork
    source: &source_off icon
    sound_mode: *source_off
    info: *info
    volume_stateless: *vol_state
    toggle_power: *toggle
    min_volume: *min_vol
    max_volume: *max_vol
    idle_view: *idle
    shortcuts:
    # tap_action: *tap

  mass_on:
    type: *type
    entity: *entity
    name: *name
    icon: *icon
    group: *group
    hide: *hide_on
    artwork: *artwork
    source: *source_on
    sound_mode: *source_on
    info: *info
    volume_stateless: *vol_state
    toggle_power: *toggle
    min_volume: *min_vol
    max_volume: *max_vol
    idle_view: *idle

  mass_off:
    type: *type
    entity: *entity
    name: *name
    icon: *icon
    group: *group
    hide: *hide_off
    artwork: *artwork
    source: *source_off
    sound_mode: *source_off
    info: *info
    volume_stateless: *vol_state
    toggle_power: *toggle
    min_volume: *min_vol
    max_volume: *max_vol
    idle_view: *idle
