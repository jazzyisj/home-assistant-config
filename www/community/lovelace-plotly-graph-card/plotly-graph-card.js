"use strict";(()=>{var z6e=Object.create;var g4=Object.defineProperty;var O6e=Object.getOwnPropertyDescriptor;var B6e=Object.getOwnPropertyNames;var H6e=Object.getPrototypeOf,U6e=Object.prototype.hasOwnProperty;var j6e=(e,t,r)=>t in e?g4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ex=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var $=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var V6e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of B6e(t))!U6e.call(e,i)&&i!==r&&g4(e,i,{get:()=>t[i],enumerable:!(n=O6e(t,i))||n.enumerable});return e};var Dc=(e,t,r)=>(r=e!=null?z6e(H6e(e)):{},V6e(t||!e||!e.__esModule?g4(r,"default",{value:e,enumerable:!0}):r,e));var y_=(e,t,r)=>(j6e(e,typeof t!="symbol"?t+"":t,r),r);var m4=$((Vwt,iN)=>{var G6e=typeof global=="object"&&global&&global.Object===Object&&global;iN.exports=G6e});var Th=$((Gwt,aN)=>{var Y6e=m4(),W6e=typeof self=="object"&&self&&self.Object===Object&&self,X6e=Y6e||W6e||Function("return this")();aN.exports=X6e});var tx=$((Ywt,oN)=>{var Z6e=Th(),$6e=Z6e.Symbol;oN.exports=$6e});var fN=$((Wwt,uN)=>{var sN=tx(),lN=Object.prototype,K6e=lN.hasOwnProperty,J6e=lN.toString,rx=sN?sN.toStringTag:void 0;function Q6e(e){var t=K6e.call(e,rx),r=e[rx];try{e[rx]=void 0;var n=!0}catch{}var i=J6e.call(e);return n&&(t?e[rx]=r:delete e[rx]),i}uN.exports=Q6e});var hN=$((Xwt,cN)=>{var eDe=Object.prototype,tDe=eDe.toString;function rDe(e){return tDe.call(e)}cN.exports=rDe});var a1=$((Zwt,pN)=>{var vN=tx(),nDe=fN(),iDe=hN(),aDe="[object Null]",oDe="[object Undefined]",dN=vN?vN.toStringTag:void 0;function sDe(e){return e==null?e===void 0?oDe:aDe:dN&&dN in Object(e)?nDe(e):iDe(e)}pN.exports=sDe});var x_=$(($wt,gN)=>{function lDe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}gN.exports=lDe});var y4=$((Kwt,mN)=>{var uDe=a1(),fDe=x_(),cDe="[object AsyncFunction]",hDe="[object Function]",vDe="[object GeneratorFunction]",dDe="[object Proxy]";function pDe(e){if(!fDe(e))return!1;var t=uDe(e);return t==hDe||t==vDe||t==cDe||t==dDe}mN.exports=pDe});var xN=$((Jwt,yN)=>{var gDe=Th(),mDe=gDe["__core-js_shared__"];yN.exports=mDe});var _N=$((Qwt,wN)=>{var x4=xN(),bN=function(){var e=/[^.]+$/.exec(x4&&x4.keys&&x4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yDe(e){return!!bN&&bN in e}wN.exports=yDe});var b4=$((e_t,TN)=>{var xDe=Function.prototype,bDe=xDe.toString;function wDe(e){if(e!=null){try{return bDe.call(e)}catch{}try{return e+""}catch{}}return""}TN.exports=wDe});var MN=$((t_t,AN)=>{var _De=y4(),TDe=_N(),ADe=x_(),MDe=b4(),kDe=/[\\^$.*+?()[\]{}|]/g,SDe=/^\[object .+?Constructor\]$/,EDe=Function.prototype,LDe=Object.prototype,CDe=EDe.toString,DDe=LDe.hasOwnProperty,qDe=RegExp("^"+CDe.call(DDe).replace(kDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RDe(e){if(!ADe(e)||TDe(e))return!1;var t=_De(e)?qDe:SDe;return t.test(MDe(e))}AN.exports=RDe});var SN=$((r_t,kN)=>{function IDe(e,t){return e?.[t]}kN.exports=IDe});var xd=$((n_t,EN)=>{var PDe=MN(),FDe=SN();function NDe(e,t){var r=FDe(e,t);return PDe(r)?r:void 0}EN.exports=NDe});var CN=$((i_t,LN)=>{var zDe=xd(),ODe=function(){try{var e=zDe(Object,"defineProperty");return e({},"",{}),e}catch{}}();LN.exports=ODe});var RN=$((a_t,qN)=>{var DN=CN();function BDe(e,t,r){t=="__proto__"&&DN?DN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}qN.exports=BDe});var PN=$((o_t,IN)=>{function HDe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(r(a[l],l,a)===!1)break}return t}}IN.exports=HDe});var NN=$((s_t,FN)=>{var UDe=PN(),jDe=UDe();FN.exports=jDe});var ON=$((l_t,zN)=>{function VDe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}zN.exports=VDe});var o1=$((u_t,BN)=>{function GDe(e){return e!=null&&typeof e=="object"}BN.exports=GDe});var UN=$((f_t,HN)=>{var YDe=a1(),WDe=o1(),XDe="[object Arguments]";function ZDe(e){return WDe(e)&&YDe(e)==XDe}HN.exports=ZDe});var w4=$((c_t,GN)=>{var jN=UN(),$De=o1(),VN=Object.prototype,KDe=VN.hasOwnProperty,JDe=VN.propertyIsEnumerable,QDe=jN(function(){return arguments}())?jN:function(e){return $De(e)&&KDe.call(e,"callee")&&!JDe.call(e,"callee")};GN.exports=QDe});var vv=$((h_t,YN)=>{var eqe=Array.isArray;YN.exports=eqe});var XN=$((v_t,WN)=>{function tqe(){return!1}WN.exports=tqe});var _4=$((nx,s1)=>{var rqe=Th(),nqe=XN(),KN=typeof nx=="object"&&nx&&!nx.nodeType&&nx,ZN=KN&&typeof s1=="object"&&s1&&!s1.nodeType&&s1,iqe=ZN&&ZN.exports===KN,$N=iqe?rqe.Buffer:void 0,aqe=$N?$N.isBuffer:void 0,oqe=aqe||nqe;s1.exports=oqe});var T4=$((d_t,JN)=>{var sqe=9007199254740991,lqe=/^(?:0|[1-9]\d*)$/;function uqe(e,t){var r=typeof e;return t=t??sqe,!!t&&(r=="number"||r!="symbol"&&lqe.test(e))&&e>-1&&e%1==0&&e<t}JN.exports=uqe});var b_=$((p_t,QN)=>{var fqe=9007199254740991;function cqe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fqe}QN.exports=cqe});var tz=$((g_t,ez)=>{var hqe=a1(),vqe=b_(),dqe=o1(),pqe="[object Arguments]",gqe="[object Array]",mqe="[object Boolean]",yqe="[object Date]",xqe="[object Error]",bqe="[object Function]",wqe="[object Map]",_qe="[object Number]",Tqe="[object Object]",Aqe="[object RegExp]",Mqe="[object Set]",kqe="[object String]",Sqe="[object WeakMap]",Eqe="[object ArrayBuffer]",Lqe="[object DataView]",Cqe="[object Float32Array]",Dqe="[object Float64Array]",qqe="[object Int8Array]",Rqe="[object Int16Array]",Iqe="[object Int32Array]",Pqe="[object Uint8Array]",Fqe="[object Uint8ClampedArray]",Nqe="[object Uint16Array]",zqe="[object Uint32Array]",Oa={};Oa[Cqe]=Oa[Dqe]=Oa[qqe]=Oa[Rqe]=Oa[Iqe]=Oa[Pqe]=Oa[Fqe]=Oa[Nqe]=Oa[zqe]=!0;Oa[pqe]=Oa[gqe]=Oa[Eqe]=Oa[mqe]=Oa[Lqe]=Oa[yqe]=Oa[xqe]=Oa[bqe]=Oa[wqe]=Oa[_qe]=Oa[Tqe]=Oa[Aqe]=Oa[Mqe]=Oa[kqe]=Oa[Sqe]=!1;function Oqe(e){return dqe(e)&&vqe(e.length)&&!!Oa[hqe(e)]}ez.exports=Oqe});var nz=$((m_t,rz)=>{function Bqe(e){return function(t){return e(t)}}rz.exports=Bqe});var az=$((ix,l1)=>{var Hqe=m4(),iz=typeof ix=="object"&&ix&&!ix.nodeType&&ix,ax=iz&&typeof l1=="object"&&l1&&!l1.nodeType&&l1,Uqe=ax&&ax.exports===iz,A4=Uqe&&Hqe.process,jqe=function(){try{var e=ax&&ax.require&&ax.require("util").types;return e||A4&&A4.binding&&A4.binding("util")}catch{}}();l1.exports=jqe});var M4=$((y_t,lz)=>{var Vqe=tz(),Gqe=nz(),oz=az(),sz=oz&&oz.isTypedArray,Yqe=sz?Gqe(sz):Vqe;lz.exports=Yqe});var fz=$((x_t,uz)=>{var Wqe=ON(),Xqe=w4(),Zqe=vv(),$qe=_4(),Kqe=T4(),Jqe=M4(),Qqe=Object.prototype,e8e=Qqe.hasOwnProperty;function t8e(e,t){var r=Zqe(e),n=!r&&Xqe(e),i=!r&&!n&&$qe(e),a=!r&&!n&&!i&&Jqe(e),o=r||n||i||a,s=o?Wqe(e.length,String):[],l=s.length;for(var u in e)(t||e8e.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kqe(u,l)))&&s.push(u);return s}uz.exports=t8e});var hz=$((b_t,cz)=>{var r8e=Object.prototype;function n8e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||r8e;return e===r}cz.exports=n8e});var dz=$((w_t,vz)=>{function i8e(e,t){return function(r){return e(t(r))}}vz.exports=i8e});var gz=$((__t,pz)=>{var a8e=dz(),o8e=a8e(Object.keys,Object);pz.exports=o8e});var yz=$((T_t,mz)=>{var s8e=hz(),l8e=gz(),u8e=Object.prototype,f8e=u8e.hasOwnProperty;function c8e(e){if(!s8e(e))return l8e(e);var t=[];for(var r in Object(e))f8e.call(e,r)&&r!="constructor"&&t.push(r);return t}mz.exports=c8e});var bz=$((A_t,xz)=>{var h8e=y4(),v8e=b_();function d8e(e){return e!=null&&v8e(e.length)&&!h8e(e)}xz.exports=d8e});var w_=$((M_t,wz)=>{var p8e=fz(),g8e=yz(),m8e=bz();function y8e(e){return m8e(e)?p8e(e):g8e(e)}wz.exports=y8e});var Tz=$((k_t,_z)=>{var x8e=NN(),b8e=w_();function w8e(e,t){return e&&x8e(e,t,b8e)}_z.exports=w8e});var Mz=$((S_t,Az)=>{function _8e(){this.__data__=[],this.size=0}Az.exports=_8e});var k4=$((E_t,kz)=>{function T8e(e,t){return e===t||e!==e&&t!==t}kz.exports=T8e});var ox=$((L_t,Sz)=>{var A8e=k4();function M8e(e,t){for(var r=e.length;r--;)if(A8e(e[r][0],t))return r;return-1}Sz.exports=M8e});var Lz=$((C_t,Ez)=>{var k8e=ox(),S8e=Array.prototype,E8e=S8e.splice;function L8e(e){var t=this.__data__,r=k8e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():E8e.call(t,r,1),--this.size,!0}Ez.exports=L8e});var Dz=$((D_t,Cz)=>{var C8e=ox();function D8e(e){var t=this.__data__,r=C8e(t,e);return r<0?void 0:t[r][1]}Cz.exports=D8e});var Rz=$((q_t,qz)=>{var q8e=ox();function R8e(e){return q8e(this.__data__,e)>-1}qz.exports=R8e});var Pz=$((R_t,Iz)=>{var I8e=ox();function P8e(e,t){var r=this.__data__,n=I8e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Iz.exports=P8e});var sx=$((I_t,Fz)=>{var F8e=Mz(),N8e=Lz(),z8e=Dz(),O8e=Rz(),B8e=Pz();function u1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u1.prototype.clear=F8e;u1.prototype.delete=N8e;u1.prototype.get=z8e;u1.prototype.has=O8e;u1.prototype.set=B8e;Fz.exports=u1});var zz=$((P_t,Nz)=>{var H8e=sx();function U8e(){this.__data__=new H8e,this.size=0}Nz.exports=U8e});var Bz=$((F_t,Oz)=>{function j8e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}Oz.exports=j8e});var Uz=$((N_t,Hz)=>{function V8e(e){return this.__data__.get(e)}Hz.exports=V8e});var Vz=$((z_t,jz)=>{function G8e(e){return this.__data__.has(e)}jz.exports=G8e});var __=$((O_t,Gz)=>{var Y8e=xd(),W8e=Th(),X8e=Y8e(W8e,"Map");Gz.exports=X8e});var lx=$((B_t,Yz)=>{var Z8e=xd(),$8e=Z8e(Object,"create");Yz.exports=$8e});var Zz=$((H_t,Xz)=>{var Wz=lx();function K8e(){this.__data__=Wz?Wz(null):{},this.size=0}Xz.exports=K8e});var Kz=$((U_t,$z)=>{function J8e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}$z.exports=J8e});var Qz=$((j_t,Jz)=>{var Q8e=lx(),eRe="__lodash_hash_undefined__",tRe=Object.prototype,rRe=tRe.hasOwnProperty;function nRe(e){var t=this.__data__;if(Q8e){var r=t[e];return r===eRe?void 0:r}return rRe.call(t,e)?t[e]:void 0}Jz.exports=nRe});var tO=$((V_t,eO)=>{var iRe=lx(),aRe=Object.prototype,oRe=aRe.hasOwnProperty;function sRe(e){var t=this.__data__;return iRe?t[e]!==void 0:oRe.call(t,e)}eO.exports=sRe});var nO=$((G_t,rO)=>{var lRe=lx(),uRe="__lodash_hash_undefined__";function fRe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lRe&&t===void 0?uRe:t,this}rO.exports=fRe});var aO=$((Y_t,iO)=>{var cRe=Zz(),hRe=Kz(),vRe=Qz(),dRe=tO(),pRe=nO();function f1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}f1.prototype.clear=cRe;f1.prototype.delete=hRe;f1.prototype.get=vRe;f1.prototype.has=dRe;f1.prototype.set=pRe;iO.exports=f1});var lO=$((W_t,sO)=>{var oO=aO(),gRe=sx(),mRe=__();function yRe(){this.size=0,this.__data__={hash:new oO,map:new(mRe||gRe),string:new oO}}sO.exports=yRe});var fO=$((X_t,uO)=>{function xRe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}uO.exports=xRe});var ux=$((Z_t,cO)=>{var bRe=fO();function wRe(e,t){var r=e.__data__;return bRe(t)?r[typeof t=="string"?"string":"hash"]:r.map}cO.exports=wRe});var vO=$(($_t,hO)=>{var _Re=ux();function TRe(e){var t=_Re(this,e).delete(e);return this.size-=t?1:0,t}hO.exports=TRe});var pO=$((K_t,dO)=>{var ARe=ux();function MRe(e){return ARe(this,e).get(e)}dO.exports=MRe});var mO=$((J_t,gO)=>{var kRe=ux();function SRe(e){return kRe(this,e).has(e)}gO.exports=SRe});var xO=$((Q_t,yO)=>{var ERe=ux();function LRe(e,t){var r=ERe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}yO.exports=LRe});var T_=$((e3t,bO)=>{var CRe=lO(),DRe=vO(),qRe=pO(),RRe=mO(),IRe=xO();function c1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c1.prototype.clear=CRe;c1.prototype.delete=DRe;c1.prototype.get=qRe;c1.prototype.has=RRe;c1.prototype.set=IRe;bO.exports=c1});var _O=$((t3t,wO)=>{var PRe=sx(),FRe=__(),NRe=T_(),zRe=200;function ORe(e,t){var r=this.__data__;if(r instanceof PRe){var n=r.__data__;if(!FRe||n.length<zRe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new NRe(n)}return r.set(e,t),this.size=r.size,this}wO.exports=ORe});var S4=$((r3t,TO)=>{var BRe=sx(),HRe=zz(),URe=Bz(),jRe=Uz(),VRe=Vz(),GRe=_O();function h1(e){var t=this.__data__=new BRe(e);this.size=t.size}h1.prototype.clear=HRe;h1.prototype.delete=URe;h1.prototype.get=jRe;h1.prototype.has=VRe;h1.prototype.set=GRe;TO.exports=h1});var MO=$((n3t,AO)=>{var YRe="__lodash_hash_undefined__";function WRe(e){return this.__data__.set(e,YRe),this}AO.exports=WRe});var SO=$((i3t,kO)=>{function XRe(e){return this.__data__.has(e)}kO.exports=XRe});var LO=$((a3t,EO)=>{var ZRe=T_(),$Re=MO(),KRe=SO();function A_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ZRe;++t<r;)this.add(e[t])}A_.prototype.add=A_.prototype.push=$Re;A_.prototype.has=KRe;EO.exports=A_});var DO=$((o3t,CO)=>{function JRe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}CO.exports=JRe});var RO=$((s3t,qO)=>{function QRe(e,t){return e.has(t)}qO.exports=QRe});var E4=$((l3t,IO)=>{var eIe=LO(),tIe=DO(),rIe=RO(),nIe=1,iIe=2;function aIe(e,t,r,n,i,a){var o=r&nIe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var c=-1,h=!0,v=r&iIe?new eIe:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var b=e[c],y=t[c];if(n)var x=o?n(y,b,c,t,e,a):n(b,y,c,e,t,a);if(x!==void 0){if(x)continue;h=!1;break}if(v){if(!tIe(t,function(m,_){if(!rIe(v,_)&&(b===m||i(b,m,r,n,a)))return v.push(_)})){h=!1;break}}else if(!(b===y||i(b,y,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}IO.exports=aIe});var FO=$((u3t,PO)=>{var oIe=Th(),sIe=oIe.Uint8Array;PO.exports=sIe});var zO=$((f3t,NO)=>{function lIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}NO.exports=lIe});var BO=$((c3t,OO)=>{function uIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}OO.exports=uIe});var GO=$((h3t,VO)=>{var HO=tx(),UO=FO(),fIe=k4(),cIe=E4(),hIe=zO(),vIe=BO(),dIe=1,pIe=2,gIe="[object Boolean]",mIe="[object Date]",yIe="[object Error]",xIe="[object Map]",bIe="[object Number]",wIe="[object RegExp]",_Ie="[object Set]",TIe="[object String]",AIe="[object Symbol]",MIe="[object ArrayBuffer]",kIe="[object DataView]",jO=HO?HO.prototype:void 0,L4=jO?jO.valueOf:void 0;function SIe(e,t,r,n,i,a,o){switch(r){case kIe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case MIe:return!(e.byteLength!=t.byteLength||!a(new UO(e),new UO(t)));case gIe:case mIe:case bIe:return fIe(+e,+t);case yIe:return e.name==t.name&&e.message==t.message;case wIe:case TIe:return e==t+"";case xIe:var s=hIe;case _Ie:var l=n&dIe;if(s||(s=vIe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=pIe,o.set(e,t);var f=cIe(s(e),s(t),n,i,a,o);return o.delete(e),f;case AIe:if(L4)return L4.call(e)==L4.call(t)}return!1}VO.exports=SIe});var WO=$((v3t,YO)=>{function EIe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}YO.exports=EIe});var ZO=$((d3t,XO)=>{var LIe=WO(),CIe=vv();function DIe(e,t,r){var n=t(e);return CIe(e)?n:LIe(n,r(e))}XO.exports=DIe});var KO=$((p3t,$O)=>{function qIe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}$O.exports=qIe});var QO=$((g3t,JO)=>{function RIe(){return[]}JO.exports=RIe});var rB=$((m3t,tB)=>{var IIe=KO(),PIe=QO(),FIe=Object.prototype,NIe=FIe.propertyIsEnumerable,eB=Object.getOwnPropertySymbols,zIe=eB?function(e){return e==null?[]:(e=Object(e),IIe(eB(e),function(t){return NIe.call(e,t)}))}:PIe;tB.exports=zIe});var iB=$((y3t,nB)=>{var OIe=ZO(),BIe=rB(),HIe=w_();function UIe(e){return OIe(e,HIe,BIe)}nB.exports=UIe});var sB=$((x3t,oB)=>{var aB=iB(),jIe=1,VIe=Object.prototype,GIe=VIe.hasOwnProperty;function YIe(e,t,r,n,i,a){var o=r&jIe,s=aB(e),l=s.length,u=aB(t),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=s[c];if(!(o?h in t:GIe.call(t,h)))return!1}var v=a.get(e),b=a.get(t);if(v&&b)return v==t&&b==e;var y=!0;a.set(e,t),a.set(t,e);for(var x=o;++c<l;){h=s[c];var m=e[h],_=t[h];if(n)var g=o?n(_,m,h,t,e,a):n(m,_,h,e,t,a);if(!(g===void 0?m===_||i(m,_,r,n,a):g)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var A=e.constructor,w=t.constructor;A!=w&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof w=="function"&&w instanceof w)&&(y=!1)}return a.delete(e),a.delete(t),y}oB.exports=YIe});var uB=$((b3t,lB)=>{var WIe=xd(),XIe=Th(),ZIe=WIe(XIe,"DataView");lB.exports=ZIe});var cB=$((w3t,fB)=>{var $Ie=xd(),KIe=Th(),JIe=$Ie(KIe,"Promise");fB.exports=JIe});var vB=$((_3t,hB)=>{var QIe=xd(),ePe=Th(),tPe=QIe(ePe,"Set");hB.exports=tPe});var pB=$((T3t,dB)=>{var rPe=xd(),nPe=Th(),iPe=rPe(nPe,"WeakMap");dB.exports=iPe});var TB=$((A3t,_B)=>{var C4=uB(),D4=__(),q4=cB(),R4=vB(),I4=pB(),wB=a1(),v1=b4(),gB="[object Map]",aPe="[object Object]",mB="[object Promise]",yB="[object Set]",xB="[object WeakMap]",bB="[object DataView]",oPe=v1(C4),sPe=v1(D4),lPe=v1(q4),uPe=v1(R4),fPe=v1(I4),j0=wB;(C4&&j0(new C4(new ArrayBuffer(1)))!=bB||D4&&j0(new D4)!=gB||q4&&j0(q4.resolve())!=mB||R4&&j0(new R4)!=yB||I4&&j0(new I4)!=xB)&&(j0=function(e){var t=wB(e),r=t==aPe?e.constructor:void 0,n=r?v1(r):"";if(n)switch(n){case oPe:return bB;case sPe:return gB;case lPe:return mB;case uPe:return yB;case fPe:return xB}return t});_B.exports=j0});var DB=$((M3t,CB)=>{var P4=S4(),cPe=E4(),hPe=GO(),vPe=sB(),AB=TB(),MB=vv(),kB=_4(),dPe=M4(),pPe=1,SB="[object Arguments]",EB="[object Array]",M_="[object Object]",gPe=Object.prototype,LB=gPe.hasOwnProperty;function mPe(e,t,r,n,i,a){var o=MB(e),s=MB(t),l=o?EB:AB(e),u=s?EB:AB(t);l=l==SB?M_:l,u=u==SB?M_:u;var f=l==M_,c=u==M_,h=l==u;if(h&&kB(e)){if(!kB(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new P4),o||dPe(e)?cPe(e,t,r,n,i,a):hPe(e,t,l,r,n,i,a);if(!(r&pPe)){var v=f&&LB.call(e,"__wrapped__"),b=c&&LB.call(t,"__wrapped__");if(v||b){var y=v?e.value():e,x=b?t.value():t;return a||(a=new P4),i(y,x,r,n,a)}}return h?(a||(a=new P4),vPe(e,t,r,n,i,a)):!1}CB.exports=mPe});var F4=$((k3t,IB)=>{var yPe=DB(),qB=o1();function RB(e,t,r,n,i){return e===t?!0:e==null||t==null||!qB(e)&&!qB(t)?e!==e&&t!==t:yPe(e,t,r,n,RB,i)}IB.exports=RB});var FB=$((S3t,PB)=>{var xPe=S4(),bPe=F4(),wPe=1,_Pe=2;function TPe(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var l=s[0],u=e[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var c=new xPe;if(n)var h=n(u,f,l,e,t,c);if(!(h===void 0?bPe(f,u,wPe|_Pe,n,c):h))return!1}}return!0}PB.exports=TPe});var N4=$((E3t,NB)=>{var APe=x_();function MPe(e){return e===e&&!APe(e)}NB.exports=MPe});var OB=$((L3t,zB)=>{var kPe=N4(),SPe=w_();function EPe(e){for(var t=SPe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,kPe(i)]}return t}zB.exports=EPe});var z4=$((C3t,BB)=>{function LPe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}BB.exports=LPe});var UB=$((D3t,HB)=>{var CPe=FB(),DPe=OB(),qPe=z4();function RPe(e){var t=DPe(e);return t.length==1&&t[0][2]?qPe(t[0][0],t[0][1]):function(r){return r===e||CPe(r,e,t)}}HB.exports=RPe});var k_=$((q3t,jB)=>{var IPe=a1(),PPe=o1(),FPe="[object Symbol]";function NPe(e){return typeof e=="symbol"||PPe(e)&&IPe(e)==FPe}jB.exports=NPe});var S_=$((R3t,VB)=>{var zPe=vv(),OPe=k_(),BPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HPe=/^\w*$/;function UPe(e,t){if(zPe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||OPe(e)?!0:HPe.test(e)||!BPe.test(e)||t!=null&&e in Object(t)}VB.exports=UPe});var WB=$((I3t,YB)=>{var GB=T_(),jPe="Expected a function";function O4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jPe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(O4.Cache||GB),r}O4.Cache=GB;YB.exports=O4});var ZB=$((P3t,XB)=>{var VPe=WB(),GPe=500;function YPe(e){var t=VPe(e,function(n){return r.size===GPe&&r.clear(),n}),r=t.cache;return t}XB.exports=YPe});var KB=$((F3t,$B)=>{var WPe=ZB(),XPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZPe=/\\(\\)?/g,$Pe=WPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(XPe,function(r,n,i,a){t.push(i?a.replace(ZPe,"$1"):n||r)}),t});$B.exports=$Pe});var QB=$((N3t,JB)=>{function KPe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}JB.exports=KPe});var aH=$((z3t,iH)=>{var eH=tx(),JPe=QB(),QPe=vv(),e7e=k_(),t7e=1/0,tH=eH?eH.prototype:void 0,rH=tH?tH.toString:void 0;function nH(e){if(typeof e=="string")return e;if(QPe(e))return JPe(e,nH)+"";if(e7e(e))return rH?rH.call(e):"";var t=e+"";return t=="0"&&1/e==-t7e?"-0":t}iH.exports=nH});var sH=$((O3t,oH)=>{var r7e=aH();function n7e(e){return e==null?"":r7e(e)}oH.exports=n7e});var B4=$((B3t,lH)=>{var i7e=vv(),a7e=S_(),o7e=KB(),s7e=sH();function l7e(e,t){return i7e(e)?e:a7e(e,t)?[e]:o7e(s7e(e))}lH.exports=l7e});var fx=$((H3t,uH)=>{var u7e=k_(),f7e=1/0;function c7e(e){if(typeof e=="string"||u7e(e))return e;var t=e+"";return t=="0"&&1/e==-f7e?"-0":t}uH.exports=c7e});var H4=$((U3t,fH)=>{var h7e=B4(),v7e=fx();function d7e(e,t){t=h7e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[v7e(t[r++])];return r&&r==n?e:void 0}fH.exports=d7e});var U4=$((j3t,cH)=>{var p7e=H4();function g7e(e,t,r){var n=e==null?void 0:p7e(e,t);return n===void 0?r:n}cH.exports=g7e});var vH=$((V3t,hH)=>{function m7e(e,t){return e!=null&&t in Object(e)}hH.exports=m7e});var pH=$((G3t,dH)=>{var y7e=B4(),x7e=w4(),b7e=vv(),w7e=T4(),_7e=b_(),T7e=fx();function A7e(e,t,r){t=y7e(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=T7e(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&_7e(i)&&w7e(o,i)&&(b7e(e)||x7e(e)))}dH.exports=A7e});var mH=$((Y3t,gH)=>{var M7e=vH(),k7e=pH();function S7e(e,t){return e!=null&&k7e(e,t,M7e)}gH.exports=S7e});var xH=$((W3t,yH)=>{var E7e=F4(),L7e=U4(),C7e=mH(),D7e=S_(),q7e=N4(),R7e=z4(),I7e=fx(),P7e=1,F7e=2;function N7e(e,t){return D7e(e)&&q7e(t)?R7e(I7e(e),t):function(r){var n=L7e(r,e);return n===void 0&&n===t?C7e(r,e):E7e(t,n,P7e|F7e)}}yH.exports=N7e});var wH=$((X3t,bH)=>{function z7e(e){return e}bH.exports=z7e});var TH=$((Z3t,_H)=>{function O7e(e){return function(t){return t?.[e]}}_H.exports=O7e});var MH=$(($3t,AH)=>{var B7e=H4();function H7e(e){return function(t){return B7e(t,e)}}AH.exports=H7e});var SH=$((K3t,kH)=>{var U7e=TH(),j7e=MH(),V7e=S_(),G7e=fx();function Y7e(e){return V7e(e)?U7e(G7e(e)):j7e(e)}kH.exports=Y7e});var LH=$((J3t,EH)=>{var W7e=UB(),X7e=xH(),Z7e=wH(),$7e=vv(),K7e=SH();function J7e(e){return typeof e=="function"?e:e==null?Z7e:typeof e=="object"?$7e(e)?X7e(e[0],e[1]):W7e(e):K7e(e)}EH.exports=J7e});var DH=$((Q3t,CH)=>{var Q7e=RN(),e9e=Tz(),t9e=LH();function r9e(e,t){var r={};return t=t9e(t,3),e9e(e,function(n,i,a){Q7e(r,i,t(n,i,a))}),r}CH.exports=r9e});var E_=$(IH=>{"use strict";IH.version="2.14.0"});var FH=$((PH,L_)=>{(function(t,r,n){r[t]=r[t]||n(),typeof L_<"u"&&L_.exports?L_.exports=r[t]:typeof define=="function"&&define.amd&&define(function(){return r[t]})})("Promise",typeof global<"u"?global:PH,function(){"use strict";var t,r,n,i=Object.prototype.toString,a=typeof setImmediate<"u"?function(_){return setImmediate(_)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(_,g,A,w){return Object.defineProperty(_,g,{value:A,writable:!0,configurable:w!==!1})}}catch{t=function(g,A,w){return g[A]=w,g}}n=function(){var _,g,A;function w(k,p){this.fn=k,this.self=p,this.next=void 0}return{add:function(p,d){A=new w(p,d),g?g.next=A:_=A,g=A,A=void 0},drain:function(){var p=_;for(_=g=r=void 0;p;)p.fn.call(p.self),p=p.next}}}();function o(m,_){n.add(m,_),r||(r=a(n.drain))}function s(m){var _,g=typeof m;return m!=null&&(g=="object"||g=="function")&&(_=m.then),typeof _=="function"?_:!1}function l(){for(var m=0;m<this.chain.length;m++)u(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function u(m,_,g){var A,w;try{_===!1?g.reject(m.msg):(_===!0?A=m.msg:A=_.call(void 0,m.msg),A===g.promise?g.reject(TypeError("Promise-chain cycle")):(w=s(A))?w.call(A,g.resolve,g.reject):g.resolve(A))}catch(k){g.reject(k)}}function f(m){var _,g=this;if(!g.triggered){g.triggered=!0,g.def&&(g=g.def);try{(_=s(m))?o(function(){var A=new v(g);try{_.call(m,function(){f.apply(A,arguments)},function(){c.apply(A,arguments)})}catch(w){c.call(A,w)}}):(g.msg=m,g.state=1,g.chain.length>0&&o(l,g))}catch(A){c.call(new v(g),A)}}}function c(m){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=m,_.state=2,_.chain.length>0&&o(l,_))}function h(m,_,g,A){for(var w=0;w<_.length;w++)(function(p){m.resolve(_[p]).then(function(M){g(p,M)},A)})(w)}function v(m){this.def=m,this.triggered=!1}function b(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _=new b(this);this.then=function(A,w){var k={success:typeof A=="function"?A:!0,failure:typeof w=="function"?w:!1};return k.promise=new this.constructor(function(d,M){if(typeof d!="function"||typeof M!="function")throw TypeError("Not a function");k.resolve=d,k.reject=M}),_.chain.push(k),_.state!==0&&o(l,_),k.promise},this.catch=function(A){return this.then(void 0,A)};try{m.call(void 0,function(A){f.call(_,A)},function(A){c.call(_,A)})}catch(g){c.call(_,g)}}var x=t({},"constructor",y,!1);return y.prototype=x,t(x,"__NPO__",0,!1),t(y,"resolve",function(_){var g=this;return _&&typeof _=="object"&&_.__NPO__===1?_:new g(function(w,k){if(typeof w!="function"||typeof k!="function")throw TypeError("Not a function");w(_)})}),t(y,"reject",function(_){return new this(function(A,w){if(typeof A!="function"||typeof w!="function")throw TypeError("Not a function");w(_)})}),t(y,"all",function(_){var g=this;return i.call(_)!="[object Array]"?g.reject(TypeError("Not an array")):_.length===0?g.resolve([]):new g(function(w,k){if(typeof w!="function"||typeof k!="function")throw TypeError("Not a function");var p=_.length,d=Array(p),M=0;h(g,_,function(S,E){d[S]=E,++M===p&&w(d)},k)})}),t(y,"race",function(_){var g=this;return i.call(_)!="[object Array]"?g.reject(TypeError("Not an array")):new g(function(w,k){if(typeof w!="function"||typeof k!="function")throw TypeError("Not a function");h(g,_,function(d,M){w(M)},k)})}),y})});var Nr=$((nTt,C_)=>{(function(){var e={version:"3.8.0"},t=[].slice,r=function(P){return t.call(P)},n=self.document;function i(P){return P&&(P.ownerDocument||P.document||P).documentElement}function a(P){return P&&(P.ownerDocument&&P.ownerDocument.defaultView||P.document&&P||P.defaultView)}if(n)try{r(n.documentElement.childNodes)[0].nodeType}catch{r=function(H){for(var W=H.length,ie=new Array(W);W--;)ie[W]=H[W];return ie}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch{var o=this.Element.prototype,s=o.setAttribute,l=o.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;o.setAttribute=function(H,W){s.call(this,H,W+"")},o.setAttributeNS=function(H,W,ie){l.call(this,H,W,ie+"")},u.setProperty=function(H,W,ie){f.call(this,H,W+"",ie)}}e.ascending=c;function c(P,H){return P<H?-1:P>H?1:P>=H?0:NaN}e.descending=function(P,H){return H<P?-1:H>P?1:H>=P?0:NaN},e.min=function(P,H){var W=-1,ie=P.length,ue,he;if(arguments.length===1){for(;++W<ie;)if((he=P[W])!=null&&he>=he){ue=he;break}for(;++W<ie;)(he=P[W])!=null&&ue>he&&(ue=he)}else{for(;++W<ie;)if((he=H.call(P,P[W],W))!=null&&he>=he){ue=he;break}for(;++W<ie;)(he=H.call(P,P[W],W))!=null&&ue>he&&(ue=he)}return ue},e.max=function(P,H){var W=-1,ie=P.length,ue,he;if(arguments.length===1){for(;++W<ie;)if((he=P[W])!=null&&he>=he){ue=he;break}for(;++W<ie;)(he=P[W])!=null&&he>ue&&(ue=he)}else{for(;++W<ie;)if((he=H.call(P,P[W],W))!=null&&he>=he){ue=he;break}for(;++W<ie;)(he=H.call(P,P[W],W))!=null&&he>ue&&(ue=he)}return ue},e.extent=function(P,H){var W=-1,ie=P.length,ue,he,Ee;if(arguments.length===1){for(;++W<ie;)if((he=P[W])!=null&&he>=he){ue=Ee=he;break}for(;++W<ie;)(he=P[W])!=null&&(ue>he&&(ue=he),Ee<he&&(Ee=he))}else{for(;++W<ie;)if((he=H.call(P,P[W],W))!=null&&he>=he){ue=Ee=he;break}for(;++W<ie;)(he=H.call(P,P[W],W))!=null&&(ue>he&&(ue=he),Ee<he&&(Ee=he))}return[ue,Ee]};function h(P){return P===null?NaN:+P}function v(P){return!isNaN(P)}e.sum=function(P,H){var W=0,ie=P.length,ue,he=-1;if(arguments.length===1)for(;++he<ie;)v(ue=+P[he])&&(W+=ue);else for(;++he<ie;)v(ue=+H.call(P,P[he],he))&&(W+=ue);return W},e.mean=function(P,H){var W=0,ie=P.length,ue,he=-1,Ee=ie;if(arguments.length===1)for(;++he<ie;)v(ue=h(P[he]))?W+=ue:--Ee;else for(;++he<ie;)v(ue=h(H.call(P,P[he],he)))?W+=ue:--Ee;if(Ee)return W/Ee},e.quantile=function(P,H){var W=(P.length-1)*H+1,ie=Math.floor(W),ue=+P[ie-1],he=W-ie;return he?ue+he*(P[ie]-ue):ue},e.median=function(P,H){var W=[],ie=P.length,ue,he=-1;if(arguments.length===1)for(;++he<ie;)v(ue=h(P[he]))&&W.push(ue);else for(;++he<ie;)v(ue=h(H.call(P,P[he],he)))&&W.push(ue);if(W.length)return e.quantile(W.sort(c),.5)},e.variance=function(P,H){var W=P.length,ie=0,ue,he,Ee=0,we=-1,Ne=0;if(arguments.length===1)for(;++we<W;)v(ue=h(P[we]))&&(he=ue-ie,ie+=he/++Ne,Ee+=he*(ue-ie));else for(;++we<W;)v(ue=h(H.call(P,P[we],we)))&&(he=ue-ie,ie+=he/++Ne,Ee+=he*(ue-ie));if(Ne>1)return Ee/(Ne-1)},e.deviation=function(){var P=e.variance.apply(this,arguments);return P&&Math.sqrt(P)};function b(P){return{left:function(H,W,ie,ue){for(arguments.length<3&&(ie=0),arguments.length<4&&(ue=H.length);ie<ue;){var he=ie+ue>>>1;P(H[he],W)<0?ie=he+1:ue=he}return ie},right:function(H,W,ie,ue){for(arguments.length<3&&(ie=0),arguments.length<4&&(ue=H.length);ie<ue;){var he=ie+ue>>>1;P(H[he],W)>0?ue=he:ie=he+1}return ie}}}var y=b(c);e.bisectLeft=y.left,e.bisect=e.bisectRight=y.right,e.bisector=function(P){return b(P.length===1?function(H,W){return c(P(H),W)}:P)},e.shuffle=function(P,H,W){(ie=arguments.length)<3&&(W=P.length,ie<2&&(H=0));for(var ie=W-H,ue,he;ie;)he=Math.random()*ie--|0,ue=P[ie+H],P[ie+H]=P[he+H],P[he+H]=ue;return P},e.permute=function(P,H){for(var W=H.length,ie=new Array(W);W--;)ie[W]=P[H[W]];return ie},e.pairs=function(P){for(var H=0,W=P.length-1,ie,ue=P[0],he=new Array(W<0?0:W);H<W;)he[H]=[ie=ue,ue=P[++H]];return he},e.transpose=function(P){if(!(he=P.length))return[];for(var H=-1,W=e.min(P,x),ie=new Array(W);++H<W;)for(var ue=-1,he,Ee=ie[H]=new Array(he);++ue<he;)Ee[ue]=P[ue][H];return ie};function x(P){return P.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(P){var H=[];for(var W in P)H.push(W);return H},e.values=function(P){var H=[];for(var W in P)H.push(P[W]);return H},e.entries=function(P){var H=[];for(var W in P)H.push({key:W,value:P[W]});return H},e.merge=function(P){for(var H=P.length,W,ie=-1,ue=0,he,Ee;++ie<H;)ue+=P[ie].length;for(he=new Array(ue);--H>=0;)for(Ee=P[H],W=Ee.length;--W>=0;)he[--ue]=Ee[W];return he};var m=Math.abs;e.range=function(P,H,W){if(arguments.length<3&&(W=1,arguments.length<2&&(H=P,P=0)),(H-P)/W===1/0)throw new Error("infinite range");var ie=[],ue=_(m(W)),he=-1,Ee;if(P*=ue,H*=ue,W*=ue,W<0)for(;(Ee=P+W*++he)>H;)ie.push(Ee/ue);else for(;(Ee=P+W*++he)<H;)ie.push(Ee/ue);return ie};function _(P){for(var H=1;P*H%1;)H*=10;return H}function g(P,H){for(var W in H)Object.defineProperty(P.prototype,W,{value:H[W],enumerable:!1})}e.map=function(P,H){var W=new A;if(P instanceof A)P.forEach(function(we,Ne){W.set(we,Ne)});else if(Array.isArray(P)){var ie=-1,ue=P.length,he;if(arguments.length===1)for(;++ie<ue;)W.set(ie,P[ie]);else for(;++ie<ue;)W.set(H.call(P,he=P[ie],ie),he)}else for(var Ee in P)W.set(Ee,P[Ee]);return W};function A(){this._=Object.create(null)}var w="__proto__",k="\0";g(A,{has:M,get:function(P){return this._[p(P)]},set:function(P,H){return this._[p(P)]=H},remove:T,keys:S,values:function(){var P=[];for(var H in this._)P.push(this._[H]);return P},entries:function(){var P=[];for(var H in this._)P.push({key:d(H),value:this._[H]});return P},size:E,empty:L,forEach:function(P){for(var H in this._)P.call(this,d(H),this._[H])}});function p(P){return(P+="")===w||P[0]===k?k+P:P}function d(P){return(P+="")[0]===k?P.slice(1):P}function M(P){return p(P)in this._}function T(P){return(P=p(P))in this._&&delete this._[P]}function S(){var P=[];for(var H in this._)P.push(d(H));return P}function E(){var P=0;for(var H in this._)++P;return P}function L(){for(var P in this._)return!1;return!0}e.nest=function(){var P={},H=[],W=[],ie,ue;function he(we,Ne,Ye){if(Ye>=H.length)return ue?ue.call(P,Ne):ie?Ne.sort(ie):Ne;for(var Xe=-1,ft=Ne.length,ct=H[Ye++],Dt,Ft,vt,bt=new A,Mt;++Xe<ft;)(Mt=bt.get(Dt=ct(Ft=Ne[Xe])))?Mt.push(Ft):bt.set(Dt,[Ft]);return we?(Ft=we(),vt=function(Nt,zt){Ft.set(Nt,he(we,zt,Ye))}):(Ft={},vt=function(Nt,zt){Ft[Nt]=he(we,zt,Ye)}),bt.forEach(vt),Ft}function Ee(we,Ne){if(Ne>=H.length)return we;var Ye=[],Xe=W[Ne++];return we.forEach(function(ft,ct){Ye.push({key:ft,values:Ee(ct,Ne)})}),Xe?Ye.sort(function(ft,ct){return Xe(ft.key,ct.key)}):Ye}return P.map=function(we,Ne){return he(Ne,we,0)},P.entries=function(we){return Ee(he(e.map,we,0),0)},P.key=function(we){return H.push(we),P},P.sortKeys=function(we){return W[H.length-1]=we,P},P.sortValues=function(we){return ie=we,P},P.rollup=function(we){return ue=we,P},P},e.set=function(P){var H=new D;if(P)for(var W=0,ie=P.length;W<ie;++W)H.add(P[W]);return H};function D(){this._=Object.create(null)}g(D,{has:M,add:function(P){return this._[p(P+="")]=!0,P},remove:T,values:S,size:E,empty:L,forEach:function(P){for(var H in this._)P.call(this,d(H))}}),e.behavior={};function R(P){return P}e.rebind=function(P,H){for(var W=1,ie=arguments.length,ue;++W<ie;)P[ue=arguments[W]]=q(P,H,H[ue]);return P};function q(P,H,W){return function(){var ie=W.apply(H,arguments);return ie===H?P:ie}}function C(P,H){if(H in P)return H;H=H.charAt(0).toUpperCase()+H.slice(1);for(var W=0,ie=F.length;W<ie;++W){var ue=F[W]+H;if(ue in P)return ue}}var F=["webkit","ms","moz","Moz","o","O"];function N(){}e.dispatch=function(){for(var P=new U,H=-1,W=arguments.length;++H<W;)P[arguments[H]]=V(P);return P};function U(){}U.prototype.on=function(P,H){var W=P.indexOf("."),ie="";if(W>=0&&(ie=P.slice(W+1),P=P.slice(0,W)),P)return arguments.length<2?this[P].on(ie):this[P].on(ie,H);if(arguments.length===2){if(H==null)for(P in this)this.hasOwnProperty(P)&&this[P].on(ie,null);return this}};function V(P){var H=[],W=new A;function ie(){for(var ue=H,he=-1,Ee=ue.length,we;++he<Ee;)(we=ue[he].on)&&we.apply(this,arguments);return P}return ie.on=function(ue,he){var Ee=W.get(ue),we;return arguments.length<2?Ee&&Ee.on:(Ee&&(Ee.on=null,H=H.slice(0,we=H.indexOf(Ee)).concat(H.slice(we+1)),W.remove(ue)),he&&H.push(W.set(ue,{on:he})),P)},ie}e.event=null;function Y(){e.event.preventDefault()}function K(){for(var P=e.event,H;H=P.sourceEvent;)P=H;return P}function B(P){for(var H=new U,W=0,ie=arguments.length;++W<ie;)H[arguments[W]]=V(H);return H.of=function(ue,he){return function(Ee){try{var we=Ee.sourceEvent=e.event;Ee.target=P,e.event=Ee,H[Ee.type].apply(ue,he)}finally{e.event=we}}},H}e.requote=function(P){return P.replace(z,"\\$&")};var z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,j={}.__proto__?function(P,H){P.__proto__=H}:function(P,H){for(var W in H)P[W]=H[W]};function ae(P){return j(P,se),P}var ee=function(P,H){return H.querySelector(P)},ve=function(P,H){return H.querySelectorAll(P)},fe=function(P,H){var W=P.matches||P[C(P,"matchesSelector")];return fe=function(ie,ue){return W.call(ie,ue)},fe(P,H)};typeof Sizzle=="function"&&(ee=function(P,H){return Sizzle(P,H)[0]||null},ve=Sizzle,fe=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var se=e.selection.prototype=[];se.select=function(P){var H=[],W,ie,ue,he;P=G(P);for(var Ee=-1,we=this.length;++Ee<we;){H.push(W=[]),W.parentNode=(ue=this[Ee]).parentNode;for(var Ne=-1,Ye=ue.length;++Ne<Ye;)(he=ue[Ne])?(W.push(ie=P.call(he,he.__data__,Ne,Ee)),ie&&"__data__"in he&&(ie.__data__=he.__data__)):W.push(null)}return ae(H)};function G(P){return typeof P=="function"?P:function(){return ee(P,this)}}se.selectAll=function(P){var H=[],W,ie;P=Z(P);for(var ue=-1,he=this.length;++ue<he;)for(var Ee=this[ue],we=-1,Ne=Ee.length;++we<Ne;)(ie=Ee[we])&&(H.push(W=r(P.call(ie,ie.__data__,we,ue))),W.parentNode=ie);return ae(H)};function Z(P){return typeof P=="function"?P:function(){return ve(P,this)}}var X="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:ge,qualify:function(P){var H=P.indexOf(":"),W=P;return H>=0&&(W=P.slice(0,H))!=="xmlns"&&(P=P.slice(H+1)),ge.hasOwnProperty(W)?{space:ge[W],local:P}:P}},se.attr=function(P,H){if(arguments.length<2){if(typeof P=="string"){var W=this.node();return P=e.ns.qualify(P),P.local?W.getAttributeNS(P.space,P.local):W.getAttribute(P)}for(H in P)this.each(qe(H,P[H]));return this}return this.each(qe(P,H))};function qe(P,H){P=e.ns.qualify(P);function W(){this.removeAttribute(P)}function ie(){this.removeAttributeNS(P.space,P.local)}function ue(){this.setAttribute(P,H)}function he(){this.setAttributeNS(P.space,P.local,H)}function Ee(){var Ne=H.apply(this,arguments);Ne==null?this.removeAttribute(P):this.setAttribute(P,Ne)}function we(){var Ne=H.apply(this,arguments);Ne==null?this.removeAttributeNS(P.space,P.local):this.setAttributeNS(P.space,P.local,Ne)}return H==null?P.local?ie:W:typeof H=="function"?P.local?we:Ee:P.local?he:ue}function Pe(P){return P.trim().replace(/\s+/g," ")}se.classed=function(P,H){if(arguments.length<2){if(typeof P=="string"){var W=this.node(),ie=(P=de(P)).length,ue=-1;if(H=W.classList){for(;++ue<ie;)if(!H.contains(P[ue]))return!1}else for(H=W.getAttribute("class");++ue<ie;)if(!Oe(P[ue]).test(H))return!1;return!0}for(H in P)this.each(_e(H,P[H]));return this}return this.each(_e(P,H))};function Oe(P){return new RegExp("(?:^|\\s+)"+e.requote(P)+"(?:\\s+|$)","g")}function de(P){return(P+"").trim().split(/^|\s+/)}function _e(P,H){P=de(P).map(ce);var W=P.length;function ie(){for(var he=-1;++he<W;)P[he](this,H)}function ue(){for(var he=-1,Ee=H.apply(this,arguments);++he<W;)P[he](this,Ee)}return typeof H=="function"?ue:ie}function ce(P){var H=Oe(P);return function(W,ie){if(ue=W.classList)return ie?ue.add(P):ue.remove(P);var ue=W.getAttribute("class")||"";ie?(H.lastIndex=0,H.test(ue)||W.setAttribute("class",Pe(ue+" "+P))):W.setAttribute("class",Pe(ue.replace(H," ")))}}se.style=function(P,H,W){var ie=arguments.length;if(ie<3){if(typeof P!="string"){ie<2&&(H="");for(W in P)this.each(J(W,P[W],H));return this}if(ie<2){var ue=this.node();return a(ue).getComputedStyle(ue,null).getPropertyValue(P)}W=""}return this.each(J(P,H,W))};function J(P,H,W){function ie(){this.style.removeProperty(P)}function ue(){this.style.setProperty(P,H,W)}function he(){var Ee=H.apply(this,arguments);Ee==null?this.style.removeProperty(P):this.style.setProperty(P,Ee,W)}return H==null?ie:typeof H=="function"?he:ue}se.property=function(P,H){if(arguments.length<2){if(typeof P=="string")return this.node()[P];for(H in P)this.each(ne(H,P[H]));return this}return this.each(ne(P,H))};function ne(P,H){function W(){delete this[P]}function ie(){this[P]=H}function ue(){var he=H.apply(this,arguments);he==null?delete this[P]:this[P]=he}return H==null?W:typeof H=="function"?ue:ie}se.text=function(P){return arguments.length?this.each(typeof P=="function"?function(){var H=P.apply(this,arguments);this.textContent=H??""}:P==null?function(){this.textContent=""}:function(){this.textContent=P}):this.node().textContent},se.html=function(P){return arguments.length?this.each(typeof P=="function"?function(){var H=P.apply(this,arguments);this.innerHTML=H??""}:P==null?function(){this.innerHTML=""}:function(){this.innerHTML=P}):this.node().innerHTML},se.append=function(P){return P=be(P),this.select(function(){return this.appendChild(P.apply(this,arguments))})};function be(P){function H(){var ie=this.ownerDocument,ue=this.namespaceURI;return ue===X&&ie.documentElement.namespaceURI===X?ie.createElement(P):ie.createElementNS(ue,P)}function W(){return this.ownerDocument.createElementNS(P.space,P.local)}return typeof P=="function"?P:(P=e.ns.qualify(P)).local?W:H}se.insert=function(P,H){return P=be(P),H=G(H),this.select(function(){return this.insertBefore(P.apply(this,arguments),H.apply(this,arguments)||null)})},se.remove=function(){return this.each(Fe)};function Fe(){var P=this.parentNode;P&&P.removeChild(this)}se.data=function(P,H){var W=-1,ie=this.length,ue,he;if(!arguments.length){for(P=new Array(ie=(ue=this[0]).length);++W<ie;)(he=ue[W])&&(P[W]=he.__data__);return P}function Ee(Xe,ft){var ct,Dt=Xe.length,Ft=ft.length,vt=Math.min(Dt,Ft),bt=new Array(Ft),Mt=new Array(Ft),Nt=new Array(Dt),zt,Et;if(H){var sr=new A,kr=new Array(Dt),Dr;for(ct=-1;++ct<Dt;)(zt=Xe[ct])&&(sr.has(Dr=H.call(zt,zt.__data__,ct))?Nt[ct]=zt:sr.set(Dr,zt),kr[ct]=Dr);for(ct=-1;++ct<Ft;)(zt=sr.get(Dr=H.call(ft,Et=ft[ct],ct)))?zt!==!0&&(bt[ct]=zt,zt.__data__=Et):Mt[ct]=He(Et),sr.set(Dr,!0);for(ct=-1;++ct<Dt;)ct in kr&&sr.get(kr[ct])!==!0&&(Nt[ct]=Xe[ct])}else{for(ct=-1;++ct<vt;)zt=Xe[ct],Et=ft[ct],zt?(zt.__data__=Et,bt[ct]=zt):Mt[ct]=He(Et);for(;ct<Ft;++ct)Mt[ct]=He(ft[ct]);for(;ct<Dt;++ct)Nt[ct]=Xe[ct]}Mt.update=bt,Mt.parentNode=bt.parentNode=Nt.parentNode=Xe.parentNode,we.push(Mt),Ne.push(bt),Ye.push(Nt)}var we=Ce([]),Ne=ae([]),Ye=ae([]);if(typeof P=="function")for(;++W<ie;)Ee(ue=this[W],P.call(ue,ue.parentNode.__data__,W));else for(;++W<ie;)Ee(ue=this[W],P);return Ne.enter=function(){return we},Ne.exit=function(){return Ye},Ne};function He(P){return{__data__:P}}se.datum=function(P){return arguments.length?this.property("__data__",P):this.property("__data__")},se.filter=function(P){var H=[],W,ie,ue;typeof P!="function"&&(P=te(P));for(var he=0,Ee=this.length;he<Ee;he++){H.push(W=[]),W.parentNode=(ie=this[he]).parentNode;for(var we=0,Ne=ie.length;we<Ne;we++)(ue=ie[we])&&P.call(ue,ue.__data__,we,he)&&W.push(ue)}return ae(H)};function te(P){return function(){return fe(this,P)}}se.order=function(){for(var P=-1,H=this.length;++P<H;)for(var W=this[P],ie=W.length-1,ue=W[ie],he;--ie>=0;)(he=W[ie])&&(ue&&ue!==he.nextSibling&&ue.parentNode.insertBefore(he,ue),ue=he);return this},se.sort=function(P){P=ye.apply(this,arguments);for(var H=-1,W=this.length;++H<W;)this[H].sort(P);return this.order()};function ye(P){return arguments.length||(P=c),function(H,W){return H&&W?P(H.__data__,W.__data__):!H-!W}}se.each=function(P){return Te(this,function(H,W,ie){P.call(H,H.__data__,W,ie)})};function Te(P,H){for(var W=0,ie=P.length;W<ie;W++)for(var ue=P[W],he=0,Ee=ue.length,we;he<Ee;he++)(we=ue[he])&&H(we,he,W);return P}se.call=function(P){var H=r(arguments);return P.apply(H[0]=this,H),this},se.empty=function(){return!this.node()},se.node=function(){for(var P=0,H=this.length;P<H;P++)for(var W=this[P],ie=0,ue=W.length;ie<ue;ie++){var he=W[ie];if(he)return he}return null},se.size=function(){var P=0;return Te(this,function(){++P}),P};function Ce(P){return j(P,De),P}var De=[];e.selection.enter=Ce,e.selection.enter.prototype=De,De.append=se.append,De.empty=se.empty,De.node=se.node,De.call=se.call,De.size=se.size,De.select=function(P){for(var H=[],W,ie,ue,he,Ee,we=-1,Ne=this.length;++we<Ne;){ue=(he=this[we]).update,H.push(W=[]),W.parentNode=he.parentNode;for(var Ye=-1,Xe=he.length;++Ye<Xe;)(Ee=he[Ye])?(W.push(ue[Ye]=ie=P.call(he.parentNode,Ee.__data__,Ye,we)),ie.__data__=Ee.__data__):W.push(null)}return ae(H)},De.insert=function(P,H){return arguments.length<2&&(H=oe(this)),se.insert.call(this,P,H)};function oe(P){var H,W;return function(ie,ue,he){var Ee=P[he].update,we=Ee.length,Ne;for(he!=W&&(W=he,H=0),ue>=H&&(H=ue+1);!(Ne=Ee[H])&&++H<we;);return Ne}}e.select=function(P){var H;return typeof P=="string"?(H=[ee(P,n)],H.parentNode=n.documentElement):(H=[P],H.parentNode=i(P)),ae([H])},e.selectAll=function(P){var H;return typeof P=="string"?(H=r(ve(P,n)),H.parentNode=n.documentElement):(H=r(P),H.parentNode=null),ae([H])},se.on=function(P,H,W){var ie=arguments.length;if(ie<3){if(typeof P!="string"){ie<2&&(H=!1);for(W in P)this.each(pe(W,P[W],H));return this}if(ie<2)return(ie=this.node()["__on"+P])&&ie._;W=!1}return this.each(pe(P,H,W))};function pe(P,H,W){var ie="__on"+P,ue=P.indexOf("."),he=Ue;ue>0&&(P=P.slice(0,ue));var Ee=Le.get(P);Ee&&(P=Ee,he=et);function we(){var Xe=this[ie];Xe&&(this.removeEventListener(P,Xe,Xe.$),delete this[ie])}function Ne(){var Xe=he(H,r(arguments));we.call(this),this.addEventListener(P,this[ie]=Xe,Xe.$=W),Xe._=H}function Ye(){var Xe=new RegExp("^__on([^.]+)"+e.requote(P)+"$"),ft;for(var ct in this)if(ft=ct.match(Xe)){var Dt=this[ct];this.removeEventListener(ft[1],Dt,Dt.$),delete this[ct]}}return ue?H?Ne:we:H?N:Ye}var Le=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&Le.forEach(function(P){"on"+P in n&&Le.remove(P)});function Ue(P,H){return function(W){var ie=e.event;e.event=W,H[0]=this.__data__;try{P.apply(this,H)}finally{e.event=ie}}}function et(P,H){var W=Ue(P,H);return function(ie){var ue=this,he=ie.relatedTarget;(!he||he!==ue&&!(he.compareDocumentPosition(ue)&8))&&W.call(ue,ie)}}var Qe,dt=0;function ht(P){var H=".dragsuppress-"+ ++dt,W="click"+H,ie=e.select(a(P)).on("touchmove"+H,Y).on("dragstart"+H,Y).on("selectstart"+H,Y);if(Qe==null&&(Qe="onselectstart"in P?!1:C(P.style,"userSelect")),Qe){var ue=i(P).style,he=ue[Qe];ue[Qe]="none"}return function(Ee){if(ie.on(H,null),Qe&&(ue[Qe]=he),Ee){var we=function(){ie.on(W,null)};ie.on(W,function(){Y(),we()},!0),setTimeout(we,0)}}}e.mouse=function(P){return kt(P,K())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function kt(P,H){H.changedTouches&&(H=H.changedTouches[0]);var W=P.ownerSVGElement||P;if(W.createSVGPoint){var ie=W.createSVGPoint();if(_t<0){var ue=a(P);if(ue.scrollX||ue.scrollY){W=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var he=W[0][0].getScreenCTM();_t=!(he.f||he.e),W.remove()}}return _t?(ie.x=H.pageX,ie.y=H.pageY):(ie.x=H.clientX,ie.y=H.clientY),ie=ie.matrixTransform(P.getScreenCTM().inverse()),[ie.x,ie.y]}var Ee=P.getBoundingClientRect();return[H.clientX-Ee.left-P.clientLeft,H.clientY-Ee.top-P.clientTop]}e.touch=function(P,H,W){if(arguments.length<3&&(W=H,H=K().changedTouches),H){for(var ie=0,ue=H.length,he;ie<ue;++ie)if((he=H[ie]).identifier===W)return kt(P,he)}},e.behavior.drag=function(){var P=B(ue,"drag","dragstart","dragend"),H=null,W=he(N,e.mouse,a,"mousemove","mouseup"),ie=he(St,e.touch,R,"touchmove","touchend");function ue(){this.on("mousedown.drag",W).on("touchstart.drag",ie)}function he(Ee,we,Ne,Ye,Xe){return function(){var ft=this,ct=e.event.target.correspondingElement||e.event.target,Dt=ft.parentNode,Ft=P.of(ft,arguments),vt=0,bt=Ee(),Mt=".drag"+(bt==null?"":"-"+bt),Nt,zt=e.select(Ne(ct)).on(Ye+Mt,kr).on(Xe+Mt,Dr),Et=ht(ct),sr=we(Dt,bt);H?(Nt=H.apply(ft,arguments),Nt=[Nt.x-sr[0],Nt.y-sr[1]]):Nt=[0,0],Ft({type:"dragstart"});function kr(){var or=we(Dt,bt),Hr,Ur;or&&(Hr=or[0]-sr[0],Ur=or[1]-sr[1],vt|=Hr|Ur,sr=or,Ft({type:"drag",x:or[0]+Nt[0],y:or[1]+Nt[1],dx:Hr,dy:Ur}))}function Dr(){we(Dt,bt)&&(zt.on(Ye+Mt,null).on(Xe+Mt,null),Et(vt),Ft({type:"dragend"}))}}}return ue.origin=function(Ee){return arguments.length?(H=Ee,ue):H},e.rebind(ue,P,"on")};function St(){return e.event.changedTouches[0].identifier}e.touches=function(P,H){return arguments.length<2&&(H=K().touches),H?r(H).map(function(W){var ie=kt(P,W);return ie.identifier=W.identifier,ie}):[]};var Ot=1e-6,je=Ot*Ot,Ve=Math.PI,Je=2*Ve,nt=Je-Ot,Be=Ve/2,tt=Ve/180,ot=180/Ve;function yt(P){return P>0?1:P<0?-1:0}function Ht(P,H,W){return(H[0]-P[0])*(W[1]-P[1])-(H[1]-P[1])*(W[0]-P[0])}function Lt(P){return P>1?0:P<-1?Ve:Math.acos(P)}function tr(P){return P>1?Be:P<-1?-Be:Math.asin(P)}function rr(P){return((P=Math.exp(P))-1/P)/2}function Ct(P){return((P=Math.exp(P))+1/P)/2}function Zt(P){return((P=Math.exp(2*P))-1)/(P+1)}function Sr(P){return(P=Math.sin(P/2))*P}var gr=Math.SQRT2,Lr=2,en=4;e.interpolateZoom=function(P,H){var W=P[0],ie=P[1],ue=P[2],he=H[0],Ee=H[1],we=H[2],Ne=he-W,Ye=Ee-ie,Xe=Ne*Ne+Ye*Ye,ft,ct;if(Xe<je)ct=Math.log(we/ue)/gr,ft=function(Nt){return[W+Nt*Ne,ie+Nt*Ye,ue*Math.exp(gr*Nt*ct)]};else{var Dt=Math.sqrt(Xe),Ft=(we*we-ue*ue+en*Xe)/(2*ue*Lr*Dt),vt=(we*we-ue*ue-en*Xe)/(2*we*Lr*Dt),bt=Math.log(Math.sqrt(Ft*Ft+1)-Ft),Mt=Math.log(Math.sqrt(vt*vt+1)-vt);ct=(Mt-bt)/gr,ft=function(Nt){var zt=Nt*ct,Et=Ct(bt),sr=ue/(Lr*Dt)*(Et*Zt(gr*zt+bt)-rr(bt));return[W+sr*Ne,ie+sr*Ye,ue*Et/Ct(gr*zt+bt)]}}return ft.duration=ct*1e3,ft},e.behavior.zoom=function(){var P={x:0,y:0,k:1},H,W,ie,ue=[960,500],he=Or,Ee=250,we=0,Ne="mousedown.zoom",Ye="mousemove.zoom",Xe="mouseup.zoom",ft,ct="touchstart.zoom",Dt,Ft=B(zt,"zoomstart","zoom","zoomend"),vt,bt,Mt,Nt;qn||(qn="onwheel"in n?(vn=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(vn=function(){return e.event.wheelDelta},"mousewheel"):(vn=function(){return-e.event.detail},"MozMousePixelScroll"));function zt(br){br.on(Ne,pn).on(qn+".zoom",Ei).on("dblclick.zoom",Li).on(ct,di)}zt.event=function(br){br.each(function(){var yn=Ft.of(this,arguments),An=P;Si?e.select(this).transition().each("start.zoom",function(){P=this.__chart__||{x:0,y:0,k:1},Ur(yn)}).tween("zoom:zoom",function(){var li=ue[0],pi=ue[1],ea=W?W[0]:li/2,yo=W?W[1]:pi/2,vs=e.interpolateZoom([(ea-P.x)/P.k,(yo-P.y)/P.k,li/P.k],[(ea-An.x)/An.k,(yo-An.y)/An.k,li/An.k]);return function(Zo){var ds=vs(Zo),Ds=li/ds[2];this.__chart__=P={x:ea-ds[0]*Ds,y:yo-ds[1]*Ds,k:Ds},dn(yn)}}).each("interrupt.zoom",function(){jr(yn)}).each("end.zoom",function(){jr(yn)}):(this.__chart__=P,Ur(yn),dn(yn),jr(yn))})},zt.translate=function(br){return arguments.length?(P={x:+br[0],y:+br[1],k:P.k},Hr(),zt):[P.x,P.y]},zt.scale=function(br){return arguments.length?(P={x:P.x,y:P.y,k:null},kr(+br),Hr(),zt):P.k},zt.scaleExtent=function(br){return arguments.length?(he=br==null?Or:[+br[0],+br[1]],zt):he},zt.center=function(br){return arguments.length?(ie=br&&[+br[0],+br[1]],zt):ie},zt.size=function(br){return arguments.length?(ue=br&&[+br[0],+br[1]],zt):ue},zt.duration=function(br){return arguments.length?(Ee=+br,zt):Ee},zt.x=function(br){return arguments.length?(bt=br,vt=br.copy(),P={x:0,y:0,k:1},zt):bt},zt.y=function(br){return arguments.length?(Nt=br,Mt=br.copy(),P={x:0,y:0,k:1},zt):Nt};function Et(br){return[(br[0]-P.x)/P.k,(br[1]-P.y)/P.k]}function sr(br){return[br[0]*P.k+P.x,br[1]*P.k+P.y]}function kr(br){P.k=Math.max(he[0],Math.min(he[1],br))}function Dr(br,yn){yn=sr(yn),P.x+=br[0]-yn[0],P.y+=br[1]-yn[1]}function or(br,yn,An,li){br.__chart__={x:P.x,y:P.y,k:P.k},kr(Math.pow(2,li)),Dr(W=yn,An),br=e.select(br),Ee>0&&(br=br.transition().duration(Ee)),br.call(zt.event)}function Hr(){bt&&bt.domain(vt.range().map(function(br){return(br-P.x)/P.k}).map(vt.invert)),Nt&&Nt.domain(Mt.range().map(function(br){return(br-P.y)/P.k}).map(Mt.invert))}function Ur(br){we++||br({type:"zoomstart"})}function dn(br){Hr(),br({type:"zoom",scale:P.k,translate:[P.x,P.y]})}function jr(br){--we||(br({type:"zoomend"}),W=null)}function pn(){var br=this,yn=Ft.of(br,arguments),An=0,li=e.select(a(br)).on(Ye,yo).on(Xe,vs),pi=Et(e.mouse(br)),ea=ht(br);nn.call(br),Ur(yn);function yo(){An=1,Dr(e.mouse(br),pi),dn(yn)}function vs(){li.on(Ye,null).on(Xe,null),ea(An),jr(yn)}}function di(){var br=this,yn=Ft.of(br,arguments),An={},li=0,pi,ea=".zoom-"+e.event.changedTouches[0].identifier,yo="touchmove"+ea,vs="touchend"+ea,Zo=[],ds=e.select(br),Ds=ht(br);qs(),Ur(yn),ds.on(Ne,null).on(ct,qs);function $o(){var sf=e.touches(br);return pi=P.k,sf.forEach(function(_a){_a.identifier in An&&(An[_a.identifier]=Et(_a))}),sf}function qs(){var sf=e.event.target;e.select(sf).on(yo,Ec).on(vs,xh),Zo.push(sf);for(var _a=e.event.changedTouches,Ol=0,lf=_a.length;Ol<lf;++Ol)An[_a[Ol].identifier]=null;var ml=$o(),md=Date.now();if(ml.length===1){if(md-Dt<500){var ov=ml[0];or(br,ov,An[ov.identifier],Math.floor(Math.log(P.k)/Math.LN2)+1),Y()}Dt=md}else if(ml.length>1){var ov=ml[0],bh=ml[1],O0=ov[0]-bh[0],Zy=ov[1]-bh[1];li=O0*O0+Zy*Zy}}function Ec(){var sf=e.touches(br),_a,Ol,lf,ml;nn.call(br);for(var md=0,ov=sf.length;md<ov;++md,ml=null)if(lf=sf[md],ml=An[lf.identifier]){if(Ol)break;_a=lf,Ol=ml}if(ml){var bh=(bh=lf[0]-_a[0])*bh+(bh=lf[1]-_a[1])*bh,O0=li&&Math.sqrt(bh/li);_a=[(_a[0]+lf[0])/2,(_a[1]+lf[1])/2],Ol=[(Ol[0]+ml[0])/2,(Ol[1]+ml[1])/2],kr(O0*pi)}Dt=null,Dr(_a,Ol),dn(yn)}function xh(){if(e.event.touches.length){for(var sf=e.event.changedTouches,_a=0,Ol=sf.length;_a<Ol;++_a)delete An[sf[_a].identifier];for(var lf in An)return void $o()}e.selectAll(Zo).on(ea,null),ds.on(Ne,pn).on(ct,di),Ds(),jr(yn)}}function Ei(){var br=Ft.of(this,arguments);ft?clearTimeout(ft):(nn.call(this),H=Et(W=ie||e.mouse(this)),Ur(br)),ft=setTimeout(function(){ft=null,jr(br)},50),Y(),kr(Math.pow(2,vn()*.002)*P.k),Dr(W,H),dn(br)}function Li(){var br=e.mouse(this),yn=Math.log(P.k)/Math.LN2;or(this,br,Et(br),e.event.shiftKey?Math.ceil(yn)-1:Math.floor(yn)+1)}return e.rebind(zt,Ft,"on")};var Or=[0,1/0],vn,qn;e.color=Kr;function Kr(){}Kr.prototype.toString=function(){return this.rgb()+""},e.hsl=Qr;function Qr(P,H,W){return this instanceof Qr?(this.h=+P,this.s=+H,void(this.l=+W)):arguments.length<2?P instanceof Qr?new Qr(P.h,P.s,P.l):au(""+P,Rl,Qr):new Qr(P,H,W)}var kn=Qr.prototype=new Kr;kn.brighter=function(P){return P=Math.pow(.7,arguments.length?P:1),new Qr(this.h,this.s,this.l/P)},kn.darker=function(P){return P=Math.pow(.7,arguments.length?P:1),new Qr(this.h,this.s,P*this.l)},kn.rgb=function(){return Vn(this.h,this.s,this.l)};function Vn(P,H,W){var ie,ue;P=isNaN(P)?0:(P%=360)<0?P+360:P,H=isNaN(H)||H<0?0:H>1?1:H,W=W<0?0:W>1?1:W,ue=W<=.5?W*(1+H):W+H-W*H,ie=2*W-ue;function he(we){return we>360?we-=360:we<0&&(we+=360),we<60?ie+(ue-ie)*we/60:we<180?ue:we<240?ie+(ue-ie)*(240-we)/60:ie}function Ee(we){return Math.round(he(we)*255)}return new Qn(Ee(P+120),Ee(P),Ee(P-120))}e.hcl=Tn;function Tn(P,H,W){return this instanceof Tn?(this.h=+P,this.c=+H,void(this.l=+W)):arguments.length<2?P instanceof Tn?new Tn(P.h,P.c,P.l):P instanceof On?ti(P.l,P.a,P.b):ti((P=ou((P=e.rgb(P)).r,P.g,P.b)).l,P.a,P.b):new Tn(P,H,W)}var Nn=Tn.prototype=new Kr;Nn.brighter=function(P){return new Tn(this.h,this.c,Math.min(100,this.l+Sn*(arguments.length?P:1)))},Nn.darker=function(P){return new Tn(this.h,this.c,Math.max(0,this.l-Sn*(arguments.length?P:1)))},Nn.rgb=function(){return ci(this.h,this.c,this.l).rgb()};function ci(P,H,W){return isNaN(P)&&(P=0),isNaN(H)&&(H=0),new On(W,Math.cos(P*=tt)*H,Math.sin(P)*H)}e.lab=On;function On(P,H,W){return this instanceof On?(this.l=+P,this.a=+H,void(this.b=+W)):arguments.length<2?P instanceof On?new On(P.l,P.a,P.b):P instanceof Tn?ci(P.h,P.c,P.l):ou((P=Qn(P)).r,P.g,P.b):new On(P,H,W)}var Sn=18,_i=.95047,ua=1,Yi=1.08883,xn=On.prototype=new Kr;xn.brighter=function(P){return new On(Math.min(100,this.l+Sn*(arguments.length?P:1)),this.a,this.b)},xn.darker=function(P){return new On(Math.max(0,this.l-Sn*(arguments.length?P:1)),this.a,this.b)},xn.rgb=function(){return ia(this.l,this.a,this.b)};function ia(P,H,W){var ie=(P+16)/116,ue=ie+H/500,he=ie-W/200;return ue=co(ue)*_i,ie=co(ie)*ua,he=co(he)*Yi,new Qn(Ea(3.2404542*ue-1.5371385*ie-.4985314*he),Ea(-.969266*ue+1.8760108*ie+.041556*he),Ea(.0556434*ue-.2040259*ie+1.0572252*he))}function ti(P,H,W){return P>0?new Tn(Math.atan2(W,H)*ot,Math.sqrt(H*H+W*W),P):new Tn(NaN,NaN,P)}function co(P){return P>.206893034?P*P*P:(P-4/29)/7.787037}function fa(P){return P>.008856?Math.pow(P,1/3):7.787037*P+4/29}function Ea(P){return Math.round(255*(P<=.00304?12.92*P:1.055*Math.pow(P,1/2.4)-.055))}e.rgb=Qn;function Qn(P,H,W){return this instanceof Qn?(this.r=~~P,this.g=~~H,void(this.b=~~W)):arguments.length<2?P instanceof Qn?new Qn(P.r,P.g,P.b):au(""+P,Qn,Vn):new Qn(P,H,W)}function Ki(P){return new Qn(P>>16,P>>8&255,P&255)}function ho(P){return Ki(P)+""}var ja=Qn.prototype=new Kr;ja.brighter=function(P){P=Math.pow(.7,arguments.length?P:1);var H=this.r,W=this.g,ie=this.b,ue=30;return!H&&!W&&!ie?new Qn(ue,ue,ue):(H&&H<ue&&(H=ue),W&&W<ue&&(W=ue),ie&&ie<ue&&(ie=ue),new Qn(Math.min(255,H/P),Math.min(255,W/P),Math.min(255,ie/P)))},ja.darker=function(P){return P=Math.pow(.7,arguments.length?P:1),new Qn(P*this.r,P*this.g,P*this.b)},ja.hsl=function(){return Rl(this.r,this.g,this.b)},ja.toString=function(){return"#"+Ji(this.r)+Ji(this.g)+Ji(this.b)};function Ji(P){return P<16?"0"+Math.max(0,P).toString(16):Math.min(255,P).toString(16)}function au(P,H,W){var ie=0,ue=0,he=0,Ee,we,Ne;if(Ee=/([a-z]+)\((.*)\)/.exec(P=P.toLowerCase()),Ee)switch(we=Ee[2].split(","),Ee[1]){case"hsl":return W(parseFloat(we[0]),parseFloat(we[1])/100,parseFloat(we[2])/100);case"rgb":return H(st(we[0]),st(we[1]),st(we[2]))}return(Ne=lt.get(P))?H(Ne.r,Ne.g,Ne.b):(P!=null&&P.charAt(0)==="#"&&!isNaN(Ne=parseInt(P.slice(1),16))&&(P.length===4?(ie=(Ne&3840)>>4,ie=ie>>4|ie,ue=Ne&240,ue=ue>>4|ue,he=Ne&15,he=he<<4|he):P.length===7&&(ie=(Ne&16711680)>>16,ue=(Ne&65280)>>8,he=Ne&255)),H(ie,ue,he))}function Rl(P,H,W){var ie=Math.min(P/=255,H/=255,W/=255),ue=Math.max(P,H,W),he=ue-ie,Ee,we,Ne=(ue+ie)/2;return he?(we=Ne<.5?he/(ue+ie):he/(2-ue-ie),P==ue?Ee=(H-W)/he+(H<W?6:0):H==ue?Ee=(W-P)/he+2:Ee=(P-H)/he+4,Ee*=60):(Ee=NaN,we=Ne>0&&Ne<1?0:Ee),new Qr(Ee,we,Ne)}function ou(P,H,W){P=Ie(P),H=Ie(H),W=Ie(W);var ie=fa((.4124564*P+.3575761*H+.1804375*W)/_i),ue=fa((.2126729*P+.7151522*H+.072175*W)/ua),he=fa((.0193339*P+.119192*H+.9503041*W)/Yi);return On(116*ue-16,500*(ie-ue),200*(ue-he))}function Ie(P){return(P/=255)<=.04045?P/12.92:Math.pow((P+.055)/1.055,2.4)}function st(P){var H=parseFloat(P);return P.charAt(P.length-1)==="%"?Math.round(H*2.55):H}var lt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});lt.forEach(function(P,H){lt.set(P,Ki(H))});function xt(P){return typeof P=="function"?P:function(){return P}}e.functor=xt,e.xhr=Vt(R);function Vt(P){return function(H,W,ie){return arguments.length===2&&typeof W=="function"&&(ie=W,W=null),At(H,W,P,ie)}}function At(P,H,W,ie){var ue={},he=e.dispatch("beforesend","progress","load","error"),Ee={},we=new XMLHttpRequest,Ne=null;self.XDomainRequest&&!("withCredentials"in we)&&/^(http(s)?:)?\/\//.test(P)&&(we=new XDomainRequest),"onload"in we?we.onload=we.onerror=Ye:we.onreadystatechange=function(){we.readyState>3&&Ye()};function Ye(){var Xe=we.status,ft;if(!Xe&&Pt(we)||Xe>=200&&Xe<300||Xe===304){try{ft=W.call(ue,we)}catch(ct){he.error.call(ue,ct);return}he.load.call(ue,ft)}else he.error.call(ue,we)}return we.onprogress=function(Xe){var ft=e.event;e.event=Xe;try{he.progress.call(ue,we)}finally{e.event=ft}},ue.header=function(Xe,ft){return Xe=(Xe+"").toLowerCase(),arguments.length<2?Ee[Xe]:(ft==null?delete Ee[Xe]:Ee[Xe]=ft+"",ue)},ue.mimeType=function(Xe){return arguments.length?(H=Xe==null?null:Xe+"",ue):H},ue.responseType=function(Xe){return arguments.length?(Ne=Xe,ue):Ne},ue.response=function(Xe){return W=Xe,ue},["get","post"].forEach(function(Xe){ue[Xe]=function(){return ue.send.apply(ue,[Xe].concat(r(arguments)))}}),ue.send=function(Xe,ft,ct){if(arguments.length===2&&typeof ft=="function"&&(ct=ft,ft=null),we.open(Xe,P,!0),H!=null&&!("accept"in Ee)&&(Ee.accept=H+",*/*"),we.setRequestHeader)for(var Dt in Ee)we.setRequestHeader(Dt,Ee[Dt]);return H!=null&&we.overrideMimeType&&we.overrideMimeType(H),Ne!=null&&(we.responseType=Ne),ct!=null&&ue.on("error",ct).on("load",function(Ft){ct(null,Ft)}),he.beforesend.call(ue,we),we.send(ft??null),ue},ue.abort=function(){return we.abort(),ue},e.rebind(ue,he,"on"),ie==null?ue:ue.get(nr(ie))}function nr(P){return P.length===1?function(H,W){P(H==null?W:null)}:P}function Pt(P){var H=P.responseType;return H&&H!=="text"?P.response:P.responseText}e.dsv=function(P,H){var W=new RegExp('["'+P+`
]`),ie=P.charCodeAt(0);function ue(Ye,Xe,ft){arguments.length<3&&(ft=Xe,Xe=null);var ct=At(Ye,H,Xe==null?he:Ee(Xe),ft);return ct.row=function(Dt){return arguments.length?ct.response((Xe=Dt)==null?he:Ee(Dt)):Xe},ct}function he(Ye){return ue.parse(Ye.responseText)}function Ee(Ye){return function(Xe){return ue.parse(Xe.responseText,Ye)}}ue.parse=function(Ye,Xe){var ft;return ue.parseRows(Ye,function(ct,Dt){if(ft)return ft(ct,Dt-1);var Ft=function(vt){for(var bt={},Mt=ct.length,Nt=0;Nt<Mt;++Nt)bt[ct[Nt]]=vt[Nt];return bt};ft=Xe?function(vt,bt){return Xe(Ft(vt),bt)}:Ft})},ue.parseRows=function(Ye,Xe){var ft={},ct={},Dt=[],Ft=Ye.length,vt=0,bt=0,Mt,Nt;function zt(){if(vt>=Ft)return ct;if(Nt)return Nt=!1,ft;var sr=vt;if(Ye.charCodeAt(sr)===34){for(var kr=sr;kr++<Ft;)if(Ye.charCodeAt(kr)===34){if(Ye.charCodeAt(kr+1)!==34)break;++kr}vt=kr+2;var Dr=Ye.charCodeAt(kr+1);return Dr===13?(Nt=!0,Ye.charCodeAt(kr+2)===10&&++vt):Dr===10&&(Nt=!0),Ye.slice(sr+1,kr).replace(/""/g,'"')}for(;vt<Ft;){var Dr=Ye.charCodeAt(vt++),or=1;if(Dr===10)Nt=!0;else if(Dr===13)Nt=!0,Ye.charCodeAt(vt)===10&&(++vt,++or);else if(Dr!==ie)continue;return Ye.slice(sr,vt-or)}return Ye.slice(sr)}for(;(Mt=zt())!==ct;){for(var Et=[];Mt!==ft&&Mt!==ct;)Et.push(Mt),Mt=zt();Xe&&(Et=Xe(Et,bt++))==null||Dt.push(Et)}return Dt},ue.format=function(Ye){if(Array.isArray(Ye[0]))return ue.formatRows(Ye);var Xe=new D,ft=[];return Ye.forEach(function(ct){for(var Dt in ct)Xe.has(Dt)||ft.push(Xe.add(Dt))}),[ft.map(Ne).join(P)].concat(Ye.map(function(ct){return ft.map(function(Dt){return Ne(ct[Dt])}).join(P)})).join(`
`)},ue.formatRows=function(Ye){return Ye.map(we).join(`
`)};function we(Ye){return Ye.map(Ne).join(P)}function Ne(Ye){return W.test(Ye)?'"'+Ye.replace(/\"/g,'""')+'"':Ye}return ue},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ir,wr,Mr,Vr,sn=this[C(this,"requestAnimationFrame")]||function(P){setTimeout(P,17)};e.timer=function(){Xn.apply(this,arguments)};function Xn(P,H,W){var ie=arguments.length;ie<2&&(H=0),ie<3&&(W=Date.now());var ue=W+H,he={c:P,t:ue,n:null};return wr?wr.n=he:ir=he,wr=he,Mr||(Vr=clearTimeout(Vr),Mr=1,sn(wn)),he}function wn(){var P=oi(),H=Bn()-P;H>24?(isFinite(H)&&(clearTimeout(Vr),Vr=setTimeout(wn,H)),Mr=0):(Mr=1,sn(wn))}e.timer.flush=function(){oi(),Bn()};function oi(){for(var P=Date.now(),H=ir;H;)P>=H.t&&H.c(P-H.t)&&(H.c=null),H=H.n;return P}function Bn(){for(var P,H=ir,W=1/0;H;)H.c?(H.t<W&&(W=H.t),H=(P=H).n):H=P?P.n=H.n:ir=H.n;return wr=P,W}e.round=function(P,H){return H?Math.round(P*(H=Math.pow(10,H)))/H:Math.round(P)},e.geom={};function Wi(P){return P[0]}function Xi(P){return P[1]}e.geom.hull=function(P){var H=Wi,W=Xi;if(arguments.length)return ie(P);function ie(ue){if(ue.length<3)return[];var he=xt(H),Ee=xt(W),we,Ne=ue.length,Ye=[],Xe=[];for(we=0;we<Ne;we++)Ye.push([+he.call(this,ue[we],we),+Ee.call(this,ue[we],we),we]);for(Ye.sort(ya),we=0;we<Ne;we++)Xe.push([Ye[we][0],-Ye[we][1]]);var ft=Qi(Ye),ct=Qi(Xe),Dt=ct[0]===ft[0],Ft=ct[ct.length-1]===ft[ft.length-1],vt=[];for(we=ft.length-1;we>=0;--we)vt.push(ue[Ye[ft[we]][2]]);for(we=+Dt;we<ct.length-Ft;++we)vt.push(ue[Ye[ct[we]][2]]);return vt}return ie.x=function(ue){return arguments.length?(H=ue,ie):H},ie.y=function(ue){return arguments.length?(W=ue,ie):W},ie};function Qi(P){for(var H=P.length,W=[0,1],ie=2,ue=2;ue<H;ue++){for(;ie>1&&Ht(P[W[ie-2]],P[W[ie-1]],P[ue])<=0;)--ie;W[ie++]=ue}return W.slice(0,ie)}function ya(P,H){return P[0]-H[0]||P[1]-H[1]}e.geom.polygon=function(P){return j(P,La),P};var La=e.geom.polygon.prototype=[];La.area=function(){for(var P=-1,H=this.length,W,ie=this[H-1],ue=0;++P<H;)W=ie,ie=this[P],ue+=W[1]*ie[0]-W[0]*ie[1];return ue*.5},La.centroid=function(P){var H=-1,W=this.length,ie=0,ue=0,he,Ee=this[W-1],we;for(arguments.length||(P=-1/(6*this.area()));++H<W;)he=Ee,Ee=this[H],we=he[0]*Ee[1]-Ee[0]*he[1],ie+=(he[0]+Ee[0])*we,ue+=(he[1]+Ee[1])*we;return[ie*P,ue*P]},La.clip=function(P){for(var H,W=vo(P),ie=-1,ue=this.length-vo(this),he,Ee,we=this[ue-1],Ne,Ye,Xe;++ie<ue;){for(H=P.slice(),P.length=0,Ne=this[ie],Ye=H[(Ee=H.length-W)-1],he=-1;++he<Ee;)Xe=H[he],Ca(Xe,we,Ne)?(Ca(Ye,we,Ne)||P.push(Bo(Ye,Xe,we,Ne)),P.push(Xe)):Ca(Ye,we,Ne)&&P.push(Bo(Ye,Xe,we,Ne)),Ye=Xe;W&&P.push(P[0]),we=Ne}return P};function Ca(P,H,W){return(W[0]-H[0])*(P[1]-H[1])<(W[1]-H[1])*(P[0]-H[0])}function Bo(P,H,W,ie){var ue=P[0],he=W[0],Ee=H[0]-ue,we=ie[0]-he,Ne=P[1],Ye=W[1],Xe=H[1]-Ne,ft=ie[1]-Ye,ct=(we*(Ne-Ye)-ft*(ue-he))/(ft*Ee-we*Xe);return[ue+ct*Ee,Ne+ct*Xe]}function vo(P){var H=P[0],W=P[P.length-1];return!(H[0]-W[0]||H[1]-W[1])}var xa,Da,En,Gr=[],si,Ho,Bs=[];function Il(){Go(this),this.edge=this.site=this.circle=null}function _s(P){var H=Gr.pop()||new Il;return H.site=P,H}function Uo(P){fs(P),En.remove(P),Gr.push(P),Go(P)}function Hs(P){var H=P.circle,W=H.x,ie=H.cy,ue={x:W,y:ie},he=P.P,Ee=P.N,we=[P];Uo(P);for(var Ne=he;Ne.circle&&m(W-Ne.circle.x)<Ot&&m(ie-Ne.circle.cy)<Ot;)he=Ne.P,we.unshift(Ne),Uo(Ne),Ne=he;we.unshift(Ne),fs(Ne);for(var Ye=Ee;Ye.circle&&m(W-Ye.circle.x)<Ot&&m(ie-Ye.circle.cy)<Ot;)Ee=Ye.N,we.push(Ye),Uo(Ye),Ye=Ee;we.push(Ye),fs(Ye);var Xe=we.length,ft;for(ft=1;ft<Xe;++ft)Ye=we[ft],Ne=we[ft-1],qa(Ye.edge,Ne.site,Ye.site,ue);Ne=we[0],Ye=we[Xe-1],Ye.edge=Va(Ne.site,Ye.site,null,ue),us(Ne),us(Ye)}function Uu(P){for(var H=P.x,W=P.y,ie,ue,he,Ee,we=En._;we;)if(he=Ni(we,W)-H,he>Ot)we=we.L;else if(Ee=H-ju(we,W),Ee>Ot){if(!we.R){ie=we;break}we=we.R}else{he>-Ot?(ie=we.P,ue=we):Ee>-Ot?(ie=we,ue=we.N):ie=ue=we;break}var Ne=_s(P);if(En.insert(ie,Ne),!(!ie&&!ue)){if(ie===ue){fs(ie),ue=_s(ie.site),En.insert(Ne,ue),Ne.edge=ue.edge=Va(ie.site,Ne.site),us(ie),us(ue);return}if(!ue){Ne.edge=Va(ie.site,Ne.site);return}fs(ie),fs(ue);var Ye=ie.site,Xe=Ye.x,ft=Ye.y,ct=P.x-Xe,Dt=P.y-ft,Ft=ue.site,vt=Ft.x-Xe,bt=Ft.y-ft,Mt=2*(ct*bt-Dt*vt),Nt=ct*ct+Dt*Dt,zt=vt*vt+bt*bt,Et={x:(bt*Nt-Dt*zt)/Mt+Xe,y:(ct*zt-vt*Nt)/Mt+ft};qa(ue.edge,Ye,Ft,Et),Ne.edge=Va(Ye,P,null,Et),ue.edge=Va(P,Ft,null,Et),us(ie),us(ue)}}function Ni(P,H){var W=P.site,ie=W.x,ue=W.y,he=ue-H;if(!he)return ie;var Ee=P.P;if(!Ee)return-1/0;W=Ee.site;var we=W.x,Ne=W.y,Ye=Ne-H;if(!Ye)return we;var Xe=we-ie,ft=1/he-1/Ye,ct=Xe/Ye;return ft?(-ct+Math.sqrt(ct*ct-2*ft*(Xe*Xe/(-2*Ye)-Ne+Ye/2+ue-he/2)))/ft+ie:(ie+we)/2}function ju(P,H){var W=P.N;if(W)return Ni(W,H);var ie=P.site;return ie.y===H?ie.x:1/0}function Qa(P){this.site=P,this.edges=[]}Qa.prototype.prepare=function(){for(var P=this.edges,H=P.length,W;H--;)W=P[H].edge,(!W.b||!W.a)&&P.splice(H,1);return P.sort(Ts),P.length};function jo(P){for(var H=P[0][0],W=P[1][0],ie=P[0][1],ue=P[1][1],he,Ee,we,Ne,Ye=Da,Xe=Ye.length,ft,ct,Dt,Ft,vt,bt;Xe--;)if(ft=Ye[Xe],!(!ft||!ft.prepare()))for(Dt=ft.edges,Ft=Dt.length,ct=0;ct<Ft;)bt=Dt[ct].end(),we=bt.x,Ne=bt.y,vt=Dt[++ct%Ft].start(),he=vt.x,Ee=vt.y,(m(we-he)>Ot||m(Ne-Ee)>Ot)&&(Dt.splice(ct,0,new Gu(R0(ft.site,bt,m(we-H)<Ot&&ue-Ne>Ot?{x:H,y:m(he-H)<Ot?Ee:ue}:m(Ne-ue)<Ot&&W-we>Ot?{x:m(Ee-ue)<Ot?he:W,y:ue}:m(we-W)<Ot&&Ne-ie>Ot?{x:W,y:m(he-W)<Ot?Ee:ie}:m(Ne-ie)<Ot&&we-H>Ot?{x:m(Ee-ie)<Ot?he:H,y:ie}:null),ft.site,null)),++Ft)}function Ts(P,H){return H.angle-P.angle}function eo(){Go(this),this.x=this.y=this.arc=this.site=this.cy=null}function us(P){var H=P.P,W=P.N;if(!(!H||!W)){var ie=H.site,ue=P.site,he=W.site;if(ie!==he){var Ee=ue.x,we=ue.y,Ne=ie.x-Ee,Ye=ie.y-we,Xe=he.x-Ee,bt=he.y-we,ft=2*(Ne*bt-Ye*Xe);if(!(ft>=-je)){var ct=Ne*Ne+Ye*Ye,Dt=Xe*Xe+bt*bt,Ft=(bt*ct-Ye*Dt)/ft,vt=(Ne*Dt-Xe*ct)/ft,bt=vt+we,Mt=Bs.pop()||new eo;Mt.arc=P,Mt.site=ue,Mt.x=Ft+Ee,Mt.y=bt+Math.sqrt(Ft*Ft+vt*vt),Mt.cy=bt,P.circle=Mt;for(var Nt=null,zt=Ho._;zt;)if(Mt.y<zt.y||Mt.y===zt.y&&Mt.x<=zt.x)if(zt.L)zt=zt.L;else{Nt=zt.P;break}else if(zt.R)zt=zt.R;else{Nt=zt;break}Ho.insert(Nt,Mt),Nt||(si=Mt)}}}}function fs(P){var H=P.circle;H&&(H.P||(si=H.N),Ho.remove(H),Bs.push(H),Go(H),P.circle=null)}function Vu(P,H,W,ie){return function(ue){var he=ue.a,Ee=ue.b,we=he.x,Ne=he.y,Ye=Ee.x,Xe=Ee.y,ft=0,ct=1,Dt=Ye-we,Ft=Xe-Ne,vt;if(vt=P-we,!(!Dt&&vt>0)){if(vt/=Dt,Dt<0){if(vt<ft)return;vt<ct&&(ct=vt)}else if(Dt>0){if(vt>ct)return;vt>ft&&(ft=vt)}if(vt=W-we,!(!Dt&&vt<0)){if(vt/=Dt,Dt<0){if(vt>ct)return;vt>ft&&(ft=vt)}else if(Dt>0){if(vt<ft)return;vt<ct&&(ct=vt)}if(vt=H-Ne,!(!Ft&&vt>0)){if(vt/=Ft,Ft<0){if(vt<ft)return;vt<ct&&(ct=vt)}else if(Ft>0){if(vt>ct)return;vt>ft&&(ft=vt)}if(vt=ie-Ne,!(!Ft&&vt<0)){if(vt/=Ft,Ft<0){if(vt>ct)return;vt>ft&&(ft=vt)}else if(Ft>0){if(vt<ft)return;vt<ct&&(ct=vt)}return ft>0&&(ue.a={x:we+ft*Dt,y:Ne+ft*Ft}),ct<1&&(ue.b={x:we+ct*Dt,y:Ne+ct*Ft}),ue}}}}}}function Vo(P){for(var H=xa,W=Vu(P[0][0],P[0][1],P[1][0],P[1][1]),ie=H.length,ue;ie--;)ue=H[ie],(!id(ue,P)||!W(ue)||m(ue.a.x-ue.b.x)<Ot&&m(ue.a.y-ue.b.y)<Ot)&&(ue.a=ue.b=null,H.splice(ie,1))}function id(P,H){var W=P.b;if(W)return!0;var ie=P.a,ue=H[0][0],he=H[1][0],Ee=H[0][1],we=H[1][1],Ne=P.l,Ye=P.r,Xe=Ne.x,ft=Ne.y,ct=Ye.x,Dt=Ye.y,Ft=(Xe+ct)/2,vt=(ft+Dt)/2,bt,Mt;if(Dt===ft){if(Ft<ue||Ft>=he)return;if(Xe>ct){if(!ie)ie={x:Ft,y:Ee};else if(ie.y>=we)return;W={x:Ft,y:we}}else{if(!ie)ie={x:Ft,y:we};else if(ie.y<Ee)return;W={x:Ft,y:Ee}}}else if(bt=(Xe-ct)/(Dt-ft),Mt=vt-bt*Ft,bt<-1||bt>1)if(Xe>ct){if(!ie)ie={x:(Ee-Mt)/bt,y:Ee};else if(ie.y>=we)return;W={x:(we-Mt)/bt,y:we}}else{if(!ie)ie={x:(we-Mt)/bt,y:we};else if(ie.y<Ee)return;W={x:(Ee-Mt)/bt,y:Ee}}else if(ft<Dt){if(!ie)ie={x:ue,y:bt*ue+Mt};else if(ie.x>=he)return;W={x:he,y:bt*he+Mt}}else{if(!ie)ie={x:he,y:bt*he+Mt};else if(ie.x<ue)return;W={x:ue,y:bt*ue+Mt}}return P.a=ie,P.b=W,!0}function ul(P,H){this.l=P,this.r=H,this.a=this.b=null}function Va(P,H,W,ie){var ue=new ul(P,H);return xa.push(ue),W&&qa(ue,P,H,W),ie&&qa(ue,H,P,ie),Da[P.i].edges.push(new Gu(ue,P,H)),Da[H.i].edges.push(new Gu(ue,H,P)),ue}function R0(P,H,W){var ie=new ul(P,null);return ie.a=H,ie.b=W,xa.push(ie),ie}function qa(P,H,W,ie){!P.a&&!P.b?(P.a=ie,P.l=H,P.r=W):P.l===W?P.b=ie:P.a=ie}function Gu(P,H,W){var ie=P.a,ue=P.b;this.edge=P,this.site=H,this.angle=W?Math.atan2(W.y-H.y,W.x-H.x):P.l===H?Math.atan2(ue.x-ie.x,ie.y-ue.y):Math.atan2(ie.x-ue.x,ue.y-ie.y)}Gu.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function su(){this._=null}function Go(P){P.U=P.C=P.L=P.R=P.P=P.N=null}su.prototype={insert:function(P,H){var W,ie,ue;if(P){if(H.P=P,H.N=P.N,P.N&&(P.N.P=H),P.N=H,P.R){for(P=P.R;P.L;)P=P.L;P.L=H}else P.R=H;W=P}else this._?(P=zi(this._),H.P=null,H.N=P,P.P=P.L=H,W=P):(H.P=H.N=null,this._=H,W=null);for(H.L=H.R=null,H.U=W,H.C=!0,P=H;W&&W.C;)ie=W.U,W===ie.L?(ue=ie.R,ue&&ue.C?(W.C=ue.C=!1,ie.C=!0,P=ie):(P===W.R&&(Us(this,W),P=W,W=P.U),W.C=!1,ie.C=!0,Yu(this,ie))):(ue=ie.L,ue&&ue.C?(W.C=ue.C=!1,ie.C=!0,P=ie):(P===W.L&&(Yu(this,W),P=W,W=P.U),W.C=!1,ie.C=!0,Us(this,ie))),W=P.U;this._.C=!1},remove:function(P){P.N&&(P.N.P=P.P),P.P&&(P.P.N=P.N),P.N=P.P=null;var H=P.U,W,ie=P.L,ue=P.R,he,Ee;if(ie?ue?he=zi(ue):he=ie:he=ue,H?H.L===P?H.L=he:H.R=he:this._=he,ie&&ue?(Ee=he.C,he.C=P.C,he.L=ie,ie.U=he,he!==ue?(H=he.U,he.U=P.U,P=he.R,H.L=P,he.R=ue,ue.U=he):(he.U=H,H=he,P=he.R)):(Ee=P.C,P=he),P&&(P.U=H),!Ee){if(P&&P.C){P.C=!1;return}do{if(P===this._)break;if(P===H.L){if(W=H.R,W.C&&(W.C=!1,H.C=!0,Us(this,H),W=H.R),W.L&&W.L.C||W.R&&W.R.C){(!W.R||!W.R.C)&&(W.L.C=!1,W.C=!0,Yu(this,W),W=H.R),W.C=H.C,H.C=W.R.C=!1,Us(this,H),P=this._;break}}else if(W=H.L,W.C&&(W.C=!1,H.C=!0,Yu(this,H),W=H.L),W.L&&W.L.C||W.R&&W.R.C){(!W.L||!W.L.C)&&(W.R.C=!1,W.C=!0,Us(this,W),W=H.L),W.C=H.C,H.C=W.L.C=!1,Yu(this,H),P=this._;break}W.C=!0,P=H,H=H.U}while(!P.C);P&&(P.C=!1)}}};function Us(P,H){var W=H,ie=H.R,ue=W.U;ue?ue.L===W?ue.L=ie:ue.R=ie:P._=ie,ie.U=ue,W.U=ie,W.R=ie.L,W.R&&(W.R.U=W),ie.L=W}function Yu(P,H){var W=H,ie=H.L,ue=W.U;ue?ue.L===W?ue.L=ie:ue.R=ie:P._=ie,ie.U=ue,W.U=ie,W.L=ie.R,W.L&&(W.L.U=W),ie.R=W}function zi(P){for(;P.L;)P=P.L;return P}function As(P,H){var W=P.sort(Wu).pop(),ie,ue,he;for(xa=[],Da=new Array(P.length),En=new su,Ho=new su;;)if(he=si,W&&(!he||W.y<he.y||W.y===he.y&&W.x<he.x))(W.x!==ie||W.y!==ue)&&(Da[W.i]=new Qa(W),Uu(W),ie=W.x,ue=W.y),W=P.pop();else if(he)Hs(he.arc);else break;H&&(Vo(H),jo(H));var Ee={cells:Da,edges:xa};return En=Ho=xa=Da=null,Ee}function Wu(P,H){return H.y-P.y||H.x-P.x}e.geom.voronoi=function(P){var H=Wi,W=Xi,ie=H,ue=W,he=Xu;if(P)return Ee(P);function Ee(Ne){var Ye=new Array(Ne.length),Xe=he[0][0],ft=he[0][1],ct=he[1][0],Dt=he[1][1];return As(we(Ne),he).cells.forEach(function(Ft,vt){var bt=Ft.edges,Mt=Ft.site,Nt=Ye[vt]=bt.length?bt.map(function(zt){var Et=zt.start();return[Et.x,Et.y]}):Mt.x>=Xe&&Mt.x<=ct&&Mt.y>=ft&&Mt.y<=Dt?[[Xe,Dt],[ct,Dt],[ct,ft],[Xe,ft]]:[];Nt.point=Ne[vt]}),Ye}function we(Ne){return Ne.map(function(Ye,Xe){return{x:Math.round(ie(Ye,Xe)/Ot)*Ot,y:Math.round(ue(Ye,Xe)/Ot)*Ot,i:Xe}})}return Ee.links=function(Ne){return As(we(Ne)).edges.filter(function(Ye){return Ye.l&&Ye.r}).map(function(Ye){return{source:Ne[Ye.l.i],target:Ne[Ye.r.i]}})},Ee.triangles=function(Ne){var Ye=[];return As(we(Ne)).cells.forEach(function(Xe,ft){for(var ct=Xe.site,Dt=Xe.edges.sort(Ts),Ft=-1,vt=Dt.length,bt,Mt,Nt=Dt[vt-1].edge,zt=Nt.l===ct?Nt.r:Nt.l;++Ft<vt;)bt=Nt,Mt=zt,Nt=Dt[Ft].edge,zt=Nt.l===ct?Nt.r:Nt.l,ft<Mt.i&&ft<zt.i&&lu(ct,Mt,zt)<0&&Ye.push([Ne[ft],Ne[Mt.i],Ne[zt.i]])}),Ye},Ee.x=function(Ne){return arguments.length?(ie=xt(H=Ne),Ee):H},Ee.y=function(Ne){return arguments.length?(ue=xt(W=Ne),Ee):W},Ee.clipExtent=function(Ne){return arguments.length?(he=Ne??Xu,Ee):he===Xu?null:he},Ee.size=function(Ne){return arguments.length?Ee.clipExtent(Ne&&[[0,0],Ne]):he===Xu?null:he&&he[1]},Ee};var Xu=[[-1e6,-1e6],[1e6,1e6]];function lu(P,H,W){return(P.x-W.x)*(H.y-P.y)-(P.x-H.x)*(W.y-P.y)}e.geom.delaunay=function(P){return e.geom.voronoi().triangles(P)},e.geom.quadtree=function(P,H,W,ie,ue){var he=Wi,Ee=Xi,we;if(we=arguments.length)return he=Af,Ee=ah,we===3&&(ue=W,ie=H,W=H=0),Ne(P);function Ne(Ye){var Xe,ft=xt(he),ct=xt(Ee),Dt,Ft,vt,bt,Mt,Nt,zt,Et;if(H!=null)Mt=H,Nt=W,zt=ie,Et=ue;else if(zt=Et=-(Mt=Nt=1/0),Dt=[],Ft=[],bt=Ye.length,we)for(vt=0;vt<bt;++vt)Xe=Ye[vt],Xe.x<Mt&&(Mt=Xe.x),Xe.y<Nt&&(Nt=Xe.y),Xe.x>zt&&(zt=Xe.x),Xe.y>Et&&(Et=Xe.y),Dt.push(Xe.x),Ft.push(Xe.y);else for(vt=0;vt<bt;++vt){var sr=+ft(Xe=Ye[vt],vt),kr=+ct(Xe,vt);sr<Mt&&(Mt=sr),kr<Nt&&(Nt=kr),sr>zt&&(zt=sr),kr>Et&&(Et=kr),Dt.push(sr),Ft.push(kr)}var Dr=zt-Mt,or=Et-Nt;Dr>or?Et=Nt+Dr:zt=Mt+or;function Hr(jr,pn,di,Ei,Li,br,yn,An){if(!(isNaN(di)||isNaN(Ei)))if(jr.leaf){var li=jr.x,pi=jr.y;if(li!=null)if(m(li-di)+m(pi-Ei)<.01)Ur(jr,pn,di,Ei,Li,br,yn,An);else{var ea=jr.point;jr.x=jr.y=jr.point=null,Ur(jr,ea,li,pi,Li,br,yn,An),Ur(jr,pn,di,Ei,Li,br,yn,An)}else jr.x=di,jr.y=Ei,jr.point=pn}else Ur(jr,pn,di,Ei,Li,br,yn,An)}function Ur(jr,pn,di,Ei,Li,br,yn,An){var li=(Li+yn)*.5,pi=(br+An)*.5,ea=di>=li,yo=Ei>=pi,vs=yo<<1|ea;jr.leaf=!1,jr=jr.nodes[vs]||(jr.nodes[vs]=oh()),ea?Li=li:yn=li,yo?br=pi:An=pi,Hr(jr,pn,di,Ei,Li,br,yn,An)}var dn=oh();if(dn.add=function(jr){Hr(dn,jr,+ft(jr,++vt),+ct(jr,vt),Mt,Nt,zt,Et)},dn.visit=function(jr){Ms(jr,dn,Mt,Nt,zt,Et)},dn.find=function(jr){return Zu(dn,jr[0],jr[1],Mt,Nt,zt,Et)},vt=-1,H==null){for(;++vt<bt;)Hr(dn,Ye[vt],Dt[vt],Ft[vt],Mt,Nt,zt,Et);--vt}else Ye.forEach(dn.add);return Dt=Ft=Ye=Xe=null,dn}return Ne.x=function(Ye){return arguments.length?(he=Ye,Ne):he},Ne.y=function(Ye){return arguments.length?(Ee=Ye,Ne):Ee},Ne.extent=function(Ye){return arguments.length?(Ye==null?H=W=ie=ue=null:(H=+Ye[0][0],W=+Ye[0][1],ie=+Ye[1][0],ue=+Ye[1][1]),Ne):H==null?null:[[H,W],[ie,ue]]},Ne.size=function(Ye){return arguments.length?(Ye==null?H=W=ie=ue=null:(H=W=0,ie=+Ye[0],ue=+Ye[1]),Ne):H==null?null:[ie-H,ue-W]},Ne};function Af(P){return P.x}function ah(P){return P.y}function oh(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ms(P,H,W,ie,ue,he){if(!P(H,W,ie,ue,he)){var Ee=(W+ue)*.5,we=(ie+he)*.5,Ne=H.nodes;Ne[0]&&Ms(P,Ne[0],W,ie,Ee,we),Ne[1]&&Ms(P,Ne[1],Ee,ie,ue,we),Ne[2]&&Ms(P,Ne[2],W,we,Ee,he),Ne[3]&&Ms(P,Ne[3],Ee,we,ue,he)}}function Zu(P,H,W,ie,ue,he,Ee){var we=1/0,Ne;return function Ye(Xe,ft,ct,Dt,Ft){if(!(ft>he||ct>Ee||Dt<ie||Ft<ue)){if(vt=Xe.point){var vt,bt=H-Xe.x,Mt=W-Xe.y,Nt=bt*bt+Mt*Mt;if(Nt<we){var zt=Math.sqrt(we=Nt);ie=H-zt,ue=W-zt,he=H+zt,Ee=W+zt,Ne=vt}}for(var Et=Xe.nodes,sr=(ft+Dt)*.5,kr=(ct+Ft)*.5,Dr=H>=sr,or=W>=kr,Hr=or<<1|Dr,Ur=Hr+4;Hr<Ur;++Hr)if(Xe=Et[Hr&3])switch(Hr&3){case 0:Ye(Xe,ft,ct,sr,kr);break;case 1:Ye(Xe,sr,ct,Dt,kr);break;case 2:Ye(Xe,ft,kr,sr,Ft);break;case 3:Ye(Xe,sr,kr,Dt,Ft);break}}}(P,ie,ue,he,Ee),Ne}e.interpolateRgb=Pl;function Pl(P,H){P=e.rgb(P),H=e.rgb(H);var W=P.r,ie=P.g,ue=P.b,he=H.r-W,Ee=H.g-ie,we=H.b-ue;return function(Ne){return"#"+Ji(Math.round(W+he*Ne))+Ji(Math.round(ie+Ee*Ne))+Ji(Math.round(ue+we*Ne))}}e.interpolateObject=cs;function cs(P,H){var W={},ie={},ue;for(ue in P)ue in H?W[ue]=uu(P[ue],H[ue]):ie[ue]=P[ue];for(ue in H)ue in P||(ie[ue]=H[ue]);return function(he){for(ue in W)ie[ue]=W[ue](he);return ie}}e.interpolateNumber=za;function za(P,H){return P=+P,H=+H,function(W){return P*(1-W)+H*W}}e.interpolateString=po;function po(P,H){var W=js.lastIndex=$u.lastIndex=0,ie,ue,he,Ee=-1,we=[],Ne=[];for(P=P+"",H=H+"";(ie=js.exec(P))&&(ue=$u.exec(H));)(he=ue.index)>W&&(he=H.slice(W,he),we[Ee]?we[Ee]+=he:we[++Ee]=he),(ie=ie[0])===(ue=ue[0])?we[Ee]?we[Ee]+=ue:we[++Ee]=ue:(we[++Ee]=null,Ne.push({i:Ee,x:za(ie,ue)})),W=$u.lastIndex;return W<H.length&&(he=H.slice(W),we[Ee]?we[Ee]+=he:we[++Ee]=he),we.length<2?Ne[0]?(H=Ne[0].x,function(Ye){return H(Ye)+""}):function(){return H}:(H=Ne.length,function(Ye){for(var Xe=0,ft;Xe<H;++Xe)we[(ft=Ne[Xe]).i]=ft.x(Ye);return we.join("")})}var js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$u=new RegExp(js.source,"g");e.interpolate=uu;function uu(P,H){for(var W=e.interpolators.length,ie;--W>=0&&!(ie=e.interpolators[W](P,H)););return ie}e.interpolators=[function(P,H){var W=typeof H;return(W==="string"?lt.has(H.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(H)?Pl:po:H instanceof Kr?Pl:Array.isArray(H)?Mf:W==="object"&&isNaN(H)?cs:za)(P,H)}],e.interpolateArray=Mf;function Mf(P,H){var W=[],ie=[],ue=P.length,he=H.length,Ee=Math.min(P.length,H.length),we;for(we=0;we<Ee;++we)W.push(uu(P[we],H[we]));for(;we<ue;++we)ie[we]=P[we];for(;we<he;++we)ie[we]=H[we];return function(Ne){for(we=0;we<Ee;++we)ie[we]=W[we](Ne);return ie}}var pc=function(){return R},sh=e.map({linear:pc,poly:od,quad:function(){return Ku},cubic:function(){return lh},sin:function(){return mc},exp:function(){return yc},circle:function(){return fl},elastic:uh,back:cl,bounce:function(){return fh}}),I0=e.map({in:R,out:Eo,"in-out":gc,"out-in":function(P){return gc(Eo(P))}});e.ease=function(P){var H=P.indexOf("-"),W=H>=0?P.slice(0,H):P,ie=H>=0?P.slice(H+1):"in";return W=sh.get(W)||pc,ie=I0.get(ie)||R,ad(ie(W.apply(null,t.call(arguments,1))))};function ad(P){return function(H){return H<=0?0:H>=1?1:P(H)}}function Eo(P){return function(H){return 1-P(1-H)}}function gc(P){return function(H){return .5*(H<.5?P(2*H):2-P(2-2*H))}}function Ku(P){return P*P}function lh(P){return P*P*P}function Kh(P){if(P<=0)return 0;if(P>=1)return 1;var H=P*P,W=H*P;return 4*(P<.5?W:3*(P-H)+W-.75)}function od(P){return function(H){return Math.pow(H,P)}}function mc(P){return 1-Math.cos(P*Be)}function yc(P){return Math.pow(2,10*(P-1))}function fl(P){return 1-Math.sqrt(1-P*P)}function uh(P,H){var W;return arguments.length<2&&(H=.45),arguments.length?W=H/Je*Math.asin(1/P):(P=1,W=H/4),function(ie){return 1+P*Math.pow(2,-10*ie)*Math.sin((ie-W)*Je/H)}}function cl(P){return P||(P=1.70158),function(H){return H*H*((P+1)*H-P)}}function fh(P){return P<1/2.75?7.5625*P*P:P<2/2.75?7.5625*(P-=1.5/2.75)*P+.75:P<2.5/2.75?7.5625*(P-=2.25/2.75)*P+.9375:7.5625*(P-=2.625/2.75)*P+.984375}e.interpolateHcl=sd;function sd(P,H){P=e.hcl(P),H=e.hcl(H);var W=P.h,ie=P.c,ue=P.l,he=H.h-W,Ee=H.c-ie,we=H.l-ue;return isNaN(Ee)&&(Ee=0,ie=isNaN(ie)?H.c:ie),isNaN(he)?(he=0,W=isNaN(W)?H.h:W):he>180?he-=360:he<-180&&(he+=360),function(Ne){return ci(W+he*Ne,ie+Ee*Ne,ue+we*Ne)+""}}e.interpolateHsl=xc;function xc(P,H){P=e.hsl(P),H=e.hsl(H);var W=P.h,ie=P.s,ue=P.l,he=H.h-W,Ee=H.s-ie,we=H.l-ue;return isNaN(Ee)&&(Ee=0,ie=isNaN(ie)?H.s:ie),isNaN(he)?(he=0,W=isNaN(W)?H.h:W):he>180?he-=360:he<-180&&(he+=360),function(Ne){return Vn(W+he*Ne,ie+Ee*Ne,ue+we*Ne)+""}}e.interpolateLab=ld;function ld(P,H){P=e.lab(P),H=e.lab(H);var W=P.l,ie=P.a,ue=P.b,he=H.l-W,Ee=H.a-ie,we=H.b-ue;return function(Ne){return ia(W+he*Ne,ie+Ee*Ne,ue+we*Ne)+""}}e.interpolateRound=Lo;function Lo(P,H){return H-=P,function(W){return Math.round(P+H*W)}}e.transform=function(P){var H=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(W){if(W!=null){H.setAttribute("transform",W);var ie=H.transform.baseVal.consolidate()}return new Ju(ie?ie.matrix:fu)})(P)};function Ju(P){var H=[P.a,P.b],W=[P.c,P.d],ie=bc(H),ue=kf(H,W),he=bc(wc(W,H,-ue))||0;H[0]*W[1]<W[0]*H[1]&&(H[0]*=-1,H[1]*=-1,ie*=-1,ue*=-1),this.rotate=(ie?Math.atan2(H[1],H[0]):Math.atan2(-W[0],W[1]))*ot,this.translate=[P.e,P.f],this.scale=[ie,he],this.skew=he?Math.atan2(ue,he)*ot:0}Ju.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function kf(P,H){return P[0]*H[0]+P[1]*H[1]}function bc(P){var H=Math.sqrt(kf(P,P));return H&&(P[0]/=H,P[1]/=H),H}function wc(P,H,W){return P[0]+=W*H[0],P[1]+=W*H[1],P}var fu={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=ch;function Ga(P){return P.length?P.pop()+",":""}function Jh(P,H,W,ie){if(P[0]!==H[0]||P[1]!==H[1]){var ue=W.push("translate(",null,",",null,")");ie.push({i:ue-4,x:za(P[0],H[0])},{i:ue-2,x:za(P[1],H[1])})}else(H[0]||H[1])&&W.push("translate("+H+")")}function Qh(P,H,W,ie){P!==H?(P-H>180?H+=360:H-P>180&&(P+=360),ie.push({i:W.push(Ga(W)+"rotate(",null,")")-2,x:za(P,H)})):H&&W.push(Ga(W)+"rotate("+H+")")}function ud(P,H,W,ie){P!==H?ie.push({i:W.push(Ga(W)+"skewX(",null,")")-2,x:za(P,H)}):H&&W.push(Ga(W)+"skewX("+H+")")}function ev(P,H,W,ie){if(P[0]!==H[0]||P[1]!==H[1]){var ue=W.push(Ga(W)+"scale(",null,",",null,")");ie.push({i:ue-4,x:za(P[0],H[0])},{i:ue-2,x:za(P[1],H[1])})}else(H[0]!==1||H[1]!==1)&&W.push(Ga(W)+"scale("+H+")")}function ch(P,H){var W=[],ie=[];return P=e.transform(P),H=e.transform(H),Jh(P.translate,H.translate,W,ie),Qh(P.rotate,H.rotate,W,ie),ud(P.skew,H.skew,W,ie),ev(P.scale,H.scale,W,ie),P=H=null,function(ue){for(var he=-1,Ee=ie.length,we;++he<Ee;)W[(we=ie[he]).i]=we.x(ue);return W.join("")}}function tv(P,H){return H=(H-=P=+P)||1/H,function(W){return(W-P)/H}}function hl(P,H){return H=(H-=P=+P)||1/H,function(W){return Math.max(0,Math.min(1,(W-P)/H))}}e.layout={},e.layout.bundle=function(){return function(P){for(var H=[],W=-1,ie=P.length;++W<ie;)H.push(Gt(P[W]));return H}};function Gt(P){for(var H=P.source,W=P.target,ie=Jt(H,W),ue=[H];H!==ie;)H=H.parent,ue.push(H);for(var he=ue.length;W!==ie;)ue.splice(he,0,W),W=W.parent;return ue}function lr(P){for(var H=[],W=P.parent;W!=null;)H.push(P),P=W,W=W.parent;return H.push(P),H}function Jt(P,H){if(P===H)return P;for(var W=lr(P),ie=lr(H),ue=W.pop(),he=ie.pop(),Ee=null;ue===he;)Ee=ue,ue=W.pop(),he=ie.pop();return Ee}e.layout.chord=function(){var P={},H,W,ie,ue,he=0,Ee,we,Ne;function Ye(){var ft={},ct=[],Dt=e.range(ue),Ft=[],vt,bt,Mt,Nt,zt;for(H=[],W=[],vt=0,Nt=-1;++Nt<ue;){for(bt=0,zt=-1;++zt<ue;)bt+=ie[Nt][zt];ct.push(bt),Ft.push(e.range(ue)),vt+=bt}for(Ee&&Dt.sort(function(dn,jr){return Ee(ct[dn],ct[jr])}),we&&Ft.forEach(function(dn,jr){dn.sort(function(pn,di){return we(ie[jr][pn],ie[jr][di])})}),vt=(Je-he*ue)/vt,bt=0,Nt=-1;++Nt<ue;){for(Mt=bt,zt=-1;++zt<ue;){var Et=Dt[Nt],sr=Ft[Et][zt],kr=ie[Et][sr],Dr=bt,or=bt+=kr*vt;ft[Et+"-"+sr]={index:Et,subindex:sr,startAngle:Dr,endAngle:or,value:kr}}W[Et]={index:Et,startAngle:Mt,endAngle:bt,value:ct[Et]},bt+=he}for(Nt=-1;++Nt<ue;)for(zt=Nt-1;++zt<ue;){var Hr=ft[Nt+"-"+zt],Ur=ft[zt+"-"+Nt];(Hr.value||Ur.value)&&H.push(Hr.value<Ur.value?{source:Ur,target:Hr}:{source:Hr,target:Ur})}Ne&&Xe()}function Xe(){H.sort(function(ft,ct){return Ne((ft.source.value+ft.target.value)/2,(ct.source.value+ct.target.value)/2)})}return P.matrix=function(ft){return arguments.length?(ue=(ie=ft)&&ie.length,H=W=null,P):ie},P.padding=function(ft){return arguments.length?(he=ft,H=W=null,P):he},P.sortGroups=function(ft){return arguments.length?(Ee=ft,H=W=null,P):Ee},P.sortSubgroups=function(ft){return arguments.length?(we=ft,H=null,P):we},P.sortChords=function(ft){return arguments.length?(Ne=ft,H&&Xe(),P):Ne},P.chords=function(){return H||Ye(),H},P.groups=function(){return W||Ye(),W},P},e.layout.force=function(){var P={},H=e.dispatch("start","tick","end"),W,ie=[1,1],ue,he,Ee=.9,we=hh,Ne=P0,Ye=-30,Xe=ks,ft=.1,ct=.64,Dt=[],Ft=[],vt,bt,Mt;function Nt(Et){return function(sr,kr,Dr,or){if(sr.point!==Et){var Hr=sr.cx-Et.x,Ur=sr.cy-Et.y,dn=or-kr,jr=Hr*Hr+Ur*Ur;if(dn*dn/ct<jr){if(jr<Xe){var pn=sr.charge/jr;Et.px-=Hr*pn,Et.py-=Ur*pn}return!0}if(sr.point&&jr&&jr<Xe){var pn=sr.pointCharge/jr;Et.px-=Hr*pn,Et.py-=Ur*pn}}return!sr.charge}}P.tick=function(){if((he*=.99)<.005)return W=null,H.end({type:"end",alpha:he=0}),!0;var Et=Dt.length,sr=Ft.length,kr,Dr,or,Hr,Ur,dn,jr,pn,di;for(Dr=0;Dr<sr;++Dr)or=Ft[Dr],Hr=or.source,Ur=or.target,pn=Ur.x-Hr.x,di=Ur.y-Hr.y,(dn=pn*pn+di*di)&&(dn=he*bt[Dr]*((dn=Math.sqrt(dn))-vt[Dr])/dn,pn*=dn,di*=dn,Ur.x-=pn*(jr=Hr.weight+Ur.weight?Hr.weight/(Hr.weight+Ur.weight):.5),Ur.y-=di*jr,Hr.x+=pn*(jr=1-jr),Hr.y+=di*jr);if((jr=he*ft)&&(pn=ie[0]/2,di=ie[1]/2,Dr=-1,jr))for(;++Dr<Et;)or=Dt[Dr],or.x+=(pn-or.x)*jr,or.y+=(di-or.y)*jr;if(Ye)for(vi(kr=e.geom.quadtree(Dt),he,Mt),Dr=-1;++Dr<Et;)(or=Dt[Dr]).fixed||kr.visit(Nt(or));for(Dr=-1;++Dr<Et;)or=Dt[Dr],or.fixed?(or.x=or.px,or.y=or.py):(or.x-=(or.px-(or.px=or.x))*Ee,or.y-=(or.py-(or.py=or.y))*Ee);H.tick({type:"tick",alpha:he})},P.nodes=function(Et){return arguments.length?(Dt=Et,P):Dt},P.links=function(Et){return arguments.length?(Ft=Et,P):Ft},P.size=function(Et){return arguments.length?(ie=Et,P):ie},P.linkDistance=function(Et){return arguments.length?(we=typeof Et=="function"?Et:+Et,P):we},P.distance=P.linkDistance,P.linkStrength=function(Et){return arguments.length?(Ne=typeof Et=="function"?Et:+Et,P):Ne},P.friction=function(Et){return arguments.length?(Ee=+Et,P):Ee},P.charge=function(Et){return arguments.length?(Ye=typeof Et=="function"?Et:+Et,P):Ye},P.chargeDistance=function(Et){return arguments.length?(Xe=Et*Et,P):Math.sqrt(Xe)},P.gravity=function(Et){return arguments.length?(ft=+Et,P):ft},P.theta=function(Et){return arguments.length?(ct=Et*Et,P):Math.sqrt(ct)},P.alpha=function(Et){return arguments.length?(Et=+Et,he?Et>0?he=Et:(W.c=null,W.t=NaN,W=null,H.end({type:"end",alpha:he=0})):Et>0&&(H.start({type:"start",alpha:he=Et}),W=Xn(P.tick)),P):he},P.start=function(){var Et,sr=Dt.length,kr=Ft.length,Dr=ie[0],or=ie[1],Hr,Ur;for(Et=0;Et<sr;++Et)(Ur=Dt[Et]).index=Et,Ur.weight=0;for(Et=0;Et<kr;++Et)Ur=Ft[Et],typeof Ur.source=="number"&&(Ur.source=Dt[Ur.source]),typeof Ur.target=="number"&&(Ur.target=Dt[Ur.target]),++Ur.source.weight,++Ur.target.weight;for(Et=0;Et<sr;++Et)Ur=Dt[Et],isNaN(Ur.x)&&(Ur.x=dn("x",Dr)),isNaN(Ur.y)&&(Ur.y=dn("y",or)),isNaN(Ur.px)&&(Ur.px=Ur.x),isNaN(Ur.py)&&(Ur.py=Ur.y);if(vt=[],typeof we=="function")for(Et=0;Et<kr;++Et)vt[Et]=+we.call(this,Ft[Et],Et);else for(Et=0;Et<kr;++Et)vt[Et]=we;if(bt=[],typeof Ne=="function")for(Et=0;Et<kr;++Et)bt[Et]=+Ne.call(this,Ft[Et],Et);else for(Et=0;Et<kr;++Et)bt[Et]=Ne;if(Mt=[],typeof Ye=="function")for(Et=0;Et<sr;++Et)Mt[Et]=+Ye.call(this,Dt[Et],Et);else for(Et=0;Et<sr;++Et)Mt[Et]=Ye;function dn(jr,pn){if(!Hr){for(Hr=new Array(sr),Li=0;Li<sr;++Li)Hr[Li]=[];for(Li=0;Li<kr;++Li){var di=Ft[Li];Hr[di.source.index].push(di.target),Hr[di.target.index].push(di.source)}}for(var Ei=Hr[Et],Li=-1,br=Ei.length,yn;++Li<br;)if(!isNaN(yn=Ei[Li][jr]))return yn;return Math.random()*pn}return P.resume()},P.resume=function(){return P.alpha(.1)},P.stop=function(){return P.alpha(0)},P.drag=function(){if(ue||(ue=e.behavior.drag().origin(R).on("dragstart.force",Xr).on("drag.force",zt).on("dragend.force",bn)),!arguments.length)return ue;this.on("mouseover.force",hi).on("mouseout.force",Ra).call(ue)};function zt(Et){Et.px=e.event.x,Et.py=e.event.y,P.resume()}return e.rebind(P,H,"on")};function Xr(P){P.fixed|=2}function bn(P){P.fixed&=-7}function hi(P){P.fixed|=4,P.px=P.x,P.py=P.y}function Ra(P){P.fixed&=-5}function vi(P,H,W){var ie=0,ue=0;if(P.charge=0,!P.leaf)for(var he=P.nodes,Ee=he.length,we=-1,Ne;++we<Ee;)Ne=he[we],Ne!=null&&(vi(Ne,H,W),P.charge+=Ne.charge,ie+=Ne.charge*Ne.cx,ue+=Ne.charge*Ne.cy);if(P.point){P.leaf||(P.point.x+=Math.random()-.5,P.point.y+=Math.random()-.5);var Ye=H*W[P.point.index];P.charge+=P.pointCharge=Ye,ie+=Ye*P.point.x,ue+=Ye*P.point.y}P.cx=ie/P.charge,P.cy=ue/P.charge}var hh=20,P0=1,ks=1/0;e.layout.hierarchy=function(){var P=ki,H=vh,W=Fl;function ie(ue){var he=[ue],Ee=[],we;for(ue.depth=0;(we=he.pop())!=null;)if(Ee.push(we),(Ye=H.call(ie,we,we.depth))&&(Ne=Ye.length)){for(var Ne,Ye,Xe;--Ne>=0;)he.push(Xe=Ye[Ne]),Xe.parent=we,Xe.depth=we.depth+1;W&&(we.value=0),we.children=Ye}else W&&(we.value=+W.call(ie,we,we.depth)||0),delete we.children;return Ya(ue,function(ft){var ct,Dt;P&&(ct=ft.children)&&ct.sort(P),W&&(Dt=ft.parent)&&(Dt.value+=ft.value)}),Ee}return ie.sort=function(ue){return arguments.length?(P=ue,ie):P},ie.children=function(ue){return arguments.length?(H=ue,ie):H},ie.value=function(ue){return arguments.length?(W=ue,ie):W},ie.revalue=function(ue){return W&&(vl(ue,function(he){he.children&&(he.value=0)}),Ya(ue,function(he){var Ee;he.children||(he.value=+W.call(ie,he,he.depth)||0),(Ee=he.parent)&&(Ee.value+=he.value)})),ue},ie};function Ss(P,H){return e.rebind(P,H,"sort","children","value"),P.nodes=P,P.links=Es,P}function vl(P,H){for(var W=[P];(P=W.pop())!=null;)if(H(P),(ue=P.children)&&(ie=ue.length))for(var ie,ue;--ie>=0;)W.push(ue[ie])}function Ya(P,H){for(var W=[P],ie=[];(P=W.pop())!=null;)if(ie.push(P),(Ee=P.children)&&(he=Ee.length))for(var ue=-1,he,Ee;++ue<he;)W.push(Ee[ue]);for(;(P=ie.pop())!=null;)H(P)}function vh(P){return P.children}function Fl(P){return P.value}function ki(P,H){return H.value-P.value}function Es(P){return e.merge(P.map(function(H){return(H.children||[]).map(function(W){return{source:H,target:W}})}))}e.layout.partition=function(){var P=e.layout.hierarchy(),H=[1,1];function W(he,Ee,we,Ne){var Ye=he.children;if(he.x=Ee,he.y=he.depth*Ne,he.dx=we,he.dy=Ne,Ye&&(ft=Ye.length)){var Xe=-1,ft,ct,Dt;for(we=he.value?we/he.value:0;++Xe<ft;)W(ct=Ye[Xe],Ee,Dt=ct.value*we,Ne),Ee+=Dt}}function ie(he){var Ee=he.children,we=0;if(Ee&&(Ye=Ee.length))for(var Ne=-1,Ye;++Ne<Ye;)we=Math.max(we,ie(Ee[Ne]));return 1+we}function ue(he,Ee){var we=P.call(this,he,Ee);return W(we[0],0,H[0],H[1]/ie(we[0])),we}return ue.size=function(he){return arguments.length?(H=he,ue):H},Ss(ue,P)},e.layout.pie=function(){var P=Number,H=rv,W=0,ie=Je,ue=0;function he(Ee){var we=Ee.length,Ne=Ee.map(function(Nt,zt){return+P.call(he,Nt,zt)}),Ye=+(typeof W=="function"?W.apply(this,arguments):W),Xe=(typeof ie=="function"?ie.apply(this,arguments):ie)-Ye,ft=Math.min(Math.abs(Xe)/we,+(typeof ue=="function"?ue.apply(this,arguments):ue)),ct=ft*(Xe<0?-1:1),Dt=e.sum(Ne),Ft=Dt?(Xe-we*ct)/Dt:0,vt=e.range(we),bt=[],Mt;return H!=null&&vt.sort(H===rv?function(Nt,zt){return Ne[zt]-Ne[Nt]}:function(Nt,zt){return H(Ee[Nt],Ee[zt])}),vt.forEach(function(Nt){bt[Nt]={data:Ee[Nt],value:Mt=Ne[Nt],startAngle:Ye,endAngle:Ye+=Mt*Ft+ct,padAngle:ft}}),bt}return he.value=function(Ee){return arguments.length?(P=Ee,he):P},he.sort=function(Ee){return arguments.length?(H=Ee,he):H},he.startAngle=function(Ee){return arguments.length?(W=Ee,he):W},he.endAngle=function(Ee){return arguments.length?(ie=Ee,he):ie},he.padAngle=function(Ee){return arguments.length?(ue=Ee,he):ue},he};var rv={};e.layout.stack=function(){var P=R,H=Vs,W=hu,ie=fd,ue=_c,he=Tc;function Ee(we,Ne){if(!(Ft=we.length))return we;var Ye=we.map(function(Nt,zt){return P.call(Ee,Nt,zt)}),Xe=Ye.map(function(Nt){return Nt.map(function(zt,Et){return[ue.call(Ee,zt,Et),he.call(Ee,zt,Et)]})}),ft=H.call(Ee,Xe,Ne);Ye=e.permute(Ye,ft),Xe=e.permute(Xe,ft);var ct=W.call(Ee,Xe,Ne),Dt=Ye[0].length,Ft,vt,bt,Mt;for(bt=0;bt<Dt;++bt)for(ie.call(Ee,Ye[0][bt],Mt=ct[bt],Xe[0][bt][1]),vt=1;vt<Ft;++vt)ie.call(Ee,Ye[vt][bt],Mt+=Xe[vt-1][bt][1],Xe[vt][bt][1]);return we}return Ee.values=function(we){return arguments.length?(P=we,Ee):P},Ee.order=function(we){return arguments.length?(H=typeof we=="function"?we:dh.get(we)||Vs,Ee):H},Ee.offset=function(we){return arguments.length?(W=typeof we=="function"?we:cu.get(we)||hu,Ee):W},Ee.x=function(we){return arguments.length?(ue=we,Ee):ue},Ee.y=function(we){return arguments.length?(he=we,Ee):he},Ee.out=function(we){return arguments.length?(ie=we,Ee):ie},Ee};function _c(P){return P.x}function Tc(P){return P.y}function fd(P,H,W){P.y0=H,P.y=W}var dh=e.map({"inside-out":function(P){var H=P.length,W,ie,ue=P.map(cd),he=P.map(vu),Ee=e.range(H).sort(function(ft,ct){return ue[ft]-ue[ct]}),we=0,Ne=0,Ye=[],Xe=[];for(W=0;W<H;++W)ie=Ee[W],we<Ne?(we+=he[ie],Ye.push(ie)):(Ne+=he[ie],Xe.push(ie));return Xe.reverse().concat(Ye)},reverse:function(P){return e.range(P.length).reverse()},default:Vs}),cu=e.map({silhouette:function(P){var H=P.length,W=P[0].length,ie=[],ue=0,he,Ee,we,Ne=[];for(Ee=0;Ee<W;++Ee){for(he=0,we=0;he<H;he++)we+=P[he][Ee][1];we>ue&&(ue=we),ie.push(we)}for(Ee=0;Ee<W;++Ee)Ne[Ee]=(ue-ie[Ee])/2;return Ne},wiggle:function(P){var H=P.length,W=P[0],ie=W.length,ue,he,Ee,we,Ne,Ye,Xe,ft,ct,Dt=[];for(Dt[0]=ft=ct=0,he=1;he<ie;++he){for(ue=0,we=0;ue<H;++ue)we+=P[ue][he][1];for(ue=0,Ne=0,Xe=W[he][0]-W[he-1][0];ue<H;++ue){for(Ee=0,Ye=(P[ue][he][1]-P[ue][he-1][1])/(2*Xe);Ee<ue;++Ee)Ye+=(P[Ee][he][1]-P[Ee][he-1][1])/Xe;Ne+=Ye*P[ue][he][1]}Dt[he]=ft-=we?Ne/we*Xe:0,ft<ct&&(ct=ft)}for(he=0;he<ie;++he)Dt[he]-=ct;return Dt},expand:function(P){var H=P.length,W=P[0].length,ie=1/H,ue,he,Ee,we=[];for(he=0;he<W;++he){for(ue=0,Ee=0;ue<H;ue++)Ee+=P[ue][he][1];if(Ee)for(ue=0;ue<H;ue++)P[ue][he][1]/=Ee;else for(ue=0;ue<H;ue++)P[ue][he][1]=ie}for(he=0;he<W;++he)we[he]=0;return we},zero:hu});function Vs(P){return e.range(P.length)}function hu(P){for(var H=-1,W=P[0].length,ie=[];++H<W;)ie[H]=0;return ie}function cd(P){for(var H=1,W=0,ie=P[0][1],ue,he=P.length;H<he;++H)(ue=P[H][1])>ie&&(W=H,ie=ue);return W}function vu(P){return P.reduce(du,0)}function du(P,H){return P+H[1]}e.layout.histogram=function(){var P=!0,H=Number,W=Qu,ie=Sf;function ue(he,ct){for(var we=[],Ne=he.map(H,this),Ye=W.call(this,Ne,ct),Xe=ie.call(this,Ye,Ne,ct),ft,ct=-1,Dt=Ne.length,Ft=Xe.length-1,vt=P?1:1/Dt,bt;++ct<Ft;)ft=we[ct]=[],ft.dx=Xe[ct+1]-(ft.x=Xe[ct]),ft.y=0;if(Ft>0)for(ct=-1;++ct<Dt;)bt=Ne[ct],bt>=Ye[0]&&bt<=Ye[1]&&(ft=we[e.bisect(Xe,bt,1,Ft)-1],ft.y+=vt,ft.push(he[ct]));return we}return ue.value=function(he){return arguments.length?(H=he,ue):H},ue.range=function(he){return arguments.length?(W=xt(he),ue):W},ue.bins=function(he){return arguments.length?(ie=typeof he=="number"?function(Ee){return dl(Ee,he)}:xt(he),ue):ie},ue.frequency=function(he){return arguments.length?(P=!!he,ue):P},ue};function Sf(P,H){return dl(P,Math.ceil(Math.log(H.length)/Math.LN2+1))}function dl(P,H){for(var W=-1,ie=+P[0],ue=(P[1]-ie)/H,he=[];++W<=H;)he[W]=ue*W+ie;return he}function Qu(P){return[e.min(P),e.max(P)]}e.layout.pack=function(){var P=e.layout.hierarchy().sort(pu),H=0,W=[1,1],ie;function ue(he,Ee){var we=P.call(this,he,Ee),Ne=we[0],Ye=W[0],Xe=W[1],ft=ie==null?Math.sqrt:typeof ie=="function"?ie:function(){return ie};if(Ne.x=Ne.y=0,Ya(Ne,function(Dt){Dt.r=+ft(Dt.value)}),Ya(Ne,hd),H){var ct=H*(ie?1:Math.max(2*Ne.r/Ye,2*Ne.r/Xe))/2;Ya(Ne,function(Dt){Dt.r+=ct}),Ya(Ne,hd),Ya(Ne,function(Dt){Dt.r-=ct})}return ef(Ne,Ye/2,Xe/2,ie?1:1/Math.max(2*Ne.r/Ye,2*Ne.r/Xe)),we}return ue.size=function(he){return arguments.length?(W=he,ue):W},ue.radius=function(he){return arguments.length?(ie=he==null||typeof he=="function"?he:+he,ue):ie},ue.padding=function(he){return arguments.length?(H=+he,ue):H},Ss(ue,P)};function pu(P,H){return P.value-H.value}function Gs(P,H){var W=P._pack_next;P._pack_next=H,H._pack_prev=P,H._pack_next=W,W._pack_prev=H}function Ac(P,H){P._pack_next=H,H._pack_prev=P}function ph(P,H){var W=H.x-P.x,ie=H.y-P.y,ue=P.r+H.r;return .999*ue*ue>W*W+ie*ie}function hd(P){if(!(H=P.children)||!(ct=H.length))return;var H,W=1/0,ie=-1/0,ue=1/0,he=-1/0,Ee,we,Ne,Ye,Xe,ft,ct;function Dt(Et){W=Math.min(Et.x-Et.r,W),ie=Math.max(Et.x+Et.r,ie),ue=Math.min(Et.y-Et.r,ue),he=Math.max(Et.y+Et.r,he)}if(H.forEach(vd),Ee=H[0],Ee.x=-Ee.r,Ee.y=0,Dt(Ee),ct>1&&(we=H[1],we.x=we.r,we.y=0,Dt(we),ct>2))for(Ne=H[2],ba(Ee,we,Ne),Dt(Ne),Gs(Ee,Ne),Ee._pack_prev=Ne,Gs(Ne,we),we=Ee._pack_next,Ye=3;Ye<ct;Ye++){ba(Ee,we,Ne=H[Ye]);var Ft=0,vt=1,bt=1;for(Xe=we._pack_next;Xe!==we;Xe=Xe._pack_next,vt++)if(ph(Xe,Ne)){Ft=1;break}if(Ft==1)for(ft=Ee._pack_prev;ft!==Xe._pack_prev&&!ph(ft,Ne);ft=ft._pack_prev,bt++);Ft?(vt<bt||vt==bt&&we.r<Ee.r?Ac(Ee,we=Xe):Ac(Ee=ft,we),Ye--):(Gs(Ee,Ne),we=Ne,Dt(Ne))}var Mt=(W+ie)/2,Nt=(ue+he)/2,zt=0;for(Ye=0;Ye<ct;Ye++)Ne=H[Ye],Ne.x-=Mt,Ne.y-=Nt,zt=Math.max(zt,Ne.r+Math.sqrt(Ne.x*Ne.x+Ne.y*Ne.y));P.r=zt,H.forEach(Ef)}function vd(P){P._pack_next=P._pack_prev=P}function Ef(P){delete P._pack_next,delete P._pack_prev}function ef(P,H,W,ie){var ue=P.children;if(P.x=H+=ie*P.x,P.y=W+=ie*P.y,P.r*=ie,ue)for(var he=-1,Ee=ue.length;++he<Ee;)ef(ue[he],H,W,ie)}function ba(P,H,W){var ie=P.r+W.r,ue=H.x-P.x,he=H.y-P.y;if(ie&&(ue||he)){var Ee=H.r+W.r,we=ue*ue+he*he;Ee*=Ee,ie*=ie;var Ne=.5+(ie-Ee)/(2*we),Ye=Math.sqrt(Math.max(0,2*Ee*(ie+we)-(ie-=we)*ie-Ee*Ee))/(2*we);W.x=P.x+Ne*ue+Ye*he,W.y=P.y+Ne*he-Ye*ue}else W.x=P.x+ie,W.y=P.y}e.layout.tree=function(){var P=e.layout.hierarchy().sort(null).value(null),H=Ys,W=[1,1],ie=null;function ue(Xe,ft){var ct=P.call(this,Xe,ft),Dt=ct[0],Ft=he(Dt);if(Ya(Ft,Ee),Ft.parent.m=-Ft.z,vl(Ft,we),ie)vl(Dt,Ye);else{var vt=Dt,bt=Dt,Mt=Dt;vl(Dt,function(sr){sr.x<vt.x&&(vt=sr),sr.x>bt.x&&(bt=sr),sr.depth>Mt.depth&&(Mt=sr)});var Nt=H(vt,bt)/2-vt.x,zt=W[0]/(bt.x+H(bt,vt)/2+Nt),Et=W[1]/(Mt.depth||1);vl(Dt,function(sr){sr.x=(sr.x+Nt)*zt,sr.y=sr.depth*Et})}return ct}function he(Xe){for(var ft={A:null,children:[Xe]},ct=[ft],Dt;(Dt=ct.pop())!=null;)for(var Ft=Dt.children,vt,bt=0,Mt=Ft.length;bt<Mt;++bt)ct.push((Ft[bt]=vt={_:Ft[bt],parent:Dt,children:(vt=Ft[bt].children)&&vt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:bt}).a=vt);return ft.children[0]}function Ee(Xe){var ft=Xe.children,ct=Xe.parent.children,Dt=Xe.i?ct[Xe.i-1]:null;if(ft.length){wa(Xe);var Ft=(ft[0].z+ft[ft.length-1].z)/2;Dt?(Xe.z=Dt.z+H(Xe._,Dt._),Xe.m=Xe.z-Ft):Xe.z=Ft}else Dt&&(Xe.z=Dt.z+H(Xe._,Dt._));Xe.parent.A=Ne(Xe,Dt,Xe.parent.A||ct[0])}function we(Xe){Xe._.x=Xe.z+Xe.parent.m,Xe.m+=Xe.parent.m}function Ne(Xe,ft,ct){if(ft){for(var Dt=Xe,Ft=Xe,vt=ft,bt=Dt.parent.children[0],Mt=Dt.m,Nt=Ft.m,zt=vt.m,Et=bt.m,sr;vt=gh(vt),Dt=tf(Dt),vt&&Dt;)bt=tf(bt),Ft=gh(Ft),Ft.a=Xe,sr=vt.z+zt-Dt.z-Mt+H(vt._,Dt._),sr>0&&(Mc(Ae(vt,Xe,ct),Xe,sr),Mt+=sr,Nt+=sr),zt+=vt.m,Mt+=Dt.m,Et+=bt.m,Nt+=Ft.m;vt&&!gh(Ft)&&(Ft.t=vt,Ft.m+=zt-Nt),Dt&&!tf(bt)&&(bt.t=Dt,bt.m+=Mt-Et,ct=Xe)}return ct}function Ye(Xe){Xe.x*=W[0],Xe.y=Xe.depth*W[1]}return ue.separation=function(Xe){return arguments.length?(H=Xe,ue):H},ue.size=function(Xe){return arguments.length?(ie=(W=Xe)==null?Ye:null,ue):ie?null:W},ue.nodeSize=function(Xe){return arguments.length?(ie=(W=Xe)==null?null:Ye,ue):ie?W:null},Ss(ue,P)};function Ys(P,H){return P.parent==H.parent?1:2}function tf(P){var H=P.children;return H.length?H[0]:P.t}function gh(P){var H=P.children,W;return(W=H.length)?H[W-1]:P.t}function Mc(P,H,W){var ie=W/(H.i-P.i);H.c-=ie,H.s+=W,P.c+=ie,H.z+=W,H.m+=W}function wa(P){for(var H=0,W=0,ie=P.children,ue=ie.length,he;--ue>=0;)he=ie[ue],he.z+=H,he.m+=H,H+=he.s+(W+=he.c)}function Ae(P,H,W){return P.a.parent===H.parent?P.a:W}e.layout.cluster=function(){var P=e.layout.hierarchy().sort(null).value(null),H=Ys,W=[1,1],ie=!1;function ue(he,Ee){var we=P.call(this,he,Ee),Ne=we[0],Ye,Xe=0;Ya(Ne,function(vt){var bt=vt.children;bt&&bt.length?(vt.x=rt(bt),vt.y=ze(bt)):(vt.x=Ye?Xe+=H(vt,Ye):0,vt.y=0,Ye=vt)});var ft=Ze(Ne),ct=mt(Ne),Dt=ft.x-H(ft,ct)/2,Ft=ct.x+H(ct,ft)/2;return Ya(Ne,ie?function(vt){vt.x=(vt.x-Ne.x)*W[0],vt.y=(Ne.y-vt.y)*W[1]}:function(vt){vt.x=(vt.x-Dt)/(Ft-Dt)*W[0],vt.y=(1-(Ne.y?vt.y/Ne.y:1))*W[1]}),we}return ue.separation=function(he){return arguments.length?(H=he,ue):H},ue.size=function(he){return arguments.length?(ie=(W=he)==null,ue):ie?null:W},ue.nodeSize=function(he){return arguments.length?(ie=(W=he)!=null,ue):ie?W:null},Ss(ue,P)};function ze(P){return 1+e.max(P,function(H){return H.y})}function rt(P){return P.reduce(function(H,W){return H+W.x},0)/P.length}function Ze(P){var H=P.children;return H&&H.length?Ze(H[0]):P}function mt(P){var H=P.children,W;return H&&(W=H.length)?mt(H[W-1]):P}e.layout.treemap=function(){var P=e.layout.hierarchy(),H=Math.round,W=[1,1],ie=null,ue=It,he=!1,Ee,we="squarify",Ne=.5*(1+Math.sqrt(5));function Ye(vt,bt){for(var Mt=-1,Nt=vt.length,zt,Et;++Mt<Nt;)Et=(zt=vt[Mt]).value*(bt<0?0:bt),zt.area=isNaN(Et)||Et<=0?0:Et}function Xe(vt){var bt=vt.children;if(bt&&bt.length){var Mt=ue(vt),Nt=[],zt=bt.slice(),Et,sr=1/0,kr,Dr=we==="slice"?Mt.dx:we==="dice"?Mt.dy:we==="slice-dice"?vt.depth&1?Mt.dy:Mt.dx:Math.min(Mt.dx,Mt.dy),or;for(Ye(zt,Mt.dx*Mt.dy/vt.value),Nt.area=0;(or=zt.length)>0;)Nt.push(Et=zt[or-1]),Nt.area+=Et.area,we!=="squarify"||(kr=ct(Nt,Dr))<=sr?(zt.pop(),sr=kr):(Nt.area-=Nt.pop().area,Dt(Nt,Dr,Mt,!1),Dr=Math.min(Mt.dx,Mt.dy),Nt.length=Nt.area=0,sr=1/0);Nt.length&&(Dt(Nt,Dr,Mt,!0),Nt.length=Nt.area=0),bt.forEach(Xe)}}function ft(vt){var bt=vt.children;if(bt&&bt.length){var Mt=ue(vt),Nt=bt.slice(),zt,Et=[];for(Ye(Nt,Mt.dx*Mt.dy/vt.value),Et.area=0;zt=Nt.pop();)Et.push(zt),Et.area+=zt.area,zt.z!=null&&(Dt(Et,zt.z?Mt.dx:Mt.dy,Mt,!Nt.length),Et.length=Et.area=0);bt.forEach(ft)}}function ct(vt,bt){for(var Mt=vt.area,Nt,zt=0,Et=1/0,sr=-1,kr=vt.length;++sr<kr;)(Nt=vt[sr].area)&&(Nt<Et&&(Et=Nt),Nt>zt&&(zt=Nt));return Mt*=Mt,bt*=bt,Mt?Math.max(bt*zt*Ne/Mt,Mt/(bt*Et*Ne)):1/0}function Dt(vt,bt,Mt,Nt){var zt=-1,Et=vt.length,sr=Mt.x,kr=Mt.y,Dr=bt?H(vt.area/bt):0,or;if(bt==Mt.dx){for((Nt||Dr>Mt.dy)&&(Dr=Mt.dy);++zt<Et;)or=vt[zt],or.x=sr,or.y=kr,or.dy=Dr,sr+=or.dx=Math.min(Mt.x+Mt.dx-sr,Dr?H(or.area/Dr):0);or.z=!0,or.dx+=Mt.x+Mt.dx-sr,Mt.y+=Dr,Mt.dy-=Dr}else{for((Nt||Dr>Mt.dx)&&(Dr=Mt.dx);++zt<Et;)or=vt[zt],or.x=sr,or.y=kr,or.dx=Dr,kr+=or.dy=Math.min(Mt.y+Mt.dy-kr,Dr?H(or.area/Dr):0);or.z=!1,or.dy+=Mt.y+Mt.dy-kr,Mt.x+=Dr,Mt.dx-=Dr}}function Ft(vt){var bt=Ee||P(vt),Mt=bt[0];return Mt.x=Mt.y=0,Mt.value?(Mt.dx=W[0],Mt.dy=W[1]):Mt.dx=Mt.dy=0,Ee&&P.revalue(Mt),Ye([Mt],Mt.dx*Mt.dy/Mt.value),(Ee?ft:Xe)(Mt),he&&(Ee=bt),bt}return Ft.size=function(vt){return arguments.length?(W=vt,Ft):W},Ft.padding=function(vt){if(!arguments.length)return ie;function bt(zt){var Et=vt.call(Ft,zt,zt.depth);return Et==null?It(zt):Ut(zt,typeof Et=="number"?[Et,Et,Et,Et]:Et)}function Mt(zt){return Ut(zt,vt)}var Nt;return ue=(ie=vt)==null?It:(Nt=typeof vt)=="function"?bt:(Nt==="number"&&(vt=[vt,vt,vt,vt]),Mt),Ft},Ft.round=function(vt){return arguments.length?(H=vt?Math.round:Number,Ft):H!=Number},Ft.sticky=function(vt){return arguments.length?(he=vt,Ee=null,Ft):he},Ft.ratio=function(vt){return arguments.length?(Ne=vt,Ft):Ne},Ft.mode=function(vt){return arguments.length?(we=vt+"",Ft):we},Ss(Ft,P)};function It(P){return{x:P.x,y:P.y,dx:P.dx,dy:P.dy}}function Ut(P,H){var W=P.x+H[3],ie=P.y+H[0],ue=P.dx-H[1]-H[3],he=P.dy-H[0]-H[2];return ue<0&&(W+=ue/2,ue=0),he<0&&(ie+=he/2,he=0),{x:W,y:ie,dx:ue,dy:he}}e.random={normal:function(P,H){var W=arguments.length;return W<2&&(H=1),W<1&&(P=0),function(){var ie,ue,he;do ie=Math.random()*2-1,ue=Math.random()*2-1,he=ie*ie+ue*ue;while(!he||he>1);return P+H*ie*Math.sqrt(-2*Math.log(he)/he)}},logNormal:function(){var P=e.random.normal.apply(e,arguments);return function(){return Math.exp(P())}},bates:function(P){var H=e.random.irwinHall(P);return function(){return H()/P}},irwinHall:function(P){return function(){for(var H=0,W=0;W<P;W++)H+=Math.random();return H}}},e.scale={};function Xt(P){var H=P[0],W=P[P.length-1];return H<W?[H,W]:[W,H]}function $t(P){return P.rangeExtent?P.rangeExtent():Xt(P.range())}function ar(P,H,W,ie){var ue=W(P[0],P[1]),he=ie(H[0],H[1]);return function(Ee){return he(ue(Ee))}}function jt(P,H){var W=0,ie=P.length-1,ue=P[W],he=P[ie],Ee;return he<ue&&(Ee=W,W=ie,ie=Ee,Ee=ue,ue=he,he=Ee),P[W]=H.floor(ue),P[ie]=H.ceil(he),P}function er(P){return P?{floor:function(H){return Math.floor(H/P)*P},ceil:function(H){return Math.ceil(H/P)*P}}:Kt}var Kt={floor:R,ceil:R};function ur(P,H,W,ie){var ue=[],he=[],Ee=0,we=Math.min(P.length,H.length)-1;for(P[we]<P[0]&&(P=P.slice().reverse(),H=H.slice().reverse());++Ee<=we;)ue.push(W(P[Ee-1],P[Ee])),he.push(ie(H[Ee-1],H[Ee]));return function(Ne){var Ye=e.bisect(P,Ne,1,we)-1;return he[Ye](ue[Ye](Ne))}}e.scale.linear=function(){return vr([0,1],[0,1],uu,!1)};function vr(P,H,W,ie){var ue,he;function Ee(){var Ne=Math.min(P.length,H.length)>2?ur:ar,Ye=ie?hl:tv;return ue=Ne(P,H,Ye,W),he=Ne(H,P,Ye,uu),we}function we(Ne){return ue(Ne)}return we.invert=function(Ne){return he(Ne)},we.domain=function(Ne){return arguments.length?(P=Ne.map(Number),Ee()):P},we.range=function(Ne){return arguments.length?(H=Ne,Ee()):H},we.rangeRound=function(Ne){return we.range(Ne).interpolate(Lo)},we.clamp=function(Ne){return arguments.length?(ie=Ne,Ee()):ie},we.interpolate=function(Ne){return arguments.length?(W=Ne,Ee()):W},we.ticks=function(Ne){return Zr(P,Ne)},we.tickFormat=function(Ne,Ye){return d3_scale_linearTickFormat(P,Ne,Ye)},we.nice=function(Ne){return Br(P,Ne),Ee()},we.copy=function(){return vr(P,H,W,ie)},Ee()}function Yr(P,H){return e.rebind(P,H,"range","rangeRound","interpolate","clamp")}function Br(P,H){return jt(P,er(Jr(P,H)[2])),jt(P,er(Jr(P,H)[2])),P}function Jr(P,H){H==null&&(H=10);var W=Xt(P),ie=W[1]-W[0],ue=Math.pow(10,Math.floor(Math.log(ie/H)/Math.LN10)),he=H/ie*ue;return he<=.15?ue*=10:he<=.35?ue*=5:he<=.75&&(ue*=2),W[0]=Math.ceil(W[0]/ue)*ue,W[1]=Math.floor(W[1]/ue)*ue+ue*.5,W[2]=ue,W}function Zr(P,H){return e.range.apply(e,Jr(P,H))}var mr={s:1,g:1,p:1,r:1,e:1};function Ar(P){return-Math.floor(Math.log(P)/Math.LN10+.01)}function We(P,H){var W=Ar(H[2]);return P in mr?Math.abs(W-Ar(Math.max(m(H[0]),m(H[1]))))+ +(P!=="e"):W-(P==="%")*2}e.scale.log=function(){return on(e.scale.linear().domain([0,1]),10,!0,[1,10])};function on(P,H,W,ie){function ue(we){return(W?Math.log(we<0?0:we):-Math.log(we>0?0:-we))/Math.log(H)}function he(we){return W?Math.pow(H,we):-Math.pow(H,-we)}function Ee(we){return P(ue(we))}return Ee.invert=function(we){return he(P.invert(we))},Ee.domain=function(we){return arguments.length?(W=we[0]>=0,P.domain((ie=we.map(Number)).map(ue)),Ee):ie},Ee.base=function(we){return arguments.length?(H=+we,P.domain(ie.map(ue)),Ee):H},Ee.nice=function(){var we=jt(ie.map(ue),W?Math:Gn);return P.domain(we),ie=we.map(he),Ee},Ee.ticks=function(){var we=Xt(ie),Ne=[],Ye=we[0],Xe=we[1],ft=Math.floor(ue(Ye)),ct=Math.ceil(ue(Xe)),Dt=H%1?2:H;if(isFinite(ct-ft)){if(W){for(;ft<ct;ft++)for(var Ft=1;Ft<Dt;Ft++)Ne.push(he(ft)*Ft);Ne.push(he(ft))}else for(Ne.push(he(ft));ft++<ct;)for(var Ft=Dt-1;Ft>0;Ft--)Ne.push(he(ft)*Ft);for(ft=0;Ne[ft]<Ye;ft++);for(ct=Ne.length;Ne[ct-1]>Xe;ct--);Ne=Ne.slice(ft,ct)}return Ne},Ee.copy=function(){return on(P.copy(),H,W,ie)},Yr(Ee,P)}var Gn={floor:function(P){return-Math.ceil(-P)},ceil:function(P){return-Math.floor(-P)}};e.scale.pow=function(){return zn(e.scale.linear(),1,[0,1])};function zn(P,H,W){var ie=Wr(H),ue=Wr(1/H);function he(Ee){return P(ie(Ee))}return he.invert=function(Ee){return ue(P.invert(Ee))},he.domain=function(Ee){return arguments.length?(P.domain((W=Ee.map(Number)).map(ie)),he):W},he.ticks=function(Ee){return Zr(W,Ee)},he.tickFormat=function(Ee,we){return d3_scale_linearTickFormat(W,Ee,we)},he.nice=function(Ee){return he.domain(Br(W,Ee))},he.exponent=function(Ee){return arguments.length?(ie=Wr(H=Ee),ue=Wr(1/H),P.domain(W.map(ie)),he):H},he.copy=function(){return zn(P.copy(),H,W)},Yr(he,P)}function Wr(P){return function(H){return H<0?-Math.pow(-H,P):Math.pow(H,P)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Oi([],{t:"range",a:[[]]})};function Oi(P,H){var W,ie,ue;function he(we){return ie[((W.get(we)||(H.t==="range"?W.set(we,P.push(we)):NaN))-1)%ie.length]}function Ee(we,Ne){return e.range(P.length).map(function(Ye){return we+Ne*Ye})}return he.domain=function(we){if(!arguments.length)return P;P=[],W=new A;for(var Ne=-1,Ye=we.length,Xe;++Ne<Ye;)W.has(Xe=we[Ne])||W.set(Xe,P.push(Xe));return he[H.t].apply(he,H.a)},he.range=function(we){return arguments.length?(ie=we,ue=0,H={t:"range",a:arguments},he):ie},he.rangePoints=function(we,Ne){arguments.length<2&&(Ne=0);var Ye=we[0],Xe=we[1],ft=P.length<2?(Ye=(Ye+Xe)/2,0):(Xe-Ye)/(P.length-1+Ne);return ie=Ee(Ye+ft*Ne/2,ft),ue=0,H={t:"rangePoints",a:arguments},he},he.rangeRoundPoints=function(we,Ne){arguments.length<2&&(Ne=0);var Ye=we[0],Xe=we[1],ft=P.length<2?(Ye=Xe=Math.round((Ye+Xe)/2),0):(Xe-Ye)/(P.length-1+Ne)|0;return ie=Ee(Ye+Math.round(ft*Ne/2+(Xe-Ye-(P.length-1+Ne)*ft)/2),ft),ue=0,H={t:"rangeRoundPoints",a:arguments},he},he.rangeBands=function(we,Ne,Ye){arguments.length<2&&(Ne=0),arguments.length<3&&(Ye=Ne);var Xe=we[1]<we[0],ft=we[Xe-0],ct=we[1-Xe],Dt=(ct-ft)/(P.length-Ne+2*Ye);return ie=Ee(ft+Dt*Ye,Dt),Xe&&ie.reverse(),ue=Dt*(1-Ne),H={t:"rangeBands",a:arguments},he},he.rangeRoundBands=function(we,Ne,Ye){arguments.length<2&&(Ne=0),arguments.length<3&&(Ye=Ne);var Xe=we[1]<we[0],ft=we[Xe-0],ct=we[1-Xe],Dt=Math.floor((ct-ft)/(P.length-Ne+2*Ye));return ie=Ee(ft+Math.round((ct-ft-(P.length-Ne)*Dt)/2),Dt),Xe&&ie.reverse(),ue=Math.round(Dt*(1-Ne)),H={t:"rangeRoundBands",a:arguments},he},he.rangeBand=function(){return ue},he.rangeExtent=function(){return Xt(H.a[0])},he.copy=function(){return Oi(P,H)},he.domain(P)}e.scale.category10=function(){return e.scale.ordinal().range(Hn)},e.scale.category20=function(){return e.scale.ordinal().range(to)},e.scale.category20b=function(){return e.scale.ordinal().range(Bi)},e.scale.category20c=function(){return e.scale.ordinal().range(Hi)};var Hn=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ho),to=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ho),Bi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ho),Hi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ho);e.scale.quantile=function(){return Cr([],[])};function Cr(P,H){var W;function ie(){var he=0,Ee=H.length;for(W=[];++he<Ee;)W[he-1]=e.quantile(P,he/Ee);return ue}function ue(he){if(!isNaN(he=+he))return H[e.bisect(W,he)]}return ue.domain=function(he){return arguments.length?(P=he.map(h).filter(v).sort(c),ie()):P},ue.range=function(he){return arguments.length?(H=he,ie()):H},ue.quantiles=function(){return W},ue.invertExtent=function(he){return he=H.indexOf(he),he<0?[NaN,NaN]:[he>0?W[he-1]:P[0],he<W.length?W[he]:P[P.length-1]]},ue.copy=function(){return Cr(P,H)},ie()}e.scale.quantize=function(){return ei(0,1,[0,1])};function ei(P,H,W){var ie,ue;function he(we){return W[Math.max(0,Math.min(ue,Math.floor(ie*(we-P))))]}function Ee(){return ie=W.length/(H-P),ue=W.length-1,he}return he.domain=function(we){return arguments.length?(P=+we[0],H=+we[we.length-1],Ee()):[P,H]},he.range=function(we){return arguments.length?(W=we,Ee()):W},he.invertExtent=function(we){return we=W.indexOf(we),we=we<0?NaN:we/ie+P,[we,we+1/ie]},he.copy=function(){return ei(P,H,W)},Ee()}e.scale.threshold=function(){return Ia([.5],[0,1])};function Ia(P,H){function W(ie){if(ie<=ie)return H[e.bisect(P,ie)]}return W.domain=function(ie){return arguments.length?(P=ie,W):P},W.range=function(ie){return arguments.length?(H=ie,W):H},W.invertExtent=function(ie){return ie=H.indexOf(ie),[P[ie-1],P[ie]]},W.copy=function(){return Ia(P,H)},W}e.scale.identity=function(){return go([0,1])};function go(P){function H(W){return+W}return H.invert=H,H.domain=H.range=function(W){return arguments.length?(P=W.map(H),H):P},H.ticks=function(W){return Zr(P,W)},H.tickFormat=function(W,ie){return d3_scale_linearTickFormat(P,W,ie)},H.copy=function(){return go(P)},H}e.svg={};function Pa(){return 0}e.svg.arc=function(){var P=pl,H=rf,W=Pa,ie=Nl,ue=Ws,he=nf,Ee=Yo;function we(){var Ye=Math.max(0,+P.apply(this,arguments)),Xe=Math.max(0,+H.apply(this,arguments)),ft=ue.apply(this,arguments)-Be,ct=he.apply(this,arguments)-Be,Dt=Math.abs(ct-ft),Ft=ft>ct?0:1;if(Xe<Ye&&(vt=Xe,Xe=Ye,Ye=vt),Dt>=nt)return Ne(Xe,Ft)+(Ye?Ne(Ye,1-Ft):"")+"Z";var vt,bt,Mt,Nt,zt=0,Et=0,sr,kr,Dr,or,Hr,Ur,dn,jr,pn=[];if((Nt=(+Ee.apply(this,arguments)||0)/2)&&(Mt=ie===Nl?Math.sqrt(Ye*Ye+Xe*Xe):+ie.apply(this,arguments),Ft||(Et*=-1),Xe&&(Et=tr(Mt/Xe*Math.sin(Nt))),Ye&&(zt=tr(Mt/Ye*Math.sin(Nt)))),Xe){sr=Xe*Math.cos(ft+Et),kr=Xe*Math.sin(ft+Et),Dr=Xe*Math.cos(ct-Et),or=Xe*Math.sin(ct-Et);var di=Math.abs(ct-ft-2*Et)<=Ve?0:1;if(Et&&mh(sr,kr,Dr,or)===Ft^di){var Ei=(ft+ct)/2;sr=Xe*Math.cos(Ei),kr=Xe*Math.sin(Ei),Dr=or=null}}else sr=kr=0;if(Ye){Hr=Ye*Math.cos(ct-zt),Ur=Ye*Math.sin(ct-zt),dn=Ye*Math.cos(ft+zt),jr=Ye*Math.sin(ft+zt);var Li=Math.abs(ft-ct+2*zt)<=Ve?0:1;if(zt&&mh(Hr,Ur,dn,jr)===1-Ft^Li){var br=(ft+ct)/2;Hr=Ye*Math.cos(br),Ur=Ye*Math.sin(br),dn=jr=null}}else Hr=Ur=0;if(Dt>Ot&&(vt=Math.min(Math.abs(Xe-Ye)/2,+W.apply(this,arguments)))>.001){bt=Ye<Xe^Ft?0:1;var yn=vt,An=vt;if(Dt<Ve){var li=dn==null?[Hr,Ur]:Dr==null?[sr,kr]:Bo([sr,kr],[dn,jr],[Dr,or],[Hr,Ur]),pi=sr-li[0],ea=kr-li[1],yo=Dr-li[0],vs=or-li[1],Zo=1/Math.sin(Math.acos((pi*yo+ea*vs)/(Math.sqrt(pi*pi+ea*ea)*Math.sqrt(yo*yo+vs*vs)))/2),ds=Math.sqrt(li[0]*li[0]+li[1]*li[1]);An=Math.min(vt,(Ye-ds)/(Zo-1)),yn=Math.min(vt,(Xe-ds)/(Zo+1))}if(Dr!=null){var Ds=dd(dn==null?[Hr,Ur]:[dn,jr],[sr,kr],Xe,yn,Ft),$o=dd([Dr,or],[Hr,Ur],Xe,yn,Ft);vt===yn?pn.push("M",Ds[0],"A",yn,",",yn," 0 0,",bt," ",Ds[1],"A",Xe,",",Xe," 0 ",1-Ft^mh(Ds[1][0],Ds[1][1],$o[1][0],$o[1][1]),",",Ft," ",$o[1],"A",yn,",",yn," 0 0,",bt," ",$o[0]):pn.push("M",Ds[0],"A",yn,",",yn," 0 1,",bt," ",$o[0])}else pn.push("M",sr,",",kr);if(dn!=null){var qs=dd([sr,kr],[dn,jr],Ye,-An,Ft),Ec=dd([Hr,Ur],Dr==null?[sr,kr]:[Dr,or],Ye,-An,Ft);vt===An?pn.push("L",Ec[0],"A",An,",",An," 0 0,",bt," ",Ec[1],"A",Ye,",",Ye," 0 ",Ft^mh(Ec[1][0],Ec[1][1],qs[1][0],qs[1][1]),",",1-Ft," ",qs[1],"A",An,",",An," 0 0,",bt," ",qs[0]):pn.push("L",Ec[0],"A",An,",",An," 0 0,",bt," ",qs[0])}else pn.push("L",Hr,",",Ur)}else pn.push("M",sr,",",kr),Dr!=null&&pn.push("A",Xe,",",Xe," 0 ",di,",",Ft," ",Dr,",",or),pn.push("L",Hr,",",Ur),dn!=null&&pn.push("A",Ye,",",Ye," 0 ",Li,",",1-Ft," ",dn,",",jr);return pn.push("Z"),pn.join("")}function Ne(Ye,Xe){return"M0,"+Ye+"A"+Ye+","+Ye+" 0 1,"+Xe+" 0,"+-Ye+"A"+Ye+","+Ye+" 0 1,"+Xe+" 0,"+Ye}return we.innerRadius=function(Ye){return arguments.length?(P=xt(Ye),we):P},we.outerRadius=function(Ye){return arguments.length?(H=xt(Ye),we):H},we.cornerRadius=function(Ye){return arguments.length?(W=xt(Ye),we):W},we.padRadius=function(Ye){return arguments.length?(ie=Ye==Nl?Nl:xt(Ye),we):ie},we.startAngle=function(Ye){return arguments.length?(ue=xt(Ye),we):ue},we.endAngle=function(Ye){return arguments.length?(he=xt(Ye),we):he},we.padAngle=function(Ye){return arguments.length?(Ee=xt(Ye),we):Ee},we.centroid=function(){var Ye=(+P.apply(this,arguments)+ +H.apply(this,arguments))/2,Xe=(+ue.apply(this,arguments)+ +he.apply(this,arguments))/2-Be;return[Math.cos(Xe)*Ye,Math.sin(Xe)*Ye]},we};var Nl="auto";function pl(P){return P.innerRadius}function rf(P){return P.outerRadius}function Ws(P){return P.startAngle}function nf(P){return P.endAngle}function Yo(P){return P&&P.padAngle}function mh(P,H,W,ie){return(P-W)*H-(H-ie)*P>0?0:1}function dd(P,H,W,ie,ue){var he=P[0]-H[0],Ee=P[1]-H[1],we=(ue?ie:-ie)/Math.sqrt(he*he+Ee*Ee),Ne=we*Ee,Ye=-we*he,Xe=P[0]+Ne,ft=P[1]+Ye,ct=H[0]+Ne,Dt=H[1]+Ye,Ft=(Xe+ct)/2,vt=(ft+Dt)/2,bt=ct-Xe,Mt=Dt-ft,Nt=bt*bt+Mt*Mt,zt=W-ie,Et=Xe*Dt-ct*ft,sr=(Mt<0?-1:1)*Math.sqrt(Math.max(0,zt*zt*Nt-Et*Et)),kr=(Et*Mt-bt*sr)/Nt,Dr=(-Et*bt-Mt*sr)/Nt,or=(Et*Mt+bt*sr)/Nt,Hr=(-Et*bt+Mt*sr)/Nt,Ur=kr-Ft,dn=Dr-vt,jr=or-Ft,pn=Hr-vt;return Ur*Ur+dn*dn>jr*jr+pn*pn&&(kr=or,Dr=Hr),[[kr-Ne,Dr-Ye],[kr*W/zt,Dr*W/zt]]}function pd(){return!0}function Xg(P){var H=Wi,W=Xi,ie=pd,ue=Co,he=ue.key,Ee=.7;function we(Ne){var Ye=[],Xe=[],ft=-1,ct=Ne.length,Dt,Ft=xt(H),vt=xt(W);function bt(){Ye.push("M",ue(P(Xe),Ee))}for(;++ft<ct;)ie.call(this,Dt=Ne[ft],ft)?Xe.push([+Ft.call(this,Dt,ft),+vt.call(this,Dt,ft)]):Xe.length&&(bt(),Xe=[]);return Xe.length&&bt(),Ye.length?Ye.join(""):null}return we.x=function(Ne){return arguments.length?(H=Ne,we):H},we.y=function(Ne){return arguments.length?(W=Ne,we):W},we.defined=function(Ne){return arguments.length?(ie=Ne,we):ie},we.interpolate=function(Ne){return arguments.length?(typeof Ne=="function"?he=ue=Ne:he=(ue=nv.get(Ne)||Co).key,we):he},we.tension=function(Ne){return arguments.length?(Ee=Ne,we):Ee},we}e.svg.line=function(){return Xg(R)};var nv=e.map({linear:Co,"linear-closed":Zg,step:$g,"step-before":Ls,"step-after":F0,basis:N0,"basis-open":z0,"basis-closed":Xy,bundle:iv,cardinal:Qg,"cardinal-open":Kg,"cardinal-closed":Jg,monotone:$e});nv.forEach(function(P,H){H.key=P,H.closed=/-closed$/.test(P)});function Co(P){return P.length>1?P.join("L"):P+"Z"}function Zg(P){return P.join("L")+"Z"}function $g(P){for(var H=0,W=P.length,ie=P[0],ue=[ie[0],",",ie[1]];++H<W;)ue.push("H",(ie[0]+(ie=P[H])[0])/2,"V",ie[1]);return W>1&&ue.push("H",ie[0]),ue.join("")}function Ls(P){for(var H=0,W=P.length,ie=P[0],ue=[ie[0],",",ie[1]];++H<W;)ue.push("V",(ie=P[H])[1],"H",ie[0]);return ue.join("")}function F0(P){for(var H=0,W=P.length,ie=P[0],ue=[ie[0],",",ie[1]];++H<W;)ue.push("H",(ie=P[H])[0],"V",ie[1]);return ue.join("")}function Kg(P,H){return P.length<4?Co(P):P[1]+gd(P.slice(1,-1),yh(P,H))}function Jg(P,H){return P.length<3?Zg(P):P[0]+gd((P.push(P[0]),P),yh([P[P.length-2]].concat(P,[P[1]]),H))}function Qg(P,H){return P.length<3?Co(P):P[0]+gd(P,yh(P,H))}function gd(P,H){if(H.length<1||P.length!=H.length&&P.length!=H.length+2)return Co(P);var W=P.length!=H.length,ie="",ue=P[0],he=P[1],Ee=H[0],we=Ee,Ne=1;if(W&&(ie+="Q"+(he[0]-Ee[0]*2/3)+","+(he[1]-Ee[1]*2/3)+","+he[0]+","+he[1],ue=P[1],Ne=2),H.length>1){we=H[1],he=P[Ne],Ne++,ie+="C"+(ue[0]+Ee[0])+","+(ue[1]+Ee[1])+","+(he[0]-we[0])+","+(he[1]-we[1])+","+he[0]+","+he[1];for(var Ye=2;Ye<H.length;Ye++,Ne++)he=P[Ne],we=H[Ye],ie+="S"+(he[0]-we[0])+","+(he[1]-we[1])+","+he[0]+","+he[1]}if(W){var Xe=P[Ne];ie+="Q"+(he[0]+we[0]*2/3)+","+(he[1]+we[1]*2/3)+","+Xe[0]+","+Xe[1]}return ie}function yh(P,H){for(var W=[],ie=(1-H)/2,ue,he=P[0],Ee=P[1],we=1,Ne=P.length;++we<Ne;)ue=he,he=Ee,Ee=P[we],W.push([ie*(Ee[0]-ue[0]),ie*(Ee[1]-ue[1])]);return W}function N0(P){if(P.length<3)return Co(P);var H=1,W=P.length,ie=P[0],ue=ie[0],he=ie[1],Ee=[ue,ue,ue,(ie=P[1])[0]],we=[he,he,he,ie[1]],Ne=[ue,",",he,"L",Wo(me,Ee),",",Wo(me,we)];for(P.push(P[W-1]);++H<=W;)ie=P[H],Ee.shift(),Ee.push(ie[0]),we.shift(),we.push(ie[1]),xe(Ne,Ee,we);return P.pop(),Ne.push("L",ie),Ne.join("")}function z0(P){if(P.length<4)return Co(P);for(var H=[],W=-1,ie=P.length,ue,he=[0],Ee=[0];++W<3;)ue=P[W],he.push(ue[0]),Ee.push(ue[1]);for(H.push(Wo(me,he)+","+Wo(me,Ee)),--W;++W<ie;)ue=P[W],he.shift(),he.push(ue[0]),Ee.shift(),Ee.push(ue[1]),xe(H,he,Ee);return H.join("")}function Xy(P){for(var H,W=-1,ie=P.length,ue=ie+4,he,Ee=[],we=[];++W<4;)he=P[W%ie],Ee.push(he[0]),we.push(he[1]);for(H=[Wo(me,Ee),",",Wo(me,we)],--W;++W<ue;)he=P[W%ie],Ee.shift(),Ee.push(he[0]),we.shift(),we.push(he[1]),xe(H,Ee,we);return H.join("")}function iv(P,H){var W=P.length-1;if(W)for(var ie=P[0][0],ue=P[0][1],he=P[W][0]-ie,Ee=P[W][1]-ue,we=-1,Ne,Ye;++we<=W;)Ne=P[we],Ye=we/W,Ne[0]=H*Ne[0]+(1-H)*(ie+Ye*he),Ne[1]=H*Ne[1]+(1-H)*(ue+Ye*Ee);return N0(P)}function Wo(P,H){return P[0]*H[0]+P[1]*H[1]+P[2]*H[2]+P[3]*H[3]}var Q=[0,2/3,1/3,0],le=[0,1/3,2/3,0],me=[0,1/6,2/3,1/6];function xe(P,H,W){P.push("C",Wo(Q,H),",",Wo(Q,W),",",Wo(le,H),",",Wo(le,W),",",Wo(me,H),",",Wo(me,W))}function Se(P,H){return(H[1]-P[1])/(H[0]-P[0])}function ke(P){for(var H=0,W=P.length-1,ie=[],ue=P[0],he=P[1],Ee=ie[0]=Se(ue,he);++H<W;)ie[H]=(Ee+(Ee=Se(ue=he,he=P[H+1])))/2;return ie[H]=Ee,ie}function Re(P){for(var H=[],W,ie,ue,he,Ee=ke(P),we=-1,Ne=P.length-1;++we<Ne;)W=Se(P[we],P[we+1]),m(W)<Ot?Ee[we]=Ee[we+1]=0:(ie=Ee[we]/W,ue=Ee[we+1]/W,he=ie*ie+ue*ue,he>9&&(he=W*3/Math.sqrt(he),Ee[we]=he*ie,Ee[we+1]=he*ue));for(we=-1;++we<=Ne;)he=(P[Math.min(Ne,we+1)][0]-P[Math.max(0,we-1)][0])/(6*(1+Ee[we]*Ee[we])),H.push([he||0,Ee[we]*he||0]);return H}function $e(P){return P.length<3?Co(P):P[0]+gd(P,Re(P))}e.svg.line.radial=function(){var P=Xg(it);return P.radius=P.x,delete P.x,P.angle=P.y,delete P.y,P};function it(P){for(var H,W=-1,ie=P.length,ue,he;++W<ie;)H=P[W],ue=H[0],he=H[1]-Be,H[0]=ue*Math.cos(he),H[1]=ue*Math.sin(he);return P}function Ke(P){var H=Wi,W=Wi,ie=0,ue=Xi,he=pd,Ee=Co,we=Ee.key,Ne=Ee,Ye="L",Xe=.7;function ft(ct){var Dt=[],Ft=[],vt=[],bt=-1,Mt=ct.length,Nt,zt=xt(H),Et=xt(ie),sr=H===W?function(){return Dr}:xt(W),kr=ie===ue?function(){return or}:xt(ue),Dr,or;function Hr(){Dt.push("M",Ee(P(vt),Xe),Ye,Ne(P(Ft.reverse()),Xe),"Z")}for(;++bt<Mt;)he.call(this,Nt=ct[bt],bt)?(Ft.push([Dr=+zt.call(this,Nt,bt),or=+Et.call(this,Nt,bt)]),vt.push([+sr.call(this,Nt,bt),+kr.call(this,Nt,bt)])):Ft.length&&(Hr(),Ft=[],vt=[]);return Ft.length&&Hr(),Dt.length?Dt.join(""):null}return ft.x=function(ct){return arguments.length?(H=W=ct,ft):W},ft.x0=function(ct){return arguments.length?(H=ct,ft):H},ft.x1=function(ct){return arguments.length?(W=ct,ft):W},ft.y=function(ct){return arguments.length?(ie=ue=ct,ft):ue},ft.y0=function(ct){return arguments.length?(ie=ct,ft):ie},ft.y1=function(ct){return arguments.length?(ue=ct,ft):ue},ft.defined=function(ct){return arguments.length?(he=ct,ft):he},ft.interpolate=function(ct){return arguments.length?(typeof ct=="function"?we=Ee=ct:we=(Ee=nv.get(ct)||Co).key,Ne=Ee.reverse||Ee,Ye=Ee.closed?"M":"L",ft):we},ft.tension=function(ct){return arguments.length?(Xe=ct,ft):Xe},ft}Ls.reverse=F0,F0.reverse=Ls,e.svg.area=function(){return Ke(R)},e.svg.area.radial=function(){var P=Ke(it);return P.radius=P.x,delete P.x,P.innerRadius=P.x0,delete P.x0,P.outerRadius=P.x1,delete P.x1,P.angle=P.y,delete P.y,P.startAngle=P.y0,delete P.y0,P.endAngle=P.y1,delete P.y1,P};function at(P){return P.source}function gt(P){return P.target}e.svg.chord=function(){var P=at,H=gt,W=wt,ie=Ws,ue=nf;function he(Xe,ft){var ct=Ee(this,P,Xe,ft),Dt=Ee(this,H,Xe,ft);return"M"+ct.p0+Ne(ct.r,ct.p1,ct.a1-ct.a0)+(we(ct,Dt)?Ye(ct.r,ct.p1,ct.r,ct.p0):Ye(ct.r,ct.p1,Dt.r,Dt.p0)+Ne(Dt.r,Dt.p1,Dt.a1-Dt.a0)+Ye(Dt.r,Dt.p1,ct.r,ct.p0))+"Z"}function Ee(Xe,ft,ct,Dt){var Ft=ft.call(Xe,ct,Dt),vt=W.call(Xe,Ft,Dt),bt=ie.call(Xe,Ft,Dt)-Be,Mt=ue.call(Xe,Ft,Dt)-Be;return{r:vt,a0:bt,a1:Mt,p0:[vt*Math.cos(bt),vt*Math.sin(bt)],p1:[vt*Math.cos(Mt),vt*Math.sin(Mt)]}}function we(Xe,ft){return Xe.a0==ft.a0&&Xe.a1==ft.a1}function Ne(Xe,ft,ct){return"A"+Xe+","+Xe+" 0 "+ +(ct>Ve)+",1 "+ft}function Ye(Xe,ft,ct,Dt){return"Q 0,0 "+Dt}return he.radius=function(Xe){return arguments.length?(W=xt(Xe),he):W},he.source=function(Xe){return arguments.length?(P=xt(Xe),he):P},he.target=function(Xe){return arguments.length?(H=xt(Xe),he):H},he.startAngle=function(Xe){return arguments.length?(ie=xt(Xe),he):ie},he.endAngle=function(Xe){return arguments.length?(ue=xt(Xe),he):ue},he};function wt(P){return P.radius}e.svg.diagonal=function(){var P=at,H=gt,W=Rt;function ie(ue,he){var Ee=P.call(this,ue,he),we=H.call(this,ue,he),Ne=(Ee.y+we.y)/2,Ye=[Ee,{x:Ee.x,y:Ne},{x:we.x,y:Ne},we];return Ye=Ye.map(W),"M"+Ye[0]+"C"+Ye[1]+" "+Ye[2]+" "+Ye[3]}return ie.source=function(ue){return arguments.length?(P=xt(ue),ie):P},ie.target=function(ue){return arguments.length?(H=xt(ue),ie):H},ie.projection=function(ue){return arguments.length?(W=ue,ie):W},ie};function Rt(P){return[P.x,P.y]}e.svg.diagonal.radial=function(){var P=e.svg.diagonal(),H=Rt,W=P.projection;return P.projection=function(ie){return arguments.length?W(Yt(H=ie)):H},P};function Yt(P){return function(){var H=P.apply(this,arguments),W=H[0],ie=H[1]-Be;return[W*Math.cos(ie),W*Math.sin(ie)]}}e.svg.symbol=function(){var P=hr,H=Qt;function W(ie,ue){return(zr.get(P.call(this,ie,ue))||qr)(H.call(this,ie,ue))}return W.type=function(ie){return arguments.length?(P=xt(ie),W):P},W.size=function(ie){return arguments.length?(H=xt(ie),W):H},W};function Qt(){return 64}function hr(){return"circle"}function qr(P){var H=Math.sqrt(P/Ve);return"M0,"+H+"A"+H+","+H+" 0 1,1 0,"+-H+"A"+H+","+H+" 0 1,1 0,"+H+"Z"}var zr=e.map({circle:qr,cross:function(P){var H=Math.sqrt(P/5)/2;return"M"+-3*H+","+-H+"H"+-H+"V"+-3*H+"H"+H+"V"+-H+"H"+3*H+"V"+H+"H"+H+"V"+3*H+"H"+-H+"V"+H+"H"+-3*H+"Z"},diamond:function(P){var H=Math.sqrt(P/(2*an)),W=H*an;return"M0,"+-H+"L"+W+",0 0,"+H+" "+-W+",0Z"},square:function(P){var H=Math.sqrt(P)/2;return"M"+-H+","+-H+"L"+H+","+-H+" "+H+","+H+" "+-H+","+H+"Z"},"triangle-down":function(P){var H=Math.sqrt(P/rn),W=H*rn/2;return"M0,"+W+"L"+H+","+-W+" "+-H+","+-W+"Z"},"triangle-up":function(P){var H=Math.sqrt(P/rn),W=H*rn/2;return"M0,"+-W+"L"+H+","+W+" "+-H+","+W+"Z"}});e.svg.symbolTypes=zr.keys();var rn=Math.sqrt(3),an=Math.tan(30*tt);se.transition=function(P){for(var H=Si||++ca,W=Xo(P),ie=[],ue,he,Ee=hs||{time:Date.now(),ease:Kh,delay:0,duration:250},we=-1,Ne=this.length;++we<Ne;){ie.push(ue=[]);for(var Ye=this[we],Xe=-1,ft=Ye.length;++Xe<ft;)(he=Ye[Xe])&&mo(he,Xe,W,H,Ee),ue.push(he)}return Pi(ie,W,H)},se.interrupt=function(P){return this.each(P==null?nn:xi(Xo(P)))};var nn=xi(Xo());function xi(P){return function(){var H,W,ie;(H=this[P])&&(ie=H[W=H.active])&&(ie.timer.c=null,ie.timer.t=NaN,--H.count?delete H[W]:delete this[P],H.active+=.5,ie.event&&ie.event.interrupt.call(this,this.__data__,ie.index))}}function Pi(P,H,W){return j(P,Ln),P.namespace=H,P.id=W,P}var Ln=[],ca=0,Si,hs;Ln.call=se.call,Ln.empty=se.empty,Ln.node=se.node,Ln.size=se.size,e.transition=function(P,H){return P&&P.transition?Si?P.transition(H):P:e.selection().transition(P)},e.transition.prototype=Ln,Ln.select=function(P){var H=this.id,W=this.namespace,ie=[],ue,he,Ee;P=G(P);for(var we=-1,Ne=this.length;++we<Ne;){ie.push(ue=[]);for(var Ye=this[we],Xe=-1,ft=Ye.length;++Xe<ft;)(Ee=Ye[Xe])&&(he=P.call(Ee,Ee.__data__,Xe,we))?("__data__"in Ee&&(he.__data__=Ee.__data__),mo(he,Xe,W,H,Ee[W][H]),ue.push(he)):ue.push(null)}return Pi(ie,W,H)},Ln.selectAll=function(P){var H=this.id,W=this.namespace,ie=[],ue,he,Ee,we,Ne;P=Z(P);for(var Ye=-1,Xe=this.length;++Ye<Xe;)for(var ft=this[Ye],ct=-1,Dt=ft.length;++ct<Dt;)if(Ee=ft[ct]){Ne=Ee[W][H],he=P.call(Ee,Ee.__data__,ct,Ye),ie.push(ue=[]);for(var Ft=-1,vt=he.length;++Ft<vt;)(we=he[Ft])&&mo(we,Ft,W,H,Ne),ue.push(we)}return Pi(ie,W,H)},Ln.filter=function(P){var H=[],W,ie,ue;typeof P!="function"&&(P=te(P));for(var he=0,Ee=this.length;he<Ee;he++){H.push(W=[]);for(var ie=this[he],we=0,Ne=ie.length;we<Ne;we++)(ue=ie[we])&&P.call(ue,ue.__data__,we,he)&&W.push(ue)}return Pi(H,this.namespace,this.id)},Ln.tween=function(P,H){var W=this.id,ie=this.namespace;return arguments.length<2?this.node()[ie][W].tween.get(P):Te(this,H==null?function(ue){ue[ie][W].tween.remove(P)}:function(ue){ue[ie][W].tween.set(P,H)})};function af(P,H,W,ie){var ue=P.id,he=P.namespace;return Te(P,typeof W=="function"?function(Ee,we,Ne){Ee[he][ue].tween.set(H,ie(W.call(Ee,Ee.__data__,we,Ne)))}:(W=ie(W),function(Ee){Ee[he][ue].tween.set(H,W)}))}Ln.attr=function(P,H){if(arguments.length<2){for(H in P)this.attr(H,P[H]);return this}var W=P=="transform"?ch:uu,ie=e.ns.qualify(P);function ue(){this.removeAttribute(ie)}function he(){this.removeAttributeNS(ie.space,ie.local)}function Ee(Ne){return Ne==null?ue:(Ne+="",function(){var Ye=this.getAttribute(ie),Xe;return Ye!==Ne&&(Xe=W(Ye,Ne),function(ft){this.setAttribute(ie,Xe(ft))})})}function we(Ne){return Ne==null?he:(Ne+="",function(){var Ye=this.getAttributeNS(ie.space,ie.local),Xe;return Ye!==Ne&&(Xe=W(Ye,Ne),function(ft){this.setAttributeNS(ie.space,ie.local,Xe(ft))})})}return af(this,"attr."+P,H,ie.local?we:Ee)},Ln.attrTween=function(P,H){var W=e.ns.qualify(P);function ie(he,Ee){var we=H.call(this,he,Ee,this.getAttribute(W));return we&&function(Ne){this.setAttribute(W,we(Ne))}}function ue(he,Ee){var we=H.call(this,he,Ee,this.getAttributeNS(W.space,W.local));return we&&function(Ne){this.setAttributeNS(W.space,W.local,we(Ne))}}return this.tween("attr."+P,W.local?ue:ie)},Ln.style=function(P,H,W){var ie=arguments.length;if(ie<3){if(typeof P!="string"){ie<2&&(H="");for(W in P)this.style(W,P[W],H);return this}W=""}function ue(){this.style.removeProperty(P)}function he(Ee){return Ee==null?ue:(Ee+="",function(){var we=a(this).getComputedStyle(this,null).getPropertyValue(P),Ne;return we!==Ee&&(Ne=uu(we,Ee),function(Ye){this.style.setProperty(P,Ne(Ye),W)})})}return af(this,"style."+P,H,he)},Ln.styleTween=function(P,H,W){arguments.length<3&&(W="");function ie(ue,he){var Ee=H.call(this,ue,he,a(this).getComputedStyle(this,null).getPropertyValue(P));return Ee&&function(we){this.style.setProperty(P,Ee(we),W)}}return this.tween("style."+P,ie)},Ln.text=function(P){return af(this,"text",P,kc)};function kc(P){return P==null&&(P=""),function(){this.textContent=P}}Ln.remove=function(){var P=this.namespace;return this.each("end.transition",function(){var H;this[P].count<2&&(H=this.parentNode)&&H.removeChild(this)})},Ln.ease=function(P){var H=this.id,W=this.namespace;return arguments.length<1?this.node()[W][H].ease:(typeof P!="function"&&(P=e.ease.apply(e,arguments)),Te(this,function(ie){ie[W][H].ease=P}))},Ln.delay=function(P){var H=this.id,W=this.namespace;return arguments.length<1?this.node()[W][H].delay:Te(this,typeof P=="function"?function(ie,ue,he){ie[W][H].delay=+P.call(ie,ie.__data__,ue,he)}:(P=+P,function(ie){ie[W][H].delay=P}))},Ln.duration=function(P){var H=this.id,W=this.namespace;return arguments.length<1?this.node()[W][H].duration:Te(this,typeof P=="function"?function(ie,ue,he){ie[W][H].duration=Math.max(1,P.call(ie,ie.__data__,ue,he))}:(P=Math.max(1,P),function(ie){ie[W][H].duration=P}))},Ln.each=function(P,H){var W=this.id,ie=this.namespace;if(arguments.length<2){var ue=hs,he=Si;try{Si=W,Te(this,function(Ee,we,Ne){hs=Ee[ie][W],P.call(Ee,Ee.__data__,we,Ne)})}finally{hs=ue,Si=he}}else Te(this,function(Ee){var we=Ee[ie][W];(we.event||(we.event=e.dispatch("start","end","interrupt"))).on(P,H)});return this},Ln.transition=function(){for(var P=this.id,H=++ca,W=this.namespace,ie=[],ue,he,Ee,we,Ne=0,Ye=this.length;Ne<Ye;Ne++){ie.push(ue=[]);for(var he=this[Ne],Xe=0,ft=he.length;Xe<ft;Xe++)(Ee=he[Xe])&&(we=Ee[W][P],mo(Ee,Xe,W,H,{time:we.time,ease:we.ease,delay:we.delay+we.duration,duration:we.duration})),ue.push(Ee)}return Pi(ie,W,H)};function Xo(P){return P==null?"__transition__":"__transition_"+P+"__"}function mo(P,H,W,ie,ue){var he=P[W]||(P[W]={active:0,count:0}),Ee=he[ie],we,Ne,Ye,Xe,ft;function ct(vt){var bt=Ee.delay;if(Ne.t=bt+we,bt<=vt)return Dt(vt-bt);Ne.c=Dt}function Dt(vt){var bt=he.active,Mt=he[bt];Mt&&(Mt.timer.c=null,Mt.timer.t=NaN,--he.count,delete he[bt],Mt.event&&Mt.event.interrupt.call(P,P.__data__,Mt.index));for(var Nt in he)if(+Nt<ie){var zt=he[Nt];zt.timer.c=null,zt.timer.t=NaN,--he.count,delete he[Nt]}Ne.c=Ft,Xn(function(){return Ne.c&&Ft(vt||1)&&(Ne.c=null,Ne.t=NaN),1},0,we),he.active=ie,Ee.event&&Ee.event.start.call(P,P.__data__,H),ft=[],Ee.tween.forEach(function(Et,sr){(sr=sr.call(P,P.__data__,H))&&ft.push(sr)}),Xe=Ee.ease,Ye=Ee.duration}function Ft(vt){for(var bt=vt/Ye,Mt=Xe(bt),Nt=ft.length;Nt>0;)ft[--Nt].call(P,Mt);if(bt>=1)return Ee.event&&Ee.event.end.call(P,P.__data__,H),--he.count?delete he[ie]:delete P[W],1}Ee||(we=ue.time,Ne=Xn(ct,0,we),Ee=he[ie]={tween:new A,time:we,timer:Ne,delay:ue.delay,duration:ue.duration,ease:ue.ease,index:H},ue=null,++he.count)}e.svg.axis=function(){var P=e.scale.linear(),H=zl,W=6,ie=6,ue=3,he=[10],Ee=null,we;function Ne(Ye){Ye.each(function(){var Xe=e.select(this),ft=this.__chart__||P,ct=this.__chart__=P.copy(),Dt=Ee??(ct.ticks?ct.ticks.apply(ct,he):ct.domain()),Ft=we??(ct.tickFormat?ct.tickFormat.apply(ct,he):R),vt=Xe.selectAll(".tick").data(Dt,ct),bt=vt.enter().insert("g",".domain").attr("class","tick").style("opacity",Ot),Mt=e.transition(vt.exit()).style("opacity",Ot).remove(),Nt=e.transition(vt.order()).style("opacity",1),zt=Math.max(W,0)+ue,Et,sr=$t(ct),kr=Xe.selectAll(".domain").data([0]),Dr=(kr.enter().append("path").attr("class","domain"),e.transition(kr));bt.append("line"),bt.append("text");var or=bt.select("line"),Hr=Nt.select("line"),Ur=vt.select("text").text(Ft),dn=bt.select("text"),jr=Nt.select("text"),pn=H==="top"||H==="left"?-1:1,di,Ei,Li,br;if(H==="bottom"||H==="top"?(Et=gu,di="x",Li="y",Ei="x2",br="y2",Ur.attr("dy",pn<0?"0em":".71em").style("text-anchor","middle"),Dr.attr("d","M"+sr[0]+","+pn*ie+"V0H"+sr[1]+"V"+pn*ie)):(Et=of,di="y",Li="x",Ei="y2",br="x2",Ur.attr("dy",".32em").style("text-anchor",pn<0?"end":"start"),Dr.attr("d","M"+pn*ie+","+sr[0]+"H0V"+sr[1]+"H"+pn*ie)),or.attr(br,pn*W),dn.attr(Li,pn*zt),Hr.attr(Ei,0).attr(br,pn*W),jr.attr(di,0).attr(Li,pn*zt),ct.rangeBand){var yn=ct,An=yn.rangeBand()/2;ft=ct=function(li){return yn(li)+An}}else ft.rangeBand?ft=ct:Mt.call(Et,ct,ft);bt.call(Et,ft,ct),Nt.call(Et,ct,ct)})}return Ne.scale=function(Ye){return arguments.length?(P=Ye,Ne):P},Ne.orient=function(Ye){return arguments.length?(H=Ye in Xs?Ye+"":zl,Ne):H},Ne.ticks=function(){return arguments.length?(he=r(arguments),Ne):he},Ne.tickValues=function(Ye){return arguments.length?(Ee=Ye,Ne):Ee},Ne.tickFormat=function(Ye){return arguments.length?(we=Ye,Ne):we},Ne.tickSize=function(Ye){var Xe=arguments.length;return Xe?(W=+Ye,ie=+arguments[Xe-1],Ne):W},Ne.innerTickSize=function(Ye){return arguments.length?(W=+Ye,Ne):W},Ne.outerTickSize=function(Ye){return arguments.length?(ie=+Ye,Ne):ie},Ne.tickPadding=function(Ye){return arguments.length?(ue=+Ye,Ne):ue},Ne.tickSubdivide=function(){return arguments.length&&Ne},Ne};var zl="bottom",Xs={top:1,right:1,bottom:1,left:1};function gu(P,H,W){P.attr("transform",function(ie){var ue=H(ie);return"translate("+(isFinite(ue)?ue:W(ie))+",0)"})}function of(P,H,W){P.attr("transform",function(ie){var ue=H(ie);return"translate(0,"+(isFinite(ue)?ue:W(ie))+")"})}e.svg.brush=function(){var P=B(Xe,"brushstart","brush","brushend"),H=null,W=null,ie=[0,0],ue=[0,0],he,Ee,we=!0,Ne=!0,Ye=Cs[0];function Xe(vt){vt.each(function(){var bt=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ft).on("touchstart.brush",Ft),Mt=bt.selectAll(".background").data([0]);Mt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),bt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Nt=bt.selectAll(".resize").data(Ye,R);Nt.exit().remove(),Nt.enter().append("g").attr("class",function(kr){return"resize "+kr}).style("cursor",function(kr){return Lf[kr]}).append("rect").attr("x",function(kr){return/[ew]$/.test(kr)?-3:null}).attr("y",function(kr){return/^[ns]/.test(kr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Nt.style("display",Xe.empty()?"none":null);var zt=e.transition(bt),Et=e.transition(Mt),sr;H&&(sr=$t(H),Et.attr("x",sr[0]).attr("width",sr[1]-sr[0]),ct(zt)),W&&(sr=$t(W),Et.attr("y",sr[0]).attr("height",sr[1]-sr[0]),Dt(zt)),ft(zt)})}Xe.event=function(vt){vt.each(function(){var bt=P.of(this,arguments),Mt={x:ie,y:ue,i:he,j:Ee},Nt=this.__chart__||Mt;this.__chart__=Mt,Si?e.select(this).transition().each("start.brush",function(){he=Nt.i,Ee=Nt.j,ie=Nt.x,ue=Nt.y,bt({type:"brushstart"})}).tween("brush:brush",function(){var zt=Mf(ie,Mt.x),Et=Mf(ue,Mt.y);return he=Ee=null,function(sr){ie=Mt.x=zt(sr),ue=Mt.y=Et(sr),bt({type:"brush",mode:"resize"})}}).each("end.brush",function(){he=Mt.i,Ee=Mt.j,bt({type:"brush",mode:"resize"}),bt({type:"brushend"})}):(bt({type:"brushstart"}),bt({type:"brush",mode:"resize"}),bt({type:"brushend"}))})};function ft(vt){vt.selectAll(".resize").attr("transform",function(bt){return"translate("+ie[+/e$/.test(bt)]+","+ue[+/^s/.test(bt)]+")"})}function ct(vt){vt.select(".extent").attr("x",ie[0]),vt.selectAll(".extent,.n>rect,.s>rect").attr("width",ie[1]-ie[0])}function Dt(vt){vt.select(".extent").attr("y",ue[0]),vt.selectAll(".extent,.e>rect,.w>rect").attr("height",ue[1]-ue[0])}function Ft(){var vt=this,bt=e.select(e.event.target),Mt=P.of(vt,arguments),Nt=e.select(vt),zt=bt.datum(),Et=!/^(n|s)$/.test(zt)&&H,sr=!/^(e|w)$/.test(zt)&&W,kr=bt.classed("extent"),Dr=ht(vt),or,Hr=e.mouse(vt),Ur,dn=e.select(a(vt)).on("keydown.brush",di).on("keyup.brush",Ei);if(e.event.changedTouches?dn.on("touchmove.brush",Li).on("touchend.brush",yn):dn.on("mousemove.brush",Li).on("mouseup.brush",yn),Nt.interrupt().selectAll("*").interrupt(),kr)Hr[0]=ie[0]-Hr[0],Hr[1]=ue[0]-Hr[1];else if(zt){var jr=+/w$/.test(zt),pn=+/^n/.test(zt);Ur=[ie[1-jr]-Hr[0],ue[1-pn]-Hr[1]],Hr[0]=ie[jr],Hr[1]=ue[pn]}else e.event.altKey&&(or=Hr.slice());Nt.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",bt.style("cursor")),Mt({type:"brushstart"}),Li();function di(){e.event.keyCode==32&&(kr||(or=null,Hr[0]-=ie[1],Hr[1]-=ue[1],kr=2),Y())}function Ei(){e.event.keyCode==32&&kr==2&&(Hr[0]+=ie[1],Hr[1]+=ue[1],kr=0,Y())}function Li(){var An=e.mouse(vt),li=!1;Ur&&(An[0]+=Ur[0],An[1]+=Ur[1]),kr||(e.event.altKey?(or||(or=[(ie[0]+ie[1])/2,(ue[0]+ue[1])/2]),Hr[0]=ie[+(An[0]<or[0])],Hr[1]=ue[+(An[1]<or[1])]):or=null),Et&&br(An,H,0)&&(ct(Nt),li=!0),sr&&br(An,W,1)&&(Dt(Nt),li=!0),li&&(ft(Nt),Mt({type:"brush",mode:kr?"move":"resize"}))}function br(An,li,pi){var ea=$t(li),yo=ea[0],vs=ea[1],Zo=Hr[pi],ds=pi?ue:ie,Ds=ds[1]-ds[0],$o,qs;if(kr&&(yo-=Zo,vs-=Ds+Zo),$o=(pi?Ne:we)?Math.max(yo,Math.min(vs,An[pi])):An[pi],kr?qs=($o+=Zo)+Ds:(or&&(Zo=Math.max(yo,Math.min(vs,2*or[pi]-$o))),Zo<$o?(qs=$o,$o=Zo):qs=Zo),ds[0]!=$o||ds[1]!=qs)return pi?Ee=null:he=null,ds[0]=$o,ds[1]=qs,!0}function yn(){Li(),Nt.style("pointer-events","all").selectAll(".resize").style("display",Xe.empty()?"none":null),e.select("body").style("cursor",null),dn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Dr(),Mt({type:"brushend"})}}return Xe.x=function(vt){return arguments.length?(H=vt,Ye=Cs[!H<<1|!W],Xe):H},Xe.y=function(vt){return arguments.length?(W=vt,Ye=Cs[!H<<1|!W],Xe):W},Xe.clamp=function(vt){return arguments.length?(H&&W?(we=!!vt[0],Ne=!!vt[1]):H?we=!!vt:W&&(Ne=!!vt),Xe):H&&W?[we,Ne]:H?we:W?Ne:null},Xe.extent=function(vt){var bt,Mt,Nt,zt,Et;return arguments.length?(H&&(bt=vt[0],Mt=vt[1],W&&(bt=bt[0],Mt=Mt[0]),he=[bt,Mt],H.invert&&(bt=H(bt),Mt=H(Mt)),Mt<bt&&(Et=bt,bt=Mt,Mt=Et),(bt!=ie[0]||Mt!=ie[1])&&(ie=[bt,Mt])),W&&(Nt=vt[0],zt=vt[1],H&&(Nt=Nt[1],zt=zt[1]),Ee=[Nt,zt],W.invert&&(Nt=W(Nt),zt=W(zt)),zt<Nt&&(Et=Nt,Nt=zt,zt=Et),(Nt!=ue[0]||zt!=ue[1])&&(ue=[Nt,zt])),Xe):(H&&(he?(bt=he[0],Mt=he[1]):(bt=ie[0],Mt=ie[1],H.invert&&(bt=H.invert(bt),Mt=H.invert(Mt)),Mt<bt&&(Et=bt,bt=Mt,Mt=Et))),W&&(Ee?(Nt=Ee[0],zt=Ee[1]):(Nt=ue[0],zt=ue[1],W.invert&&(Nt=W.invert(Nt),zt=W.invert(zt)),zt<Nt&&(Et=Nt,Nt=zt,zt=Et))),H&&W?[[bt,Nt],[Mt,zt]]:H?[bt,Mt]:W&&[Nt,zt])},Xe.clear=function(){return Xe.empty()||(ie=[0,0],ue=[0,0],he=Ee=null),Xe},Xe.empty=function(){return!!H&&ie[0]==ie[1]||!!W&&ue[0]==ue[1]},e.rebind(Xe,P,"on")};var Lf={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Vt(function(P){return P.responseText}),e.json=function(P,H){return At(P,"application/json",Sc,H)};function Sc(P){return JSON.parse(P.responseText)}e.html=function(P,H){return At(P,"text/html",av,H)};function av(P){var H=n.createRange();return H.selectNode(n.body),H.createContextualFragment(P.responseText)}e.xml=Vt(function(P){return P.responseXML}),typeof define=="function"&&define.amd?(this.d3=e,define(e)):typeof C_=="object"&&C_.exports?C_.exports=e:this.d3=e}).apply(self)});var j4=$((D_,NH)=>{(function(e,t){typeof D_=="object"&&typeof NH<"u"?t(D_):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(D_,function(e){"use strict";var t=new Date,r=new Date;function n(te,ye,Te,Ce){function De(oe){return te(oe=arguments.length===0?new Date:new Date(+oe)),oe}return De.floor=function(oe){return te(oe=new Date(+oe)),oe},De.ceil=function(oe){return te(oe=new Date(oe-1)),ye(oe,1),te(oe),oe},De.round=function(oe){var pe=De(oe),Le=De.ceil(oe);return oe-pe<Le-oe?pe:Le},De.offset=function(oe,pe){return ye(oe=new Date(+oe),pe==null?1:Math.floor(pe)),oe},De.range=function(oe,pe,Le){var Ue=[],et;if(oe=De.ceil(oe),Le=Le==null?1:Math.floor(Le),!(oe<pe)||!(Le>0))return Ue;do Ue.push(et=new Date(+oe)),ye(oe,Le),te(oe);while(et<oe&&oe<pe);return Ue},De.filter=function(oe){return n(function(pe){if(pe>=pe)for(;te(pe),!oe(pe);)pe.setTime(pe-1)},function(pe,Le){if(pe>=pe)if(Le<0)for(;++Le<=0;)for(;ye(pe,-1),!oe(pe););else for(;--Le>=0;)for(;ye(pe,1),!oe(pe););})},Te&&(De.count=function(oe,pe){return t.setTime(+oe),r.setTime(+pe),te(t),te(r),Math.floor(Te(t,r))},De.every=function(oe){return oe=Math.floor(oe),!isFinite(oe)||!(oe>0)?null:oe>1?De.filter(Ce?function(pe){return Ce(pe)%oe===0}:function(pe){return De.count(0,pe)%oe===0}):De}),De}var i=n(function(){},function(te,ye){te.setTime(+te+ye)},function(te,ye){return ye-te});i.every=function(te){return te=Math.floor(te),!isFinite(te)||!(te>0)?null:te>1?n(function(ye){ye.setTime(Math.floor(ye/te)*te)},function(ye,Te){ye.setTime(+ye+Te*te)},function(ye,Te){return(Te-ye)/te}):i};var a=i.range,o=1e3,s=6e4,l=36e5,u=864e5,f=6048e5,c=n(function(te){te.setTime(te-te.getMilliseconds())},function(te,ye){te.setTime(+te+ye*o)},function(te,ye){return(ye-te)/o},function(te){return te.getUTCSeconds()}),h=c.range,v=n(function(te){te.setTime(te-te.getMilliseconds()-te.getSeconds()*o)},function(te,ye){te.setTime(+te+ye*s)},function(te,ye){return(ye-te)/s},function(te){return te.getMinutes()}),b=v.range,y=n(function(te){te.setTime(te-te.getMilliseconds()-te.getSeconds()*o-te.getMinutes()*s)},function(te,ye){te.setTime(+te+ye*l)},function(te,ye){return(ye-te)/l},function(te){return te.getHours()}),x=y.range,m=n(function(te){te.setHours(0,0,0,0)},function(te,ye){te.setDate(te.getDate()+ye)},function(te,ye){return(ye-te-(ye.getTimezoneOffset()-te.getTimezoneOffset())*s)/u},function(te){return te.getDate()-1}),_=m.range;function g(te){return n(function(ye){ye.setDate(ye.getDate()-(ye.getDay()+7-te)%7),ye.setHours(0,0,0,0)},function(ye,Te){ye.setDate(ye.getDate()+Te*7)},function(ye,Te){return(Te-ye-(Te.getTimezoneOffset()-ye.getTimezoneOffset())*s)/f})}var A=g(0),w=g(1),k=g(2),p=g(3),d=g(4),M=g(5),T=g(6),S=A.range,E=w.range,L=k.range,D=p.range,R=d.range,q=M.range,C=T.range,F=n(function(te){te.setDate(1),te.setHours(0,0,0,0)},function(te,ye){te.setMonth(te.getMonth()+ye)},function(te,ye){return ye.getMonth()-te.getMonth()+(ye.getFullYear()-te.getFullYear())*12},function(te){return te.getMonth()}),N=F.range,U=n(function(te){te.setMonth(0,1),te.setHours(0,0,0,0)},function(te,ye){te.setFullYear(te.getFullYear()+ye)},function(te,ye){return ye.getFullYear()-te.getFullYear()},function(te){return te.getFullYear()});U.every=function(te){return!isFinite(te=Math.floor(te))||!(te>0)?null:n(function(ye){ye.setFullYear(Math.floor(ye.getFullYear()/te)*te),ye.setMonth(0,1),ye.setHours(0,0,0,0)},function(ye,Te){ye.setFullYear(ye.getFullYear()+Te*te)})};var V=U.range,Y=n(function(te){te.setUTCSeconds(0,0)},function(te,ye){te.setTime(+te+ye*s)},function(te,ye){return(ye-te)/s},function(te){return te.getUTCMinutes()}),K=Y.range,B=n(function(te){te.setUTCMinutes(0,0,0)},function(te,ye){te.setTime(+te+ye*l)},function(te,ye){return(ye-te)/l},function(te){return te.getUTCHours()}),z=B.range,j=n(function(te){te.setUTCHours(0,0,0,0)},function(te,ye){te.setUTCDate(te.getUTCDate()+ye)},function(te,ye){return(ye-te)/u},function(te){return te.getUTCDate()-1}),ae=j.range;function ee(te){return n(function(ye){ye.setUTCDate(ye.getUTCDate()-(ye.getUTCDay()+7-te)%7),ye.setUTCHours(0,0,0,0)},function(ye,Te){ye.setUTCDate(ye.getUTCDate()+Te*7)},function(ye,Te){return(Te-ye)/f})}var ve=ee(0),fe=ee(1),se=ee(2),G=ee(3),Z=ee(4),X=ee(5),ge=ee(6),qe=ve.range,Pe=fe.range,Oe=se.range,de=G.range,_e=Z.range,ce=X.range,J=ge.range,ne=n(function(te){te.setUTCDate(1),te.setUTCHours(0,0,0,0)},function(te,ye){te.setUTCMonth(te.getUTCMonth()+ye)},function(te,ye){return ye.getUTCMonth()-te.getUTCMonth()+(ye.getUTCFullYear()-te.getUTCFullYear())*12},function(te){return te.getUTCMonth()}),be=ne.range,Fe=n(function(te){te.setUTCMonth(0,1),te.setUTCHours(0,0,0,0)},function(te,ye){te.setUTCFullYear(te.getUTCFullYear()+ye)},function(te,ye){return ye.getUTCFullYear()-te.getUTCFullYear()},function(te){return te.getUTCFullYear()});Fe.every=function(te){return!isFinite(te=Math.floor(te))||!(te>0)?null:n(function(ye){ye.setUTCFullYear(Math.floor(ye.getUTCFullYear()/te)*te),ye.setUTCMonth(0,1),ye.setUTCHours(0,0,0,0)},function(ye,Te){ye.setUTCFullYear(ye.getUTCFullYear()+Te*te)})};var He=Fe.range;e.timeDay=m,e.timeDays=_,e.timeFriday=M,e.timeFridays=q,e.timeHour=y,e.timeHours=x,e.timeInterval=n,e.timeMillisecond=i,e.timeMilliseconds=a,e.timeMinute=v,e.timeMinutes=b,e.timeMonday=w,e.timeMondays=E,e.timeMonth=F,e.timeMonths=N,e.timeSaturday=T,e.timeSaturdays=C,e.timeSecond=c,e.timeSeconds=h,e.timeSunday=A,e.timeSundays=S,e.timeThursday=d,e.timeThursdays=R,e.timeTuesday=k,e.timeTuesdays=L,e.timeWednesday=p,e.timeWednesdays=D,e.timeWeek=A,e.timeWeeks=S,e.timeYear=U,e.timeYears=V,e.utcDay=j,e.utcDays=ae,e.utcFriday=X,e.utcFridays=ce,e.utcHour=B,e.utcHours=z,e.utcMillisecond=i,e.utcMilliseconds=a,e.utcMinute=Y,e.utcMinutes=K,e.utcMonday=fe,e.utcMondays=Pe,e.utcMonth=ne,e.utcMonths=be,e.utcSaturday=ge,e.utcSaturdays=J,e.utcSecond=c,e.utcSeconds=h,e.utcSunday=ve,e.utcSundays=qe,e.utcThursday=Z,e.utcThursdays=_e,e.utcTuesday=se,e.utcTuesdays=Oe,e.utcWednesday=G,e.utcWednesdays=de,e.utcWeek=ve,e.utcWeeks=qe,e.utcYear=Fe,e.utcYears=He,Object.defineProperty(e,"__esModule",{value:!0})})});var d1=$((q_,zH)=>{(function(e,t){typeof q_=="object"&&typeof zH<"u"?t(q_,j4()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(q_,function(e,t){"use strict";function r(Be){if(0<=Be.y&&Be.y<100){var tt=new Date(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L);return tt.setFullYear(Be.y),tt}return new Date(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L)}function n(Be){if(0<=Be.y&&Be.y<100){var tt=new Date(Date.UTC(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L));return tt.setUTCFullYear(Be.y),tt}return new Date(Date.UTC(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L))}function i(Be,tt,ot){return{y:Be,m:tt,d:ot,H:0,M:0,S:0,L:0}}function a(Be){var tt=Be.dateTime,ot=Be.date,yt=Be.time,Ht=Be.periods,Lt=Be.days,tr=Be.shortDays,rr=Be.months,Ct=Be.shortMonths,Zt=h(Ht),Sr=v(Ht),gr=h(Lt),Lr=v(Lt),en=h(tr),Or=v(tr),vn=h(rr),qn=v(rr),Kr=h(Ct),Qr=v(Ct),kn={a:fa,A:Ea,b:Qn,B:Ki,c:null,d:F,e:F,f:K,g:X,G:qe,H:N,I:U,j:V,L:Y,m:B,M:z,p:ho,q:ja,Q:ht,s:_t,S:j,u:ae,U:ee,V:fe,w:se,W:G,x:null,X:null,y:Z,Y:ge,Z:Pe,"%":dt},Vn={a:Ji,A:au,b:Rl,B:ou,c:null,d:Oe,e:Oe,f:ne,g:Le,G:et,H:de,I:_e,j:ce,L:J,m:be,M:Fe,p:Ie,q:st,Q:ht,s:_t,S:He,u:te,U:ye,V:Ce,w:De,W:oe,x:null,X:null,y:pe,Y:Ue,Z:Qe,"%":dt},Tn={a:_i,A:ua,b:Yi,B:xn,c:ia,d,e:d,f:D,g:A,G:g,H:T,I:T,j:M,L,m:p,M:S,p:Sn,q:k,Q:q,s:C,S:E,u:y,U:x,V:m,w:b,W:_,x:ti,X:co,y:A,Y:g,Z:w,"%":R};kn.x=Nn(ot,kn),kn.X=Nn(yt,kn),kn.c=Nn(tt,kn),Vn.x=Nn(ot,Vn),Vn.X=Nn(yt,Vn),Vn.c=Nn(tt,Vn);function Nn(lt,xt){return function(Vt){var At=[],nr=-1,Pt=0,ir=lt.length,wr,Mr,Vr;for(Vt instanceof Date||(Vt=new Date(+Vt));++nr<ir;)lt.charCodeAt(nr)===37&&(At.push(lt.slice(Pt,nr)),(Mr=o[wr=lt.charAt(++nr)])!=null?wr=lt.charAt(++nr):Mr=wr==="e"?" ":"0",(Vr=xt[wr])&&(wr=Vr(Vt,Mr)),At.push(wr),Pt=nr+1);return At.push(lt.slice(Pt,nr)),At.join("")}}function ci(lt,xt){return function(Vt){var At=i(1900,void 0,1),nr=On(At,lt,Vt+="",0),Pt,ir;if(nr!=Vt.length)return null;if("Q"in At)return new Date(At.Q);if("s"in At)return new Date(At.s*1e3+("L"in At?At.L:0));if(xt&&!("Z"in At)&&(At.Z=0),"p"in At&&(At.H=At.H%12+At.p*12),At.m===void 0&&(At.m="q"in At?At.q:0),"V"in At){if(At.V<1||At.V>53)return null;"w"in At||(At.w=1),"Z"in At?(Pt=n(i(At.y,0,1)),ir=Pt.getUTCDay(),Pt=ir>4||ir===0?t.utcMonday.ceil(Pt):t.utcMonday(Pt),Pt=t.utcDay.offset(Pt,(At.V-1)*7),At.y=Pt.getUTCFullYear(),At.m=Pt.getUTCMonth(),At.d=Pt.getUTCDate()+(At.w+6)%7):(Pt=r(i(At.y,0,1)),ir=Pt.getDay(),Pt=ir>4||ir===0?t.timeMonday.ceil(Pt):t.timeMonday(Pt),Pt=t.timeDay.offset(Pt,(At.V-1)*7),At.y=Pt.getFullYear(),At.m=Pt.getMonth(),At.d=Pt.getDate()+(At.w+6)%7)}else("W"in At||"U"in At)&&("w"in At||(At.w="u"in At?At.u%7:"W"in At?1:0),ir="Z"in At?n(i(At.y,0,1)).getUTCDay():r(i(At.y,0,1)).getDay(),At.m=0,At.d="W"in At?(At.w+6)%7+At.W*7-(ir+5)%7:At.w+At.U*7-(ir+6)%7);return"Z"in At?(At.H+=At.Z/100|0,At.M+=At.Z%100,n(At)):r(At)}}function On(lt,xt,Vt,At){for(var nr=0,Pt=xt.length,ir=Vt.length,wr,Mr;nr<Pt;){if(At>=ir)return-1;if(wr=xt.charCodeAt(nr++),wr===37){if(wr=xt.charAt(nr++),Mr=Tn[wr in o?xt.charAt(nr++):wr],!Mr||(At=Mr(lt,Vt,At))<0)return-1}else if(wr!=Vt.charCodeAt(At++))return-1}return At}function Sn(lt,xt,Vt){var At=Zt.exec(xt.slice(Vt));return At?(lt.p=Sr[At[0].toLowerCase()],Vt+At[0].length):-1}function _i(lt,xt,Vt){var At=en.exec(xt.slice(Vt));return At?(lt.w=Or[At[0].toLowerCase()],Vt+At[0].length):-1}function ua(lt,xt,Vt){var At=gr.exec(xt.slice(Vt));return At?(lt.w=Lr[At[0].toLowerCase()],Vt+At[0].length):-1}function Yi(lt,xt,Vt){var At=Kr.exec(xt.slice(Vt));return At?(lt.m=Qr[At[0].toLowerCase()],Vt+At[0].length):-1}function xn(lt,xt,Vt){var At=vn.exec(xt.slice(Vt));return At?(lt.m=qn[At[0].toLowerCase()],Vt+At[0].length):-1}function ia(lt,xt,Vt){return On(lt,tt,xt,Vt)}function ti(lt,xt,Vt){return On(lt,ot,xt,Vt)}function co(lt,xt,Vt){return On(lt,yt,xt,Vt)}function fa(lt){return tr[lt.getDay()]}function Ea(lt){return Lt[lt.getDay()]}function Qn(lt){return Ct[lt.getMonth()]}function Ki(lt){return rr[lt.getMonth()]}function ho(lt){return Ht[+(lt.getHours()>=12)]}function ja(lt){return 1+~~(lt.getMonth()/3)}function Ji(lt){return tr[lt.getUTCDay()]}function au(lt){return Lt[lt.getUTCDay()]}function Rl(lt){return Ct[lt.getUTCMonth()]}function ou(lt){return rr[lt.getUTCMonth()]}function Ie(lt){return Ht[+(lt.getUTCHours()>=12)]}function st(lt){return 1+~~(lt.getUTCMonth()/3)}return{format:function(lt){var xt=Nn(lt+="",kn);return xt.toString=function(){return lt},xt},parse:function(lt){var xt=ci(lt+="",!1);return xt.toString=function(){return lt},xt},utcFormat:function(lt){var xt=Nn(lt+="",Vn);return xt.toString=function(){return lt},xt},utcParse:function(lt){var xt=ci(lt+="",!0);return xt.toString=function(){return lt},xt}}}var o={"-":"",_:" ",0:"0"},s=/^\s*\d+/,l=/^%/,u=/[\\^$*+?|[\]().{}]/g;function f(Be,tt,ot){var yt=Be<0?"-":"",Ht=(yt?-Be:Be)+"",Lt=Ht.length;return yt+(Lt<ot?new Array(ot-Lt+1).join(tt)+Ht:Ht)}function c(Be){return Be.replace(u,"\\$&")}function h(Be){return new RegExp("^(?:"+Be.map(c).join("|")+")","i")}function v(Be){for(var tt={},ot=-1,yt=Be.length;++ot<yt;)tt[Be[ot].toLowerCase()]=ot;return tt}function b(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+1));return yt?(Be.w=+yt[0],ot+yt[0].length):-1}function y(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+1));return yt?(Be.u=+yt[0],ot+yt[0].length):-1}function x(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.U=+yt[0],ot+yt[0].length):-1}function m(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.V=+yt[0],ot+yt[0].length):-1}function _(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.W=+yt[0],ot+yt[0].length):-1}function g(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+4));return yt?(Be.y=+yt[0],ot+yt[0].length):-1}function A(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.y=+yt[0]+(+yt[0]>68?1900:2e3),ot+yt[0].length):-1}function w(Be,tt,ot){var yt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(tt.slice(ot,ot+6));return yt?(Be.Z=yt[1]?0:-(yt[2]+(yt[3]||"00")),ot+yt[0].length):-1}function k(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+1));return yt?(Be.q=yt[0]*3-3,ot+yt[0].length):-1}function p(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.m=yt[0]-1,ot+yt[0].length):-1}function d(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.d=+yt[0],ot+yt[0].length):-1}function M(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+3));return yt?(Be.m=0,Be.d=+yt[0],ot+yt[0].length):-1}function T(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.H=+yt[0],ot+yt[0].length):-1}function S(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.M=+yt[0],ot+yt[0].length):-1}function E(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+2));return yt?(Be.S=+yt[0],ot+yt[0].length):-1}function L(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+3));return yt?(Be.L=+yt[0],ot+yt[0].length):-1}function D(Be,tt,ot){var yt=s.exec(tt.slice(ot,ot+6));return yt?(Be.L=Math.floor(yt[0]/1e3),ot+yt[0].length):-1}function R(Be,tt,ot){var yt=l.exec(tt.slice(ot,ot+1));return yt?ot+yt[0].length:-1}function q(Be,tt,ot){var yt=s.exec(tt.slice(ot));return yt?(Be.Q=+yt[0],ot+yt[0].length):-1}function C(Be,tt,ot){var yt=s.exec(tt.slice(ot));return yt?(Be.s=+yt[0],ot+yt[0].length):-1}function F(Be,tt){return f(Be.getDate(),tt,2)}function N(Be,tt){return f(Be.getHours(),tt,2)}function U(Be,tt){return f(Be.getHours()%12||12,tt,2)}function V(Be,tt){return f(1+t.timeDay.count(t.timeYear(Be),Be),tt,3)}function Y(Be,tt){return f(Be.getMilliseconds(),tt,3)}function K(Be,tt){return Y(Be,tt)+"000"}function B(Be,tt){return f(Be.getMonth()+1,tt,2)}function z(Be,tt){return f(Be.getMinutes(),tt,2)}function j(Be,tt){return f(Be.getSeconds(),tt,2)}function ae(Be){var tt=Be.getDay();return tt===0?7:tt}function ee(Be,tt){return f(t.timeSunday.count(t.timeYear(Be)-1,Be),tt,2)}function ve(Be){var tt=Be.getDay();return tt>=4||tt===0?t.timeThursday(Be):t.timeThursday.ceil(Be)}function fe(Be,tt){return Be=ve(Be),f(t.timeThursday.count(t.timeYear(Be),Be)+(t.timeYear(Be).getDay()===4),tt,2)}function se(Be){return Be.getDay()}function G(Be,tt){return f(t.timeMonday.count(t.timeYear(Be)-1,Be),tt,2)}function Z(Be,tt){return f(Be.getFullYear()%100,tt,2)}function X(Be,tt){return Be=ve(Be),f(Be.getFullYear()%100,tt,2)}function ge(Be,tt){return f(Be.getFullYear()%1e4,tt,4)}function qe(Be,tt){var ot=Be.getDay();return Be=ot>=4||ot===0?t.timeThursday(Be):t.timeThursday.ceil(Be),f(Be.getFullYear()%1e4,tt,4)}function Pe(Be){var tt=Be.getTimezoneOffset();return(tt>0?"-":(tt*=-1,"+"))+f(tt/60|0,"0",2)+f(tt%60,"0",2)}function Oe(Be,tt){return f(Be.getUTCDate(),tt,2)}function de(Be,tt){return f(Be.getUTCHours(),tt,2)}function _e(Be,tt){return f(Be.getUTCHours()%12||12,tt,2)}function ce(Be,tt){return f(1+t.utcDay.count(t.utcYear(Be),Be),tt,3)}function J(Be,tt){return f(Be.getUTCMilliseconds(),tt,3)}function ne(Be,tt){return J(Be,tt)+"000"}function be(Be,tt){return f(Be.getUTCMonth()+1,tt,2)}function Fe(Be,tt){return f(Be.getUTCMinutes(),tt,2)}function He(Be,tt){return f(Be.getUTCSeconds(),tt,2)}function te(Be){var tt=Be.getUTCDay();return tt===0?7:tt}function ye(Be,tt){return f(t.utcSunday.count(t.utcYear(Be)-1,Be),tt,2)}function Te(Be){var tt=Be.getUTCDay();return tt>=4||tt===0?t.utcThursday(Be):t.utcThursday.ceil(Be)}function Ce(Be,tt){return Be=Te(Be),f(t.utcThursday.count(t.utcYear(Be),Be)+(t.utcYear(Be).getUTCDay()===4),tt,2)}function De(Be){return Be.getUTCDay()}function oe(Be,tt){return f(t.utcMonday.count(t.utcYear(Be)-1,Be),tt,2)}function pe(Be,tt){return f(Be.getUTCFullYear()%100,tt,2)}function Le(Be,tt){return Be=Te(Be),f(Be.getUTCFullYear()%100,tt,2)}function Ue(Be,tt){return f(Be.getUTCFullYear()%1e4,tt,4)}function et(Be,tt){var ot=Be.getUTCDay();return Be=ot>=4||ot===0?t.utcThursday(Be):t.utcThursday.ceil(Be),f(Be.getUTCFullYear()%1e4,tt,4)}function Qe(){return"+0000"}function dt(){return"%"}function ht(Be){return+Be}function _t(Be){return Math.floor(+Be/1e3)}var kt;St({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function St(Be){return kt=a(Be),e.timeFormat=kt.format,e.timeParse=kt.parse,e.utcFormat=kt.utcFormat,e.utcParse=kt.utcParse,kt}var Ot="%Y-%m-%dT%H:%M:%S.%LZ";function je(Be){return Be.toISOString()}var Ve=Date.prototype.toISOString?je:e.utcFormat(Ot);function Je(Be){var tt=new Date(Be);return isNaN(tt)?null:tt}var nt=+new Date("2000-01-01T00:00:00.000Z")?Je:e.utcParse(Ot);e.isoFormat=Ve,e.isoParse=nt,e.timeFormatDefaultLocale=St,e.timeFormatLocale=a,Object.defineProperty(e,"__esModule",{value:!0})})});var V4=$((R_,OH)=>{(function(e,t){typeof R_=="object"&&typeof OH<"u"?t(R_):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.d3=e.d3||{}))})(R_,function(e){"use strict";function t(p){return Math.abs(p=Math.round(p))>=1e21?p.toLocaleString("en").replace(/,/g,""):p.toString(10)}function r(p,d){if((M=(p=d?p.toExponential(d-1):p.toExponential()).indexOf("e"))<0)return null;var M,T=p.slice(0,M);return[T.length>1?T[0]+T.slice(2):T,+p.slice(M+1)]}function n(p){return p=r(Math.abs(p)),p?p[1]:NaN}function i(p,d){return function(M,T){for(var S=M.length,E=[],L=0,D=p[0],R=0;S>0&&D>0&&(R+D+1>T&&(D=Math.max(1,T-R)),E.push(M.substring(S-=D,S+D)),!((R+=D+1)>T));)D=p[L=(L+1)%p.length];return E.reverse().join(d)}}function a(p){return function(d){return d.replace(/[0-9]/g,function(M){return p[+M]})}}var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(p){if(!(d=o.exec(p)))throw new Error("invalid format: "+p);var d;return new l({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}s.prototype=l.prototype;function l(p){this.fill=p.fill===void 0?" ":p.fill+"",this.align=p.align===void 0?">":p.align+"",this.sign=p.sign===void 0?"-":p.sign+"",this.symbol=p.symbol===void 0?"":p.symbol+"",this.zero=!!p.zero,this.width=p.width===void 0?void 0:+p.width,this.comma=!!p.comma,this.precision=p.precision===void 0?void 0:+p.precision,this.trim=!!p.trim,this.type=p.type===void 0?"":p.type+""}l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u(p){e:for(var d=p.length,M=1,T=-1,S;M<d;++M)switch(p[M]){case".":T=S=M;break;case"0":T===0&&(T=M),S=M;break;default:if(!+p[M])break e;T>0&&(T=0);break}return T>0?p.slice(0,T)+p.slice(S+1):p}var f;function c(p,d){var M=r(p,d);if(!M)return p+"";var T=M[0],S=M[1],E=S-(f=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,L=T.length;return E===L?T:E>L?T+new Array(E-L+1).join("0"):E>0?T.slice(0,E)+"."+T.slice(E):"0."+new Array(1-E).join("0")+r(p,Math.max(0,d+E-1))[0]}function h(p,d){var M=r(p,d);if(!M)return p+"";var T=M[0],S=M[1];return S<0?"0."+new Array(-S).join("0")+T:T.length>S+1?T.slice(0,S+1)+"."+T.slice(S+1):T+new Array(S-T.length+2).join("0")}var v={"%":function(p,d){return(p*100).toFixed(d)},b:function(p){return Math.round(p).toString(2)},c:function(p){return p+""},d:t,e:function(p,d){return p.toExponential(d)},f:function(p,d){return p.toFixed(d)},g:function(p,d){return p.toPrecision(d)},o:function(p){return Math.round(p).toString(8)},p:function(p,d){return h(p*100,d)},r:h,s:c,X:function(p){return Math.round(p).toString(16).toUpperCase()},x:function(p){return Math.round(p).toString(16)}};function b(p){return p}var y=Array.prototype.map,x=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function m(p){var d=p.grouping===void 0||p.thousands===void 0?b:i(y.call(p.grouping,Number),p.thousands+""),M=p.currency===void 0?"":p.currency[0]+"",T=p.currency===void 0?"":p.currency[1]+"",S=p.decimal===void 0?".":p.decimal+"",E=p.numerals===void 0?b:a(y.call(p.numerals,String)),L=p.percent===void 0?"%":p.percent+"",D=p.minus===void 0?"-":p.minus+"",R=p.nan===void 0?"NaN":p.nan+"";function q(F){F=s(F);var N=F.fill,U=F.align,V=F.sign,Y=F.symbol,K=F.zero,B=F.width,z=F.comma,j=F.precision,ae=F.trim,ee=F.type;ee==="n"?(z=!0,ee="g"):v[ee]||(j===void 0&&(j=12),ae=!0,ee="g"),(K||N==="0"&&U==="=")&&(K=!0,N="0",U="=");var ve=Y==="$"?M:Y==="#"&&/[boxX]/.test(ee)?"0"+ee.toLowerCase():"",fe=Y==="$"?T:/[%p]/.test(ee)?L:"",se=v[ee],G=/[defgprs%]/.test(ee);j=j===void 0?6:/[gprs]/.test(ee)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function Z(X){var ge=ve,qe=fe,Pe,Oe,de;if(ee==="c")qe=se(X)+qe,X="";else{X=+X;var _e=X<0||1/X<0;if(X=isNaN(X)?R:se(Math.abs(X),j),ae&&(X=u(X)),_e&&+X==0&&V!=="+"&&(_e=!1),ge=(_e?V==="("?V:D:V==="-"||V==="("?"":V)+ge,qe=(ee==="s"?x[8+f/3]:"")+qe+(_e&&V==="("?")":""),G){for(Pe=-1,Oe=X.length;++Pe<Oe;)if(de=X.charCodeAt(Pe),48>de||de>57){qe=(de===46?S+X.slice(Pe+1):X.slice(Pe))+qe,X=X.slice(0,Pe);break}}}z&&!K&&(X=d(X,1/0));var ce=ge.length+X.length+qe.length,J=ce<B?new Array(B-ce+1).join(N):"";switch(z&&K&&(X=d(J+X,J.length?B-qe.length:1/0),J=""),U){case"<":X=ge+X+qe+J;break;case"=":X=ge+J+X+qe;break;case"^":X=J.slice(0,ce=J.length>>1)+ge+X+qe+J.slice(ce);break;default:X=J+ge+X+qe;break}return E(X)}return Z.toString=function(){return F+""},Z}function C(F,N){var U=q((F=s(F),F.type="f",F)),V=Math.max(-8,Math.min(8,Math.floor(n(N)/3)))*3,Y=Math.pow(10,-V),K=x[8+V/3];return function(B){return U(Y*B)+K}}return{format:q,formatPrefix:C}}var _;g({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function g(p){return _=m(p),e.format=_.format,e.formatPrefix=_.formatPrefix,_}function A(p){return Math.max(0,-n(Math.abs(p)))}function w(p,d){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(d)/3)))*3-n(Math.abs(p)))}function k(p,d){return p=Math.abs(p),d=Math.abs(d)-p,Math.max(0,n(d)-n(p))+1}e.FormatSpecifier=l,e.formatDefaultLocale=g,e.formatLocale=m,e.formatSpecifier=s,e.precisionFixed=A,e.precisionPrefix=w,e.precisionRound=k,Object.defineProperty(e,"__esModule",{value:!0})})});var HH=$((iTt,BH)=>{"use strict";BH.exports=function(e){for(var t=e.length,r,n=0;n<t;n++)if(r=e.charCodeAt(n),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}});var mn=$((aTt,UH)=>{"use strict";var o9e=HH();UH.exports=function(e){var t=typeof e;if(t==="string"){var r=e;if(e=+e,e===0&&o9e(r))return!1}else if(t!=="number")return!1;return e-e<1}});var Zn=$((oTt,jH)=>{"use strict";jH.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var wd=$(bd=>{"use strict";var G4=Array.isArray,s9e=ArrayBuffer,l9e=DataView;function VH(e){return s9e.isView(e)&&!(e instanceof l9e)}bd.isTypedArray=VH;function I_(e){return G4(e)||VH(e)}bd.isArrayOrTypedArray=I_;function u9e(e){return!I_(e[0])}bd.isArray1D=u9e;bd.ensureArray=function(e,t){return G4(e)||(e=[]),e.length=t,e};bd.concat=function(){var e=[],t=!0,r=0,n,i,a,o,s,l,u,f;for(a=0;a<arguments.length;a++)o=arguments[a],l=o.length,l&&(i?e.push(o):(i=o,s=l),G4(o)?n=!1:(t=!1,r?n!==o.constructor&&(n=!1):n=o.constructor),r+=l);if(!r)return[];if(!e.length)return i;if(t)return i.concat.apply(i,e);if(n){for(u=new n(r),u.set(i),a=0;a<e.length;a++)o=e[a],u.set(o,s),s+=o.length;return u}for(u=new Array(r),f=0;f<i.length;f++)u[f]=i[f];for(a=0;a<e.length;a++){for(o=e[a],f=0;f<o.length;f++)u[s+f]=o[f];s+=f}return u};bd.maxRowLength=function(e){return GH(e,Math.max,0)};bd.minRowLength=function(e){return GH(e,Math.min,1/0)};function GH(e,t,r){if(I_(e))if(I_(e[0])){for(var n=r,i=0;i<e.length;i++)n=t(n,e[i].length);return n}else return e.length;return 0}});var cx=$((lTt,$H)=>{"use strict";var YH=mn(),W4=wd().isArrayOrTypedArray;$H.exports=function(t,r){if(YH(r))r=String(r);else if(typeof r!="string"||r.substr(r.length-4)==="[-1]")throw"bad property string";for(var n=0,i=r.split("."),a,o,s;n<i.length;){if(a=String(i[n]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])i[n]=a[1];else if(n===0)i.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),s=0;s<o.length;s++)n++,i.splice(n,0,Number(o[s]))}n++}return typeof t!="object"?v9e(t,r,i):{set:XH(t,i,r),get:WH(t,i),astr:r,parts:i,obj:t}};function WH(e,t){return function(){var r=e,n,i,a,o,s;for(o=0;o<t.length-1;o++){if(n=t[o],n===-1){for(i=!0,a=[],s=0;s<r.length;s++)a[s]=WH(r[s],t.slice(o+1))(),a[s]!==a[0]&&(i=!1);return i?a[0]:a}if(typeof n=="number"&&!W4(r)||(r=r[n],typeof r!="object"||r===null))return}if(!(typeof r!="object"||r===null)&&(a=r[t[o]],a!==null))return a}}var f9e=/(^|\.)args\[/;function Y4(e,t){return e===void 0||e===null&&!t.match(f9e)}function XH(e,t,r){return function(n){var i=e,a="",o=[[e,a]],s=Y4(n,r),l,u;for(u=0;u<t.length-1;u++){if(l=t[u],typeof l=="number"&&!W4(i))throw"array index but container is not an array";if(l===-1){if(s=!h9e(i,t.slice(u+1),n,r),s)break;return}if(!ZH(i,l,t[u+1],s))break;if(i=i[l],typeof i!="object"||i===null)throw"container is not an object";a=c9e(a,l),o.push([i,a])}if(s){if(u===t.length-1&&(delete i[t[u]],Array.isArray(i)&&+t[u]===i.length-1))for(;i.length&&i[i.length-1]===void 0;)i.pop()}else i[t[u]]=n}}function c9e(e,t){var r=t;return YH(t)?r="["+t+"]":e&&(r="."+t),e+r}function h9e(e,t,r,n){var i=W4(r),a=!0,o=r,s=n.replace("-1",0),l=i?!1:Y4(r,s),u=t[0],f;for(f=0;f<e.length;f++)s=n.replace("-1",f),i&&(o=r[f%r.length],l=Y4(o,s)),l&&(a=!1),ZH(e,f,u,l)&&XH(e[f],t,n.replace("-1",f))(o);return a}function ZH(e,t,r,n){if(e[t]===void 0){if(n)return!1;typeof r=="number"?e[t]=[]:e[t]={}}return!0}function v9e(e,t,r){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:r,obj:e}}});var eU=$((uTt,QH)=>{"use strict";var p1=cx(),d9e=/^\w*$/,p9e=0,KH=1,P_=2,JH=3,V0=4;QH.exports=function(t,r,n,i){n=n||"name",i=i||"value";var a,o,s,l={};r&&r.length?(s=p1(t,r),o=s.get()):o=t,r=r||"";var u={};if(o)for(a=0;a<o.length;a++)u[o[a][n]]=a;var f=d9e.test(i),c={set:function(h,v){var b=v===null?V0:p9e;if(!o){if(!s||b===V0)return;o=[],s.set(o)}var y=u[h];if(y===void 0){if(b===V0)return;b=b|JH,y=o.length,u[h]=y}else v!==(f?o[y][i]:p1(o[y],i).get())&&(b=b|P_);var x=o[y]=o[y]||{};return x[n]=h,f?x[i]=v:p1(x,i).set(v),v!==null&&(b=b&~V0),l[y]=l[y]|b,c},get:function(h){if(o){var v=u[h];if(v!==void 0)return f?o[v][i]:p1(o[v],i).get()}},rename:function(h,v){var b=u[h];return b===void 0||(l[b]=l[b]|KH,u[v]=b,delete u[h],o[b][n]=v),c},remove:function(h){var v=u[h];if(v===void 0)return c;var b=o[v];if(Object.keys(b).length>2)return l[v]=l[v]|P_,c.set(h,null);if(f){for(a=v;a<o.length;a++)l[a]=l[a]|JH;for(a=v;a<o.length;a++)u[o[a][n]]--;o.splice(v,1),delete u[h]}else p1(b,i).set(null),l[v]=l[v]|P_|V0;return c},constructUpdate:function(){for(var h,v,b={},y=Object.keys(l),x=0;x<y.length;x++)v=y[x],h=r+"["+v+"]",o[v]?(l[v]&KH&&(b[h+"."+n]=o[v][n]),l[v]&P_&&(f?b[h+"."+i]=l[v]&V0?null:o[v][i]:b[h+"."+i]=l[v]&V0?null:p1(o[v],i).get())):b[h]=null;return b}};return c}});var rU=$((fTt,tU)=>{"use strict";var g9e=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,m9e=/^[^\.\[\]]+$/;tU.exports=function(e,t){for(;t;){var r=e.match(g9e);if(r)e=r[1];else if(e.match(m9e))e="";else throw new Error("bad relativeAttr call:"+[e,t]);if(t.charAt(0)==="^")t=t.slice(1);else break}return e&&t.charAt(0)!=="["?e+"."+t:e+t}});var G0=$((cTt,nU)=>{"use strict";nU.exports=function(t){return window&&window.process&&window.process.versions?Object.prototype.toString.call(t)==="[object Object]":Object.prototype.toString.call(t)==="[object Object]"&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}});var F_=$((hTt,iU)=>{"use strict";var y9e=mn();iU.exports=function(t,r){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(r[0],r[1]))/Math.LN10;return y9e(n)||(n=Math.log(Math.max(r[0],r[1]))/Math.LN10-6),n}});var sU=$((vTt,oU)=>{"use strict";var aU=wd().isArrayOrTypedArray,hx=G0();oU.exports=function e(t,r){for(var n in r){var i=r[n],a=t[n];if(a!==i)if(n.charAt(0)==="_"||typeof i=="function"){if(n in t)continue;t[n]=i}else if(aU(i)&&aU(a)&&hx(i[0])){if(n==="customdata"||n==="ids")continue;for(var o=Math.min(i.length,a.length),s=0;s<o;s++)a[s]!==i[s]&&hx(i[s])&&hx(a[s])&&e(a[s],i[s])}else hx(i)&&hx(a)&&(e(a,i),Object.keys(a).length||delete t[n])}}});var g1=$((dTt,lU)=>{"use strict";function x9e(e,t){var r=e%t;return r<0?r+t:r}function b9e(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}lU.exports={mod:x9e,modHalf:b9e}});var Ko=$((pTt,N_)=>{(function(e){var t=/^\s+/,r=/\s+$/,n=0,i=e.round,a=e.min,o=e.max,s=e.random;function l(G,Z){if(G=G||"",Z=Z||{},G instanceof l)return G;if(!(this instanceof l))return new l(G,Z);var X=u(G);this._originalInput=G,this._r=X.r,this._g=X.g,this._b=X.b,this._a=X.a,this._roundA=i(100*this._a)/100,this._format=Z.format||X.format,this._gradientType=Z.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=X.ok,this._tc_id=n++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(G.r*299+G.g*587+G.b*114)/1e3},getLuminance:function(){var G=this.toRgb(),Z,X,ge,qe,Pe,Oe;return Z=G.r/255,X=G.g/255,ge=G.b/255,Z<=.03928?qe=Z/12.92:qe=e.pow((Z+.055)/1.055,2.4),X<=.03928?Pe=X/12.92:Pe=e.pow((X+.055)/1.055,2.4),ge<=.03928?Oe=ge/12.92:Oe=e.pow((ge+.055)/1.055,2.4),.2126*qe+.7152*Pe+.0722*Oe},setAlpha:function(G){return this._a=F(G),this._roundA=i(100*this._a)/100,this},toHsv:function(){var G=v(this._r,this._g,this._b);return{h:G.h*360,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=v(this._r,this._g,this._b),Z=i(G.h*360),X=i(G.s*100),ge=i(G.v*100);return this._a==1?"hsv("+Z+", "+X+"%, "+ge+"%)":"hsva("+Z+", "+X+"%, "+ge+"%, "+this._roundA+")"},toHsl:function(){var G=c(this._r,this._g,this._b);return{h:G.h*360,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=c(this._r,this._g,this._b),Z=i(G.h*360),X=i(G.s*100),ge=i(G.l*100);return this._a==1?"hsl("+Z+", "+X+"%, "+ge+"%)":"hsla("+Z+", "+X+"%, "+ge+"%, "+this._roundA+")"},toHex:function(G){return y(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return x(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(N(this._r,255)*100)+"%",g:i(N(this._g,255)*100)+"%",b:i(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(N(this._r,255)*100)+"%, "+i(N(this._g,255)*100)+"%, "+i(N(this._b,255)*100)+"%)":"rgba("+i(N(this._r,255)*100)+"%, "+i(N(this._g,255)*100)+"%, "+i(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:q[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(G){var Z="#"+m(this._r,this._g,this._b,this._a),X=Z,ge=this._gradientType?"GradientType = 1, ":"";if(G){var qe=l(G);X="#"+m(qe._r,qe._g,qe._b,qe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ge+"startColorstr="+Z+",endColorstr="+X+")"},toString:function(G){var Z=!!G;G=G||this._format;var X=!1,ge=this._a<1&&this._a>=0,qe=!Z&&ge&&(G==="hex"||G==="hex6"||G==="hex3"||G==="hex4"||G==="hex8"||G==="name");return qe?G==="name"&&this._a===0?this.toName():this.toRgbString():(G==="rgb"&&(X=this.toRgbString()),G==="prgb"&&(X=this.toPercentageRgbString()),(G==="hex"||G==="hex6")&&(X=this.toHexString()),G==="hex3"&&(X=this.toHexString(!0)),G==="hex4"&&(X=this.toHex8String(!0)),G==="hex8"&&(X=this.toHex8String()),G==="name"&&(X=this.toName()),G==="hsl"&&(X=this.toHslString()),G==="hsv"&&(X=this.toHsvString()),X||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(G,Z){var X=G.apply(null,[this].concat([].slice.call(Z)));return this._r=X._r,this._g=X._g,this._b=X._b,this.setAlpha(X._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(d,arguments)},_applyCombination:function(G,Z){return G.apply(null,[this].concat([].slice.call(Z)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(M,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},l.fromRatio=function(G,Z){if(typeof G=="object"){var X={};for(var ge in G)G.hasOwnProperty(ge)&&(ge==="a"?X[ge]=G[ge]:X[ge]=z(G[ge]));G=X}return l(G,Z)};function u(G){var Z={r:0,g:0,b:0},X=1,ge=null,qe=null,Pe=null,Oe=!1,de=!1;return typeof G=="string"&&(G=fe(G)),typeof G=="object"&&(ve(G.r)&&ve(G.g)&&ve(G.b)?(Z=f(G.r,G.g,G.b),Oe=!0,de=String(G.r).substr(-1)==="%"?"prgb":"rgb"):ve(G.h)&&ve(G.s)&&ve(G.v)?(ge=z(G.s),qe=z(G.v),Z=b(G.h,ge,qe),Oe=!0,de="hsv"):ve(G.h)&&ve(G.s)&&ve(G.l)&&(ge=z(G.s),Pe=z(G.l),Z=h(G.h,ge,Pe),Oe=!0,de="hsl"),G.hasOwnProperty("a")&&(X=G.a)),X=F(X),{ok:Oe,format:G.format||de,r:a(255,o(Z.r,0)),g:a(255,o(Z.g,0)),b:a(255,o(Z.b,0)),a:X}}function f(G,Z,X){return{r:N(G,255)*255,g:N(Z,255)*255,b:N(X,255)*255}}function c(G,Z,X){G=N(G,255),Z=N(Z,255),X=N(X,255);var ge=o(G,Z,X),qe=a(G,Z,X),Pe,Oe,de=(ge+qe)/2;if(ge==qe)Pe=Oe=0;else{var _e=ge-qe;switch(Oe=de>.5?_e/(2-ge-qe):_e/(ge+qe),ge){case G:Pe=(Z-X)/_e+(Z<X?6:0);break;case Z:Pe=(X-G)/_e+2;break;case X:Pe=(G-Z)/_e+4;break}Pe/=6}return{h:Pe,s:Oe,l:de}}function h(G,Z,X){var ge,qe,Pe;G=N(G,360),Z=N(Z,100),X=N(X,100);function Oe(ce,J,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?ce+(J-ce)*6*ne:ne<1/2?J:ne<2/3?ce+(J-ce)*(2/3-ne)*6:ce}if(Z===0)ge=qe=Pe=X;else{var de=X<.5?X*(1+Z):X+Z-X*Z,_e=2*X-de;ge=Oe(_e,de,G+1/3),qe=Oe(_e,de,G),Pe=Oe(_e,de,G-1/3)}return{r:ge*255,g:qe*255,b:Pe*255}}function v(G,Z,X){G=N(G,255),Z=N(Z,255),X=N(X,255);var ge=o(G,Z,X),qe=a(G,Z,X),Pe,Oe,de=ge,_e=ge-qe;if(Oe=ge===0?0:_e/ge,ge==qe)Pe=0;else{switch(ge){case G:Pe=(Z-X)/_e+(Z<X?6:0);break;case Z:Pe=(X-G)/_e+2;break;case X:Pe=(G-Z)/_e+4;break}Pe/=6}return{h:Pe,s:Oe,v:de}}function b(G,Z,X){G=N(G,360)*6,Z=N(Z,100),X=N(X,100);var ge=e.floor(G),qe=G-ge,Pe=X*(1-Z),Oe=X*(1-qe*Z),de=X*(1-(1-qe)*Z),_e=ge%6,ce=[X,Oe,Pe,Pe,de,X][_e],J=[de,X,X,Oe,Pe,Pe][_e],ne=[Pe,Pe,de,X,X,Oe][_e];return{r:ce*255,g:J*255,b:ne*255}}function y(G,Z,X,ge){var qe=[B(i(G).toString(16)),B(i(Z).toString(16)),B(i(X).toString(16))];return ge&&qe[0].charAt(0)==qe[0].charAt(1)&&qe[1].charAt(0)==qe[1].charAt(1)&&qe[2].charAt(0)==qe[2].charAt(1)?qe[0].charAt(0)+qe[1].charAt(0)+qe[2].charAt(0):qe.join("")}function x(G,Z,X,ge,qe){var Pe=[B(i(G).toString(16)),B(i(Z).toString(16)),B(i(X).toString(16)),B(j(ge))];return qe&&Pe[0].charAt(0)==Pe[0].charAt(1)&&Pe[1].charAt(0)==Pe[1].charAt(1)&&Pe[2].charAt(0)==Pe[2].charAt(1)&&Pe[3].charAt(0)==Pe[3].charAt(1)?Pe[0].charAt(0)+Pe[1].charAt(0)+Pe[2].charAt(0)+Pe[3].charAt(0):Pe.join("")}function m(G,Z,X,ge){var qe=[B(j(ge)),B(i(G).toString(16)),B(i(Z).toString(16)),B(i(X).toString(16))];return qe.join("")}l.equals=function(G,Z){return!G||!Z?!1:l(G).toRgbString()==l(Z).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})};function _(G,Z){Z=Z===0?0:Z||10;var X=l(G).toHsl();return X.s-=Z/100,X.s=U(X.s),l(X)}function g(G,Z){Z=Z===0?0:Z||10;var X=l(G).toHsl();return X.s+=Z/100,X.s=U(X.s),l(X)}function A(G){return l(G).desaturate(100)}function w(G,Z){Z=Z===0?0:Z||10;var X=l(G).toHsl();return X.l+=Z/100,X.l=U(X.l),l(X)}function k(G,Z){Z=Z===0?0:Z||10;var X=l(G).toRgb();return X.r=o(0,a(255,X.r-i(255*-(Z/100)))),X.g=o(0,a(255,X.g-i(255*-(Z/100)))),X.b=o(0,a(255,X.b-i(255*-(Z/100)))),l(X)}function p(G,Z){Z=Z===0?0:Z||10;var X=l(G).toHsl();return X.l-=Z/100,X.l=U(X.l),l(X)}function d(G,Z){var X=l(G).toHsl(),ge=(X.h+Z)%360;return X.h=ge<0?360+ge:ge,l(X)}function M(G){var Z=l(G).toHsl();return Z.h=(Z.h+180)%360,l(Z)}function T(G){var Z=l(G).toHsl(),X=Z.h;return[l(G),l({h:(X+120)%360,s:Z.s,l:Z.l}),l({h:(X+240)%360,s:Z.s,l:Z.l})]}function S(G){var Z=l(G).toHsl(),X=Z.h;return[l(G),l({h:(X+90)%360,s:Z.s,l:Z.l}),l({h:(X+180)%360,s:Z.s,l:Z.l}),l({h:(X+270)%360,s:Z.s,l:Z.l})]}function E(G){var Z=l(G).toHsl(),X=Z.h;return[l(G),l({h:(X+72)%360,s:Z.s,l:Z.l}),l({h:(X+216)%360,s:Z.s,l:Z.l})]}function L(G,Z,X){Z=Z||6,X=X||30;var ge=l(G).toHsl(),qe=360/X,Pe=[l(G)];for(ge.h=(ge.h-(qe*Z>>1)+720)%360;--Z;)ge.h=(ge.h+qe)%360,Pe.push(l(ge));return Pe}function D(G,Z){Z=Z||6;for(var X=l(G).toHsv(),ge=X.h,qe=X.s,Pe=X.v,Oe=[],de=1/Z;Z--;)Oe.push(l({h:ge,s:qe,v:Pe})),Pe=(Pe+de)%1;return Oe}l.mix=function(G,Z,X){X=X===0?0:X||50;var ge=l(G).toRgb(),qe=l(Z).toRgb(),Pe=X/100,Oe={r:(qe.r-ge.r)*Pe+ge.r,g:(qe.g-ge.g)*Pe+ge.g,b:(qe.b-ge.b)*Pe+ge.b,a:(qe.a-ge.a)*Pe+ge.a};return l(Oe)},l.readability=function(G,Z){var X=l(G),ge=l(Z);return(e.max(X.getLuminance(),ge.getLuminance())+.05)/(e.min(X.getLuminance(),ge.getLuminance())+.05)},l.isReadable=function(G,Z,X){var ge=l.readability(G,Z),qe,Pe;switch(Pe=!1,qe=se(X),qe.level+qe.size){case"AAsmall":case"AAAlarge":Pe=ge>=4.5;break;case"AAlarge":Pe=ge>=3;break;case"AAAsmall":Pe=ge>=7;break}return Pe},l.mostReadable=function(G,Z,X){var ge=null,qe=0,Pe,Oe,de,_e;X=X||{},Oe=X.includeFallbackColors,de=X.level,_e=X.size;for(var ce=0;ce<Z.length;ce++)Pe=l.readability(G,Z[ce]),Pe>qe&&(qe=Pe,ge=l(Z[ce]));return l.isReadable(G,ge,{level:de,size:_e})||!Oe?ge:(X.includeFallbackColors=!1,l.mostReadable(G,["#fff","#000"],X))};var R=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=l.hexNames=C(R);function C(G){var Z={};for(var X in G)G.hasOwnProperty(X)&&(Z[G[X]]=X);return Z}function F(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function N(G,Z){Y(G)&&(G="100%");var X=K(G);return G=a(Z,o(0,parseFloat(G))),X&&(G=parseInt(G*Z,10)/100),e.abs(G-Z)<1e-6?1:G%Z/parseFloat(Z)}function U(G){return a(1,o(0,G))}function V(G){return parseInt(G,16)}function Y(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1}function K(G){return typeof G=="string"&&G.indexOf("%")!=-1}function B(G){return G.length==1?"0"+G:""+G}function z(G){return G<=1&&(G=G*100+"%"),G}function j(G){return e.round(parseFloat(G)*255).toString(16)}function ae(G){return V(G)/255}var ee=function(){var G="[-\\+]?\\d+%?",Z="[-\\+]?\\d*\\.\\d+%?",X="(?:"+Z+")|(?:"+G+")",ge="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",qe="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?";return{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+ge),rgba:new RegExp("rgba"+qe),hsl:new RegExp("hsl"+ge),hsla:new RegExp("hsla"+qe),hsv:new RegExp("hsv"+ge),hsva:new RegExp("hsva"+qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ve(G){return!!ee.CSS_UNIT.exec(G)}function fe(G){G=G.replace(t,"").replace(r,"").toLowerCase();var Z=!1;if(R[G])G=R[G],Z=!0;else if(G=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var X;return(X=ee.rgb.exec(G))?{r:X[1],g:X[2],b:X[3]}:(X=ee.rgba.exec(G))?{r:X[1],g:X[2],b:X[3],a:X[4]}:(X=ee.hsl.exec(G))?{h:X[1],s:X[2],l:X[3]}:(X=ee.hsla.exec(G))?{h:X[1],s:X[2],l:X[3],a:X[4]}:(X=ee.hsv.exec(G))?{h:X[1],s:X[2],v:X[3]}:(X=ee.hsva.exec(G))?{h:X[1],s:X[2],v:X[3],a:X[4]}:(X=ee.hex8.exec(G))?{r:V(X[1]),g:V(X[2]),b:V(X[3]),a:ae(X[4]),format:Z?"name":"hex8"}:(X=ee.hex6.exec(G))?{r:V(X[1]),g:V(X[2]),b:V(X[3]),format:Z?"name":"hex"}:(X=ee.hex4.exec(G))?{r:V(X[1]+""+X[1]),g:V(X[2]+""+X[2]),b:V(X[3]+""+X[3]),a:ae(X[4]+""+X[4]),format:Z?"name":"hex8"}:(X=ee.hex3.exec(G))?{r:V(X[1]+""+X[1]),g:V(X[2]+""+X[2]),b:V(X[3]+""+X[3]),format:Z?"name":"hex"}:!1}function se(G){var Z,X;return G=G||{level:"AA",size:"small"},Z=(G.level||"AA").toUpperCase(),X=(G.size||"small").toLowerCase(),Z!=="AA"&&Z!=="AAA"&&(Z="AA"),X!=="small"&&X!=="large"&&(X="small"),{level:Z,size:X}}typeof N_<"u"&&N_.exports?N_.exports=l:typeof define=="function"&&define.amd?define(function(){return l}):window.tinycolor=l})(Math)});var Ba=$((gTt,uU)=>{"use strict";uU.exports=function(e){var t=e.editType,r=e.colorEditType;r===void 0&&(r=t);var n={family:{valType:"string",noBlank:!0,strict:!0,editType:t,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:r},editType:t,description:""+(e.description||"")};return e.autoSize&&(n.size.dflt="auto"),e.autoColor&&(n.color.dflt="auto"),e.arrayOk&&(n.family.arrayOk=!0,n.size.arrayOk=!0,n.color.arrayOk=!0),n}});var vx=$((mTt,fU)=>{"use strict";fU.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var dv=$((yTt,vU)=>{"use strict";var cU=vx(),hU=Ba(),X4=hU({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});X4.family.dflt=cU.HOVERFONT;X4.size.dflt=cU.HOVERFONTSIZE;vU.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:X4,grouptitlefont:hU({editType:"none",description:["Sets the font for group titles in hover (unified modes).","Defaults to `hoverlabel.font`."].join(" ")}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}}});var ln=$(gx=>{"use strict";var dU=G0(),dx=Array.isArray;function w9e(e,t){var r,n;for(r=0;r<e.length;r++){if(n=e[r],n!==null&&typeof n=="object")return!1;n!==void 0&&(t[r]=n)}return!0}gx.extendFlat=function(){return px(arguments,!1,!1,!1)};gx.extendDeep=function(){return px(arguments,!0,!1,!1)};gx.extendDeepAll=function(){return px(arguments,!0,!0,!1)};gx.extendDeepNoArrays=function(){return px(arguments,!0,!1,!0)};function px(e,t,r,n){var i=e[0],a=e.length,o,s,l,u,f,c,h;if(a===2&&dx(i)&&dx(e[1])&&i.length===0){if(h=w9e(e[1],i),h)return i;i.splice(0,i.length)}for(var v=1;v<a;v++){o=e[v];for(s in o)l=i[s],u=o[s],n&&dx(u)?i[s]=u:t&&u&&(dU(u)||(f=dx(u)))?(f?(f=!1,c=l&&dx(l)?l:[]):c=l&&dU(l)?l:{},i[s]=px([c,u],t,r,n)):(typeof u<"u"||r)&&(i[s]=u)}return i}});var m1=$((bTt,pU)=>{"use strict";var _9e=Ba(),z_=dv().hoverlabel,O_=ln().extendFlat;pU.exports={hoverlabel:{bgcolor:O_({},z_.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:O_({},z_.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:_9e({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:O_({},z_.align,{arrayOk:!0}),namelength:O_({},z_.namelength,{arrayOk:!0}),editType:"none"}}});var aa=$((wTt,gU)=>{"use strict";var T9e=Ba(),A9e=m1();gU.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style",description:["Sets the title of the legend group."].join(" ")},font:T9e({editType:"style",description:["Sets this legend group's title font."].join(" ")}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style",description:["Sets the legend rank for this trace.","Items and groups with smaller ranks are presented on top/left side while","with `*reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",editType:"style",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:A9e.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc",description:["WARNING: All transforms are deprecated and may be removed from the API in next major version.","An array of operations that manipulate the trace data,","for example filtering or sorting the data arrays."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}}});var Y0=$((_Tt,xU)=>{"use strict";var M9e=Ko(),B_={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},mU=B_.RdBu;function k9e(e,t){if(t||(t=mU),!e)return t;function r(){try{e=B_[e]||JSON.parse(e)}catch{e=t}}return typeof e=="string"&&(r(),typeof e=="string"&&r()),yU(e)?e:t}function yU(e){var t=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var r=0;r<e.length;r++){var n=e[r];if(n.length!==2||+n[0]<t||!M9e(n[1]).isValid())return!1;t=+n[0]}return!0}function S9e(e){return B_[e]!==void 0?!0:yU(e)}xU.exports={scales:B_,defaultScale:mU,get:k9e,isValid:S9e}});var Ro=$(W0=>{"use strict";W0.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];W0.defaultLine="#444";W0.lightLine="#eee";W0.background="#fff";W0.borderLine="#BEC8D9";W0.lightFraction=100*(14-4)/(15-4)});var Rr=$((ATt,bU)=>{"use strict";var qc=Ko(),E9e=mn(),L9e=wd().isTypedArray,ps=bU.exports={},H_=Ro();ps.defaults=H_.defaults;var C9e=ps.defaultLine=H_.defaultLine;ps.lightLine=H_.lightLine;var $4=ps.background=H_.background;ps.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"};ps.rgb=function(e){return ps.tinyRGB(qc(e))};ps.opacity=function(e){return e?qc(e).getAlpha():0};ps.addOpacity=function(e,t){var r=qc(e).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+t+")"};ps.combine=function(e,t){var r=qc(e).toRgb();if(r.a===1)return qc(e).toRgbString();var n=qc(t||$4).toRgb(),i=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},a={r:i.r*(1-r.a)+r.r*r.a,g:i.g*(1-r.a)+r.g*r.a,b:i.b*(1-r.a)+r.b*r.a};return qc(a).toRgbString()};ps.contrast=function(e,t,r){var n=qc(e);n.getAlpha()!==1&&(n=qc(ps.combine(e,$4)));var i=n.isDark()?t?n.lighten(t):$4:r?n.darken(r):C9e;return i.toString()};ps.stroke=function(e,t){var r=qc(t);e.style({stroke:ps.tinyRGB(r),"stroke-opacity":r.getAlpha()})};ps.fill=function(e,t){var r=qc(t);e.style({fill:ps.tinyRGB(r),"fill-opacity":r.getAlpha()})};ps.clean=function(e){if(!(!e||typeof e!="object")){var t=Object.keys(e),r,n,i,a;for(r=0;r<t.length;r++)if(i=t[r],a=e[i],i.substr(i.length-5)==="color")if(Array.isArray(a))for(n=0;n<a.length;n++)a[n]=Z4(a[n]);else e[i]=Z4(a);else if(i.substr(i.length-10)==="colorscale"&&Array.isArray(a))for(n=0;n<a.length;n++)Array.isArray(a[n])&&(a[n][1]=Z4(a[n][1]));else if(Array.isArray(a)){var o=a[0];if(!Array.isArray(o)&&o&&typeof o=="object")for(n=0;n<a.length;n++)ps.clean(a[n])}else a&&typeof a=="object"&&!L9e(a)&&ps.clean(a)}};function Z4(e){if(E9e(e)||typeof e!="string")return e;var t=e.trim();if(t.substr(0,3)!=="rgb")return e;var r=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return e;var n=r[1].trim().split(/\s*[\s,]\s*/),i=t.charAt(3)==="a"&&n.length===4;if(!i&&n.length!==3)return e;for(var a=0;a<n.length;a++){if(!n[a].length||(n[a]=Number(n[a]),!(n[a]>=0)))return e;if(a===3)n[a]>1&&(n[a]=1);else if(n[a]>=1)return e}var o=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return i?"rgba("+o+", "+n[3]+")":"rgb("+o+")"}});var y1=$((MTt,wU)=>{"use strict";wU.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var x1=$(_U=>{"use strict";_U.counter=function(e,t,r,n){var i=(t||"")+(r?"":"$"),a=n===!1?"":"^";return e==="xy"?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+e+"([2-9]|[1-9][0-9]+)?"+i)}});var kU=$(wu=>{"use strict";var K4=mn(),TU=Ko(),D9e=aa(),AU=Y0(),q9e=Rr(),R9e=y1().DESELECTDIM,b1=cx(),MU=x1().counter,I9e=g1().modHalf,j_=wd().isArrayOrTypedArray;wu.valObjectMeta={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it.","Note that typed arrays (e.g. Float32Array) are supported."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,r){j_(e)?t.set(e):r!==void 0&&t.set(r)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(e,t,r,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?t.set(r):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var r=t.values,n=0;n<r.length;n++){var i=String(r[n]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var a=new RegExp(i.substr(1,i.length-2));if(a.test(e))return!0}else if(e===r[n])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,r){e===!0||e===!1?t.set(e):t.set(r)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,r,n){!K4(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?t.set(r):t.set(+e)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,r,n){e%1||!K4(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?t.set(r):t.set(+e)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(e,t,r,n){if(typeof e!="string"){var i=typeof e=="number";n.strict===!0||!i?t.set(r):t.set(String(e))}else n.noBlank&&!e?t.set(r):t.set(e)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(e,t,r){TU(e).isValid()?t.set(e):t.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,r){function n(i){return TU(i).isValid()}!Array.isArray(e)||!e.length?t.set(r):e.every(n)?t.set(e):t.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(AU.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,r){t.set(AU.get(e,r))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,r){e==="auto"?t.set("auto"):K4(e)?t.set(I9e(+e,360)):t.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(e,t,r,n){var i=n.regex||MU(r);if(typeof e=="string"&&i.test(e)){t.set(e);return}t.set(r)},validateFunction:function(e,t){var r=t.dflt;return e===r?!0:typeof e!="string"?!1:!!MU(r).test(e)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(e,t,r,n){if((n.extras||[]).indexOf(e)!==-1){t.set(e);return}if(typeof e!="string"){t.set(r);return}for(var i=e.split("+"),a=0;a<i.length;){var o=i[a];n.flags.indexOf(o)===-1||i.indexOf(o)<a?i.splice(a,1):a++}i.length?t.set(i.join("+")):t.set(r)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(e,t,r){e===void 0?t.set(r):t.set(e)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(e,t,r,n){function i(_,g,A){var w,k={set:function(p){w=p}};return A===void 0&&(A=g.dflt),wu.valObjectMeta[g.valType].coerceFunction(_,k,A,g),w}var a=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&Array.isArray(e[0]);if(!Array.isArray(e)){t.set(r);return}var o=n.items,s=[],l=Array.isArray(o),u=l&&a&&Array.isArray(o[0]),f=a&&l&&!u,c=l&&!f?o.length:e.length,h,v,b,y,x,m;if(r=Array.isArray(r)?r:[],a)for(h=0;h<c;h++)for(s[h]=[],b=Array.isArray(e[h])?e[h]:[],f?x=o.length:l?x=o[h].length:x=b.length,v=0;v<x;v++)f?y=o[v]:l?y=o[h][v]:y=o,m=i(b[v],y,(r[h]||[])[v]),m!==void 0&&(s[h][v]=m);else for(h=0;h<c;h++)m=i(e[h],l?o[h]:o,r[h]),m!==void 0&&(s[h]=m);t.set(s)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var r=t.items,n=Array.isArray(r),i=t.dimensions===2;if(!t.freeLength&&e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(i){if(!Array.isArray(e[a])||!t.freeLength&&e[a].length!==r[a].length)return!1;for(var o=0;o<e[a].length;o++)if(!U_(e[a][o],n?r[a][o]:r))return!1}else if(!U_(e[a],n?r[a]:r))return!1;return!0}}};wu.coerce=function(e,t,r,n,i){var a=b1(r,n).get(),o=b1(e,n),s=b1(t,n),l=o.get(),u=t._template;if(l===void 0&&u&&(l=b1(u,n).get(),u=0),i===void 0&&(i=a.dflt),a.arrayOk&&j_(l))return s.set(l),l;var f=wu.valObjectMeta[a.valType].coerceFunction;f(l,s,i,a);var c=s.get();return u&&c===i&&!U_(l,a)&&(l=b1(u,n).get(),f(l,s,i,a),c=s.get()),c};wu.coerce2=function(e,t,r,n,i){var a=b1(e,n),o=wu.coerce(e,t,r,n,i),s=a.get();return s!=null?o:!1};wu.coerceFont=function(e,t,r){var n={};return r=r||{},n.family=e(t+".family",r.family),n.size=e(t+".size",r.size),n.color=e(t+".color",r.color),n};wu.coercePattern=function(e,t,r,n){var i=e(t+".shape");if(i){e(t+".solidity"),e(t+".size");var a=e(t+".fillmode"),o=a==="overlay";if(!n){var s=e(t+".bgcolor",o?r:void 0);e(t+".fgcolor",o?q9e.contrast(s):r)}e(t+".fgopacity",o?.5:1)}};wu.coerceHoverinfo=function(e,t,r){var n=t._module.attributes,i=n.hoverinfo?n:D9e,a=i.hoverinfo,o;if(r._dataLength===1){var s=a.dflt==="all"?a.flags.slice():a.dflt.split("+");s.splice(s.indexOf("name"),1),o=s.join("+")}return wu.coerce(e,t,i,"hoverinfo",o)};wu.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var r=e.marker.opacity;if(r!==void 0){var n,i;!j_(r)&&!e.selected&&!e.unselected&&(n=r,i=R9e*r),t("selected.marker.opacity",n),t("unselected.marker.opacity",i)}}};function U_(e,t){var r=wu.valObjectMeta[t.valType];if(t.arrayOk&&j_(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var n={},i=n,a={set:function(o){i=o}};return r.coerceFunction(e,a,n,t),i!==n}wu.validate=U_});var X0=$((ETt,CU)=>{"use strict";var SU={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},typesetMath:{valType:"boolean",dflt:!0,description:["Determines whether math should be typeset or not,","when MathJax (either v2 or v3) is present on the page."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},editSelection:{valType:"boolean",dflt:!0,description:"Enables moving selections."},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo and mapbox subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo and mapbox) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export.","This config option was formerly named `plot3dPixelRatio`","which is now deprecated."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},globalTransforms:{valType:"any",dflt:[],description:["Set global transform to be applied to all traces with no","specification needed"].join(" ")},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},EU={};function LU(e,t){for(var r in e){var n=e[r];n.valType?t[r]=n.dflt:(t[r]||(t[r]={}),LU(n,t[r]))}}LU(SU,EU);CU.exports={configAttributes:SU,dfltConfig:EU}});var Q4=$((LTt,DU)=>{"use strict";var J4=Nr(),P9e=mn(),mx=[];DU.exports=function(e,t){if(mx.indexOf(e)!==-1)return;mx.push(e);var r=1e3;P9e(t)?r=t:t==="long"&&(r=3e3);var n=J4.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var i=n.selectAll(".notifier-note").data(mx);function a(o){o.duration(700).style("opacity",0).each("end",function(s){var l=mx.indexOf(s);l!==-1&&mx.splice(l,1),J4.select(this).remove()})}i.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var s=J4.select(this);s.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){s.transition().call(a)});for(var l=s.append("p"),u=o.split(/<br\s*\/?>/g),f=0;f<u.length;f++)f&&l.append("br"),l.append("span").text(u[f]);t==="stick"?s.transition().duration(350).style("opacity",1):s.transition().duration(700).style("opacity",1).transition().delay(r).call(a)})}});var _d=$((CTt,qU)=>{"use strict";var w1=X0().dfltConfig,eE=Q4(),tE=qU.exports={};tE.log=function(){var e;if(w1.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(w1.notifyOnLogging>1){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);eE(r.join("<br>"),"long")}};tE.warn=function(){var e;if(w1.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(w1.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);eE(r.join("<br>"),"stick")}};tE.error=function(){var e;if(w1.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}if(w1.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);eE(r.join("<br>"),"stick")}}});var V_=$((DTt,RU)=>{"use strict";RU.exports=function(){}});var rE=$((qTt,IU)=>{"use strict";IU.exports=function(t,r){if(r instanceof RegExp){for(var n=r.toString(),i=0;i<t.length;i++)if(t[i]instanceof RegExp&&t[i].toString()===n)return t;t.push(r)}else(r||r===0)&&t.indexOf(r)===-1&&t.push(r);return t}});var FU=$((RTt,PU)=>{PU.exports=F9e;function F9e(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var zU=$((ITt,NU)=>{NU.exports=N9e;function N9e(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}});var BU=$((PTt,OU)=>{OU.exports=z9e;function z9e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}});var nE=$((FTt,HU)=>{HU.exports=O9e;function O9e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var jU=$((NTt,UU)=>{UU.exports=B9e;function B9e(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}});var GU=$((zTt,VU)=>{VU.exports=H9e;function H9e(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],f=t[8],c=t[9],h=t[10],v=t[11],b=t[12],y=t[13],x=t[14],m=t[15],_=r*s-n*o,g=r*l-i*o,A=r*u-a*o,w=n*l-i*s,k=n*u-a*s,p=i*u-a*l,d=f*y-c*b,M=f*x-h*b,T=f*m-v*b,S=c*x-h*y,E=c*m-v*y,L=h*m-v*x,D=_*L-g*E+A*S+w*T-k*M+p*d;return D?(D=1/D,e[0]=(s*L-l*E+u*S)*D,e[1]=(i*E-n*L-a*S)*D,e[2]=(y*p-x*k+m*w)*D,e[3]=(h*k-c*p-v*w)*D,e[4]=(l*T-o*L-u*M)*D,e[5]=(r*L-i*T+a*M)*D,e[6]=(x*A-b*p-m*g)*D,e[7]=(f*p-h*A+v*g)*D,e[8]=(o*E-s*T+u*d)*D,e[9]=(n*T-r*E-a*d)*D,e[10]=(b*k-y*A+m*_)*D,e[11]=(c*A-f*k-v*_)*D,e[12]=(s*M-o*S-l*d)*D,e[13]=(r*S-n*M+i*d)*D,e[14]=(y*g-b*w-x*_)*D,e[15]=(f*w-c*g+h*_)*D,e):null}});var WU=$((OTt,YU)=>{YU.exports=U9e;function U9e(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],f=t[8],c=t[9],h=t[10],v=t[11],b=t[12],y=t[13],x=t[14],m=t[15];return e[0]=s*(h*m-v*x)-c*(l*m-u*x)+y*(l*v-u*h),e[1]=-(n*(h*m-v*x)-c*(i*m-a*x)+y*(i*v-a*h)),e[2]=n*(l*m-u*x)-s*(i*m-a*x)+y*(i*u-a*l),e[3]=-(n*(l*v-u*h)-s*(i*v-a*h)+c*(i*u-a*l)),e[4]=-(o*(h*m-v*x)-f*(l*m-u*x)+b*(l*v-u*h)),e[5]=r*(h*m-v*x)-f*(i*m-a*x)+b*(i*v-a*h),e[6]=-(r*(l*m-u*x)-o*(i*m-a*x)+b*(i*u-a*l)),e[7]=r*(l*v-u*h)-o*(i*v-a*h)+f*(i*u-a*l),e[8]=o*(c*m-v*y)-f*(s*m-u*y)+b*(s*v-u*c),e[9]=-(r*(c*m-v*y)-f*(n*m-a*y)+b*(n*v-a*c)),e[10]=r*(s*m-u*y)-o*(n*m-a*y)+b*(n*u-a*s),e[11]=-(r*(s*v-u*c)-o*(n*v-a*c)+f*(n*u-a*s)),e[12]=-(o*(c*x-h*y)-f*(s*x-l*y)+b*(s*h-l*c)),e[13]=r*(c*x-h*y)-f*(n*x-i*y)+b*(n*h-i*c),e[14]=-(r*(s*x-l*y)-o*(n*x-i*y)+b*(n*l-i*s)),e[15]=r*(s*h-l*c)-o*(n*h-i*c)+f*(n*l-i*s),e}});var ZU=$((BTt,XU)=>{XU.exports=j9e;function j9e(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],f=e[9],c=e[10],h=e[11],v=e[12],b=e[13],y=e[14],x=e[15],m=t*o-r*a,_=t*s-n*a,g=t*l-i*a,A=r*s-n*o,w=r*l-i*o,k=n*l-i*s,p=u*b-f*v,d=u*y-c*v,M=u*x-h*v,T=f*y-c*b,S=f*x-h*b,E=c*x-h*y;return m*E-_*S+g*T+A*M-w*d+k*p}});var KU=$((HTt,$U)=>{$U.exports=V9e;function V9e(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],f=t[7],c=t[8],h=t[9],v=t[10],b=t[11],y=t[12],x=t[13],m=t[14],_=t[15],g=r[0],A=r[1],w=r[2],k=r[3];return e[0]=g*n+A*s+w*c+k*y,e[1]=g*i+A*l+w*h+k*x,e[2]=g*a+A*u+w*v+k*m,e[3]=g*o+A*f+w*b+k*_,g=r[4],A=r[5],w=r[6],k=r[7],e[4]=g*n+A*s+w*c+k*y,e[5]=g*i+A*l+w*h+k*x,e[6]=g*a+A*u+w*v+k*m,e[7]=g*o+A*f+w*b+k*_,g=r[8],A=r[9],w=r[10],k=r[11],e[8]=g*n+A*s+w*c+k*y,e[9]=g*i+A*l+w*h+k*x,e[10]=g*a+A*u+w*v+k*m,e[11]=g*o+A*f+w*b+k*_,g=r[12],A=r[13],w=r[14],k=r[15],e[12]=g*n+A*s+w*c+k*y,e[13]=g*i+A*l+w*h+k*x,e[14]=g*a+A*u+w*v+k*m,e[15]=g*o+A*f+w*b+k*_,e}});var QU=$((UTt,JU)=>{JU.exports=G9e;function G9e(e,t,r){var n=r[0],i=r[1],a=r[2],o,s,l,u,f,c,h,v,b,y,x,m;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*a+t[12],e[13]=t[1]*n+t[5]*i+t[9]*a+t[13],e[14]=t[2]*n+t[6]*i+t[10]*a+t[14],e[15]=t[3]*n+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],f=t[4],c=t[5],h=t[6],v=t[7],b=t[8],y=t[9],x=t[10],m=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=f,e[5]=c,e[6]=h,e[7]=v,e[8]=b,e[9]=y,e[10]=x,e[11]=m,e[12]=o*n+f*i+b*a+t[12],e[13]=s*n+c*i+y*a+t[13],e[14]=l*n+h*i+x*a+t[14],e[15]=u*n+v*i+m*a+t[15]),e}});var tj=$((jTt,ej)=>{ej.exports=Y9e;function Y9e(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}});var nj=$((VTt,rj)=>{rj.exports=W9e;function W9e(e,t,r,n){var i=n[0],a=n[1],o=n[2],s=Math.sqrt(i*i+a*a+o*o),l,u,f,c,h,v,b,y,x,m,_,g,A,w,k,p,d,M,T,S,E,L,D,R;return Math.abs(s)<1e-6?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(r),u=Math.cos(r),f=1-u,c=t[0],h=t[1],v=t[2],b=t[3],y=t[4],x=t[5],m=t[6],_=t[7],g=t[8],A=t[9],w=t[10],k=t[11],p=i*i*f+u,d=a*i*f+o*l,M=o*i*f-a*l,T=i*a*f-o*l,S=a*a*f+u,E=o*a*f+i*l,L=i*o*f+a*l,D=a*o*f-i*l,R=o*o*f+u,e[0]=c*p+y*d+g*M,e[1]=h*p+x*d+A*M,e[2]=v*p+m*d+w*M,e[3]=b*p+_*d+k*M,e[4]=c*T+y*S+g*E,e[5]=h*T+x*S+A*E,e[6]=v*T+m*S+w*E,e[7]=b*T+_*S+k*E,e[8]=c*L+y*D+g*R,e[9]=h*L+x*D+A*R,e[10]=v*L+m*D+w*R,e[11]=b*L+_*D+k*R,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}});var aj=$((GTt,ij)=>{ij.exports=X9e;function X9e(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],f=t[9],c=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+f*n,e[6]=s*i+c*n,e[7]=l*i+h*n,e[8]=u*i-a*n,e[9]=f*i-o*n,e[10]=c*i-s*n,e[11]=h*i-l*n,e}});var sj=$((YTt,oj)=>{oj.exports=Z9e;function Z9e(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],f=t[9],c=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=o*i-f*n,e[2]=s*i-c*n,e[3]=l*i-h*n,e[8]=a*n+u*i,e[9]=o*n+f*i,e[10]=s*n+c*i,e[11]=l*n+h*i,e}});var uj=$((WTt,lj)=>{lj.exports=$9e;function $9e(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],f=t[5],c=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+f*n,e[2]=s*i+c*n,e[3]=l*i+h*n,e[4]=u*i-a*n,e[5]=f*i-o*n,e[6]=c*i-s*n,e[7]=h*i-l*n,e}});var cj=$((XTt,fj)=>{fj.exports=K9e;function K9e(e,t,r){var n,i,a,o=r[0],s=r[1],l=r[2],u=Math.sqrt(o*o+s*s+l*l);return Math.abs(u)<1e-6?null:(u=1/u,o*=u,s*=u,l*=u,n=Math.sin(t),i=Math.cos(t),a=1-i,e[0]=o*o*a+i,e[1]=s*o*a+l*n,e[2]=l*o*a-s*n,e[3]=0,e[4]=o*s*a-l*n,e[5]=s*s*a+i,e[6]=l*s*a+o*n,e[7]=0,e[8]=o*l*a+s*n,e[9]=s*l*a-o*n,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var vj=$((ZTt,hj)=>{hj.exports=J9e;function J9e(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,l=i+i,u=a+a,f=n*s,c=n*l,h=n*u,v=i*l,b=i*u,y=a*u,x=o*s,m=o*l,_=o*u;return e[0]=1-(v+y),e[1]=c+_,e[2]=h-m,e[3]=0,e[4]=c-_,e[5]=1-(f+y),e[6]=b+x,e[7]=0,e[8]=h+m,e[9]=b-x,e[10]=1-(f+v),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var pj=$(($Tt,dj)=>{dj.exports=Q9e;function Q9e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var mj=$((KTt,gj)=>{gj.exports=eFe;function eFe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var xj=$((JTt,yj)=>{yj.exports=tFe;function tFe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var wj=$((QTt,bj)=>{bj.exports=rFe;function rFe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var Tj=$((eAt,_j)=>{_j.exports=nFe;function nFe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var iE=$((tAt,Aj)=>{Aj.exports=iFe;function iFe(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,l=i+i,u=r*o,f=n*o,c=n*s,h=i*o,v=i*s,b=i*l,y=a*o,x=a*s,m=a*l;return e[0]=1-c-b,e[1]=f+m,e[2]=h-x,e[3]=0,e[4]=f-m,e[5]=1-u-b,e[6]=v+y,e[7]=0,e[8]=h+x,e[9]=v-y,e[10]=1-u-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var kj=$((rAt,Mj)=>{Mj.exports=aFe;function aFe(e,t,r,n,i,a,o){var s=1/(r-t),l=1/(i-n),u=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}});var Ej=$((nAt,Sj)=>{Sj.exports=oFe;function oFe(e,t,r,n,i){var a=1/Math.tan(t/2),o=1/(n-i);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*o,e[15]=0,e}});var Cj=$((iAt,Lj)=>{Lj.exports=sFe;function sFe(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((o-s)*l*.5),e[9]=(i-a)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}});var qj=$((aAt,Dj)=>{Dj.exports=lFe;function lFe(e,t,r,n,i,a,o){var s=1/(t-r),l=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(o+a)*u,e[15]=1,e}});var Ij=$((oAt,Rj)=>{var uFe=nE();Rj.exports=fFe;function fFe(e,t,r,n){var i,a,o,s,l,u,f,c,h,v,b=t[0],y=t[1],x=t[2],m=n[0],_=n[1],g=n[2],A=r[0],w=r[1],k=r[2];return Math.abs(b-A)<1e-6&&Math.abs(y-w)<1e-6&&Math.abs(x-k)<1e-6?uFe(e):(f=b-A,c=y-w,h=x-k,v=1/Math.sqrt(f*f+c*c+h*h),f*=v,c*=v,h*=v,i=_*h-g*c,a=g*f-m*h,o=m*c-_*f,v=Math.sqrt(i*i+a*a+o*o),v?(v=1/v,i*=v,a*=v,o*=v):(i=0,a=0,o=0),s=c*o-h*a,l=h*i-f*o,u=f*a-c*i,v=Math.sqrt(s*s+l*l+u*u),v?(v=1/v,s*=v,l*=v,u*=v):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=c,e[7]=0,e[8]=o,e[9]=u,e[10]=h,e[11]=0,e[12]=-(i*b+a*y+o*x),e[13]=-(s*b+l*y+u*x),e[14]=-(f*b+c*y+h*x),e[15]=1,e)}});var Fj=$((sAt,Pj)=>{Pj.exports=cFe;function cFe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var aE=$((lAt,Nj)=>{Nj.exports={create:FU(),clone:zU(),copy:BU(),identity:nE(),transpose:jU(),invert:GU(),adjoint:WU(),determinant:ZU(),multiply:KU(),translate:QU(),scale:tj(),rotate:nj(),rotateX:aj(),rotateY:sj(),rotateZ:uj(),fromRotation:cj(),fromRotationTranslation:vj(),fromScaling:pj(),fromTranslation:mj(),fromXRotation:xj(),fromYRotation:wj(),fromZRotation:Tj(),fromQuat:iE(),frustum:kj(),perspective:Ej(),perspectiveFromFieldOfView:Cj(),ortho:qj(),lookAt:Ij(),str:Fj()}});var G_=$(no=>{"use strict";var hFe=aE();no.init2dArray=function(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=new Array(t);return r};no.transposeRagged=function(e){var t=0,r=e.length,n,i;for(n=0;n<r;n++)t=Math.max(t,e[n].length);var a=new Array(t);for(n=0;n<t;n++)for(a[n]=new Array(r),i=0;i<r;i++)a[n][i]=e[i][n];return a};no.dot=function(e,t){if(!(e.length&&t.length)||e.length!==t.length)return null;var r=e.length,n,i;if(e[0].length)for(n=new Array(r),i=0;i<r;i++)n[i]=no.dot(e[i],t);else if(t[0].length){var a=no.transposeRagged(t);for(n=new Array(a.length),i=0;i<a.length;i++)n[i]=no.dot(e,a[i])}else for(n=0,i=0;i<r;i++)n+=e[i]*t[i];return n};no.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};no.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]};no.rotationXYMatrix=function(e,t,r){return no.dot(no.dot(no.translationMatrix(t,r),no.rotationMatrix(e)),no.translationMatrix(-t,-r))};no.apply3DTransform=function(e){return function(){var t=arguments,r=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return no.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}};no.apply2DTransform=function(e){return function(){var t=arguments;t.length===3&&(t=t[0]);var r=arguments.length===1?t[0]:[t[0],t[1]];return no.dot(e,[r[0],r[1],1]).slice(0,2)}};no.apply2DTransform2=function(e){var t=no.apply2DTransform(e);return function(r){return t(r.slice(0,2)).concat(t(r.slice(2,4)))}};no.convertCssMatrix=function(e){if(e){var t=e.length;if(t===16)return e;if(t===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};no.inverseTransformMatrix=function(e){var t=[];return hFe.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}});var Y_=$((fAt,Uj)=>{"use strict";var vFe=Nr(),dFe=_d(),pFe=G_(),gFe=aE();function mFe(e){var t;if(typeof e=="string"){if(t=document.getElementById(e),t===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function yFe(e){var t=vFe.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")}function zj(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function xFe(e,t){Oj("global",e,t)}function Oj(e,t,r){var n="plotly.js-style-"+e,i=document.getElementById(n);i||(i=document.createElement("style"),i.setAttribute("id",n),i.appendChild(document.createTextNode("")),document.head.appendChild(i));var a=i.sheet;a.insertRule?a.insertRule(t+"{"+r+"}",0):a.addRule?a.addRule(t,r,0):dFe.warn("addStyleRule failed")}function bFe(e){var t="plotly.js-style-"+e,r=document.getElementById(t);r&&zj(r)}function wFe(e){var t=Hj(e),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(n){var i=Bj(n);if(i){var a=pFe.convertCssMatrix(i);r=gFe.multiply(r,r,a)}}),r}function Bj(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return r==="none"?null:r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function Hj(e){for(var t=[];_Fe(e);)t.push(e),e=e.parentNode;return t}function _Fe(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function TFe(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}Uj.exports={getGraphDiv:mFe,isPlotDiv:yFe,removeElement:zj,addStyleRule:xFe,addRelatedStyleRule:Oj,deleteRelatedStyleRule:bFe,getFullTransformMatrix:wFe,getElementTransformMatrix:Bj,getElementAndAncestors:Hj,equalDomRects:TFe}});var yx=$((cAt,jj)=>{"use strict";jj.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}}});var Ul=$(oE=>{"use strict";oE.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")};oE.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style",description:["Sets the shape of the pattern fill.","By default, no pattern is used for filling the area."].join(" ")},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style",description:["Determines whether `marker.color` should be used","as a default to `bgcolor` or a `fgcolor`."].join(" ")},bgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of background pattern fill.","Defaults to a `marker.color` background when `fillmode` is *overlay*.","Otherwise, defaults to a transparent background."].join(" ")},fgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of foreground pattern fill.","Defaults to a `marker.color` background when `fillmode` is *replace*.","Otherwise, defaults to dark grey or white","to increase contrast with the `bgcolor`."].join(" ")},fgopacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the foreground pattern fill.","Defaults to a 0.5 when `fillmode` is *overlay*.","Otherwise, defaults to 1."].join(" ")},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style",description:["Sets the size of unit squares of the pattern fill in pixels,","which corresponds to the interval of repetition of the pattern."].join(" ")},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style",description:["Sets the solidity of the pattern fill.","Solidity is roughly the fraction of the area filled by the pattern.","Solidity of 0 shows only the background color without pattern","and solidty of 1 shows only the foreground color without pattern."].join(" ")},editType:"style",description:["Sets the pattern within the marker."].join(" ")}});var Gj=$((vAt,Vj)=>{"use strict";var AFe=Ul().dash,MFe=ln().extendFlat;Vj.exports={newshape:{line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,editType:"none",description:"Sets the line width (in px)."},dash:MFe({},AFe,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none",description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none",description:"Specifies whether new shapes are drawn below or above traces."},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active shape."},editType:"none"}}});var Wj=$((dAt,Yj)=>{"use strict";var kFe=Ul().dash,SFe=ln().extendFlat;Yj.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none",description:["Describes how a new selection is created.","If `immediate`, a new selection is created after first mouse up.","If `gradual`, a new selection is not created after first mouse.","By adding to and subtracting from the initial selection,","this option allows declaring extra outlines of the selection."].join(" ")},line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:1,dflt:1,editType:"none",description:"Sets the line width (in px)."},dash:SFe({},kFe,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:"Sets the color filling the active selection' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active selection."},editType:"none"}}});var W_=$((pAt,Xj)=>{"use strict";Xj.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) on the left side of the component."},editType:t}}});var Z0=$((gAt,Jj)=>{"use strict";var sE=Ba(),EFe=yx(),X_=Ro(),Zj=Gj(),$j=Wj(),LFe=W_(),Kj=ln().extendFlat,Z_=sE({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});Z_.family.dflt='"Open Sans", verdana, arial, sans-serif';Z_.size.dflt=12;Z_.color.dflt=X_.defaultLine;Jj.exports={font:Z_,title:{text:{valType:"string",editType:"layoutstyle",description:["Sets the plot's title.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:sE({editType:"layoutstyle",description:["Sets the title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:Kj(LFe({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:X_.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:X_.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:X_.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:Zj.newshape,activeshape:Zj.activeshape,newselection:$j.newselection,activeselection:$j.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:Kj({},EFe.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the contents of the title, please use `title.text` now."].join(" ")},titlefont:sE({editType:"layoutstyle",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}}});var Ir=$(Mn=>{"use strict";var _1=_d(),Qj=V_(),eV=rE(),CFe=G0(),DFe=Y_().addStyleRule,tV=ln(),qFe=aa(),RFe=Z0(),IFe=tV.extendFlat,$_=tV.extendDeepAll;Mn.modules={};Mn.allCategories={};Mn.allTypes=[];Mn.subplotsRegistry={};Mn.transformsRegistry={};Mn.componentsRegistry={};Mn.layoutArrayContainers=[];Mn.layoutArrayRegexes=[];Mn.traceLayoutAttributes={};Mn.localeRegistry={};Mn.apiMethodRegistry={};Mn.collectableSubplotTypes=null;Mn.register=function(t){if(Mn.collectableSubplotTypes=null,t)t&&!Array.isArray(t)&&(t=[t]);else throw new Error("No argument passed to Plotly.register.");for(var r=0;r<t.length;r++){var n=t[r];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":PFe(n);break;case"transform":zFe(n);break;case"component":NFe(n);break;case"locale":OFe(n);break;case"apiMethod":var i=n.name;Mn.apiMethodRegistry[i]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Mn.getModule=function(e){var t=Mn.modules[oV(e)];return t?t._module:!1};Mn.traceIs=function(e,t){if(e=oV(e),e==="various")return!1;var r=Mn.modules[e];return r||(e&&_1.log("Unrecognized trace type "+e+"."),r=Mn.modules[qFe.type.dflt]),!!r.categories[t]};Mn.getTransformIndices=function(e,t){for(var r=[],n=e.transforms||[],i=0;i<n.length;i++)n[i].type===t&&r.push(i);return r};Mn.hasTransform=function(e,t){for(var r=e.transforms||[],n=0;n<r.length;n++)if(r[n].type===t)return!0;return!1};Mn.getComponentMethod=function(e,t){var r=Mn.componentsRegistry[e];return r&&r[t]||Qj};Mn.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return Mn.apiMethodRegistry[e].apply(null,t)};function PFe(e){var t=e.name,r=e.categories,n=e.meta;if(Mn.modules[t]){_1.log("Type "+t+" already registered");return}Mn.subplotsRegistry[e.basePlotModule.name]||FFe(e.basePlotModule);for(var i={},a=0;a<r.length;a++)i[r[a]]=!0,Mn.allCategories[r[a]]=!0;Mn.modules[t]={_module:e,categories:i},n&&Object.keys(n).length&&(Mn.modules[t].meta=n),Mn.allTypes.push(t);for(var o in Mn.componentsRegistry)nV(o,t);e.layoutAttributes&&IFe(Mn.traceLayoutAttributes,e.layoutAttributes);var s=e.basePlotModule,l=s.name;if(l==="mapbox"){var u=s.constants.styleRules;for(var f in u)DFe(".js-plotly-plot .plotly .mapboxgl-"+f,u[f])}(l==="geo"||l==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function FFe(e){var t=e.name;if(Mn.subplotsRegistry[t]){_1.log("Plot type "+t+" already registered.");return}rV(e),Mn.subplotsRegistry[t]=e;for(var r in Mn.componentsRegistry)aV(r,e.name)}function NFe(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var t=e.name;Mn.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&eV(Mn.layoutArrayContainers,t),rV(e));for(var r in Mn.modules)nV(t,r);for(var n in Mn.subplotsRegistry)aV(t,n);for(var i in Mn.transformsRegistry)iV(t,i);e.schema&&e.schema.layout&&$_(RFe,e.schema.layout)}function zFe(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,r=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!r&&!n)throw new Error(t+" is missing a *transform* or *calcTransform* method.");r&&n&&_1.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),CFe(e.attributes)||_1.log(t+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&_1.log(t+" registered without a *supplyDefaults* method."),Mn.transformsRegistry[e.name]=e;for(var i in Mn.componentsRegistry)iV(i,e.name)}function OFe(e){var t=e.name,r=t.split("-")[0],n=e.dictionary,i=e.format,a=n&&Object.keys(n).length,o=i&&Object.keys(i).length,s=Mn.localeRegistry,l=s[t];if(l||(s[t]=l={}),r!==t){var u=s[r];u||(s[r]=u={}),a&&u.dictionary===l.dictionary&&(u.dictionary=n),o&&u.format===l.format&&(u.format=i)}a&&(l.dictionary=n),o&&(l.format=i)}function rV(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)eV(Mn.layoutArrayRegexes,t[r])}}function nV(e,t){var r=Mn.componentsRegistry[e].schema;if(!(!r||!r.traces)){var n=r.traces[t];n&&$_(Mn.modules[t]._module.attributes,n)}}function iV(e,t){var r=Mn.componentsRegistry[e].schema;if(!(!r||!r.transforms)){var n=r.transforms[t];n&&$_(Mn.transformsRegistry[t].attributes,n)}}function aV(e,t){var r=Mn.componentsRegistry[e].schema;if(!(!r||!r.subplots)){var n=Mn.subplotsRegistry[t],i=n.layoutAttributes,a=n.attr==="subplot"?n.name:n.attr;Array.isArray(a)&&(a=a[0]);var o=r.subplots[a];i&&o&&$_(i,o)}}function oV(e){return typeof e=="object"&&(e=e.type),e}});var pV=$(io=>{"use strict";var BFe=d1().timeFormat,vV=mn(),lE=_d(),Ad=g1().mod,M1=Zn(),qf=M1.BADNUM,_u=M1.ONEDAY,xx=M1.ONEHOUR,Td=M1.ONEMIN,A1=M1.ONESEC,bx=M1.EPOCHJD,pv=Ir(),sV=d1().utcFormat,HFe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,UFe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,lV=new Date().getFullYear()-70;function gv(e){return e&&pv.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}io.dateTick0=function(e,t){var r=jFe(e,!!t);if(t<2)return r;var n=io.dateTime2ms(r,e);return n+=_u*(t-1),io.ms2DateTime(n,0,e)};function jFe(e,t){return gv(e)?t?pv.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:pv.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"}io.dfltRange=function(e){return gv(e)?pv.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};io.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var J_,Q_;io.dateTime2ms=function(e,t){if(io.isJSDate(e)){var r=e.getTimezoneOffset()*Td,n=(e.getUTCMinutes()-e.getMinutes())*Td+(e.getUTCSeconds()-e.getSeconds())*A1+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var i=3*Td;r=r-i/2+Ad(n-r+i/2,i)}return e=Number(e)-r,e>=J_&&e<=Q_?e:qf}if(typeof e!="string"&&typeof e!="number")return qf;e=String(e);var a=gv(t),o=e.charAt(0);a&&(o==="G"||o==="g")&&(e=e.substr(1),t="");var s=a&&t.substr(0,7)==="chinese",l=e.match(s?UFe:HFe);if(!l)return qf;var u=l[1],f=l[3]||"1",c=Number(l[5]||1),h=Number(l[7]||0),v=Number(l[9]||0),b=Number(l[11]||0);if(a){if(u.length===2)return qf;u=Number(u);var y;try{var x=pv.getComponentMethod("calendars","getCal")(t);if(s){var m=f.charAt(f.length-1)==="i";f=parseInt(f,10),y=x.newDate(u,x.toMonthIndex(u,f,m),c)}else y=x.newDate(u,Number(f),c)}catch{return qf}return y?(y.toJD()-bx)*_u+h*xx+v*Td+b*A1:qf}u.length===2?u=(Number(u)+2e3-lV)%100+lV:u=Number(u),f-=1;var _=new Date(Date.UTC(2e3,f,c,h,v));return _.setUTCFullYear(u),_.getUTCMonth()!==f||_.getUTCDate()!==c?qf:_.getTime()+b*A1};J_=io.MIN_MS=io.dateTime2ms("-9999");Q_=io.MAX_MS=io.dateTime2ms("9999-12-31 23:59:59.9999");io.isDateTime=function(e,t){return io.dateTime2ms(e,t)!==qf};function T1(e,t){return String(e+Math.pow(10,t)).substr(1)}var K_=90*_u,uV=3*xx,fV=5*Td;io.ms2DateTime=function(e,t,r){if(typeof e!="number"||!(e>=J_&&e<=Q_))return qf;t||(t=0);var n=Math.floor(Ad(e+.05,1)*10),i=Math.round(e-n/10),a,o,s,l,u,f;if(gv(r)){var c=Math.floor(i/_u)+bx,h=Math.floor(Ad(e,_u));try{a=pv.getComponentMethod("calendars","getCal")(r).fromJD(c).formatDate("yyyy-mm-dd")}catch{a=sV("G%Y-%m-%d")(new Date(i))}if(a.charAt(0)==="-")for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=t<K_?Math.floor(h/xx):0,s=t<K_?Math.floor(h%xx/Td):0,l=t<uV?Math.floor(h%Td/A1):0,u=t<fV?h%A1*10+n:0}else f=new Date(i),a=sV("%Y-%m-%d")(f),o=t<K_?f.getUTCHours():0,s=t<K_?f.getUTCMinutes():0,l=t<uV?f.getUTCSeconds():0,u=t<fV?f.getUTCMilliseconds()*10+n:0;return dV(a,o,s,l,u)};io.ms2DateTimeLocal=function(e){if(!(e>=J_+_u&&e<=Q_-_u))return qf;var t=Math.floor(Ad(e+.05,1)*10),r=new Date(Math.round(e-t/10)),n=BFe("%Y-%m-%d")(r),i=r.getHours(),a=r.getMinutes(),o=r.getSeconds(),s=r.getUTCMilliseconds()*10+t;return dV(n,i,a,o,s)};function dV(e,t,r,n,i){if((t||r||n||i)&&(e+=" "+T1(t,2)+":"+T1(r,2),(n||i)&&(e+=":"+T1(n,2),i))){for(var a=4;i%10===0;)a-=1,i/=10;e+="."+T1(i,a)}return e}io.cleanDate=function(e,t,r){if(e===qf)return t;if(io.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(gv(r))return lE.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(e=io.ms2DateTimeLocal(+e),!e&&t!==void 0)return t}else if(!io.isDateTime(e,r))return lE.error("unrecognized date",e),t;return e};var VFe=/%\d?f/g,GFe=/%h/g,YFe={1:"1",2:"1",3:"2",4:"2"};function cV(e,t,r,n){e=e.replace(VFe,function(a){var o=Math.min(+a.charAt(1)||6,6),s=(t/1e3%1+2).toFixed(o).substr(2).replace(/0+$/,"")||"0";return s});var i=new Date(Math.floor(t+.05));if(e=e.replace(GFe,function(){return YFe[r("%q")(i)]}),gv(n))try{e=pv.getComponentMethod("calendars","worldCalFmt")(e,t,n)}catch{return"Invalid"}return r(e)(i)}var WFe=[59,59.9,59.99,59.999,59.9999];function XFe(e,t){var r=Ad(e+.05,_u),n=T1(Math.floor(r/xx),2)+":"+T1(Ad(Math.floor(r/Td),60),2);if(t!=="M"){vV(t)||(t=0);var i=Math.min(Ad(e/A1,60),WFe[t]),a=(100+i).toFixed(t).substr(1);t>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+a}return n}io.formatDate=function(e,t,r,n,i,a){if(i=gv(i)&&i,!t)if(r==="y")t=a.year;else if(r==="m")t=a.month;else if(r==="d")t=a.dayMonth+`
`+a.year;else return XFe(e,r)+`
`+cV(a.dayMonthYear,e,n,i);return cV(t,e,n,i)};var hV=3*_u;io.incrementMonth=function(e,t,r){r=gv(r)&&r;var n=Ad(e,_u);if(e=Math.round(e-n),r)try{var i=Math.round(e/_u)+bx,a=pv.getComponentMethod("calendars","getCal")(r),o=a.fromJD(i);return t%12?a.add(o,t,"m"):a.add(o,t/12,"y"),(o.toJD()-bx)*_u+n}catch{lE.error("invalid ms "+e+" in calendar "+r)}var s=new Date(e+hV);return s.setUTCMonth(s.getUTCMonth()+t)+n-hV};io.findExactDates=function(e,t){for(var r=0,n=0,i=0,a=0,o,s,l=gv(t)&&pv.getComponentMethod("calendars","getCal")(t),u=0;u<e.length;u++){if(s=e[u],!vV(s)){a++;continue}if(!(s%_u))if(l)try{o=l.fromJD(s/_u+bx),o.day()===1?o.month()===1?r++:n++:i++}catch{}else o=new Date(s),o.getUTCDate()===1?o.getUTCMonth()===0?r++:n++:i++}n+=r,i+=n;var f=e.length-a;return{exactYears:r/f,exactMonths:n/f,exactDays:i/f}}});var wx=$((xAt,gV)=>{"use strict";gV.exports=function(t){return t}});var e3=$(mv=>{"use strict";var ZFe=mn(),$Fe=_d(),KFe=wx(),JFe=Zn().BADNUM,uE=1e-9;mv.findBin=function(e,t,r){if(ZFe(t.start))return r?Math.ceil((e-t.start)/t.size-uE)-1:Math.floor((e-t.start)/t.size+uE);var n=0,i=t.length,a=0,o=i>1?(t[i-1]-t[0])/(i-1):1,s,l;for(o>=0?l=r?QFe:eNe:l=r?rNe:tNe,e+=o*uE*(r?-1:1)*(o>=0?1:-1);n<i&&a++<100;)s=Math.floor((n+i)/2),l(t[s],e)?n=s+1:i=s;return a>90&&$Fe.log("Long binary search..."),n-1};function QFe(e,t){return e<t}function eNe(e,t){return e<=t}function tNe(e,t){return e>t}function rNe(e,t){return e>=t}mv.sorterAsc=function(e,t){return e-t};mv.sorterDes=function(e,t){return t-e};mv.distinctVals=function(e){var t=e.slice();t.sort(mv.sorterAsc);var r;for(r=t.length-1;r>-1&&t[r]===JFe;r--);for(var n=t[r]-t[0]||1,i=n/(r||1)/1e4,a=[],o,s=0;s<=r;s++){var l=t[s],u=l-o;o===void 0?(a.push(l),o=l):u>i&&(n=Math.min(n,u),a.push(l),o=l)}return{vals:a,minDiff:n}};mv.roundUp=function(e,t,r){for(var n=0,i=t.length-1,a,o=0,s=r?0:1,l=r?1:0,u=r?Math.ceil:Math.floor;n<i&&o++<100;)a=u((n+i)/2),t[a]<=e?n=a+s:i=a-l;return t[n]};mv.sort=function(e,t){for(var r=0,n=0,i=1;i<e.length;i++){var a=t(e[i],e[i-1]);if(a<0?r=1:a>0&&(n=1),r&&n)return e.sort(t)}return n?e:e.reverse()};mv.findIndexOfMin=function(e,t){t=t||KFe;for(var r=1/0,n,i=0;i<e.length;i++){var a=t(e[i]);a<r&&(r=a,n=i)}return n}});var _x=$((wAt,mV)=>{"use strict";mV.exports=function(t){return Object.keys(t).sort()}});var yV=$(Jo=>{"use strict";var Tx=mn(),nNe=wd().isArrayOrTypedArray;Jo.aggNums=function(e,t,r,n){var i,a;if((!n||n>r.length)&&(n=r.length),Tx(t)||(t=!1),nNe(r[0])){for(a=new Array(n),i=0;i<n;i++)a[i]=Jo.aggNums(e,t,r[i]);r=a}for(i=0;i<n;i++)Tx(t)?Tx(r[i])&&(t=e(+t,+r[i])):t=r[i];return t};Jo.len=function(e){return Jo.aggNums(function(t){return t+1},0,e)};Jo.mean=function(e,t){return t||(t=Jo.len(e)),Jo.aggNums(function(r,n){return r+n},0,e)/t};Jo.midRange=function(e){if(!(e===void 0||e.length===0))return(Jo.aggNums(Math.max,null,e)+Jo.aggNums(Math.min,null,e))/2};Jo.variance=function(e,t,r){return t||(t=Jo.len(e)),Tx(r)||(r=Jo.mean(e,t)),Jo.aggNums(function(n,i){return n+Math.pow(i-r,2)},0,e)/t};Jo.stdev=function(e,t,r){return Math.sqrt(Jo.variance(e,t,r))};Jo.median=function(e){var t=e.slice().sort();return Jo.interp(t,.5)};Jo.interp=function(e,t){if(!Tx(t))throw"n should be a finite number";if(t=t*e.length-.5,t<0)return e[0];if(t>e.length-1)return e[e.length-1];var r=t%1;return r*e[Math.ceil(t)]+(1-r)*e[Math.floor(t)]}});var TV=$((TAt,_V)=>{"use strict";var xV=g1(),fE=xV.mod,iNe=xV.modHalf,Ax=Math.PI,Md=2*Ax;function aNe(e){return e/180*Ax}function oNe(e){return e/Ax*180}function cE(e){return Math.abs(e[1]-e[0])>Md-1e-14}function bV(e,t){return iNe(t-e,Md)}function sNe(e,t){return Math.abs(bV(e,t))}function wV(e,t){if(cE(t))return!0;var r,n;t[0]<t[1]?(r=t[0],n=t[1]):(r=t[1],n=t[0]),r=fE(r,Md),n=fE(n,Md),r>n&&(n+=Md);var i=fE(e,Md),a=i+Md;return i>=r&&i<=n||a>=r&&a<=n}function lNe(e,t,r,n){if(!wV(t,n))return!1;var i,a;return r[0]<r[1]?(i=r[0],a=r[1]):(i=r[1],a=r[0]),e>=i&&e<=a}function hE(e,t,r,n,i,a,o){i=i||0,a=a||0;var s=cE([r,n]),l,u,f,c,h;s?(l=0,u=Ax,f=Md):r<n?(l=r,f=n):(l=n,f=r),e<t?(c=e,h=t):(c=t,h=e);function v(m,_){return[m*Math.cos(_)+i,a-m*Math.sin(_)]}var b=Math.abs(f-l)<=Ax?0:1;function y(m,_,g){return"A"+[m,m]+" "+[0,b,g]+" "+v(m,_)}var x;return s?c===null?x="M"+v(h,l)+y(h,u,0)+y(h,f,0)+"Z":x="M"+v(c,l)+y(c,u,0)+y(c,f,0)+"ZM"+v(h,l)+y(h,u,1)+y(h,f,1)+"Z":c===null?(x="M"+v(h,l)+y(h,f,0),o&&(x+="L0,0Z")):x="M"+v(c,l)+"L"+v(h,l)+y(h,f,0)+"L"+v(c,f)+y(c,l,1)+"Z",x}function uNe(e,t,r,n,i){return hE(null,e,t,r,n,i,0)}function fNe(e,t,r,n,i){return hE(null,e,t,r,n,i,1)}function cNe(e,t,r,n,i,a){return hE(e,t,r,n,i,a,1)}_V.exports={deg2rad:aNe,rad2deg:oNe,angleDelta:bV,angleDist:sNe,isFullCircle:cE,isAngleInsideSector:wV,isPtInsideSector:lNe,pathArc:uNe,pathSector:fNe,pathAnnulus:cNe}});var AV=$($0=>{"use strict";$0.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=1/3};$0.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>1/3&&t.x<2/3};$0.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=2/3};$0.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=2/3};$0.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>1/3&&t.y<2/3};$0.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=1/3}});var SV=$(K0=>{"use strict";var vE=g1().mod;K0.segmentsIntersect=kV;function kV(e,t,r,n,i,a,o,s){var l=r-e,u=i-e,f=o-i,c=n-t,h=a-t,v=s-a,b=l*v-f*c;if(b===0)return null;var y=(u*v-f*h)/b,x=(u*c-l*h)/b;return x<0||x>1||y<0||y>1?null:{x:e+l*y,y:t+c*y}}K0.segmentDistance=function(t,r,n,i,a,o,s,l){if(kV(t,r,n,i,a,o,s,l))return 0;var u=n-t,f=i-r,c=s-a,h=l-o,v=u*u+f*f,b=c*c+h*h,y=Math.min(t3(u,f,v,a-t,o-r),t3(u,f,v,s-t,l-r),t3(c,h,b,t-a,r-o),t3(c,h,b,n-a,i-o));return Math.sqrt(y)};function t3(e,t,r,n,i){var a=n*e+i*t;if(a<0)return n*n+i*i;if(a>r){var o=n-e,s=i-t;return o*o+s*s}else{var l=n*t-i*e;return l*l/r}}var r3,dE,MV;K0.getTextLocation=function(t,r,n,i){if((t!==dE||i!==MV)&&(r3={},dE=t,MV=i),r3[n])return r3[n];var a=t.getPointAtLength(vE(n-i/2,r)),o=t.getPointAtLength(vE(n+i/2,r)),s=Math.atan((o.y-a.y)/(o.x-a.x)),l=t.getPointAtLength(vE(n,r)),u=(l.x*4+a.x+o.x)/6,f=(l.y*4+a.y+o.y)/6,c={x:u,y:f,theta:s};return r3[n]=c,c};K0.clearLocationCache=function(){dE=null};K0.getVisibleSegment=function(t,r,n){var i=r.left,a=r.right,o=r.top,s=r.bottom,l=0,u=t.getTotalLength(),f=u,c,h;function v(y){var x=t.getPointAtLength(y);y===0?c=x:y===u&&(h=x);var m=x.x<i?i-x.x:x.x>a?x.x-a:0,_=x.y<o?o-x.y:x.y>s?x.y-s:0;return Math.sqrt(m*m+_*_)}for(var b=v(l);b;){if(l+=b+n,l>f)return;b=v(l)}for(b=v(f);b;){if(f-=b+n,l>f)return;b=v(f)}return{min:l,max:f,len:f-l,total:u,isClosed:l===0&&f===u&&Math.abs(c.x-h.x)<.1&&Math.abs(c.y-h.y)<.1}};K0.findPointOnPath=function(t,r,n,i){i=i||{};for(var a=i.pathLength||t.getTotalLength(),o=i.tolerance||.001,s=i.iterationLimit||30,l=t.getPointAtLength(0)[n]>t.getPointAtLength(a)[n]?-1:1,u=0,f=0,c=a,h,v,b;u<s;){if(h=(f+c)/2,v=t.getPointAtLength(h),b=v[n]-r,Math.abs(b)<o)return v;l*b>0?c=h:f=h,u++}return v}});var n3=$(Mx=>{"use strict";var yv={};Mx.throttle=function(t,r,n){var i=yv[t],a=Date.now();if(!i){for(var o in yv)yv[o].ts<a-6e4&&delete yv[o];i=yv[t]={ts:0,timer:null}}EV(i);function s(){n(),i.ts=Date.now(),i.onDone&&(i.onDone(),i.onDone=null)}if(a>i.ts+r){s();return}i.timer=setTimeout(function(){s(),i.timer=null},r)};Mx.done=function(e){var t=yv[e];return!t||!t.timer?Promise.resolve():new Promise(function(r){var n=t.onDone;t.onDone=function(){n&&n(),r(),t.onDone=null}})};Mx.clear=function(e){if(e)EV(yv[e]),delete yv[e];else for(var t in yv)Mx.clear(t)};function EV(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var CV=$((SAt,LV)=>{"use strict";LV.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}});var DV=$((EAt,i3)=>{"use strict";i3.exports=pE;i3.exports.isMobile=pE;i3.exports.default=pE;var hNe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,vNe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function pE(e){e||(e={});var t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;var r=e.tablet?vNe.test(t):hNe.test(t);return!r&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(r=!0),r}});var RV=$((LAt,qV)=>{"use strict";var dNe=mn(),pNe=DV();qV.exports=function(t){var r;if(t&&t.hasOwnProperty("userAgent")?r=t.userAgent:r=gNe(),typeof r!="string")return!0;var n=pNe({ua:{headers:{"user-agent":r}},tablet:!0,featureDetect:!1});if(!n)for(var i=r.split(" "),a=1;a<i.length;a++){var o=i[a];if(o.indexOf("Safari")!==-1)for(var s=a-1;s>-1;s--){var l=i[s];if(l.substr(0,8)==="Version/"){var u=l.substr(8).split(".")[0];if(dNe(u)&&(u=+u),u>=13)return!0}}}return n};function gNe(){var e;return typeof navigator<"u"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var PV=$((CAt,IV)=>{"use strict";var mNe=Nr();IV.exports=function(t,r,n){var i=t.selectAll("g."+n.replace(/\s/g,".")).data(r,function(o){return o[0].trace.uid});i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var a=t.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each(function(o){o[0][a]=mNe.select(this)}),i}});var NV=$((DAt,FV)=>{"use strict";var yNe=Ir();FV.exports=function(t,r){for(var n=t._context.locale,i=0;i<2;i++){for(var a=t._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var l=s[r];if(l)return l}a=yNe.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return r}});var gE=$((qAt,zV)=>{"use strict";zV.exports=function(t){for(var r={},n=[],i=0,a=0;a<t.length;a++){var o=t[a];r[o]!==1&&(r[o]=1,n[i++]=o)}return n}});var BV=$((RAt,OV)=>{"use strict";OV.exports=function(t){for(var r=wNe(t)?bNe:xNe,n=[],i=0;i<t.length;i++){var a=t[i];r(a)&&n.push(a)}return n};function xNe(e){return e.visible===!0}function bNe(e){var t=e[0].trace;return t.visible===!0&&t._length!==0}function wNe(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var UV=$((IAt,HV)=>{"use strict";HV.exports=function(t,r){if(!r)return t;var n=1/Math.abs(r),i=n>1?(n*t+n*r)/n:t+r,a=String(i).length;if(a>16){var o=String(r).length,s=String(t).length;if(a>=s+o){var l=parseFloat(i).toPrecision(12);l.indexOf("e+")===-1&&(i=+l)}}return i}});var VV=$((PAt,jV)=>{"use strict";var _Ne=mn(),TNe=Zn().BADNUM,ANe=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;jV.exports=function(t){return typeof t=="string"&&(t=t.replace(ANe,"")),_Ne(t)?Number(t):TNe}});var pt=$((FAt,nG)=>{"use strict";var kx=Nr(),MNe=d1().utcFormat,kNe=V4().format,$V=mn(),KV=Zn(),JV=KV.FP_SAFE,SNe=-JV,GV=KV.BADNUM,qt=nG.exports={};qt.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:t==="0.f"?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var YV={};qt.warnBadFormat=function(e){var t=String(e);YV[t]||(YV[t]=1,qt.warn('encountered bad format: "'+t+'"'))};qt.noFormat=function(e){return String(e)};qt.numberFormat=function(e){var t;try{t=kNe(qt.adjustFormat(e))}catch{return qt.warnBadFormat(e),qt.noFormat}return t};qt.nestedProperty=cx();qt.keyedContainer=eU();qt.relativeAttr=rU();qt.isPlainObject=G0();qt.toLogRange=F_();qt.relinkPrivateKeys=sU();var J0=wd();qt.isTypedArray=J0.isTypedArray;qt.isArrayOrTypedArray=J0.isArrayOrTypedArray;qt.isArray1D=J0.isArray1D;qt.ensureArray=J0.ensureArray;qt.concat=J0.concat;qt.maxRowLength=J0.maxRowLength;qt.minRowLength=J0.minRowLength;var QV=g1();qt.mod=QV.mod;qt.modHalf=QV.modHalf;var kd=kU();qt.valObjectMeta=kd.valObjectMeta;qt.coerce=kd.coerce;qt.coerce2=kd.coerce2;qt.coerceFont=kd.coerceFont;qt.coercePattern=kd.coercePattern;qt.coerceHoverinfo=kd.coerceHoverinfo;qt.coerceSelectionMarkerOpacity=kd.coerceSelectionMarkerOpacity;qt.validate=kd.validate;var hf=pV();qt.dateTime2ms=hf.dateTime2ms;qt.isDateTime=hf.isDateTime;qt.ms2DateTime=hf.ms2DateTime;qt.ms2DateTimeLocal=hf.ms2DateTimeLocal;qt.cleanDate=hf.cleanDate;qt.isJSDate=hf.isJSDate;qt.formatDate=hf.formatDate;qt.incrementMonth=hf.incrementMonth;qt.dateTick0=hf.dateTick0;qt.dfltRange=hf.dfltRange;qt.findExactDates=hf.findExactDates;qt.MIN_MS=hf.MIN_MS;qt.MAX_MS=hf.MAX_MS;var Q0=e3();qt.findBin=Q0.findBin;qt.sorterAsc=Q0.sorterAsc;qt.sorterDes=Q0.sorterDes;qt.distinctVals=Q0.distinctVals;qt.roundUp=Q0.roundUp;qt.sort=Q0.sort;qt.findIndexOfMin=Q0.findIndexOfMin;qt.sortObjectKeys=_x();var Sd=yV();qt.aggNums=Sd.aggNums;qt.len=Sd.len;qt.mean=Sd.mean;qt.median=Sd.median;qt.midRange=Sd.midRange;qt.variance=Sd.variance;qt.stdev=Sd.stdev;qt.interp=Sd.interp;var Rc=G_();qt.init2dArray=Rc.init2dArray;qt.transposeRagged=Rc.transposeRagged;qt.dot=Rc.dot;qt.translationMatrix=Rc.translationMatrix;qt.rotationMatrix=Rc.rotationMatrix;qt.rotationXYMatrix=Rc.rotationXYMatrix;qt.apply3DTransform=Rc.apply3DTransform;qt.apply2DTransform=Rc.apply2DTransform;qt.apply2DTransform2=Rc.apply2DTransform2;qt.convertCssMatrix=Rc.convertCssMatrix;qt.inverseTransformMatrix=Rc.inverseTransformMatrix;var Ah=TV();qt.deg2rad=Ah.deg2rad;qt.rad2deg=Ah.rad2deg;qt.angleDelta=Ah.angleDelta;qt.angleDist=Ah.angleDist;qt.isFullCircle=Ah.isFullCircle;qt.isAngleInsideSector=Ah.isAngleInsideSector;qt.isPtInsideSector=Ah.isPtInsideSector;qt.pathArc=Ah.pathArc;qt.pathSector=Ah.pathSector;qt.pathAnnulus=Ah.pathAnnulus;var S1=AV();qt.isLeftAnchor=S1.isLeftAnchor;qt.isCenterAnchor=S1.isCenterAnchor;qt.isRightAnchor=S1.isRightAnchor;qt.isTopAnchor=S1.isTopAnchor;qt.isMiddleAnchor=S1.isMiddleAnchor;qt.isBottomAnchor=S1.isBottomAnchor;var E1=SV();qt.segmentsIntersect=E1.segmentsIntersect;qt.segmentDistance=E1.segmentDistance;qt.getTextLocation=E1.getTextLocation;qt.clearLocationCache=E1.clearLocationCache;qt.getVisibleSegment=E1.getVisibleSegment;qt.findPointOnPath=E1.findPointOnPath;var o3=ln();qt.extendFlat=o3.extendFlat;qt.extendDeep=o3.extendDeep;qt.extendDeepAll=o3.extendDeepAll;qt.extendDeepNoArrays=o3.extendDeepNoArrays;var mE=_d();qt.log=mE.log;qt.warn=mE.warn;qt.error=mE.error;var ENe=x1();qt.counterRegex=ENe.counter;var yE=n3();qt.throttle=yE.throttle;qt.throttleDone=yE.done;qt.clearThrottle=yE.clear;var Mh=Y_();qt.getGraphDiv=Mh.getGraphDiv;qt.isPlotDiv=Mh.isPlotDiv;qt.removeElement=Mh.removeElement;qt.addStyleRule=Mh.addStyleRule;qt.addRelatedStyleRule=Mh.addRelatedStyleRule;qt.deleteRelatedStyleRule=Mh.deleteRelatedStyleRule;qt.getFullTransformMatrix=Mh.getFullTransformMatrix;qt.getElementTransformMatrix=Mh.getElementTransformMatrix;qt.getElementAndAncestors=Mh.getElementAndAncestors;qt.equalDomRects=Mh.equalDomRects;qt.clearResponsive=CV();qt.preserveDrawingBuffer=RV();qt.makeTraceGroups=PV();qt._=NV();qt.notifier=Q4();qt.filterUnique=gE();qt.filterVisible=BV();qt.pushUnique=rE();qt.increment=UV();qt.cleanNumber=VV();qt.ensureNumber=function(t){return $V(t)?(t=Number(t),t>JV||t<SNe?GV:t):GV};qt.isIndex=function(e,t){return t!==void 0&&e>=t?!1:$V(e)&&e>=0&&e%1===0};qt.noop=V_();qt.identity=wx();qt.repeat=function(e,t){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r};qt.swapAttrs=function(e,t,r,n){r||(r="x"),n||(n="y");for(var i=0;i<t.length;i++){var a=t[i],o=qt.nestedProperty(e,a.replace("?",r)),s=qt.nestedProperty(e,a.replace("?",n)),l=o.get();o.set(s.get()),s.set(l)}};qt.raiseToTop=function(t){t.parentNode.appendChild(t)};qt.cancelTransition=function(e){return e.transition().duration(0)};qt.constrain=function(e,t,r){return t>r?Math.max(r,Math.min(t,e)):Math.max(t,Math.min(r,e))};qt.bBoxIntersect=function(e,t,r){return r=r||0,e.left<=t.right+r&&t.left<=e.right+r&&e.top<=t.bottom+r&&t.top<=e.bottom+r};qt.simpleMap=function(e,t,r,n,i){for(var a=e.length,o=new Array(a),s=0;s<a;s++)o[s]=t(e[s],r,n,i);return o};qt.randstr=function e(t,r,n,i){if(n||(n=16),r===void 0&&(r=24),r<=0)return"0";var a=Math.log(Math.pow(2,r))/Math.log(n),o="",s,l,u;for(s=2;a===1/0;s*=2)a=Math.log(Math.pow(2,r/s))/Math.log(n)*s;var f=a-Math.floor(a);for(s=0;s<Math.floor(a);s++)u=Math.floor(Math.random()*n).toString(n),o=u+o;f&&(l=Math.pow(n,f),u=Math.floor(Math.random()*l).toString(n),o=u+o);var c=parseInt(o,n);return t&&t[o]||c!==1/0&&c>=Math.pow(2,r)?i>10?(qt.warn("randstr failed uniqueness"),o):e(t,r,n,(i||0)+1):o};qt.OptionControl=function(e,t){e||(e={}),t||(t="opt");var r={};return r.optionList=[],r._newoption=function(n){n[t]=e,r[n.name]=n,r.optionList.push(n)},r["_"+t]=e,r};qt.smooth=function(e,t){if(t=Math.round(t)||0,t<2)return e;var r=e.length,n=2*r,i=2*t-1,a=new Array(i),o=new Array(r),s,l,u,f;for(s=0;s<i;s++)a[s]=(1-Math.cos(Math.PI*(s+1)/t))/(2*t);for(s=0;s<r;s++){for(f=0,l=0;l<i;l++)u=s+l+1-t,u<-r?u-=n*Math.round(u/n):u>=n&&(u-=n*Math.floor(u/n)),u<0?u=-1-u:u>=r&&(u=n-1-u),f+=e[u]*a[l];o[s]=f}return o};qt.syncOrAsync=function(e,t,r){var n,i;function a(){return qt.syncOrAsync(e,t,r)}for(;e.length;)if(i=e.splice(0,1)[0],n=i(t),n&&n.then)return n.then(a);return r&&r(t)};qt.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};qt.noneOrAll=function(e,t,r){if(e){var n=!1,i=!0,a,o;for(a=0;a<r.length;a++)o=e[r[a]],o!=null?n=!0:i=!1;if(n&&!i)for(a=0;a<r.length;a++)e[r[a]]=t[r[a]]}};qt.mergeArray=function(e,t,r,n){var i=typeof n=="function";if(qt.isArrayOrTypedArray(e))for(var a=Math.min(e.length,t.length),o=0;o<a;o++){var s=e[o];t[o][r]=i?n(s):s}};qt.mergeArrayCastPositive=function(e,t,r){return qt.mergeArray(e,t,r,function(n){var i=+n;return isFinite(i)&&i>0?i:0})};qt.fillArray=function(e,t,r,n){if(n=n||qt.identity,qt.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][r]=n(e[i])};qt.castOption=function(e,t,r,n){n=n||qt.identity;var i=qt.nestedProperty(e,r).get();return qt.isArrayOrTypedArray(i)?Array.isArray(t)&&qt.isArrayOrTypedArray(i[t[0]])?n(i[t[0]][t[1]]):n(i[t]):i};qt.extractOption=function(e,t,r,n){if(r in e)return e[r];var i=qt.nestedProperty(t,n).get();if(!Array.isArray(i))return i};function eG(e){var t={};for(var r in e)for(var n=e[r],i=0;i<n.length;i++)t[n[i]]=+r;return t}qt.tagSelected=function(e,t,r){var n=t.selectedpoints,i=t._indexToPoints,a;i&&(a=eG(i));function o(c){return c!==void 0&&c<e.length}for(var s=0;s<n.length;s++){var l=n[s];if(qt.isIndex(l)||qt.isArrayOrTypedArray(l)&&qt.isIndex(l[0])&&qt.isIndex(l[1])){var u=a?a[l]:l,f=r?r[u]:u;o(f)&&(e[f].selected=1)}}};qt.selIndices2selPoints=function(e){var t=e.selectedpoints,r=e._indexToPoints;if(r){for(var n=eG(r),i=[],a=0;a<t.length;a++){var o=t[a];if(qt.isIndex(o)){var s=n[o];qt.isIndex(s)&&i.push(s)}}return i}else return t};qt.getTargetArray=function(e,t){var r=t.target;if(typeof r=="string"&&r){var n=qt.nestedProperty(e,r).get();return Array.isArray(n)?n:!1}else if(Array.isArray(r))return r;return!1};qt.minExtend=function(e,t){var r={};typeof t!="object"&&(t={});var n=3,i=Object.keys(e),a,o,s;for(a=0;a<i.length;a++)o=i[a],s=e[o],!(o.charAt(0)==="_"||typeof s=="function")&&(o==="module"?r[o]=s:Array.isArray(s)?o==="colorscale"?r[o]=s.slice():r[o]=s.slice(0,n):qt.isTypedArray(s)?r[o]=s.subarray(0,n):s&&typeof s=="object"?r[o]=qt.minExtend(e[o],t[o]):r[o]=s);for(i=Object.keys(t),a=0;a<i.length;a++)o=i[a],s=t[o],(typeof s!="object"||!(o in r)||typeof r[o]!="object")&&(r[o]=s);return r};qt.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};qt.containsAny=function(e,t){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])!==-1)return!0;return!1};qt.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var LNe=/Version\/[\d\.]+.*Safari/;qt.isSafari=function(){return LNe.test(window.navigator.userAgent)};var CNe=/iPad|iPhone|iPod/;qt.isIOS=function(){return CNe.test(window.navigator.userAgent)};var DNe=/Firefox\/(\d+)\.\d+/;qt.getFirefoxVersion=function(){var e=DNe.exec(window.navigator.userAgent);if(e&&e.length===2){var t=parseInt(e[1]);if(!isNaN(t))return t}return null};qt.isD3Selection=function(e){return e instanceof kx.selection};qt.ensureSingle=function(e,t,r,n){var i=e.select(t+(r?"."+r:""));if(i.size())return i;var a=e.append(t);return r&&a.classed(r,!0),n&&a.call(n),a};qt.ensureSingleById=function(e,t,r,n){var i=e.select(t+"#"+r);if(i.size())return i;var a=e.append(t).attr("id",r);return n&&a.call(n),a};qt.objectFromPath=function(e,t){for(var r=e.split("."),n,i=n={},a=0;a<r.length;a++){var o=r[a],s=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],a===r.length-1?n[s]=t:n[s]={},n=n[s]):(a===r.length-1?n[o]=t:n[o]={},n=n[o])}return i};var qNe=/^([^\[\.]+)\.(.+)?/,RNe=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;qt.expandObjectPaths=function(e){var t,r,n,i,a,o,s;if(typeof e=="object"&&!Array.isArray(e))for(r in e)e.hasOwnProperty(r)&&((t=r.match(qNe))?(i=e[r],n=t[1],delete e[r],e[n]=qt.extendDeepNoArrays(e[n]||{},qt.objectFromPath(r,qt.expandObjectPaths(i))[n])):(t=r.match(RNe))?(i=e[r],n=t[1],a=parseInt(t[2]),delete e[r],e[n]=e[n]||[],t[3]==="."?(s=t[4],o=e[n][a]=e[n][a]||{},qt.extendDeepNoArrays(o,qt.objectFromPath(s,qt.expandObjectPaths(i)))):e[n][a]=qt.expandObjectPaths(i)):e[r]=qt.expandObjectPaths(e[r]));return e};qt.numSeparate=function(e,t,r){if(r||(r=!1),typeof t!="string"||t.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,i=t.charAt(0),a=t.charAt(1),o=e.split("."),s=o[0],l=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||r))for(;n.test(s);)s=s.replace(n,"$1"+a+"$2");return s+l};qt.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var tG=/^\w*$/;qt.templateString=function(e,t){var r={};return e.replace(qt.TEMPLATE_STRING_REGEX,function(n,i){var a;return tG.test(i)?a=t[i]:(r[i]=r[i]||qt.nestedProperty(t,i).get,a=r[i]()),qt.isValidTextValue(a)?a:""})};var INe={max:10,count:0,name:"hovertemplate"};qt.hovertemplateString=function(){return rG.apply(INe,arguments)};var PNe={max:10,count:0,name:"texttemplate"};qt.texttemplateString=function(){return rG.apply(PNe,arguments)};var WV=/^[:|\|]/;function rG(e,t,r){var n=this,i=arguments;t||(t={});var a={};return e.replace(qt.TEMPLATE_STRING_REGEX,function(o,s,l){var u=s==="xother"||s==="yother",f=s==="_xother"||s==="_yother",c=s==="_xother_"||s==="_yother_",h=s==="xother_"||s==="yother_",v=u||f||h||c,b=s;(f||c)&&(b=b.substring(1)),(h||c)&&(b=b.substring(0,b.length-1));var y;if(v){if(y=t[b],y===void 0)return""}else{var x,m;for(m=3;m<i.length;m++)if(x=i[m],!!x){if(x.hasOwnProperty(b)){y=x[b];break}if(tG.test(b)||(y=qt.nestedProperty(x,b).get(),y=a[b]||qt.nestedProperty(x,b).get(),y&&(a[b]=y)),y!==void 0)break}}if(y===void 0&&n)return n.count<n.max&&(qt.warn("Variable '"+b+"' in "+n.name+" could not be found!"),y=o),n.count===n.max&&qt.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,o;if(l){var _;if(l[0]===":"&&(_=r?r.numberFormat:qt.numberFormat,y=_(l.replace(WV,""))(y)),l[0]==="|"){_=r?r.timeFormat:MNe;var g=qt.dateTime2ms(y);y=qt.formatDate(g,l.replace(WV,""),!1,_)}}else{var A=b+"Label";t.hasOwnProperty(A)&&(y=t[A])}return v&&(y="("+y+")",(f||c)&&(y=" "+y),(h||c)&&(y=y+" ")),y})}var a3=48,XV=57;qt.subplotSort=function(e,t){for(var r=Math.min(e.length,t.length)+1,n=0,i=0,a=0;a<r;a++){var o=e.charCodeAt(a)||0,s=t.charCodeAt(a)||0,l=o>=a3&&o<=XV,u=s>=a3&&s<=XV;if(l&&(n=10*n+o-a3),u&&(i=10*i+s-a3),!l||!u){if(n!==i)return n-i;if(o!==s)return o-s}}return i-n};var k1=2e9;qt.seedPseudoRandom=function(){k1=2e9};qt.pseudoRandom=function(){var e=k1;return k1=(69069*k1+1)%4294967296,Math.abs(k1-e)<429496729?qt.pseudoRandom():k1/4294967296};qt.fillText=function(e,t,r){var n=Array.isArray(r)?function(o){r.push(o)}:function(o){r.text=o},i=qt.extractOption(e,t,"htx","hovertext");if(qt.isValidTextValue(i))return n(i);var a=qt.extractOption(e,t,"tx","text");if(qt.isValidTextValue(a))return n(a)};qt.isValidTextValue=function(e){return e||e===0};qt.formatPercent=function(e,t){t=t||0;for(var r=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",n=0;n<t;n++)r.indexOf(".")!==-1&&(r=r.replace("0%","%"),r=r.replace(".%","%"));return r};qt.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||t==="none"};qt.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""};qt.strRotate=function(e){return e?"rotate("+e+")":""};qt.strScale=function(e){return e!==1?"scale("+e+")":""};qt.getTextTransform=function(e){var t=e.noCenter,r=e.textX,n=e.textY,i=e.targetX,a=e.targetY,o=e.anchorX||0,s=e.anchorY||0,l=e.rotate,u=e.scale;return u?u>1&&(u=1):u=0,qt.strTranslate(i-u*(r+o),a-u*(n+s))+qt.strScale(u)+(l?"rotate("+l+(t?"":" "+r+" "+n)+")":"")};qt.ensureUniformFontSize=function(e,t){var r=qt.extendFlat({},t);return r.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),r};qt.join2=function(e,t,r){var n=e.length;return n>1?e.slice(0,-1).join(t)+r+e[n-1]:e.join(t)};qt.bigFont=function(e){return Math.round(1.2*e)};var ZV=qt.getFirefoxVersion(),FNe=ZV!==null&&ZV<86;qt.getPositionFromD3Event=function(){return FNe?[kx.event.layerX,kx.event.layerY]:[kx.event.offsetX,kx.event.offsetY]}});var oG=$(()=>{"use strict";var NNe=pt(),iG={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(xE in iG)aG=xE.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),NNe.addStyleRule(aG,iG[xE]);var aG,xE});var bE=$((OAt,sG)=>{sG.exports=!0});var _E=$((BAt,lG)=>{"use strict";var zNe=bE(),wE;typeof global.matchMedia=="function"?wE=!global.matchMedia("(hover: none)").matches:wE=zNe;lG.exports=wE});var u3=$((HAt,TE)=>{"use strict";var L1=typeof Reflect=="object"?Reflect:null,uG=L1&&typeof L1.apply=="function"?L1.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},s3;L1&&typeof L1.ownKeys=="function"?s3=L1.ownKeys:Object.getOwnPropertySymbols?s3=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:s3=function(t){return Object.getOwnPropertyNames(t)};function ONe(e){console&&console.warn&&console.warn(e)}var cG=Number.isNaN||function(t){return t!==t};function ha(){ha.init.call(this)}TE.exports=ha;TE.exports.once=jNe;ha.EventEmitter=ha;ha.prototype._events=void 0;ha.prototype._eventsCount=0;ha.prototype._maxListeners=void 0;var fG=10;function l3(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ha,"defaultMaxListeners",{enumerable:!0,get:function(){return fG},set:function(e){if(typeof e!="number"||e<0||cG(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fG=e}});ha.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ha.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||cG(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function hG(e){return e._maxListeners===void 0?ha.defaultMaxListeners:e._maxListeners}ha.prototype.getMaxListeners=function(){return hG(this)};ha.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[t];if(l===void 0)return!1;if(typeof l=="function")uG(l,this,r);else for(var u=l.length,f=mG(l,u),n=0;n<u;++n)uG(f[n],this,r);return!0};function vG(e,t,r,n){var i,a,o;if(l3(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),o===void 0)o=a[t]=r,++e._eventsCount;else if(typeof o=="function"?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=hG(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,ONe(s)}return e}ha.prototype.addListener=function(t,r){return vG(this,t,r,!1)};ha.prototype.on=ha.prototype.addListener;ha.prototype.prependListener=function(t,r){return vG(this,t,r,!0)};function BNe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dG(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=BNe.bind(n);return i.listener=r,n.wrapFn=i,i}ha.prototype.once=function(t,r){return l3(r),this.on(t,dG(this,t,r)),this};ha.prototype.prependOnceListener=function(t,r){return l3(r),this.prependListener(t,dG(this,t,r)),this};ha.prototype.removeListener=function(t,r){var n,i,a,o,s;if(l3(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){s=n[o].listener,a=o;break}if(a<0)return this;a===0?n.shift():HNe(n,a),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this};ha.prototype.off=ha.prototype.removeListener;ha.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function pG(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?UNe(i):mG(i,i.length)}ha.prototype.listeners=function(t){return pG(this,t,!0)};ha.prototype.rawListeners=function(t){return pG(this,t,!1)};ha.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):gG.call(e,t)};ha.prototype.listenerCount=gG;function gG(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ha.prototype.eventNames=function(){return this._eventsCount>0?s3(this._events):[]};function mG(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function HNe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function UNe(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function jNe(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,a),n(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}yG(e,t,a,{once:!0}),t!=="error"&&VNe(e,i,{once:!0})})}function VNe(e,t,r){typeof e.on=="function"&&yG(e,"error",t,r)}function yG(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var C1=$((UAt,xG)=>{"use strict";var AE=u3().EventEmitter,GNe={init:function(e){if(e._ev instanceof AE)return e;var t=new AE,r=new AE;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,i){typeof jQuery<"u"&&jQuery(e).trigger(n,i),t.emit(n,i),r.emit(n,i)},e},triggerHandler:function(e,t,r){var n,i;typeof jQuery<"u"&&(n=jQuery(e).triggerHandler(t,r));var a=e._ev;if(!a)return n;var o=a._events[t];if(!o)return n;function s(u){if(u.listener){if(a.removeListener(t,u.listener),!u.fired)return u.fired=!0,u.listener.apply(a,[r])}else return u.apply(a,[r])}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++)s(o[l]);return i=s(o[l]),n!==void 0?n:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};xG.exports=GNe});var _G=$((jAt,wG)=>{"use strict";var bG=pt(),YNe=X0().dfltConfig;function WNe(e,t){for(var r=[],n,i=0;i<t.length;i++)n=t[i],n===e?r[i]=n:typeof n=="object"?r[i]=Array.isArray(n)?bG.extendDeep([],n):bG.extendDeepAll({},n):r[i]=n;return r}var xv={};xv.add=function(e,t,r,n,i){var a,o;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},o=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(o,e.undoQueue.queue.length-o,a),e.undoQueue.index+=1):a=e.undoQueue.queue[o-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(r),a.redo.calls.push(n),a.redo.args.push(i)),e.undoQueue.queue.length>YNe.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};xv.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};xv.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};xv.undo=function(t){var r,n;if(!(t.undoQueue===void 0||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,r=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<r.undo.calls.length;n++)xv.plotDo(t,r.undo.calls[n],r.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}};xv.redo=function(t){var r,n;if(!(t.undoQueue===void 0||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(r=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<r.redo.calls.length;n++)xv.plotDo(t,r.redo.calls[n],r.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}};xv.plotDo=function(e,t,r){e.autoplay=!0,r=WNe(e,r),t.apply(null,r)};wG.exports=xv});var ME=$((VAt,TG)=>{"use strict";TG.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}});var Fa=$((GAt,DG)=>{"use strict";var MG=pt(),kG=MG.extendFlat,XNe=MG.isPlainObject,SG={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* (re)plots but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},EG={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* (re)plots but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},ZNe=SG.flags.slice().concat(["fullReplot"]),$Ne=EG.flags.slice().concat("layoutReplot");DG.exports={traces:SG,layout:EG,traceFlags:function(){return AG(ZNe)},layoutFlags:function(){return AG($Ne)},update:function(e,t){var r=t.editType;if(r&&r!=="none")for(var n=r.split("+"),i=0;i<n.length;i++)e[n[i]]=!0},overrideAll:LG};function AG(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!1;return t}function LG(e,t,r){var n=kG({},e);for(var i in n){var a=n[i];XNe(a)&&(n[i]=CG(a,t,r,i))}return r==="from-root"&&(n.editType=t),n}function CG(e,t,r,n){if(e.valType){var i=kG({},e);if(i.editType=t,Array.isArray(e.items)){i.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)i.items[a]=CG(e.items[a],t,"from-root")}return i}else return LG(e,t,n.charAt(0)==="_"?"nested":"from-root")}});var Ed=$(bo=>{"use strict";var Zs=Ir(),Lx=pt(),Ex=aa(),kE=Z0(),KNe=ME(),JNe=yx(),QNe=X0().configAttributes,qG=Fa(),Rf=Lx.extendDeepAll,D1=Lx.isPlainObject,eze=Lx.isArrayOrTypedArray,f3=Lx.nestedProperty,tze=Lx.valObjectMeta,SE="_isSubplotObj",c3="_isLinkedToArray",rze="_arrayAttrRegexps",IG="_deprecated",EE=[SE,c3,rze,IG];bo.IS_SUBPLOT_OBJ=SE;bo.IS_LINKED_TO_ARRAY=c3;bo.DEPRECATED=IG;bo.UNDERSCORE_ATTRS=EE;bo.get=function(){var e={};Zs.allTypes.forEach(function(r){e[r]=ize(r)});var t={};return Object.keys(Zs.transformsRegistry).forEach(function(r){t[r]=oze(r)}),{defs:{valObjects:tze,metaKeys:EE.concat(["description","role","editType","impliedEdits"]),editType:{traces:qG.traces,layout:qG.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:e,layout:aze(),transforms:t,frames:sze(),animation:ep(JNe),config:ep(QNe)}};bo.crawl=function(e,t,r,n){var i=r||0;n=n||"",Object.keys(e).forEach(function(a){var o=e[a];if(EE.indexOf(a)===-1){var s=(n?n+".":"")+a;t(o,a,e,i,s),!bo.isValObject(o)&&D1(o)&&a!=="impliedEdits"&&bo.crawl(o,t,i+1,s)}})};bo.isValObject=function(e){return e&&e.valType!==void 0};bo.findArrayAttributes=function(e){var t=[],r=[],n=[],i,a;function o(h,v,b,y){r=r.slice(0,y).concat([v]),n=n.slice(0,y).concat([h&&h._isLinkedToArray]);var x=h&&(h.valType==="data_array"||h.arrayOk===!0)&&!(r[y-1]==="colorbar"&&(v==="ticktext"||v==="tickvals"));x&&s(i,0,"")}function s(h,v,b){var y=h[r[v]],x=b+r[v];if(v===r.length-1)eze(y)&&t.push(a+x);else if(n[v]){if(Array.isArray(y))for(var m=0;m<y.length;m++)D1(y[m])&&s(y[m],v+1,x+"["+m+"].")}else D1(y)&&s(y,v+1,x+".")}i=e,a="",bo.crawl(Ex,o),e._module&&e._module.attributes&&bo.crawl(e._module.attributes,o);var l=e.transforms;if(l)for(var u=0;u<l.length;u++){var f=l[u],c=f._module;c&&(a="transforms["+u+"].",i=f,bo.crawl(c.attributes,o))}return t};bo.getTraceValObject=function(e,t){var r=t[0],n=1,i,a;if(r==="transforms"){if(t.length===1)return Ex.transforms;var o=e.transforms;if(!Array.isArray(o)||!o.length)return!1;var s=t[1];if(!Sx(s)||s>=o.length)return!1;i=(Zs.transformsRegistry[o[s].type]||{}).attributes,a=i&&i[t[2]],n=3}else{var l=e._module;if(l||(l=(Zs.modules[e.type||Ex.type.dflt]||{})._module),!l)return!1;if(i=l.attributes,a=i&&i[r],!a){var u=l.basePlotModule;u&&u.attributes&&(a=u.attributes[r])}a||(a=Ex[r])}return PG(a,t,n)};bo.getLayoutValObject=function(e,t){var r=nze(e,t[0]);return PG(r,t,1)};function nze(e,t){var r,n,i,a,o=e._basePlotModules;if(o){var s;for(r=0;r<o.length;r++){if(i=o[r],i.attrRegex&&i.attrRegex.test(t)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!s&&i.layoutAttributes&&(s=i.layoutAttributes)}var l=i.baseLayoutAttrOverrides;if(l&&t in l)return l[t]}if(s)return s}var u=e._modules;if(u){for(r=0;r<u.length;r++)if(a=u[r].layoutAttributes,a&&t in a)return a[t]}for(n in Zs.componentsRegistry){if(i=Zs.componentsRegistry[n],i.name==="colorscale"&&t.indexOf("coloraxis")===0)return i.layoutAttributes[t];if(!i.schema&&t===i.name)return i.layoutAttributes}return t in kE?kE[t]:!1}function PG(e,t,r){if(!e)return!1;if(e._isLinkedToArray){if(Sx(t[r]))r++;else if(r<t.length)return!1}for(;r<t.length;r++){var n=e[t[r]];if(D1(n))e=n;else break;if(r===t.length-1)break;if(e._isLinkedToArray){if(r++,!Sx(t[r]))return!1}else if(e.valType==="info_array"){r++;var i=t[r];if(!Sx(i))return!1;var a=e.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(e.dimensions===2){if(r++,t.length===r)return e;var o=t[r];if(!Sx(o))return!1;e=a[i][o]}else e=a[i]}else e=a}}return e}function Sx(e){return e===Math.round(e)&&e>=0}function ize(e){var t,r;t=Zs.modules[e]._module,r=t.basePlotModule;var n={};n.type=null;var i=Rf({},Ex),a=Rf({},t.attributes);bo.crawl(a,function(l,u,f,c,h){f3(i,h).set(void 0),l===void 0&&f3(a,h).set(void 0)}),Rf(n,i),Zs.traceIs(e,"noOpacity")&&delete n.opacity,Zs.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),Zs.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),t.selectPoints||delete n.selectedpoints,Rf(n,a),r.attributes&&Rf(n,r.attributes),n.type=e;var o={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:ep(n)};if(t.layoutAttributes){var s={};Rf(s,t.layoutAttributes),o.layoutAttributes=ep(s)}return t.animatable||bo.crawl(o,function(l){bo.isValObject(l)&&"anim"in l&&delete l.anim}),o}function aze(){var e={},t,r;Rf(e,kE);for(t in Zs.subplotsRegistry)if(r=Zs.subplotsRegistry[t],!!r.layoutAttributes)if(Array.isArray(r.attr))for(var n=0;n<r.attr.length;n++)RG(e,r,r.attr[n]);else{var i=r.attr==="subplot"?r.name:r.attr;RG(e,r,i)}for(t in Zs.componentsRegistry){r=Zs.componentsRegistry[t];var a=r.schema;if(a&&(a.subplots||a.layout)){var o=a.subplots;if(o&&o.xaxis&&!o.yaxis)for(var s in o.xaxis)delete e.yaxis[s]}else r.name==="colorscale"?Rf(e,r.layoutAttributes):r.layoutAttributes&&FG(e,r.layoutAttributes,r.name)}return{layoutAttributes:ep(e)}}function oze(e){var t=Zs.transformsRegistry[e],r=Rf({},t.attributes);return Object.keys(Zs.componentsRegistry).forEach(function(n){var i=Zs.componentsRegistry[n];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach(function(a){FG(r,i.schema.transforms[e][a],a)})}),{attributes:ep(r)}}function sze(){var e={frames:Rf({},KNe)};return ep(e),e.frames}function ep(e){return lze(e),uze(e),fze(e),e}function lze(e){function t(n){return{valType:"string",description:"Sets the source reference on Chart Studio Cloud for `"+n+"`.",editType:"none"}}function r(n,i,a){bo.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(a[i+"src"]=t(i)):D1(n)&&(n.role="object")}bo.crawl(e,r)}function uze(e){function t(r,n,i){if(r){var a=r[c3];a&&(delete r[c3],i[n]={items:{}},i[n].items[a]=r,i[n].role="object")}}bo.crawl(e,t)}function fze(e){function t(r){for(var n in r)if(D1(r[n]))t(r[n]);else if(Array.isArray(r[n]))for(var i=0;i<r[n].length;i++)t(r[n][i]);else r[n]instanceof RegExp&&(r[n]=r[n].toString())}t(e)}function RG(e,t,r){var n=f3(e,r),i=Rf({},t.layoutAttributes);i[SE]=!0,n.set(i)}function FG(e,t,r){var n=f3(e,r);n.set(Rf(n.get()||{},t))}});var bi=$(tp=>{"use strict";var q1=pt(),cze=aa(),Ld="templateitemname",LE={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};LE[Ld]={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")};tp.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=LE.name,t[Ld]=LE[Ld],t};tp.traceTemplater=function(e){var t={},r,n;for(r in e)n=e[r],Array.isArray(n)&&n.length&&(t[r]=0);function i(a){r=q1.coerce(a,{},cze,"type");var o={type:r,_template:null};if(r in t){n=e[r];var s=t[r]%n.length;t[r]++,o._template=n[s]}return o}return{newTrace:i}};tp.newContainer=function(e,t,r){var n=e._template,i=n&&(n[t]||r&&n[r]);q1.isPlainObject(i)||(i=null);var a=e[t]={_template:i};return a};tp.arrayTemplater=function(e,t,r){var n=e._template,i=n&&n[zG(t)],a=n&&n[t];(!Array.isArray(a)||!a.length)&&(a=[]);var o={};function s(u){var f={name:u.name,_input:u},c=f[Ld]=u[Ld];if(!NG(c))return f._template=i,f;for(var h=0;h<a.length;h++){var v=a[h];if(v.name===c)return o[c]=1,f._template=v,f}return f[r]=u[r]||!1,f._template=!1,f}function l(){for(var u=[],f=0;f<a.length;f++){var c=a[f],h=c.name;if(NG(h)&&!o[h]){var v={_template:c,name:h,_input:{_templateitemname:h}};v[Ld]=c[Ld],u.push(v),o[h]=1}}return u}return{newItem:s,defaultItems:l}};function NG(e){return e&&typeof e=="string"}function zG(e){var t=e.length-1;return e.charAt(t)!=="s"&&q1.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}tp.arrayDefaultKey=zG;tp.arrayEditor=function(e,t,r){var n=(q1.nestedProperty(e,t).get()||[]).length,i=r._index,a=i>=n&&(r._input||{})._templateitemname;a&&(i=n);var o=t+"["+i+"]",s;function l(){s={},a&&(s[o]={},s[o][Ld]=a)}l();function u(v,b){s[v]=b}function f(v,b){a?q1.nestedProperty(s[o],v).set(b):s[o+"."+v]=b}function c(){var v=s;return l(),v}function h(v,b){v&&f(v,b);var y=c();for(var x in y)q1.nestedProperty(e,x).set(y[x])}return{modifyBase:u,modifyItem:f,getUpdateObj:c,applyUpdate:h}}});var Qo=$((XAt,OG)=>{"use strict";var Cx=x1().counter;OG.exports={idRegex:{x:Cx("x","( domain)?"),y:Cx("y","( domain)?")},attrRegex:Cx("[xy]axis"),xAxisMatch:Cx("xaxis"),yAxisMatch:Cx("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}});var Io=$(Tu=>{"use strict";var hze=Ir(),CE=Qo();Tu.id2name=function(t){if(!(typeof t!="string"||!t.match(CE.AX_ID_PATTERN))){var r=t.split(" ")[0].substr(1);return r==="1"&&(r=""),t.charAt(0)+"axis"+r}};Tu.name2id=function(t){if(t.match(CE.AX_NAME_PATTERN)){var r=t.substr(5);return r==="1"&&(r=""),t.charAt(0)+r}};Tu.cleanId=function(t,r,n){var i=/( domain)$/.test(t);if(!(typeof t!="string"||!t.match(CE.AX_ID_PATTERN))&&!(r&&t.charAt(0)!==r)&&!(i&&!n)){var a=t.split(" ")[0].substr(1).replace(/^0+/,"");return a==="1"&&(a=""),t.charAt(0)+a+(i&&n?" domain":"")}};Tu.list=function(e,t,r){var n=e._fullLayout;if(!n)return[];var i=Tu.listIds(e,t),a=new Array(i.length),o;for(o=0;o<i.length;o++){var s=i[o];a[o]=n[s.charAt(0)+"axis"+s.substr(1)]}if(!r){var l=n._subplots.gl3d||[];for(o=0;o<l.length;o++){var u=n[l[o]];t?a.push(u[t+"axis"]):a.push(u.xaxis,u.yaxis,u.zaxis)}}return a};Tu.listIds=function(e,t){var r=e._fullLayout;if(!r)return[];var n=r._subplots;return t?n[t+"axis"]:n.xaxis.concat(n.yaxis)};Tu.getFromId=function(e,t,r){var n=e._fullLayout;return t=t===void 0||typeof t!="string"?t:t.replace(" domain",""),r==="x"?t=t.replace(/y[0-9]*/,""):r==="y"&&(t=t.replace(/x[0-9]*/,"")),n[Tu.id2name(t)]};Tu.getFromTrace=function(e,t,r){var n=e._fullLayout,i=null;if(hze.traceIs(t,"gl3d")){var a=t.scene;a.substr(0,5)==="scene"&&(i=n[a][r+"axis"])}else i=Tu.getFromId(e,t[r+"axis"]||r);return i};Tu.idSort=function(e,t){var r=e.charAt(0),n=t.charAt(0);return r!==n?r>n?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)};Tu.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function BG(e,t){if(t&&t.length){for(var r=0;r<t.length;r++)if(t[r][e])return!0}return!1}Tu.isLinked=function(e,t){return BG(t,e._axisMatchGroups)||BG(t,e._axisConstraintGroups)}});var Cd=$(($At,HG)=>{"use strict";function vze(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()}function dze(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}HG.exports={clearOutlineControllers:vze,clearOutline:dze}});var Au=$(h3=>{"use strict";var Dx=Ir(),pze=Qo().SUBPLOT_PATTERN;h3.getSubplotCalcData=function(e,t,r){var n=Dx.subplotsRegistry[t];if(!n)return[];for(var i=n.attr,a=[],o=0;o<e.length;o++){var s=e[o],l=s[0].trace;l[i]===r&&a.push(s)}return a};h3.getModuleCalcData=function(e,t){var r=[],n=[],i;if(typeof t=="string"?i=Dx.getModule(t).plot:typeof t=="function"?i=t:i=t.plot,!i)return[r,e];for(var a=0;a<e.length;a++){var o=e[a],s=o[0].trace;s.visible!==!0||s._length===0||(s._module.plot===i?r.push(o):n.push(o))}return[r,n]};h3.getSubplotData=function(t,r,n){if(!Dx.subplotsRegistry[r])return[];var i=Dx.subplotsRegistry[r].attr,a=[],o,s,l;if(r==="gl2d"){var u=n.match(pze);s="x"+u[1],l="y"+u[2]}for(var f=0;f<t.length;f++)o=t[f],r==="gl2d"&&Dx.traceIs(o,"gl2d")?o[i[0]]===s&&o[i[1]]===l&&a.push(o):o[i]===n&&a.push(o);return a}});var GG=$(rp=>{"use strict";var gze=Ir(),R1=pt();rp.manageCommandObserver=function(e,t,r,n){var i={},a=!0;t&&t._commandObserver&&(i=t._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var o=rp.hasSimpleAPICommandBindings(e,r,i.lookupTable);if(t&&t._commandObserver){if(o)return i;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,i}if(o){UG(e,o,i.cache),i.check=function(){if(a){var f=UG(e,o,i.cache);return f.changed&&n&&i.lookupTable[f.value]!==void 0&&(i.disable(),Promise.resolve(n({value:f.value,type:o.type,prop:o.prop,traces:o.traces,index:i.lookupTable[f.value]})).then(i.enable,i.enable)),f.changed}};for(var s=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],l=0;l<s.length;l++)e._internalOn(s[l],i.check);i.remove=function(){for(var u=0;u<s.length;u++)e._removeInternalListener(s[u],i.check)}}else R1.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){a=!1},i.enable=function(){a=!0},t&&(t._commandObserver=i),i};rp.hasSimpleAPICommandBindings=function(e,t,r){var n,i=t.length,a;for(n=0;n<i;n++){var o,s=t[n],l=s.method,u=s.args;if(Array.isArray(u)||(u=[]),!l)return!1;var f=rp.computeAPICommandBindings(e,l,u);if(f.length!==1)return!1;if(!a)a=f[0],Array.isArray(a.traces)&&a.traces.sort();else{if(o=f[0],o.type!==a.type||o.prop!==a.prop)return!1;if(Array.isArray(a.traces))if(Array.isArray(o.traces)){o.traces.sort();for(var c=0;c<a.traces.length;c++)if(a.traces[c]!==o.traces[c])return!1}else return!1;else if(o.prop!==a.prop)return!1}o=f[0];var h=o.value;if(Array.isArray(h))if(h.length===1)h=h[0];else return!1;r&&(r[h]=n)}return a};function UG(e,t,r){var n,i,a,o=!1;if(t.type==="data")n=e._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=e._fullLayout;else return!1;return i=R1.nestedProperty(n,t.prop).get(),a=r[t.type]=r[t.type]||{},a.hasOwnProperty(t.prop)&&a[t.prop]!==i&&(o=!0),a[t.prop]=i,{changed:o,value:i}}rp.executeAPICommand=function(e,t,r){if(t==="skip")return Promise.resolve();var n=gze.apiMethodRegistry[t],i=[e];Array.isArray(r)||(r=[]);for(var a=0;a<r.length;a++)i.push(r[a]);return n.apply(null,i).catch(function(o){return R1.warn("API call to Plotly."+t+" rejected.",o),Promise.reject(o)})};rp.computeAPICommandBindings=function(e,t,r){var n;switch(Array.isArray(r)||(r=[]),t){case"restyle":n=VG(e,r);break;case"relayout":n=jG(e,r);break;case"update":n=VG(e,[r[0],r[2]]).concat(jG(e,[r[1]]));break;case"animate":n=mze(e,r);break;default:n=[]}return n};function mze(e,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function jG(e,t){var r=[],n=t[0],i={};if(typeof n=="string")i[n]=t[1];else if(R1.isPlainObject(n))i=n;else return r;return DE(i,function(a,o,s){r.push({type:"layout",prop:a,value:s})},"",0),r}function VG(e,t){var r,n,i,a,o=[];if(n=t[0],i=t[1],r=t[2],a={},typeof n=="string")a[n]=i;else if(R1.isPlainObject(n))a=n,r===void 0&&(r=i);else return o;return r===void 0&&(r=null),DE(a,function(s,l,u){var f,c;if(Array.isArray(u)){c=u.slice();var h=Math.min(c.length,e.data.length);r&&(h=Math.min(h,r.length)),f=[];for(var v=0;v<h;v++)f[v]=r?r[v]:v}else c=u,f=r?r.slice():null;if(f===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(f)){if(!Array.isArray(c)){var b=c;c=[];for(var y=0;y<f.length;y++)c[y]=b}c.length=Math.min(f.length,c.length)}o.push({type:"data",prop:s,traces:f,value:c})},"",0),o}function DE(e,t,r,n){Object.keys(e).forEach(function(i){var a=e[i];if(i[0]!=="_"){var o=r+(n>0?".":"")+i;R1.isPlainObject(a)?DE(a,t,o,n+1):t(o,i,a)}})}});var Zi=$((QAt,sY)=>{"use strict";var KG=Nr(),yze=d1().timeFormatLocale,xze=V4().formatLocale,d3=mn(),gi=Ir(),JG=Ed(),bze=bi(),Pr=pt(),QG=Rr(),YG=Zn().BADNUM,vf=Io(),wze=Cd().clearOutline,RE=yx(),_ze=ME(),Tze=Au().getModuleCalcData,qE=Pr.relinkPrivateKeys,I1=Pr._,xr=sY.exports={};Pr.extendFlat(xr,gi);xr.attributes=aa();xr.attributes.type.values=xr.allTypes;xr.fontAttrs=Ba();xr.layoutAttributes=Z0();xr.fontWeight="normal";var p3=xr.transformsRegistry,g3=GG();xr.executeAPICommand=g3.executeAPICommand;xr.computeAPICommandBindings=g3.computeAPICommandBindings;xr.manageCommandObserver=g3.manageCommandObserver;xr.hasSimpleAPICommandBindings=g3.hasSimpleAPICommandBindings;xr.redrawText=function(e){return e=Pr.getGraphDiv(e),new Promise(function(t){setTimeout(function(){e._fullLayout&&(gi.getComponentMethod("annotations","draw")(e),gi.getComponentMethod("legend","draw")(e),gi.getComponentMethod("colorbar","draw")(e),t(xr.previousPromises(e)))},300)})};xr.resize=function(e){e=Pr.getGraphDiv(e);var t,r=new Promise(function(n,i){(!e||Pr.isHidden(e))&&i(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||Pr.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var a=e.changed;e.autoplay=!0,gi.call("relayout",e,{autosize:!0}).then(function(){e.changed=a,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return t&&t(r),r};xr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};xr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var t=e._fullLayout,r=Pr.ensureSingle(t._paper,"text","js-plot-link-container",function(l){l.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:QG.defaultLine,"pointer-events":"all"}).each(function(){var u=KG.select(this);u.append("tspan").classed("js-link-to-tool",!0),u.append("tspan").classed("js-link-spacer",!0),u.append("tspan").classed("js-sourcelinks",!0)})}),n=r.node(),i={y:t._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=t.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=t._paper.attr("width")-7),r.attr(i);var a=r.select(".js-link-to-tool"),o=r.select(".js-link-spacer"),s=r.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&Aze(e,a),o.text(a.text()&&s.text()?" - ":"")}};function Aze(e,t){t.text("");var r=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)r.on("click",function(){xr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),i=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+i})}}xr.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var r=KG.select(e).append("div").attr("id","hiddenform").style("display","none"),n=r.append("form").attr({action:t+"/external",method:"post",target:"_blank"}),i=n.append("input").attr({type:"text",name:"data"});return i.node().value=xr.graphJson(e,!1,"keepdata"),n.node().submit(),r.remove(),e.emit("plotly_afterexport"),!1}};var Mze=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],kze=["year","month","dayMonth","dayMonthYear"];xr.supplyDefaults=function(e,t){var r=t&&t.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var i=e._fullLayout={},a=e.layout||{},o=e._fullData||[],s=e._fullData=[],l=e.data||[],u=e.calcdata||[],f=e._context||{},c;e._transitionData||xr.createTransitionData(e),i._dfltTitle={plot:I1(e,"Click to enter Plot title"),x:I1(e,"Click to enter X axis title"),y:I1(e,"Click to enter Y axis title"),colorbar:I1(e,"Click to enter Colorscale title"),annotation:I1(e,"new text")},i._traceWord=I1(e,"trace");var h=WG(e,Mze);if(i._mapboxAccessToken=f.mapboxAccessToken,n._initialAutoSizeIsDone){var v=n.width,b=n.height;xr.supplyLayoutGlobalDefaults(a,i,h),a.width||(i.width=v),a.height||(i.height=b),xr.sanitizeMargins(i)}else{xr.supplyLayoutGlobalDefaults(a,i,h);var y=!a.width||!a.height,x=i.autosize,m=f.autosizable,_=y&&(x||m);_?xr.plotAutoSize(e,a,i):y&&xr.sanitizeMargins(i),!x&&y&&(a.width=i.width,a.height=i.height)}i._d3locale=Lze(h,i.separators),i._extraFormat=WG(e,kze),i._initialAutoSizeIsDone=!0,i._dataLength=l.length,i._modules=[],i._visibleModules=[],i._basePlotModules=[];var g=i._subplots=Eze(),A=i._splomAxes={x:{},y:{}},w=i._splomSubplots={};i._splomGridDflt={},i._scatterStackOpts={},i._firstScatter={},i._alignmentOpts={},i._colorAxes={},i._requestRangeslider={},i._traceUids=Sze(o,l),i._globalTransforms=(e._context||{}).globalTransforms,xr.supplyDataDefaults(l,s,a,i);var k=Object.keys(A.x),p=Object.keys(A.y);if(k.length>1&&p.length>1){for(gi.getComponentMethod("grid","sizeDefaults")(a,i),c=0;c<k.length;c++)Pr.pushUnique(g.xaxis,k[c]);for(c=0;c<p.length;c++)Pr.pushUnique(g.yaxis,p[c]);for(var d in w)Pr.pushUnique(g.cartesian,d)}if(i._has=xr._hasPlotType.bind(i),o.length===s.length)for(c=0;c<s.length;c++)qE(s[c],o[c]);xr.supplyLayoutModuleDefaults(a,i,s,e._transitionData);var M=i._visibleModules,T=[];for(c=0;c<M.length;c++){var S=M[c].crossTraceDefaults;S&&Pr.pushUnique(T,S)}for(c=0;c<T.length;c++)T[c](s,i);i._hasOnlyLargeSploms=i._basePlotModules.length===1&&i._basePlotModules[0].name==="splom"&&k.length>15&&p.length>15&&i.shapes.length===0&&i.images.length===0,xr.linkSubplots(s,i,o,n),xr.cleanPlot(s,i,o,n);var E=!!(n._has&&n._has("gl2d")),L=!!(i._has&&i._has("gl2d")),D=!!(n._has&&n._has("cartesian")),R=!!(i._has&&i._has("cartesian")),q=D||E,C=R||L;q&&!C?n._bgLayer.remove():C&&!q&&(i._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&wze({_fullLayout:n}),Cze(s,i),qE(i,n),gi.getComponentMethod("colorscale","crossTraceDefaults")(s,i),i._preGUI||(i._preGUI={}),i._tracePreGUI||(i._tracePreGUI={});var F=i._tracePreGUI,N={},U;for(U in F)N[U]="old";for(c=0;c<s.length;c++)U=s[c]._fullInput.uid,N[U]||(F[U]={}),N[U]="new";for(U in N)N[U]==="old"&&delete F[U];tY(i),gi.getComponentMethod("rangeslider","makeData")(i),!r&&u.length===s.length&&xr.supplyDefaultsUpdateCalc(u,s)};xr.supplyDefaultsUpdateCalc=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=(e[r]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o=a._arrayAttrs,s,l,u;for(s=0;s<o.length;s++)l=o[s],u=Pr.nestedProperty(a,l).get().slice(),Pr.nestedProperty(n,l).set(u)}i.trace=n}}};function Sze(e,t){var r=t.length,n=[],i,a;for(i=0;i<e.length;i++){var o=e[i]._fullInput;o!==a&&n.push(o),a=o}var s=n.length,l=new Array(r),u={};function f(v,b){l[b]=v,u[v]=1}function c(v,b){if(v&&typeof v=="string"&&!u[v])return f(v,b),!0}for(i=0;i<r;i++){var h=t[i].uid;typeof h=="number"&&(h=String(h)),!c(h,i)&&(i<s&&c(n[i].uid,i)||f(Pr.randstr(u),i))}return l}function Eze(){var e=gi.collectableSubplotTypes,t={},r,n;if(!e){e=[];var i=gi.subplotsRegistry;for(var a in i){var o=i[a],s=o.attr;if(s&&(e.push(a),Array.isArray(s)))for(n=0;n<s.length;n++)Pr.pushUnique(e,s[n])}}for(r=0;r<e.length;r++)t[e[r]]=[];return t}function WG(e,t){var r=e._context.locale;r||(r="en-US");var n=!1,i={};function a(c){for(var h=!0,v=0;v<t.length;v++){var b=t[v];i[b]||(c[b]?i[b]=c[b]:h=!1)}h&&(n=!0)}for(var o=0;o<2;o++){for(var s=e._context.locales,l=0;l<2;l++){var u=(s[r]||{}).format;if(u&&(a(u),n))break;s=gi.localeRegistry}var f=r.split("-")[0];if(n||f===r)break;r=f}return n||a(gi.localeRegistry.en.format),i}function Lze(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:function(r){try{r=xze(e).format(Pr.adjustFormat(r))}catch{return Pr.warnBadFormat(r),Pr.noFormat}return r},timeFormat:yze(e).utcFormat}}function Cze(e,t){var r,n=[];t.meta&&(r=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var a=e[i];a.meta?n[a.index]=a._meta={meta:a.meta}:t.meta&&(a._meta={meta:t.meta}),t.meta&&(a._meta.layout={meta:t.meta})}n.length&&(r||(r=t._meta={}),r.data=n)}xr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};xr._hasPlotType=function(e){var t,r=this._basePlotModules||[];for(t=0;t<r.length;t++)if(r[t].name===e)return!0;var n=this._modules||[];for(t=0;t<n.length;t++){var i=n[t].name;if(i===e)return!0;var a=gi.modules[i];if(a&&a.categories[e])return!0}return!1};xr.cleanPlot=function(e,t,r,n){var i,a,o=n._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(e,t,r,n)}var l=n._has&&n._has("gl"),u=t._has&&t._has("gl");l&&!u&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var f=!!n._infolayer;e:for(i=0;i<r.length;i++){var c=r[i],h=c.uid;for(a=0;a<e.length;a++){var v=e[a];if(h===v.uid)continue e}f&&n._infolayer.select(".cb"+h).remove()}};xr.linkSubplots=function(e,t,r,n){var i,a,o=n._plots||{},s=t._plots={},l=t._subplots,u={_fullData:e,_fullLayout:t},f=l.cartesian.concat(l.gl2d||[]);for(i=0;i<f.length;i++){var c=f[i],h=o[c],v=vf.getFromId(u,c,"x"),b=vf.getFromId(u,c,"y"),y;for(h?y=s[c]=h:(y=s[c]={},y.id=c),v._counterAxes.push(b._id),b._counterAxes.push(v._id),v._subplotsWith.push(c),b._subplotsWith.push(c),y.xaxis=v,y.yaxis=b,y._hasClipOnAxisFalse=!1,a=0;a<e.length;a++){var x=e[a];if(x.xaxis===y.xaxis._id&&x.yaxis===y.yaxis._id&&x.cliponaxis===!1){y._hasClipOnAxisFalse=!0;break}}}var m=vf.list(u,null,!0),_;for(i=0;i<m.length;i++){_=m[i];var g=null;_.overlaying&&(g=vf.getFromId(u,_.overlaying),g&&g.overlaying&&(_.overlaying=!1,g=null)),_._mainAxis=g||_,g&&(_.domain=g.domain.slice()),_._anchorAxis=_.anchor==="free"?null:vf.getFromId(u,_.anchor)}for(i=0;i<m.length;i++)if(_=m[i],_._counterAxes.sort(vf.idSort),_._subplotsWith.sort(Pr.subplotSort),_._mainSubplot=Dze(_,t),_._counterAxes.length&&(_.spikemode&&_.spikemode.indexOf("across")!==-1||_.automargin&&_.mirror&&_.anchor!=="free"||gi.getComponentMethod("rangeslider","isVisible")(_))){var A=1,w=0;for(a=0;a<_._counterAxes.length;a++){var k=vf.getFromId(u,_._counterAxes[a]);A=Math.min(A,k.domain[0]),w=Math.max(w,k.domain[1])}A<w&&(_._counterDomainMin=A,_._counterDomainMax=w)}};function Dze(e,t){var r={_fullLayout:t},n=e._id.charAt(0)==="x",i=e._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=n?e._id+s:s+e._id),!a||!t._plots[a]){a="";for(var l=e._counterAxes,u=0;u<l.length;u++){var f=l[u],c=n?e._id+f:f+e._id;o||(o=c);var h=vf.getFromId(r,f);if(s&&h.overlaying===s){a=c;break}}}return a||o}xr.clearExpandedTraceDefaultColors=function(e){var t,r,n;function i(o,s,l,u){r[u]=s,r.length=u+1,o.valType==="color"&&o.dflt===void 0&&t.push(r.join("."))}for(r=[],t=e._module._colorAttrs,t||(e._module._colorAttrs=t=[],JG.crawl(e._module.attributes,i)),n=0;n<t.length;n++){var a=Pr.nestedProperty(e,"_input."+t[n]);a.get()||Pr.nestedProperty(e,t[n]).set(null)}};xr.supplyDataDefaults=function(e,t,r,n){var i=n._modules,a=n._visibleModules,o=n._basePlotModules,s=0,l=0,u,f,c;n._transformModules=[];function h(p){t.push(p);var d=p._module;d&&(Pr.pushUnique(i,d),p.visible===!0&&Pr.pushUnique(a,d),Pr.pushUnique(o,p._module.basePlotModule),s++,p._input.visible!==!1&&l++)}var v={},b=[],y=(r.template||{}).data||{},x=bze.traceTemplater(y);for(u=0;u<e.length;u++){if(c=e[u],f=x.newTrace(c),f.uid=n._traceUids[u],xr.supplyTraceDefaults(c,f,l,n,u),f.index=u,f._input=c,f._expandedIndex=s,f.transforms&&f.transforms.length)for(var m=c.visible!==!1&&f.visible===!1,_=qze(f,t,r,n),g=0;g<_.length;g++){var A=_[g],w={_template:f._template,type:f.type,uid:f.uid+g};m&&A.visible===!1&&delete A.visible,xr.supplyTraceDefaults(A,w,s,n,u),qE(w,A),w.index=u,w._input=c,w._fullInput=f,w._expandedIndex=s,w._expandedInput=A,h(w)}else f._fullInput=f,f._expandedInput=f,h(f);gi.traceIs(f,"carpetAxis")&&(v[f.carpet]=f),gi.traceIs(f,"carpetDependent")&&b.push(u)}for(u=0;u<b.length;u++)if(f=t[b[u]],!!f.visible){var k=v[f.carpet];if(f._carpet=k,!k||!k.visible){f.visible=!1;continue}f.xaxis=k.xaxis,f.yaxis=k.yaxis}};xr.supplyAnimationDefaults=function(e){e=e||{};var t,r={};function n(i,a){return Pr.coerce(e||{},r,RE,i,a)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(r.frame=[],t=0;t<e.frame.length;t++)r.frame[t]=xr.supplyAnimationFrameDefaults(e.frame[t]||{});else r.frame=xr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(r.transition=[],t=0;t<e.transition.length;t++)r.transition[t]=xr.supplyAnimationTransitionDefaults(e.transition[t]||{});else r.transition=xr.supplyAnimationTransitionDefaults(e.transition||{});return r};xr.supplyAnimationFrameDefaults=function(e){var t={};function r(n,i){return Pr.coerce(e||{},t,RE.frame,n,i)}return r("duration"),r("redraw"),t};xr.supplyAnimationTransitionDefaults=function(e){var t={};function r(n,i){return Pr.coerce(e||{},t,RE.transition,n,i)}return r("duration"),r("easing"),t};xr.supplyFrameDefaults=function(e){var t={};function r(n,i){return Pr.coerce(e,t,_ze,n,i)}return r("group"),r("name"),r("traces"),r("baseframe"),r("data"),r("layout"),t};xr.supplyTraceDefaults=function(e,t,r,n,i){var a=n.colorway||QG.defaults,o=a[r%a.length],s;function l(_,g){return Pr.coerce(e,t,xr.attributes,_,g)}var u=l("visible");l("type"),l("name",n._traceWord+" "+i),l("uirevision",n.uirevision);var f=xr.getModule(t);if(t._module=f,f){var c=f.basePlotModule,h=c.attr,v=c.attributes;if(h&&v){var b=n._subplots,y="";if(u||c.name!=="gl2d"){if(Array.isArray(h))for(s=0;s<h.length;s++){var x=h[s],m=Pr.coerce(e,t,v,x);b[x]&&Pr.pushUnique(b[x],m),y+=m}else y=Pr.coerce(e,t,v,h);b[c.name]&&Pr.pushUnique(b[c.name],y)}}}return u&&(l("customdata"),l("ids"),l("meta"),gi.traceIs(t,"showLegend")?(Pr.coerce(e,t,f.attributes.showlegend?f.attributes:xr.attributes,"showlegend"),l("legendgroup"),l("legendgrouptitle.text"),l("legendrank"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,f&&f.supplyDefaults(e,t,o,n),gi.traceIs(t,"noOpacity")||l("opacity"),gi.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),gi.traceIs(t,"noHover")||(t.hovertemplate||Pr.coerceHoverinfo(e,t,n),t.type!=="parcats"&&gi.getComponentMethod("fx","supplyDefaults")(e,t,o,n)),f&&f.selectPoints&&l("selectedpoints"),xr.supplyTransformDefaults(e,t,n)),t};function eY(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var r=0;r<t.length;r++){var n=t[r],i=n._module||p3[n.type];if(i&&i.makesData)return!0}return!1}xr.hasMakesDataTransform=eY;xr.supplyTransformDefaults=function(e,t,r){if(t._length||eY(e)){var n=r._globalTransforms||[],i=r._transformModules||[];if(!(!Array.isArray(e.transforms)&&n.length===0))for(var a=e.transforms||[],o=n.concat(a),s=t.transforms=[],l=0;l<o.length;l++){var u=o[l],f=u.type,c=p3[f],h,v=!(u._module&&u._module===c),b=c&&typeof c.transform=="function";c||Pr.warn("Unrecognized transform type "+f+"."),c&&c.supplyDefaults&&(v||b)?(h=c.supplyDefaults(u,t,r,e),h.type=f,h._module=c,Pr.pushUnique(i,c)):h=Pr.extendFlat({},u),s.push(h)}}};function qze(e,t,r,n){for(var i=e.transforms,a=[e],o=0;o<i.length;o++){var s=i[o],l=p3[s.type];l&&l.transform&&(a=l.transform(a,{transform:s,fullTrace:e,fullData:t,layout:r,fullLayout:n,transformIndex:o}))}return a}xr.supplyLayoutGlobalDefaults=function(e,t,r){function n(u,f){return Pr.coerce(e,t,xr.layoutAttributes,u,f)}var i=e.template;Pr.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data),n("autotypenumbers");var a=Pr.coerceFont(n,"font"),o=a.size;Pr.coerceFont(n,"title.font",Pr.extendFlat({},a,{size:Math.round(o*1.4)})),n("title.text",t._dfltTitle.plot),n("title.xref"),n("title.yref"),n("title.x"),n("title.y"),n("title.xanchor"),n("title.yanchor"),n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&xr.sanitizeMargins(t),gi.getComponentMethod("grid","sizeDefaults")(e,t),n("paper_bgcolor"),n("separators",r.decimal+r.thousands),n("hidesources"),n("colorway"),n("datarevision");var l=n("uirevision");n("editrevision",l),n("selectionrevision",l),gi.getComponentMethod("modebar","supplyLayoutDefaults")(e,t),gi.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,n),gi.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,t,n),n("meta"),Pr.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),gi.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),gi.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,n)};function v3(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}xr.plotAutoSize=function(t,r,n){var i=t._context||{},a=i.frameMargins,o,s,l=Pr.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),i.fillFrame)o=window.innerWidth,s=window.innerHeight,document.body.style.overflow="hidden";else{var u=l?window.getComputedStyle(t):{};if(o=v3(u.width)||v3(u.maxWidth)||n.width,s=v3(u.height)||v3(u.maxHeight)||n.height,d3(a)&&a>0){var f=1-2*a;o=Math.round(f*o),s=Math.round(f*s)}}var c=xr.layoutAttributes.width.min,h=xr.layoutAttributes.height.min;o<c&&(o=c),s<h&&(s=h);var v=!r.width&&Math.abs(n.width-o)>1,b=!r.height&&Math.abs(n.height-s)>1;(b||v)&&(v&&(n.width=o),b&&(n.height=s)),t._initialAutoSize||(t._initialAutoSize={width:o,height:s}),xr.sanitizeMargins(n)};xr.supplyLayoutModuleDefaults=function(e,t,r,n){var i=gi.componentsRegistry,a=t._basePlotModules,o,s,l,u=gi.subplotsRegistry.cartesian;for(o in i)l=i[o],l.includeBasePlot&&l.includeBasePlot(e,t);a.length||a.push(u),t._has("cartesian")&&(gi.getComponentMethod("grid","contentDefaults")(e,t),u.finalizeSubplots(e,t));for(var f in t._subplots)t._subplots[f].sort(Pr.subplotSort);for(s=0;s<a.length;s++)l=a[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,r);var c=t._modules;for(s=0;s<c.length;s++)l=c[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,r);var h=t._transformModules;for(s=0;s<h.length;s++)l=h[s],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,r,n);for(o in i)l=i[o],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,r)};xr.purge=function(e){var t=e._fullLayout||{};t._glcontainer!==void 0&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),Pr.clearThrottle(),Pr.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};xr.style=function(e){var t=e._fullLayout._visibleModules,r=[],n;for(n=0;n<t.length;n++){var i=t[n];i.style&&Pr.pushUnique(r,i.style)}for(n=0;n<r.length;n++)r[n](e)};xr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var t=e.width,r=e.height,n=e.margin,i=t-(n.l+n.r),a=r-(n.t+n.b),o;i<0&&(o=(t-1)/(n.l+n.r),n.l=Math.floor(o*n.l),n.r=Math.floor(o*n.r)),a<0&&(o=(r-1)/(n.t+n.b),n.t=Math.floor(o*n.t),n.b=Math.floor(o*n.b))}};xr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};xr.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};function tY(e){var t=e.margin;if(!e._size){var r=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};r.w=Math.round(e.width)-r.l-r.r,r.h=Math.round(e.height)-r.t-r.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}var rY=2,nY=2,iY=64,aY=64;xr.autoMargin=function(e,t,r){var n=e._fullLayout,i=n.width,a=n.height,o=n.margin,s=Pr.constrain(i-o.l-o.r,rY,iY),l=Pr.constrain(a-o.t-o.b,nY,aY),u=Math.max(0,i-s),f=Math.max(0,a-l),c=n._pushmargin,h=n._pushmarginIds;if(o.autoexpand!==!1){if(!r)delete c[t],delete h[t];else{var v=r.pad;if(v===void 0&&(v=Math.min(12,o.l,o.r,o.t,o.b)),u){var b=(r.l+r.r)/u;b>1&&(r.l/=b,r.r/=b)}if(f){var y=(r.t+r.b)/f;y>1&&(r.t/=y,r.b/=y)}var x=r.xl!==void 0?r.xl:r.x,m=r.xr!==void 0?r.xr:r.x,_=r.yt!==void 0?r.yt:r.y,g=r.yb!==void 0?r.yb:r.y;c[t]={l:{val:x,size:r.l+v},r:{val:m,size:r.r+v},b:{val:g,size:r.b+v},t:{val:_,size:r.t+v}},h[t]=1}if(!n._replotting)return xr.doAutoMargin(e)}};xr.doAutoMargin=function(e){var t=e._fullLayout,r=t.width,n=t.height;t._size||(t._size={}),tY(t);var i=t._size,a=t.margin,o=Pr.extendFlat({},i),s=a.l,l=a.r,u=a.t,f=a.b,c=t._pushmargin,h=t._pushmarginIds;if(t.margin.autoexpand!==!1){for(var v in c)h[v]||delete c[v];c.base={l:{val:0,size:s},r:{val:1,size:l},t:{val:1,size:u},b:{val:0,size:f}};for(var b in c){var y=c[b].l||{},x=c[b].b||{},m=y.val,_=y.size,g=x.val,A=x.size;for(var w in c){if(d3(_)&&c[w].r){var k=c[w].r.val,p=c[w].r.size;if(k>m){var d=(_*k+(p-r)*m)/(k-m),M=(p*(1-m)+(_-r)*(1-k))/(k-m);d+M>s+l&&(s=d,l=M)}}if(d3(A)&&c[w].t){var T=c[w].t.val,S=c[w].t.size;if(T>g){var E=(A*T+(S-n)*g)/(T-g),L=(S*(1-g)+(A-n)*(1-T))/(T-g);E+L>f+u&&(f=E,u=L)}}}}}var D=Pr.constrain(r-a.l-a.r,rY,iY),R=Pr.constrain(n-a.t-a.b,nY,aY),q=Math.max(0,r-D),C=Math.max(0,n-R);if(q){var F=(s+l)/q;F>1&&(s/=F,l/=F)}if(C){var N=(f+u)/C;N>1&&(f/=N,u/=N)}if(i.l=Math.round(s),i.r=Math.round(l),i.t=Math.round(u),i.b=Math.round(f),i.p=Math.round(a.pad),i.w=Math.round(r)-i.l-i.r,i.h=Math.round(n)-i.t-i.b,!t._replotting&&xr.didMarginChange(o,i)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var U=3*(1+Object.keys(h).length);if(t._redrawFromAutoMarginCount<U)return gi.call("_doPlot",e);t._size=o,Pr.warn("Too many auto-margin redraws.")}Rze(e)};function Rze(e){var t=vf.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(r){for(var n=0;n<t.length;n++){var i=t[n][r];i&&i()}})}var XG=["l","r","t","b","p","w","h"];xr.didMarginChange=function(e,t){for(var r=0;r<XG.length;r++){var n=XG[r],i=e[n],a=t[n];if(!d3(i)||Math.abs(a-i)>1)return!0}return!1};xr.graphJson=function(e,t,r,n,i,a){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&xr.supplyDefaults(e);var o=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,l=(e._transitionData||{})._frames;function u(h,v){if(typeof h=="function")return v?"_function_":null;if(Pr.isPlainObject(h)){var b={},y;return Object.keys(h).sort().forEach(function(x){if(["_","["].indexOf(x.charAt(0))===-1){if(typeof h[x]=="function"){v&&(b[x]="_function");return}if(r==="keepdata"){if(x.substr(x.length-3)==="src")return}else if(r==="keepstream"){if(y=h[x+"src"],typeof y=="string"&&y.indexOf(":")>0&&!Pr.isPlainObject(h.stream))return}else if(r!=="keepall"&&(y=h[x+"src"],typeof y=="string"&&y.indexOf(":")>0))return;b[x]=u(h[x],v)}}),b}return Array.isArray(h)?h.map(function(x){return u(x,v)}):Pr.isTypedArray(h)?Pr.simpleMap(h,Pr.identity):Pr.isJSDate(h)?Pr.ms2DateTimeLocal(+h):h}var f={data:(o||[]).map(function(h){var v=u(h);return t&&delete v.fit,v})};if(!t&&(f.layout=u(s),i)){var c=s._size;f.layout.computed={margin:{b:c.b,l:c.l,r:c.r,t:c.t}}}return l&&(f.frames=u(l)),a&&(f.config=u(e._context,!0)),n==="object"?f:JSON.stringify(f)};xr.modifyFrames=function(e,t){var r,n,i,a=e._transitionData._frames,o=e._transitionData._frameHash;for(r=0;r<t.length;r++)switch(n=t[r],n.type){case"replace":i=n.value;var s=(a[n.index]||{}).name,l=i.name;a[n.index]=o[l]=i,l!==s&&(delete o[s],o[l]=i);break;case"insert":i=n.value,o[i.name]=i,a.splice(n.index,0,i);break;case"delete":i=a[n.index],delete o[i.name],a.splice(n.index,1);break}return Promise.resolve()};xr.computeFrame=function(e,t){var r=e._transitionData._frameHash,n,i,a,o;if(!t)throw new Error("computeFrame must be given a string frame name");var s=r[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=r[s.baseframe.toString()])&&u.indexOf(s.name)===-1;)l.push(s),u.push(s.name);for(var f={};s=l.pop();)if(s.layout&&(f.layout=xr.extendLayout(f.layout,s.layout)),s.data){if(f.data||(f.data=[]),i=s.traces,!i)for(i=[],n=0;n<s.data.length;n++)i[n]=n;for(f.traces||(f.traces=[]),n=0;n<s.data.length;n++)a=i[n],a!=null&&(o=f.traces.indexOf(a),o===-1&&(o=f.data.length,f.traces[o]=a),f.data[o]=xr.extendTrace(f.data[o],s.data[n]))}return f};xr.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},r=e._transitionData._frames,n=0;n<r.length;n++){var i=r[n];i&&i.name&&(t[i.name]=i)}};xr.extendObjectWithContainers=function(e,t,r){var n,i,a,o,s,l,u,f,c=Pr.extendDeepNoArrays({},t||{}),h=Pr.expandObjectPaths(c),v={};if(r&&r.length)for(a=0;a<r.length;a++)n=Pr.nestedProperty(h,r[a]),i=n.get(),i===void 0?Pr.nestedProperty(v,r[a]).set(null):(n.set(null),Pr.nestedProperty(v,r[a]).set(i));if(e=Pr.extendDeepNoArrays(e||{},h),r&&r.length){for(a=0;a<r.length;a++)if(s=Pr.nestedProperty(v,r[a]),u=s.get(),!!u){for(l=Pr.nestedProperty(e,r[a]),f=l.get(),Array.isArray(f)||(f=[],l.set(f)),o=0;o<u.length;o++){var b=u[o];b===null?f[o]=null:f[o]=xr.extendObjectWithContainers(f[o],b)}l.set(f)}}return e};xr.dataArrayContainers=["transforms","dimensions"];xr.layoutArrayContainers=gi.layoutArrayContainers;xr.extendTrace=function(e,t){return xr.extendObjectWithContainers(e,t,xr.dataArrayContainers)};xr.extendLayout=function(e,t){return xr.extendObjectWithContainers(e,t,xr.layoutArrayContainers)};xr.transition=function(e,t,r,n,i,a){var o={redraw:i.redraw},s={},l=[];return o.prepareFn=function(){for(var u=Array.isArray(t)?t.length:0,f=n.slice(0,u),c=0;c<f.length;c++){var h=f[c],v=e._fullData[h],b=v._module;if(b){if(b.animatable){var y=b.basePlotModule.name;s[y]||(s[y]=[]),s[y].push(h)}e.data[f[c]]=xr.extendTrace(e.data[f[c]],t[c])}}var x=Pr.expandObjectPaths(Pr.extendDeepNoArrays({},r)),m=/^[xy]axis[0-9]*$/;for(var _ in x)m.test(_)&&delete x[_].range;xr.extendLayout(e.layout,x),delete e.calcdata,xr.supplyDefaults(e),xr.doCalcdata(e);var g=Pr.expandObjectPaths(r);if(g){var A=e._fullLayout._plots;for(var w in A){var k=A[w],p=k.xaxis,d=k.yaxis,M=p.range.slice(),T=d.range.slice(),S=null,E=null,L=null,D=null;Array.isArray(g[p._name+".range"])?S=g[p._name+".range"].slice():Array.isArray((g[p._name]||{}).range)&&(S=g[p._name].range.slice()),Array.isArray(g[d._name+".range"])?E=g[d._name+".range"].slice():Array.isArray((g[d._name]||{}).range)&&(E=g[d._name].range.slice()),M&&S&&(p.r2l(M[0])!==p.r2l(S[0])||p.r2l(M[1])!==p.r2l(S[1]))&&(L={xr0:M,xr1:S}),T&&E&&(d.r2l(T[0])!==d.r2l(E[0])||d.r2l(T[1])!==d.r2l(E[1]))&&(D={yr0:T,yr1:E}),(L||D)&&l.push(Pr.extendFlat({plotinfo:k},L,D))}}return Promise.resolve()},o.runFn=function(u){var f,c=e._fullLayout._basePlotModules,h=l.length,v;if(r)for(v=0;v<c.length;v++)c[v].transitionAxes&&c[v].transitionAxes(e,l,a,u);h?(f=Pr.extendFlat({},a),f.duration=0,delete s.cartesian):f=a;for(var b in s){var y=s[b],x=e._fullData[y[0]]._module;x.basePlotModule.plot(e,y,f,u)}},oY(e,a,o)};xr.transitionFromReact=function(e,t,r,n){var i=e._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var l=i._plots;o.redraw=!1,t.anim==="some"&&(o.redraw=!0),r.anim==="some"&&(o.redraw=!0);for(var u in l){var f=l[u],c=f.xaxis,h=f.yaxis,v=n[c._name].range.slice(),b=n[h._name].range.slice(),y=c.range.slice(),x=h.range.slice();c.setScale(),h.setScale();var m=null,_=null;(c.r2l(v[0])!==c.r2l(y[0])||c.r2l(v[1])!==c.r2l(y[1]))&&(m={xr0:v,xr1:y}),(h.r2l(b[0])!==h.r2l(x[0])||h.r2l(b[1])!==h.r2l(x[1]))&&(_={yr0:b,yr1:x}),(m||_)&&s.push(Pr.extendFlat({plotinfo:f},m,_))}return Promise.resolve()},o.runFn=function(l){for(var u=e._fullData,f=e._fullLayout,c=f._basePlotModules,h,v,b,y=[],x=0;x<u.length;x++)y.push(x);function m(){if(e._fullLayout)for(var g=0;g<c.length;g++)c[g].transitionAxes&&c[g].transitionAxes(e,s,h,l)}function _(){if(e._fullLayout)for(var g=0;g<c.length;g++)c[g].plot(e,b,v,l)}s.length&&t.anim?a.ordering==="traces first"?(h=Pr.extendFlat({},a,{duration:0}),b=y,v=a,setTimeout(m,a.duration),_()):(h=a,b=null,v=Pr.extendFlat({},a,{duration:0}),setTimeout(_,h.duration),m()):s.length?(h=a,m()):t.anim&&(b=y,v=a,_())},oY(e,a,o)};function oY(e,t,r){var n=!1;function i(c){var h=Promise.resolve();if(!c)return h;for(;c.length;)h=h.then(c.shift());return h}function a(c){if(c)for(;c.length;)c.shift()}function o(){return e.emit("plotly_transitioning",[]),new Promise(function(c){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),r.redraw&&e._transitionData._interruptCallbacks.push(function(){return gi.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var h=0,v=0;function b(){return h++,function(){v++,!n&&v===h&&s(c)}}r.runFn(b),setTimeout(b())})}function s(c){if(e._transitionData)return a(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(r.redraw)return gi.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(c)}function l(){if(e._transitionData)return e._transitioning=!1,i(e._transitionData._interruptCallbacks)}var u=[xr.previousPromises,l,r.prepareFn,xr.rehover,xr.reselect,o],f=Pr.syncOrAsync(u,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}xr.doCalcdata=function(e,t){var r=vf.list(e),n=e._fullData,i=e._fullLayout,a,o,s,l,u=new Array(n.length),f=(e.calcdata||[]).slice();for(e.calcdata=u,i._numBoxes=0,i._numViolins=0,i._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,i._piecolormap={},i._sunburstcolormap={},i._treemapcolormap={},i._iciclecolormap={},i._funnelareacolormap={},s=0;s<n.length;s++)if(Array.isArray(t)&&t.indexOf(s)===-1){u[s]=f[s];continue}for(s=0;s<n.length;s++)a=n[s],a._arrayAttrs=JG.findArrayAttributes(a),a._extremes={};var c=i._subplots.polar||[];for(s=0;s<c.length;s++)r.push(i[c[s]].radialaxis,i[c[s]].angularaxis);for(var h in i._colorAxes){var v=i[h];v.cauto!==!1&&(delete v.cmin,delete v.cmax)}var b=!1;function y(_){if(a=n[_],o=a._module,a.visible===!0&&a.transforms){if(o&&o.calc){var g=o.calc(e,a);g[0]&&g[0].t&&g[0].t._scene&&delete g[0].t._scene.dirty}for(l=0;l<a.transforms.length;l++){var A=a.transforms[l];o=p3[A.type],o&&o.calcTransform&&(a._hasCalcTransform=!0,b=!0,o.calcTransform(e,a,A))}}}function x(_,g){if(a=n[_],o=a._module,!!o.isContainer===g){var A=[];if(a.visible===!0&&a._length!==0){delete a._indexToPoints;var w=a.transforms||[];for(l=w.length-1;l>=0;l--)if(w[l].enabled){a._indexToPoints=w[l]._indexToPoints;break}o&&o.calc&&(A=o.calc(e,a))}(!Array.isArray(A)||!A[0])&&(A=[{x:YG,y:YG}]),A[0].t||(A[0].t={}),A[0].trace=a,u[_]=A}}for(ZG(r,n,i),s=0;s<n.length;s++)x(s,!0);for(s=0;s<n.length;s++)y(s);for(b&&ZG(r,n,i),s=0;s<n.length;s++)x(s,!0);for(s=0;s<n.length;s++)x(s,!1);$G(e);var m=Pze(r,e);if(m.length){for(i._numBoxes=0,i._numViolins=0,s=0;s<m.length;s++)x(m[s],!0);for(s=0;s<m.length;s++)x(m[s],!1);$G(e)}gi.getComponentMethod("fx","calc")(e),gi.getComponentMethod("errorbars","calc")(e)};var Ize=/(total|sum|min|max|mean|median) (ascending|descending)/;function Pze(e,t){var r=[],n,i,a,o,s;function l(q,C,F){var N=C._id.charAt(0);if(q==="histogram2dcontour"){var U=C._counterAxes[0],V=vf.getFromId(t,U),Y=N==="x"||U==="x"&&V.type==="category",K=N==="y"||U==="y"&&V.type==="category";return function(B,z){return B===0||z===0||Y&&B===F[z].length-1||K&&z===F.length-1?-1:(N==="y"?z:B)-1}}else return function(B,z){return N==="y"?z:B}}var u={min:function(q){return Pr.aggNums(Math.min,null,q)},max:function(q){return Pr.aggNums(Math.max,null,q)},sum:function(q){return Pr.aggNums(function(C,F){return C+F},null,q)},total:function(q){return Pr.aggNums(function(C,F){return C+F},null,q)},mean:function(q){return Pr.mean(q)},median:function(q){return Pr.median(q)}};for(n=0;n<e.length;n++){var f=e[n];if(f.type==="category"){var c=f.categoryorder.match(Ize);if(c){var h=c[1],v=c[2],b=f._id.charAt(0),y=b==="x",x=[];for(i=0;i<f._categories.length;i++)x.push([f._categories[i],[]]);for(i=0;i<f._traceIndices.length;i++){var m=f._traceIndices[i],_=t._fullData[m];if(_.visible===!0){var g=_.type;gi.traceIs(_,"histogram")&&(delete _._xautoBinFinished,delete _._yautoBinFinished);var A=g==="splom",w=g==="scattergl",k=t.calcdata[m];for(a=0;a<k.length;a++){var p=k[a],d,M;if(A){var T=_._axesDim[f._id];if(!y){var S=_._diag[T][0];S&&(f=t._fullLayout[vf.id2name(S)])}var E=p.trace.dimensions[T].values;for(o=0;o<E.length;o++)for(d=f._categoriesMap[E[o]],s=0;s<p.trace.dimensions.length;s++)if(s!==T){var L=p.trace.dimensions[s];x[d][1].push(L.values[o])}}else if(w){for(o=0;o<p.t.x.length;o++)y?(d=p.t.x[o],M=p.t.y[o]):(d=p.t.y[o],M=p.t.x[o]),x[d][1].push(M);p.t&&p.t._scene&&delete p.t._scene.dirty}else if(p.hasOwnProperty("z")){M=p.z;var D=l(_.type,f,M);for(o=0;o<M.length;o++)for(s=0;s<M[o].length;s++)d=D(s,o),d+1&&x[d][1].push(M[o][s])}else for(d=p.p,d===void 0&&(d=p[b]),M=p.s,M===void 0&&(M=p.v),M===void 0&&(M=y?p.y:p.x),Array.isArray(M)||(M===void 0?M=[]:M=[M]),o=0;o<M.length;o++)x[d][1].push(M[o])}}}f._categoriesValue=x;var R=[];for(i=0;i<x.length;i++)R.push([x[i][0],u[h](x[i][1])]);R.sort(function(q,C){return q[1]-C[1]}),f._categoriesAggregatedValue=R,f._initialCategories=R.map(function(q){return q[0]}),v==="descending"&&f._initialCategories.reverse(),r=r.concat(f.sortByInitialCategories())}}}return r}function ZG(e,t,r){var n={};function i(l){l.clearCalc(),l.type==="multicategory"&&l.setupMultiCategory(t),n[l._id]=1}Pr.simpleMap(e,i);for(var a=r._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])n[s]||i(r[vf.id2name(s)])}function $G(e){var t=e._fullLayout,r=t._visibleModules,n={},i,a,o;for(a=0;a<r.length;a++){var s=r[a],l=s.crossTraceCalc;if(l){var u=s.basePlotModule.name;n[u]?Pr.pushUnique(n[u],l):n[u]=[l]}}for(o in n){var f=n[o],c=t._subplots[o];if(Array.isArray(c))for(i=0;i<c.length;i++){var h=c[i],v=o==="cartesian"?t._plots[h]:t[h];for(a=0;a<f.length;a++)f[a](e,v,h)}else for(a=0;a<f.length;a++)f[a](e)}}xr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};xr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};xr.reselect=function(e){var t=e._fullLayout,r=(e.layout||{}).selections,n=t._previousSelections;t._previousSelections=r;var i=t._reselect||JSON.stringify(r)!==JSON.stringify(n);gi.getComponentMethod("selections","reselect")(e,i)};xr.generalUpdatePerTraceModule=function(e,t,r,n){var i=t.traceHash,a={},o;for(o=0;o<r.length;o++){var s=r[o],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var u in i)if(!a[u]){var f=i[u][0],c=f[0].trace;c.visible=!1,a[u]=[f]}for(var h in a){var v=a[h],b=v[0][0].trace._module;b.plot(e,t,Pr.filterVisible(v),n)}t.traceHash=a};xr.plotBasePlot=function(e,t,r,n,i){var a=gi.getModule(e),o=Tze(t.calcdata,a)[0];a.plot(t,o,n,i)};xr.cleanBasePlot=function(e,t,r,n,i){var a=i._has&&i._has(e),o=r._has&&r._has(e);a&&!o&&i["_"+e+"layer"].selectAll("g.trace").remove()}});var kh=$(np=>{"use strict";np.xmlns="http://www.w3.org/2000/xmlns/";np.svg="http://www.w3.org/2000/svg";np.xlink="http://www.w3.org/1999/xlink";np.svgAttrs={xmlns:np.svg,"xmlns:xlink":np.xlink}});var es=$((tMt,lY)=>{"use strict";lY.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Ta=$(If=>{"use strict";var wo=Nr(),bv=pt(),Fze=bv.strTranslate,IE=kh(),Nze=es().LINE_SPACING,zze=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;If.convertToTspans=function(e,t,r){var n=e.text(),i=!e.attr("data-notex")&&t&&t._context.typesetMath&&typeof MathJax<"u"&&n.match(zze),a=wo.select(e.node().parentNode);if(a.empty())return;var o=e.attr("class")?e.attr("class").split(" ")[0]:"text";o+="-math",a.selectAll("svg."+o).remove(),a.selectAll("g."+o+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function s(){a.empty()||(o=e.attr("class")+"-math",a.select("svg."+o).remove()),e.text("").style("white-space","pre");var l=Kze(e.node(),n);l&&e.style("pointer-events","all"),If.positionText(e),r&&r.call(e)}return i?(t&&t._promises||[]).push(new Promise(function(l){e.style("display","none");var u=parseInt(e.node().style.fontSize,10),f={fontSize:u};Uze(i[2],f,function(c,h,v){a.selectAll("svg."+o).remove(),a.selectAll("g."+o+"-group").remove();var b=c&&c.select("svg");if(!b||!b.node()){s(),l();return}var y=a.append("g").classed(o+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});y.node().appendChild(b.node()),h&&h.node()&&b.node().insertBefore(h.node().cloneNode(!0),b.node().firstChild);var x=v.width,m=v.height;b.attr({class:o,height:m,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var _=e.node().style.fill||"black",g=b.select("g");g.attr({fill:_,stroke:_});var A=g.node().getBoundingClientRect(),w=A.width,k=A.height;(w>x||k>m)&&(b.style("overflow","hidden"),A=b.node().getBoundingClientRect(),w=A.width,k=A.height);var p=+e.attr("x"),d=+e.attr("y"),M=u||e.node().getBoundingClientRect().height,T=-M/4;if(o[0]==="y")y.attr({transform:"rotate("+[-90,p,d]+")"+Fze(-w/2,T-k/2)});else if(o[0]==="l")d=T-k/2;else if(o[0]==="a"&&o.indexOf("atitle")!==0)p=0,d=T;else{var S=e.attr("text-anchor");p=p-w*(S==="middle"?.5:S==="end"?1:0),d=d+T-k/2}b.attr({x:p,y:d}),r&&r.call(e,y),l(y)})})):s(),e};var Oze=/(<|&lt;|&#60;)/g,Bze=/(>|&gt;|&#62;)/g;function Hze(e){return e.replace(Oze,"\\lt ").replace(Bze,"\\gt ")}var uY=[["$","$"],["\\(","\\)"]];function Uze(e,t,r){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){bv.warn("No MathJax version:",MathJax.version);return}var i,a,o,s,l=function(){return a=bv.extendDeepAll({},MathJax.Hub.config),o=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:uY},displayAlign:"left"})},u=function(){a=bv.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=uY},f=function(){if(i=MathJax.Hub.config.menuSettings.renderer,i!=="SVG")return MathJax.Hub.setRenderer("SVG")},c=function(){i=MathJax.config.startup.output,i!=="svg"&&(MathJax.config.startup.output="svg")},h=function(){var _="math-output-"+bv.randstr({},64);s=wo.select("body").append("div").attr({id:_}).style({visibility:"hidden",position:"absolute","font-size":t.fontSize+"px"}).text(Hze(e));var g=s.node();return n===2?MathJax.Hub.Typeset(g):MathJax.typeset([g])},v=function(){var _=s.select(n===2?".MathJax_SVG":".MathJax"),g=!_.empty()&&s.select("svg").node();if(!g)bv.log("There was an error in the tex syntax.",e),r();else{var A=g.getBoundingClientRect(),w;n===2?w=wo.select("body").select("#MathJax_SVG_glyphs"):w=_.select("defs"),r(_,w,A)}s.remove()},b=function(){if(i!=="SVG")return MathJax.Hub.setRenderer(i)},y=function(){i!=="svg"&&(MathJax.config.startup.output=i)},x=function(){return o!==void 0&&(MathJax.Hub.processSectionDelay=o),MathJax.Hub.Config(a)},m=function(){MathJax.config=a};n===2?MathJax.Hub.Queue(l,f,h,v,b,x):n===3&&(u(),c(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){h(),v(),y(),m()}))}var vY={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},jze={sub:"0.3em",sup:"-0.6em"},Vze={sub:"-0.21em",sup:"0.42em"},fY="\u200B",cY=["http:","https:","mailto:","",void 0,":"],dY=If.NEWLINES=/(\r\n?|\n)/g,FE=/(<[^<>]*>)/,NE=/<(\/?)([^ >]*)(\s+(.*))?>/i,Gze=/<br(\s+.*)?>/i;If.BR_TAG_ALL=/<br(\s+.*)?>/gi;var pY=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,gY=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,mY=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Yze=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function ip(e,t){if(!e)return null;var r=e.match(t),n=r&&(r[3]||r[4]);return n&&m3(n)}var Wze=/(^|;)\s*color:/;If.plainText=function(e,t){t=t||{};for(var r=t.len!==void 0&&t.len!==-1?t.len:1/0,n=t.allowedTags!==void 0?t.allowedTags:["br"],i="...",a=i.length,o=e.split(FE),s=[],l="",u=0,f=0;f<o.length;f++){var c=o[f],h=c.match(NE),v=h&&h[2].toLowerCase();if(v)n.indexOf(v)!==-1&&(s.push(c),l=v);else{var b=c.length;if(u+b<r)s.push(c),u+=b;else if(u<r){var y=r-u;l&&(l!=="br"||y<=a||b<=a)&&s.pop(),r>a?s.push(c.substr(0,y-a)+i):s.push(c.substr(0,y));break}l=""}}return s.join("")};var Xze={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},Zze=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function m3(e){return e.replace(Zze,function(t,r){var n;return r.charAt(0)==="#"?n=$ze(r.charAt(1)==="x"?parseInt(r.substr(2),16):parseInt(r.substr(1),10)):n=Xze[r],n||t})}If.convertEntities=m3;function $ze(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var r=String.fromCharCode;return e<=65535?r(e):r((e>>10)+55232,e%1024+56320)}}function Kze(e,t){t=t.replace(dY," ");var r=!1,n=[],i,a=-1;function o(){a++;var k=document.createElementNS(IE.svg,"tspan");wo.select(k).attr({class:"line",dy:a*Nze+"em"}),e.appendChild(k),i=k;var p=n;if(n=[{node:k}],p.length>1)for(var d=1;d<p.length;d++)s(p[d])}function s(k){var p=k.type,d={},M;if(p==="a"){M="a";var T=k.target,S=k.href,E=k.popup;S&&(d={"xlink:xlink:show":T==="_blank"||T.charAt(0)!=="_"?"new":"replace",target:T,"xlink:xlink:href":S},E&&(d.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+E+'");return false;'))}else M="tspan";k.style&&(d.style=k.style);var L=document.createElementNS(IE.svg,M);if(p==="sup"||p==="sub"){l(i,fY),i.appendChild(L);var D=document.createElementNS(IE.svg,"tspan");l(D,fY),wo.select(D).attr("dy",Vze[p]),d.dy=jze[p],i.appendChild(L),i.appendChild(D)}else i.appendChild(L);wo.select(L).attr(d),i=k.node=L,n.push(k)}function l(k,p){k.appendChild(document.createTextNode(p))}function u(k){if(n.length===1){bv.log("Ignoring unexpected end tag </"+k+">.",t);return}var p=n.pop();k!==p.type&&bv.log("Start tag <"+p.type+"> doesnt match end tag <"+k+">. Pretending it did match.",t),i=n[n.length-1].node}var f=Gze.test(t);f?o():(i=e,n=[{node:e}]);for(var c=t.split(FE),h=0;h<c.length;h++){var v=c[h],b=v.match(NE),y=b&&b[2].toLowerCase(),x=vY[y];if(y==="br")o();else if(x===void 0)l(i,m3(v));else if(b[1])u(y);else{var m=b[4],_={type:y},g=ip(m,pY);if(g?(g=g.replace(Wze,"$1 fill:"),x&&(g+=";"+x)):x&&(g=x),g&&(_.style=g),y==="a"){r=!0;var A=ip(m,gY);if(A){var w=yY(A);w&&(_.href=w,_.target=ip(m,mY)||"_blank",_.popup=ip(m,Yze))}}s(_)}}return r}function yY(e){var t=encodeURI(decodeURI(e)),r=document.createElement("a"),n=document.createElement("a");r.href=e,n.href=t;var i=r.protocol,a=n.protocol;return cY.indexOf(i)!==-1&&cY.indexOf(a)!==-1?t:""}If.sanitizeHTML=function(t){t=t.replace(dY," ");for(var r=document.createElement("p"),n=r,i=[],a=t.split(FE),o=0;o<a.length;o++){var s=a[o],l=s.match(NE),u=l&&l[2].toLowerCase();if(u in vY)if(l[1])i.length&&(n=i.pop());else{var f=l[4],c=ip(f,pY),h=c?{style:c}:{};if(u==="a"){var v=ip(f,gY);if(v){var b=yY(v);if(b){h.href=b;var y=ip(f,mY);y&&(h.target=y)}}}var x=document.createElement(u);n.appendChild(x),wo.select(x).attr(h),n=x,i.push(x)}else n.appendChild(document.createTextNode(m3(s)))}var m="innerHTML";return r[m]};If.lineCount=function(t){return t.selectAll("tspan.line").size()||1};If.positionText=function(t,r,n){return t.each(function(){var i=wo.select(this);function a(l,u){return u===void 0?(u=i.attr(l),u===null&&(i.attr(l,0),u=0)):i.attr(l,u),u}var o=a("x",r),s=a("y",n);this.nodeName==="text"&&i.selectAll("tspan.line").attr({x:o,y:s})})};function hY(e,t,r){var n=r.horizontalAlign,i=r.verticalAlign||"top",a=e.node().getBoundingClientRect(),o=t.node().getBoundingClientRect(),s,l,u;return i==="bottom"?l=function(){return a.bottom-s.height}:i==="middle"?l=function(){return a.top+(a.height-s.height)/2}:l=function(){return a.top},n==="right"?u=function(){return a.right-s.width}:n==="center"?u=function(){return a.left+(a.width-s.width)/2}:u=function(){return a.left},function(){s=this.node().getBoundingClientRect();var f=u()-o.left,c=l()-o.top,h=r.gd||{};if(r.gd){h._fullLayout._calcInverseTransform(h);var v=bv.apply3DTransform(h._fullLayout._invTransform)(f,c);f=v[0],c=v[1]}return this.style({top:c+"px",left:f+"px","z-index":1e3}),this}}var PE="1px ";If.makeTextShadow=function(e){var t=PE,r=PE,n=PE;return t+r+n+e+", -"+t+"-"+r+n+e+", "+t+"-"+r+n+e+", -"+t+r+n+e};If.makeEditable=function(e,t){var r=t.gd,n=t.delegate,i=wo.dispatch("edit","input","cancel"),a=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function o(){l(),e.style({opacity:0});var u=a.attr("class"),f;u?f="."+u.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&wo.select(e.node().parentNode).select(f).style({opacity:0})}function s(u){var f=u.node(),c=document.createRange();c.selectNodeContents(f);var h=window.getSelection();h.removeAllRanges(),h.addRange(c),f.focus()}function l(){var u=wo.select(r),f=u.select(".svg-container"),c=f.append("div"),h=e.node().style,v=parseFloat(h.fontSize||12),b=t.text;b===void 0&&(b=e.attr("data-unformatted")),c.classed("plugin-editable editable",!0).style({position:"absolute","font-family":h.fontFamily||"Arial","font-size":v,color:t.fill||h.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-v/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(b).call(hY(e,f,t)).on("blur",function(){r._editing=!1,e.text(this.textContent).style({opacity:1});var y=wo.select(this).attr("class"),x;y?x="."+y.split(" ")[0]+"-math-group":x="[class*=-math-group]",x&&wo.select(e.node().parentNode).select(x).style({opacity:0});var m=this.textContent;wo.select(this).transition().duration(0).remove(),wo.select(document).on("mouseup",null),i.edit.call(e,m)}).on("focus",function(){var y=this;r._editing=!0,wo.select(document).on("mouseup",function(){if(wo.event.target===y)return!1;document.activeElement===c.node()&&c.node().blur()})}).on("keyup",function(){wo.event.which===27?(r._editing=!1,e.style({opacity:1}),wo.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),i.cancel.call(e,this.textContent)):(i.input.call(e,this.textContent),wo.select(this).call(hY(e,f,t)))}).on("keydown",function(){wo.event.which===13&&this.blur()}).call(s)}return t.immediate?o():a.on("click",o),wo.rebind(e,i,"on")}});var jl=$((nMt,kY)=>{"use strict";var Jze=Nr(),x3=Ko(),Rx=mn(),y3=pt(),xY=Rr(),Qze=Y0().isValid;function eOe(e,t,r){var n=t?y3.nestedProperty(e,t).get()||{}:e,i=n[r||"color"],a=!1;if(y3.isArrayOrTypedArray(i)){for(var o=0;o<i.length;o++)if(Rx(i[o])){a=!0;break}}return y3.isPlainObject(n)&&(a||n.showscale===!0||Rx(n.cmin)&&Rx(n.cmax)||Qze(n.colorscale)||y3.isPlainObject(n.colorbar))}var bY=["showscale","autocolorscale","colorscale","reversescale","colorbar"],qx=["min","max","mid","auto"];function _Y(e){var t=e._colorAx,r=t||e,n={},i,a,o;for(a=0;a<bY.length;a++)o=bY[a],n[o]=r[o];if(t)for(i="c",a=0;a<qx.length;a++)o=qx[a],n[o]=r["c"+o];else{var s;for(a=0;a<qx.length;a++){if(o=qx[a],s="c"+o,s in r){n[o]=r[s];continue}s="z"+o,s in r&&(n[o]=r[s])}i=s.charAt(0)}return n._sync=function(l,u){var f=qx.indexOf(l)!==-1?i+l:l;r[f]=r["_"+f]=u},n}function TY(e){for(var t=_Y(e),r=t.min,n=t.max,i=t.reversescale?AY(t.colorscale):t.colorscale,a=i.length,o=new Array(a),s=new Array(a),l=0;l<a;l++){var u=i[l];o[l]=r+u[0]*(n-r),s[l]=u[1]}return{domain:o,range:s}}function AY(e){for(var t=e.length,r=new Array(t),n=t-1,i=0;n>=0;n--,i++){var a=e[n];r[i]=[1-a[0],a[1]]}return r}function MY(e,t){t=t||{};for(var r=e.domain,n=e.range,i=n.length,a=new Array(i),o=0;o<i;o++){var s=x3(n[o]).toRgb();a[o]=[s.r,s.g,s.b,s.a]}var l=Jze.scale.linear().domain(r).range(a).clamp(!0),u=t.noNumericCheck,f=t.returnArray,c;return u&&f?c=l:u?c=function(h){return wY(l(h))}:f?c=function(h){return Rx(h)?l(h):x3(h).isValid()?h:xY.defaultLine}:c=function(h){return Rx(h)?wY(l(h)):x3(h).isValid()?h:xY.defaultLine},c.domain=l.domain,c.range=function(){return n},c}function tOe(e,t){return MY(TY(e),t)}function wY(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return x3(t).toRgbString()}kY.exports={hasColorscale:eOe,extractOpts:_Y,extractScale:TY,flipScale:AY,makeColorScaleFunc:MY,makeColorScaleFuncFromTrace:tOe}});var zE=$((iMt,SY)=>{"use strict";SY.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Ha=$((aMt,CY)=>{"use strict";var EY=zE(),rOe=EY.FORMAT_LINK,nOe=EY.DATE_FORMAT_LINK;function iOe(e,t){return{valType:"string",dflt:"",editType:"none",description:(t?OE:LY)("hover text",e)+["By default the values are formatted using "+(t?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function OE(e,t){return["Sets the "+e+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+rOe+"."].join(" ")}function LY(e,t){return OE(e,t)+[" And for dates see: "+nOe+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}CY.exports={axisHoverFormat:iOe,descriptionOnlyNumbers:OE,descriptionWithDates:LY}});var xl=$((oMt,XY)=>{"use strict";var BE=Ba(),P1=Ro(),YY=Ul().dash,WY=ln().extendFlat,DY=bi().templatedArray,qY=Ha().descriptionWithDates,aOe=Zn().ONEDAY,Sh=Qo(),HE=Sh.HOUR_PATTERN,UE=Sh.WEEKDAY_PATTERN,RY={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")};function IY(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")}}var PY={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},FY={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},NY={valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},zY={valType:"enumerated",values:["outside","inside",""],editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")};function OY(e){var t={valType:"number",min:0,editType:"ticks",description:"Sets the tick length (in px)."};return e||(t.dflt=5),t}function BY(e){var t={valType:"number",min:0,editType:"ticks",description:"Sets the tick width (in px)."};return e||(t.dflt=1),t}var HY={valType:"color",dflt:P1.defaultLine,editType:"ticks",description:"Sets the tick color."},UY={valType:"color",dflt:P1.lightLine,editType:"ticks",description:"Sets the color of the grid lines."};function jY(e){var t={valType:"number",min:0,editType:"ticks",description:"Sets the width (in px) of the grid lines."};return e||(t.dflt=1),t}var VY=WY({},YY,{editType:"ticks"}),GY={valType:"boolean",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")};XY.exports={visible:{valType:"boolean",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:P1.defaultLine,editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",editType:"ticks",description:["Sets the title of this axis.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:BE({editType:"ticks",description:["Sets this axis' title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),standoff:{valType:"number",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[Sh.idRegex.x.toString(),Sh.idRegex.y.toString()],editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[Sh.idRegex.x.toString(),Sh.idRegex.y.toString()],editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:DY("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[UE,HE,""],editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+UE+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+HE+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+UE+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+HE+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",editType:"calc",min:0,dflt:aOe,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:RY,nticks:IY(),tick0:PY,dtick:FY,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks",description:["Sets the spacing between tick labels as compared to the spacing between ticks.","A value of 1 (default) means each tick gets a label.","A value of 2 means shows every 2nd label.","A larger value n means only every nth tick is labeled.","`tick0` determines which labels are shown.","Not implemented for axes with `type` *log* or *multicategory*, or when `tickmode` is *array*."].join(" ")},tickvals:NY,ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:zY,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*.","Similarly","left or right has no effect on y axes or when `ticklabelmode` is set to *period*.","Has no effect on *multicategory* axes or when `tickson` is set to *boundaries*.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc",description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","Otherwise on *category* and *multicategory* axes the default is *allow*.","In other cases the default is *hide past div*."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:OY(),tickwidth:BY(),tickcolor:HY,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks",description:"Determines whether or not the tick labels are drawn."},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:WY({},YY,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:BE({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"ticks",description:qY("tick label")},tickformatstops:DY("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:qY("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:P1.defaultLine,editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:GY,gridcolor:UY,gridwidth:jY(),griddash:VY,zeroline:{valType:"boolean",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:P1.defaultLine,editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:P1.defaultLine,editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",Sh.idRegex.x.toString(),Sh.idRegex.y.toString()],editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",Sh.idRegex.x.toString(),Sh.idRegex.y.toString()],editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},minor:{tickmode:RY,nticks:IY("minor"),tick0:PY,dtick:FY,tickvals:NY,ticks:zY,ticklen:OY("minor"),tickwidth:BY("minor"),tickcolor:HY,gridcolor:UY,gridwidth:jY("minor"),griddash:VY,showgrid:GY,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")},title:{valType:"string",editType:"ticks",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the axis' title, please use `title.text` now."].join(" ")},titlefont:BE({editType:"ticks",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}}});var b3=$((sMt,$Y)=>{"use strict";var Aa=xl(),jE=Ba(),ZY=ln().extendFlat,oOe=Fa().overrideAll;$Y.exports=oOe({orientation:{valType:"enumerated",values:["h","v"],dflt:"v",description:"Sets the orientation of the colorbar."},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,description:["Sets the x position of the color bar (in plot fraction).","Defaults to 1.02 when `orientation` is *v* and","0.5 when `orientation` is *h*."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar.","Defaults to *left* when `orientation` is *v* and","*center* when `orientation` is *h*."].join(" ")},xpad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction).","Defaults to 0.5 when `orientation` is *v* and","1.02 when `orientation` is *h*."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar.","Defaults to *middle* when `orientation` is *v* and","*bottom* when `orientation` is *h*."].join(" ")},ypad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:Aa.linecolor,outlinewidth:Aa.linewidth,bordercolor:Aa.linecolor,borderwidth:{valType:"number",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:Aa.tickmode,nticks:Aa.nticks,tick0:Aa.tick0,dtick:Aa.dtick,tickvals:Aa.tickvals,ticktext:Aa.ticktext,ticks:ZY({},Aa.ticks,{dflt:""}),ticklabeloverflow:ZY({},Aa.ticklabeloverflow,{description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","In other cases the default is *hide past div*."].join(" ")}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",description:["Determines where tick labels are drawn relative to the ticks.","Left and right options are used when `orientation` is *h*,","top and bottom when `orientation` is *v*."].join(" ")},ticklen:Aa.ticklen,tickwidth:Aa.tickwidth,tickcolor:Aa.tickcolor,ticklabelstep:Aa.ticklabelstep,showticklabels:Aa.showticklabels,tickfont:jE({description:"Sets the color bar's tick label font"}),tickangle:Aa.tickangle,tickformat:Aa.tickformat,tickformatstops:Aa.tickformatstops,tickprefix:Aa.tickprefix,showtickprefix:Aa.showtickprefix,ticksuffix:Aa.ticksuffix,showticksuffix:Aa.showticksuffix,separatethousands:Aa.separatethousands,exponentformat:Aa.exponentformat,minexponent:Aa.minexponent,showexponent:Aa.showexponent,title:{text:{valType:"string",description:["Sets the title of the color bar.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:jE({description:["Sets this color bar's title font.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),side:{valType:"enumerated",values:["right","top","bottom"],description:["Determines the location of color bar's title","with respect to the color bar.","Defaults to *top* when `orientation` if *v* and ","defaults to *right* when `orientation` if *h*.","Note that the title's location used to be set","by the now deprecated `titleside` attribute."].join(" ")}},_deprecated:{title:{valType:"string",description:["Deprecated in favor of color bar's `title.text`.","Note that value of color bar's `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:jE({description:"Deprecated in favor of color bar's `title.font`."}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top",description:"Deprecated in favor of color bar's `title.side`."}}},"colorbars","from-root")});var Ma=$((lMt,JY)=>{"use strict";var sOe=b3(),lOe=x1().counter,uOe=_x(),KY=Y0().scales,fOe=uOe(KY);function Ix(e){return"`"+e+"`"}JY.exports=function(t,r){t=t||"",r=r||{};var n=r.cLetter||"c",i="onlyIfNumerical"in r?r.onlyIfNumerical:Boolean(t),a="noScale"in r?r.noScale:t==="marker.line",o="showScaleDflt"in r?r.showScaleDflt:n==="z",s=typeof r.colorscaleDflt=="string"?KY[r.colorscaleDflt]:null,l=r.editTypeOverride||"",u=t?t+".":"",f,c;"colorAttr"in r?(f=r.colorAttr,c=r.colorAttr):(f={z:"z",c:"color"}[n],c="in "+Ix(u+f));var h=i?" Has an effect only if "+c+" is set to a numerical array.":"",v=n+"auto",b=n+"min",y=n+"max",x=n+"mid",m=Ix(u+v),_=Ix(u+b),g=Ix(u+y),A=_+" and "+g,w={};w[b]=w[y]=void 0;var k={};k[v]=!1;var p={};return f==="color"&&(p.color={valType:"color",arrayOk:!0,editType:l||"style",description:["Sets the",t,"color.","It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to",A,"if set."].join(" ")},r.anim&&(p.color.anim=!0)),p[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:w,description:["Determines whether or not the color domain is computed","with respect to the input data (here "+c+") or the bounds set in",A+h,"Defaults to `false` when",A,"are set by the user."].join(" ")},p[b]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:k,description:["Sets the lower bound of the color domain."+h,"Value should have the same units as",c,"and if set,",g,"must be set as well."].join(" ")},p[y]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:k,description:["Sets the upper bound of the color domain."+h,"Value should have the same units as",c,"and if set,",_,"must be set as well."].join(" ")},p[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:w,description:["Sets the mid-point of the color domain by scaling",_,"and/or",g,"to be equidistant to this point."+h,"Value should have the same units as",c+".","Has no effect when",m,"is `false`."].join(" ")},p.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale."+h,"The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use",A+".","Alternatively, `colorscale` may be a palette name string","of the following list: "+fOe+"."].join(" ")},p.autocolorscale={valType:"boolean",dflt:r.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by",Ix(u+"colorscale")+"."+h,"In case `colorscale` is unspecified or `autocolorscale` is true, the default","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" ")},p.reversescale={valType:"boolean",dflt:!1,editType:"plot",description:["Reverses the color mapping if true."+h,"If true,",_,"will correspond to the last color","in the array and",g,"will correspond to the first color."].join(" ")},a||(p.showscale={valType:"boolean",dflt:o,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."+h].join(" ")},p.colorbar=sOe),r.noColorAxis||(p.coloraxis={valType:"subplotid",regex:lOe("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),p}});var YE=$((uMt,QY)=>{"use strict";var cOe=ln().extendFlat,hOe=Ma(),VE=Y0().scales,GE="Note that `autocolorscale` must be true for this attribute to work.";QY.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:VE.Reds,editType:"calc",description:["Sets the default sequential colorscale for positive values.",GE].join(" ")},sequentialminus:{valType:"colorscale",dflt:VE.Blues,editType:"calc",description:["Sets the default sequential colorscale for negative values.",GE].join(" ")},diverging:{valType:"colorscale",dflt:VE.RdBu,editType:"calc",description:["Sets the default diverging colorscale.",GE].join(" ")}},coloraxis:cOe({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},hOe("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var WE=$((fMt,eW)=>{"use strict";var vOe=pt();eW.exports=function(t){return vOe.isPlainObject(t.colorbar)}});var $E=$(ZE=>{"use strict";var XE=mn(),tW=pt(),rW=Zn(),dOe=rW.ONEDAY,pOe=rW.ONEWEEK;ZE.dtick=function(e,t){var r=t==="log",n=t==="date",i=t==="category",a=n?dOe:1;if(!e)return a;if(XE(e))return e=Number(e),e<=0?a:i?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||r))return a;var o=e.charAt(0),s=e.substr(1);return s=XE(s)?Number(s):0,s<=0||!(n&&o==="M"&&s===Math.round(s)||r&&o==="L"||r&&o==="D"&&(s===1||s===2))?a:e};ZE.tick0=function(e,t,r,n){if(t==="date")return tW.cleanDate(e,tW.dateTick0(r,n%pOe===0?1:0));if(!(n==="D1"||n==="D2"))return XE(e)?Number(e):0}});var ap=$((hMt,iW)=>{"use strict";var nW=$E(),gOe=pt().isArrayOrTypedArray;iW.exports=function(t,r,n,i,a){a||(a={});var o=a.isMinor,s=o?t.minor||{}:t,l=o?r.minor:r,u=o?"minor.":"";function f(_){var g=s[_];return g!==void 0?g:(l._template||{})[_]}var c=f("tick0"),h=f("dtick"),v=f("tickvals"),b=gOe(v)?"array":h?"linear":"auto",y=n(u+"tickmode",b);if(y==="auto")n(u+"nticks");else if(y==="linear"){var x=l.dtick=nW.dtick(h,i);l.tick0=nW.tick0(c,i,r.calendar,x)}else if(i!=="multicategory"){var m=n(u+"tickvals");m===void 0?l.tickmode="auto":o||n("ticktext")}}});var F1=$((vMt,oW)=>{"use strict";var KE=pt(),aW=xl();oW.exports=function(t,r,n,i){var a=i.isMinor,o=a?t.minor||{}:t,s=a?r.minor:r,l=a?aW.minor:aW,u=a?"minor.":"",f=KE.coerce2(o,s,l,"ticklen",a?(r.ticklen||5)*.6:void 0),c=KE.coerce2(o,s,l,"tickwidth",a?r.tickwidth||1:void 0),h=KE.coerce2(o,s,l,"tickcolor",(a?r.tickcolor:void 0)||s.color),v=n(u+"ticks",!a&&i.outerTicks||f||c||h?"outside":"");v||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}});var JE=$((dMt,sW)=>{"use strict";sW.exports=function(t){var r=["showexponent","showtickprefix","showticksuffix"],n=r.filter(function(a){return t[a]!==void 0}),i=function(a){return t[a]===t[n[0]]};if(n.every(i)||n.length===1)return t[n[0]]}});var Mu=$((pMt,lW)=>{"use strict";var w3=pt(),mOe=bi();lW.exports=function(t,r,n){var i=n.name,a=n.inclusionAttr||"visible",o=r[i],s=w3.isArrayOrTypedArray(t[i])?t[i]:[],l=r[i]=[],u=mOe.arrayTemplater(r,i,a),f,c;for(f=0;f<s.length;f++){var h=s[f];w3.isPlainObject(h)?c=u.newItem(h):(c=u.newItem({}),c[a]=!1),c._index=f,c[a]!==!1&&n.handleItemDefaults(h,c,r,n),l.push(c)}var v=u.defaultItems();for(f=0;f<v.length;f++)c=v[f],c._index=l.length,n.handleItemDefaults({},c,r,n,{}),l.push(c);if(w3.isArrayOrTypedArray(o)){var b=Math.min(o.length,l.length);for(f=0;f<b;f++)w3.relinkPrivateKeys(l[f],o[f])}return l}});var op=$((gMt,cW)=>{"use strict";var uW=pt(),yOe=Rr().contrast,fW=xl(),xOe=JE(),bOe=Mu();cW.exports=function(t,r,n,i,a){a||(a={});var o=xOe(t),s=n("showticklabels");if(s){var l=a.font||{},u=r.color,f=r.ticklabelposition||"",c=f.indexOf("inside")!==-1?yOe(a.bgColor):u&&u!==fW.color.dflt?u:l.color;if(uW.coerceFont(n,"tickfont",{family:l.family,size:l.size,color:c}),!a.noTicklabelstep&&i!=="multicategory"&&i!=="log"&&n("ticklabelstep"),a.noAng||n("tickangle"),i!=="category"){var h=n("tickformat");bOe(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:wOe}),r.tickformatstops.length||delete r.tickformatstops,!a.noExp&&!h&&i!=="date"&&(n("showexponent",o),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function wOe(e,t){function r(i,a){return uW.coerce(e,t,fW.tickformatstops,i,a)}var n=r("enabled");n&&(r("dtickrange"),r("value"))}});var sp=$((mMt,hW)=>{"use strict";var _Oe=JE();hW.exports=function(t,r,n,i,a){a||(a={});var o=a.tickSuffixDflt,s=_Oe(t),l=n("tickprefix");l&&n("showtickprefix",s);var u=n("ticksuffix",o);u&&n("showticksuffix",s)}});var QE=$((yMt,vW)=>{"use strict";var N1=pt(),TOe=bi(),AOe=ap(),MOe=F1(),kOe=op(),SOe=sp(),EOe=b3();vW.exports=function(t,r,n){var i=TOe.newContainer(r,"colorbar"),a=t.colorbar||{};function o(g,A){return N1.coerce(a,i,EOe,g,A)}var s=n.margin||{t:0,b:0,l:0,r:0},l=n.width-s.l-s.r,u=n.height-s.t-s.b,f=o("orientation"),c=f==="v",h=o("thicknessmode");o("thickness",h==="fraction"?30/(c?l:u):30);var v=o("lenmode");o("len",v==="fraction"?1:c?u:l),o("x",c?1.02:.5),o("xanchor",c?"left":"center"),o("xpad"),o("y",c?.5:1.02),o("yanchor",c?"middle":"bottom"),o("ypad"),N1.noneOrAll(a,i,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var b=N1.coerce(a,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",b.indexOf("inside")!==-1?"hide past domain":"hide past div"),AOe(a,i,o,"linear");var y=n.font,x={outerTicks:!1,font:y};b.indexOf("inside")!==-1&&(x.bgColor="black"),SOe(a,i,o,"linear",x),kOe(a,i,o,"linear",x),MOe(a,i,o,"linear",x),o("title.text",n._dfltTitle.colorbar);var m=i.tickfont,_=N1.extendFlat({},m,{color:y.color,size:N1.bigFont(m.size)});N1.coerceFont(o,"title.font",_),o("title.side",c?"top":"right")}});var $s=$((xMt,gW)=>{"use strict";var dW=mn(),tL=pt(),LOe=WE(),COe=QE(),pW=Y0().isValid,DOe=Ir().traceIs;function eL(e,t){var r=t.slice(0,t.length-1);return t?tL.nestedProperty(e,r).get()||{}:e}gW.exports=function e(t,r,n,i,a){var o=a.prefix,s=a.cLetter,l="_module"in r,u=eL(t,o),f=eL(r,o),c=eL(r._template||{},o)||{},h=function(){return delete t.coloraxis,delete r.coloraxis,e(t,r,n,i,a)};if(l){var v=n._colorAxes||{},b=i(o+"coloraxis");if(b){var y=DOe(r,"contour")&&tL.nestedProperty(r,"contours.coloring").get()||"heatmap",x=v[b];x?(x[2].push(h),x[0]!==y&&(x[0]=!1,tL.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):v[b]=[y,r,[h]];return}}var m=u[s+"min"],_=u[s+"max"],g=dW(m)&&dW(_)&&m<_,A=i(o+s+"auto",!g);A?i(o+s+"mid"):(i(o+s+"min"),i(o+s+"max"));var w=u.colorscale,k=c.colorscale,p;if(w!==void 0&&(p=!pW(w)),k!==void 0&&(p=!pW(k)),i(o+"autocolorscale",p),i(o+"colorscale"),i(o+"reversescale"),o!=="marker.line."){var d;o&&l&&(d=LOe(u));var M=i(o+"showscale",d);M&&(o&&c&&(f._template=c),COe(u,f,n))}}});var bW=$((bMt,xW)=>{"use strict";var mW=pt(),qOe=bi(),yW=YE(),ROe=$s();xW.exports=function(t,r){function n(c,h){return mW.coerce(t,r,yW,c,h)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var i=r._colorAxes,a,o;function s(c,h){return mW.coerce(a,o,yW.coloraxis,c,h)}for(var l in i){var u=i[l];if(u[0])a=t[l]||{},o=qOe.newContainer(r,l,"coloraxis"),o._name=l,ROe(a,o,r,s,{prefix:"",cLetter:"c"});else{for(var f=0;f<u[2].length;f++)u[2][f]();delete r._colorAxes[l]}}}});var _W=$((wMt,wW)=>{"use strict";var IOe=pt(),POe=jl().hasColorscale,FOe=jl().extractOpts;wW.exports=function(t,r){function n(f,c){var h=f["_"+c];h!==void 0&&(f[c]=h)}function i(f,c){var h=c.container?IOe.nestedProperty(f,c.container).get():f;if(h)if(h.coloraxis)h._colorAx=r[h.coloraxis];else{var v=FOe(h),b=v.auto;(b||v.min===void 0)&&n(h,c.min),(b||v.max===void 0)&&n(h,c.max),v.autocolorscale&&n(h,"colorscale")}}for(var a=0;a<t.length;a++){var o=t[a],s=o._module.colorbar;if(s)if(Array.isArray(s))for(var l=0;l<s.length;l++)i(o,s[l]);else i(o,s);POe(o,"marker.line")&&i(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in r._colorAxes)i(r[u],{min:"cmin",max:"cmax"})}});var ku=$((_Mt,AW)=>{"use strict";var TW=mn(),rL=pt(),NOe=jl().extractOpts;AW.exports=function(t,r,n){var i=t._fullLayout,a=n.vals,o=n.containerStr,s=o?rL.nestedProperty(r,o).get():r,l=NOe(s),u=l.auto!==!1,f=l.min,c=l.max,h=l.mid,v=function(){return rL.aggNums(Math.min,null,a)},b=function(){return rL.aggNums(Math.max,null,a)};if(f===void 0?f=v():u&&(s._colorAx&&TW(f)?f=Math.min(f,v()):f=v()),c===void 0?c=b():u&&(s._colorAx&&TW(c)?c=Math.max(c,b()):c=b()),u&&h!==void 0&&(c-h>h-f?f=h-(c-h):c-h<h-f&&(c=h+(h-f))),f===c&&(f-=.5,c+=.5),l._sync("min",f),l._sync("max",c),l.autocolorscale){var y;f*c<0?y=i.colorscale.diverging:f>=0?y=i.colorscale.sequential:y=i.colorscale.sequentialminus,l._sync("colorscale",y)}}});var Wa=$((TMt,MW)=>{"use strict";var _3=Y0(),z1=jl();MW.exports={moduleType:"component",name:"colorscale",attributes:Ma(),layoutAttributes:YE(),supplyLayoutDefaults:bW(),handleDefaults:$s(),crossTraceDefaults:_W(),calc:ku(),scales:_3.scales,defaultScale:_3.defaultScale,getScale:_3.get,isValidScale:_3.isValid,hasColorscale:z1.hasColorscale,extractOpts:z1.extractOpts,extractScale:z1.extractScale,flipScale:z1.flipScale,makeColorScaleFunc:z1.makeColorScaleFunc,makeColorScaleFuncFromTrace:z1.makeColorScaleFuncFromTrace}});var ts=$((AMt,SW)=>{"use strict";var kW=pt();SW.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){return kW.isPlainObject(e.marker)&&kW.isArrayOrTypedArray(e.marker.size)}}});var nL=$((MMt,EW)=>{"use strict";var zOe=mn();EW.exports=function(t,r){r||(r=2);var n=t.marker,i=n.sizeref||1,a=n.sizemin||0,o=n.sizemode==="area"?function(s){return Math.sqrt(s/i)}:function(s){return s/i};return function(s){var l=o(s/r);return zOe(l)&&l>0?Math.max(l,a):0}}});var Pf=$(Ks=>{"use strict";var LW=pt();Ks.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};Ks.isTraceInSubplots=function(e,t){if(e.type==="splom"){for(var r=e.xaxes||[],n=e.yaxes||[],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(t.indexOf(r[i]+n[a])!==-1)return!0;return!1}return t.indexOf(Ks.getSubplot(e))!==-1};Ks.flat=function(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)r[n]=t;return r};Ks.p2c=function(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)r[n]=e[n].p2c(t);return r};Ks.getDistanceFunction=function(e,t,r,n){return e==="closest"?n||Ks.quadrature(t,r):e.charAt(0)==="x"?t:r};Ks.getClosest=function(e,t,r){if(r.index!==!1)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var n=0;n<e.length;n++){var i=t(e[n]);i<=r.distance&&(r.index=n,r.distance=i)}return r};Ks.inbox=function(e,t,r){return e*t<0||e===0?r:1/0};Ks.quadrature=function(e,t){return function(r){var n=e(r),i=t(r);return Math.sqrt(n*n+i*i)}};Ks.makeEventData=function(e,t,r){var n="index"in e?e.index:e.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var a=t._indexToPoints[n];a.length===1?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=n;return t._module.eventData?i=t._module.eventData(i,e,t,r,n):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),e.zLabelVal!==void 0&&(i.z=e.zLabelVal)),Ks.appendArrayPointValue(i,t,n),i};Ks.appendArrayPointValue=function(e,t,r){var n=t._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=CW(a);if(e[o]===void 0){var s=LW.nestedProperty(t,a).get(),l=DW(s,r);l!==void 0&&(e[o]=l)}}};Ks.appendArrayMultiPointValues=function(e,t,r){var n=t._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=CW(a);if(e[o]===void 0){for(var s=LW.nestedProperty(t,a).get(),l=new Array(r.length),u=0;u<r.length;u++)l[u]=DW(s,r[u]);e[o]=l}}};var OOe={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function CW(e){return OOe[e]||e}function DW(e,t){if(Array.isArray(t)){if(Array.isArray(e)&&Array.isArray(e[t[0]]))return e[t[0]][t[1]]}else return e[t]}var BOe={x:!0,y:!0},HOe={"x unified":!0,"y unified":!0};Ks.isUnifiedHover=function(e){return typeof e!="string"?!1:!!HOe[e]};Ks.isXYhover=function(e){return typeof e!="string"?!1:!!BOe[e]}});var RW=$((SMt,qW)=>{"use strict";var pr=Nr();qW.exports={circle:{n:0,f:function(e){var t=pr.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=pr.round(e*1.3,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=pr.round(e*.4,2),r=pr.round(e*1.2,2);return"M"+r+","+t+"H"+t+"V"+r+"H-"+t+"V"+t+"H-"+r+"V-"+t+"H-"+t+"V-"+r+"H"+t+"V-"+t+"H"+r+"Z"}},x:{n:4,f:function(e){var t=pr.round(e*.8/Math.sqrt(2),2),r="l"+t+","+t,n="l"+t+",-"+t,i="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+r+n+i+n+i+a+i+a+r+a+r+"Z"}},"triangle-up":{n:5,f:function(e){var t=pr.round(e*2/Math.sqrt(3),2),r=pr.round(e/2,2),n=pr.round(e,2);return"M-"+t+","+r+"H"+t+"L0,-"+n+"Z"}},"triangle-down":{n:6,f:function(e){var t=pr.round(e*2/Math.sqrt(3),2),r=pr.round(e/2,2),n=pr.round(e,2);return"M-"+t+",-"+r+"H"+t+"L0,"+n+"Z"}},"triangle-left":{n:7,f:function(e){var t=pr.round(e*2/Math.sqrt(3),2),r=pr.round(e/2,2),n=pr.round(e,2);return"M"+r+",-"+t+"V"+t+"L-"+n+",0Z"}},"triangle-right":{n:8,f:function(e){var t=pr.round(e*2/Math.sqrt(3),2),r=pr.round(e/2,2),n=pr.round(e,2);return"M-"+r+",-"+t+"V"+t+"L"+n+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=pr.round(e*.6,2),r=pr.round(e*1.2,2);return"M-"+r+",-"+t+"H"+t+"V"+r+"Z"}},"triangle-se":{n:10,f:function(e){var t=pr.round(e*.6,2),r=pr.round(e*1.2,2);return"M"+t+",-"+r+"V"+t+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(e){var t=pr.round(e*.6,2),r=pr.round(e*1.2,2);return"M"+r+","+t+"H-"+t+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(e){var t=pr.round(e*.6,2),r=pr.round(e*1.2,2);return"M-"+t+","+r+"V-"+t+"H"+r+"Z"}},pentagon:{n:13,f:function(e){var t=pr.round(e*.951,2),r=pr.round(e*.588,2),n=pr.round(-e,2),i=pr.round(e*-.309,2),a=pr.round(e*.809,2);return"M"+t+","+i+"L"+r+","+a+"H-"+r+"L-"+t+","+i+"L0,"+n+"Z"}},hexagon:{n:14,f:function(e){var t=pr.round(e,2),r=pr.round(e/2,2),n=pr.round(e*Math.sqrt(3)/2,2);return"M"+n+",-"+r+"V"+r+"L0,"+t+"L-"+n+","+r+"V-"+r+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=pr.round(e,2),r=pr.round(e/2,2),n=pr.round(e*Math.sqrt(3)/2,2);return"M-"+r+","+n+"H"+r+"L"+t+",0L"+r+",-"+n+"H-"+r+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=pr.round(e*.924,2),r=pr.round(e*.383,2);return"M-"+r+",-"+t+"H"+r+"L"+t+",-"+r+"V"+r+"L"+r+","+t+"H-"+r+"L-"+t+","+r+"V-"+r+"Z"}},star:{n:17,f:function(e){var t=e*1.4,r=pr.round(t*.225,2),n=pr.round(t*.951,2),i=pr.round(t*.363,2),a=pr.round(t*.588,2),o=pr.round(-t,2),s=pr.round(t*-.309,2),l=pr.round(t*.118,2),u=pr.round(t*.809,2),f=pr.round(t*.382,2);return"M"+r+","+s+"H"+n+"L"+i+","+l+"L"+a+","+u+"L0,"+f+"L-"+a+","+u+"L-"+i+","+l+"L-"+n+","+s+"H-"+r+"L0,"+o+"Z"}},hexagram:{n:18,f:function(e){var t=pr.round(e*.66,2),r=pr.round(e*.38,2),n=pr.round(e*.76,2);return"M-"+n+",0l-"+r+",-"+t+"h"+n+"l"+r+",-"+t+"l"+r+","+t+"h"+n+"l-"+r+","+t+"l"+r+","+t+"h-"+n+"l-"+r+","+t+"l-"+r+",-"+t+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=pr.round(e*Math.sqrt(3)*.8,2),r=pr.round(e*.8,2),n=pr.round(e*1.6,2),i=pr.round(e*4,2),a="A "+i+","+i+" 0 0 1 ";return"M-"+t+","+r+a+t+","+r+a+"0,-"+n+a+"-"+t+","+r+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=pr.round(e*Math.sqrt(3)*.8,2),r=pr.round(e*.8,2),n=pr.round(e*1.6,2),i=pr.round(e*4,2),a="A "+i+","+i+" 0 0 1 ";return"M"+t+",-"+r+a+"-"+t+",-"+r+a+"0,"+n+a+t+",-"+r+"Z"}},"star-square":{n:21,f:function(e){var t=pr.round(e*1.1,2),r=pr.round(e*2,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+t+",-"+t+n+"-"+t+","+t+n+t+","+t+n+t+",-"+t+n+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=pr.round(e*1.4,2),r=pr.round(e*1.9,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+t+",0"+n+"0,"+t+n+t+",0"+n+"0,-"+t+n+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=pr.round(e*.7,2),r=pr.round(e*1.4,2);return"M0,"+r+"L"+t+",0L0,-"+r+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=pr.round(e*1.4,2),r=pr.round(e*.7,2);return"M0,"+r+"L"+t+",0L0,-"+r+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=pr.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=pr.round(e,2),r=pr.round(e/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=pr.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=pr.round(e*1.3,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=pr.round(e*1.3,2),r=pr.round(e*.65,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=pr.round(e*1.4,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=pr.round(e*1.2,2),r=pr.round(e*.85,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=pr.round(e/2,2),r=pr.round(e,2);return"M"+t+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+t+"H-"+r+"m0,-"+r+"H"+r},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=pr.round(e*1.2,2),r=pr.round(e*1.6,2),n=pr.round(e*.8,2);return"M-"+t+","+n+"L0,0M"+t+","+n+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=pr.round(e*1.2,2),r=pr.round(e*1.6,2),n=pr.round(e*.8,2);return"M-"+t+",-"+n+"L0,0M"+t+",-"+n+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=pr.round(e*1.2,2),r=pr.round(e*1.6,2),n=pr.round(e*.8,2);return"M"+n+","+t+"L0,0M"+n+",-"+t+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=pr.round(e*1.2,2),r=pr.round(e*1.6,2),n=pr.round(e*.8,2);return"M-"+n+","+t+"L0,0M-"+n+",-"+t+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=pr.round(e*1.4,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=pr.round(e*1.4,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=pr.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=pr.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=pr.round(e,2),r=pr.round(e*2,2);return"M0,0L-"+t+","+r+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=pr.round(e,2),r=pr.round(e*2,2);return"M0,0L-"+t+",-"+r+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=pr.round(e*2,2),r=pr.round(e,2);return"M0,0L"+t+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=pr.round(e*2,2),r=pr.round(e,2);return"M0,0L-"+t+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=pr.round(e,2),r=pr.round(e*2,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=pr.round(e,2),r=pr.round(e*2,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=pr.round(e*2,2),r=pr.round(e,2);return"M0,-"+r+"V"+r+"M0,0L"+t+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=pr.round(e*2,2),r=pr.round(e,2);return"M0,-"+r+"V"+r+"M0,0L-"+t+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0}}});var un=$((EMt,YW)=>{"use strict";var Ci=Nr(),va=pt(),UOe=va.numberFormat,Px=mn(),jOe=Ko(),A3=Ir(),Su=Rr(),VOe=Wa(),Fx=va.strTranslate,oL=Ta(),GOe=kh(),YOe=es(),WOe=YOe.LINE_SPACING,BW=y1().DESELECTDIM,XOe=ts(),ZOe=nL(),$Oe=Pf().appendArrayPointValue,Er=YW.exports={};Er.font=function(e,t,r,n){va.isPlainObject(t)&&(n=t.color,r=t.size,t=t.family),t&&e.style("font-family",t),r+1&&e.style("font-size",r+"px"),n&&e.call(Su.fill,n)};Er.setPosition=function(e,t,r){e.attr("x",t).attr("y",r)};Er.setSize=function(e,t,r){e.attr("width",t).attr("height",r)};Er.setRect=function(e,t,r,n,i){e.call(Er.setPosition,t,r).call(Er.setSize,n,i)};Er.translatePoint=function(e,t,r,n){var i=r.c2p(e.x),a=n.c2p(e.y);if(Px(i)&&Px(a)&&t.node())t.node().nodeName==="text"?t.attr("x",i).attr("y",a):t.attr("transform",Fx(i,a));else return!1;return!0};Er.translatePoints=function(e,t,r){e.each(function(n){var i=Ci.select(this);Er.translatePoint(n,i,t,r)})};Er.hideOutsideRangePoint=function(e,t,r,n,i,a){t.attr("display",r.isPtWithinRange(e,i)&&n.isPtWithinRange(e,a)?null:"none")};Er.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var r=t.xaxis,n=t.yaxis;e.each(function(i){var a=i[0].trace,o=a.xcalendar,s=a.ycalendar,l=A3.traceIs(a,"bar-like")?".bartext":".point,.textpoint";e.selectAll(l).each(function(u){Er.hideOutsideRangePoint(u,Ci.select(this),r,n,o,s)})})}};Er.crispRound=function(e,t,r){return!t||!Px(t)?r||0:e._context.staticPlot?t:t<1?1:Math.round(t)};Er.singleLineStyle=function(e,t,r,n,i){t.style("fill","none");var a=(((e||[])[0]||{}).trace||{}).line||{},o=r||a.width||0,s=i||a.dash||"";Su.stroke(t,n||a.color),Er.dashLine(t,s,o)};Er.lineGroupStyle=function(e,t,r,n){e.style("fill","none").each(function(i){var a=(((i||[])[0]||{}).trace||{}).line||{},o=t||a.width||0,s=n||a.dash||"";Ci.select(this).call(Su.stroke,r||a.color).call(Er.dashLine,s,o)})};Er.dashLine=function(e,t,r){r=+r||0,t=Er.dashStyle(t,r),e.style({"stroke-dasharray":t,"stroke-width":r+"px"})};Er.dashStyle=function(e,t){t=+t||1;var r=Math.max(t,3);return e==="solid"?e="":e==="dot"?e=r+"px,"+r+"px":e==="dash"?e=3*r+"px,"+3*r+"px":e==="longdash"?e=5*r+"px,"+5*r+"px":e==="dashdot"?e=3*r+"px,"+r+"px,"+r+"px,"+r+"px":e==="longdashdot"&&(e=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),e};function HW(e,t,r){var n=t.fillpattern,i=n&&Er.getPatternAttr(n.shape,0,"");if(i){var a=Er.getPatternAttr(n.bgcolor,0,null),o=Er.getPatternAttr(n.fgcolor,0,null),s=n.fgopacity,l=Er.getPatternAttr(n.size,0,8),u=Er.getPatternAttr(n.solidity,0,.3),f=t.uid;Er.pattern(e,"point",r,f,i,l,u,void 0,n.fillmode,a,o,s)}else t.fillcolor&&e.call(Su.fill,t.fillcolor)}Er.singleFillStyle=function(e,t){var r=Ci.select(e.node()),n=r.data(),i=((n[0]||[])[0]||{}).trace||{};HW(e,i,t)};Er.fillGroupStyle=function(e,t){e.style("stroke-width",0).each(function(r){var n=Ci.select(this);r[0].trace&&HW(n,r[0].trace,t)})};var IW=RW();Er.symbolNames=[];Er.symbolFuncs=[];Er.symbolNeedLines={};Er.symbolNoDot={};Er.symbolNoFill={};Er.symbolList=[];Object.keys(IW).forEach(function(e){var t=IW[e],r=t.n;Er.symbolList.push(r,String(r),e,r+100,String(r+100),e+"-open"),Er.symbolNames[r]=e,Er.symbolFuncs[r]=t.f,t.needLine&&(Er.symbolNeedLines[r]=!0),t.noDot?Er.symbolNoDot[r]=!0:Er.symbolList.push(r+200,String(r+200),e+"-dot",r+300,String(r+300),e+"-open-dot"),t.noFill&&(Er.symbolNoFill[r]=!0)});var KOe=Er.symbolNames.length,JOe="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Er.symbolNumber=function(e){if(Px(e))e=+e;else if(typeof e=="string"){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),e=Er.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=KOe||e>=400?0:Math.floor(Math.max(e,0))};function UW(e,t){var r=e%100;return Er.symbolFuncs[r](t)+(e>=200?JOe:"")}var PW={x1:1,x2:0,y1:0,y2:0},FW={x1:0,x2:0,y1:1,y2:0},NW=UOe("~f"),jW={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:PW},horizontalreversed:{node:"linearGradient",attrs:PW,reversed:!0},vertical:{node:"linearGradient",attrs:FW},verticalreversed:{node:"linearGradient",attrs:FW,reversed:!0}};Er.gradient=function(e,t,r,n,i,a){for(var o=i.length,s=jW[n],l=new Array(o),u=0;u<o;u++)s.reversed?l[o-1-u]=[NW((1-i[u][0])*100),i[u][1]]:l[u]=[NW(i[u][0]*100),i[u][1]];var f=t._fullLayout,c="g"+f._uid+"-"+r,h=f._defs.select(".gradients").selectAll("#"+c).data([n+l.join(";")],va.identity);h.exit().remove(),h.enter().append(s.node).each(function(){var v=Ci.select(this);s.attrs&&v.attr(s.attrs),v.attr("id",c);var b=v.selectAll("stop").data(l);b.exit().remove(),b.enter().append("stop"),b.each(function(y){var x=jOe(y[1]);Ci.select(this).attr({offset:y[0]+"%","stop-color":Su.tinyRGB(x),"stop-opacity":x.getAlpha()})})}),e.style(a,sL(c,t)).style(a+"-opacity",null),e.classed("gradient_filled",!0)};Er.pattern=function(e,t,r,n,i,a,o,s,l,u,f,c){var h=t==="legend";s&&(l==="overlay"?(u=s,f=Su.contrast(u)):(u=void 0,f=s));var v=r._fullLayout,b="p"+v._uid+"-"+n,y,x,m=function(M,T,S,E,L){return E+(L-E)*(M-T)/(S-T)},_,g,A,w,k={};switch(i){case"/":y=a*Math.sqrt(2),x=a*Math.sqrt(2),_="M-"+y/4+","+x/4+"l"+y/2+",-"+x/2+"M0,"+x+"L"+y+",0M"+y/4*3+","+x/4*5+"l"+y/2+",-"+x/2,g=o*a,w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case"\\":y=a*Math.sqrt(2),x=a*Math.sqrt(2),_="M"+y/4*3+",-"+x/4+"l"+y/2+","+x/2+"M0,0L"+y+","+x+"M-"+y/4+","+x/4*3+"l"+y/2+","+x/2,g=o*a,w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case"x":y=a*Math.sqrt(2),x=a*Math.sqrt(2),_="M-"+y/4+","+x/4+"l"+y/2+",-"+x/2+"M0,"+x+"L"+y+",0M"+y/4*3+","+x/4*5+"l"+y/2+",-"+x/2+"M"+y/4*3+",-"+x/4+"l"+y/2+","+x/2+"M0,0L"+y+","+x+"M-"+y/4+","+x/4*3+"l"+y/2+","+x/2,g=a-a*Math.sqrt(1-o),w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case"|":y=a,x=a,w="path",_="M"+y/2+",0L"+y/2+","+x,g=o*a,w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case"-":y=a,x=a,w="path",_="M0,"+x/2+"L"+y+","+x/2,g=o*a,w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case"+":y=a,x=a,w="path",_="M"+y/2+",0L"+y/2+","+x+"M0,"+x/2+"L"+y+","+x/2,g=a-a*Math.sqrt(1-o),w="path",k={d:_,opacity:c,stroke:f,"stroke-width":g+"px"};break;case".":y=a,x=a,o<Math.PI/4?A=Math.sqrt(o*a*a/Math.PI):A=m(o,Math.PI/4,1,a/2,a/Math.sqrt(2)),w="circle",k={cx:y/2,cy:x/2,r:A,opacity:c,fill:f};break}var p=[i||"noSh",u||"noBg",f||"noFg",a,o].join(";"),d=v._defs.select(".patterns").selectAll("#"+b).data([p],va.identity);d.exit().remove(),d.enter().append("pattern").each(function(){var M=Ci.select(this);if(M.attr({id:b,width:y+"px",height:x+"px",patternUnits:"userSpaceOnUse",patternTransform:h?"scale(0.8)":""}),u){var T=M.selectAll("rect").data([0]);T.exit().remove(),T.enter().append("rect").attr({width:y+"px",height:x+"px",fill:u})}var S=M.selectAll(w).data([0]);S.exit().remove(),S.enter().append(w).attr(k)}),e.style("fill",sL(b,r)).style("fill-opacity",null),e.classed("pattern_filled",!0)};Er.initGradients=function(e){var t=e._fullLayout,r=va.ensureSingle(t._defs,"g","gradients");r.selectAll("linearGradient,radialGradient").remove(),Ci.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};Er.initPatterns=function(e){var t=e._fullLayout,r=va.ensureSingle(t._defs,"g","patterns");r.selectAll("pattern").remove(),Ci.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};Er.getPatternAttr=function(e,t,r){return e&&va.isArrayOrTypedArray(e)?t<e.length?e[t]:r:e};Er.pointStyle=function(e,t,r){if(e.size()){var n=Er.makePointStyleFns(t);e.each(function(i){Er.singlePointStyle(i,Ci.select(this),t,n,r)})}};Er.singlePointStyle=function(e,t,r,n,i){var a=r.marker,o=a.line;if(t.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?a.opacity:e.mo),n.ms2mrc){var s;e.ms==="various"||a.size==="various"?s=3:s=n.ms2mrc(e.ms),e.mrc=s,n.selectedSizeFn&&(s=e.mrc=n.selectedSizeFn(e));var l=Er.symbolNumber(e.mx||a.symbol)||0;e.om=l%200>=100,t.attr("d",UW(l,s))}var u=!1,f,c,h;if(e.so)h=o.outlierwidth,c=o.outliercolor,f=a.outliercolor;else{var v=(o||{}).width;h=(e.mlw+1||v+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?c=e.mlcc=n.lineScale(e.mlc):va.isArrayOrTypedArray(o.color)?c=Su.defaultLine:c=o.color,va.isArrayOrTypedArray(a.color)&&(f=Su.defaultLine,u=!0),"mc"in e?f=e.mcc=n.markerScale(e.mc):f=a.color||"rgba(0,0,0,0)",n.selectedColorFn&&(f=n.selectedColorFn(e))}if(e.om)t.call(Su.stroke,f).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:h)+"px");var b=a.gradient,y=e.mgt;y?u=!0:y=b&&b.type,va.isArrayOrTypedArray(y)&&(y=y[0],jW[y]||(y=0));var x=a.pattern,m=x&&Er.getPatternAttr(x.shape,e.i,"");if(y&&y!=="none"){var _=e.mgc;_?u=!0:_=b.color;var g=r.uid;u&&(g+="-"+e.i),Er.gradient(t,i,g,y,[[0,_],[1,f]],"fill")}else if(m){var A=Er.getPatternAttr(x.bgcolor,e.i,null),w=Er.getPatternAttr(x.fgcolor,e.i,null),k=x.fgopacity,p=Er.getPatternAttr(x.size,e.i,8),d=Er.getPatternAttr(x.solidity,e.i,.3),M=e.mcc||va.isArrayOrTypedArray(x.shape)||va.isArrayOrTypedArray(x.bgcolor)||va.isArrayOrTypedArray(x.size)||va.isArrayOrTypedArray(x.solidity),T=r.uid;M&&(T+="-"+e.i),Er.pattern(t,"point",i,T,m,p,d,e.mcc,x.fillmode,A,w,k)}else Su.fill(t,f);h&&Su.stroke(t,c)}};Er.makePointStyleFns=function(e){var t={},r=e.marker;return t.markerScale=Er.tryColorscale(r,""),t.lineScale=Er.tryColorscale(r,"line"),A3.traceIs(e,"symbols")&&(t.ms2mrc=XOe.isBubble(e)?ZOe(e):function(){return(r.size||6)/2}),e.selectedpoints&&va.extendFlat(t,Er.makeSelectedPointStyleFns(e)),t};Er.makeSelectedPointStyleFns=function(e){var t={},r=e.selected||{},n=e.unselected||{},i=e.marker||{},a=r.marker||{},o=n.marker||{},s=i.opacity,l=a.opacity,u=o.opacity,f=l!==void 0,c=u!==void 0;(va.isArrayOrTypedArray(s)||f||c)&&(t.selectedOpacityFn=function(A){var w=A.mo===void 0?i.opacity:A.mo;return A.selected?f?l:w:c?u:BW*w});var h=i.color,v=a.color,b=o.color;(v||b)&&(t.selectedColorFn=function(A){var w=A.mcc||h;return A.selected?v||w:b||w});var y=i.size,x=a.size,m=o.size,_=x!==void 0,g=m!==void 0;return A3.traceIs(e,"symbols")&&(_||g)&&(t.selectedSizeFn=function(A){var w=A.mrc||y/2;return A.selected?_?x/2:w:g?m/2:w}),t};Er.makeSelectedTextStyleFns=function(e){var t={},r=e.selected||{},n=e.unselected||{},i=e.textfont||{},a=r.textfont||{},o=n.textfont||{},s=i.color,l=a.color,u=o.color;return t.selectedTextColorFn=function(f){var c=f.tc||s;return f.selected?l||c:u||(l?c:Su.addOpacity(c,BW))},t};Er.selectedPointStyle=function(e,t){if(!(!e.size()||!t.selectedpoints)){var r=Er.makeSelectedPointStyleFns(t),n=t.marker||{},i=[];r.selectedOpacityFn&&i.push(function(a,o){a.style("opacity",r.selectedOpacityFn(o))}),r.selectedColorFn&&i.push(function(a,o){Su.fill(a,r.selectedColorFn(o))}),r.selectedSizeFn&&i.push(function(a,o){var s=o.mx||n.symbol||0,l=r.selectedSizeFn(o);a.attr("d",UW(Er.symbolNumber(s),l)),o.mrc2=l}),i.length&&e.each(function(a){for(var o=Ci.select(this),s=0;s<i.length;s++)i[s](o,a)})}};Er.tryColorscale=function(e,t){var r=t?va.nestedProperty(e,t).get():e;if(r){var n=r.color;if((r.colorscale||r._colorAx)&&va.isArrayOrTypedArray(n))return VOe.makeColorScaleFuncFromTrace(r)}return va.identity};var iL={start:1,end:-1,middle:0,bottom:1,top:-1};function VW(e,t,r,n,i){var a=Ci.select(e.node().parentNode),o=t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle",s=t.indexOf("left")!==-1?"end":t.indexOf("right")!==-1?"start":"middle",l=n?n/.8+1:0,u=(oL.lineCount(e)-1)*WOe+1,f=iL[s]*l,c=r*.75+iL[o]*l+(iL[o]-1)*u*r/2;e.attr("text-anchor",s),i||a.attr("transform",Fx(f,c))}function GW(e,t){var r=e.ts||t.textfont.size;return Px(r)&&r>0?r:0}Er.textPointStyle=function(e,t,r){if(e.size()){var n;if(t.selectedpoints){var i=Er.makeSelectedTextStyleFns(t);n=i.selectedTextColorFn}var a=t.texttemplate,o=r._fullLayout;e.each(function(s){var l=Ci.select(this),u=a?va.extractOption(s,t,"txt","texttemplate"):va.extractOption(s,t,"tx","text");if(!u&&u!==0){l.remove();return}if(a){var f=t._module.formatLabels,c=f?f(s,t,o):{},h={};$Oe(h,t,s.i);var v=t._meta||{};u=va.texttemplateString(u,c,o._d3locale,h,s,v)}var b=s.tp||t.textposition,y=GW(s,t),x=n?n(s):s.tc||t.textfont.color;l.call(Er.font,s.tf||t.textfont.family,y,x).text(u).call(oL.convertToTspans,r).call(VW,b,y,s.mrc)})}};Er.selectedTextStyle=function(e,t){if(!(!e.size()||!t.selectedpoints)){var r=Er.makeSelectedTextStyleFns(t);e.each(function(n){var i=Ci.select(this),a=r.selectedTextColorFn(n),o=n.tp||t.textposition,s=GW(n,t);Su.fill(i,a);var l=A3.traceIs(t,"bar-like");VW(i,o,s,n.mrc2||n.mrc,l)})}};var zW=.5;Er.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var r="M"+e[0],n=[],i;for(i=1;i<e.length-1;i++)n.push(T3(e[i-1],e[i],e[i+1],t));for(r+="Q"+n[0][0]+" "+e[1],i=2;i<e.length-1;i++)r+="C"+n[i-2][1]+" "+n[i-1][0]+" "+e[i];return r+="Q"+n[e.length-3][1]+" "+e[e.length-1],r};Er.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var r="M"+e[0],n=e.length-1,i=[T3(e[n],e[0],e[1],t)],a;for(a=1;a<n;a++)i.push(T3(e[a-1],e[a],e[a+1],t));for(i.push(T3(e[n-1],e[n],e[0],t)),a=1;a<=n;a++)r+="C"+i[a-1][1]+" "+i[a][0]+" "+e[a];return r+="C"+i[n][1]+" "+i[0][0]+" "+e[0]+"Z",r};function T3(e,t,r,n){var i=e[0]-t[0],a=e[1]-t[1],o=r[0]-t[0],s=r[1]-t[1],l=Math.pow(i*i+a*a,zW/2),u=Math.pow(o*o+s*s,zW/2),f=(u*u*i-l*l*o)*n,c=(u*u*a-l*l*s)*n,h=3*u*(l+u),v=3*l*(l+u);return[[Ci.round(t[0]+(h&&f/h),2),Ci.round(t[1]+(h&&c/h),2)],[Ci.round(t[0]-(v&&f/v),2),Ci.round(t[1]-(v&&c/v),2)]]}var QOe={hv:function(e,t){return"H"+Ci.round(t[0],2)+"V"+Ci.round(t[1],2)},vh:function(e,t){return"V"+Ci.round(t[1],2)+"H"+Ci.round(t[0],2)},hvh:function(e,t){return"H"+Ci.round((e[0]+t[0])/2,2)+"V"+Ci.round(t[1],2)+"H"+Ci.round(t[0],2)},vhv:function(e,t){return"V"+Ci.round((e[1]+t[1])/2,2)+"H"+Ci.round(t[0],2)+"V"+Ci.round(t[1],2)}},eBe=function(e,t){return"L"+Ci.round(t[0],2)+","+Ci.round(t[1],2)};Er.steps=function(e){var t=QOe[e]||eBe;return function(r){for(var n="M"+Ci.round(r[0][0],2)+","+Ci.round(r[0][1],2),i=1;i<r.length;i++)n+=t(r[i-1],r[i]);return n}};Er.makeTester=function(){var e=va.ensureSingleById(Ci.select("body"),"svg","js-plotly-tester",function(r){r.attr(GOe.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),t=va.ensureSingle(e,"path","js-reference-point",function(r){r.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Er.tester=e,Er.testref=t};Er.savedBBoxes={};var aL=0,tBe=1e4;Er.bBox=function(e,t,r){r||(r=OW(e));var n;if(r){if(n=Er.savedBBoxes[r],n)return va.extendFlat({},n)}else if(e.childNodes.length===1){var i=e.childNodes[0];if(r=OW(i),r){var a=+i.getAttribute("x")||0,o=+i.getAttribute("y")||0,s=i.getAttribute("transform");if(!s){var l=Er.bBox(i,!1,r);return a&&(l.left+=a,l.right+=a),o&&(l.top+=o,l.bottom+=o),l}if(r+="~"+a+"~"+o+"~"+s,n=Er.savedBBoxes[r],n)return va.extendFlat({},n)}}var u,f;t?u=e:(f=Er.tester.node(),u=e.cloneNode(!0),f.appendChild(u)),Ci.select(u).attr("transform",null).call(oL.positionText,0,0);var c=u.getBoundingClientRect(),h=Er.testref.node().getBoundingClientRect();t||f.removeChild(u);var v={height:c.height,width:c.width,left:c.left-h.left,top:c.top-h.top,right:c.right-h.left,bottom:c.bottom-h.top};return aL>=tBe&&(Er.savedBBoxes={},aL=0),r&&(Er.savedBBoxes[r]=v),aL++,va.extendFlat({},v)};function OW(e){var t=e.getAttribute("data-unformatted");if(t!==null)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}Er.setClipUrl=function(e,t,r){e.attr("clip-path",sL(t,r))};function sL(e,t){if(!e)return null;var r=t._context,n=r._exportedPlot?"":r._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}Er.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,r=e.attr?"attr":"getAttribute",n=e[r]("transform")||"",i=n.replace(t,function(a,o,s){return[o,s].join(" ")}).split(" ");return{x:+i[0]||0,y:+i[1]||0}};Er.setTranslate=function(e,t,r){var n=/(\btranslate\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||0,r=r||0,o=o.replace(n,"").trim(),o+=Fx(t,r),o=o.trim(),e[a]("transform",o),o};Er.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,r=e.attr?"attr":"getAttribute",n=e[r]("transform")||"",i=n.replace(t,function(a,o,s){return[o,s].join(" ")}).split(" ");return{x:+i[0]||1,y:+i[1]||1}};Er.setScale=function(e,t,r){var n=/(\bscale\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||1,r=r||1,o=o.replace(n,"").trim(),o+="scale("+t+","+r+")",o=o.trim(),e[a]("transform",o),o};var rBe=/\s*sc.*/;Er.setPointGroupScale=function(e,t,r){if(t=t||1,r=r||1,!!e){var n=t===1&&r===1?"":"scale("+t+","+r+")";e.each(function(){var i=(this.getAttribute("transform")||"").replace(rBe,"");i+=n,i=i.trim(),this.setAttribute("transform",i)})}};var nBe=/translate\([^)]*\)\s*$/;Er.setTextPointsScale=function(e,t,r){e&&e.each(function(){var n,i=Ci.select(this),a=i.select("text");if(a.node()){var o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(i.attr("transform")||"").match(nBe);t===1&&r===1?n=[]:n=[Fx(o,s),"scale("+t+","+r+")",Fx(-o,-s)],l&&n.push(l),i.attr("transform",n.join(""))}})}});var lp=$((LMt,eX)=>{"use strict";var M3=Nr(),iBe=mn(),WW=Zi(),XW=Ir(),O1=pt(),ZW=O1.strTranslate,$W=un(),KW=Rr(),lL=Ta(),JW=y1(),aBe=es().OPPOSITE_SIDE,QW=/ [XY][0-9]* /;function oBe(e,t,r){var n=r.propContainer,i=r.propName,a=r.placeholder,o=r.traceIndex,s=r.avoid||{},l=r.attributes,u=r.transform,f=r.containerGroup,c=e._fullLayout,h=1,v=!1,b=n.title,y=(b&&b.text?b.text:"").trim(),x=b&&b.font?b.font:{},m=x.family,_=x.size,g=x.color,A;i==="title.text"?A="titleText":i.indexOf("axis")!==-1?A="axisTitleText":i.indexOf("colorbar"!==-1)&&(A="colorbarTitleText");var w=e._context.edits[A];y===""?h=0:y.replace(QW," % ")===a.replace(QW," % ")&&(h=.2,v=!0,w||(y="")),r._meta?y=O1.templateString(y,r._meta):c._meta&&(y=O1.templateString(y,c._meta));var k=y||w,p;f||(f=O1.ensureSingle(c._infolayer,"g","g-"+t),p=c._hColorbarMoveTitle);var d=f.selectAll("text").data(k?[0]:[]);if(d.enter().append("text"),d.text(y).attr("class",t),d.exit().remove(),!k)return f;function M(L){O1.syncOrAsync([T,S],L)}function T(L){var D;return!u&&p&&(u={}),u?(D="",u.rotate&&(D+="rotate("+[u.rotate,l.x,l.y]+")"),(u.offset||p)&&(D+=ZW(0,(u.offset||0)-(p||0)))):D=null,L.attr("transform",D),L.style({"font-family":m,"font-size":M3.round(_,2)+"px",fill:KW.rgb(g),opacity:h*KW.opacity(g),"font-weight":WW.fontWeight}).attr(l).call(lL.convertToTspans,e),WW.previousPromises(e)}function S(L){var D=M3.select(L.node().parentNode);if(s&&s.selection&&s.side&&y){D.attr("transform",null);var R=aBe[s.side],q=s.side==="left"||s.side==="top"?-1:1,C=iBe(s.pad)?s.pad:2,F=$W.bBox(D.node()),N={left:0,top:0,right:c.width,bottom:c.height},U=s.maxShift||q*(N[s.side]-F[s.side]),V=0;if(U<0)V=U;else{var Y=s.offsetLeft||0,K=s.offsetTop||0;F.left-=Y,F.right-=Y,F.top-=K,F.bottom-=K,s.selection.each(function(){var z=$W.bBox(this);O1.bBoxIntersect(F,z,C)&&(V=Math.max(V,q*(z[s.side]-F[R])+C))}),V=Math.min(U,V)}if(V>0||U<0){var B={left:[-V,0],right:[V,0],top:[0,-V],bottom:[0,V]}[s.side];D.attr("transform",ZW(B[0],B[1]))}}}d.call(M);function E(){h=0,v=!0,d.text(a).on("mouseover.opacity",function(){M3.select(this).transition().duration(JW.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){M3.select(this).transition().duration(JW.HIDE_PLACEHOLDER).style("opacity",0)})}return w&&(y?d.on(".opacity",null):E(),d.call(lL.makeEditable,{gd:e}).on("edit",function(L){o!==void 0?XW.call("_guiRestyle",e,i,L,o):XW.call("_guiRelayout",e,i,L)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(M)}).on("input",function(L){this.text(L||" ").call(lL.positionText,l.x,l.y)})),d.classed("js-placeholder",v),f}eX.exports={draw:oBe}});var wv=$((CMt,aX)=>{"use strict";var sBe=Nr(),lBe=d1().utcFormat,da=pt(),uBe=da.numberFormat,Eh=mn(),Dd=da.cleanNumber,fBe=da.ms2DateTime,tX=da.dateTime2ms,Lh=da.ensureNumber,rX=da.isArrayOrTypedArray,qd=Zn(),k3=qd.FP_SAFE,Ic=qd.BADNUM,cBe=qd.LOG_CLIP,hBe=qd.ONEWEEK,S3=qd.ONEDAY,E3=qd.ONEHOUR,nX=qd.ONEMIN,iX=qd.ONESEC,L3=Io(),q3=Qo(),C3=q3.HOUR_PATTERN,D3=q3.WEEKDAY_PATTERN;function Nx(e){return Math.pow(10,e)}function uL(e){return e!=null}aX.exports=function(t,r){r=r||{};var n=t._id||"x",i=n.charAt(0);function a(A,w){if(A>0)return Math.log(A)/Math.LN10;if(A<=0&&w&&t.range&&t.range.length===2){var k=t.range[0],p=t.range[1];return .5*(k+p-2*cBe*Math.abs(k-p))}else return Ic}function o(A,w,k,p){if((p||{}).msUTC&&Eh(A))return+A;var d=tX(A,k||t.calendar);if(d===Ic)if(Eh(A)){A=+A;var M=Math.floor(da.mod(A+.05,1)*10),T=Math.round(A-M/10);d=tX(new Date(T))+M/10}else return Ic;return d}function s(A,w,k){return fBe(A,w,k||t.calendar)}function l(A){return t._categories[Math.round(A)]}function u(A){if(uL(A)){if(t._categoriesMap===void 0&&(t._categoriesMap={}),t._categoriesMap[A]!==void 0)return t._categoriesMap[A];t._categories.push(typeof A=="number"?String(A):A);var w=t._categories.length-1;return t._categoriesMap[A]=w,w}return Ic}function f(A,w){for(var k=new Array(w),p=0;p<w;p++){var d=(A[0]||[])[p],M=(A[1]||[])[p];k[p]=c([d,M])}return k}function c(A){if(t._categoriesMap)return t._categoriesMap[A]}function h(A){var w=c(A);if(w!==void 0)return w;if(Eh(A))return+A}function v(A){return Eh(A)?+A:c(A)}function b(A,w,k){return sBe.round(k+w*A,2)}function y(A,w,k){return(A-k)/w}var x=function(w){return Eh(w)?b(w,t._m,t._b):Ic},m=function(A){return y(A,t._m,t._b)};if(t.rangebreaks){var _=i==="y";x=function(A){if(!Eh(A))return Ic;var w=t._rangebreaks.length;if(!w)return b(A,t._m,t._b);var k=_;t.range[0]>t.range[1]&&(k=!k);for(var p=k?-1:1,d=p*A,M=0,T=0;T<w;T++){var S=p*t._rangebreaks[T].min,E=p*t._rangebreaks[T].max;if(d<S)break;if(d>E)M=T+1;else{M=d<(S+E)/2?T:T+1;break}}var L=t._B[M]||0;return isFinite(L)?b(A,t._m2,L):0},m=function(A){var w=t._rangebreaks.length;if(!w)return y(A,t._m,t._b);for(var k=0,p=0;p<w&&!(A<t._rangebreaks[p].pmin);p++)A>t._rangebreaks[p].pmax&&(k=p+1);return y(A,t._m2,t._B[k])}}t.c2l=t.type==="log"?a:Lh,t.l2c=t.type==="log"?Nx:Lh,t.l2p=x,t.p2l=m,t.c2p=t.type==="log"?function(A,w){return x(a(A,w))}:x,t.p2c=t.type==="log"?function(A){return Nx(m(A))}:m,["linear","-"].indexOf(t.type)!==-1?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=Dd,t.c2d=t.c2r=t.l2d=t.l2r=Lh,t.d2p=t.r2p=function(A){return t.l2p(Dd(A))},t.p2d=t.p2r=m,t.cleanPos=Lh):t.type==="log"?(t.d2r=t.d2l=function(A,w){return a(Dd(A),w)},t.r2d=t.r2c=function(A){return Nx(Dd(A))},t.d2c=t.r2l=Dd,t.c2d=t.l2r=Lh,t.c2r=a,t.l2d=Nx,t.d2p=function(A,w){return t.l2p(t.d2r(A,w))},t.p2d=function(A){return Nx(m(A))},t.r2p=function(A){return t.l2p(Dd(A))},t.p2r=m,t.cleanPos=Lh):t.type==="date"?(t.d2r=t.r2d=da.identity,t.d2c=t.r2c=t.d2l=t.r2l=o,t.c2d=t.c2r=t.l2d=t.l2r=s,t.d2p=t.r2p=function(A,w,k){return t.l2p(o(A,0,k))},t.p2d=t.p2r=function(A,w,k){return s(m(A),w,k)},t.cleanPos=function(A){return da.cleanDate(A,Ic,t.calendar)}):t.type==="category"?(t.d2c=t.d2l=u,t.r2d=t.c2d=t.l2d=l,t.d2r=t.d2l_noadd=h,t.r2c=function(A){var w=v(A);return w!==void 0?w:t.fraction2r(.5)},t.l2r=t.c2r=Lh,t.r2l=v,t.d2p=function(A){return t.l2p(t.r2c(A))},t.p2d=function(A){return l(m(A))},t.r2p=t.d2p,t.p2r=m,t.cleanPos=function(A){return typeof A=="string"&&A!==""?A:Lh(A)}):t.type==="multicategory"&&(t.r2d=t.c2d=t.l2d=l,t.d2r=t.d2l_noadd=h,t.r2c=function(A){var w=h(A);return w!==void 0?w:t.fraction2r(.5)},t.r2c_just_indices=c,t.l2r=t.c2r=Lh,t.r2l=h,t.d2p=function(A){return t.l2p(t.r2c(A))},t.p2d=function(A){return l(m(A))},t.r2p=t.d2p,t.p2r=m,t.cleanPos=function(A){return Array.isArray(A)||typeof A=="string"&&A!==""?A:Lh(A)},t.setupMultiCategory=function(A){var w=t._traceIndices,k,p,d=t._matchGroup;if(d&&t._categories.length===0){for(var M in d)if(M!==n){var T=r[L3.id2name(M)];w=w.concat(T._traceIndices)}}var S=[[0,{}],[0,{}]],E=[];for(k=0;k<w.length;k++){var L=A[w[k]];if(i in L){var D=L[i],R=L._length||da.minRowLength(D);if(rX(D[0])&&rX(D[1]))for(p=0;p<R;p++){var q=D[0][p],C=D[1][p];uL(q)&&uL(C)&&(E.push([q,C]),q in S[0][1]||(S[0][1][q]=S[0][0]++),C in S[1][1]||(S[1][1][C]=S[1][0]++))}}}for(E.sort(function(F,N){var U=S[0][1],V=U[F[0]]-U[N[0]];if(V)return V;var Y=S[1][1];return Y[F[1]]-Y[N[1]]}),k=0;k<E.length;k++)u(E[k])}),t.fraction2r=function(A){var w=t.r2l(t.range[0]),k=t.r2l(t.range[1]);return t.l2r(w+A*(k-w))},t.r2fraction=function(A){var w=t.r2l(t.range[0]),k=t.r2l(t.range[1]);return(t.r2l(A)-w)/(k-w)},t.cleanRange=function(A,w){w||(w={}),A||(A="range");var k=da.nestedProperty(t,A).get(),p,d;if(t.type==="date"?d=da.dfltRange(t.calendar):i==="y"?d=q3.DFLTRANGEY:t._name==="realaxis"?d=[0,1]:d=w.dfltRange||q3.DFLTRANGEX,d=d.slice(),(t.rangemode==="tozero"||t.rangemode==="nonnegative")&&(d[0]=0),!k||k.length!==2){da.nestedProperty(t,A).set(d);return}for(t.type==="date"&&!t.autorange&&(k[0]=da.cleanDate(k[0],Ic,t.calendar),k[1]=da.cleanDate(k[1],Ic,t.calendar)),p=0;p<2;p++)if(t.type==="date"){if(!da.isDateTime(k[p],t.calendar)){t[A]=d;break}if(t.r2l(k[0])===t.r2l(k[1])){var M=da.constrain(t.r2l(k[0]),da.MIN_MS+1e3,da.MAX_MS-1e3);k[0]=t.l2r(M-1e3),k[1]=t.l2r(M+1e3);break}}else{if(!Eh(k[p]))if(Eh(k[1-p]))k[p]=k[1-p]*(p?10:.1);else{t[A]=d;break}if(k[p]<-k3?k[p]=-k3:k[p]>k3&&(k[p]=k3),k[0]===k[1]){var T=Math.max(1,Math.abs(k[0]*1e-6));k[0]-=T,k[1]+=T}}},t.setScale=function(A){var w=r._size;if(t.overlaying){var k=L3.getFromId({_fullLayout:r},t.overlaying);t.domain=k.domain}var p=A&&t._r?"_r":"range",d=t.calendar;t.cleanRange(p);var M=t.r2l(t[p][0],d),T=t.r2l(t[p][1],d),S=i==="y";if(S?(t._offset=w.t+(1-t.domain[1])*w.h,t._length=w.h*(t.domain[1]-t.domain[0]),t._m=t._length/(M-T),t._b=-t._m*T):(t._offset=w.l+t.domain[0]*w.w,t._length=w.w*(t.domain[1]-t.domain[0]),t._m=t._length/(T-M),t._b=-t._m*M),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks){var E,L;if(t._rangebreaks=t.locateBreaks(Math.min(M,T),Math.max(M,T)),t._rangebreaks.length){for(E=0;E<t._rangebreaks.length;E++)L=t._rangebreaks[E],t._lBreaks+=Math.abs(L.max-L.min);var D=S;M>T&&(D=!D),D&&t._rangebreaks.reverse();var R=D?-1:1;for(t._m2=R*t._length/(Math.abs(T-M)-t._lBreaks),t._B.push(-t._m2*(S?T:M)),E=0;E<t._rangebreaks.length;E++)L=t._rangebreaks[E],t._B.push(t._B[t._B.length-1]-R*t._m2*(L.max-L.min));for(E=0;E<t._rangebreaks.length;E++)L=t._rangebreaks[E],L.pmin=x(L.min),L.pmax=x(L.max)}}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw r._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(A){var w=t.rangebreaks||[],k,p,d,M,T;w._cachedPatterns||(w._cachedPatterns=w.map(function(U){return U.enabled&&U.bounds?da.simpleMap(U.bounds,U.pattern?Dd:t.d2c):null})),w._cachedValues||(w._cachedValues=w.map(function(U){return U.enabled&&U.values?da.simpleMap(U.values,t.d2c).sort(da.sorterAsc):null}));for(var S=0;S<w.length;S++){var E=w[S];if(E.enabled){if(E.bounds){var L=E.pattern;switch(k=w._cachedPatterns[S],p=k[0],d=k[1],L){case D3:T=new Date(A),M=T.getUTCDay(),p>d&&(d+=7,M<p&&(M+=7));break;case C3:T=new Date(A);var D=T.getUTCHours(),R=T.getUTCMinutes(),q=T.getUTCSeconds(),C=T.getUTCMilliseconds();M=D+(R/60+q/3600+C/36e5),p>d&&(d+=24,M<p&&(M+=24));break;case"":M=A;break}if(M>=p&&M<d)return Ic}else for(var F=w._cachedValues[S],N=0;N<F.length;N++)if(p=F[N],d=p+E.dvalue,A>=p&&A<d)return Ic}}return A},t.locateBreaks=function(A,w){var k,p,d,M,T=[];if(!t.rangebreaks)return T;var S=t.rangebreaks.slice().sort(function(Y,K){return Y.pattern===D3&&K.pattern===C3?-1:K.pattern===D3&&Y.pattern===C3?1:0}),E=function(Y,K){if(Y=da.constrain(Y,A,w),K=da.constrain(K,A,w),Y!==K){for(var B=!0,z=0;z<T.length;z++){var j=T[z];Y<j.max&&K>=j.min&&(Y<j.min&&(j.min=Y),K>j.max&&(j.max=K),B=!1)}B&&T.push({min:Y,max:K})}};for(k=0;k<S.length;k++){var L=S[k];if(L.enabled)if(L.bounds){var D=A,R=w;L.pattern&&(D=Math.floor(D)),p=da.simpleMap(L.bounds,L.pattern?Dd:t.r2l),d=p[0],M=p[1];var q=new Date(D),C,F;switch(L.pattern){case D3:F=hBe,C=((M<d?7:0)+(M-d))*S3,D+=d*S3-(q.getUTCDay()*S3+q.getUTCHours()*E3+q.getUTCMinutes()*nX+q.getUTCSeconds()*iX+q.getUTCMilliseconds());break;case C3:F=S3,C=((M<d?24:0)+(M-d))*E3,D+=d*E3-(q.getUTCHours()*E3+q.getUTCMinutes()*nX+q.getUTCSeconds()*iX+q.getUTCMilliseconds());break;default:D=Math.min(p[0],p[1]),R=Math.max(p[0],p[1]),F=R-D,C=F}for(var N=D;N<R;N+=F)E(N,N+C)}else for(var U=da.simpleMap(L.values,t.d2c),V=0;V<U.length;V++)d=U[V],M=d+L.dvalue,E(d,M)}return T.sort(function(Y,K){return Y.min-K.min}),T},t.makeCalcdata=function(A,w,k){var p,d,M,T,S=t.type,E=S==="date"&&A[w+"calendar"];if(w in A){if(p=A[w],T=A._length||da.minRowLength(p),da.isTypedArray(p)&&(S==="linear"||S==="log")){if(T===p.length)return p;if(p.subarray)return p.subarray(0,T)}if(S==="multicategory")return f(p,T);for(d=new Array(T),M=0;M<T;M++)d[M]=t.d2c(p[M],0,E,k)}else{var L=w+"0"in A?t.d2c(A[w+"0"],0,E):0,D=A["d"+w]?Number(A["d"+w]):1;for(p=A[{x:"y",y:"x"}[w]],T=A._length||p.length,d=new Array(T),M=0;M<T;M++)d[M]=L+M*D}if(t.rangebreaks)for(M=0;M<T;M++)d[M]=t.maskBreaks(d[M]);return d},t.isValidRange=function(A){return Array.isArray(A)&&A.length===2&&Eh(t.r2l(A[0]))&&Eh(t.r2l(A[1]))},t.isPtWithinRange=function(A,w){var k=t.c2l(A[i],null,w),p=t.r2l(t.range[0]),d=t.r2l(t.range[1]);return p<d?p<=k&&k<=d:d<=k&&k<=p},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var A=t._matchGroup;if(A){var w=null,k=null;for(var p in A){var d=r[L3.id2name(p)];if(d._categories){w=d._categories,k=d._categoriesMap;break}}w&&k?(t._categories=w,t._categoriesMap=k):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var M=0;M<t._initialCategories.length;M++)u(t._initialCategories[M])},t.sortByInitialCategories=function(){var A=[];if(t._emptyCategories(),t._initialCategories)for(var w=0;w<t._initialCategories.length;w++)u(t._initialCategories[w]);A=A.concat(t._traceIndices);var k=t._matchGroup;for(var p in k)if(n!==p){var d=r[L3.id2name(p)];d._categories=t._categories,d._categoriesMap=t._categoriesMap,A=A.concat(d._traceIndices)}return A};var g=r._d3locale;t.type==="date"&&(t._dateFormat=g?g.timeFormat:lBe,t._extraFormat=r._extraFormat),t._separators=r.separators,t._numFormat=g?g.numberFormat:uBe,delete t._minDtick,delete t._forceTick0}});var B1=$((DMt,uX)=>{"use strict";var oX=mn(),fL=pt(),vBe=Zn().BADNUM,R3=fL.isArrayOrTypedArray,dBe=fL.isDateTime,pBe=fL.cleanNumber,sX=Math.round;uX.exports=function(t,r,n){var i=t,a=n.noMultiCategory;if(R3(i)&&!i.length)return"-";if(!a&&bBe(i))return"multicategory";if(a&&Array.isArray(i[0])){for(var o=[],s=0;s<i.length;s++)if(R3(i[s]))for(var l=0;l<i[s].length;l++)o.push(i[s][l]);i=o}if(yBe(i,r))return"date";var u=n.autotypenumbers!=="strict";return xBe(i,u)?"category":mBe(i,u)?"linear":"-"};function gBe(e,t){return t?oX(e):typeof e=="number"}function mBe(e,t){for(var r=e.length,n=0;n<r;n++)if(gBe(e[n],t))return!0;return!1}function yBe(e,t){for(var r=e.length,n=lX(r),i=0,a=0,o={},s=0;s<r;s+=n){var l=sX(s),u=e[l],f=String(u);o[f]||(o[f]=1,dBe(u,t)&&i++,oX(u)&&a++)}return i>a*2}function lX(e){return Math.max(1,(e-1)/1e3)}function xBe(e,t){for(var r=e.length,n=lX(r),i=0,a=0,o={},s=0;s<r;s+=n){var l=sX(s),u=e[l],f=String(u);if(!o[f]){o[f]=1;var c=typeof u;c==="boolean"?a++:(t?pBe(u)!==vBe:c==="number")?i++:c==="string"&&a++}}return a>i*2}function bBe(e){return R3(e[0])&&R3(e[1])}});var Pc=$((qMt,gX)=>{"use strict";var wBe=Nr(),vX=mn(),up=pt(),I3=Zn().FP_SAFE,_Be=Ir(),TBe=un(),dX=Io(),ABe=dX.getFromId,MBe=dX.isLinked;gX.exports={getAutoRange:cL,makePadFn:hL,doAutoRange:SBe,findExtremes:EBe,concatExtremes:pL};function cL(e,t){var r,n,i=[],a=e._fullLayout,o=hL(a,t,0),s=hL(a,t,1),l=pL(e,t),u=l.min,f=l.max;if(u.length===0||f.length===0)return up.simpleMap(t.range,t.r2l);var c=u[0].val,h=f[0].val;for(r=1;r<u.length&&c===h;r++)c=Math.min(c,u[r].val);for(r=1;r<f.length&&c===h;r++)h=Math.max(h,f[r].val);var v=!1;if(t.range){var b=up.simpleMap(t.range,t.r2l);v=b[1]<b[0]}t.autorange==="reversed"&&(v=!0,t.autorange=!0);var y=t.rangemode,x=y==="tozero",m=y==="nonnegative",_=t._length,g=_/10,A=0,w,k,p,d,M,T;for(r=0;r<u.length;r++)for(w=u[r],n=0;n<f.length;n++)k=f[n],T=k.val-w.val-fX(t,w.val,k.val),T>0&&(M=_-o(w)-s(k),M>g?T/M>A&&(p=w,d=k,A=T/M):T/_>A&&(p={val:w.val,nopad:1},d={val:k.val,nopad:1},A=T/_));function S(q,C){return Math.max(q,s(C))}if(c===h){var E=c-1,L=c+1;if(x)if(c===0)i=[0,1];else{var D=(c>0?f:u).reduce(S,0),R=c/(1-Math.min(.5,D/_));i=c>0?[0,R]:[R,0]}else m?i=[Math.max(0,E),Math.max(1,L)]:i=[E,L]}else x?(p.val>=0&&(p={val:0,nopad:1}),d.val<=0&&(d={val:0,nopad:1})):m&&(p.val-A*o(p)<0&&(p={val:0,nopad:1}),d.val<=0&&(d={val:1,nopad:1})),A=(d.val-p.val-fX(t,w.val,k.val))/(_-o(p)-s(d)),i=[p.val-A*o(p),d.val+A*s(d)];return v&&i.reverse(),up.simpleMap(i,t.l2r||Number)}function fX(e,t,r){var n=0;if(e.rangebreaks)for(var i=e.locateBreaks(t,r),a=0;a<i.length;a++){var o=i[a];n+=o.max-o.min}return n}function hL(e,t,r){var n=.05*t._length,i=t._anchorAxis||{};if((t.ticklabelposition||"").indexOf("inside")!==-1||(i.ticklabelposition||"").indexOf("inside")!==-1){var a=t.autorange==="reversed";if(!a){var o=up.simpleMap(t.range,t.r2l);a=o[1]<o[0]}a&&(r=!r)}var s=0;return MBe(e,t._id)||(s=kBe(e,t,r)),n=Math.max(s,n),t.constrain==="domain"&&t._inputDomain&&(n*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(u){return u.nopad?0:u.pad+(u.extrapad?n:s)}}var cX=3;function kBe(e,t,r){var n=0,i=t._id.charAt(0)==="x";for(var a in e._plots){var o=e._plots[a];if(!(t._id!==o.xaxis._id&&t._id!==o.yaxis._id)){var s=(i?o.yaxis:o.xaxis)||{};if((s.ticklabelposition||"").indexOf("inside")!==-1&&(!r&&(s.side==="left"||s.side==="bottom")||r&&(s.side==="top"||s.side==="right"))){if(s._vals){var l=up.deg2rad(s._tickAngles[s._id+"tick"]||0),u=Math.abs(Math.cos(l)),f=Math.abs(Math.sin(l));if(!s._vals[0].bb){var c=s._id+"tick",h=s._selections[c];h.each(function(_){var g=wBe.select(this),A=g.select(".text-math-group");A.empty()&&(_.bb=TBe.bBox(g.node()))})}for(var v=0;v<s._vals.length;v++){var b=s._vals[v],y=b.bb;if(y){var x=2*cX+y.width,m=2*cX+y.height;n=Math.max(n,i?Math.max(x*u,m*f):Math.max(m*u,x*f))}}}s.ticks==="inside"&&s.ticklabelposition==="inside"&&(n+=s.ticklen||0)}}}return n}function pL(e,t,r){var n=t._id,i=e._fullData,a=e._fullLayout,o=[],s=[],l,u,f;function c(x,m){for(l=0;l<m.length;l++){var _=x[m[l]],g=(_._extremes||{})[n];if(_.visible===!0&&g){for(u=0;u<g.min.length;u++)f=g.min[u],vL(o,f.val,f.pad,{extrapad:f.extrapad});for(u=0;u<g.max.length;u++)f=g.max[u],dL(s,f.val,f.pad,{extrapad:f.extrapad})}}}if(c(i,t._traceIndices),c(a.annotations||[],t._annIndices||[]),c(a.shapes||[],t._shapeIndices||[]),t._matchGroup&&!r){for(var h in t._matchGroup)if(h!==t._id){var v=ABe(e,h),b=pL(e,v,!0),y=t._length/v._length;for(u=0;u<b.min.length;u++)f=b.min[u],vL(o,f.val,f.pad*y,{extrapad:f.extrapad});for(u=0;u<b.max.length;u++)f=b.max[u],dL(s,f.val,f.pad*y,{extrapad:f.extrapad})}}return{min:o,max:s}}function SBe(e,t,r){if(t.setScale(),t.autorange){t.range=r?r.slice():cL(e,t),t._r=t.range.slice(),t._rl=up.simpleMap(t._r,t.r2l);var n=t._input,i={};i[t._attr+".range"]=t.range,i[t._attr+".autorange"]=t.autorange,_Be.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i),n.range=t.range.slice(),n.autorange=t.autorange}var a=t._anchorAxis;if(a&&a.rangeslider){var o=a.rangeslider[t._name];o&&o.rangemode==="auto"&&(o.range=cL(e,t)),a._input.rangeslider[t._name]=up.extendFlat({},o)}}function EBe(e,t,r){r||(r={}),e._m||e.setScale();var n=[],i=[],a=t.length,o=r.padded||!1,s=r.tozero&&(e.type==="linear"||e.type==="-"),l=e.type==="log",u=!1,f=r.vpadLinearized||!1,c,h,v,b,y,x,m,_,g;function A(E){if(Array.isArray(E))return u=!0,function(D){return Math.max(Number(E[D]||0),0)};var L=Math.max(Number(E||0),0);return function(){return L}}var w=A((e._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),k=A((e._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),p=A(r.vpadplus||r.vpad),d=A(r.vpadminus||r.vpad);if(!u){if(_=1/0,g=-1/0,l)for(c=0;c<a;c++)h=t[c],h<_&&h>0&&(_=h),h>g&&h<I3&&(g=h);else for(c=0;c<a;c++)h=t[c],h<_&&h>-I3&&(_=h),h>g&&h<I3&&(g=h);t=[_,g],a=2}var M={tozero:s,extrapad:o};function T(E){v=t[E],vX(v)&&(x=w(E),m=k(E),f?(b=e.c2l(v)-d(E),y=e.c2l(v)+p(E)):(_=v-d(E),g=v+p(E),l&&_<g/10&&(_=g/10),b=e.c2l(_),y=e.c2l(g)),s&&(b=Math.min(0,b),y=Math.max(0,y)),hX(b)&&vL(n,b,m,M),hX(y)&&dL(i,y,x,M))}var S=Math.min(6,a);for(c=0;c<S;c++)T(c);for(c=a-1;c>=S;c--)T(c);return{min:n,max:i,opts:r}}function vL(e,t,r,n){pX(e,t,r,n,LBe)}function dL(e,t,r,n){pX(e,t,r,n,CBe)}function pX(e,t,r,n,i){for(var a=n.tozero,o=n.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(i(u.val,t)&&u.pad>=r&&(u.extrapad||!o)){s=!1;break}else i(t,u.val)&&u.pad<=r&&(o||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var f=a&&t===0;e.push({val:t,pad:f?0:r,extrapad:f?!1:o})}}function hX(e){return vX(e)&&Math.abs(e)<I3}function LBe(e,t){return e<=t}function CBe(e,t){return e>=t}});var tn=$((RMt,FX)=>{"use strict";var Ff=Nr(),ao=mn(),H1=Zi(),Ox=Ir(),_n=pt(),U1=_n.strTranslate,zx=Ta(),DBe=lp(),Bx=Rr(),df=un(),qBe=xl(),mX=$E(),bl=Zn(),RBe=bl.ONEMAXYEAR,z3=bl.ONEAVGYEAR,xL=bl.ONEMINYEAR,IBe=bl.ONEMAXQUARTER,bL=bl.ONEAVGQUARTER,wL=bl.ONEMINQUARTER,PBe=bl.ONEMAXMONTH,j1=bl.ONEAVGMONTH,_L=bl.ONEMINMONTH,Nf=bl.ONEWEEK,Vl=bl.ONEDAY,fp=Vl/2,_v=bl.ONEHOUR,O3=bl.ONEMIN,TL=bl.ONESEC,cp=bl.MINUS_SIGN,U3=bl.BADNUM,AL={K:"zeroline"},ML={K:"gridline",L:"path"},kL={K:"minor-gridline",L:"path"},SX={K:"tick",L:"path"},yX={K:"tick",L:"text"},xX={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},j3=es(),P3=j3.MID_SHIFT,hp=j3.CAP_SHIFT,B3=j3.LINE_SPACING,FBe=j3.OPPOSITE_SIDE,SL=3,cr=FX.exports={};cr.setConvert=wv();var NBe=B1(),Tv=Io(),zBe=Tv.idSort,OBe=Tv.isLinked;cr.id2name=Tv.id2name;cr.name2id=Tv.name2id;cr.cleanId=Tv.cleanId;cr.list=Tv.list;cr.listIds=Tv.listIds;cr.getFromId=Tv.getFromId;cr.getFromTrace=Tv.getFromTrace;var EX=Pc();cr.getAutoRange=EX.getAutoRange;cr.findExtremes=EX.findExtremes;var BBe=1e-4;function CL(e){var t=(e[1]-e[0])*BBe;return[e[0]-t,e[1]+t]}cr.coerceRef=function(e,t,r,n,i,a){var o=n.charAt(n.length-1),s=r._fullLayout._subplots[o+"axis"],l=n+"ref",u={};return i||(i=s[0]||(typeof a=="string"?a:a[0])),a||(a=i),s=s.concat(s.map(function(f){return f+" domain"})),u[l]={valType:"enumerated",values:s.concat(a?typeof a=="string"?[a]:a:[]),dflt:i},_n.coerce(e,t,u,l)};cr.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};cr.coercePosition=function(e,t,r,n,i,a){var o,s,l=cr.getRefType(n);if(l!=="range")o=_n.ensureNumber,s=r(i,a);else{var u=cr.getFromId(t,n);a=u.fraction2r(a),s=r(i,a),o=u.cleanPos}e[i]=o(s)};cr.cleanPosition=function(e,t,r){var n=r==="paper"||r==="pixel"?_n.ensureNumber:cr.getFromId(t,r).cleanPos;return n(e)};cr.redrawComponents=function(e,t){t=t||cr.listIds(e);var r=e._fullLayout;function n(i,a,o,s){for(var l=Ox.getComponentMethod(i,a),u={},f=0;f<t.length;f++)for(var c=r[cr.id2name(t[f])],h=c[o],v=0;v<h.length;v++){var b=h[v];if(!u[b]&&(l(e,b),u[b]=1,s))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var HBe=cr.getDataConversions=function(e,t,r,n){var i,a=r==="x"||r==="y"||r==="z"?r:n;if(Array.isArray(a)){if(i={type:NBe(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},cr.setConvert(i),i.type==="category")for(var o=0;o<n.length;o++)i.d2c(n[o])}else i=cr.getFromTrace(e,t,a);return i?{d2c:i.d2c,c2d:i.c2d}:a==="ids"?{d2c:wX,c2d:wX}:{d2c:bX,c2d:bX}};function bX(e){return+e}function wX(e){return String(e)}cr.getDataToCoordFunc=function(e,t,r,n){return HBe(e,t,r,n).d2c};cr.counterLetter=function(e){var t=e.charAt(0);if(t==="x")return"y";if(t==="y")return"x"};cr.minDtick=function(e,t,r,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=t,e._forceTick0=r):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((r-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=r):((t/e._minDtick+1e-6)%1>2e-6||((r-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};cr.saveRangeInitial=function(e,t){for(var r=cr.list(e,"",!0),n=!1,i=0;i<r.length;i++){var a=r[i],o=a._rangeInitial===void 0,s=o||!(a.range[0]===a._rangeInitial[0]&&a.range[1]===a._rangeInitial[1]);(o&&a.autorange===!1||t&&s)&&(a._rangeInitial=a.range.slice(),n=!0)}return n};cr.saveShowSpikeInitial=function(e,t){for(var r=cr.list(e,"",!0),n=!1,i="on",a=0;a<r.length;a++){var o=r[a],s=o._showSpikeInitial===void 0,l=s||o.showspikes!==o._showspikes;(s||t&&l)&&(o._showSpikeInitial=o.showspikes,n=!0),i==="on"&&!o.showspikes&&(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,n};cr.autoBin=function(e,t,r,n,i,a){var o=_n.aggNums(Math.min,null,e),s=_n.aggNums(Math.max,null,e);if(t.type==="category"||t.type==="multicategory")return{start:o-.5,end:s+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:s-o};i||(i=t.calendar);var l;if(t.type==="log"?l={type:"linear",range:[o,s]}:l={type:t.type,range:_n.simpleMap([o,s],t.c2r,0,i),calendar:i},cr.setConvert(l),a=a&&mX.dtick(a,l.type),a)l.dtick=a,l.tick0=mX.tick0(void 0,l.type,i);else{var u;if(r)u=(s-o)/r;else{var f=_n.distinctVals(e),c=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),h=c*_n.roundUp(f.minDiff/c,[.9,1.9,4.9,9.9],!0);u=Math.max(h,2*_n.stdev(e)/Math.pow(e.length,n?.25:.4)),ao(u)||(u=1)}cr.autoTicks(l,u)}var v=l.dtick,b=cr.tickIncrement(cr.tickFirst(l),v,"reverse",i),y,x;if(typeof v=="number")b=UBe(b,e,l,o,s),x=1+Math.floor((s-b)/v),y=b+x*v;else for(l.dtick.charAt(0)==="M"&&(b=jBe(b,e,v,o,i)),y=b,x=0;y<=s;)y=cr.tickIncrement(y,v,!1,i),x++;return{start:t.c2r(b,0,i),end:t.c2r(y,0,i),size:v,_dataSpan:s-o}};function UBe(e,t,r,n,i){var a=0,o=0,s=0,l=0;function u(v){return(1+(v-e)*100/r.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1===0?s++:ao(t[f])||l++,u(t[f])&&a++,u(t[f]+r.dtick/2)&&o++;var c=t.length-l;if(s===c&&r.type!=="date")r.dtick<1?e=n-.5*r.dtick:(e-=.5,e+r.dtick<n&&(e+=r.dtick));else if(o<c*.1&&(a>c*.3||u(n)||u(i))){var h=r.dtick/2;e+=e+h<n?h:-h}return e}function jBe(e,t,r,n,i){var a=_n.findExactDates(t,i),o=.8;if(a.exactDays>o){var s=Number(r.substr(1));a.exactYears>o&&s%12===0?e=cr.tickIncrement(e,"M6","reverse")+Vl*1.5:a.exactMonths>o?e=cr.tickIncrement(e,"M1","reverse")+Vl*15.5:e-=fp;var l=cr.tickIncrement(e,r);if(l<=n)return l}return e}cr.prepMinorTicks=function(e,t,r){if(!t.minor.dtick){delete e.dtick;var n=t.dtick&&ao(t._tmin),i;if(n){var a=cr.tickIncrement(t._tmin,t.dtick,!0);i=[t._tmin,a*.99+t._tmin*.01]}else{var o=_n.simpleMap(t.range,t.r2l);i=[o[0],.8*o[0]+.2*o[1]]}if(e.range=_n.simpleMap(i,t.l2r),e._isMinor=!0,cr.prepTicks(e,r),n){var s=ao(t.dtick),l=ao(e.dtick),u=s?t.dtick:+t.dtick.substring(1),f=l?e.dtick:+e.dtick.substring(1);s&&l?gL(u,f)?u===2*Nf&&f===2*Vl&&(e.dtick=Nf):u===2*Nf&&f===3*Vl?e.dtick=Nf:u===Nf&&!(t._input.minor||{}).nticks?e.dtick=Vl:_X(u/f,2.5)?e.dtick=u/2:e.dtick=u:String(t.dtick).charAt(0)==="M"?l?e.dtick="M1":gL(u,f)?u>=12&&f===2&&(e.dtick="M3"):e.dtick=t.dtick:String(e.dtick).charAt(0)==="L"?String(t.dtick).charAt(0)==="L"?gL(u,f)||(e.dtick=_X(u/f,2.5)?t.dtick/2:t.dtick):e.dtick="D1":e.dtick==="D2"&&+t.dtick>1&&(e.dtick=1)}e.range=t.range}t.minor._tick0Init===void 0&&(e.tick0=t.tick0)};function gL(e,t){return Math.abs((e/t+.5)%1-.5)<.001}function _X(e,t){return Math.abs(e/t-1)<.001}cr.prepTicks=function(e,t){var r=_n.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,i;n||(e.type==="category"||e.type==="multicategory"?(i=e.tickfont?_n.bigFont(e.tickfont.size||12):15,n=e._length/i):(i=e._id.charAt(0)==="y"?40:80,n=_n.constrain(e._length/i,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(r[1]-r[0])/n,cr.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&VBe(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),DX(e)};function mL(e){return+e.substring(1)}function VBe(e){var t;function r(){return!(ao(e.dtick)||e.dtick.charAt(0)!=="M")}var n=r(),i=cr.getTickFormat(e);if(i){var a=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(i)||(/%[HI]/.test(i)?(t=_v,a&&!n&&e.dtick<_v&&(e.dtick=_v)):/%p/.test(i)?(t=fp,a&&!n&&e.dtick<fp&&(e.dtick=fp)):/%[Aadejuwx]/.test(i)?(t=Vl,a&&!n&&e.dtick<Vl&&(e.dtick=Vl)):/%[UVW]/.test(i)?(t=Nf,a&&!n&&e.dtick<Nf&&(e.dtick=Nf)):/%[Bbm]/.test(i)?(t=j1,a&&(n?mL(e.dtick)<1:e.dtick<_L)&&(e.dtick="M1")):/%[q]/.test(i)?(t=bL,a&&(n?mL(e.dtick)<3:e.dtick<wL)&&(e.dtick="M3")):/%[Yy]/.test(i)&&(t=z3,a&&(n?mL(e.dtick)<12:e.dtick<xL)&&(e.dtick="M12")))}n=r(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}function GBe(e,t,r){for(var n=0;n<e.length;n++){var i=e[n].value,a=n,o=n+1;n<e.length-1?(a=n,o=n+1):n>0?(a=n-1,o=n):(a=n,o=n);var s=e[a].value,l=e[o].value,u=Math.abs(l-s),f=r||u,c=0;f>=xL?u>=xL&&u<=RBe?c=u:c=z3:r===bL&&f>=wL?u>=wL&&u<=IBe?c=u:c=bL:f>=_L?u>=_L&&u<=PBe?c=u:c=j1:r===Nf&&f>=Nf?c=Nf:f>=Vl?c=Vl:r===fp&&f>=fp?c=fp:r===_v&&f>=_v&&(c=_v);var h;c>=u&&(c=u,h=!0);var v=i+c;if(t.rangebreaks&&c>0){for(var b=84,y=0,x=0;x<b;x++){var m=(x+.5)/b;t.maskBreaks(i*(1-m)+m*v)!==U3&&y++}c*=y/b,c||(e[n].drop=!0),h&&u>Nf&&(c=u)}(c>0||n===0)&&(e[n].periodX=i+c/2)}}cr.calcTicks=function(t,r){for(var n=t.type,i=t.calendar,a=t.ticklabelstep,o=t.ticklabelmode==="period",s=_n.simpleMap(t.range,t.r2l,void 0,void 0,r),l=s[1]<s[0],u=Math.min(s[0],s[1]),f=Math.max(s[0],s[1]),c=Math.max(1e3,t._length||0),h=[],v=[],b=[],y=[],x=t.minor&&(t.minor.ticks||t.minor.showgrid),m=1;m>=(x?0:1);m--){var _=!m;m?(t._dtickInit=t.dtick,t._tick0Init=t.tick0):(t.minor._dtickInit=t.minor.dtick,t.minor._tick0Init=t.minor.tick0);var g=m?t:_n.extendFlat({},t,t.minor);if(_?cr.prepMinorTicks(g,t,r):cr.prepTicks(g,r),g.tickmode==="array"){m?(b=[],h=TX(t)):(y=[],v=TX(t));continue}var A=CL(s),w=A[0],k=A[1],p=ao(g.dtick),d=n==="log"&&!(p||g.dtick.charAt(0)==="L"),M=cr.tickFirst(g,r);if(m){if(t._tmin=M,M<w!==l)break;(n==="category"||n==="multicategory")&&(k=l?Math.max(-.5,k):Math.min(t._categories.length-.5,k))}var T=null,S=M,E;if(m){var L;p?L=t.dtick:n==="date"?typeof t.dtick=="string"&&t.dtick.charAt(0)==="M"&&(L=j1*t.dtick.substring(1)):L=t._roughDTick,E=Math.round((t.r2l(S)-t.r2l(t.tick0))/L)-1}var D=g.dtick;for(g.rangebreaks&&g._tick0Init!==g.tick0&&(S=yL(S,t),l||(S=cr.tickIncrement(S,D,!l,i))),m&&o&&(S=cr.tickIncrement(S,D,!l,i),E--);l?S>=k:S<=k;S=cr.tickIncrement(S,D,l,i)){if(m&&E++,g.rangebreaks&&!l){if(S<w)continue;if(g.maskBreaks(S)===U3&&yL(S,g)>=f)break}if(b.length>c||S===T)break;T=S;var R={value:S};m?(d&&S!==(S|0)&&(R.simpleLabel=!0),a>1&&E%a&&(R.skipLabel=!0),b.push(R)):(R.minor=!0,y.push(R))}}if(x){var q=t.minor.ticks==="inside"&&t.ticks==="outside"||t.minor.ticks==="outside"&&t.ticks==="inside";if(!q){for(var C=b.map(function(ge){return ge.value}),F=[],N=0;N<y.length;N++){var U=y[N],V=U.value;if(C.indexOf(V)===-1){for(var Y=!1,K=0;!Y&&K<b.length;K++)1e7+b[K].value===1e7+V&&(Y=!0);Y||F.push(U)}}y=F}}o&&GBe(b,t,t._definedDelta);var B;if(t.rangebreaks){var z=t._id.charAt(0)==="y",j=1;t.tickmode==="auto"&&(j=t.tickfont?t.tickfont.size:12);var ae=NaN;for(B=b.length-1;B>-1;B--){if(b[B].drop){b.splice(B,1);continue}b[B].value=yL(b[B].value,t);var ee=t.c2p(b[B].value);(z?ae>ee-j:ae<ee+j)?b.splice(l?B+1:B,1):ae=ee}}IL(t)&&Math.abs(s[1]-s[0])===360&&b.pop(),t._tmax=(b[b.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var ve,fe=function(ge){ge.text="",t._prevDateHead=ve};b=b.concat(y);var se,G;for(B=0;B<b.length;B++){var Z=b[B].minor,X=b[B].value;Z?v.push({x:X,minor:!0}):(ve=t._prevDateHead,se=cr.tickText(t,X,!1,b[B].simpleLabel),G=b[B].periodX,G!==void 0&&(se.periodX=G,(G>f||G<u)&&(G>f&&(se.periodX=f),G<u&&(se.periodX=u),fe(se))),b[B].skipLabel&&fe(se),h.push(se))}return h=h.concat(v),t._inCalcTicks=!1,o&&h.length&&(h[0].noTick=!0),h};function TX(e){var t=_n.simpleMap(e.range,e.r2l),r=CL(t),n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var o=[],s=0;s<=1;s++)if(!(s&&!e.minor)){var l=s?e.minor.tickvals:e.tickvals,u=s?[]:e.ticktext;if(l){Array.isArray(u)||(u=[]);for(var f=0;f<l.length;f++){var c=a(l[f]);if(c>n&&c<i){var h=u[f]===void 0?cr.tickText(e,c):DL(e,c,String(u[f]));s&&(h.minor=!0,h.text=""),o.push(h)}}}}return e.rangebreaks&&(o=o.filter(function(v){return e.maskBreaks(v.x)!==U3})),o}var F3=[2,5,10],AX=[1,2,3,6,12],MX=[1,2,5,10,15,30],YBe=[1,2,3,7,14],LX=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],CX=[-.301,0,.301,.699,1],WBe=[15,30,45,90,180];function Ch(e,t,r){return t*_n.roundUp(e/t,r)}cr.autoTicks=function(e,t,r){var n;function i(c){return Math.pow(c,Math.floor(Math.log(t)/Math.LN10))}if(e.type==="date"){e.tick0=_n.dateTick0(e.calendar,0);var a=2*t;if(a>z3)t/=z3,n=i(10),e.dtick="M"+12*Ch(t,n,F3);else if(a>j1)t/=j1,e.dtick="M"+Ch(t,1,AX);else if(a>Vl){if(e.dtick=Ch(t,Vl,e._hasDayOfWeekBreaks?[1,2,7,14]:YBe),!r){var o=cr.getTickFormat(e),s=e.ticklabelmode==="period";s&&(e._rawTick0=e.tick0),/%[uVW]/.test(o)?e.tick0=_n.dateTick0(e.calendar,2):e.tick0=_n.dateTick0(e.calendar,1),s&&(e._dowTick0=e.tick0)}}else a>_v?e.dtick=Ch(t,_v,AX):a>O3?e.dtick=Ch(t,O3,MX):a>TL?e.dtick=Ch(t,TL,MX):(n=i(10),e.dtick=Ch(t,n,F3))}else if(e.type==="log"){e.tick0=0;var l=_n.simpleMap(e.range,e.r2l);if(e._isMinor&&(t*=1.5),t>.7)e.dtick=Math.ceil(t);else if(Math.abs(l[1]-l[0])<1){var u=1.5*Math.abs((l[1]-l[0])/t);t=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/u,n=i(10),e.dtick="L"+Ch(t,n,F3)}else e.dtick=t>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):IL(e)?(e.tick0=0,n=1,e.dtick=Ch(t,n,WBe)):(e.tick0=0,n=i(10),e.dtick=Ch(t,n,F3));if(e.dtick===0&&(e.dtick=1),!ao(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function DX(e){var t=e.dtick;if(e._tickexponent=0,!ao(t)&&typeof t!="string"&&(t=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var r=e.r2l(e.tick0),n=e.l2r(r).replace(/(^-|i)/g,""),i=n.length;if(String(t).charAt(0)==="M")i>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=Vl&&i<=10||t>=Vl*15)e._tickround="d";else if(t>=O3&&i<=16||t>=_v)e._tickround="M";else if(t>=TL&&i<=19||t>=O3)e._tickround="S";else{var a=e.l2r(r+t).replace(/^-/,"").length;e._tickround=Math.max(i,a)-20,e._tickround<0&&(e._tickround=4)}}else if(ao(t)||t.charAt(0)==="L"){var o=e.range.map(e.r2d||Number);ao(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var s=Math.max(Math.abs(o[0]),Math.abs(o[1])),l=Math.floor(Math.log(s)/Math.LN10+.01),u=e.minexponent===void 0?3:e.minexponent;Math.abs(l)>u&&(H3(e.exponentformat)&&!qL(l)?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}cr.tickIncrement=function(e,t,r,n){var i=r?-1:1;if(ao(t))return _n.increment(e,i*t);var a=t.charAt(0),o=i*Number(t.substr(1));if(a==="M")return _n.incrementMonth(e,o,n);if(a==="L")return Math.log(Math.pow(10,e)+o)/Math.LN10;if(a==="D"){var s=t==="D2"?CX:LX,l=e+i*.01,u=_n.roundUp(_n.mod(l,1),s,r);return Math.floor(l)+Math.log(Ff.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(t)};cr.tickFirst=function(e,t){var r=e.r2l||Number,n=_n.simpleMap(e.range,r,void 0,void 0,t),i=n[1]<n[0],a=i?Math.floor:Math.ceil,o=CL(n)[0],s=e.dtick,l=r(e.tick0);if(ao(s)){var u=a((o-l)/s)*s+l;return(e.type==="category"||e.type==="multicategory")&&(u=_n.constrain(u,0,e._categories.length-1)),u}var f=s.charAt(0),c=Number(s.substr(1));if(f==="M"){for(var h=0,v=l,b,y,x;h<10;){if(b=cr.tickIncrement(v,s,i,e.calendar),(b-o)*(v-o)<=0)return i?Math.min(v,b):Math.max(v,b);y=(o-(v+b)/2)/(b-v),x=f+(Math.abs(Math.round(y))||1)*c,v=cr.tickIncrement(v,x,y<0?!i:i,e.calendar),h++}return _n.error("tickFirst did not converge",e),v}else{if(f==="L")return Math.log(a((Math.pow(10,o)-l)/c)*c+l)/Math.LN10;if(f==="D"){var m=s==="D2"?CX:LX,_=_n.roundUp(_n.mod(o,1),m,i);return Math.floor(o)+Math.log(Ff.round(Math.pow(10,_),1))/Math.LN10}else throw"unrecognized dtick "+String(s)}};cr.tickText=function(e,t,r,n){var i=DL(e,t),a=e.tickmode==="array",o=r||a,s=e.type,l=s==="category"?e.d2l_noadd:e.d2l,u;if(a&&Array.isArray(e.ticktext)){var f=_n.simpleMap(e.range,e.r2l),c=(Math.abs(f[1]-f[0])-(e._lBreaks||0))/1e4;for(u=0;u<e.ticktext.length&&!(Math.abs(t-l(e.tickvals[u]))<c);u++);if(u<e.ticktext.length)return i.text=String(e.ticktext[u]),i}function h(y){if(y===void 0)return!0;if(r)return y==="none";var x={first:e._tmin,last:e._tmax}[y];return y!=="all"&&t!==x}var v=r?"never":e.exponentformat!=="none"&&h(e.showexponent)?"hide":"";if(s==="date"?XBe(e,i,r,o):s==="log"?ZBe(e,i,r,o,v):s==="category"?$Be(e,i):s==="multicategory"?KBe(e,i,r):IL(e)?QBe(e,i,r,o,v):JBe(e,i,r,o,v),n||(e.tickprefix&&!h(e.showtickprefix)&&(i.text=e.tickprefix+i.text),e.ticksuffix&&!h(e.showticksuffix)&&(i.text+=e.ticksuffix)),e.tickson==="boundaries"||e.showdividers){var b=function(y){var x=e.l2p(y);return x>=0&&x<=e._length?y:null};i.xbnd=[b(i.x-.5),b(i.x+e.dtick-.5)]}return i};cr.hoverLabelText=function(e,t,r){r&&(e=_n.extendFlat({},e,{hoverformat:r}));var n=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:void 0;if(i!==void 0&&i!==n)return cr.hoverLabelText(e,n,r)+" - "+cr.hoverLabelText(e,i,r);var a=e.type==="log"&&n<=0,o=cr.tickText(e,e.c2l(a?-n:n),"hover").text;return a?n===0?"0":cp+o:o};function DL(e,t,r){var n=e.tickfont||{};return{x:t,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontColor:n.color}}function XBe(e,t,r,n){var i=e._tickround,a=r&&e.hoverformat||cr.getTickFormat(e);n&&(ao(i)?i=4:i={y:"m",m:"d",d:"M",M:"S",S:4}[i]);var o=_n.formatDate(t.x,a,i,e._dateFormat,e.calendar,e._extraFormat),s,l=o.indexOf(`
`);if(l!==-1&&(s=o.substr(l+1),o=o.substr(0,l)),n&&(o==="00:00:00"||o==="00:00"?(o=s,s=""):o.length===8&&(o=o.replace(/:00$/,""))),s)if(r)i==="d"?o+=", "+s:o=s+(o?", "+o:"");else if(!e._inCalcTicks||e._prevDateHead!==s)e._prevDateHead=s,o+="<br>"+s;else{var u=Ux(e),f=e._trueSide||e.side;(!u&&f==="top"||u&&f==="bottom")&&(o+="<br> ")}t.text=o}function ZBe(e,t,r,n,i){var a=e.dtick,o=t.x,s=e.tickformat,l=typeof a=="string"&&a.charAt(0);if(i==="never"&&(i=""),n&&l!=="L"&&(a="L3",l="L"),s||l==="L")t.text=Hx(Math.pow(10,o),e,i,n);else if(ao(a)||l==="D"&&_n.mod(o+.01,1)<.1){var u=Math.round(o),f=Math.abs(u),c=e.exponentformat;c==="power"||H3(c)&&qL(u)?(u===0?t.text=1:u===1?t.text="10":t.text="10<sup>"+(u>1?"":cp)+f+"</sup>",t.fontSize*=1.25):(c==="e"||c==="E")&&f>2?t.text="1"+c+(u>0?"+":cp)+f:(t.text=Hx(Math.pow(10,o),e,"","fakehover"),a==="D1"&&e._id.charAt(0)==="y"&&(t.dy-=t.fontSize/6))}else if(l==="D")t.text=String(Math.round(Math.pow(10,_n.mod(o,1)))),t.fontSize*=.75;else throw"unrecognized dtick "+String(a);if(e.dtick==="D1"){var h=String(t.text).charAt(0);(h==="0"||h==="1")&&(e._id.charAt(0)==="y"?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(o<0?.5:.25)))}}function $Be(e,t){var r=e._categories[Math.round(t.x)];r===void 0&&(r=""),t.text=String(r)}function KBe(e,t,r){var n=Math.round(t.x),i=e._categories[n]||[],a=i[1]===void 0?"":String(i[1]),o=i[0]===void 0?"":String(i[0]);r?t.text=o+" - "+a:(t.text=a,t.text2=o)}function JBe(e,t,r,n,i){i==="never"?i="":e.showexponent==="all"&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=Hx(t.x,e,i,n)}function QBe(e,t,r,n,i){if(e.thetaunit==="radians"&&!r){var a=t.x/180;if(a===0)t.text="0";else{var o=eHe(a);if(o[1]>=100)t.text=Hx(_n.deg2rad(t.x),e,i,n);else{var s=t.x<0;o[1]===1?o[0]===1?t.text="\u03C0":t.text=o[0]+"\u03C0":t.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03C0"].join(""),s&&(t.text=cp+t.text)}}}else t.text=Hx(t.x,e,i,n)}function eHe(e){function t(s,l){return Math.abs(s-l)<=1e-6}function r(s,l){return t(l,0)?s:r(l,s%l)}function n(s){for(var l=1;!t(Math.round(s*l)/l,s);)l*=10;return l}var i=n(e),a=e*i,o=Math.abs(r(a,i));return[Math.round(a/o),Math.round(i/o)]}var tHe=["f","p","n","\u03BC","m","","k","M","G","T"];function H3(e){return e==="SI"||e==="B"}function qL(e){return e>14||e<-15}function Hx(e,t,r,n){var i=e<0,a=t._tickround,o=r||t.exponentformat||"B",s=t._tickexponent,l=cr.getTickFormat(t),u=t.separatethousands;if(n){var f={exponentformat:o,minexponent:t.minexponent,dtick:t.showexponent==="none"?t.dtick:ao(e)&&Math.abs(e)||1,range:t.showexponent==="none"?t.range.map(t.r2d):[0,e||1]};DX(f),a=(Number(f._tickround)||0)+4,s=f._tickexponent,t.hoverformat&&(l=t.hoverformat)}if(l)return t._numFormat(l)(e).replace(/-/g,cp);var c=Math.pow(10,-a)/2;if(o==="none"&&(s=0),e=Math.abs(e),e<c)e="0",i=!1;else{if(e+=c,s&&(e*=Math.pow(10,-s),a+=s),a===0)e=String(Math.floor(e));else if(a<0){e=String(Math.round(e)),e=e.substr(0,e.length+a);for(var h=a;h<0;h++)e+="0"}else{e=String(e);var v=e.indexOf(".")+1;v&&(e=e.substr(0,v+a).replace(/\.?0+$/,""))}e=_n.numSeparate(e,t._separators,u)}if(s&&o!=="hide"){H3(o)&&qL(s)&&(o="power");var b;s<0?b=cp+-s:o!=="power"?b="+"+s:b=String(s),o==="e"||o==="E"?e+=o+b:o==="power"?e+="\xD710<sup>"+b+"</sup>":o==="B"&&s===9?e+="B":H3(o)&&(e+=tHe[s/3+5])}return i?cp+e:e}cr.getTickFormat=function(e){var t;function r(l){return typeof l!="string"?l:Number(l.replace("M",""))*j1}function n(l,u){var f=["L","D"];if(typeof l==typeof u){if(typeof l=="number")return l-u;var c=f.indexOf(l.charAt(0)),h=f.indexOf(u.charAt(0));return c===h?Number(l.replace(/(L|D)/g,""))-Number(u.replace(/(L|D)/g,"")):c-h}else return typeof l=="number"?1:-1}function i(l,u,f){var c=f||function(b){return b},h=u[0],v=u[1];return(!h&&typeof h!="number"||c(h)<=c(l))&&(!v&&typeof v!="number"||c(v)>=c(l))}function a(l,u){var f=u[0]===null,c=u[1]===null,h=n(l,u[0])>=0,v=n(l,u[1])<=0;return(f||h)&&(c||v)}var o,s;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(t=0;t<e.tickformatstops.length;t++)if(s=e.tickformatstops[t],s.enabled&&i(e.dtick,s.dtickrange,r)){o=s;break}break}case"log":{for(t=0;t<e.tickformatstops.length;t++)if(s=e.tickformatstops[t],s.enabled&&a(e.dtick,s.dtickrange)){o=s;break}break}default:}return o?o.value:e.tickformat};cr.getSubplots=function(e,t){var r=e._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),i=t?cr.findSubplotsWithAxis(n,t):n;return i.sort(function(a,o){var s=a.substr(1).split("y"),l=o.substr(1).split("y");return s[0]===l[0]?+s[1]-+l[1]:+s[0]-+l[0]}),i};cr.findSubplotsWithAxis=function(e,t){for(var r=new RegExp(t._id.charAt(0)==="x"?"^"+t._id+"y":t._id+"$"),n=[],i=0;i<e.length;i++){var a=e[i];r.test(a)&&n.push(a)}return n};cr.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var r={_offset:0,_length:t.width,_id:""},n={_offset:0,_length:t.height,_id:""},i=cr.list(e,"x",!0),a=cr.list(e,"y",!0),o=[],s,l;for(s=0;s<i.length;s++)for(o.push({x:i[s],y:n}),l=0;l<a.length;l++)s===0&&o.push({x:r,y:a[l]}),o.push({x:i[s],y:a[l]});var u=t._clips.selectAll(".axesclip").data(o,function(f){return f.x._id+f.y._id});u.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+t._uid+f.x._id+f.y._id}).append("rect"),u.exit().remove(),u.each(function(f){Ff.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};cr.draw=function(e,t,r){var n=e._fullLayout;t==="redraw"&&n._paper.selectAll("g.subplot").each(function(a){var o=a[0],s=n._plots[o];if(s){var l=s.xaxis,u=s.yaxis;s.xaxislayer.selectAll("."+l._id+"tick").remove(),s.yaxislayer.selectAll("."+u._id+"tick").remove(),s.xaxislayer.selectAll("."+l._id+"tick2").remove(),s.yaxislayer.selectAll("."+u._id+"tick2").remove(),s.xaxislayer.selectAll("."+l._id+"divider").remove(),s.yaxislayer.selectAll("."+u._id+"divider").remove(),s.minorGridlayer&&s.minorGridlayer.selectAll("path").remove(),s.gridlayer&&s.gridlayer.selectAll("path").remove(),s.zerolinelayer&&s.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+l._id+"title").remove(),n._infolayer.select(".g-"+u._id+"title").remove()}});var i=!t||t==="redraw"?cr.listIds(e):t;return _n.syncOrAsync(i.map(function(a){return function(){if(a){var o=cr.getFromId(e,a),s=cr.drawOne(e,o,r);return o._r=o.range.slice(),o._rl=_n.simpleMap(o._r,o.r2l),s}}}))};cr.drawOne=function(e,t,r){r=r||{};var n,i,a;t.setScale();var o=e._fullLayout,s=t._id,l=s.charAt(0),u=cr.counterLetter(s),f=o._plots[t._mainSubplot];if(!f)return;var c=f[l+"axislayer"],h=t._mainLinePosition,v=t._mainMirrorPosition,b=t._vals=cr.calcTicks(t),y=[t.mirror,h,v].join("_");for(n=0;n<b.length;n++)b[n].axInfo=y;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var x={};function m(ge){var qe=s+(ge||"tick");return x[qe]||(x[qe]=aHe(t,qe)),x[qe]}if(t.visible){var _=cr.makeTransTickFn(t),g=cr.makeTransTickLabelFn(t),A,w,k=t.ticks==="inside",p=t.ticks==="outside";if(t.tickson==="boundaries"){var d=rHe(t,b);w=cr.clipEnds(t,d),A=k?w:d}else w=cr.clipEnds(t,b),A=k&&t.ticklabelmode!=="period"?w:b;var M=t._gridVals=w,T=iHe(t,b);if(!o._hasOnlyLargeSploms){var S=t._subplotsWith,E={};for(n=0;n<S.length;n++){i=S[n],a=o._plots[i];var L=a[u+"axis"],D=L._mainAxis._id;if(!E[D]){E[D]=1;var R=l==="x"?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;cr.drawGrid(e,t,{vals:M,counterAxis:L,layer:a.gridlayer.select("."+s),minorLayer:a.minorGridlayer.select("."+s),path:R,transFn:_}),cr.drawZeroLine(e,t,{counterAxis:L,layer:a.zerolinelayer,path:R,transFn:_})}}}var q,C=cr.getTickSigns(t),F=cr.getTickSigns(t,"minor");if(t.ticks||t.minor&&t.minor.ticks){var N=cr.makeTickPath(t,h,C[2]),U=cr.makeTickPath(t,h,F[2],{minor:!0}),V,Y,K,B;if(t._anchorAxis&&t.mirror&&t.mirror!==!0?(V=cr.makeTickPath(t,v,C[3]),Y=cr.makeTickPath(t,v,F[3],{minor:!0}),K=N+V,B=U+Y):(V="",Y="",K=N,B=U),t.showdividers&&p&&t.tickson==="boundaries"){var z={};for(n=0;n<T.length;n++)z[T[n].x]=1;q=function(ge){return z[ge.x]?V:K}}else q=function(ge){return ge.minor?B:K}}if(cr.drawTicks(e,t,{vals:A,layer:c,path:q,transFn:_}),t.mirror==="allticks"){var j=Object.keys(t._linepositions||{});for(n=0;n<j.length;n++){i=j[n],a=o._plots[i];var ae=t._linepositions[i]||[],ee=ae[0],ve=ae[1],fe=ae[2],se=cr.makeTickPath(t,ee,fe?C[0]:F[0],{minor:fe})+cr.makeTickPath(t,ve,fe?C[1]:F[1],{minor:fe});cr.drawTicks(e,t,{vals:A,layer:a[l+"axislayer"],path:se,transFn:_})}}var G=[];if(G.push(function(){return cr.drawLabels(e,t,{vals:b,layer:c,plotinfo:a,transFn:g,labelFns:cr.makeLabelFns(t,h)})}),t.type==="multicategory"){var Z={x:2,y:10}[l];G.push(function(){var ge={x:"height",y:"width"}[l],qe=m()[ge]+Z+(t._tickAngles[s+"tick"]?t.tickfont.size*B3:0);return cr.drawLabels(e,t,{vals:nHe(t,b),layer:c,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:_,labelFns:cr.makeLabelFns(t,h+qe*C[4])})}),G.push(function(){return t._depth=C[4]*(m("tick2")[t.side]-h),sHe(e,t,{vals:T,layer:c,path:cr.makeTickPath(t,h,C[4],{len:t._depth}),transFn:_})})}else t.title.hasOwnProperty("standoff")&&G.push(function(){t._depth=C[4]*(m()[t.side]-h)});var X=Ox.getComponentMethod("rangeslider","isVisible")(t);return G.push(function(){var ge=t.side.charAt(0),qe=FBe[t.side].charAt(0),Pe=cr.getPxPosition(e,t),Oe=p?t.ticklen:0,de,_e,ce,J;if((t.automargin||X)&&(t.type==="multicategory"?de=m("tick2"):(de=m(),l==="x"&&ge==="b"&&(t._depth=Math.max(de.width>0?de.bottom-Pe:0,Oe)))),t.automargin){_e={x:0,y:0,r:0,l:0,t:0,b:0};var ne=[0,1];if(l==="x"){if(ge==="b"?_e[ge]=t._depth:(_e[ge]=t._depth=Math.max(de.width>0?Pe-de.top:0,Oe),ne.reverse()),de.width>0){var be=de.right-(t._offset+t._length);be>0&&(_e.xr=1,_e.r=be);var Fe=t._offset-de.left;Fe>0&&(_e.xl=0,_e.l=Fe)}}else if(ge==="l"?_e[ge]=t._depth=Math.max(de.height>0?Pe-de.left:0,Oe):(_e[ge]=t._depth=Math.max(de.height>0?de.right-Pe:0,Oe),ne.reverse()),de.height>0){var He=de.bottom-(t._offset+t._length);He>0&&(_e.yb=0,_e.b=He);var te=t._offset-de.top;te>0&&(_e.yt=1,_e.t=te)}_e[u]=t.anchor==="free"?t.position:t._anchorAxis.domain[ne[0]],t.title.text!==o._dfltTitle[l]&&(_e[ge]+=qX(t)+(t.title.standoff||0)),t.mirror&&t.anchor!=="free"&&(ce={x:0,y:0,r:0,l:0,t:0,b:0},ce[qe]=t.linewidth,t.mirror&&t.mirror!==!0&&(ce[qe]+=Oe),t.mirror===!0||t.mirror==="ticks"?ce[u]=t._anchorAxis.domain[ne[1]]:(t.mirror==="all"||t.mirror==="allticks")&&(ce[u]=[t._counterDomainMin,t._counterDomainMax][ne[1]]))}X&&(J=Ox.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),typeof t.automargin=="string"&&(kX(_e,t.automargin),kX(ce,t.automargin)),H1.autoMargin(e,RL(t),_e),H1.autoMargin(e,IX(t),ce),H1.autoMargin(e,PX(t),J)}),!r.skipTitle&&!(X&&t.side==="bottom")&&G.push(function(){return lHe(e,t)}),_n.syncOrAsync(G)}};function kX(e,t){if(e){var r=Object.keys(xX).reduce(function(n,i){return t.indexOf(i)!==-1&&xX[i].forEach(function(a){n[a]=1}),n},{});Object.keys(e).forEach(function(n){r[n]||(n.length===1?e[n]=0:delete e[n])})}}function rHe(e,t){var r=[],n,i=function(a,o){var s=a.xbnd[o];s!==null&&r.push(_n.extendFlat({},a,{x:s}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}function nHe(e,t){for(var r=[],n={},i=0;i<t.length;i++){var a=t[i];n[a.text2]?n[a.text2].push(a.x):n[a.text2]=[a.x]}for(var o in n)r.push(DL(e,_n.interp(n[o],.5),o));return r}function iHe(e,t){var r=[],n,i,a=t.length&&t[t.length-1].x<t[0].x,o=function(l,u){var f=l.xbnd[u];f!==null&&r.push(_n.extendFlat({},l,{x:f}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var s=t[n];s.text2!==i&&o(s,a?1:0),i=s.text2}o(t[n-1],a?0:1)}return r}function aHe(e,t){var r,n,i,a;return e._selections[t].size()?(r=1/0,n=-1/0,i=1/0,a=-1/0,e._selections[t].each(function(){var o=LL(this),s=df.bBox(o.node().parentNode);r=Math.min(r,s.top),n=Math.max(n,s.bottom),i=Math.min(i,s.left),a=Math.max(a,s.right)})):(r=0,n=0,i=0,a=0),{top:r,bottom:n,left:i,right:a,height:n-r,width:a-i}}cr.getTickSigns=function(e,t){var r=e._id.charAt(0),n={x:"top",y:"right"}[r],i=e.side===n?1:-1,a=[-1,1,i,-i],o=t?(e.minor||{}).ticks:e.ticks;return o!=="inside"==(r==="x")&&(a=a.map(function(s){return-s})),e.side&&a.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),a};cr.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(t){return U1(e._offset+e.l2p(t.x),0)}:function(t){return U1(0,e._offset+e.l2p(t.x))}};cr.makeTransTickLabelFn=function(e){var t=oHe(e),r=t[0],n=t[1];return e._id.charAt(0)==="x"?function(i){return U1(r+e._offset+e.l2p(EL(i)),n)}:function(i){return U1(n,r+e._offset+e.l2p(EL(i)))}};function EL(e){return e.periodX!==void 0?e.periodX:e.x}function oHe(e){var t=e.ticklabelposition||"",r=function(v){return t.indexOf(v)!==-1},n=r("top"),i=r("left"),a=r("right"),o=r("bottom"),s=r("inside"),l=o||i||n||a;if(!l&&!s)return[0,0];var u=e.side,f=l?(e.tickwidth||0)/2:0,c=SL,h=e.tickfont?e.tickfont.size:12;return(o||n)&&(f+=h*hp,c+=(e.linewidth||0)/2),(i||a)&&(f+=(e.linewidth||0)/2,c+=SL),s&&u==="top"&&(c-=h*(1-hp)),(i||n)&&(f=-f),(u==="bottom"||u==="right")&&(c=-c),[l?f:0,s?c:0]}cr.makeTickPath=function(e,t,r,n){n||(n={});var i=n.minor;if(i&&!e.minor)return"";var a=n.len!==void 0?n.len:i?e.minor.ticklen:e.ticklen,o=e._id.charAt(0),s=(e.linewidth||1)/2;return o==="x"?"M0,"+(t+s*r)+"v"+a*r:"M"+(t+s*r)+",0h"+a*r};cr.makeLabelFns=function(e,t,r){var n=e.ticklabelposition||"",i=function(E){return n.indexOf(E)!==-1},a=i("top"),o=i("left"),s=i("right"),l=i("bottom"),u=l||o||a||s,f=i("inside"),c=n==="inside"&&e.ticks==="inside"||!f&&e.ticks==="outside"&&e.tickson!=="boundaries",h=0,v=0,b=c?e.ticklen:0;if(f?b*=-1:u&&(b=0),c&&(h+=b,r)){var y=_n.deg2rad(r);h=b*Math.cos(y)+1,v=b*Math.sin(y)}e.showticklabels&&(c||e.showline)&&(h+=.2*e.tickfont.size),h+=(e.linewidth||1)/2*(f?-1:1);var x={labelStandoff:h,labelShift:v},m,_,g,A,w=0,k=e.side,p=e._id.charAt(0),d=e.tickangle,M;if(p==="x")M=!f&&k==="bottom"||f&&k==="top",A=M?1:-1,f&&(A*=-1),m=v*A,_=t+h*A,g=M?1:-.2,Math.abs(d)===90&&(f?g+=P3:d===-90&&k==="bottom"?g=hp:d===90&&k==="top"?g=P3:g=.5,w=P3/2*(d/90)),x.xFn=function(E){return E.dx+m+w*E.fontSize},x.yFn=function(E){return E.dy+_+E.fontSize*g},x.anchorFn=function(E,L){if(u){if(o)return"end";if(s)return"start"}return!ao(L)||L===0||L===180?"middle":L*A<0!==f?"end":"start"},x.heightFn=function(E,L,D){return L<-60||L>60?-.5*D:e.side==="top"!==f?-D:0};else if(p==="y"){if(M=!f&&k==="left"||f&&k==="right",A=M?1:-1,f&&(A*=-1),m=h,_=v*A,g=0,!f&&Math.abs(d)===90&&(d===-90&&k==="left"||d===90&&k==="right"?g=hp:g=.5),f){var T=ao(d)?+d:0;if(T!==0){var S=_n.deg2rad(T);w=Math.abs(Math.sin(S))*hp*A,g=0}}x.xFn=function(E){return E.dx+t-(m+E.fontSize*g)*A+w*E.fontSize},x.yFn=function(E){return E.dy+_+E.fontSize*P3},x.anchorFn=function(E,L){return ao(L)&&Math.abs(L)===90?"middle":M?"end":"start"},x.heightFn=function(E,L,D){return e.side==="right"&&(L*=-1),L<-30?-D:L<30?-.5*D:0}}return x};function V3(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}cr.drawTicks=function(e,t,r){r=r||{};var n=t._id+"tick",i=[].concat(t.minor&&t.minor.ticks?r.vals.filter(function(o){return o.minor&&!o.noTick}):[]).concat(t.ticks?r.vals.filter(function(o){return!o.minor&&!o.noTick}):[]),a=r.layer.selectAll("path."+n).data(i,V3);a.exit().remove(),a.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",r.crisp!==!1).each(function(o){return Bx.stroke(Ff.select(this),o.minor?t.minor.tickcolor:t.tickcolor)}).style("stroke-width",function(o){return df.crispRound(e,o.minor?t.minor.tickwidth:t.tickwidth,1)+"px"}).attr("d",r.path).style("display",null),G3(t,[SX]),a.attr("transform",r.transFn)};cr.drawGrid=function(e,t,r){r=r||{};var n=t._id+"grid",i=t.minor&&t.minor.showgrid,a=i?r.vals.filter(function(m){return m.minor}):[],o=t.showgrid?r.vals.filter(function(m){return!m.minor}):[],s=r.counterAxis;if(s&&cr.shouldShowZeroLine(e,t,s))for(var l=t.tickmode==="array",u=0;u<o.length;u++){var f=o[u].x;if(l?!f:Math.abs(f)<t.dtick/100)if(o=o.slice(0,u).concat(o.slice(u+1)),l)u--;else break}t._gw=df.crispRound(e,t.gridwidth,1);for(var c=i?df.crispRound(e,t.minor.gridwidth,1):0,h=r.layer,v=r.minorLayer,b=1;b>=0;b--){var y=b?h:v;if(y){var x=y.selectAll("path."+n).data(b?o:a,V3);x.exit().remove(),x.enter().append("path").classed(n,1).classed("crisp",r.crisp!==!1),x.attr("transform",r.transFn).attr("d",r.path).each(function(m){return Bx.stroke(Ff.select(this),m.minor?t.minor.gridcolor:t.gridcolor||"#ddd")}).style("stroke-dasharray",function(m){return df.dashStyle(m.minor?t.minor.griddash:t.griddash,m.minor?t.minor.gridwidth:t.gridwidth)}).style("stroke-width",function(m){return(m.minor?c:t._gw)+"px"}).style("display",null),typeof r.path=="function"&&x.attr("d",r.path)}}G3(t,[ML,kL])};cr.drawZeroLine=function(e,t,r){r=r||r;var n=t._id+"zl",i=cr.shouldShowZeroLine(e,t,r.counterAxis),a=r.layer.selectAll("path."+n).data(i?[{x:0,id:t._id}]:[]);a.exit().remove(),a.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",r.crisp!==!1).each(function(){r.layer.selectAll("path").sort(function(o,s){return zBe(o.id,s.id)})}),a.attr("transform",r.transFn).attr("d",r.path).call(Bx.stroke,t.zerolinecolor||Bx.defaultLine).style("stroke-width",df.crispRound(e,t.zerolinewidth,t._gw||1)+"px").style("display",null),G3(t,[AL])};cr.drawLabels=function(e,t,r){r=r||{};var n=e._fullLayout,i=t._id,a=i.charAt(0),o=r.cls||i+"tick",s=r.vals.filter(function(A){return A.text}),l=r.labelFns,u=r.secondary?0:t.tickangle,f=(t._prevTickAngles||{})[o],c=r.layer.selectAll("g."+o).data(t.showticklabels?s:[],V3),h=[];c.enter().append("g").classed(o,1).append("text").attr("text-anchor","middle").each(function(A){var w=Ff.select(this),k=e._promises.length;w.call(zx.positionText,l.xFn(A),l.yFn(A)).call(df.font,A.font,A.fontSize,A.fontColor).text(A.text).call(zx.convertToTspans,e),e._promises[k]?h.push(e._promises.pop().then(function(){v(w,u)})):v(w,u)}),G3(t,[yX]),c.exit().remove(),r.repositionOnUpdate&&c.each(function(A){Ff.select(this).select("text").call(zx.positionText,l.xFn(A),l.yFn(A))});function v(A,w){A.each(function(k){var p=Ff.select(this),d=p.select(".text-math-group"),M=l.anchorFn(k,w),T=r.transFn.call(p.node(),k)+(ao(w)&&+w!=0?" rotate("+w+","+l.xFn(k)+","+(l.yFn(k)-k.fontSize/2)+")":""),S=zx.lineCount(p),E=B3*k.fontSize,L=l.heightFn(k,ao(w)?+w:0,(S-1)*E);if(L&&(T+=U1(0,L)),d.empty()){var D=p.select("text");D.attr({transform:T,"text-anchor":M}),D.style("opacity",1),t._adjustTickLabelsOverflow&&t._adjustTickLabelsOverflow()}else{var R=df.bBox(d.node()).width,q=R*{end:-.5,start:.5}[M];d.attr("transform",T+U1(q,0))}})}t._adjustTickLabelsOverflow=function(){var A=t.ticklabeloverflow;if(!(!A||A==="allow")){var w=A.indexOf("hide")!==-1,k=t._id.charAt(0)==="x",p=0,d=k?e._fullLayout.width:e._fullLayout.height;if(A.indexOf("domain")!==-1){var M=_n.simpleMap(t.range,t.r2l);p=t.l2p(M[0])+t._offset,d=t.l2p(M[1])+t._offset}var T=Math.min(p,d),S=Math.max(p,d),E=t.side,L=1/0,D=-1/0;c.each(function(F){var N=Ff.select(this),U=N.select(".text-math-group");if(U.empty()){var V=df.bBox(N.node()),Y=0;k?(V.right>S||V.left<T)&&(Y=1):(V.bottom>S||V.top+(t.tickangle?0:F.fontSize/4)<T)&&(Y=1);var K=N.select("text");Y?w&&K.style("opacity",0):(K.style("opacity",1),E==="bottom"||E==="right"?L=Math.min(L,k?V.top:V.left):L=-1/0,E==="top"||E==="left"?D=Math.max(D,k?V.bottom:V.right):D=1/0)}});for(var R in n._plots){var q=n._plots[R];if(!(t._id!==q.xaxis._id&&t._id!==q.yaxis._id)){var C=k?q.yaxis:q.xaxis;C&&(C["_visibleLabelMin_"+t._id]=L,C["_visibleLabelMax_"+t._id]=D)}}}},t._hideCounterAxisInsideTickLabels=function(A){var w=t._id.charAt(0)==="x",k=[];for(var p in n._plots){var d=n._plots[p];t._id!==d.xaxis._id&&t._id!==d.yaxis._id||k.push(w?d.yaxis:d.xaxis)}k.forEach(function(M,T){M&&Ux(M)&&(A||[AL,kL,ML,SX,yX]).forEach(function(S){var E=S.K==="tick"&&S.L==="text"&&t.ticklabelmode==="period",L=n._plots[t._mainSubplot],D;S.K===AL.K?D=L.zerolinelayer.selectAll("."+t._id+"zl"):S.K===kL.K?D=L.minorGridlayer.selectAll("."+t._id):S.K===ML.K?D=L.gridlayer.selectAll("."+t._id):D=L[t._id.charAt(0)+"axislayer"],D.each(function(){var R=Ff.select(this);S.L&&(R=R.selectAll(S.L)),R.each(function(q){var C=t.l2p(E?EL(q):q.x)+t._offset,F=Ff.select(this);C<t["_visibleLabelMax_"+M._id]&&C>t["_visibleLabelMin_"+M._id]?F.style("display","none"):S.K==="tick"&&!T&&F.style("display",null)})})})})},v(c,f+1?f:u);function b(){return h.length&&Promise.all(h)}var y=null;function x(){if(v(c,u),s.length&&a==="x"&&!ao(u)&&(t.type!=="log"||String(t.dtick).charAt(0)!=="D")){y=0;var A=0,w=[],k;if(c.each(function(V){A=Math.max(A,V.fontSize);var Y=t.l2p(V.x),K=LL(this),B=df.bBox(K.node());w.push({top:0,bottom:10,height:10,left:Y-B.width/2,right:Y+B.width/2+2,width:B.width+2})}),(t.tickson==="boundaries"||t.showdividers)&&!r.secondary){var p=2;for(t.ticks&&(p+=t.tickwidth/2),k=0;k<w.length;k++){var d=s[k].xbnd,M=w[k];if(d[0]!==null&&M.left-t.l2p(d[0])<p||d[1]!==null&&t.l2p(d[1])-M.right<p){y=90;break}}}else{var T=s.length,S=Math.abs((s[T-1].x-s[0].x)*t._m)/(T-1),E=t.ticklabelposition||"",L=function(V){return E.indexOf(V)!==-1},D=L("top"),R=L("left"),q=L("right"),C=L("bottom"),F=C||R||D||q,N=F?(t.tickwidth||0)+2*SL:0,U=S<A*2.5||t.type==="multicategory"||t._name==="realaxis";for(k=0;k<w.length-1;k++)if(_n.bBoxIntersect(w[k],w[k+1],N)){y=U?90:30;break}}y&&v(c,y)}}t._selections&&(t._selections[o]=c);var m=[b];t.automargin&&n._redrawFromAutoMarginCount&&f===90?(y=90,m.push(function(){v(c,f)})):m.push(x),t._tickAngles&&m.push(function(){t._tickAngles[o]=y===null?ao(u)?u:0:y});var _=t._anchorAxis;_&&_.autorange&&Ux(t)&&!OBe(n,t._id)&&(n._insideTickLabelsAutorange||(n._insideTickLabelsAutorange={}),n._insideTickLabelsAutorange[_._name+".autorange"]=_.autorange,m.push(function(){c.each(function(w,k){var p=LL(this),d=p.select(".text-math-group");d.empty()&&(t._vals[k].bb=df.bBox(p.node()))})}));var g=_n.syncOrAsync(m);return g&&g.then&&e._promises.push(g),g};function sHe(e,t,r){var n=t._id+"divider",i=r.vals,a=r.layer.selectAll("path."+n).data(i,V3);a.exit().remove(),a.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Bx.stroke,t.dividercolor).style("stroke-width",df.crispRound(e,t.dividerwidth,1)+"px"),a.attr("transform",r.transFn).attr("d",r.path)}cr.getPxPosition=function(e,t){var r=e._fullLayout._size,n=t._id.charAt(0),i=t.side,a;if(t.anchor!=="free"?a=t._anchorAxis:n==="x"?a={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:n==="y"&&(a={_offset:r.l+(t.position||0)*r.w,_length:0}),i==="top"||i==="left")return a._offset;if(i==="bottom"||i==="right")return a._offset+a._length};function qX(e){var t=e.title.font.size,r=(e.title.text.match(zx.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r?t*(hp+r*B3):t*hp:r?t*(r+1)*B3:t}function lHe(e,t){var r=e._fullLayout,n=t._id,i=n.charAt(0),a=t.title.font.size,o;if(t.title.hasOwnProperty("standoff"))o=t._depth+t.title.standoff+qX(t);else{var s=Ux(t);if(t.type==="multicategory")o=t._depth;else{var l=1.5*a;s&&(l=.5*a,t.ticks==="outside"&&(l+=t.ticklen)),o=10+l+(t.linewidth?t.linewidth-1:0)}s||(i==="x"?o+=t.side==="top"?a*(t.showticklabels?1:0):a*(t.showticklabels?1.5:.5):o+=t.side==="right"?a*(t.showticklabels?1:.5):a*(t.showticklabels?.5:0))}var u=cr.getPxPosition(e,t),f,c,h;i==="x"?(c=t._offset+t._length/2,h=t.side==="top"?u-o:u+o):(h=t._offset+t._length/2,c=t.side==="right"?u+o:u-o,f={rotate:"-90",offset:0});var v;if(t.type!=="multicategory"){var b=t._selections[t._id+"tick"];if(v={selection:b,side:t.side},b&&b.node()&&b.node().parentNode){var y=df.getTranslate(b.node().parentNode);v.offsetLeft=y.x,v.offsetTop=y.y}t.title.hasOwnProperty("standoff")&&(v.pad=0)}return DBe.draw(e,n+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[i],avoid:v,transform:f,attributes:{x:c,y:h,"text-anchor":"middle"}})}cr.shouldShowZeroLine=function(e,t,r){var n=_n.simpleMap(t.range,t.r2l);return n[0]*n[1]<=0&&t.zeroline&&(t.type==="linear"||t.type==="-")&&!(t.rangebreaks&&t.maskBreaks(0)===U3)&&(RX(t,0)||!uHe(e,t,r,n)||fHe(e,t))};cr.clipEnds=function(e,t){return t.filter(function(r){return RX(e,r.x)})};function RX(e,t){var r=e.l2p(t);return r>1&&r<e._length-1}function uHe(e,t,r,n){var i=r._mainAxis;if(!i)return;var a=e._fullLayout,o=t._id.charAt(0),s=cr.counterLetter(t._id),l=t._offset+(Math.abs(n[0])<Math.abs(n[1])==(o==="x")?0:t._length);function u(b){if(!b.showline||!b.linewidth)return!1;var y=Math.max((b.linewidth+t.zerolinewidth)/2,1);function x(g){return typeof g=="number"&&Math.abs(g-l)<y}if(x(b._mainLinePosition)||x(b._mainMirrorPosition))return!0;var m=b._linepositions||{};for(var _ in m)if(x(m[_][0])||x(m[_][1]))return!0}var f=a._plots[r._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return u(r,l);for(var c=cr.list(e,s),h=0;h<c.length;h++){var v=c[h];if(v._mainAxis===i&&u(v,l))return!0}}function fHe(e,t){for(var r=e._fullData,n=t._mainSubplot,i=t._id.charAt(0),a=0;a<r.length;a++){var o=r[a];if(o.visible===!0&&o.xaxis+o.yaxis===n&&(Ox.traceIs(o,"bar-like")&&o.orientation==={x:"h",y:"v"}[i]||o.fill&&o.fill.charAt(o.fill.length-1)===i))return!0}return!1}function LL(e){var t=Ff.select(e),r=t.select(".text-math-group");return r.empty()?t.select("text"):r}cr.allowAutoMargin=function(e){for(var t=cr.list(e,"",!0),r=0;r<t.length;r++){var n=t[r];n.automargin&&(H1.allowAutoMargin(e,RL(n)),n.mirror&&H1.allowAutoMargin(e,IX(n))),Ox.getComponentMethod("rangeslider","isVisible")(n)&&H1.allowAutoMargin(e,PX(n))}};function RL(e){return e._id+".automargin"}function IX(e){return RL(e)+".mirror"}function PX(e){return e._id+".rangeslider"}cr.swap=function(e,t){for(var r=cHe(e,t),n=0;n<r.length;n++)hHe(e,r[n].x,r[n].y)};function cHe(e,t){var r=[],n,i;for(n=0;n<t.length;n++){var a=[],o=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(!(!o||!s)){for(i=0;i<r.length;i++)(r[i].x.indexOf(o)!==-1||r[i].y.indexOf(s)!==-1)&&a.push(i);if(!a.length){r.push({x:[o],y:[s]});continue}var l=r[a[0]],u;if(a.length>1)for(i=1;i<a.length;i++)u=r[a[i]],N3(l.x,u.x),N3(l.y,u.y);N3(l.x,[o]),N3(l.y,[s])}}return r}function N3(e,t){for(var r=0;r<t.length;r++)e.indexOf(t[r])===-1&&e.push(t[r])}function hHe(e,t,r){var n=[],i=[],a=e.layout,o,s;for(o=0;o<t.length;o++)n.push(cr.getFromId(e,t[o]));for(o=0;o<r.length;o++)i.push(cr.getFromId(e,r[o]));var l=Object.keys(qBe),u=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(o=0;o<l.length;o++){var c=l[o],h=n[0][c],v=i[0][c],b=!0,y=!1,x=!1;if(!(c.charAt(0)==="_"||typeof h=="function"||u.indexOf(c)!==-1)){for(s=1;s<n.length&&b;s++){var m=n[s][c];c==="type"&&f.indexOf(h)!==-1&&f.indexOf(m)!==-1&&h!==m?y=!0:m!==h&&(b=!1)}for(s=1;s<i.length&&b;s++){var _=i[s][c];c==="type"&&f.indexOf(v)!==-1&&f.indexOf(_)!==-1&&v!==_?x=!0:i[s][c]!==v&&(b=!1)}b&&(y&&(a[n[0]._name].type="linear"),x&&(a[i[0]._name].type="linear"),vHe(a,c,n,i,e._fullLayout._dfltTitle))}}for(o=0;o<e._fullLayout.annotations.length;o++){var g=e._fullLayout.annotations[o];t.indexOf(g.xref)!==-1&&r.indexOf(g.yref)!==-1&&_n.swapAttrs(a.annotations[o],["?"])}}function vHe(e,t,r,n,i){var a=_n.nestedProperty,o=a(e[r[0]._name],t).get(),s=a(e[n[0]._name],t).get(),l;for(t==="title"&&(o&&o.text===i.x&&(o.text=i.y),s&&s.text===i.y&&(s.text=i.x)),l=0;l<r.length;l++)a(e,r[l]._name+"."+t).set(s);for(l=0;l<n.length;l++)a(e,n[l]._name+"."+t).set(o)}function IL(e){return e._id==="angularaxis"}function yL(e,t){for(var r=t._rangebreaks.length,n=0;n<r;n++){var i=t._rangebreaks[n];if(e>=i.min&&e<i.max)return i.max}return e}function Ux(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function G3(e,t){Ux(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(t)}});var PL=$((IMt,NX)=>{var dHe={left:0,top:0};NX.exports=pHe;function pHe(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var n=e.clientX||0,i=e.clientY||0,a=gHe(t);return r[0]=n-a.left,r[1]=i-a.top,r}function gHe(e){return e===window||e===document||e===document.body?dHe:e.getBoundingClientRect()}});var jx=$((PMt,zX)=>{"use strict";var mHe=bE();function yHe(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{e=!1}return e}zX.exports=mHe&&yHe()});var BX=$((FMt,OX)=>{"use strict";OX.exports=function(t,r,n,i,a){var o=(t-n)/(i-n),s=o+r/(i-n),l=(o+s)/2;return a==="left"||a==="bottom"?o:a==="center"||a==="middle"?l:a==="right"||a==="top"?s:o<2/3-l?o:s>4/3-l?s:l}});var jX=$((NMt,UX)=>{"use strict";var HX=pt(),xHe=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];UX.exports=function(t,r,n,i){return n==="left"?t=0:n==="center"?t=1:n==="right"?t=2:t=HX.constrain(Math.floor(t*3),0,2),i==="bottom"?r=0:i==="middle"?r=1:i==="top"?r=2:r=HX.constrain(Math.floor(r*3),0,2),xHe[r][t]}});var GX=$((zMt,VX)=>{"use strict";var bHe=C1(),wHe=n3(),_He=Y_().getGraphDiv,THe=vx(),FL=VX.exports={};FL.wrapped=function(e,t,r){e=_He(e),e._fullLayout&&wHe.clear(e._fullLayout._uid+THe.HOVERID),FL.raw(e,t,r)};FL.raw=function(t,r){var n=t._fullLayout,i=t._hoverdata;r||(r={}),!(r.target&&!t._dragged&&bHe.triggerHandler(t,"plotly_beforehover",r)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,r.target&&i&&t.emit("plotly_unhover",{event:r,points:i}))}});var Gl=$((OMt,XX)=>{"use strict";var AHe=PL(),NL=_E(),MHe=jx(),kHe=pt().removeElement,SHe=Qo(),vp=XX.exports={};vp.align=BX();vp.getCursor=jX();var YX=GX();vp.unhover=YX.wrapped;vp.unhoverRaw=YX.raw;vp.init=function(t){var r=t.gd,n=1,i=r._context.doubleClickDelay,a=t.element,o,s,l,u,f,c,h,v;r._mouseDownTime||(r._mouseDownTime=0),a.style.pointerEvents="all",a.onmousedown=x,MHe?(a._ontouchstart&&a.removeEventListener("touchstart",a._ontouchstart),a._ontouchstart=x,a.addEventListener("touchstart",x,{passive:!1})):a.ontouchstart=x;function b(g,A,w){return Math.abs(g)<w&&(g=0),Math.abs(A)<w&&(A=0),[g,A]}var y=t.clampFn||b;function x(g){r._dragged=!1,r._dragging=!0;var A=zL(g);o=A[0],s=A[1],h=g.target,c=g,v=g.buttons===2||g.ctrlKey,typeof g.clientX>"u"&&typeof g.clientY>"u"&&(g.clientX=o,g.clientY=s),l=new Date().getTime(),l-r._mouseDownTime<i?n+=1:(n=1,r._mouseDownTime=l),t.prepFn&&t.prepFn(g,o,s),NL&&!v?(f=WX(),f.style.cursor=window.getComputedStyle(a).cursor):NL||(f=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(a).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),t.dragmode!==!1&&(g.preventDefault(),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}))}function m(g){g.preventDefault();var A=zL(g),w=t.minDrag||SHe.MINDRAG,k=y(A[0]-o,A[1]-s,w),p=k[0],d=k[1];(p||d)&&(r._dragged=!0,vp.unhover(r,g)),r._dragged&&t.moveFn&&!v&&(r._dragdata={element:a,dx:p,dy:d},t.moveFn(p,d))}function _(g){if(delete r._dragdata,t.dragmode!==!1&&(g.preventDefault(),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),NL?kHe(f):u&&(f.documentElement.style.cursor=u,u=null),!r._dragging){r._dragged=!1;return}if(r._dragging=!1,new Date().getTime()-r._mouseDownTime>i&&(n=Math.max(n-1,1)),r._dragged)t.doneFn&&t.doneFn();else if(t.clickFn&&t.clickFn(n,c),!v){var A;try{A=new MouseEvent("click",g)}catch{var w=zL(g);A=document.createEvent("MouseEvents"),A.initMouseEvent("click",g.bubbles,g.cancelable,g.view,g.detail,g.screenX,g.screenY,w[0],w[1],g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget)}h.dispatchEvent(A)}r._dragging=!1,r._dragged=!1}};function WX(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}vp.coverSlip=WX;function zL(e){return AHe(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Fc=$((BMt,ZX)=>{"use strict";ZX.exports=function(t,r){(t.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&t.classed(n,!1)}),r&&t.classed("cursor-"+r,!0)}});var JX=$((HMt,KX)=>{"use strict";var OL=Fc(),Vx="data-savedcursor",$X="!!";KX.exports=function(t,r){var n=t.attr(Vx);if(r){if(!n){for(var i=(t.attr("class")||"").split(" "),a=0;a<i.length;a++){var o=i[a];o.indexOf("cursor-")===0&&t.attr(Vx,o.substr(7)).classed(o,!1)}t.attr(Vx)||t.attr(Vx,$X)}OL(t,r)}else n&&(t.attr(Vx,null),n===$X?OL(t):OL(t,n))}});var HL=$((UMt,QX)=>{"use strict";var BL=Ba(),EHe=Ro();QX.exports={bgcolor:{valType:"color",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:EHe.defaultLine,editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:BL({editType:"legend",description:"Sets the font used to text the legend items."}),grouptitlefont:BL({editType:"legend",description:["Sets the font for group titles in legend.","Defaults to `legend.font` with its size increased about 10%."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item double-click interactions."].join(" ")},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend",description:["Determines the behavior on legend group item click.","*toggleitem* toggles the visibility of the individual item clicked on the graph.","*togglegroup* toggles the visibility of all items in the same legendgroup as the item clicked on the graph."].join(" ")},x:{valType:"number",min:-2,max:3,editType:"legend",description:["Sets the x position (in normalized coordinates) of the legend.","Defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"legend",description:["Sets the y position (in normalized coordinates) of the legend.","Defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:BL({editType:"legend",description:["Sets this legend's title font.","Defaults to `legend.font` with its size increased about 20%."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}});var W3=$(Y3=>{"use strict";Y3.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1};Y3.isVertical=function(t){return t.orientation!=="h"};Y3.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}});var VL=$((VMt,eZ)=>{"use strict";var UL=Ir(),Nc=pt(),LHe=bi(),CHe=aa(),DHe=HL(),qHe=Z0(),jL=W3();eZ.exports=function(t,r,n){var i=t.legend||{},a=LHe.newContainer(r,"legend");function o(d,M){return Nc.coerce(i,a,DHe,d,M)}for(var s,l=function(d,M){var T=s._input,S=s;return Nc.coerce(T,S,CHe,d,M)},u=r.font||{},f=Nc.coerceFont(o,"grouptitlefont",Nc.extendFlat({},u,{size:Math.round(u.size*1.1)})),c=0,h=!1,v="normal",b=0;b<n.length;b++)s=n[b],s.visible&&((s.showlegend||s._dfltShowLegend&&!(s._module&&s._module.attributes&&s._module.attributes.showlegend&&s._module.attributes.showlegend.dflt===!1))&&(c++,s.showlegend&&(h=!0,(UL.traceIs(s,"pie-like")||s._input.showlegend===!0)&&c++),Nc.coerceFont(l,"legendgrouptitle.font",f)),(UL.traceIs(s,"bar")&&r.barmode==="stack"||["tonextx","tonexty"].indexOf(s.fill)!==-1)&&(v=jL.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),s.legendgroup!==void 0&&s.legendgroup!==""&&(v=jL.isReversed({traceorder:v})?"reversed+grouped":"grouped"));var y=Nc.coerce(t,r,qHe,"showlegend",h&&c>1);if(y===!1&&(r.legend=void 0),!(y===!1&&!i.uirevision)&&(o("uirevision",r.uirevision),y!==!1)){o("bgcolor",r.paper_bgcolor),o("bordercolor"),o("borderwidth");var x=Nc.coerceFont(o,"font",r.font),m=o("orientation"),_=m==="h",g,A,w;_?(g=0,UL.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(A=1.1,w="bottom"):(A=-.1,w="top")):(g=1.02,A=1,w="auto"),o("traceorder",v),jL.isGrouped(r.legend)&&o("tracegroupgap"),o("itemsizing"),o("itemwidth"),o("itemclick"),o("itemdoubleclick"),o("groupclick"),o("x",g),o("xanchor"),o("y",A),o("yanchor",w),o("valign"),Nc.noneOrAll(i,a,["x","y"]);var k=o("title.text");if(k){o("title.side",_?"left":"top");var p=Nc.extendFlat({},x,{size:Nc.bigFont(x.size)});Nc.coerceFont(o,"title.font",p)}}}});var rZ=$((GMt,tZ)=>{"use strict";var GL=pt(),dp=Ir(),YL=!0;tZ.exports=function(t,r,n){var i=r._fullLayout;if(r._dragged||r._editing)return;var a=i.legend.itemclick,o=i.legend.itemdoubleclick,s=i.legend.groupclick;n===1&&a==="toggle"&&o==="toggleothers"&&YL&&r.data&&r._context.showTips&&GL.notifier(GL._(r,"Double-click on legend to isolate one trace"),"long"),YL=!1;var l;if(n===1?l=a:n===2&&(l=o),!l)return;var u=s==="togglegroup",f=i.hiddenlabels?i.hiddenlabels.slice():[],c=t.data()[0][0];if(c.groupTitle&&c.noClick)return;var h=r._fullData,v=c.trace,b=v.legendgroup,y,x,m,_,g,A,w={},k=[],p=[],d=[];function M(B,z,j){var ae=k.indexOf(B),ee=w[z];return ee||(ee=w[z]=[]),k.indexOf(B)===-1&&(k.push(B),ae=k.length-1),ee[ae]=j,ae}function T(B,z){if(!(c.groupTitle&&!u)){var j=B._fullInput;if(dp.hasTransform(j,"groupby")){var ae=p[j.index];if(!ae){var ee=dp.getTransformIndices(j,"groupby"),ve=ee[ee.length-1];ae=GL.keyedContainer(j,"transforms["+ve+"].styles","target","value.visible"),p[j.index]=ae}var fe=ae.get(B._group);fe===void 0&&(fe=!0),fe!==!1&&ae.set(B._group,z),d[j.index]=M(j.index,"visible",j.visible!==!1)}else{var se=j.visible===!1?!1:z;M(j.index,"visible",se)}}}if(dp.traceIs(v,"pie-like")){var S=c.label,E=f.indexOf(S);l==="toggle"?E===-1?f.push(S):f.splice(E,1):l==="toggleothers"&&(f=[],r.calcdata[0].forEach(function(B){S!==B.label&&f.push(B.label)}),r._fullLayout.hiddenlabels&&r._fullLayout.hiddenlabels.length===f.length&&E===-1&&(f=[])),dp.call("_guiRelayout",r,"hiddenlabels",f)}else{var L=b&&b.length,D=[],R;if(L)for(y=0;y<h.length;y++)R=h[y],R.visible&&R.legendgroup===b&&D.push(y);if(l==="toggle"){var q;switch(v.visible){case!0:q="legendonly";break;case!1:q=!1;break;case"legendonly":q=!0;break}if(L)if(u)for(y=0;y<h.length;y++)h[y].visible!==!1&&h[y].legendgroup===b&&T(h[y],q);else T(v,q);else T(v,q)}else if(l==="toggleothers"){var C,F,N,U,V=!0;for(y=0;y<h.length;y++)if(C=h[y]===v,N=h[y].showlegend!==!0,!(C||N)&&(F=L&&h[y].legendgroup===b,!F&&h[y].visible===!0&&!dp.traceIs(h[y],"notLegendIsolatable"))){V=!1;break}for(y=0;y<h.length;y++)if(h[y].visible!==!1&&!dp.traceIs(h[y],"notLegendIsolatable"))switch(v.visible){case"legendonly":T(h[y],!0);break;case!0:U=V?!0:"legendonly",C=h[y]===v,N=h[y].showlegend!==!0&&!h[y].legendgroup,F=C||L&&h[y].legendgroup===b,T(h[y],F||N?!0:U);break}}for(y=0;y<p.length;y++)if(m=p[y],!!m){var Y=m.constructUpdate(),K=Object.keys(Y);for(x=0;x<K.length;x++)_=K[x],A=w[_]=w[_]||[],A[d[y]]=Y[_]}for(g=Object.keys(w),y=0;y<g.length;y++)for(_=g[y],x=0;x<k.length;x++)w[_].hasOwnProperty(x)||(w[_][x]=void 0);dp.call("_guiRestyle",r,w,k)}}});var WL=$((YMt,nZ)=>{"use strict";nZ.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var oZ=$((WMt,aZ)=>{"use strict";var iZ=Ir(),XL=W3();aZ.exports=function(t,r){var n=r._inHover,i=XL.isGrouped(r),a=XL.isReversed(r),o={},s=[],l=!1,u={},f=0,c=0,h,v;function b(R,q){if(R===""||!XL.isGrouped(r)){var C="~~i"+f;s.push(C),o[C]=[q],f++}else s.indexOf(R)===-1?(s.push(R),l=!0,o[R]=[q]):o[R].push(q)}for(h=0;h<t.length;h++){var y=t[h],x=y[0],m=x.trace,_=m.legendgroup;if(!(!n&&(!m.visible||!m.showlegend)))if(iZ.traceIs(m,"pie-like"))for(u[_]||(u[_]={}),v=0;v<y.length;v++){var g=y[v].label;u[_][g]||(b(_,{label:g,color:y[v].color,i:y[v].i,trace:m,pts:y[v].pts}),u[_][g]=!0,c=Math.max(c,(g||"").length))}else b(_,x),c=Math.max(c,(m.name||"").length)}if(!s.length)return[];var A=!l||!i,w=[];for(h=0;h<s.length;h++){var k=o[s[h]];A?w.push(k[0]):w.push(k)}for(A&&(w=[w]),h=0;h<w.length;h++){var p=1/0;for(v=0;v<w[h].length;v++){var d=w[h][v].trace.legendrank;p>d&&(p=d)}w[h][0]._groupMinRank=p,w[h][0]._preGroupSort=h}var M=function(R,q){return R[0]._groupMinRank-q[0]._groupMinRank||R[0]._preGroupSort-q[0]._preGroupSort},T=function(R,q){return R.trace.legendrank-q.trace.legendrank||R._preSort-q._preSort};for(w.forEach(function(R,q){R[0]._preGroupSort=q}),w.sort(M),h=0;h<w.length;h++){w[h].forEach(function(R,q){R._preSort=q}),w[h].sort(T);var S=w[h][0].trace,E=null;for(v=0;v<w[h].length;v++){var L=w[h][v].trace.legendgrouptitle;if(L&&L.text){E=L,n&&(L.font=r._groupTitleFont);break}}if(a&&w[h].reverse(),E){var D=!1;for(v=0;v<w[h].length;v++)if(iZ.traceIs(w[h][v].trace,"pie-like")){D=!0;break}w[h].unshift({i:-1,groupTitle:E,noClick:D,trace:{showlegend:S.showlegend,legendgroup:S.legendgroup,visible:r.groupclick==="toggleitem"?!0:S.visible}})}for(v=0;v<w[h].length;v++)w[h][v]=[w[h][v]]}return r._lgroupsLength=w.length,r._maxNameLength=c,w}});var Rd=$(pp=>{"use strict";var sZ=pt();function lZ(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}pp.formatPiePercent=function(t,r){var n=lZ((t*100).toPrecision(3));return sZ.numSeparate(n,r)+"%"};pp.formatPieValue=function(t,r){var n=lZ(t.toPrecision(10));return sZ.numSeparate(n,r)};pp.getFirstFilled=function(t,r){if(Array.isArray(t))for(var n=0;n<r.length;n++){var i=t[r[n]];if(i||i===0||i==="")return i}};pp.castOption=function(t,r){if(Array.isArray(t))return pp.getFirstFilled(t,r);if(t)return t};pp.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var V1=$((ZMt,fZ)=>{"use strict";var ZL=Rr(),uZ=Rd().castOption;fZ.exports=function(t,r,n){var i=n.marker.line,a=uZ(i.color,r.pts)||ZL.defaultLine,o=uZ(i.width,r.pts)||0;t.style("stroke-width",o).call(ZL.fill,r.color).call(ZL.stroke,a)}});var QL=$(($Mt,gZ)=>{"use strict";var wl=Nr(),$L=Ir(),Js=pt(),cZ=Js.strTranslate,Yl=un(),zf=Rr(),KL=jl().extractOpts,X3=ts(),RHe=V1(),IHe=Rd().castOption,PHe=WL(),hZ=12,vZ=5,gp=2,FHe=10,G1=5;gZ.exports=function(t,r,n){var i=r._fullLayout;n||(n=i.legend);var a=n.itemsizing==="constant",o=n.itemwidth,s=(o+PHe.itemGap*2)/2,l=cZ(s,0),u=function(p,d,M,T){var S;if(p+1)S=p;else if(d&&d.width>0)S=d.width;else return 0;return a?T:Math.min(S,M)};t.each(function(p){var d=wl.select(this),M=Js.ensureSingle(d,"g","layers");M.style("opacity",p[0].trace.opacity);var T=n.valign,S=p[0].lineHeight,E=p[0].height;if(T==="middle"||!S||!E)M.attr("transform",null);else{var L={top:1,bottom:-1}[T],D=L*(.5*(S-E+3));M.attr("transform",cZ(0,D))}var R=M.selectAll("g.legendfill").data([p]);R.enter().append("g").classed("legendfill",!0);var q=M.selectAll("g.legendlines").data([p]);q.enter().append("g").classed("legendlines",!0);var C=M.selectAll("g.legendsymbols").data([p]);C.enter().append("g").classed("legendsymbols",!0),C.selectAll("g.legendpoints").data([p]).enter().append("g").classed("legendpoints",!0)}).each(k).each(h).each(b).each(v).each(x).each(A).each(g).each(f).each(c).each(m).each(_);function f(p){var d=dZ(p),M=d.showFill,T=d.showLine,S=d.showGradientLine,E=d.showGradientFill,L=d.anyFill,D=d.anyLine,R=p[0],q=R.trace,C,F,N=KL(q),U=N.colorscale,V=N.reversescale,Y=function(ve){if(ve.size())if(M)Yl.fillGroupStyle(ve,r);else{var fe="legendfill-"+q.uid;Yl.gradient(ve,r,fe,JL(V),U,"fill")}},K=function(ve){if(ve.size()){var fe="legendline-"+q.uid;Yl.lineGroupStyle(ve),Yl.gradient(ve,r,fe,JL(V),U,"stroke")}},B=X3.hasMarkers(q)||!L?"M5,0":D?"M5,-2":"M5,-3",z=wl.select(this),j=z.select(".legendfill").selectAll("path").data(M||E?[p]:[]);if(j.enter().append("path").classed("js-fill",!0),j.exit().remove(),j.attr("d",B+"h"+o+"v6h-"+o+"z").call(Y),T||S){var ae=u(void 0,q.line,FHe,vZ);F=Js.minExtend(q,{line:{width:ae}}),C=[Js.minExtend(R,{trace:F})]}var ee=z.select(".legendlines").selectAll("path").data(T||S?[C]:[]);ee.enter().append("path").classed("js-line",!0),ee.exit().remove(),ee.attr("d",B+(S?"l"+o+",0.0001":"h"+o)).call(T?Yl.lineGroupStyle:K)}function c(p){var d=dZ(p),M=d.anyFill,T=d.anyLine,S=d.showLine,E=d.showMarker,L=p[0],D=L.trace,R=!E&&!T&&!M&&X3.hasText(D),q,C;function F(j,ae,ee,ve){var fe=Js.nestedProperty(D,j).get(),se=Js.isArrayOrTypedArray(fe)&&ae?ae(fe):fe;if(a&&se&&ve!==void 0&&(se=ve),ee){if(se<ee[0])return ee[0];if(se>ee[1])return ee[1]}return se}function N(j){return L._distinct&&L.index&&j[L.index]?j[L.index]:j[0]}if(E||R||S){var U={},V={};if(E){U.mc=F("marker.color",N),U.mx=F("marker.symbol",N),U.mo=F("marker.opacity",Js.mean,[.2,1]),U.mlc=F("marker.line.color",N),U.mlw=F("marker.line.width",Js.mean,[0,5],gp),V.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Y=F("marker.size",Js.mean,[2,16],hZ);U.ms=Y,V.marker.size=Y}S&&(V.line={width:F("line.width",N,[0,10],vZ)}),R&&(U.tx="Aa",U.tp=F("textposition",N),U.ts=10,U.tc=F("textfont.color",N),U.tf=F("textfont.family",N)),q=[Js.minExtend(L,U)],C=Js.minExtend(D,V),C.selectedpoints=null,C.texttemplate=null}var K=wl.select(this).select("g.legendpoints"),B=K.selectAll("path.scatterpts").data(E?q:[]);B.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",l),B.exit().remove(),B.call(Yl.pointStyle,C,r),E&&(q[0].mrc=3);var z=K.selectAll("g.pointtext").data(R?q:[]);z.enter().append("g").classed("pointtext",!0).append("text").attr("transform",l),z.exit().remove(),z.selectAll("text").call(Yl.textPointStyle,C,r)}function h(p){var d=p[0].trace,M=d.type==="waterfall";if(p[0]._distinct&&M){var T=p[0].trace[p[0].dir].marker;return p[0].mc=T.color,p[0].mlw=T.line.width,p[0].mlc=T.line.color,y(p,this,"waterfall")}var S=[];d.visible&&M&&(S=p[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var E=wl.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(S);E.enter().append("path").classed("legendwaterfall",!0).attr("transform",l).style("stroke-miterlimit",1),E.exit().remove(),E.each(function(L){var D=wl.select(this),R=d[L[0]].marker,q=u(void 0,R.line,G1,gp);D.attr("d",L[1]).style("stroke-width",q+"px").call(zf.fill,R.color),q&&D.call(zf.stroke,R.line.color)})}function v(p){y(p,this)}function b(p){y(p,this,"funnel")}function y(p,d,M){var T=p[0].trace,S=T.marker||{},E=S.line||{},L=M?T.visible&&T.type===M:$L.traceIs(T,"bar"),D=wl.select(d).select("g.legendpoints").selectAll("path.legend"+M).data(L?[p]:[]);D.enter().append("path").classed("legend"+M,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",l),D.exit().remove(),D.each(function(R){var q=wl.select(this),C=R[0],F=u(C.mlw,S.line,G1,gp);q.style("stroke-width",F+"px");var N=C.mcc;if(!n._inHover&&"mc"in C){var U=KL(S),V=U.mid;V===void 0&&(V=(U.max+U.min)/2),N=Yl.tryColorscale(S,"")(V)}var Y=N||C.mc||S.color,K=S.pattern,B=K&&Yl.getPatternAttr(K.shape,0,"");if(B){var z=Yl.getPatternAttr(K.bgcolor,0,null),j=Yl.getPatternAttr(K.fgcolor,0,null),ae=K.fgopacity,ee=pZ(K.size,8,10),ve=pZ(K.solidity,.5,1),fe="legend-"+T.uid;q.call(Yl.pattern,"legend",r,fe,B,ee,ve,N,K.fillmode,z,j,ae)}else q.call(zf.fill,Y);F&&zf.stroke(q,C.mlc||E.color)})}function x(p){var d=p[0].trace,M=wl.select(this).select("g.legendpoints").selectAll("path.legendbox").data(d.visible&&$L.traceIs(d,"box-violin")?[p]:[]);M.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",l),M.exit().remove(),M.each(function(){var T=wl.select(this);if((d.boxpoints==="all"||d.points==="all")&&zf.opacity(d.fillcolor)===0&&zf.opacity((d.line||{}).color)===0){var S=Js.minExtend(d,{marker:{size:a?hZ:Js.constrain(d.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});M.call(Yl.pointStyle,S,r)}else{var E=u(void 0,d.line,G1,gp);T.style("stroke-width",E+"px").call(zf.fill,d.fillcolor),E&&zf.stroke(T,d.line.color)}})}function m(p){var d=p[0].trace,M=wl.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(d.visible&&d.type==="candlestick"?[p,p]:[]);M.enter().append("path").classed("legendcandle",!0).attr("d",function(T,S){return S?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",l).style("stroke-miterlimit",1),M.exit().remove(),M.each(function(T,S){var E=wl.select(this),L=d[S?"increasing":"decreasing"],D=u(void 0,L.line,G1,gp);E.style("stroke-width",D+"px").call(zf.fill,L.fillcolor),D&&zf.stroke(E,L.line.color)})}function _(p){var d=p[0].trace,M=wl.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(d.visible&&d.type==="ohlc"?[p,p]:[]);M.enter().append("path").classed("legendohlc",!0).attr("d",function(T,S){return S?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",l).style("stroke-miterlimit",1),M.exit().remove(),M.each(function(T,S){var E=wl.select(this),L=d[S?"increasing":"decreasing"],D=u(void 0,L.line,G1,gp);E.style("fill","none").call(Yl.dashLine,L.line.dash,D),D&&zf.stroke(E,L.line.color)})}function g(p){w(p,this,"pie")}function A(p){w(p,this,"funnelarea")}function w(p,d,M){var T=p[0],S=T.trace,E=M?S.visible&&S.type===M:$L.traceIs(S,M),L=wl.select(d).select("g.legendpoints").selectAll("path.legend"+M).data(E?[p]:[]);if(L.enter().append("path").classed("legend"+M,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",l),L.exit().remove(),L.size()){var D=(S.marker||{}).line,R=u(IHe(D.width,T.pts),D,G1,gp),q=Js.minExtend(S,{marker:{line:{width:R}}});q.marker.line.color=D.color;var C=Js.minExtend(T,{trace:q});RHe(L,C,q)}}function k(p){var d=p[0].trace,M,T=[];if(d.visible)switch(d.type){case"histogram2d":case"heatmap":T=[["M-15,-2V4H15V-2Z"]],M=!0;break;case"choropleth":case"choroplethmapbox":T=[["M-6,-6V6H6V-6Z"]],M=!0;break;case"densitymapbox":T=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],M="radial";break;case"cone":T=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],M=!1;break;case"streamtube":T=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],M=!1;break;case"surface":T=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],M=!0;break;case"mesh3d":T=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],M=!1;break;case"volume":T=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],M=!0;break;case"isosurface":T=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],M=!1;break}var S=wl.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(T);S.enter().append("path").classed("legend3dandfriends",!0).attr("transform",l).style("stroke-miterlimit",1),S.exit().remove(),S.each(function(E,L){var D=wl.select(this),R=KL(d),q=R.colorscale,C=R.reversescale,F=function(Y){if(Y.size()){var K="legendfill-"+d.uid;Yl.gradient(Y,r,K,JL(C,M==="radial"),q,"fill")}},N;if(q){if(!M){var V=q.length;N=L===0?q[C?V-1:0][1]:L===1?q[C?0:V-1][1]:q[Math.floor((V-1)/2)][1]}}else{var U=d.vertexcolor||d.facecolor||d.color;N=Js.isArrayOrTypedArray(U)?U[L]||U[0]:U}D.attr("d",E[0]),N?D.call(zf.fill,N):D.call(F)})}};function JL(e,t){var r=t?"radial":"horizontal";return r+(e?"":"reversed")}function dZ(e){var t=e[0].trace,r=t.contours,n=X3.hasLines(t),i=X3.hasMarkers(t),a=t.visible&&t.fill&&t.fill!=="none",o=!1,s=!1;if(r){var l=r.coloring;l==="lines"?o=!0:n=l==="none"||l==="heatmap"||r.showlines,r.type==="constraint"?a=r._operation!=="=":(l==="fill"||l==="heatmap")&&(s=!0)}return{showMarker:i,showLine:n,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:n||o,anyFill:a||s}}function pZ(e,t,r){return e&&Js.isArrayOrTypedArray(e)?t:e>r?r:e}});var aC=$((KMt,AZ)=>{"use strict";var pf=Nr(),oo=pt(),tC=Zi(),mp=Ir(),mZ=C1(),eC=Gl(),Po=un(),Z3=Rr(),W1=Ta(),yZ=rZ(),Is=WL(),rC=es(),NHe=rC.LINE_SPACING,K3=rC.FROM_TL,xZ=rC.FROM_BR,bZ=oZ(),zHe=QL(),wZ=W3(),Y1=1;AZ.exports=function(t,r){return r||(r=t._fullLayout.legend||{}),OHe(t,r)};function OHe(e,t){var r=e._fullLayout,n="legend"+r._uid,i,a=t._inHover;if(a?(i=t.layer,n+="-hover"):i=r._infolayer,!!i){e._legendMouseDownTime||(e._legendMouseDownTime=0);var o;if(a){if(!t.entries)return;o=bZ(t.entries,t)}else{if(!e.calcdata)return;o=r.showlegend&&bZ(e.calcdata,t)}var s=r.hiddenlabels||[];if(!a&&(!r.showlegend||!o.length))return i.selectAll(".legend").remove(),r._topdefs.select("#"+n).remove(),tC.autoMargin(e,"legend");var l=oo.ensureSingle(i,"g","legend",function(m){a||m.attr("pointer-events","all")}),u=oo.ensureSingleById(r._topdefs,"clipPath",n,function(m){m.append("rect")}),f=oo.ensureSingle(l,"rect","bg",function(m){m.attr("shape-rendering","crispEdges")});f.call(Z3.stroke,t.bordercolor).call(Z3.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var c=oo.ensureSingle(l,"g","scrollbox"),h=t.title;if(t._titleWidth=0,t._titleHeight=0,h.text){var v=oo.ensureSingle(c,"text","legendtitletext");v.attr("text-anchor","start").call(Po.font,h.font).text(h.text),$3(v,c,e,t,Y1)}else c.selectAll(".legendtitletext").remove();var b=oo.ensureSingle(l,"rect","scrollbar",function(m){m.attr(Is.scrollBarEnterAttrs).call(Z3.fill,Is.scrollBarColor)}),y=c.selectAll("g.groups").data(o);y.enter().append("g").attr("class","groups"),y.exit().remove();var x=y.selectAll("g.traces").data(oo.identity);x.enter().append("g").attr("class","traces"),x.exit().remove(),x.style("opacity",function(m){var _=m[0].trace;return mp.traceIs(_,"pie-like")?s.indexOf(m[0].label)!==-1?.5:1:_.visible==="legendonly"?.5:1}).each(function(){pf.select(this).call(BHe,e,t)}).call(zHe,e,t).each(function(){a||pf.select(this).call(HHe,e)}),oo.syncOrAsync([tC.previousPromises,function(){return VHe(e,y,x,t)},function(){var m=r._size,_=t.borderwidth;if(!a){var g=GHe(e);if(g)return;var A=m.l+m.w*t.x-K3[nC(t)]*t._width,w=m.t+m.h*(1-t.y)-K3[iC(t)]*t._effHeight;if(r.margin.autoexpand){var k=A,p=w;A=oo.constrain(A,0,r.width-t._width),w=oo.constrain(w,0,r.height-t._effHeight),A!==k&&oo.log("Constrain legend.x to make legend fit inside graph"),w!==p&&oo.log("Constrain legend.y to make legend fit inside graph")}Po.setTranslate(l,A,w)}if(b.on(".drag",null),l.on("wheel",null),a||t._height<=t._maxHeight||e._context.staticPlot){var d=t._effHeight;a&&(d=t._height),f.attr({width:t._width-_,height:d-_,x:_/2,y:_/2}),Po.setTranslate(c,0,0),u.select("rect").attr({width:t._width-2*_,height:d-2*_,x:_,y:_}),Po.setClipUrl(c,n,e),Po.setRect(b,0,0,0,0),delete t._scrollY}else{var M=Math.max(Is.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),T=t._effHeight-M-2*Is.scrollBarMargin,S=t._height-t._effHeight,E=T/S,L=Math.min(t._scrollY||0,S);f.attr({width:t._width-2*_+Is.scrollBarWidth+Is.scrollBarMargin,height:t._effHeight-_,x:_/2,y:_/2}),u.select("rect").attr({width:t._width-2*_+Is.scrollBarWidth+Is.scrollBarMargin,height:t._effHeight-2*_,x:_,y:_+L}),Po.setClipUrl(c,n,e),V(L,M,E),l.on("wheel",function(){L=oo.constrain(t._scrollY+pf.event.deltaY/T*S,0,S),V(L,M,E),L!==0&&L!==S&&pf.event.preventDefault()});var D,R,q,C=function(j,ae,ee){var ve=(ee-ae)/E+j;return oo.constrain(ve,0,S)},F=function(j,ae,ee){var ve=(ae-ee)/E+j;return oo.constrain(ve,0,S)},N=pf.behavior.drag().on("dragstart",function(){var j=pf.event.sourceEvent;j.type==="touchstart"?D=j.changedTouches[0].clientY:D=j.clientY,q=L}).on("drag",function(){var j=pf.event.sourceEvent;j.buttons===2||j.ctrlKey||(j.type==="touchmove"?R=j.changedTouches[0].clientY:R=j.clientY,L=C(q,D,R),V(L,M,E))});b.call(N);var U=pf.behavior.drag().on("dragstart",function(){var j=pf.event.sourceEvent;j.type==="touchstart"&&(D=j.changedTouches[0].clientY,q=L)}).on("drag",function(){var j=pf.event.sourceEvent;j.type==="touchmove"&&(R=j.changedTouches[0].clientY,L=F(q,D,R),V(L,M,E))});c.call(U)}function V(j,ae,ee){t._scrollY=e._fullLayout.legend._scrollY=j,Po.setTranslate(c,0,-j),Po.setRect(b,t._width,Is.scrollBarMargin+j*ee,Is.scrollBarWidth,ae),u.select("rect").attr("y",_+j)}if(e._context.edits.legendPosition){var Y,K,B,z;l.classed("cursor-move",!0),eC.init({element:l.node(),gd:e,prepFn:function(){var j=Po.getTranslate(l);B=j.x,z=j.y},moveFn:function(j,ae){var ee=B+j,ve=z+ae;Po.setTranslate(l,ee,ve),Y=eC.align(ee,0,m.l,m.l+m.w,t.xanchor),K=eC.align(ve,0,m.t+m.h,m.t,t.yanchor)},doneFn:function(){Y!==void 0&&K!==void 0&&mp.call("_guiRelayout",e,{"legend.x":Y,"legend.y":K})},clickFn:function(j,ae){var ee=i.selectAll("g.traces").filter(function(){var ve=this.getBoundingClientRect();return ae.clientX>=ve.left&&ae.clientX<=ve.right&&ae.clientY>=ve.top&&ae.clientY<=ve.bottom});ee.size()>0&&TZ(e,l,ee,j,ae)}})}}],e)}}function TZ(e,t,r,n,i){var a=r.data()[0][0].trace,o={event:i,node:r.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};a._group&&(o.group=a._group),mp.traceIs(a,"pie-like")&&(o.label=r.datum()[0].label);var s=mZ.triggerHandler(e,"plotly_legendclick",o);if(s!==!1){if(n===1)t._clickTimeout=setTimeout(function(){e._fullLayout&&yZ(r,e,n)},e._context.doubleClickDelay);else if(n===2){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0;var l=mZ.triggerHandler(e,"plotly_legenddoubleclick",o);l!==!1&&yZ(r,e,n)}}}function BHe(e,t,r){var n=e.data()[0][0],i=n.trace,a=mp.traceIs(i,"pie-like"),o=!r._inHover&&t._context.edits.legendText&&!a,s=r._maxNameLength,l,u;n.groupTitle?(l=n.groupTitle.text,u=n.groupTitle.font):(u=r.font,r.entries?l=n.text:(l=a?n.label:i.name,i._meta&&(l=oo.templateString(l,i._meta))));var f=oo.ensureSingle(e,"text","legendtext");f.attr("text-anchor","start").call(Po.font,u).text(o?_Z(l,s):l);var c=r.itemwidth+Is.itemGap*2;W1.positionText(f,c,0),o?f.call(W1.makeEditable,{gd:t,text:l}).call($3,e,t,r).on("edit",function(h){this.text(_Z(h,s)).call($3,e,t,r);var v=n.trace._fullInput||{},b={};if(mp.hasTransform(v,"groupby")){var y=mp.getTransformIndices(v,"groupby"),x=y[y.length-1],m=oo.keyedContainer(v,"transforms["+x+"].styles","target","value.name");m.set(n.trace._group,h),b=m.constructUpdate()}else b.name=h;return mp.call("_guiRestyle",t,b,i.index)}):$3(f,e,t,r)}function _Z(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;e=e||"";for(var n=r-e.length;n>0;n--)e+=" ";return e}function HHe(e,t){var r=t._context.doubleClickDelay,n,i=1,a=oo.ensureSingle(e,"rect","legendtoggle",function(o){t._context.staticPlot||o.style("cursor","pointer").attr("pointer-events","all"),o.call(Z3.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(a.on("mousedown",function(){n=new Date().getTime(),n-t._legendMouseDownTime<r?i+=1:(i=1,t._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!(t._dragged||t._editing)){var o=t._fullLayout.legend;new Date().getTime()-t._legendMouseDownTime>r&&(i=Math.max(i-1,1)),TZ(t,o,e,i,pf.event)}}))}function $3(e,t,r,n,i){n._inHover&&e.attr("data-notex",!0),W1.convertToTspans(e,r,function(){UHe(t,r,n,i)})}function UHe(e,t,r,n){var i=e.data()[0][0];if(!r._inHover&&i&&!i.trace.showlegend){e.remove();return}var a=e.select("g[class*=math-group]"),o=a.node();r||(r=t._fullLayout.legend);var s=r.borderwidth,l;n===Y1?l=r.title.font:i.groupTitle?l=i.groupTitle.font:l=r.font;var u=l.size*NHe,f,c;if(o){var h=Po.bBox(o);f=h.height,c=h.width,n===Y1?Po.setTranslate(a,s,s+f*.75):Po.setTranslate(a,0,f*.25)}else{var v=e.select(n===Y1?".legendtitletext":".legendtext"),b=W1.lineCount(v),y=v.node();if(f=u*b,c=y?Po.bBox(y).width:0,n===Y1)r.title.side==="left"&&(c+=Is.itemGap*2),W1.positionText(v,s+Is.titlePad,s+u);else{var x=Is.itemGap*2+r.itemwidth;i.groupTitle&&(x=Is.itemGap,c-=r.itemwidth),W1.positionText(v,x,-u*((b-1)/2-.3))}}n===Y1?(r._titleWidth=c,r._titleHeight=f):(i.lineHeight=u,i.height=Math.max(f,16)+3,i.width=c)}function jHe(e){var t=0,r=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(t=e._titleWidth),n.indexOf("top")!==-1&&(r=e._titleHeight)),[t,r]}function VHe(e,t,r,n){var i=e._fullLayout;n||(n=i.legend);var a=i._size,o=wZ.isVertical(n),s=wZ.isGrouped(n),l=n.borderwidth,u=2*l,f=Is.itemGap,c=n.itemwidth+f*2,h=2*(l+f),v=iC(n),b=n.y<0||n.y===0&&v==="top",y=n.y>1||n.y===1&&v==="bottom",x=n.tracegroupgap;n._maxHeight=Math.max(b||y?i.height/2:a.h,30);var m=0;n._width=0,n._height=0;var _=jHe(n);if(o)r.each(function(Y){var K=Y[0].height;Po.setTranslate(this,l+_[0],l+_[1]+n._height+K/2+f),n._height+=K,n._width=Math.max(n._width,Y[0].width)}),m=c+n._width,n._width+=f+c+u,n._height+=h,s&&(t.each(function(Y,K){Po.setTranslate(this,0,K*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var g=nC(n),A=n.x<0||n.x===0&&g==="right",w=n.x>1||n.x===1&&g==="left",k=y||b,p=i.width/2;n._maxWidth=Math.max(A?k&&g==="left"?a.l+a.w:p:w?k&&g==="right"?a.r+a.w:p:a.w,2*c);var d=0,M=0;r.each(function(Y){var K=Y[0].width+c;d=Math.max(d,K),M+=K}),m=null;var T=0;if(s){var S=0,E=0,L=0;t.each(function(){var Y=0,K=0;pf.select(this).selectAll("g.traces").each(function(z){var j=z[0].width,ae=z[0].height;Po.setTranslate(this,_[0],_[1]+l+f+ae/2+K),K+=ae,Y=Math.max(Y,c+j)});var B=Y+f;E>0&&B+l+E>n._maxWidth?(T=Math.max(T,E),E=0,L+=S+x,S=K):S=Math.max(S,K),Po.setTranslate(this,E,L),E+=B}),n._width=Math.max(T,E)+l,n._height=L+S+h}else{var D=r.size(),R=M+u+(D-1)*f<n._maxWidth,q=0,C=0,F=0,N=0;r.each(function(Y){var K=Y[0].height,B=c+Y[0].width,z=(R?B:d)+f;z+l+C-f>=n._maxWidth&&(T=Math.max(T,N),C=0,F+=q,n._height+=q,q=0),Po.setTranslate(this,_[0]+l+C,_[1]+l+F+K/2+f),N=C+B+f,C+=z,q=Math.max(q,K)}),R?(n._width=C+u,n._height=q+h):(n._width=Math.max(T,N)+u,n._height+=q+h)}}n._width=Math.ceil(Math.max(n._width+_[0],n._titleWidth+2*(l+Is.titlePad))),n._height=Math.ceil(Math.max(n._height+_[1],n._titleHeight+2*(l+Is.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var U=e._context.edits,V=U.legendText||U.legendPosition;r.each(function(Y){var K=pf.select(this).select(".legendtoggle"),B=Y[0].height,z=V?c:m||c+Y[0].width;o||(z+=f/2),Po.setRect(K,0,-B/2,z,B)})}function GHe(e){var t=e._fullLayout,r=t.legend,n=nC(r),i=iC(r);return tC.autoMargin(e,"legend",{x:r.x,y:r.y,l:r._width*K3[n],r:r._width*xZ[n],b:r._effHeight*xZ[i],t:r._effHeight*K3[i]})}function nC(e){return oo.isRightAnchor(e)?"right":oo.isCenterAnchor(e)?"center":"left"}function iC(e){return oo.isBottomAnchor(e)?"bottom":oo.isMiddleAnchor(e)?"middle":"top"}});var uC=$(lC=>{"use strict";var yp=Nr(),Av=mn(),MZ=Ko(),so=pt(),oC=so.strTranslate,YHe=so.strRotate,WHe=C1(),Of=Ta(),XHe=JX(),Dh=un(),rs=Rr(),J3=Gl(),Id=tn(),Z1=Ir(),zc=Pf(),xp=vx(),ZHe=VL(),$He=aC(),qZ=xp.YANGLE,sC=Math.PI*qZ/180,KHe=1/Math.sin(sC),JHe=Math.cos(sC),QHe=Math.sin(sC),pa=xp.HOVERARROWSIZE,ni=xp.HOVERTEXTPAD,kZ={box:!0,ohlc:!0,violin:!0,candlestick:!0},eUe={scatter:!0,scattergl:!0,splom:!0};lC.hover=function(t,r,n,i){t=so.getGraphDiv(t);var a=r.target;so.throttle(t._fullLayout._uid+xp.HOVERID,xp.HOVERMINTIME,function(){tUe(t,r,n,i,a)})};lC.loneHover=function(t,r){var n=!0;Array.isArray(t)||(n=!1,t=[t]);var i=r.gd,a=FZ(i),o=NZ(i),s=t.map(function(y){var x=y._x0||y.x0||y.x||0,m=y._x1||y.x1||y.x||0,_=y._y0||y.y0||y.y||0,g=y._y1||y.y1||y.y||0,A=y.eventData;if(A){var w=Math.min(x,m),k=Math.max(x,m),p=Math.min(_,g),d=Math.max(_,g),M=y.trace;if(Z1.traceIs(M,"gl3d")){var T=i._fullLayout[M.scene]._scene.container,S=T.offsetLeft,E=T.offsetTop;w+=S,k+=S,p+=E,d+=E}A.bbox={x0:w+o,x1:k+o,y0:p+a,y1:d+a},r.inOut_bbox&&r.inOut_bbox.push(A.bbox)}else A=!1;return{color:y.color||rs.defaultLine,x0:y.x0||y.x||0,x1:y.x1||y.x||0,y0:y.y0||y.y||0,y1:y.y1||y.y||0,xLabel:y.xLabel,yLabel:y.yLabel,zLabel:y.zLabel,text:y.text,name:y.name,idealAlign:y.idealAlign,borderColor:y.borderColor,fontFamily:y.fontFamily,fontSize:y.fontSize,fontColor:y.fontColor,nameLength:y.nameLength,textAlign:y.textAlign,trace:y.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:y.hovertemplate||!1,hovertemplateLabels:y.hovertemplateLabels||!1,eventData:A}}),l=!1,u=IZ(s,{gd:i,hovermode:"closest",rotateLabels:l,bgColor:r.bgColor||rs.background,container:yp.select(r.container),outerContainer:r.outerContainer||r.container}),f=5,c=0,h=0;u.sort(function(y,x){return y.y0-x.y0}).each(function(y,x){var m=y.y0-y.by/2;m-f<c?y.offset=c-m+f:y.offset=0,c=m+y.by+y.offset,x===r.anchorIndex&&(h=y.offset)}).each(function(y){y.offset-=h});var v=i._fullLayout._invScaleX,b=i._fullLayout._invScaleY;return PZ(u,l,v,b),n?u:u.node()};function tUe(e,t,r,n,i){r||(r="xy");var a=Array.isArray(r)?r:[r],o=e._fullLayout,s=o._plots||[],l=s[r],u=o._has("cartesian");if(l){var f=l.overlays.map(function(ot){return ot.id});a=a.concat(f)}for(var c=a.length,h=new Array(c),v=new Array(c),b=!1,y=0;y<c;y++){var x=a[y];if(s[x])b=!0,h[y]=s[x].xaxis,v[y]=s[x].yaxis;else if(o[x]&&o[x]._subplot){var m=o[x]._subplot;h[y]=m.xaxis,v[y]=m.yaxis}else{so.warn("Unrecognized subplot: "+x);return}}var _=t.hovermode||o.hovermode;if(_&&!b&&(_="closest"),["x","y","closest","x unified","y unified"].indexOf(_)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return J3.unhoverRaw(e,t);var g=o.hoverdistance;g===-1&&(g=1/0);var A=o.spikedistance;A===-1&&(A=1/0);var w=[],k=[],p,d,M,T,S,E,L,D,R,q,C,F,N,U={hLinePoint:null,vLinePoint:null},V=!1;if(Array.isArray(t))for(_="array",M=0;M<t.length;M++)S=e.calcdata[t[M].curveNumber||0],S&&(E=S[0].trace,S[0].trace.hoverinfo!=="skip"&&(k.push(S),E.orientation==="h"&&(V=!0)));else{for(T=0;T<e.calcdata.length;T++)S=e.calcdata[T],E=S[0].trace,E.hoverinfo!=="skip"&&zc.isTraceInSubplots(E,a)&&(k.push(S),E.orientation==="h"&&(V=!0));var Y=!i,K,B;if(Y)"xpx"in t?K=t.xpx:K=h[0]._length/2,"ypx"in t?B=t.ypx:B=v[0]._length/2;else{if(WHe.triggerHandler(e,"plotly_beforehover",t)===!1)return;var z=i.getBoundingClientRect();K=t.clientX-z.left,B=t.clientY-z.top,o._calcInverseTransform(e);var j=so.apply3DTransform(o._invTransform)(K,B);if(K=j[0],B=j[1],K<0||K>h[0]._length||B<0||B>v[0]._length)return J3.unhoverRaw(e,t)}if(t.pointerX=K+h[0]._offset,t.pointerY=B+v[0]._offset,"xval"in t?p=zc.flat(a,t.xval):p=zc.p2c(h,K),"yval"in t?d=zc.flat(a,t.yval):d=zc.p2c(v,B),!Av(p[0])||!Av(d[0]))return so.warn("Fx.hover failed",t,e),J3.unhoverRaw(e,t)}var ae=1/0;function ee(ot,yt){for(T=0;T<k.length;T++)if(S=k[T],!(!S||!S[0]||!S[0].trace)&&(E=S[0].trace,!(E.visible!==!0||E._length===0)&&["carpet","contourcarpet"].indexOf(E._module.name)===-1)){if(E.type==="splom"?(D=0,L=a[D]):(L=zc.getSubplot(E),D=a.indexOf(L)),R=_,zc.isUnifiedHover(R)&&(R=R.charAt(0)),F={cd:S,trace:E,xa:h[D],ya:v[D],maxHoverDistance:g,maxSpikeDistance:A,index:!1,distance:Math.min(ae,g),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:rs.defaultLine,name:E.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},o[L]&&(F.subplot=o[L]._subplot),o._splomScenes&&o._splomScenes[E.uid]&&(F.scene=o._splomScenes[E.uid]),N=w.length,R==="array"){var Ht=t[T];"pointNumber"in Ht?(F.index=Ht.pointNumber,R="closest"):(R="","xval"in Ht&&(q=Ht.xval,R="x"),"yval"in Ht&&(C=Ht.yval,R=R?"closest":"y"))}else ot!==void 0&&yt!==void 0?(q=ot,C=yt):(q=p[D],C=d[D]);if(g!==0)if(E._module&&E._module.hoverPoints){var Lt=E._module.hoverPoints(F,q,C,R,{finiteRange:!0,hoverLayer:o._hoverlayer});if(Lt)for(var tr,rr=0;rr<Lt.length;rr++)tr=Lt[rr],Av(tr.x0)&&Av(tr.y0)&&w.push(iUe(tr,_))}else so.log("Unrecognized trace type in hover:",E);if(_==="closest"&&w.length>N&&(w.splice(0,N),ae=w[0].distance),u&&A!==0&&w.length===0){F.distance=A,F.index=!1;var Ct=E._module.hoverPoints(F,q,C,"closest",{hoverLayer:o._hoverlayer});if(Ct&&(Ct=Ct.filter(function(Or){return Or.spikeDistance<=A})),Ct&&Ct.length){var Zt,Sr=Ct.filter(function(Or){return Or.xa.showspikes&&Or.xa.spikesnap!=="hovered data"});if(Sr.length){var gr=Sr[0];Av(gr.x0)&&Av(gr.y0)&&(Zt=fe(gr),(!U.vLinePoint||U.vLinePoint.spikeDistance>Zt.spikeDistance)&&(U.vLinePoint=Zt))}var Lr=Ct.filter(function(Or){return Or.ya.showspikes&&Or.ya.spikesnap!=="hovered data"});if(Lr.length){var en=Lr[0];Av(en.x0)&&Av(en.y0)&&(Zt=fe(en),(!U.hLinePoint||U.hLinePoint.spikeDistance>Zt.spikeDistance)&&(U.hLinePoint=Zt))}}}}}ee();function ve(ot,yt,Ht){for(var Lt=null,tr=1/0,rr,Ct=0;Ct<ot.length;Ct++)rr=ot[Ct].spikeDistance,Ht&&Ct===0&&(rr=-1/0),rr<=tr&&rr<=yt&&(Lt=ot[Ct],tr=rr);return Lt}function fe(ot){return ot?{xa:ot.xa,ya:ot.ya,x:ot.xSpike!==void 0?ot.xSpike:(ot.x0+ot.x1)/2,y:ot.ySpike!==void 0?ot.ySpike:(ot.y0+ot.y1)/2,distance:ot.distance,spikeDistance:ot.spikeDistance,curveNumber:ot.trace.index,color:ot.color,pointNumber:ot.index}:null}var se={fullLayout:o,container:o._hoverlayer,event:t},G=e._spikepoints,Z={vLinePoint:U.vLinePoint,hLinePoint:U.hLinePoint};e._spikepoints=Z;var X=function(){w.sort(function(ot,yt){return ot.distance-yt.distance}),w=oUe(w,_)};X();var ge=_.charAt(0),qe=(ge==="x"||ge==="y")&&w[0]&&eUe[w[0].trace.type];if(u&&A!==0&&w.length!==0){var Pe=w.filter(function(ot){return ot.ya.showspikes}),Oe=ve(Pe,A,qe);U.hLinePoint=fe(Oe);var de=w.filter(function(ot){return ot.xa.showspikes}),_e=ve(de,A,qe);U.vLinePoint=fe(_e)}if(w.length===0){var ce=J3.unhoverRaw(e,t);return u&&(U.hLinePoint!==null||U.vLinePoint!==null)&&LZ(G)&&EZ(e,U,se),ce}if(u&&LZ(G)&&EZ(e,U,se),zc.isXYhover(R)&&w[0].length!==0&&w[0].trace.type!=="splom"){var J=w[0];kZ[J.trace.type]?w=w.filter(function(ot){return ot.trace.index===J.trace.index}):w=[J];var ne=w.length,be=DZ("x",J,o),Fe=DZ("y",J,o);ee(be,Fe);var He=[],te={},ye=0,Te=function(ot){var yt=kZ[ot.trace.type]?RZ(ot):ot.trace.index;if(!te[yt])ye++,te[yt]=ye,He.push(ot);else{var Ht=te[yt]-1,Lt=He[Ht];Ht>0&&Math.abs(ot.distance)<Math.abs(Lt.distance)&&(He[Ht]=ot)}},Ce;for(Ce=0;Ce<ne;Ce++)Te(w[Ce]);for(Ce=w.length-1;Ce>ne-1;Ce--)Te(w[Ce]);w=He,X()}var De=e._hoverdata,oe=[],pe=FZ(e),Le=NZ(e);for(M=0;M<w.length;M++){var Ue=w[M],et=zc.makeEventData(Ue,Ue.trace,Ue.cd);if(Ue.hovertemplate!==!1){var Qe=!1;Ue.cd[Ue.index]&&Ue.cd[Ue.index].ht&&(Qe=Ue.cd[Ue.index].ht),Ue.hovertemplate=Qe||Ue.trace.hovertemplate||!1}if(Ue.xa&&Ue.ya){var dt=Ue.x0+Ue.xa._offset,ht=Ue.x1+Ue.xa._offset,_t=Ue.y0+Ue.ya._offset,kt=Ue.y1+Ue.ya._offset,St=Math.min(dt,ht),Ot=Math.max(dt,ht),je=Math.min(_t,kt),Ve=Math.max(_t,kt);et.bbox={x0:St+Le,x1:Ot+Le,y0:je+pe,y1:Ve+pe}}Ue.eventData=[et],oe.push(et)}e._hoverdata=oe;var Je=_==="y"&&(k.length>1||w.length>1)||_==="closest"&&V&&w.length>1,nt=rs.combine(o.plot_bgcolor||rs.background,o.paper_bgcolor),Be=IZ(w,{gd:e,hovermode:_,rotateLabels:Je,bgColor:nt,container:o._hoverlayer,outerContainer:o._paper.node(),commonLabelOpts:o.hoverlabel,hoverdistance:o.hoverdistance});if(zc.isUnifiedHover(_)||(nUe(Be,Je?"xa":"ya",o),PZ(Be,Je,o._invScaleX,o._invScaleY)),i&&i.tagName){var tt=Z1.getComponentMethod("annotations","hasClickToShow")(e,oe);XHe(yp.select(i),tt?"pointer":"")}!i||n||!aUe(e,t,De)||(De&&e.emit("plotly_unhover",{event:t,points:De}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:h,yaxes:v,xvals:p,yvals:d}))}function RZ(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var rUe=/<extra>([\s\S]*)<\/extra>/;function IZ(e,t){var r=t.gd,n=r._fullLayout,i=t.hovermode,a=t.rotateLabels,o=t.bgColor,s=t.container,l=t.outerContainer,u=t.commonLabelOpts||{};if(e.length===0)return[[]];var f=t.fontFamily||xp.HOVERFONT,c=t.fontSize||xp.HOVERFONTSIZE,h=e[0],v=h.xa,b=h.ya,y=i.charAt(0),x=h[y+"Label"],m=X1(r,l),_=m.top,g=m.width,A=m.height,w=x!==void 0&&h.distance<=t.hoverdistance&&(i==="x"||i==="y");if(w){var k=!0,p,d;for(p=0;p<e.length;p++)if(k&&e[p].zLabel===void 0&&(k=!1),d=e[p].hoverinfo||e[p].trace.hoverinfo,d){var M=Array.isArray(d)?d:d.split("+");if(M.indexOf("all")===-1&&M.indexOf(i)===-1){w=!1;break}}k&&(w=!1)}var T=s.selectAll("g.axistext").data(w?[0]:[]);if(T.enter().append("g").classed("axistext",!0),T.exit().remove(),T.each(function(){var _e=yp.select(this),ce=so.ensureSingle(_e,"path","",function(kt){kt.style({"stroke-width":"1px"})}),J=so.ensureSingle(_e,"text","",function(kt){kt.attr("data-notex",1)}),ne=u.bgcolor||rs.defaultLine,be=u.bordercolor||rs.contrast(ne),Fe=rs.contrast(ne),He={family:u.font.family||f,size:u.font.size||c,color:u.font.color||Fe};ce.style({fill:ne,stroke:be}),J.text(x).call(Dh.font,He).call(Of.positionText,0,0).call(Of.convertToTspans,r),_e.attr("transform","");var te=X1(r,J.node()),ye,Te;if(i==="x"){var Ce=v.side==="top"?"-":"";J.attr("text-anchor","middle").call(Of.positionText,0,v.side==="top"?_-te.bottom-pa-ni:_-te.top+pa+ni),ye=v._offset+(h.x0+h.x1)/2,Te=b._offset+(v.side==="top"?0:b._length);var De=te.width/2+ni;ye<De?(ye=De,ce.attr("d","M-"+(De-pa)+",0L-"+(De-pa*2)+","+Ce+pa+"H"+(ni+te.width/2)+"v"+Ce+(ni*2+te.height)+"H-"+De+"V"+Ce+pa+"Z")):ye>n.width-De?(ye=n.width-De,ce.attr("d","M"+(De-pa)+",0L"+De+","+Ce+pa+"v"+Ce+(ni*2+te.height)+"H-"+De+"V"+Ce+pa+"H"+(De-pa*2)+"Z")):ce.attr("d","M0,0L"+pa+","+Ce+pa+"H"+(ni+te.width/2)+"v"+Ce+(ni*2+te.height)+"H-"+(ni+te.width/2)+"V"+Ce+pa+"H-"+pa+"Z")}else{var oe,pe,Le;b.side==="right"?(oe="start",pe=1,Le="",ye=v._offset+v._length):(oe="end",pe=-1,Le="-",ye=v._offset),Te=b._offset+(h.y0+h.y1)/2,J.attr("text-anchor",oe),ce.attr("d","M0,0L"+Le+pa+","+pa+"V"+(ni+te.height/2)+"h"+Le+(ni*2+te.width)+"V-"+(ni+te.height/2)+"H"+Le+pa+"V-"+pa+"Z");var Ue=te.height/2,et=_-te.top-Ue,Qe="clip"+n._uid+"commonlabel"+b._id,dt;if(ye<te.width+2*ni+pa){dt="M-"+(pa+ni)+"-"+Ue+"h-"+(te.width-ni)+"V"+Ue+"h"+(te.width-ni)+"Z";var ht=te.width-ye+ni;Of.positionText(J,ht,et),oe==="end"&&J.selectAll("tspan").each(function(){var kt=yp.select(this),St=Dh.tester.append("text").text(kt.text()).call(Dh.font,He),Ot=X1(r,St.node());Math.round(Ot.width)<Math.round(te.width)&&kt.attr("x",ht-Ot.width),St.remove()})}else Of.positionText(J,pe*(ni+pa),et),dt=null;var _t=n._topclips.selectAll("#"+Qe).data(dt?[0]:[]);_t.enter().append("clipPath").attr("id",Qe).append("path"),_t.exit().remove(),_t.select("path").attr("d",dt),Dh.setClipUrl(J,dt?Qe:null,r)}_e.attr("transform",oC(ye,Te))}),zc.isUnifiedHover(i)){s.selectAll("g.hovertext").remove();var S=e.filter(function(_e){return _e.hoverinfo!=="none"});if(S.length===0)return;var E=n.hoverlabel,L=E.font,D={showlegend:!0,legend:{title:{text:x,font:L},font:L,bgcolor:E.bgcolor,bordercolor:E.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},R={font:L};ZHe(D,R,r._fullData);var q=R.legend;q.entries=[];for(var C=0;C<S.length;C++){var F=S[C];if(F.hoverinfo!=="none"){var N=SZ(F,!0,i,n,x),U=N[0],V=N[1];F.name=V,V!==""?F.text=V+" : "+U:F.text=U;var Y=F.cd[F.index];Y&&(Y.mc&&(F.mc=Y.mc),Y.mcc&&(F.mc=Y.mcc),Y.mlc&&(F.mlc=Y.mlc),Y.mlcc&&(F.mlc=Y.mlcc),Y.mlw&&(F.mlw=Y.mlw),Y.mrc&&(F.mrc=Y.mrc),Y.dir&&(F.dir=Y.dir)),F._distinct=!0,q.entries.push([F])}}q.entries.sort(function(_e,ce){return _e[0].trace.index-ce[0].trace.index}),q.layer=s,q._inHover=!0,q._groupTitleFont=E.grouptitlefont,$He(r,q);var K=s.select("g.legend"),B=X1(r,K.node()),z=B.width+2*ni,j=B.height+2*ni,ae=S[0],ee=(ae.x0+ae.x1)/2,ve=(ae.y0+ae.y1)/2,fe=!(Z1.traceIs(ae.trace,"bar-like")||Z1.traceIs(ae.trace,"box-violin")),se,G;y==="y"?fe?(G=ve-ni,se=ve+ni):(G=Math.min.apply(null,S.map(function(_e){return Math.min(_e.y0,_e.y1)})),se=Math.max.apply(null,S.map(function(_e){return Math.max(_e.y0,_e.y1)}))):G=se=so.mean(S.map(function(_e){return(_e.y0+_e.y1)/2}))-j/2;var Z,X;y==="x"?fe?(Z=ee+ni,X=ee-ni):(Z=Math.max.apply(null,S.map(function(_e){return Math.max(_e.x0,_e.x1)})),X=Math.min.apply(null,S.map(function(_e){return Math.min(_e.x0,_e.x1)}))):Z=X=so.mean(S.map(function(_e){return(_e.x0+_e.x1)/2}))-z/2;var ge=v._offset,qe=b._offset;se+=qe,Z+=ge,X+=ge-z,G+=qe-j;var Pe,Oe;return Z+z<g&&Z>=0?Pe=Z:X+z<g&&X>=0?Pe=X:ge+z<g?Pe=ge:Z-ee<ee-X+z?Pe=g-z:Pe=0,Pe+=ni,se+j<A&&se>=0?Oe=se:G+j<A&&G>=0?Oe=G:qe+j<A?Oe=qe:se-ve<ve-G+j?Oe=A-j:Oe=0,Oe+=ni,K.attr("transform",oC(Pe-1,Oe-1)),K}var de=s.selectAll("g.hovertext").data(e,function(_e){return RZ(_e)});return de.enter().append("g").classed("hovertext",!0).each(function(){var _e=yp.select(this);_e.append("rect").call(rs.fill,rs.addOpacity(o,.8)),_e.append("text").classed("name",!0),_e.append("path").style("stroke-width","1px"),_e.append("text").classed("nums",!0).call(Dh.font,f,c)}),de.exit().remove(),de.each(function(_e){var ce=yp.select(this).attr("transform",""),J=_e.color;Array.isArray(J)&&(J=J[_e.eventData[0].pointNumber]);var ne=_e.bgcolor||J,be=rs.combine(rs.opacity(ne)?ne:rs.defaultLine,o),Fe=rs.combine(rs.opacity(J)?J:rs.defaultLine,o),He=_e.borderColor||rs.contrast(be),te=SZ(_e,w,i,n,x,ce),ye=te[0],Te=te[1],Ce=ce.select("text.nums").call(Dh.font,_e.fontFamily||f,_e.fontSize||c,_e.fontColor||He).text(ye).attr("data-notex",1).call(Of.positionText,0,0).call(Of.convertToTspans,r),De=ce.select("text.name"),oe=0,pe=0;if(Te&&Te!==ye){De.call(Dh.font,_e.fontFamily||f,_e.fontSize||c,Fe).text(Te).attr("data-notex",1).call(Of.positionText,0,0).call(Of.convertToTspans,r);var Le=X1(r,De.node());oe=Le.width+2*ni,pe=Le.height+2*ni}else De.remove(),ce.select("rect").remove();ce.select("path").style({fill:be,stroke:He});var Ue=_e.xa._offset+(_e.x0+_e.x1)/2,et=_e.ya._offset+(_e.y0+_e.y1)/2,Qe=Math.abs(_e.x1-_e.x0),dt=Math.abs(_e.y1-_e.y0),ht=X1(r,Ce.node()),_t=ht.width/n._invScaleX,kt=ht.height/n._invScaleY;_e.ty0=(_-ht.top)/n._invScaleY,_e.bx=_t+2*ni,_e.by=Math.max(kt+2*ni,pe),_e.anchor="start",_e.txwidth=_t,_e.tx2width=oe,_e.offset=0;var St=(_t+pa+ni+oe)*n._invScaleX,Ot,je;if(a)_e.pos=Ue,Ot=et+dt/2+St<=A,je=et-dt/2-St>=0,(_e.idealAlign==="top"||!Ot)&&je?(et-=dt/2,_e.anchor="end"):Ot?(et+=dt/2,_e.anchor="start"):_e.anchor="middle";else if(_e.pos=et,Ot=Ue+Qe/2+St<=g,je=Ue-Qe/2-St>=0,(_e.idealAlign==="left"||!Ot)&&je)Ue-=Qe/2,_e.anchor="end";else if(Ot)Ue+=Qe/2,_e.anchor="start";else{_e.anchor="middle";var Ve=St/2,Je=Ue+Ve-g,nt=Ue-Ve;Je>0&&(Ue-=Je),nt<0&&(Ue+=-nt)}Ce.attr("text-anchor",_e.anchor),oe&&De.attr("text-anchor",_e.anchor),ce.attr("transform",oC(Ue,et)+(a?YHe(qZ):""))}),de}function SZ(e,t,r,n,i,a){var o="",s="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=so.templateString(e.name,e.trace._meta)),o=CZ(e.name,e.nameLength));var l=r.charAt(0),u=l==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(s+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(s+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[l+"Label"]===i?s=e[u+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(s=e.yLabel):e.yLabel===void 0?s=e.xLabel:s="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(s+=(s?"<br>":"")+e.text),e.extraText!==void 0&&(s+=(s?"<br>":"")+e.extraText),a&&s===""&&!e.hovertemplate&&(o===""&&a.remove(),s=o);var f=e.hovertemplate||!1;if(f){var c=e.hovertemplateLabels||e;e[l+"Label"]!==i&&(c[l+"other"]=c[l+"Val"],c[l+"otherLabel"]=c[l+"Label"]),s=so.hovertemplateString(f,c,n._d3locale,e.eventData[0]||{},e.trace._meta),s=s.replace(rUe,function(h,v){return o=CZ(v,e.nameLength),""})}return[s,o]}function nUe(e,t,r){var n=0,i=1,a=e.size(),o=new Array(a),s=0;e.each(function(p){var d=p[t],M=d._id.charAt(0)==="x",T=d.range;s===0&&T&&T[0]>T[1]!==M&&(i=-1),o[s++]=[{datum:p,traceIndex:p.trace.index,dp:0,pos:p.pos,posref:p.posref,size:p.by*(M?KHe:1)/2,pmin:0,pmax:M?r.width:r.height}]}),o.sort(function(p,d){return p[0].posref-d[0].posref||i*(d[0].traceIndex-p[0].traceIndex)});var l,u,f,c,h,v,b;function y(p){var d=p[0],M=p[p.length-1];if(u=d.pmin-d.pos-d.dp+d.size,f=M.pos+M.dp+M.size-d.pmax,u>.01){for(h=p.length-1;h>=0;h--)p[h].dp+=u;l=!1}if(!(f<.01)){if(u<-.01){for(h=p.length-1;h>=0;h--)p[h].dp-=f;l=!1}if(l){var T=0;for(c=0;c<p.length;c++)v=p[c],v.pos+v.dp+v.size>d.pmax&&T++;for(c=p.length-1;c>=0&&!(T<=0);c--)v=p[c],v.pos>d.pmax-1&&(v.del=!0,T--);for(c=0;c<p.length&&!(T<=0);c++)if(v=p[c],v.pos<d.pmin+1)for(v.del=!0,T--,f=v.size*2,h=p.length-1;h>=0;h--)p[h].dp-=f;for(c=p.length-1;c>=0&&!(T<=0);c--)v=p[c],v.pos+v.dp+v.size>d.pmax&&(v.del=!0,T--)}}}for(;!l&&n<=a;){for(n++,l=!0,c=0;c<o.length-1;){var x=o[c],m=o[c+1],_=x[x.length-1],g=m[0];if(u=_.pos+_.dp+_.size-g.pos-g.dp+g.size,u>.01&&_.pmin===g.pmin&&_.pmax===g.pmax){for(h=m.length-1;h>=0;h--)m[h].dp+=u;for(x.push.apply(x,m),o.splice(c+1,1),b=0,h=x.length-1;h>=0;h--)b+=x[h].dp;for(f=b/x.length,h=x.length-1;h>=0;h--)x[h].dp-=f;l=!1}else c++}o.forEach(y)}for(c=o.length-1;c>=0;c--){var A=o[c];for(h=A.length-1;h>=0;h--){var w=A[h],k=w.datum;k.offset=w.dp,k.del=w.del}}}function PZ(e,t,r,n){var i=function(o){return o*r},a=function(o){return o*n};e.each(function(o){var s=yp.select(this);if(o.del)return s.remove();var l=s.select("text.nums"),u=o.anchor,f=u==="end"?-1:1,c={start:1,end:-1,middle:0}[u],h=c*(pa+ni),v=h+c*(o.txwidth+ni),b=0,y=o.offset,x=u==="middle";x&&(h-=o.tx2width/2,v+=o.txwidth/2+ni),t&&(y*=-QHe,b=o.offset*JHe),s.select("path").attr("d",x?"M-"+i(o.bx/2+o.tx2width/2)+","+a(y-o.by/2)+"h"+i(o.bx)+"v"+a(o.by)+"h-"+i(o.bx)+"Z":"M0,0L"+i(f*pa+b)+","+a(pa+y)+"v"+a(o.by/2-pa)+"h"+i(f*o.bx)+"v-"+a(o.by)+"H"+i(f*pa+b)+"V"+a(y-pa)+"Z");var m=b+h,_=y+o.ty0-o.by/2+ni,g=o.textAlign||"auto";g!=="auto"&&(g==="left"&&u!=="start"?(l.attr("text-anchor","start"),m=x?-o.bx/2-o.tx2width/2+ni:-o.bx-ni):g==="right"&&u!=="end"&&(l.attr("text-anchor","end"),m=x?o.bx/2-o.tx2width/2-ni:o.bx+ni)),l.call(Of.positionText,i(m),a(_)),o.tx2width&&(s.select("text.name").call(Of.positionText,i(v+c*ni+b),a(y+o.ty0-o.by/2+ni)),s.select("rect").call(Dh.setRect,i(v+(c-1)*o.tx2width/2+b),a(y-o.by/2-1),i(o.tx2width),a(o.by+2)))})}function iUe(e,t){var r=e.index,n=e.trace||{},i=e.cd[0],a=e.cd[r]||{};function o(h){return h||Av(h)&&h===0}var s=Array.isArray(r)?function(h,v){var b=so.castOption(i,r,h);return o(b)?b:so.extractOption({},n,"",v)}:function(h,v){return so.extractOption(a,n,h,v)};function l(h,v,b){var y=s(v,b);o(y)&&(e[h]=y)}if(l("hoverinfo","hi","hoverinfo"),l("bgcolor","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("nameLength","hnl","hoverlabel.namelength"),l("textAlign","hta","hoverlabel.align"),e.posref=t==="y"||t==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=so.constrain(e.x0,0,e.xa._length),e.x1=so.constrain(e.x1,0,e.xa._length),e.y0=so.constrain(e.y0,0,e.ya._length),e.y1=so.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:Id.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:Id.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var u=Id.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+u+" / -"+Id.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+u,t==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=Id.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+Id.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,t==="y"&&(e.distance+=1)}var c=e.hoverinfo||e.trace.hoverinfo;return c&&c!=="all"&&(c=Array.isArray(c)?c:c.split("+"),c.indexOf("x")===-1&&(e.xLabel=void 0),c.indexOf("y")===-1&&(e.yLabel=void 0),c.indexOf("z")===-1&&(e.zLabel=void 0),c.indexOf("text")===-1&&(e.text=void 0),c.indexOf("name")===-1&&(e.name=void 0)),e}function EZ(e,t,r){var n=r.container,i=r.fullLayout,a=i._size,o=r.event,s=!!t.hLinePoint,l=!!t.vLinePoint,u,f;if(n.selectAll(".spikeline").remove(),!!(l||s)){var c=rs.combine(i.plot_bgcolor,i.paper_bgcolor);if(s){var h=t.hLinePoint,v,b;u=h&&h.xa,f=h&&h.ya;var y=f.spikesnap;y==="cursor"?(v=o.pointerX,b=o.pointerY):(v=u._offset+h.x,b=f._offset+h.y);var x=MZ.readability(h.color,c)<1.5?rs.contrast(c):h.color,m=f.spikemode,_=f.spikethickness,g=f.spikecolor||x,A=Id.getPxPosition(e,f),w,k;if(m.indexOf("toaxis")!==-1||m.indexOf("across")!==-1){if(m.indexOf("toaxis")!==-1&&(w=A,k=v),m.indexOf("across")!==-1){var p=f._counterDomainMin,d=f._counterDomainMax;f.anchor==="free"&&(p=Math.min(p,f.position),d=Math.max(d,f.position)),w=a.l+p*a.w,k=a.l+d*a.w}n.insert("line",":first-child").attr({x1:w,x2:k,y1:b,y2:b,"stroke-width":_,stroke:g,"stroke-dasharray":Dh.dashStyle(f.spikedash,_)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:w,x2:k,y1:b,y2:b,"stroke-width":_+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}m.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:A+(f.side!=="right"?_:-_),cy:b,r:_,fill:g}).classed("spikeline",!0)}if(l){var M=t.vLinePoint,T,S;u=M&&M.xa,f=M&&M.ya;var E=u.spikesnap;E==="cursor"?(T=o.pointerX,S=o.pointerY):(T=u._offset+M.x,S=f._offset+M.y);var L=MZ.readability(M.color,c)<1.5?rs.contrast(c):M.color,D=u.spikemode,R=u.spikethickness,q=u.spikecolor||L,C=Id.getPxPosition(e,u),F,N;if(D.indexOf("toaxis")!==-1||D.indexOf("across")!==-1){if(D.indexOf("toaxis")!==-1&&(F=C,N=S),D.indexOf("across")!==-1){var U=u._counterDomainMin,V=u._counterDomainMax;u.anchor==="free"&&(U=Math.min(U,u.position),V=Math.max(V,u.position)),F=a.t+(1-V)*a.h,N=a.t+(1-U)*a.h}n.insert("line",":first-child").attr({x1:T,x2:T,y1:F,y2:N,"stroke-width":R,stroke:q,"stroke-dasharray":Dh.dashStyle(u.spikedash,R)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:T,x2:T,y1:F,y2:N,"stroke-width":R+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}D.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:T,cy:C-(u.side!=="top"?R:-R),r:R,fill:q}).classed("spikeline",!0)}}}function aUe(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var i=r[n],a=e._hoverdata[n];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}function LZ(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function CZ(e,t){return Of.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}function oUe(e,t){for(var r=t.charAt(0),n=[],i=[],a=[],o=0;o<e.length;o++){var s=e[o];Z1.traceIs(s.trace,"bar-like")||Z1.traceIs(s.trace,"box-violin")?a.push(s):s.trace[r+"period"]?i.push(s):n.push(s)}return n.concat(i).concat(a)}function DZ(e,t,r){var n=t[e+"a"],i=t[e+"Val"],a=t.cd[0];if(n.type==="category")i=n._categoriesMap[i];else if(n.type==="date"){var o=t.trace[e+"periodalignment"];if(o){var s=t.cd[t.index],l=s[e+"Start"];l===void 0&&(l=s[e]);var u=s[e+"End"];u===void 0&&(u=s[e]);var f=u-l;o==="end"?i+=f:o==="middle"&&(i+=f/2)}i=n.d2c(i)}return a&&a.t&&a.t.posLetter===n._id&&(r.boxmode==="group"||r.violinmode==="group")&&(i+=a.t.dPos),i}function FZ(e){return e.offsetTop+e.clientTop}function NZ(e){return e.offsetLeft+e.clientLeft}function X1(e,t){var r=e._fullLayout,n=t.getBoundingClientRect(),i=n.x,a=n.y,o=i+n.width,s=a+n.height,l=so.apply3DTransform(r._invTransform)(i,a),u=so.apply3DTransform(r._invTransform)(o,s),f=l[0],c=l[1],h=u[0],v=u[1];return{x:f,y:c,width:h-f,height:v-c,top:Math.min(c,v),left:Math.min(f,h),right:Math.max(f,h),bottom:Math.max(c,v)}}});var Gx=$((QMt,zZ)=>{"use strict";var sUe=pt(),lUe=Rr(),uUe=Pf().isUnifiedHover;zZ.exports=function(t,r,n,i){i=i||{};var a=r.legend;function o(s){i.font[s]||(i.font[s]=a?r.legend.font[s]:r.font[s])}r&&uUe(r.hovermode)&&(i.font||(i.font={}),o("size"),o("family"),o("color"),a?(i.bgcolor||(i.bgcolor=lUe.combine(r.legend.bgcolor,r.paper_bgcolor)),i.bordercolor||(i.bordercolor=r.legend.bordercolor)):i.bgcolor||(i.bgcolor=r.paper_bgcolor)),n("hoverlabel.bgcolor",i.bgcolor),n("hoverlabel.bordercolor",i.bordercolor),n("hoverlabel.namelength",i.namelength),sUe.coerceFont(n,"hoverlabel.font",i.font),n("hoverlabel.align",i.align)}});var BZ=$((ekt,OZ)=>{"use strict";var fUe=pt(),cUe=Gx(),hUe=dv();OZ.exports=function(t,r){function n(i,a){return fUe.coerce(t,r,hUe,i,a)}cUe(t,r,n)}});var jZ=$((tkt,UZ)=>{"use strict";var HZ=pt(),vUe=m1(),dUe=Gx();UZ.exports=function(t,r,n,i){function a(s,l){return HZ.coerce(t,r,vUe,s,l)}var o=HZ.extendFlat({},i.hoverlabel);r.hovertemplate&&(o.namelength=-1),dUe(t,r,a,o)}});var fC=$((rkt,VZ)=>{"use strict";var pUe=pt(),gUe=dv();VZ.exports=function(t,r){function n(i,a){return r[i]!==void 0?r[i]:pUe.coerce(t,r,gUe,i,a)}return n("clickmode"),n("hovermode")}});var WZ=$((nkt,YZ)=>{"use strict";var GZ=pt(),mUe=dv(),yUe=fC(),xUe=Gx();YZ.exports=function(t,r){function n(u,f){return GZ.coerce(t,r,mUe,u,f)}var i=yUe(t,r);i&&(n("hoverdistance"),n("spikedistance"));var a=n("dragmode");a==="select"&&n("selectdirection");var o=r._has("mapbox"),s=r._has("geo"),l=r._basePlotModules.length;r.dragmode==="zoom"&&((o||s)&&l===1||o&&s&&l===2)&&(r.dragmode="pan"),xUe(t,r,n),GZ.coerceFont(n,"hoverlabel.grouptitlefont",r.hoverlabel.font)}});var $Z=$((ikt,ZZ)=>{"use strict";var cC=pt(),XZ=Ir();ZZ.exports=function(t){var r=t.calcdata,n=t._fullLayout;function i(u){return function(f){return cC.coerceHoverinfo({hoverinfo:f},{_module:u._module},n)}}for(var a=0;a<r.length;a++){var o=r[a],s=o[0].trace;if(!XZ.traceIs(s,"pie-like")){var l=XZ.traceIs(s,"2dMap")?bUe:cC.fillArray;l(s.hoverinfo,o,"hi",i(s)),s.hovertemplate&&l(s.hovertemplate,o,"ht"),s.hoverlabel&&(l(s.hoverlabel.bgcolor,o,"hbg"),l(s.hoverlabel.bordercolor,o,"hbc"),l(s.hoverlabel.font.size,o,"hts"),l(s.hoverlabel.font.color,o,"htc"),l(s.hoverlabel.font.family,o,"htf"),l(s.hoverlabel.namelength,o,"hnl"),l(s.hoverlabel.align,o,"hta"))}}};function bUe(e,t,r,n){n=n||cC.identity,Array.isArray(e)&&(t[0][r]=n(e))}});var JZ=$((akt,KZ)=>{"use strict";var wUe=Ir(),_Ue=uC().hover;KZ.exports=function(t,r,n){var i=wUe.getComponentMethod("annotations","onClick")(t,t._hoverdata);n!==void 0&&_Ue(t,r,n,!0);function a(){t.emit("plotly_click",{points:t._hoverdata,event:r})}t._hoverdata&&r&&r.target&&(i&&i.then?i.then(a):a(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}});var lo=$((okt,t$)=>{"use strict";var TUe=Nr(),Q3=pt(),AUe=Gl(),Yx=Pf(),QZ=dv(),e$=uC();t$.exports={moduleType:"component",name:"fx",constants:vx(),schema:{layout:QZ},attributes:m1(),layoutAttributes:QZ,supplyLayoutGlobalDefaults:BZ(),supplyDefaults:jZ(),supplyLayoutDefaults:WZ(),calc:$Z(),getDistanceFunction:Yx.getDistanceFunction,getClosest:Yx.getClosest,inbox:Yx.inbox,quadrature:Yx.quadrature,appendArrayPointValue:Yx.appendArrayPointValue,castHoverOption:kUe,castHoverinfo:SUe,hover:e$.hover,unhover:AUe.unhover,loneHover:e$.loneHover,loneUnhover:MUe,click:JZ()};function MUe(e){var t=Q3.isD3Selection(e)?e:TUe.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function kUe(e,t,r){return Q3.castOption(e,t,"hoverlabel."+r)}function SUe(e,t,r){function n(i){return Q3.coerceHoverinfo({hoverinfo:i},{_module:e._module},t)}return Q3.castOption(e,r,"hoverinfo",n)}});var Pd=$(Mv=>{"use strict";Mv.selectMode=function(e){return e==="lasso"||e==="select"};Mv.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};Mv.openMode=function(e){return e==="drawline"||e==="drawopenpath"};Mv.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};Mv.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};Mv.selectingOrDrawing=function(e){return Mv.freeMode(e)||Mv.rectMode(e)}});var Wx=$((lkt,r$)=>{"use strict";r$.exports=function(t){var r=t._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var eT=$((ukt,n$)=>{"use strict";n$.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var a$=$((fkt,i$)=>{i$.exports=LUe;var hC={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},EUe=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function LUe(e){var t=[];return e.replace(EUe,function(r,n,i){var a=n.toLowerCase();for(i=DUe(i),a=="m"&&i.length>2&&(t.push([n].concat(i.splice(0,2))),a="l",n=n=="m"?"l":"L");;){if(i.length==hC[a])return i.unshift(n),t.push(i);if(i.length<hC[a])throw new Error("malformed path data");t.push([n].concat(i.splice(0,hC[a])))}}),t}var CUe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function DUe(e){var t=e.match(CUe);return t?t.map(Number):[]}});var rT=$((ckt,o$)=>{"use strict";var tT=32;o$.exports={CIRCLE_SIDES:tT,i000:0,i090:tT/4,i180:tT/2,i270:tT/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var nT=$((hkt,l$)=>{"use strict";var qUe=pt().strTranslate;function s$(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function RUe(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function IUe(e){var t=e._id.charAt(0)==="y"?1:0;return function(r){return s$(e,r[t])}}function PUe(e){return qUe(e.xaxis._offset,e.yaxis._offset)}l$.exports={p2r:s$,r2p:RUe,axValue:IUe,getTransform:PUe}});var bp=$(kv=>{"use strict";var FUe=a$(),c$=rT(),$1=c$.CIRCLE_SIDES,vC=c$.SQRT2,h$=nT(),u$=h$.p2r,f$=h$.r2p,NUe=[0,3,4,5,6,1,2],zUe=[0,3,4,1,2];kv.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var r="",n=0;n<t;n++)for(var i=e[n].length,a=0;a<i;a++){var o=e[n][a][0];if(o==="Z")r+="Z";else for(var s=e[n][a].length,l=0;l<s;l++){var u=l;o==="Q"||o==="S"?u=zUe[l]:o==="C"&&(u=NUe[l]),r+=e[n][a][u],l>0&&l<s-1&&(r+=",")}}return r};kv.readPaths=function(e,t,r,n){var i=FUe(e),a=[],o=-1,s=function(){o++,a[o]=[]},l,u=0,f=0,c,h,v=function(){c=u,h=f};v();for(var b=0;b<i.length;b++){var y=[],x,m,_,g,A=i[b][0],w=A;switch(A){case"M":s(),u=+i[b][1],f=+i[b][2],y.push([w,u,f]),v();break;case"Q":case"S":x=+i[b][1],_=+i[b][2],u=+i[b][3],f=+i[b][4],y.push([w,u,f,x,_]);break;case"C":x=+i[b][1],_=+i[b][2],m=+i[b][3],g=+i[b][4],u=+i[b][5],f=+i[b][6],y.push([w,u,f,x,_,m,g]);break;case"T":case"L":u=+i[b][1],f=+i[b][2],y.push([w,u,f]);break;case"H":w="L",u=+i[b][1],y.push([w,u,f]);break;case"V":w="L",f=+i[b][1],y.push([w,u,f]);break;case"A":w="L";var k=+i[b][1],p=+i[b][2];+i[b][4]||(k=-k,p=-p);var d=u-k,M=f;for(l=1;l<=$1/2;l++){var T=2*Math.PI*l/$1;y.push([w,d+k*Math.cos(T),M+p*Math.sin(T)])}break;case"Z":(u!==c||f!==h)&&(u=c,f=h,y.push([w,u,f]));break}for(var S=(r||{}).domain,E=t._fullLayout._size,L=r&&r.xsizemode==="pixel",D=r&&r.ysizemode==="pixel",R=n===!1,q=0;q<y.length;q++){for(l=0;l+2<7;l+=2){var C=y[q][l+1],F=y[q][l+2];C===void 0||F===void 0||(u=C,f=F,r&&(r.xaxis&&r.xaxis.p2r?(R&&(C-=r.xaxis._offset),L?C=f$(r.xaxis,r.xanchor)+C:C=u$(r.xaxis,C)):(R&&(C-=E.l),S?C=S.x[0]+C/E.w:C=C/E.w),r.yaxis&&r.yaxis.p2r?(R&&(F-=r.yaxis._offset),D?F=f$(r.yaxis,r.yanchor)-F:F=u$(r.yaxis,F)):(R&&(F-=E.t),S?F=S.y[1]-F/E.h:F=1-F/E.h)),y[q][l+1]=C,y[q][l+2]=F)}a[o].push(y[q].slice())}}return a};function Xx(e,t){return Math.abs(e-t)<=1e-6}function iT(e,t){var r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+n*n)}kv.pointsOnRectangle=function(e){var t=e.length;if(t!==5)return!1;for(var r=1;r<3;r++){var n=e[0][r]-e[1][r],i=e[3][r]-e[2][r];if(!Xx(n,i))return!1;var a=e[0][r]-e[3][r],o=e[1][r]-e[2][r];if(!Xx(a,o))return!1}return!Xx(e[0][1],e[1][1])&&!Xx(e[0][1],e[3][1])?!1:!!(iT(e[0],e[1])*iT(e[0],e[3]))};kv.pointsOnEllipse=function(e){var t=e.length;if(t!==$1+1)return!1;t=$1;for(var r=0;r<t;r++){var n=(t*2-r)%t,i=(t/2+n)%t,a=(t/2+r)%t;if(!Xx(iT(e[r],e[a]),iT(e[n],e[i])))return!1}return!0};kv.handleEllipse=function(e,t,r){if(!e)return[t,r];var n=kv.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),i=(n.x1+n.x0)/2,a=(n.y1+n.y0)/2,o=(n.x1-n.x0)/2,s=(n.y1-n.y0)/2;o||(o=s=s/vC),s||(s=o=o/vC);for(var l=[],u=0;u<$1;u++){var f=u*2*Math.PI/$1;l.push([i+o*Math.cos(f),a+s*Math.sin(f)])}return l};kv.ellipseOver=function(e){var t=e.x0,r=e.y0,n=e.x1,i=e.y1,a=n-t,o=i-r;t-=a,r-=o;var s=(t+n)/2,l=(r+i)/2,u=vC;return a*=u,o*=u,{x0:s-a,y0:l-o,x1:s+a,y1:l+o}};kv.fixDatesForPaths=function(e,t,r){var n=t.type==="date",i=r.type==="date";if(!n&&!i)return e;for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)for(var s=0;s+2<e[a][o].length;s+=2)n&&(e[a][o][s+1]=e[a][o][s+1].replace(" ","_")),i&&(e[a][o][s+2]=e[a][o][s+2].replace(" ","_"));return e}});var dC=$((dkt,x$)=>{"use strict";var m$=Pd(),OUe=m$.drawMode,BUe=m$.openMode,K1=rT(),v$=K1.i000,d$=K1.i090,p$=K1.i180,g$=K1.i270,HUe=K1.cos45,UUe=K1.sin45,y$=nT(),aT=y$.p2r,Fd=y$.r2p,jUe=Cd(),VUe=jUe.clearOutline,oT=bp(),GUe=oT.readPaths,YUe=oT.writePaths,WUe=oT.ellipseOver,XUe=oT.fixDatesForPaths;x$.exports=function(t,r){if(t.length){var n=t[0][0];if(n){var i=n.getAttribute("d"),a=r.gd,o=a._fullLayout.newshape,s=r.plotinfo,l=s.xaxis,u=s.yaxis,f=!!s.domain||!s.xaxis,c=!!s.domain||!s.yaxis,h=r.isActiveShape,v=r.dragmode,b=(a.layout||{}).shapes||[];if(!OUe(v)&&h!==void 0){var y=a._fullLayout._activeShapeIndex;if(y<b.length)switch(a._fullLayout.shapes[y].type){case"rect":v="drawrect";break;case"circle":v="drawcircle";break;case"line":v="drawline";break;case"path":var x=b[y].path||"";x[x.length-1]==="Z"?v="drawclosedpath":v="drawopenpath";break}}var m=BUe(v),_=GUe(i,a,s,h),g={editable:!0,xref:f?"paper":l._id,yref:c?"paper":u._id,layer:o.layer,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};m||(g.fillcolor=o.fillcolor,g.fillrule=o.fillrule);var A;if(_.length===1&&(A=_[0]),A&&A.length===5&&v==="drawrect")g.type="rect",g.x0=A[0][1],g.y0=A[0][2],g.x1=A[2][1],g.y1=A[2][2];else if(A&&v==="drawline")g.type="line",g.x0=A[0][1],g.y0=A[0][2],g.x1=A[1][1],g.y1=A[1][2];else if(A&&v==="drawcircle"){g.type="circle";var w=A[v$][1],k=A[d$][1],p=A[p$][1],d=A[g$][1],M=A[v$][2],T=A[d$][2],S=A[p$][2],E=A[g$][2],L=s.xaxis&&(s.xaxis.type==="date"||s.xaxis.type==="log"),D=s.yaxis&&(s.yaxis.type==="date"||s.yaxis.type==="log");L&&(w=Fd(s.xaxis,w),k=Fd(s.xaxis,k),p=Fd(s.xaxis,p),d=Fd(s.xaxis,d)),D&&(M=Fd(s.yaxis,M),T=Fd(s.yaxis,T),S=Fd(s.yaxis,S),E=Fd(s.yaxis,E));var R=(k+d)/2,q=(M+S)/2,C=(d-k+p-w)/2,F=(E-T+S-M)/2,N=WUe({x0:R,y0:q,x1:R+C*HUe,y1:q+F*UUe});L&&(N.x0=aT(s.xaxis,N.x0),N.x1=aT(s.xaxis,N.x1)),D&&(N.y0=aT(s.yaxis,N.y0),N.y1=aT(s.yaxis,N.y1)),g.x0=N.x0,g.y0=N.y0,g.x1=N.x1,g.y1=N.y1}else g.type="path",l&&u&&XUe(_,l,u),g.path=YUe(_),A=null;VUe(a);for(var U=r.editHelpers,V=(U||{}).modifyItem,Y=[],K=0;K<b.length;K++){var B=a._fullLayout.shapes[K];if(Y[K]=B._input,h!==void 0&&K===a._fullLayout._activeShapeIndex){var z=g;switch(B.type){case"line":case"rect":case"circle":V("x0",z.x0),V("x1",z.x1),V("y0",z.y0),V("y1",z.y1);break;case"path":V("path",z.path);break}}}return h===void 0?(Y.push(g),Y):U?U.getUpdateObj():{}}}}});var gC=$((pkt,b$)=>{"use strict";var ZUe=Pd(),$Ue=ZUe.selectMode,KUe=Cd(),JUe=KUe.clearOutline,pC=bp(),QUe=pC.readPaths,eje=pC.writePaths,tje=pC.fixDatesForPaths;b$.exports=function(t,r){if(t.length){var n=t[0][0];if(n){var i=n.getAttribute("d"),a=r.gd,o=a._fullLayout.newselection,s=r.plotinfo,l=s.xaxis,u=s.yaxis,f=r.isActiveSelection,c=r.dragmode,h=(a.layout||{}).selections||[];if(!$Ue(c)&&f!==void 0){var v=a._fullLayout._activeSelectionIndex;if(v<h.length)switch(a._fullLayout.selections[v].type){case"rect":c="select";break;case"path":c="lasso";break}}var b=QUe(i,a,s,f),y={xref:l._id,yref:u._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}},x;b.length===1&&(x=b[0]),x&&x.length===5&&c==="select"?(y.type="rect",y.x0=x[0][1],y.y0=x[0][2],y.x1=x[2][1],y.y1=x[2][2]):(y.type="path",l&&u&&tje(b,l,u),y.path=eje(b),x=null),JUe(a);for(var m=r.editHelpers,_=(m||{}).modifyItem,g=[],A=0;A<h.length;A++){var w=a._fullLayout.selections[A];if(!w){g[A]=w;continue}if(g[A]=w._input,f!==void 0&&A===a._fullLayout._activeSelectionIndex){var k=y;switch(w.type){case"rect":_("x0",k.x0),_("x1",k.x1),_("y0",k.y0),_("y1",k.y1);break;case"path":_("path",k.path);break}}}return f===void 0?(g.push(y),g):m?m.getUpdateObj():{}}}}});var uT=$((gkt,E$)=>{"use strict";var rje=pt(),nje=rje.strTranslate,w$=Gl(),A$=Pd(),ije=A$.drawMode,M$=A$.selectMode,k$=Ir(),_$=Rr(),lT=rT(),aje=lT.i000,oje=lT.i090,sje=lT.i180,lje=lT.i270,uje=Cd(),S$=uje.clearOutlineControllers,yC=bp(),sT=yC.pointsOnRectangle,mC=yC.pointsOnEllipse,fje=yC.writePaths,cje=dC(),hje=gC();E$.exports=function e(t,r,n,i){i||(i=0);var a=n.gd;function o(){e(t,r,n,i++),mC(t[0])&&s({redrawing:!0})}function s(R){var q={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,q=cje(r,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,q=hje(r,n),a._fullLayout._reselect=!0),Object.keys(q).length&&k$.call((R||{}).redrawing?"relayout":"_guiRelayout",a,q)}var l=a._fullLayout,u=l._zoomlayer,f=n.dragmode,c=ije(f),h=M$(f);(c||h)&&(a._fullLayout._outlining=!0),S$(a),r.attr("d",fje(t));var v,b,y,x,m;if(!i&&(n.isActiveShape||n.isActiveSelection)){m=vje([],t);var _=u.append("g").attr("class","outline-controllers");d(_),D()}function g(R){y=+R.srcElement.getAttribute("data-i"),x=+R.srcElement.getAttribute("data-j"),v[y][x].moveFn=A}function A(R,q){if(t.length){var C=m[y][x][1],F=m[y][x][2],N=t[y],U=N.length;if(sT(N)){var V=R,Y=q;if(n.isActiveSelection){var K=T$(N,x);K[1]===N[x][1]?Y=0:V=0}for(var B=0;B<U;B++)if(B!==x){var z=N[B];z[1]===N[x][1]&&(z[1]=C+V),z[2]===N[x][2]&&(z[2]=F+Y)}if(N[x][1]=C+V,N[x][2]=F+Y,!sT(N))for(var j=0;j<U;j++)for(var ae=0;ae<N[j].length;ae++)N[j][ae]=m[y][j][ae]}else N[x][1]=C+R,N[x][2]=F+q;o()}}function w(){s()}function k(){if(t.length&&t[y]&&t[y].length){for(var R=[],q=0;q<t[y].length;q++)q!==x&&R.push(t[y][q]);R.length>1&&!(R.length===2&&R[1][0]==="Z")&&(x===0&&(R[0][0]="M"),t[y]=R,o(),s())}}function p(R,q){if(R===2){y=+q.srcElement.getAttribute("data-i"),x=+q.srcElement.getAttribute("data-j");var C=t[y];!sT(C)&&!mC(C)&&k()}}function d(R){v=[];for(var q=0;q<t.length;q++){var C=t[q],F=sT(C),N=!F&&mC(C);v[q]=[];for(var U=C.length,V=0;V<U;V++)if(C[V][0]!=="Z"&&!(N&&V!==aje&&V!==oje&&V!==sje&&V!==lje)){var Y=F&&n.isActiveSelection,K;Y&&(K=T$(C,V));var B=C[V][1],z=C[V][2],j=R.append(Y?"rect":"circle").attr("data-i",q).attr("data-j",V).style({fill:_$.background,stroke:_$.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Y){var ae=K[1]-B,ee=K[2]-z,ve=ee?5:Math.max(Math.min(25,Math.abs(ae)-5),5),fe=ae?5:Math.max(Math.min(25,Math.abs(ee)-5),5);j.classed(ee?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ve).attr("height",fe).attr("x",B-ve/2).attr("y",z-fe/2).attr("transform",nje(ae/2,ee/2))}else j.classed("cursor-grab",!0).attr("r",5).attr("cx",B).attr("cy",z);v[q][V]={element:j.node(),gd:a,prepFn:g,doneFn:w,clickFn:p},w$.init(v[q][V])}}}function M(R,q){if(t.length)for(var C=0;C<t.length;C++)for(var F=0;F<t[C].length;F++)for(var N=0;N+2<t[C][F].length;N+=2)t[C][F][N+1]=m[C][F][N+1]+R,t[C][F][N+2]=m[C][F][N+2]+q}function T(R,q){M(R,q),o()}function S(R){y=+R.srcElement.getAttribute("data-i"),y||(y=0),b[y].moveFn=T}function E(){s()}function L(R){R===2&&dje(a)}function D(){if(b=[],!!t.length){var R=0;b[R]={element:r[0][0],gd:a,prepFn:S,doneFn:E,clickFn:L},w$.init(b[R])}}};function vje(e,t){for(var r=0;r<t.length;r++){var n=t[r];e[r]=[];for(var i=0;i<n.length;i++){e[r][i]=[];for(var a=0;a<n[i].length;a++)e[r][i][a]=n[i][a]}}return e}function T$(e,t){var r=e[t][1],n=e[t][2],i=e.length,a,o,s;return a=(t+1)%i,o=e[a][1],s=e[a][2],o===r&&s===n&&(a=(t+2)%i,o=e[a][1],s=e[a][2]),[a,o,s]}function dje(e){if(M$(e._fullLayout.dragmode)){S$(e);var t=e._fullLayout._activeSelectionIndex,r=(e.layout||{}).selections||[];if(t<r.length){for(var n=[],i=0;i<r.length;i++)i!==t&&n.push(r[i]);delete e._fullLayout._activeSelectionIndex;var a=e._fullLayout.selections[t];e._fullLayout._deselect={xref:a.xref,yref:a.yref},k$.call("_guiRelayout",e,{selections:n})}}}});var Zx=$((mkt,L$)=>{"use strict";L$.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var _p=$(gs=>{"use strict";var wp=Zx(),C$=pt(),fT=tn();gs.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(t){return t}};gs.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(t){return t}};gs.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}};gs.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}};gs.extractPathCoords=function(e,t,r){var n=[],i=e.match(wp.segmentRE);return i.forEach(function(a){var o=t[a.charAt(0)].drawn;if(o!==void 0){var s=a.substr(1).match(wp.paramRE);if(!(!s||s.length<o)){var l=s[o],u=r?l:C$.cleanNumber(l);n.push(u)}}}),n};gs.getDataToPixel=function(e,t,r,n){var i=e._fullLayout._size,a;if(t)if(n==="domain")a=function(s){return t._length*(r?1-s:s)+t._offset};else{var o=gs.shapePositionToRange(t);a=function(s){return t._offset+t.r2p(o(s,!0))},t.type==="date"&&(a=gs.decodeDate(a))}else r?a=function(s){return i.t+i.h*(1-s)}:a=function(s){return i.l+i.w*s};return a};gs.getPixelToData=function(e,t,r,n){var i=e._fullLayout._size,a;if(t)if(n==="domain")a=function(s){var l=(s-t._offset)/t._length;return r?1-l:l};else{var o=gs.rangeToShapePosition(t);a=function(s){return o(t.p2r(s-t._offset))}}else r?a=function(s){return 1-(s-i.t)/i.h}:a=function(s){return(s-i.l)/i.w};return a};gs.roundPositionForSharpStrokeRendering=function(e,t){var r=Math.round(t%2)===1,n=Math.round(e);return r?n+.5:n};gs.makeShapesOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},n=e._fullLayout._plots[r.xref+r.yref],i=!!n;return i?n._hadPlotinfo=!0:(n={},r.xref&&r.xref!=="paper"&&(n.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(n.yaxis=e._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}};gs.makeSelectionsOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.selections[t]||{},n=e._fullLayout._plots[r.xref+r.yref],i=!!n;return i?n._hadPlotinfo=!0:(n={},r.xref&&(n.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&(n.yaxis=e._fullLayout[r.yref+"axis"])),{options:r,plotinfo:n}};gs.getPathString=function(e,t){var r=t.type,n=fT.getRefType(t.xref),i=fT.getRefType(t.yref),a=fT.getFromId(e,t.xref),o=fT.getFromId(e,t.yref),s=e._fullLayout._size,l,u,f,c,h,v,b,y;if(a?n==="domain"?u=function(M){return a._offset+a._length*M}:(l=gs.shapePositionToRange(a),u=function(M){return a._offset+a.r2p(l(M,!0))}):u=function(M){return s.l+s.w*M},o?i==="domain"?c=function(M){return o._offset+o._length*(1-M)}:(f=gs.shapePositionToRange(o),c=function(M){return o._offset+o.r2p(f(M,!0))}):c=function(M){return s.t+s.h*(1-M)},r==="path")return a&&a.type==="date"&&(u=gs.decodeDate(u)),o&&o.type==="date"&&(c=gs.decodeDate(c)),pje(t,u,c);if(t.xsizemode==="pixel"){var x=u(t.xanchor);h=x+t.x0,v=x+t.x1}else h=u(t.x0),v=u(t.x1);if(t.ysizemode==="pixel"){var m=c(t.yanchor);b=m-t.y0,y=m-t.y1}else b=c(t.y0),y=c(t.y1);if(r==="line")return"M"+h+","+b+"L"+v+","+y;if(r==="rect")return"M"+h+","+b+"H"+v+"V"+y+"H"+h+"Z";var _=(h+v)/2,g=(b+y)/2,A=Math.abs(_-h),w=Math.abs(g-b),k="A"+A+","+w,p=_+A+","+g,d=_+","+(g-w);return"M"+p+k+" 0 1,1 "+d+k+" 0 0,1 "+p+"Z"};function pje(e,t,r){var n=e.path,i=e.xsizemode,a=e.ysizemode,o=e.xanchor,s=e.yanchor;return n.replace(wp.segmentRE,function(l){var u=0,f=l.charAt(0),c=wp.paramIsX[f],h=wp.paramIsY[f],v=wp.numParams[f],b=l.substr(1).replace(wp.paramRE,function(y){return c[u]?i==="pixel"?y=t(o)+Number(y):y=t(y):h[u]&&(a==="pixel"?y=r(s)-Number(y):y=r(y)),u++,u>v&&(y="X"),y});return u>v&&(b=b.replace(/[\s,]*X.*/,""),C$.log("Ignoring extra params in segment "+l)),f+b})}});var TC=$((xkt,B$)=>{"use strict";var F$=Ir(),D$=pt(),J1=tn(),gje=bp().readPaths,mje=uT(),N$=Cd().clearOutlineControllers,xC=Rr(),wC=un(),yje=bi().arrayEditor,q$=Gl(),R$=Fc(),Tp=Zx(),Eu=_p(),bC=Eu.getPathString;B$.exports={draw:_C,drawOne:z$,eraseActiveShape:wje};function _C(e){var t=e._fullLayout;t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove();for(var r in t._plots){var n=t._plots[r].shapelayer;n&&n.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&z$(e,i)}function cT(e){return!!e._fullLayout._outlining}function hT(e){return!e._context.edits.shapePosition}function z$(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=Eu.makeShapesOptionsAndPlotinfo(e,t),n=r.options,i=r.plotinfo;if(!n._input||n.visible===!1)return;if(n.layer!=="below")o(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")o(e._fullLayout._shapeLowerLayer);else if(i._hadPlotinfo){var a=i.mainplotinfo||i;o(a.shapelayer)}else o(e._fullLayout._shapeLowerLayer);function o(s){var l=bC(e,n),u={"data-index":t,"fill-rule":n.fillrule,d:l},f=n.opacity,c=n.fillcolor,h=n.line.width?n.line.color:"rgba(0,0,0,0)",v=n.line.width,b=n.line.dash;!v&&n.editable===!0&&(v=5,b="solid");var y=l[l.length-1]!=="Z",x=hT(e)&&n.editable&&e._fullLayout._activeShapeIndex===t;x&&(c=y?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,f=e._fullLayout.activeshape.opacity);var m=s.append("path").attr(u).style("opacity",f).call(xC.stroke,h).call(xC.fill,c).call(wC.dashLine,b,v);O$(m,e,n);var _;if((x||e._context.edits.shapePosition)&&(_=yje(e.layout,"shapes",n)),x){m.style({cursor:"move"});var g={element:m.node(),plotinfo:i,gd:e,editHelpers:_,isActiveShape:!0},A=gje(l,e);mje(A,m,g)}else e._context.edits.shapePosition?xje(e,m,n,t,s,_):n.editable===!0&&m.style("pointer-events",y||xC.opacity(c)*f<=.5?"stroke":"all");m.node().addEventListener("click",function(){return bje(e,m)})}}function O$(e,t,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");wC.setClipUrl(e,n?"clip"+t._fullLayout._uid+n:null,t)}function xje(e,t,r,n,i,a){var o=10,s=10,l=r.xsizemode==="pixel",u=r.ysizemode==="pixel",f=r.type==="line",c=r.type==="path",h=a.modifyItem,v,b,y,x,m,_,g,A,w,k,p,d,M,T,S,E=J1.getFromId(e,r.xref),L=J1.getRefType(r.xref),D=J1.getFromId(e,r.yref),R=J1.getRefType(r.yref),q=Eu.getDataToPixel(e,E,!1,L),C=Eu.getDataToPixel(e,D,!0,R),F=Eu.getPixelToData(e,E,!1,L),N=Eu.getPixelToData(e,D,!0,R),U=K(),V={element:U.node(),gd:e,prepFn:j,doneFn:ae,clickFn:ee},Y;q$.init(V),U.node().onmousemove=z;function K(){return f?B():t}function B(){var X=10,ge=Math.max(r.line.width,X),qe=i.append("g").attr("data-index",n);qe.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":ge,"stroke-opacity":"0"});var Pe={"fill-opacity":"0"},Oe=Math.max(ge/2,X);return qe.append("circle").attr({"data-line-point":"start-point",cx:l?q(r.xanchor)+r.x0:q(r.x0),cy:u?C(r.yanchor)-r.y0:C(r.y0),r:Oe}).style(Pe).classed("cursor-grab",!0),qe.append("circle").attr({"data-line-point":"end-point",cx:l?q(r.xanchor)+r.x1:q(r.x1),cy:u?C(r.yanchor)-r.y1:C(r.y1),r:Oe}).style(Pe).classed("cursor-grab",!0),qe}function z(X){if(cT(e)){Y=null;return}if(f)X.target.tagName==="path"?Y="move":Y=X.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ge=V.element.getBoundingClientRect(),qe=ge.right-ge.left,Pe=ge.bottom-ge.top,Oe=X.clientX-ge.left,de=X.clientY-ge.top,_e=!c&&qe>o&&Pe>s&&!X.shiftKey?q$.getCursor(Oe/qe,1-de/Pe):"move";R$(t,_e),Y=_e.split("-")[0]}}function j(X){cT(e)||(l&&(m=q(r.xanchor)),u&&(_=C(r.yanchor)),r.type==="path"?S=r.path:(v=l?r.x0:q(r.x0),b=u?r.y0:C(r.y0),y=l?r.x1:q(r.x1),x=u?r.y1:C(r.y1)),v<y?(w=v,M="x0",k=y,T="x1"):(w=y,M="x1",k=v,T="x0"),!u&&b<x||u&&b>x?(g=b,p="y0",A=x,d="y1"):(g=x,p="y1",A=b,d="y0"),z(X),se(i,r),Z(t,r,e),V.moveFn=Y==="move"?ve:fe,V.altKey=X.altKey)}function ae(){cT(e)||(R$(t),G(i),O$(t,e,r),F$.call("_guiRelayout",e,a.getUpdateObj()))}function ee(){cT(e)||G(i)}function ve(X,ge){if(r.type==="path"){var qe=function(de){return de},Pe=qe,Oe=qe;l?h("xanchor",r.xanchor=F(m+X)):(Pe=function(_e){return F(q(_e)+X)},E&&E.type==="date"&&(Pe=Eu.encodeDate(Pe))),u?h("yanchor",r.yanchor=N(_+ge)):(Oe=function(_e){return N(C(_e)+ge)},D&&D.type==="date"&&(Oe=Eu.encodeDate(Oe))),h("path",r.path=I$(S,Pe,Oe))}else l?h("xanchor",r.xanchor=F(m+X)):(h("x0",r.x0=F(v+X)),h("x1",r.x1=F(y+X))),u?h("yanchor",r.yanchor=N(_+ge)):(h("y0",r.y0=N(b+ge)),h("y1",r.y1=N(x+ge)));t.attr("d",bC(e,r)),se(i,r)}function fe(X,ge){if(c){var qe=function(oe){return oe},Pe=qe,Oe=qe;l?h("xanchor",r.xanchor=F(m+X)):(Pe=function(pe){return F(q(pe)+X)},E&&E.type==="date"&&(Pe=Eu.encodeDate(Pe))),u?h("yanchor",r.yanchor=N(_+ge)):(Oe=function(pe){return N(C(pe)+ge)},D&&D.type==="date"&&(Oe=Eu.encodeDate(Oe))),h("path",r.path=I$(S,Pe,Oe))}else if(f){if(Y==="resize-over-start-point"){var de=v+X,_e=u?b-ge:b+ge;h("x0",r.x0=l?de:F(de)),h("y0",r.y0=u?_e:N(_e))}else if(Y==="resize-over-end-point"){var ce=y+X,J=u?x-ge:x+ge;h("x1",r.x1=l?ce:F(ce)),h("y1",r.y1=u?J:N(J))}}else{var ne=function(oe){return Y.indexOf(oe)!==-1},be=ne("n"),Fe=ne("s"),He=ne("w"),te=ne("e"),ye=be?g+ge:g,Te=Fe?A+ge:A,Ce=He?w+X:w,De=te?k+X:k;u&&(be&&(ye=g-ge),Fe&&(Te=A-ge)),(!u&&Te-ye>s||u&&ye-Te>s)&&(h(p,r[p]=u?ye:N(ye)),h(d,r[d]=u?Te:N(Te))),De-Ce>o&&(h(M,r[M]=l?Ce:F(Ce)),h(T,r[T]=l?De:F(De)))}t.attr("d",bC(e,r)),se(i,r)}function se(X,ge){(l||u)&&qe();function qe(){var Pe=ge.type!=="path",Oe=X.selectAll(".visual-cue").data([0]),de=1;Oe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":de}).classed("visual-cue",!0);var _e=q(l?ge.xanchor:D$.midRange(Pe?[ge.x0,ge.x1]:Eu.extractPathCoords(ge.path,Tp.paramIsX))),ce=C(u?ge.yanchor:D$.midRange(Pe?[ge.y0,ge.y1]:Eu.extractPathCoords(ge.path,Tp.paramIsY)));if(_e=Eu.roundPositionForSharpStrokeRendering(_e,de),ce=Eu.roundPositionForSharpStrokeRendering(ce,de),l&&u){var J="M"+(_e-1-de)+","+(ce-1-de)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Oe.attr("d",J)}else if(l){var ne="M"+(_e-1-de)+","+(ce-9-de)+"v18 h2 v-18 Z";Oe.attr("d",ne)}else{var be="M"+(_e-9-de)+","+(ce-1-de)+"h18 v2 h-18 Z";Oe.attr("d",be)}}}function G(X){X.selectAll(".visual-cue").remove()}function Z(X,ge,qe){var Pe=ge.xref,Oe=ge.yref,de=J1.getFromId(qe,Pe),_e=J1.getFromId(qe,Oe),ce="";Pe!=="paper"&&!de.autorange&&(ce+=Pe),Oe!=="paper"&&!_e.autorange&&(ce+=Oe),wC.setClipUrl(X,ce?"clip"+qe._fullLayout._uid+ce:null,qe)}}function I$(e,t,r){return e.replace(Tp.segmentRE,function(n){var i=0,a=n.charAt(0),o=Tp.paramIsX[a],s=Tp.paramIsY[a],l=Tp.numParams[a],u=n.substr(1).replace(Tp.paramRE,function(f){return i>=l||(o[i]?f=t(f):s[i]&&(f=r(f)),i++),f});return a+u})}function bje(e,t){if(hT(e)){var r=t.node(),n=+r.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){P$(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=P$,_C(e)}}}function P$(e){if(hT(e)){var t=e._fullLayout._activeShapeIndex;t>=0&&(N$(e),delete e._fullLayout._activeShapeIndex,_C(e))}}function wje(e){if(hT(e)){N$(e);var t=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(t<r.length){for(var n=[],i=0;i<r.length;i++)i!==t&&n.push(r[i]);delete e._fullLayout._activeShapeIndex,F$.call("_guiRelayout",e,{shapes:n})}}}});var SC=$((bkt,Y$)=>{"use strict";var Bf=Ir(),H$=Zi(),U$=Io(),mi=eT(),_je=TC().eraseActiveShape,Q1=pt(),$n=Q1._,yi=Y$.exports={};yi.toImage={name:"toImage",title:function(e){var t=e._context.toImageButtonOptions||{},r=t.format||"png";return r==="png"?$n(e,"Download plot as a png"):$n(e,"Download plot")},icon:mi.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};Q1.notifier($n(e,"Taking snapshot - this may take a few seconds"),"long"),r.format!=="svg"&&Q1.isIE()&&(Q1.notifier($n(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(n){n in t&&(r[n]=t[n])}),Bf.call("downloadImage",e,r).then(function(n){Q1.notifier($n(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Q1.notifier($n(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};yi.sendDataToCloud={name:"sendDataToCloud",title:function(e){return $n(e,"Edit in Chart Studio")},icon:mi.disk,click:function(e){H$.sendDataToCloud(e)}};yi.editInChartStudio={name:"editInChartStudio",title:function(e){return $n(e,"Edit in Chart Studio")},icon:mi.pencil,click:function(e){H$.sendDataToCloud(e)}};yi.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return $n(e,"Zoom")},attr:"dragmode",val:"zoom",icon:mi.zoombox,click:_l};yi.pan2d={name:"pan2d",_cat:"pan",title:function(e){return $n(e,"Pan")},attr:"dragmode",val:"pan",icon:mi.pan,click:_l};yi.select2d={name:"select2d",_cat:"select",title:function(e){return $n(e,"Box Select")},attr:"dragmode",val:"select",icon:mi.selectbox,click:_l};yi.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return $n(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:mi.lasso,click:_l};yi.drawclosedpath={name:"drawclosedpath",title:function(e){return $n(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:mi.drawclosedpath,click:_l};yi.drawopenpath={name:"drawopenpath",title:function(e){return $n(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:mi.drawopenpath,click:_l};yi.drawline={name:"drawline",title:function(e){return $n(e,"Draw line")},attr:"dragmode",val:"drawline",icon:mi.drawline,click:_l};yi.drawrect={name:"drawrect",title:function(e){return $n(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:mi.drawrect,click:_l};yi.drawcircle={name:"drawcircle",title:function(e){return $n(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:mi.drawcircle,click:_l};yi.eraseshape={name:"eraseshape",title:function(e){return $n(e,"Erase active shape")},icon:mi.eraseshape,click:_je};yi.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return $n(e,"Zoom in")},attr:"zoom",val:"in",icon:mi.zoom_plus,click:_l};yi.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return $n(e,"Zoom out")},attr:"zoom",val:"out",icon:mi.zoom_minus,click:_l};yi.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return $n(e,"Autoscale")},attr:"zoom",val:"auto",icon:mi.autoscale,click:_l};yi.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return $n(e,"Reset axes")},attr:"zoom",val:"reset",icon:mi.home,click:_l};yi.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return $n(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:mi.tooltip_basic,gravity:"ne",click:_l};yi.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return $n(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:mi.tooltip_compare,gravity:"ne",click:_l};function _l(e,t){var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=e._fullLayout,o={},s=U$.list(e,null,!0),l=a._cartesianSpikesEnabled,u,f;if(n==="zoom"){var c=i==="in"?.5:2,h=(1+c)/2,v=(1-c)/2,b;for(f=0;f<s.length;f++)if(u=s[f],!u.fixedrange)if(b=u._name,i==="auto")o[b+".autorange"]=!0;else if(i==="reset"){if(u._rangeInitial===void 0)o[b+".autorange"]=!0;else{var y=u._rangeInitial.slice();o[b+".range[0]"]=y[0],o[b+".range[1]"]=y[1]}u._showSpikeInitial!==void 0&&(o[b+".showspikes"]=u._showSpikeInitial,l==="on"&&!u._showSpikeInitial&&(l="off"))}else{var x=[u.r2l(u.range[0]),u.r2l(u.range[1])],m=[h*x[0]+v*x[1],h*x[1]+v*x[0]];o[b+".range[0]"]=u.l2r(m[0]),o[b+".range[1]"]=u.l2r(m[1])}}else n==="hovermode"&&(i==="x"||i==="y")&&(i=a._isHoriz?"y":"x",r.setAttribute("data-val",i)),o[n]=i;a._cartesianSpikesEnabled=l,Bf.call("_guiRelayout",e,o)}yi.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return $n(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:mi.zoombox,click:dT};yi.pan3d={name:"pan3d",_cat:"pan",title:function(e){return $n(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:mi.pan,click:dT};yi.orbitRotation={name:"orbitRotation",title:function(e){return $n(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:mi["3d_rotate"],click:dT};yi.tableRotation={name:"tableRotation",title:function(e){return $n(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:mi["z-axis"],click:dT};function dT(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=e._fullLayout._subplots.gl3d||[],o={},s=n.split("."),l=0;l<a.length;l++)o[a[l]+"."+s[1]]=i;var u=i==="pan"?i:"zoom";o.dragmode=u,Bf.call("_guiRelayout",e,o)}yi.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return $n(e,"Reset camera to default")},attr:"resetDefault",icon:mi.home,click:AC};yi.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return $n(e,"Reset camera to last save")},attr:"resetLastSave",icon:mi.movie,click:AC};function AC(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=n==="resetLastSave",a=n==="resetDefault",o=e._fullLayout,s=o._subplots.gl3d||[],l={},u=0;u<s.length;u++){var f=s[u],c=f+".camera",h=f+".aspectratio",v=f+".aspectmode",b=o[f]._scene,y;i?(l[c+".up"]=b.viewInitial.up,l[c+".eye"]=b.viewInitial.eye,l[c+".center"]=b.viewInitial.center,y=!0):a&&(l[c+".up"]=null,l[c+".eye"]=null,l[c+".center"]=null,y=!0),y&&(l[h+".x"]=b.viewInitial.aspectratio.x,l[h+".y"]=b.viewInitial.aspectratio.y,l[h+".z"]=b.viewInitial.aspectratio.z,l[v]=b.viewInitial.aspectmode)}Bf.call("_guiRelayout",e,l)}yi.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return $n(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:mi.tooltip_basic,gravity:"ne",click:Tje};function j$(e,t){var r=t.currentTarget,n=r._previousVal,i=e._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},l={};if(n)l=n,r._previousVal=null;else{for(var u=0;u<a.length;u++){var f=a[u],c=i[f],h=f+".hovermode";s[h]=c.hovermode,l[h]=!1;for(var v=0;v<3;v++){var b=o[v],y=f+"."+b+".showspikes";l[y]=!1,s[y]=c[b].showspikes}}r._previousVal=s}return l}function Tje(e,t){var r=j$(e,t);Bf.call("_guiRelayout",e,r)}yi.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return $n(e,"Zoom in")},attr:"zoom",val:"in",icon:mi.zoom_plus,click:MC};yi.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return $n(e,"Zoom out")},attr:"zoom",val:"out",icon:mi.zoom_minus,click:MC};yi.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return $n(e,"Reset")},attr:"reset",val:null,icon:mi.autoscale,click:MC};yi.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return $n(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:mi.tooltip_basic,gravity:"ne",click:kC};function MC(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,a=e._fullLayout,o=a._subplots.geo||[],s=0;s<o.length;s++){var l=o[s],u=a[l];if(n==="zoom"){var f=u.projection.scale,c=i==="in"?2*f:.5*f;Bf.call("_guiRelayout",e,l+".projection.scale",c)}}n==="reset"&&vT(e,"geo")}yi.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return $n(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:mi.tooltip_basic,gravity:"ne",click:kC};yi.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return $n(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:mi.tooltip_basic,gravity:"ne",click:kC};function V$(e){var t=e._fullLayout;return t.hovermode?!1:t._has("cartesian")?t._isHoriz?"y":"x":"closest"}function kC(e){var t=V$(e);Bf.call("_guiRelayout",e,"hovermode",t)}yi.resetViewSankey={name:"resetSankeyGroup",title:function(e){return $n(e,"Reset view")},icon:mi.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var n=e._fullData[r]._viewInitial;t["node.groups"].push(n.node.groups.slice()),t["node.x"].push(n.node.x.slice()),t["node.y"].push(n.node.y.slice())}Bf.call("restyle",e,t)}};yi.toggleHover={name:"toggleHover",title:function(e){return $n(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:mi.tooltip_basic,gravity:"ne",click:function(e,t){var r=j$(e,t);r.hovermode=V$(e),Bf.call("_guiRelayout",e,r)}};yi.resetViews={name:"resetViews",title:function(e){return $n(e,"Reset views")},icon:mi.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),_l(e,t),r.setAttribute("data-attr","resetLastSave"),AC(e,t),vT(e,"geo"),vT(e,"mapbox")}};yi.toggleSpikelines={name:"toggleSpikelines",title:function(e){return $n(e,"Toggle Spike Lines")},icon:mi.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled=r==="on"?"off":"on",Bf.call("_guiRelayout",e,Aje(e))}};function Aje(e){for(var t=e._fullLayout,r=t._cartesianSpikesEnabled==="on",n=U$.list(e,null,!0),i={},a=0;a<n.length;a++){var o=n[a];i[o._name+".showspikes"]=r?!0:o._showSpikeInitial}return i}yi.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return $n(e,"Reset view")},attr:"reset",icon:mi.home,click:function(e){vT(e,"mapbox")}};yi.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return $n(e,"Zoom in")},attr:"zoom",val:"in",icon:mi.zoom_plus,click:G$};yi.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return $n(e,"Zoom out")},attr:"zoom",val:"out",icon:mi.zoom_minus,click:G$};function G$(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-val"),i=e._fullLayout,a=i._subplots.mapbox||[],o=1.05,s={},l=0;l<a.length;l++){var u=a[l],f=i[u].zoom,c=n==="in"?o*f:f/o;s[u+".zoom"]=c}Bf.call("_guiRelayout",e,s)}function vT(e,t){for(var r=e._fullLayout,n=r._subplots[t]||[],i={},a=0;a<n.length;a++)for(var o=n[a],s=r[o]._subplot,l=s.viewInitial,u=Object.keys(l),f=0;f<u.length;f++){var c=u[f];i[o+"."+c]=l[c]}Bf.call("_guiRelayout",e,i)}});var EC=$((wkt,$$)=>{"use strict";var W$=SC(),Mje=Object.keys(W$),X$=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],Z$=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(X$),em=[],kje=function(e){if(Z$.indexOf(e._cat||e.name)===-1){var t=e.name,r=(e._cat||e.name).toLowerCase();em.indexOf(t)===-1&&em.push(t),em.indexOf(r)===-1&&em.push(r)}};Mje.forEach(function(e){kje(W$[e])});em.sort();$$.exports={DRAW_MODES:X$,backButtons:Z$,foreButtons:em}});var LC=$((_kt,J$)=>{"use strict";var K$=EC();J$.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to add.","Please note that these buttons will only be shown if they are","compatible with all trace types used in a graph.","Similar to `config.modeBarButtonsToAdd` option.","This may include *"+K$.backButtons.join("*, *")+"*."].join(" ")},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to remove.","Similar to `config.modeBarButtonsToRemove` option.","This may include *"+K$.foreButtons.join("*, *")+"*."].join(" ")}}});var eK=$((Tkt,Q$)=>{"use strict";var Sje=pt(),$x=Rr(),Eje=bi(),Lje=LC();Q$.exports=function(t,r){var n=t.modebar||{},i=Eje.newContainer(r,"modebar");function a(s,l){return Sje.coerce(n,i,Lje,s,l)}a("orientation"),a("bgcolor",$x.addOpacity(r.paper_bgcolor,.5));var o=$x.contrast($x.rgb(r.modebar.bgcolor));a("color",$x.addOpacity(o,.3)),a("activecolor",$x.addOpacity(o,.7)),a("uirevision",r.uirevision),a("add"),a("remove")}});var iK=$((Akt,nK)=>{"use strict";var CC=Nr(),Cje=mn(),Sv=pt(),tK=eT(),Dje=E_().version,qje=new DOMParser;function rK(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var qh=rK.prototype;qh.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,i="modebar-"+n._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar",r.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",t=t.reverse());var a=n.modebar,o=r.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";Sv.deleteRelatedStyleRule(i),Sv.addRelatedStyleRule(i,o+"#"+i+" .modebar-group","background-color: "+a.bgcolor),Sv.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),Sv.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),Sv.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var s=!this.hasButtons(t),l=this.hasLogo!==r.displaylogo,u=this.locale!==r.locale;if(this.locale=r.locale,(s||l||u)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var f=this.getLogo();r.watermark&&(f.className=f.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()};qh.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var n=t.createGroup();r.forEach(function(i){var a=i.name;if(!a)throw new Error("must provide button 'name' in button config");if(t.buttonsNames.indexOf(a)!==-1)throw new Error("button name '"+a+"' is taken");t.buttonsNames.push(a);var o=t.createButton(i);t.buttonElements.push(o),n.appendChild(o)}),t.element.appendChild(n)})};qh.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e};qh.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&r.setAttribute("data-title",n),e.attr!==void 0&&r.setAttribute("data-attr",e.attr);var i=e.val;i!==void 0&&(typeof i=="function"&&(i=i(this.graphInfo)),r.setAttribute("data-val",i));var a=e.click;if(typeof a!="function")throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(s){e.click(t.graphInfo,s),t.updateActiveButton(s.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&CC.select(r).classed("active",!0);var o=e.icon;return typeof o=="function"?r.appendChild(o()):r.appendChild(this.createIcon(o||tK.question)),r.setAttribute("data-gravity",e.gravity||"n"),r};qh.createIcon=function(e){var t=Cje(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(r,"svg"),n.setAttribute("viewBox",[0,0,e.width,t].join(" ")),n.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):e.ascent!==void 0&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(i)}if(e.svg){var a=qje.parseFromString(e.svg,"application/xml");n=a.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};qh.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var i=n.getAttribute("data-val")||!0,a=n.getAttribute("data-attr"),o=n.getAttribute("data-toggle")==="true",s=CC.select(n);if(o)a===r&&s.classed("active",!s.classed("active"));else{var l=a===null?a:Sv.nestedProperty(t,a).get();s.classed("active",l===i)}})};qh.hasButtons=function(e){var t=this.buttons;if(!t||e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var n=0;n<e[r].length;n++)if(e[r][n].name!==t[r][n].name)return!1}return!0};function Rje(e){return e+" (v"+Dje+")"}qh.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",Rje(Sv._(this.graphInfo,"Produced with Plotly.js"))),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(tK.newplotlylogo)),e.appendChild(t),e};qh.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};qh.destroy=function(){Sv.removeElement(this.container.querySelector(".modebar")),Sv.deleteRelatedStyleRule(this._uid)};function Ije(e,t){var r=e._fullLayout,n=new rK({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&CC.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}nK.exports=Ije});var sK=$((Mkt,oK)=>{"use strict";var Pje=Io(),aK=ts(),DC=Ir(),Fje=Pf().isUnifiedHover,Nje=iK(),pT=SC(),zje=EC().DRAW_MODES,Oje=pt().extendDeep;oK.exports=function(t){var r=t._fullLayout,n=t._context,i=r._modeBar;if(!n.displayModeBar&&!n.watermark){i&&(i.destroy(),delete r._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var a=n.modeBarButtons,o;Array.isArray(a)&&a.length?o=Gje(a):!n.displayModeBar&&n.watermark?o=[]:o=Bje(t),i?i.update(t,o):r._modeBar=Nje(t,o)};function Bje(e){var t=e._fullLayout,r=e._fullData,n=e._context;function i(F,N){if(typeof N=="string"){if(N.toLowerCase()===F.toLowerCase())return!0}else{var U=N.name,V=N._cat||N.name;if(U===F||V===F.toLowerCase())return!0}return!1}var a=t.modebar.add;typeof a=="string"&&(a=[a]);var o=t.modebar.remove;typeof o=="string"&&(o=[o]);var s=n.modeBarButtonsToAdd.concat(a.filter(function(F){for(var N=0;N<n.modeBarButtonsToRemove.length;N++)if(i(F,n.modeBarButtonsToRemove[N]))return!1;return!0})),l=n.modeBarButtonsToRemove.concat(o.filter(function(F){for(var N=0;N<n.modeBarButtonsToAdd.length;N++)if(i(F,n.modeBarButtonsToAdd[N]))return!1;return!0})),u=t._has("cartesian"),f=t._has("gl3d"),c=t._has("geo"),h=t._has("pie"),v=t._has("funnelarea"),b=t._has("gl2d"),y=t._has("ternary"),x=t._has("mapbox"),m=t._has("polar"),_=t._has("smith"),g=t._has("sankey"),A=Hje(t),w=Fje(t.hovermode),k=[];function p(F){if(F.length){for(var N=[],U=0;U<F.length;U++){for(var V=F[U],Y=pT[V],K=Y.name.toLowerCase(),B=(Y._cat||Y.name).toLowerCase(),z=!1,j=0;j<l.length;j++){var ae=l[j].toLowerCase();if(ae===K||ae===B){z=!0;break}}z||N.push(pT[V])}k.push(N)}}var d=["toImage"];n.showEditInChartStudio?d.push("editInChartStudio"):n.showSendToCloud&&d.push("sendDataToCloud"),p(d);var M=[],T=[],S=[],E=[];(u||b||h||v||y)+c+f+x+m+_>1?(T=["toggleHover"],S=["resetViews"]):c?(M=["zoomInGeo","zoomOutGeo"],T=["hoverClosestGeo"],S=["resetGeo"]):f?(T=["hoverClosest3d"],S=["resetCameraDefault3d","resetCameraLastSave3d"]):x?(M=["zoomInMapbox","zoomOutMapbox"],T=["toggleHover"],S=["resetViewMapbox"]):b?T=["hoverClosestGl2d"]:h?T=["hoverClosestPie"]:g?(T=["hoverClosestCartesian","hoverCompareCartesian"],S=["resetViewSankey"]):T=["toggleHover"],u&&(T=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(jje(r)||w)&&(T=[]),(u||b)&&!A&&(M=["zoomIn2d","zoomOut2d","autoScale2d"],S[0]!=="resetViews"&&(S=["resetScale2d"])),f?E=["zoom3d","pan3d","orbitRotation","tableRotation"]:(u||b)&&!A||y?E=["zoom2d","pan2d"]:x||c?E=["pan2d"]:m&&(E=["zoom2d"]),Uje(r)&&E.push("select2d","lasso2d");var L=[],D=function(F){L.indexOf(F)===-1&&T.indexOf(F)!==-1&&L.push(F)};if(Array.isArray(s)){for(var R=[],q=0;q<s.length;q++){var C=s[q];typeof C=="string"?(C=C.toLowerCase(),zje.indexOf(C)!==-1?(t._has("mapbox")||t._has("cartesian"))&&E.push(C):C==="togglespikelines"?D("toggleSpikelines"):C==="togglehover"?D("toggleHover"):C==="hovercompare"?D("hoverCompareCartesian"):C==="hoverclosest"?(D("hoverClosestCartesian"),D("hoverClosestGeo"),D("hoverClosest3d"),D("hoverClosestGl2d"),D("hoverClosestPie")):C==="v1hovermode"&&(D("toggleHover"),D("hoverClosestCartesian"),D("hoverCompareCartesian"),D("hoverClosestGeo"),D("hoverClosest3d"),D("hoverClosestGl2d"),D("hoverClosestPie"))):R.push(C)}s=R}return p(E),p(M.concat(S)),p(L),Vje(k,s)}function Hje(e){for(var t=Pje.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}function Uje(e){for(var t=!1,r=0;r<e.length&&!t;r++){var n=e[r];!n._module||!n._module.selectPoints||(DC.traceIs(n,"scatter-like")?(aK.hasMarkers(n)||aK.hasText(n))&&(t=!0):DC.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(t=!0):t=!0)}return t}function jje(e){for(var t=0;t<e.length;t++)if(!DC.traceIs(e[t],"noHover"))return!1;return!0}function Vje(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}function Gje(e){for(var t=Oje([],e),r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++){var a=n[i];if(typeof a=="string")if(pT[a]!==void 0)t[r][i]=pT[a];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return t}});var qC=$((kkt,lK)=>{"use strict";lK.exports={moduleType:"component",name:"modebar",layoutAttributes:LC(),supplyLayoutDefaults:eK(),manage:sK()}});var RC=$((Skt,uK)=>{"use strict";var Yje=es().FROM_BL;uK.exports=function(t,r,n){n===void 0&&(n=Yje[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],a=i[0]+(i[1]-i[0])*n;t.range=t._input.range=[t.l2r(a+(i[0]-a)*r),t.l2r(a+(i[1]-a)*r)],t.setScale()}});var Nd=$(Kx=>{"use strict";var Ap=pt(),IC=Pc(),Oc=Io().id2name,Wje=xl(),fK=RC(),Xje=wv(),Zje=Zn().ALMOST_EQUAL,$je=es().FROM_BL;Kx.handleDefaults=function(e,t,r){var n=r.axIds,i=r.axHasImage,a=t._axisConstraintGroups=[],o=t._axisMatchGroups=[],s,l,u,f,c,h,v,b;for(s=0;s<n.length;s++)f=Oc(n[s]),c=e[f],h=t[f],Kje(c,h,{axIds:n,layoutOut:t,hasImage:i[f]});function y(d,M){for(s=0;s<d.length;s++){l=d[s];for(u in l)t[Oc(u)][M]=l}}for(y(o,"_matchGroup"),s=0;s<a.length;s++){l=a[s];for(u in l)if(h=t[Oc(u)],h.fixedrange){for(var x in l){var m=Oc(x);(e[m]||{}).fixedrange===!1&&Ap.warn("fixedrange was specified as false for axis "+m+" but was overridden because another axis in its constraint group has fixedrange true"),t[m].fixedrange=!0}break}}for(s=0;s<a.length;){l=a[s];for(u in l){h=t[Oc(u)],h._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(l).length&&(a.splice(s,1),s--);break}s++}y(a,"_constraintGroup");var _=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],g=!1,A=!1;function w(){b=h[v],v==="rangebreaks"&&(A=h._hasDayOfWeekBreaks)}for(s=0;s<o.length;s++){l=o[s];for(var k=0;k<_.length;k++){v=_[k],b=null;var p;for(u in l)if(f=Oc(u),c=e[f],h=t[f],v in h){if(!h.matches&&(p=h,v in c)){w();break}b===null&&v in c&&w()}if(v==="range"&&b&&(g=!0),v==="autorange"&&b===null&&g&&(b=!1),b===null&&v in p&&(b=p[v]),b!==null)for(u in l)h=t[Oc(u)],h[v]=v==="range"?b.slice():b,v==="rangebreaks"&&(h._hasDayOfWeekBreaks=A,Xje(h,t))}}};function Kje(e,t,r){var n=r.axIds,i=r.layoutOut,a=r.hasImage,o=i._axisConstraintGroups,s=i._axisMatchGroups,l=t._id,u=l.charAt(0),f=((i._splomAxes||{})[u]||{})[l]||{},c=t._id,h=c.charAt(0)==="x";t._matchGroup=null,t._constraintGroup=null;function v(E,L){return Ap.coerce(e,t,Wje,E,L)}v("constrain",a?"domain":"range"),Ap.coerce(e,t,{constraintoward:{valType:"enumerated",values:h?["left","center","right"]:["bottom","middle","top"],dflt:h?"center":"middle"}},"constraintoward");var b=t.type,y,x,m=[];for(y=0;y<n.length;y++)if(x=n[y],x!==c){var _=i[Oc(x)];_.type===b&&m.push(x)}var g=vK(o,c);if(g){var A=[];for(y=0;y<m.length;y++)x=m[y],g[x]||A.push(x);m=A}var w=m.length,k,p;w&&(e.matches||f.matches)&&(k=Ap.coerce(e,t,{matches:{valType:"enumerated",values:m,dflt:m.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var d=a&&!h?t.anchor:void 0;if(w&&!k&&(e.scaleanchor||d)&&(p=Ap.coerce(e,t,{scaleanchor:{valType:"enumerated",values:m}},"scaleanchor",d)),k){t._matchGroup=PC(s,c,k,1);var M=i[Oc(k)],T=cK(i,t)/cK(i,M);h!==(k.charAt(0)==="x")&&(T=(h?"x":"y")+T),PC(o,c,k,T)}else e.matches&&n.indexOf(e.matches)!==-1&&Ap.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(p){var S=v("scaleratio");S||(S=t.scaleratio=1),PC(o,c,p,S)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&Ap.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function cK(e,t){var r=t.domain;return r||(r=e[Oc(t.overlaying)].domain),r[1]-r[0]}function vK(e,t){for(var r=0;r<e.length;r++)if(e[r][t])return e[r];return null}function PC(e,t,r,n){var i,a,o,s,l,u=vK(e,t);u===null?(u={},u[t]=1,l=e.length,e.push(u)):l=e.indexOf(u);var f=Object.keys(u);for(i=0;i<e.length;i++)if(o=e[i],i!==l&&o[r]){var c=o[r];for(a=0;a<f.length;a++)s=f[a],o[s]=FC(c,FC(n,u[s]));e.splice(l,1);return}if(n!==1)for(a=0;a<f.length;a++){var h=f[a];u[h]=FC(n,u[h])}u[r]=1}function FC(e,t){var r="",n="",i,a;typeof e=="string"&&(r=e.match(/^[xy]*/)[0],i=r.length,e=+e.substr(i)),typeof t=="string"&&(n=t.match(/^[xy]*/)[0],a=n.length,t=+t.substr(a));var o=e*t;return!i&&!a?o:!i||!a||r.charAt(0)===n.charAt(0)?r+n+e*t:i===a?o:(i>a?r.substr(a):n.substr(i))+o}function Jje(e,t){for(var r=t._size,n=r.h/r.w,i={},a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=e[s];if(typeof l=="string"){var u=l.match(/^[xy]*/)[0],f=u.length;l=+l.substr(f);for(var c=u.charAt(0)==="y"?n:1/n,h=0;h<f;h++)l*=c}i[s]=l}return i}Kx.enforce=function(t){var r=t._fullLayout,n=r._axisConstraintGroups||[],i,a,o,s,l,u,f,c;for(i=0;i<n.length;i++){o=Jje(n[i],r);var h=Object.keys(o),v=1/0,b=0,y=1/0,x={},m={},_=!1;for(a=0;a<h.length;a++)s=h[a],m[s]=l=r[Oc(s)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),x[s]=u=Math.abs(l._m)/o[s],v=Math.min(v,u),(l.constrain==="domain"||!l._constraintShrinkable)&&(y=Math.min(y,u)),delete l._constraintShrinkable,b=Math.max(b,u),l.constrain==="domain"&&(_=!0);if(!(v>Zje*b&&!_)){for(a=0;a<h.length;a++)if(s=h[a],u=x[s],l=m[s],f=l.constrain,u!==y||f==="domain")if(c=u/y,f==="range")fK(l,c);else{var g=l._inputDomain,A=(l.domain[1]-l.domain[0])/(g[1]-g[0]),w=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if(c/=A,c*w<1){l.domain=l._input.domain=g.slice(),fK(l,c);continue}if(w<1&&(l.range=l._input.range=l._inputRange.slice(),c*=w),l.autorange){var k=l.r2l(l.range[0]),p=l.r2l(l.range[1]),d=(k+p)/2,M=d,T=d,S=Math.abs(p-d),E=d-S*c*1.0001,L=d+S*c*1.0001,D=IC.makePadFn(r,l,0),R=IC.makePadFn(r,l,1);hK(l,c);var q=Math.abs(l._m),C=IC.concatExtremes(t,l),F=C.min,N=C.max,U,V;for(V=0;V<F.length;V++)U=F[V].val-D(F[V])/q,U>E&&U<M&&(M=U);for(V=0;V<N.length;V++)U=N[V].val+R(N[V])/q,U<L&&U>T&&(T=U);var Y=(T-M)/(2*S);c/=Y,M=l.l2r(M),T=l.l2r(T),l.range=l._input.range=k<p?[M,T]:[T,M]}hK(l,c)}}}};Kx.getAxisGroup=function(t,r){for(var n=t._axisMatchGroups,i=0;i<n.length;i++){var a=n[i];if(a[r])return"g"+i}return r};Kx.clean=function(t,r){if(r._inputDomain){for(var n=!1,i=r._id,a=t._fullLayout._axisConstraintGroups,o=0;o<a.length;o++)if(a[o][i]){n=!0;break}(!n||r.constrain!=="domain")&&(r._input.domain=r.domain=r._inputDomain,delete r._inputDomain)}};function hK(e,t){var r=e._inputDomain,n=$je[e.constraintoward],i=r[0]+(r[1]-r[0])*n;e.domain=e._input.domain=[i+(r[0]-i)/t,i+(r[1]-i)/t],e.setScale()}});var rb=$(ns=>{"use strict";var Qje=Nr(),Tl=Ir(),Bc=Zi(),Ev=pt(),NC=Wx(),Jx=Rr(),Qx=un(),eVe=lp(),mK=qC(),eb=tn(),tb=es(),yK=Nd(),tVe=yK.enforce,rVe=yK.clean,dK=Pc().doAutoRange,xK="start",nVe="middle",bK="end";ns.layoutStyles=function(e){return Ev.syncOrAsync([Bc.doAutoMargin,aVe],e)};function iVe(e,t,r){for(var n=0;n<r.length;n++){var i=r[n][0],a=r[n][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&a[0]<t[1]&&a[1]>t[0])return!0}return!1}function aVe(e){var t=e._fullLayout,r=t._size,n=r.p,i=eb.list(e,"",!0),a,o,s,l,u,f;if(t._paperdiv.style({width:e._context.responsive&&t.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":t.width+"px",height:e._context.responsive&&t.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":t.height+"px"}).selectAll(".main-svg").call(Qx.setSize,t.width,t.height),e._context.setBackground(e,t.paper_bgcolor),ns.drawMainTitle(e),mK.manage(e),!t._has("cartesian"))return Bc.previousPromises(e);function c(se,G,Z){var X=se._lw/2;if(se._id.charAt(0)==="x"){if(G){if(Z==="top")return G._offset-n-X}else return r.t+r.h*(1-(se.position||0))+X%1;return G._offset+G._length+n+X}if(G){if(Z==="right")return G._offset+G._length+n+X}else return r.l+r.w*(se.position||0)+X%1;return G._offset-n-X}for(a=0;a<i.length;a++){l=i[a];var h=l._anchorAxis;l._linepositions={},l._lw=Qx.crispRound(e,l.linewidth,1),l._mainLinePosition=c(l,h,l.side),l._mainMirrorPosition=l.mirror&&h?c(l,h,tb.OPPOSITE_SIDE[l.side]):null}var v=[],b=[],y=[],x=Jx.opacity(t.paper_bgcolor)===1&&Jx.opacity(t.plot_bgcolor)===1&&t.paper_bgcolor===t.plot_bgcolor;for(o in t._plots)if(s=t._plots[o],s.mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var m=s.xaxis.domain,_=s.yaxis.domain,g=s.plotgroup;if(iVe(m,_,y)){var A=g.node(),w=s.bg=Ev.ensureSingle(g,"rect","bg");A.insertBefore(w.node(),A.childNodes[0]),b.push(o)}else g.select("rect.bg").remove(),y.push([m,_]),x||(v.push(o),b.push(o))}var k=t._bgLayer.selectAll(".bg").data(v);for(k.enter().append("rect").classed("bg",!0),k.exit().remove(),k.each(function(se){t._plots[se].bg=Qje.select(this)}),a=0;a<b.length;a++)s=t._plots[b[a]],u=s.xaxis,f=s.yaxis,s.bg&&u._offset!==void 0&&f._offset!==void 0&&s.bg.call(Qx.setRect,u._offset-n,f._offset-n,u._length+2*n,f._length+2*n).call(Jx.fill,t.plot_bgcolor).style("stroke-width",0);if(!t._hasOnlyLargeSploms)for(o in t._plots){s=t._plots[o],u=s.xaxis,f=s.yaxis;var p=s.clipId="clip"+t._uid+o+"plot",d=Ev.ensureSingleById(t._clips,"clipPath",p,function(se){se.classed("plotclip",!0).append("rect")});s.clipRect=d.select("rect").attr({width:u._length,height:f._length}),Qx.setTranslate(s.plot,u._offset,f._offset);var M,T;s._hasClipOnAxisFalse?(M=null,T=p):(M=p,T=null),Qx.setClipUrl(s.plot,M,e),s.layerClipId=T}var S,E,L,D,R,q,C,F,N,U,V,Y,K;function B(se){return"M"+S+","+se+"H"+E}function z(se){return"M"+u._offset+","+se+"h"+u._length}function j(se){return"M"+se+","+F+"V"+C}function ae(se){return"M"+se+","+f._offset+"v"+f._length}function ee(se,G,Z){if(!se.showline||o!==se._mainSubplot)return"";if(!se._anchorAxis)return Z(se._mainLinePosition);var X=G(se._mainLinePosition);return se.mirror&&(X+=G(se._mainMirrorPosition)),X}for(o in t._plots){s=t._plots[o],u=s.xaxis,f=s.yaxis;var ve="M0,0";pK(u,o)&&(R=gT(u,"left",f,i),S=u._offset-(R?n+R:0),q=gT(u,"right",f,i),E=u._offset+u._length+(q?n+q:0),L=c(u,f,"bottom"),D=c(u,f,"top"),K=!u._anchorAxis||o!==u._mainSubplot,K&&(u.mirror==="allticks"||u.mirror==="all")&&(u._linepositions[o]=[L,D]),ve=ee(u,B,z),K&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")&&(ve+=B(L)+B(D)),s.xlines.style("stroke-width",u._lw+"px").call(Jx.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",ve);var fe="M0,0";pK(f,o)&&(V=gT(f,"bottom",u,i),C=f._offset+f._length+(V?n:0),Y=gT(f,"top",u,i),F=f._offset-(Y?n:0),N=c(f,u,"left"),U=c(f,u,"right"),K=!f._anchorAxis||o!==f._mainSubplot,K&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[o]=[N,U]),fe=ee(f,j,ae),K&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(fe+=j(N)+j(U)),s.ylines.style("stroke-width",f._lw+"px").call(Jx.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",fe)}return eb.makeClipPaths(e),Bc.previousPromises(e)}function pK(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function gK(e,t,r){if(!r.showline||!r._lw)return!1;if(r.mirror==="all"||r.mirror==="allticks")return!0;var n=r._anchorAxis;if(!n)return!1;var i=tb.FROM_BL[t];return r.side===t?n.domain[i]===e.domain[i]:r.mirror&&n.domain[1-i]===e.domain[1-i]}function gT(e,t,r,n){if(gK(e,t,r))return r._lw;for(var i=0;i<n.length;i++){var a=n[i];if(a._mainAxis===r._mainAxis&&gK(e,t,a))return a._lw}return 0}ns.drawMainTitle=function(e){var t=e._fullLayout,r=lVe(t),n=uVe(t);eVe.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:oVe(t,r),y:sVe(t,n),"text-anchor":r,dy:n}})};function oVe(e,t){var r=e.title,n=e._size,i=0;switch(t===xK?i=r.pad.l:t===bK&&(i=-r.pad.r),r.xref){case"paper":return n.l+n.w*r.x+i;case"container":default:return e.width*r.x+i}}function sVe(e,t){var r=e.title,n=e._size,i=0;if(t==="0em"||!t?i=-r.pad.b:t===tb.CAP_SHIFT+"em"&&(i=r.pad.t),r.y==="auto")return n.t/2;switch(r.yref){case"paper":return n.t+n.h-n.h*r.y+i;case"container":default:return e.height-e.height*r.y+i}}function lVe(e){var t=e.title,r=nVe;return Ev.isRightAnchor(t)?r=bK:Ev.isLeftAnchor(t)&&(r=xK),r}function uVe(e){var t=e.title,r="0em";return Ev.isTopAnchor(t)?r=tb.CAP_SHIFT+"em":Ev.isMiddleAnchor(t)&&(r=tb.MID_SHIFT+"em"),r}ns.doTraceStyle=function(e){var t=e.calcdata,r=[],n;for(n=0;n<t.length;n++){var i=t[n],a=i[0]||{},o=a.trace||{},s=o._module||{},l=s.arraysToCalcdata;l&&l(i,o);var u=s.editStyle;u&&r.push({fn:u,cd0:a})}if(r.length){for(n=0;n<r.length;n++){var f=r[n];f.fn(e,f.cd0)}NC(e),ns.redrawReglTraces(e)}return Bc.style(e),Tl.getComponentMethod("legend","draw")(e),Bc.previousPromises(e)};ns.doColorBars=function(e){return Tl.getComponentMethod("colorbar","draw")(e),Bc.previousPromises(e)};ns.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,Tl.call("_doPlot",e,"",t)};ns.doLegend=function(e){return Tl.getComponentMethod("legend","draw")(e),Bc.previousPromises(e)};ns.doTicksRelayout=function(e){return eb.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Tl.subplotsRegistry.splom.updateGrid(e),NC(e),ns.redrawReglTraces(e)),ns.drawMainTitle(e),Bc.previousPromises(e)};ns.doModeBar=function(e){var t=e._fullLayout;mK.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var n=t._basePlotModules[r].updateFx;n&&n(e)}return Bc.previousPromises(e)};ns.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,n=0;n<r.length;n++){var i=t[r[n]],a=i._scene;a.setViewport(i)}};ns.drawData=function(e){var t=e._fullLayout;NC(e);for(var r=t._basePlotModules,n=0;n<r.length;n++)r[n].plot(e);return ns.redrawReglTraces(e),Bc.style(e),Tl.getComponentMethod("selections","draw")(e),Tl.getComponentMethod("shapes","draw")(e),Tl.getComponentMethod("annotations","draw")(e),Tl.getComponentMethod("images","draw")(e),t._replotting=!1,Bc.previousPromises(e)};ns.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r=e._fullData,n=[],i=[],a,o;for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),a=0;a<r.length;a++){var s=r[a];s.visible===!0&&s._length!==0&&(s.type==="splom"?t._splomScenes[s.uid].draw():s.type==="scattergl"?Ev.pushUnique(n,s.xaxis+s.yaxis):s.type==="scatterpolargl"&&Ev.pushUnique(i,s.subplot))}for(a=0;a<n.length;a++)o=t._plots[n[a]],o._scene&&o._scene.draw();for(a=0;a<i.length;a++)o=t[i[a]]._subplot,o._scene&&o._scene.draw()}};ns.doAutoRangeAndConstraints=function(e){for(var t=eb.list(e,"",!0),r,n={},i=0;i<t.length;i++)if(r=t[i],!n[r._id]){n[r._id]=1,rVe(e,r),dK(e,r);var a=r._matchGroup;if(a)for(var o in a){var s=eb.getFromId(e,o);dK(e,s,r.range),n[o]=1}}tVe(e)};ns.finalDraw=function(e){Tl.getComponentMethod("rangeslider","draw")(e),Tl.getComponentMethod("rangeselector","draw")(e)};ns.drawMarginPushers=function(e){Tl.getComponentMethod("legend","draw")(e),Tl.getComponentMethod("rangeselector","draw")(e),Tl.getComponentMethod("sliders","draw")(e),Tl.getComponentMethod("updatemenus","draw")(e),Tl.getComponentMethod("colorbar","draw")(e)}});var BC=$((Ckt,MK)=>{"use strict";var fVe=bp().readPaths,cVe=uT(),wK=Cd().clearOutlineControllers,zC=Rr(),_K=un(),hVe=bi().arrayEditor,TK=_p(),vVe=TK.getPathString;MK.exports={draw:mT,drawOne:AK,activateLastSelection:gVe};function mT(e){var t=e._fullLayout;wK(e),t._selectionLayer.selectAll("path").remove();for(var r in t._plots){var n=t._plots[r].selectionLayer;n&&n.selectAll("path").remove()}for(var i=0;i<t.selections.length;i++)AK(e,i)}function yT(e){return e._context.editSelection}function AK(e,t){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+t+'"]').remove();var r=TK.makeSelectionsOptionsAndPlotinfo(e,t),n=r.options,i=r.plotinfo;if(!n._input)return;a(e._fullLayout._selectionLayer);function a(o){var s=vVe(e,n),l={"data-index":t,"fill-rule":"evenodd",d:s},u=n.opacity,f="rgba(0,0,0,0)",c=n.line.color||zC.contrast(e._fullLayout.plot_bgcolor),h=n.line.width,v=n.line.dash;h||(h=5,v="solid");var b=yT(e)&&e._fullLayout._activeSelectionIndex===t;b&&(f=e._fullLayout.activeselection.fillcolor,u=e._fullLayout.activeselection.opacity);for(var y=[],x=1;x>=0;x--){var m=o.append("path").attr(l).style("opacity",x?.1:u).call(zC.stroke,c).call(zC.fill,f).call(_K.dashLine,x?"solid":v,x?4+h:h);if(dVe(m,e,n),b){var _=hVe(e.layout,"selections",n);m.style({cursor:"move"});var g={element:m.node(),plotinfo:i,gd:e,editHelpers:_,isActiveSelection:!0},A=fVe(s,e);cVe(A,m,g)}else m.style("pointer-events",x?"all":"none");y[x]=m}var w=y[0],k=y[1];k.node().addEventListener("click",function(){return pVe(e,w)})}}function dVe(e,t,r){var n=r.xref+r.yref;_K.setClipUrl(e,"clip"+t._fullLayout._uid+n,t)}function pVe(e,t){if(yT(e)){var r=t.node(),n=+r.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){OC(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=OC,mT(e)}}}function gVe(e){if(yT(e)){var t=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=t,e._fullLayout._deactivateSelection=OC,mT(e)}}function OC(e){if(yT(e)){var t=e._fullLayout._activeSelectionIndex;t>=0&&(wK(e),delete e._fullLayout._activeSelectionIndex,mT(e))}}});var SK=$((Dkt,kK)=>{function mVe(){var e,t=0,r=!1;function n(i,a){return e.list.push({type:i,data:a?JSON.parse(JSON.stringify(a)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(i,a){return n("check",{seg1:i,seg2:a})},segmentChop:function(i,a){return n("div_seg",{seg:i,pt:a}),n("chop",{seg:i,pt:a})},statusRemove:function(i){return n("pop_seg",{seg:i})},segmentUpdate:function(i){return n("seg_update",{seg:i})},segmentNew:function(i,a){return n("new_seg",{seg:i,primary:a})},segmentRemove:function(i){return n("rem_seg",{seg:i})},tempStatus:function(i,a,o){return n("temp_status",{seg:i,above:a,below:o})},rewind:function(i){return n("rewind",{seg:i})},status:function(i,a,o){return n("status",{seg:i,above:a,below:o})},vert:function(i){return i===r?e:(r=i,n("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),n("log",{txt:i})},reset:function(){return n("reset")},selected:function(i){return n("selected",{segs:i})},chainStart:function(i){return n("chain_start",{seg:i})},chainRemoveHead:function(i,a){return n("chain_rem_head",{index:i,pt:a})},chainRemoveTail:function(i,a){return n("chain_rem_tail",{index:i,pt:a})},chainNew:function(i,a){return n("chain_new",{pt1:i,pt2:a})},chainMatch:function(i){return n("chain_match",{index:i})},chainClose:function(i){return n("chain_close",{index:i})},chainAddHead:function(i,a){return n("chain_add_head",{index:i,pt:a})},chainAddTail:function(i,a){return n("chain_add_tail",{index:i,pt:a})},chainConnect:function(i,a){return n("chain_con",{index1:i,index2:a})},chainReverse:function(i){return n("chain_rev",{index:i})},chainJoin:function(i,a){return n("chain_join",{index1:i,index2:a})},done:function(){return n("done")}},e}kK.exports=mVe});var LK=$((qkt,EK)=>{function yVe(e){typeof e!="number"&&(e=1e-10);var t={epsilon:function(r){return typeof r=="number"&&(e=r),e},pointAboveOrOnLine:function(r,n,i){var a=n[0],o=n[1],s=i[0],l=i[1],u=r[0],f=r[1];return(s-a)*(f-o)-(l-o)*(u-a)>=-e},pointBetween:function(r,n,i){var a=r[1]-n[1],o=i[0]-n[0],s=r[0]-n[0],l=i[1]-n[1],u=s*o+a*l;if(u<e)return!1;var f=o*o+l*l;return!(u-f>-e)},pointsSameX:function(r,n){return Math.abs(r[0]-n[0])<e},pointsSameY:function(r,n){return Math.abs(r[1]-n[1])<e},pointsSame:function(r,n){return t.pointsSameX(r,n)&&t.pointsSameY(r,n)},pointsCompare:function(r,n){return t.pointsSameX(r,n)?t.pointsSameY(r,n)?0:r[1]<n[1]?-1:1:r[0]<n[0]?-1:1},pointsCollinear:function(r,n,i){var a=r[0]-n[0],o=r[1]-n[1],s=n[0]-i[0],l=n[1]-i[1];return Math.abs(a*l-s*o)<e},linesIntersect:function(r,n,i,a){var o=n[0]-r[0],s=n[1]-r[1],l=a[0]-i[0],u=a[1]-i[1],f=o*u-s*l;if(Math.abs(f)<e)return!1;var c=r[0]-i[0],h=r[1]-i[1],v=(l*h-u*c)/f,b=(o*h-s*c)/f,y={alongA:0,alongB:0,pt:[r[0]+v*o,r[1]+v*s]};return v<=-e?y.alongA=-2:v<e?y.alongA=-1:v-1<=-e?y.alongA=0:v-1<e?y.alongA=1:y.alongA=2,b<=-e?y.alongB=-2:b<e?y.alongB=-1:b-1<=-e?y.alongB=0:b-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(r,n){for(var i=r[0],a=r[1],o=n[n.length-1][0],s=n[n.length-1][1],l=!1,u=0;u<n.length;u++){var f=n[u][0],c=n[u][1];c-a>e!=s-a>e&&(o-f)*(a-c)/(s-c)+f-i>e&&(l=!l),o=f,s=c}return l}};return t}EK.exports=yVe});var DK=$((Rkt,CK)=>{var xVe={create:function(){var e={root:{root:!0,next:null},exists:function(t){return!(t===null||t===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var n=e.root,i=e.root.next;i!==null;){if(r(i)){t.prev=i.prev,t.next=i,i.prev.next=t,i.prev=t;return}n=i,i=i.next}n.next=t,t.prev=n,t.next=null},findTransition:function(t){for(var r=e.root,n=e.root.next;n!==null&&!t(n);)r=n,n=n.next;return{before:r===e.root?null:r,after:n,insert:function(i){return i.prev=r,i.next=n,r.next=i,n!==null&&(n.prev=i),i}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};CK.exports=xVe});var RK=$((Ikt,qK)=>{var nb=DK();function bVe(e,t,r){function n(b,y){return{id:r?r.segmentId():-1,start:b,end:y,myFill:{above:null,below:null},otherFill:null}}function i(b,y,x){return{id:r?r.segmentId():-1,start:b,end:y,myFill:{above:x.myFill.above,below:x.myFill.below},otherFill:null}}var a=nb.create();function o(b,y,x,m,_,g){var A=t.pointsCompare(y,_);return A!==0?A:t.pointsSame(x,g)?0:b!==m?b?1:-1:t.pointAboveOrOnLine(x,m?_:g,m?g:_)?1:-1}function s(b,y){a.insertBefore(b,function(x){var m=o(b.isStart,b.pt,y,x.isStart,x.pt,x.other.pt);return m<0})}function l(b,y){var x=nb.node({isStart:!0,pt:b.start,seg:b,primary:y,other:null,status:null});return s(x,b.end),x}function u(b,y,x){var m=nb.node({isStart:!1,pt:y.end,seg:y,primary:x,other:b,status:null});b.other=m,s(m,b.pt)}function f(b,y){var x=l(b,y);return u(x,b,y),x}function c(b,y){r&&r.segmentChop(b.seg,y),b.other.remove(),b.seg.end=y,b.other.pt=y,s(b.other,b.pt)}function h(b,y){var x=i(y,b.seg.end,b.seg);return c(b,y),f(x,b.primary)}function v(b,y){var x=nb.create();function m(R,q){var C=R.seg.start,F=R.seg.end,N=q.seg.start,U=q.seg.end;return t.pointsCollinear(C,N,U)?t.pointsCollinear(F,N,U)||t.pointAboveOrOnLine(F,N,U)?1:-1:t.pointAboveOrOnLine(C,N,U)?1:-1}function _(R){return x.findTransition(function(q){var C=m(R,q.ev);return C>0})}function g(R,q){var C=R.seg,F=q.seg,N=C.start,U=C.end,V=F.start,Y=F.end;r&&r.checkIntersection(C,F);var K=t.linesIntersect(N,U,V,Y);if(K===!1){if(!t.pointsCollinear(N,U,V)||t.pointsSame(N,Y)||t.pointsSame(U,V))return!1;var B=t.pointsSame(N,V),z=t.pointsSame(U,Y);if(B&&z)return q;var j=!B&&t.pointBetween(N,V,Y),ae=!z&&t.pointBetween(U,V,Y);if(B)return ae?h(q,U):h(R,Y),q;j&&(z||(ae?h(q,U):h(R,Y)),h(q,N))}else K.alongA===0&&(K.alongB===-1?h(R,V):K.alongB===0?h(R,K.pt):K.alongB===1&&h(R,Y)),K.alongB===0&&(K.alongA===-1?h(q,N):K.alongA===0?h(q,K.pt):K.alongA===1&&h(q,U));return!1}for(var A=[];!a.isEmpty();){var w=a.getHead();if(r&&r.vert(w.pt[0]),w.isStart){let R=function(){if(p){var q=g(w,p);if(q)return q}return d?g(w,d):!1};var D=R;r&&r.segmentNew(w.seg,w.primary);var k=_(w),p=k.before?k.before.ev:null,d=k.after?k.after.ev:null;r&&r.tempStatus(w.seg,p?p.seg:!1,d?d.seg:!1);var M=R();if(M){if(e){var T;w.seg.myFill.below===null?T=!0:T=w.seg.myFill.above!==w.seg.myFill.below,T&&(M.seg.myFill.above=!M.seg.myFill.above)}else M.seg.otherFill=w.seg.myFill;r&&r.segmentUpdate(M.seg),w.other.remove(),w.remove()}if(a.getHead()!==w){r&&r.rewind(w.seg);continue}if(e){var T;w.seg.myFill.below===null?T=!0:T=w.seg.myFill.above!==w.seg.myFill.below,d?w.seg.myFill.below=d.seg.myFill.above:w.seg.myFill.below=b,T?w.seg.myFill.above=!w.seg.myFill.below:w.seg.myFill.above=w.seg.myFill.below}else if(w.seg.otherFill===null){var S;d?w.primary===d.primary?S=d.seg.otherFill.above:S=d.seg.myFill.above:S=w.primary?y:b,w.seg.otherFill={above:S,below:S}}r&&r.status(w.seg,p?p.seg:!1,d?d.seg:!1),w.other.status=k.insert(nb.node({ev:w}))}else{var E=w.status;if(E===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(x.exists(E.prev)&&x.exists(E.next)&&g(E.prev.ev,E.next.ev),r&&r.statusRemove(E.ev.seg),E.remove(),!w.primary){var L=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=L}A.push(w.seg)}a.getHead().remove()}return r&&r.done(),A}return e?{addRegion:function(b){for(var y,x=b[b.length-1],m=0;m<b.length;m++){y=x,x=b[m];var _=t.pointsCompare(y,x);_!==0&&f(n(_<0?y:x,_<0?x:y),!0)}},calculate:function(b){return v(b,!1)}}:{calculate:function(b,y,x,m){return b.forEach(function(_){f(i(_.start,_.end,_),!0)}),x.forEach(function(_){f(i(_.start,_.end,_),!1)}),v(y,m)}}}qK.exports=bVe});var PK=$((Pkt,IK)=>{function wVe(e,t,r){var n=[],i=[];return e.forEach(function(a){var o=a.start,s=a.end;if(t.pointsSame(o,s)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}r&&r.chainStart(a);var l={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},f=l;function c(D,R,q){return f.index=D,f.matches_head=R,f.matches_pt1=q,f===l?(f=u,!1):(f=null,!0)}for(var h=0;h<n.length;h++){var v=n[h],b=v[0],y=v[1],x=v[v.length-1],m=v[v.length-2];if(t.pointsSame(b,o)){if(c(h,!0,!0))break}else if(t.pointsSame(b,s)){if(c(h,!0,!1))break}else if(t.pointsSame(x,o)){if(c(h,!1,!0))break}else if(t.pointsSame(x,s)&&c(h,!1,!1))break}if(f===l){n.push([o,s]),r&&r.chainNew(o,s);return}if(f===u){r&&r.chainMatch(l.index);var _=l.index,g=l.matches_pt1?s:o,A=l.matches_head,v=n[_],w=A?v[0]:v[v.length-1],k=A?v[1]:v[v.length-2],p=A?v[v.length-1]:v[0],d=A?v[v.length-2]:v[1];if(t.pointsCollinear(k,w,g)&&(A?(r&&r.chainRemoveHead(l.index,g),v.shift()):(r&&r.chainRemoveTail(l.index,g),v.pop()),w=k),t.pointsSame(p,g)){n.splice(_,1),t.pointsCollinear(d,p,w)&&(A?(r&&r.chainRemoveTail(l.index,w),v.pop()):(r&&r.chainRemoveHead(l.index,w),v.shift())),r&&r.chainClose(l.index),i.push(v);return}A?(r&&r.chainAddHead(l.index,g),v.unshift(g)):(r&&r.chainAddTail(l.index,g),v.push(g));return}function M(D){r&&r.chainReverse(D),n[D].reverse()}function T(D,R){var q=n[D],C=n[R],F=q[q.length-1],N=q[q.length-2],U=C[0],V=C[1];t.pointsCollinear(N,F,U)&&(r&&r.chainRemoveTail(D,F),q.pop(),F=N),t.pointsCollinear(F,U,V)&&(r&&r.chainRemoveHead(R,U),C.shift()),r&&r.chainJoin(D,R),n[D]=q.concat(C),n.splice(R,1)}var S=l.index,E=u.index;r&&r.chainConnect(S,E);var L=n[S].length<n[E].length;l.matches_head?u.matches_head?L?(M(S),T(S,E)):(M(E),T(E,S)):T(E,S):u.matches_head?T(S,E):L?(M(S),T(E,S)):(M(E),T(S,E))}),i}IK.exports=wVe});var NK=$((Fkt,FK)=>{function ib(e,t,r){var n=[];return e.forEach(function(i){var a=(i.myFill.above?8:0)+(i.myFill.below?4:0)+(i.otherFill&&i.otherFill.above?2:0)+(i.otherFill&&i.otherFill.below?1:0);t[a]!==0&&n.push({id:r?r.segmentId():-1,start:i.start,end:i.end,myFill:{above:t[a]===1,below:t[a]===2},otherFill:null})}),r&&r.selected(n),n}var _Ve={union:function(e,t){return ib(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return ib(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return ib(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return ib(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return ib(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};FK.exports=_Ve});var OK=$((Nkt,zK)=>{var TVe={toPolygon:function(e,t){function r(a){if(a.length<=0)return e.segments({inverted:!1,regions:[]});function o(u){var f=u.slice(0,u.length-1);return e.segments({inverted:!1,regions:[f]})}for(var s=o(a[0]),l=1;l<a.length;l++)s=e.selectDifference(e.combine(s,o(a[l])));return s}if(t.type==="Polygon")return e.polygon(r(t.coordinates));if(t.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)n=e.selectUnion(e.combine(n,r(t.coordinates[i])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){r=e.polygon(e.segments(r));function n(v,b){return t.pointInsideRegion([(v[0][0]+v[1][0])*.5,(v[0][1]+v[1][1])*.5],b)}function i(v){return{region:v,children:[]}}var a=i(null);function o(v,b){for(var y=0;y<v.children.length;y++){var x=v.children[y];if(n(b,x.region)){o(x,b);return}}for(var m=i(b),y=0;y<v.children.length;y++){var x=v.children[y];n(x.region,b)&&(m.children.push(x),v.children.splice(y,1),y--)}v.children.push(m)}for(var s=0;s<r.regions.length;s++){var l=r.regions[s];l.length<3||o(a,l)}function u(v,b){for(var y=0,x=v[v.length-1][0],m=v[v.length-1][1],_=[],g=0;g<v.length;g++){var A=v[g][0],w=v[g][1];_.push([A,w]),y+=w*x-A*m,x=A,m=w}var k=y<0;return k!==b&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var f=[];function c(v){var b=[u(v.region,!1)];f.push(b);for(var y=0;y<v.children.length;y++)b.push(h(v.children[y]))}function h(v){for(var b=0;b<v.children.length;b++)c(v.children[b]);return u(v.region,!0)}for(var s=0;s<a.children.length;s++)c(a.children[s]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};zK.exports=TVe});var jK=$((zkt,UK)=>{var AVe=SK(),MVe=LK(),BK=RK(),kVe=PK(),ab=NK(),HK=OK(),Hf=!1,ob=MVe(),Lu;Lu={buildLog:function(e){return e===!0?Hf=AVe():e===!1&&(Hf=!1),Hf===!1?!1:Hf.list},epsilon:function(e){return ob.epsilon(e)},segments:function(e){var t=BK(!0,ob,Hf);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var r=BK(!1,ob,Hf);return{combined:r.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:ab.union(e.combined,Hf),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:ab.intersect(e.combined,Hf),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:ab.difference(e.combined,Hf),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:ab.differenceRev(e.combined,Hf),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:ab.xor(e.combined,Hf),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:kVe(e.segments,ob,Hf),inverted:e.inverted}},polygonFromGeoJSON:function(e){return HK.toPolygon(Lu,e)},polygonToGeoJSON:function(e){return HK.fromPolygon(Lu,ob,e)},union:function(e,t){return sb(e,t,Lu.selectUnion)},intersect:function(e,t){return sb(e,t,Lu.selectIntersect)},difference:function(e,t){return sb(e,t,Lu.selectDifference)},differenceRev:function(e,t){return sb(e,t,Lu.selectDifferenceRev)},xor:function(e,t){return sb(e,t,Lu.selectXor)}};function sb(e,t,r){var n=Lu.segments(e),i=Lu.segments(t),a=Lu.combine(n,i),o=r(a);return Lu.polygon(o)}typeof window=="object"&&(window.PolyBool=Lu);UK.exports=Lu});var GK=$((Okt,VK)=>{VK.exports=function(t,r,n,i){var a=t[0],o=t[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var l=i-n,u=0,f=l-1;u<l;f=u++){var c=r[u+n][0],h=r[u+n][1],v=r[f+n][0],b=r[f+n][1],y=h>o!=b>o&&a<(v-c)*(o-h)/(b-h)+c;y&&(s=!s)}return s}});var lb=$((Bkt,YK)=>{"use strict";var HC=G_().dot,xT=Zn().BADNUM,bT=YK.exports={};bT.tester=function(t){var r=t.slice(),n=r[0][0],i=n,a=r[0][1],o=a,s;for((r[r.length-1][0]!==r[0][0]||r[r.length-1][1]!==r[0][1])&&r.push(r[0]),s=1;s<r.length;s++)n=Math.min(n,r[s][0]),i=Math.max(i,r[s][0]),a=Math.min(a,r[s][1]),o=Math.max(o,r[s][1]);var l=!1,u;r.length===5&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(l=!0,u=function(b){return b[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(l=!0,u=function(b){return b[1]===r[0][1]}));function f(b,y){var x=b[0],m=b[1];return!(x===xT||x<n||x>i||m===xT||m<a||m>o||y&&u(b))}function c(b,y){var x=b[0],m=b[1];if(x===xT||x<n||x>i||m===xT||m<a||m>o)return!1;var _=r.length,g=r[0][0],A=r[0][1],w=0,k,p,d,M,T;for(k=1;k<_;k++)if(p=g,d=A,g=r[k][0],A=r[k][1],M=Math.min(p,g),!(x<M||x>Math.max(p,g)||m>Math.max(d,A)))if(m<Math.min(d,A))x!==M&&w++;else{if(g===p?T=m:T=d+(x-p)*(A-d)/(g-p),m===T)return!(k===1&&y);m<=T&&x!==M&&w++}return w%2===1}var h=!0,v=r[0];for(s=1;s<r.length;s++)if(v[0]!==r[s][0]||v[1]!==r[s][1]){h=!1;break}return{xmin:n,xmax:i,ymin:a,ymax:o,pts:r,contains:l?f:c,isRect:l,degenerate:h}};bT.isSegmentBent=function(t,r,n,i){var a=t[r],o=[t[n][0]-a[0],t[n][1]-a[1]],s=HC(o,o),l=Math.sqrt(s),u=[-o[1]/l,o[0]/l],f,c,h;for(f=r+1;f<n;f++)if(c=[t[f][0]-a[0],t[f][1]-a[1]],h=HC(c,o),h<0||h>s||Math.abs(HC(c,u))>i)return!0;return!1};bT.filter=function(t,r){var n=[t[0]],i=0,a=0;function o(l){t.push(l);var u=n.length,f=i;n.splice(a+1);for(var c=f+1;c<t.length;c++)(c===t.length-1||bT.isSegmentBent(t,f,c+1,r))&&(n.push(t[c]),n.length<u-2&&(i=c,a=n.length-1),f=c)}if(t.length>1){var s=t.pop();o(s)}return{addPt:o,raw:t,filtered:n}}});var XK=$((Hkt,WK)=>{"use strict";WK.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var gJ=$((Ukt,pJ)=>{"use strict";var ZK=jK(),SVe=GK(),fb=Ir(),EVe=un().dashStyle,UC=Rr(),LVe=lo(),CVe=Pf().makeEventData,pb=Pd(),DVe=pb.freeMode,qVe=pb.rectMode,cb=pb.drawMode,YC=pb.openMode,WC=pb.selectMode,$K=_p(),KK=Zx(),rJ=uT(),nJ=Cd().clearOutline,iJ=bp(),jC=iJ.handleEllipse,RVe=iJ.readPaths,IVe=dC(),PVe=gC(),FVe=BC().activateLastSelection,_T=pt(),NVe=_T.sorterAsc,aJ=lb(),ub=n3(),Uf=Io().getFromId,zVe=Wx(),OVe=rb().redrawReglTraces,TT=XK(),Rh=TT.MINSELECT,BVe=aJ.filter,XC=aJ.tester,ZC=nT(),JK=ZC.p2r,HVe=ZC.axValue,UVe=ZC.getTransform;function $C(e){return e.subplot!==void 0}function jVe(e,t,r,n,i){var a=!$C(n),o=DVe(i),s=qVe(i),l=YC(i),u=cb(i),f=WC(i),c=i==="drawline",h=i==="drawcircle",v=c||h,b=n.gd,y=b._fullLayout,x=f&&y.newselection.mode==="immediate"&&a,m=y._zoomlayer,_=n.element.getBoundingClientRect(),g=n.plotinfo,A=UVe(g),w=t-_.left,k=r-_.top;y._calcInverseTransform(b);var p=_T.apply3DTransform(y._invTransform)(w,k);w=p[0],k=p[1];var d=y._invScaleX,M=y._invScaleY,T=w,S=k,E="M"+w+","+k,L=n.xaxes[0],D=n.yaxes[0],R=L._length,q=D._length,C=e.altKey&&!(cb(i)&&l),F,N,U,V,Y,K,B;sJ(e,b,n),o&&(F=BVe([[w,k]],TT.BENDPX));var z=m.selectAll("path.select-outline-"+g.id).data([1]),j=u?y.newshape:y.newselection;z.enter().append("path").attr("class","select-outline select-outline-"+g.id).style({opacity:u?j.opacity/2:1,fill:u&&!l?j.fillcolor:"none",stroke:j.line.color||(a?UC.contrast(b._fullLayout.plot_bgcolor):"#7f7f7f"),"stroke-dasharray":EVe(j.line.dash,j.line.width),"stroke-width":j.line.width+"px","shape-rendering":"crispEdges"}).attr("fill-rule","evenodd").classed("cursor-move",!!u).attr("transform",A).attr("d",E+"Z");var ae=m.append("path").attr("class","zoombox-corners").style({fill:UC.background,stroke:UC.defaultLine,"stroke-width":1}).attr("transform",A).attr("d","M0,0Z"),ee=y._uid+TT.SELECTID,ve=[],fe=AT(b,n.xaxes,n.yaxes,n.subplot);x&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(a){var G=L._id,Z=D._id;hJ(b,G,Z,fe);for(var X=(b.layout||{}).selections||[],ge=[],qe=!1,Pe=0;Pe<X.length;Pe++){var Oe=y.selections[Pe];Oe.xref!==G||Oe.yref!==Z?ge.push(X[Pe]):qe=!0}qe&&(b._fullLayout._noEmitSelectedAtStart=!0,fb.call("_guiRelayout",b,{selections:ge}))}});var se=nGe(n);n.moveFn=function(G,Z){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),T=Math.max(0,Math.min(R,d*G+w)),S=Math.max(0,Math.min(q,M*Z+k));var X=Math.abs(T-w),ge=Math.abs(S-k);if(s){var qe,Pe,Oe;if(f){var de=y.selectdirection;switch(de==="any"?ge<Math.min(X*.6,Rh)?qe="h":X<Math.min(ge*.6,Rh)?qe="v":qe="d":qe=de,qe){case"h":Pe=h?q/2:0,Oe=q;break;case"v":Pe=h?R/2:0,Oe=R;break}}if(u)switch(y.newshape.drawdirection){case"vertical":qe="h",Pe=h?q/2:0,Oe=q;break;case"horizontal":qe="v",Pe=h?R/2:0,Oe=R;break;case"ortho":X<ge?(qe="h",Pe=k,Oe=S):(qe="v",Pe=w,Oe=T);break;default:qe="d"}qe==="h"?(V=v?jC(h,[T,Pe],[T,Oe]):[[w,Pe],[w,Oe],[T,Oe],[T,Pe]],V.xmin=v?T:Math.min(w,T),V.xmax=v?T:Math.max(w,T),V.ymin=Math.min(Pe,Oe),V.ymax=Math.max(Pe,Oe),ae.attr("d","M"+V.xmin+","+(k-Rh)+"h-4v"+2*Rh+"h4ZM"+(V.xmax-1)+","+(k-Rh)+"h4v"+2*Rh+"h-4Z")):qe==="v"?(V=v?jC(h,[Pe,S],[Oe,S]):[[Pe,k],[Pe,S],[Oe,S],[Oe,k]],V.xmin=Math.min(Pe,Oe),V.xmax=Math.max(Pe,Oe),V.ymin=v?S:Math.min(k,S),V.ymax=v?S:Math.max(k,S),ae.attr("d","M"+(w-Rh)+","+V.ymin+"v-4h"+2*Rh+"v4ZM"+(w-Rh)+","+(V.ymax-1)+"v4h"+2*Rh+"v-4Z")):qe==="d"&&(V=v?jC(h,[w,k],[T,S]):[[w,k],[w,S],[T,S],[T,k]],V.xmin=Math.min(w,T),V.xmax=Math.max(w,T),V.ymin=Math.min(k,S),V.ymax=Math.max(k,S),ae.attr("d","M0,0Z"))}else o&&(F.addPt([T,S]),V=F.filtered);if(n.selectionDefs&&n.selectionDefs.length?(U=lJ(n.mergedPolygons,V,C),V.subtract=C,N=KC(n.selectionDefs.concat([V]))):(U=[V],N=XC(V)),rJ(fJ(U,l),z,n),f){var _e=GC(b,!1),ce=_e.eventData?_e.eventData.points.slice():[];_e=GC(b,!1,N,fe,n),N=_e.selectionTesters,B=_e.eventData;var J;F?J=F.filtered:J=vJ(U),ub.throttle(ee,TT.SELECTDELAY,function(){ve=cJ(N,fe);for(var ne=ve.slice(),be=0;be<ce.length;be++){for(var Fe=ce[be],He=!1,te=0;te<ne.length;te++)if(ne[te].curveNumber===Fe.curveNumber&&ne[te].pointNumber===Fe.pointNumber){He=!0;break}He||ne.push(Fe)}ne.length&&(B||(B={}),B.points=ne),se(B,J),iGe(b,B)})}},n.clickFn=function(G,Z){if(ae.remove(),b._fullLayout._activeShapeIndex>=0){b._fullLayout._deactivateShape(b);return}if(!u){var X=y.clickmode;ub.done(ee).then(function(){if(ub.clear(ee),G===2){for(z.remove(),Y=0;Y<fe.length;Y++)K=fe[Y],K._module.selectPoints(K,!1);if(vb(b,fe),hb(n),QC(b),fe.length){var ge=fe[0].xaxis,qe=fe[0].yaxis;if(ge&&qe){for(var Pe=[],Oe=b._fullLayout.selections,de=0;de<Oe.length;de++){var _e=Oe[de];_e&&(_e.xref!==ge._id||_e.yref!==qe._id)&&Pe.push(_e)}Pe.length<Oe.length&&(b._fullLayout._noEmitSelectedAtStart=!0,fb.call("_guiRelayout",b,{selections:Pe}))}}}else X.indexOf("select")>-1&&oJ(Z,b,n.xaxes,n.yaxes,n.subplot,n,z),X==="event"&&db(b,void 0);LVe.click(b,Z)}).catch(_T.error)}},n.doneFn=function(){ae.remove(),ub.done(ee).then(function(){ub.clear(ee),!x&&V&&n.selectionDefs&&(V.subtract=C,n.selectionDefs.push(V),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,U)),(x||u)&&hb(n,x),n.doneFnCompleted&&n.doneFnCompleted(ve),f&&db(b,B)}).catch(_T.error)}}function oJ(e,t,r,n,i,a,o){var s=t._hoverdata,l=t._fullLayout,u=l.clickmode,f=u.indexOf("event")>-1,c=[],h,v,b,y,x,m,_,g,A,w;if(XVe(s)){sJ(e,t,a),h=AT(t,r,n,i);var k=ZVe(s,h),p=k.pointNumbers.length>0;if(p?$Ve(h,k):KVe(h)&&(_=eJ(k))){for(o&&o.remove(),w=0;w<h.length;w++)v=h[w],v._module.selectPoints(v,!1);vb(t,h),hb(a),f&&QC(t)}else{g=e.shiftKey&&(_!==void 0?_:eJ(k)),b=VVe(k.pointNumber,k.searchInfo,g);var d=a.selectionDefs.concat([b]);for(y=KC(d,y),w=0;w<h.length;w++)if(x=h[w]._module.selectPoints(h[w],y),m=uJ(x,h[w]),c.length)for(var M=0;M<m.length;M++)c.push(m[M]);else c=m;if(A={points:c},vb(t,h,A),b&&a&&a.selectionDefs.push(b),o){var T=a.mergedPolygons,S=YC(a.dragmode);rJ(fJ(T,S),o,a)}f&&db(t,A)}}}function VVe(e,t,r){return{pointNumber:e,searchInfo:t,subtract:!!r}}function VC(e){return"pointNumber"in e&&"searchInfo"in e}function GVe(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,n,i){var a=e.searchInfo.cd[0].trace._expandedIndex,o=i.cd[0].trace._expandedIndex;return o===a&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function KC(e){if(!e.length)return;for(var t=[],r=VC(e[0])?0:e[0][0][0],n=r,i=VC(e[0])?0:e[0][0][1],a=i,o=0;o<e.length;o++)if(VC(e[o]))t.push(GVe(e[o]));else{var s=XC(e[o]);s.subtract=!!e[o].subtract,t.push(s),r=Math.min(r,s.xmin),n=Math.max(n,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}function l(u,f,c,h){for(var v=!1,b=0;b<t.length;b++)t[b].contains(u,f,c,h)&&(v=!t[b].subtract);return v}return{xmin:r,xmax:n,ymin:i,ymax:a,pts:[],contains:l,isRect:!1,degenerate:!1}}function sJ(e,t,r){var n=t._fullLayout,i=r.plotinfo,a=r.dragmode,o=n._lastSelectedSubplot&&n._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(cb(a)&&YC(a));o&&s&&i.selection&&i.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=i.selection.selectionDefs,r.mergedPolygons=i.selection.mergedPolygons):(!s||!i.selection)&&hb(r),o||(nJ(t),n._lastSelectedSubplot=i.id)}function YVe(e){return e._fullLayout._activeShapeIndex>=0}function WVe(e){return e._fullLayout._activeSelectionIndex>=0}function hb(e,t){var r=e.dragmode,n=e.plotinfo,i=e.gd;YVe(i)&&i._fullLayout._deactivateShape(i),WVe(i)&&i._fullLayout._deactivateSelection(i);var a=i._fullLayout,o=a._zoomlayer,s=cb(r),l=WC(r);if(s||l){var u=o.selectAll(".select-outline-"+n.id);if(u&&i._fullLayout._outlining){var f;s&&(f=IVe(u,e)),f&&fb.call("_guiRelayout",i,{shapes:f});var c;l&&!$C(e)&&(c=PVe(u,e)),c&&(i._fullLayout._noEmitSelectedAtStart=!0,fb.call("_guiRelayout",i,{selections:c}).then(function(){t&&FVe(i)})),i._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function QK(e){return e._id}function AT(e,t,r,n){if(!e.calcdata)return[];var i=[],a=t.map(QK),o=r.map(QK),s,l,u;for(u=0;u<e.calcdata.length;u++)if(s=e.calcdata[u],l=s[0].trace,!(l.visible!==!0||!l._module||!l._module.selectPoints))if($C({subplot:n})&&(l.subplot===n||l.geo===n))i.push(wT(l._module,s,t[0],r[0]));else if(l.type==="splom"){if(l._xaxes[a[0]]&&l._yaxes[o[0]]){var f=wT(l._module,s,t[0],r[0]);f.scene=e._fullLayout._splomScenes[l.uid],i.push(f)}}else if(l.type==="sankey"){var c=wT(l._module,s,t[0],r[0]);i.push(c)}else{if(a.indexOf(l.xaxis)===-1||o.indexOf(l.yaxis)===-1)continue;i.push(wT(l._module,s,Uf(e,l.xaxis),Uf(e,l.yaxis)))}return i}function wT(e,t,r,n){return{_module:e,cd:t,xaxis:r,yaxis:n}}function XVe(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function ZVe(e,t){var r=e[0],n=-1,i=[],a,o;for(o=0;o<t.length;o++)if(a=t[o],r.fullData._expandedIndex===a.cd[0].trace._expandedIndex){if(r.hoverOnBox===!0)break;r.pointNumber!==void 0?n=r.pointNumber:r.binNumber!==void 0&&(n=r.binNumber,i=r.pointNumbers);break}return{pointNumber:n,pointNumbers:i,searchInfo:a}}function eJ(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,n=e.pointNumbers,i=n.length>0,a=i?n[0]:r;return t.selectedpoints?t.selectedpoints.indexOf(a)>-1:!1}function $Ve(e,t){var r=[],n,i,a,o;for(o=0;o<e.length;o++)n=e[o],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&r.push(n);if(r.length===1&&(a=r[0]===t.searchInfo,a&&(i=t.searchInfo.cd[0].trace,i.selectedpoints.length===t.pointNumbers.length))){for(o=0;o<t.pointNumbers.length;o++)if(i.selectedpoints.indexOf(t.pointNumbers[o])<0)return!1;return!0}return!1}function KVe(e){var t=0,r,n,i;for(i=0;i<e.length;i++)if(r=e[i],n=r.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(t+=n.selectedpoints.length,t>1)))return!1;return t===1}function vb(e,t,r){var n;for(n=0;n<t.length;n++){var i=t[n].cd[0].trace._fullInput,a=e._fullLayout._tracePreGUI[i.uid]||{};a.selectedpoints===void 0&&(a.selectedpoints=i._input.selectedpoints||null)}var o;if(r){var s=r.points||[];for(n=0;n<t.length;n++)o=t[n].cd[0].trace,o._input.selectedpoints=o._fullInput.selectedpoints=[],o._fullInput!==o&&(o.selectedpoints=[]);for(var l=0;l<s.length;l++){var u=s[l],f=u.data,c=u.fullData,h=u.pointIndex,v=u.pointIndices;v?([].push.apply(f.selectedpoints,v),o._fullInput!==o&&[].push.apply(c.selectedpoints,v)):(f.selectedpoints.push(h),o._fullInput!==o&&c.selectedpoints.push(h))}}else for(n=0;n<t.length;n++)o=t[n].cd[0].trace,delete o.selectedpoints,delete o._input.selectedpoints,o._fullInput!==o&&delete o._fullInput.selectedpoints;JVe(e,t)}function JVe(e,t){for(var r=!1,n=0;n<t.length;n++){var i=t[n],a=i.cd;fb.traceIs(a[0].trace,"regl")&&(r=!0);var o=i._module,s=o.styleOnSelect||o.style;s&&(s(e,a,a[0].node3),a[0].nodeRangePlot3&&s(e,a,a[0].nodeRangePlot3))}r&&(zVe(e),OVe(e))}function lJ(e,t,r){for(var n=r?ZK.difference:ZK.union,i=n({regions:e},{regions:[t]}),a=i.regions.reverse(),o=0;o<a.length;o++){var s=a[o];s.subtract=JC(s,a.slice(0,o))}return a}function uJ(e,t){if(Array.isArray(e))for(var r=t.cd,n=t.cd[0].trace,i=0;i<e.length;i++)e[i]=CVe(e[i],n,r);return e}function fJ(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var i=0;i<e[n].length;i++){r[n][i]=[],r[n][i][0]=i?"L":"M";for(var a=0;a<e[n][i].length;a++)r[n][i].push(e[n][i][a])}t||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}function cJ(e,t){for(var r=[],n,i=[],a,o=0;o<t.length;o++){var s=t[o];a=s._module.selectPoints(s,e),i.push(a),n=uJ(a,s),r=r.concat(n)}return r}function GC(e,t,r,n,i){var a=!!n,o,s,l;i&&(o=i.plotinfo,s=i.xaxes[0]._id,l=i.yaxes[0]._id);var u=[],f=[],c=tJ(e),h=e._fullLayout;if(o){var v=h._zoomlayer,b=h.dragmode,y=cb(b),x=WC(b);if(y||x){var m=Uf(e,s,"x"),_=Uf(e,l,"y");if(m&&_){var g=v.selectAll(".select-outline-"+o.id);if(g&&e._fullLayout._outlining&&g.length){for(var A=g[0][0],w=A.getAttribute("d"),k=RVe(w,e,o),p=[],d=0;d<k.length;d++){for(var M=k[d],T=[],S=0;S<M.length;S++)T.push([zd(m,M[S][1]),zd(_,M[S][2])]);T.xref=s,T.yref=l,T.subtract=JC(T,p),p.push(T)}c=c.concat(p)}}}}var E=s&&l?[s+l]:h._subplots.cartesian;QVe(e);for(var L={},D=0;D<E.length;D++){var R=E[D],q=R.indexOf("y"),C=R.slice(0,q),F=R.slice(q),N=s&&l?r:void 0;if(N=tGe(c,C,F,N),N){var U=n;if(!a){var V=Uf(e,C,"x"),Y=Uf(e,F,"y");U=AT(e,[V],[Y],R);for(var K=0;K<U.length;K++){var B=U[K],z=B.cd[0],j=z.trace;if(B._module.name==="scattergl"&&!z.t.xpx){var ae=j.x,ee=j.y,ve=j._length;z.t.xpx=[],z.t.ypx=[];for(var fe=0;fe<ve;fe++)z.t.xpx[fe]=V.c2p(ae[fe]),z.t.ypx[fe]=Y.c2p(ee[fe])}B._module.name==="splom"&&(L[j.uid]||(L[j.uid]=!0))}}var se=cJ(N,U);u=u.concat(se),f=f.concat(U)}}var G={points:u};vb(e,f,G);var Z=h.clickmode,X=Z.indexOf("event")>-1&&t;if(!o&&t){var ge=tJ(e,!0);if(ge.length){var qe=ge[0].xref,Pe=ge[0].yref;if(qe&&Pe){var Oe=vJ(ge),de=dJ([Uf(e,qe,"x"),Uf(e,Pe,"y")]);de(G,Oe)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:X&&db(e,G),h._reselect=!1}if(!o&&h._deselect){var _e=h._deselect;s=_e.xref,l=_e.yref,eGe(s,l,f)||hJ(e,s,l,n),X&&(G.points.length?db(e,G):QC(e)),h._deselect=!1}return{eventData:G,selectionTesters:r}}function QVe(e){var t=e.calcdata;if(t)for(var r=0;r<t.length;r++){var n=t[r][0],i=n.trace,a=e._fullLayout._splomScenes;if(a){var o=a[i.uid];o&&(o.selectBatch=[])}}}function eGe(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];if(i.xaxis&&i.xaxis._id===e&&i.yaxis&&i.yaxis._id===t)return!0}return!1}function hJ(e,t,r,n){n=AT(e,[Uf(e,t,"x")],[Uf(e,r,"y")],t+r);for(var i=0;i<n.length;i++){var a=n[i];a._module.selectPoints(a,!1)}vb(e,n)}function tGe(e,t,r,n){for(var i,a=0;a<e.length;a++){var o=e[a];if(!(t!==o.xref||r!==o.yref))if(i){var s=!!o.subtract;i=lJ(i,o,s),n=KC(i)}else i=[o],n=XC(o)}return n}function tJ(e,t){for(var r=[],n=e._fullLayout,i=n.selections,a=i.length,o=0;o<a;o++)if(!(t&&o!==n._activeSelectionIndex)){var s=i[o];if(s){var l=s.xref,u=s.yref,f=Uf(e,l,"x"),c=Uf(e,u,"y"),h,v,b,y,x;if(s.type==="rect"){x=[];var m=zd(f,s.x0),_=zd(f,s.x1),g=zd(c,s.y0),A=zd(c,s.y1);x=[[m,g],[m,A],[_,A],[_,g]],h=Math.min(m,_),v=Math.max(m,_),b=Math.min(g,A),y=Math.max(g,A),x.xmin=h,x.xmax=v,x.ymin=b,x.ymax=y,x.xref=l,x.yref=u,x.subtract=!1,x.isRect=!0,r.push(x)}else if(s.type==="path")for(var w=s.path.split("Z"),k=[],p=0;p<w.length;p++){var d=w[p];if(d){d+="Z";var M=$K.extractPathCoords(d,KK.paramIsX,"raw"),T=$K.extractPathCoords(d,KK.paramIsY,"raw");h=1/0,v=-1/0,b=1/0,y=-1/0,x=[];for(var S=0;S<M.length;S++){var E=zd(f,M[S]),L=zd(c,T[S]);x.push([E,L]),h=Math.min(E,h),v=Math.max(E,v),b=Math.min(L,b),y=Math.max(L,y)}x.xmin=h,x.xmax=v,x.ymin=b,x.ymax=y,x.xref=l,x.yref=u,x.subtract=JC(x,k),k.push(x),r.push(x)}}}}return r}function JC(e,t){for(var r=!1,n=0;n<t.length;n++)for(var i=t[n],a=0;a<e.length;a++)if(SVe(e[a],i)){r=!r;break}return r}function zd(e,t){return e.type==="date"&&(t=t.replace("_"," ")),e.type==="log"?e.c2p(t):e.r2p(t,null,e.calendar)}function vJ(e){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];r=r.concat(i),r=r.concat([i[0]])}return rGe(r)}function rGe(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function dJ(e){return function(t,r){for(var n,i,a=0;a<e.length;a++){var o=e[a],s=o._id,l=s.charAt(0);if(r.isRect){n||(n={});var u=r[l+"min"],f=r[l+"max"];u!==void 0&&f!==void 0&&(n[s]=[JK(o,u),JK(o,f)].sort(NVe))}else i||(i={}),i[s]=r.map(HVe(o))}n&&(t.range=n),i&&(t.lassoPoints=i)}}function nGe(e){var t=e.plotinfo;return t.fillRangeItems||dJ(e.xaxes.concat(e.yaxes))}function iGe(e,t){e.emit("plotly_selecting",t)}function db(e,t){t&&(t.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",t)}function QC(e){e.emit("plotly_deselect",null)}pJ.exports={reselect:GC,prepSelect:jVe,clearOutline:nJ,clearSelectionsCache:hb,selectOnClick:oJ}});var e6=$((jkt,mJ)=>{"use strict";mJ.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var gb=$((Vkt,yJ)=>{"use strict";yJ.exports={axisRefDescription:function(e,t,r){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+r+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",r,"of the domain of the","second",e,"axis."].join(" ")}}});var Mp=$((Gkt,TJ)=>{"use strict";var xJ=e6(),bJ=Ba(),MT=Qo(),aGe=bi().templatedArray,kT=gb();function wJ(e){return["In order for absolute positioning of the arrow to work, *a"+e+"ref* must be exactly the same as *"+e+"ref*, otherwise *a"+e+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+e+"ref* can be set to *pixel*,","in which case the *a"+e+"* value is specified in pixels","relative to *"+e+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function _J(e,t,r){return["Sets the",e,"component of the arrow tail about the arrow head.","If `a"+e+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",r,"to",t,"("+t,"to",r+").","If `a"+e+"ref` is not `pixel` and is exactly the same as `"+e+"ref`,","this is an absolute value on that axis,","like `"+e+"`, specified in the same coordinates as `"+e+"ref`."].join(" ")}TJ.exports=aGe("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:bJ({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:xJ.length,dflt:1,editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:xJ.length,dflt:1,editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",editType:"calc+arraydraw",description:[_J("x","left","right")].join(" ")},ay:{valType:"any",editType:"calc+arraydraw",description:[_J("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",MT.idRegex.x.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",kT.axisRefDescription("ax","left","right"),wJ("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",MT.idRegex.y.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",kT.axisRefDescription("ay","bottom","top"),wJ("y")].join(" ")},xref:{valType:"enumerated",values:["paper",MT.idRegex.x.toString()],editType:"calc",description:["Sets the annotation's x coordinate axis.",kT.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",MT.idRegex.y.toString()],editType:"calc",description:["Sets the annotation's y coordinate axis.",kT.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:bJ({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}})});var Yn=$(t6=>{"use strict";var AJ=zE(),oGe=AJ.FORMAT_LINK,sGe=AJ.DATE_FORMAT_LINK;function MJ(e){var t=e&&e.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,oGe,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,sGe,"for details on the date formatting syntax."].join(" ")}function kJ(e){var t=e.description?" "+e.description:"",r=e.keys||[];if(r.length>0){for(var n=[],i=0;i<r.length;i++)n[i]="`"+r[i]+"`";t=t+"Finally, the template string has access to ",r.length===1?t="variable "+n[0]:t="variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return t}t6.hovertemplateAttrs=function(e,t){e=e||{},t=t||{};var r=kJ(t),n={valType:"string",dflt:"",editType:e.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",MJ({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r,'Anything contained in tag `<extra>` is displayed in the secondary box, for example "<extra>{fullData.name}</extra>".',"To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return e.arrayOk!==!1&&(n.arrayOk=!0),n};t6.texttemplateAttrs=function(e,t){e=e||{},t=t||{};var r=kJ(t),n={valType:"string",dflt:"",editType:e.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",MJ(),"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r].join(" ")};return e.arrayOk!==!1&&(n.arrayOk=!0),n}});var kp=$((Wkt,SJ)=>{"use strict";SJ.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var Ps=$((Xkt,IJ)=>{"use strict";var EJ=Ha().axisHoverFormat,lGe=Yn().texttemplateAttrs,uGe=Yn().hovertemplateAttrs,LJ=Ma(),fGe=Ba(),cGe=Ul().dash,hGe=Ul().pattern,vGe=un(),CJ=kp(),r6=ln().extendFlat;function DJ(e){return{valType:"any",dflt:0,editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+e+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function qJ(e){return{valType:"any",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+e+" axis.","When `"+e+"period` is round number of weeks,","the `"+e+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function RJ(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+e+" axis."].join(" ")}}IJ.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:DJ("x"),yperiod:DJ("y"),xperiod0:qJ("x0"),yperiod0:qJ("y0"),xperiodalignment:RJ("x"),yperiodalignment:RJ("y"),xhoverformat:EJ("x"),yhoverformat:EJ("y"),stackgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:lGe({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+CJ.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:uGe({},{keys:CJ.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:r6({},cGe,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:{valType:"color",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},fillpattern:hGe,marker:r6({symbol:{valType:"enumerated",values:vGe.symbolList,dflt:"circle",arrayOk:!0,editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0,description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:r6({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},LJ("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},LJ("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:fGe({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."})}});var n6=$((Zkt,zJ)=>{"use strict";var PJ=Mp(),FJ=Ps().line,dGe=Ul().dash,ST=ln().extendFlat,pGe=Fa().overrideAll,gGe=bi().templatedArray,NJ=gb();zJ.exports=pGe(gGe("selection",{type:{valType:"enumerated",values:["rect","path"],description:["Specifies the selection type to be drawn.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`) and (`x0`,`y1`).","If *path*, draw a custom SVG path using `path`."].join(" ")},xref:ST({},PJ.xref,{description:["Sets the selection's x coordinate axis.",NJ.axisRefDescription("x","left","right")].join(" ")}),yref:ST({},PJ.yref,{description:["Sets the selection's x coordinate axis.",NJ.axisRefDescription("y","bottom","top")].join(" ")}),x0:{valType:"any",description:"Sets the selection's starting x position."},x1:{valType:"any",description:"Sets the selection's end x position."},y0:{valType:"any",description:"Sets the selection's starting y position."},y1:{valType:"any",description:"Sets the selection's end y position."},path:{valType:"string",editType:"arraydraw",description:["For `type` *path* - a valid SVG path similar to `shapes.path` in data coordinates.","Allowed segments are: M, L and Z."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw",description:"Sets the opacity of the selection."},line:{color:FJ.color,width:ST({},FJ.width,{min:1,dflt:1}),dash:ST({},dGe,{dflt:"dot"})}}),"arraydraw","from-root")});var UJ=$(($kt,HJ)=>{"use strict";var OJ=pt(),ET=tn(),mGe=Mu(),yGe=n6(),BJ=_p();HJ.exports=function(t,r){mGe(t,r,{name:"selections",handleItemDefaults:xGe});for(var n=r.selections,i=0;i<n.length;i++){var a=n[i];a&&a.path===void 0&&(a.x0===void 0||a.x1===void 0||a.y0===void 0||a.y1===void 0)&&(r.selections[i]=null)}};function xGe(e,t,r){function n(k,p){return OJ.coerce(e,t,yGe,k,p)}var i=n("path"),a=i?"path":"rect",o=n("type",a),s=o!=="path";s&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var l=["x","y"],u=0;u<2;u++){var f=l[u],c={_fullLayout:r},h,v,b,y=ET.coerceRef(e,t,c,f);if(h=ET.getFromId(c,y),h._selectionIndices.push(t._index),b=BJ.rangeToShapePosition(h),v=BJ.shapePositionToRange(h),s){var x=f+"0",m=f+"1",_=e[x],g=e[m];e[x]=v(e[x],!0),e[m]=v(e[m],!0),ET.coercePosition(t,c,n,y,x),ET.coercePosition(t,c,n,y,m);var A=t[x],w=t[m];A!==void 0&&w!==void 0&&(t[x]=b(A),t[m]=b(w),e[x]=_,e[m]=g)}}s&&OJ.noneOrAll(e,t,["x0","x1","y0","y1"])}});var VJ=$((Kkt,jJ)=>{"use strict";jJ.exports=function(t,r,n){n("newselection.mode");var i=n("newselection.line.width");i&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var mb=$((Jkt,WJ)=>{"use strict";var bGe=Ir(),GJ=pt(),YJ=Io();WJ.exports=function(t){return function(n,i){var a=n[t];if(Array.isArray(a))for(var o=bGe.subplotsRegistry.cartesian,s=o.idRegex,l=i._subplots,u=l.xaxis,f=l.yaxis,c=l.cartesian,h=i._has("cartesian")||i._has("gl2d"),v=0;v<a.length;v++){var b=a[v];if(GJ.isPlainObject(b)){var y=YJ.cleanId(b.xref,"x",!1),x=YJ.cleanId(b.yref,"y",!1),m=s.x.test(y),_=s.y.test(x);if(m||_){h||GJ.pushUnique(i._basePlotModules,o);var g=!1;m&&u.indexOf(y)===-1&&(u.push(y),g=!0),_&&f.indexOf(x)===-1&&(f.push(x),g=!0),g&&m&&_&&c.push(y+x)}}}}}});var Qs=$((Qkt,ZJ)=>{"use strict";var XJ=BC(),yb=gJ();ZJ.exports={moduleType:"component",name:"selections",layoutAttributes:n6(),supplyLayoutDefaults:UJ(),supplyDrawNewSelectionDefaults:VJ(),includeBasePlot:mb()("selections"),draw:XJ.draw,drawOne:XJ.drawOne,reselect:yb.reselect,prepSelect:yb.prepSelect,clearOutline:yb.clearOutline,clearSelectionsCache:yb.clearSelectionsCache,selectOnClick:yb.selectOnClick}});var f6=$((e5t,pQ)=>{"use strict";var l6=Nr(),jf=pt(),$J=jf.numberFormat,wGe=Ko(),_Ge=jx(),LT=Ir(),aQ=jf.strTranslate,TGe=Ta(),KJ=Rr(),Od=un(),AGe=lo(),JJ=tn(),MGe=Fc(),kGe=Gl(),oQ=Pd(),CT=oQ.selectingOrDrawing,SGe=oQ.freeMode,EGe=es().FROM_TL,LGe=Wx(),CGe=rb().redrawReglTraces,DGe=Zi(),a6=Io().getFromId,qGe=Qs().prepSelect,RGe=Qs().clearOutline,IGe=Qs().selectOnClick,i6=RC(),u6=Qo(),QJ=u6.MINDRAG,Wl=u6.MINZOOM,eQ=!0;function PGe(e,t,r,n,i,a,o,s){var l=e._fullLayout._zoomlayer,u=o+s==="nsew",f=(o+s).length===1,c,h,v,b,y,x,m,_,g,A,w,k,p,d,M,T,S,E,L,D,R,q,C;function F(){if(c=t.xaxis,h=t.yaxis,g=c._length,A=h._length,m=c._offset,_=h._offset,v={},v[c._id]=c,b={},b[h._id]=h,o&&s)for(var oe=t.overlays,pe=0;pe<oe.length;pe++){var Le=oe[pe].xaxis;v[Le._id]=Le;var Ue=oe[pe].yaxis;b[Ue._id]=Ue}y=iQ(v),x=iQ(b),p=tQ(y,s),d=tQ(x,o),M=!d&&!p,k=nQ(e,e._fullLayout._axisMatchGroups,v,b),w=nQ(e,e._fullLayout._axisConstraintGroups,v,b,k);var et=w.isSubplotConstrained||k.isSubplotConstrained;T=s||et,S=o||et;var Qe=e._fullLayout;E=Qe._has("scattergl"),L=Qe._has("splom"),D=Qe._has("svg")}F();var N=zGe(d+p,e._fullLayout.dragmode,u),U=lQ(t,o+s+"drag",N,r,n,i,a);if(M&&!u)return U.onmousedown=null,U.style.pointerEvents="none",U;var V={element:U,gd:e,plotinfo:t};V.prepFn=function(oe,pe,Le){var Ue=V.dragmode,et=e._fullLayout.dragmode;et!==Ue&&(V.dragmode=et),F(),q=e._fullLayout._invScaleX,C=e._fullLayout._invScaleY,M||(u?oe.shiftKey?et==="pan"?et="zoom":CT(et)||(et="pan"):oe.ctrlKey&&(et="pan"):et="pan"),SGe(et)?V.minDrag=1:V.minDrag=void 0,CT(et)?(V.xaxes=y,V.yaxes=x,qGe(oe,pe,Le,V,et)):(V.clickFn=K,CT(Ue)&&Y(),M||(et==="zoom"?(V.moveFn=ge,V.doneFn=Pe,V.minDrag=1,X(oe,pe,Le)):et==="pan"&&(V.moveFn=ne,V.doneFn=te))),e._fullLayout._redrag=function(){var Qe=e._dragdata;if(Qe&&Qe.element===U){var dt=e._fullLayout.dragmode;CT(dt)||(F(),ye([0,0,g,A]),V.moveFn(Qe.dx,Qe.dy))}}};function Y(){V.plotinfo.selection=!1,RGe(e)}function K(oe,pe){var Le=V.gd;if(Le._fullLayout._activeShapeIndex>=0){Le._fullLayout._deactivateShape(Le);return}var Ue=Le._fullLayout.clickmode;if(s6(Le),oe===2&&!f&&He(),u)Ue.indexOf("select")>-1&&IGe(pe,Le,y,x,t.id,V),Ue.indexOf("event")>-1&&AGe.click(Le,pe,t.id);else if(oe===1&&f){var et=o?h:c,Qe=o==="s"||s==="w"?0:1,dt=et._name+".range["+Qe+"]",ht=FGe(et,Qe),_t="left",kt="middle";if(et.fixedrange)return;o?(kt=o==="n"?"top":"bottom",et.side==="right"&&(_t="right")):s==="e"&&(_t="right"),Le._context.showAxisRangeEntryBoxes&&l6.select(U).call(TGe.makeEditable,{gd:Le,immediate:!0,background:Le._fullLayout.paper_bgcolor,text:String(ht),fill:et.tickfont?et.tickfont.color:"#444",horizontalAlign:_t,verticalAlign:kt}).on("edit",function(St){var Ot=et.d2r(St);Ot!==void 0&&LT.call("_guiRelayout",Le,dt,Ot)})}}kGe.init(V);var B,z,j,ae,ee,ve,fe,se,G,Z;function X(oe,pe,Le){var Ue=U.getBoundingClientRect();B=pe-Ue.left,z=Le-Ue.top,e._fullLayout._calcInverseTransform(e);var et=jf.apply3DTransform(e._fullLayout._invTransform)(B,z);B=et[0],z=et[1],j={l:B,r:B,w:0,t:z,b:z,h:0},ae=e._hmpixcount?e._hmlumcount/e._hmpixcount:wGe(e._fullLayout.plot_bgcolor).getLuminance(),ee="M0,0H"+g+"V"+A+"H0V0",ve=!1,fe="xy",Z=!1,se=uQ(l,ae,m,_,ee),G=fQ(l,m,_)}function ge(oe,pe){if(e._transitioningWithDuration)return!1;var Le=Math.max(0,Math.min(g,q*oe+B)),Ue=Math.max(0,Math.min(A,C*pe+z)),et=Math.abs(Le-B),Qe=Math.abs(Ue-z);j.l=Math.min(B,Le),j.r=Math.max(B,Le),j.t=Math.min(z,Ue),j.b=Math.max(z,Ue);function dt(){fe="",j.r=j.l,j.t=j.b,G.attr("d","M0,0Z")}if(w.isSubplotConstrained)et>Wl||Qe>Wl?(fe="xy",et/g>Qe/A?(Qe=et*A/g,z>Ue?j.t=z-Qe:j.b=z+Qe):(et=Qe*g/A,B>Le?j.l=B-et:j.r=B+et),G.attr("d",DT(j))):dt();else if(k.isSubplotConstrained)if(et>Wl||Qe>Wl){fe="xy";var ht=Math.min(j.l/g,(A-j.b)/A),_t=Math.max(j.r/g,(A-j.t)/A);j.l=ht*g,j.r=_t*g,j.b=(1-ht)*A,j.t=(1-_t)*A,G.attr("d",DT(j))}else dt();else!d||Qe<Math.min(Math.max(et*.6,QJ),Wl)?et<QJ||!p?dt():(j.t=0,j.b=A,fe="x",G.attr("d",OGe(j,z))):!p||et<Math.min(Qe*.6,Wl)?(j.l=0,j.r=g,fe="y",G.attr("d",BGe(j,B))):(fe="xy",G.attr("d",DT(j)));j.w=j.r-j.l,j.h=j.b-j.t,fe&&(Z=!0),e._dragged=Z,cQ(se,G,j,ee,ve,ae),qe(),e.emit("plotly_relayouting",R),ve=!0}function qe(){R={},(fe==="xy"||fe==="x")&&(o6(y,j.l/g,j.r/g,R,w.xaxes),be("x",R)),(fe==="xy"||fe==="y")&&(o6(x,(A-j.b)/A,(A-j.t)/A,R,w.yaxes),be("y",R))}function Pe(){qe(),s6(e),te(),vQ(e)}var Oe=[0,0,g,A],de=null,_e=u6.REDRAWDELAY,ce=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function J(oe){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(Y(),e._transitioningWithDuration){oe.preventDefault(),oe.stopPropagation();return}F(),clearTimeout(de);var pe=-oe.deltaY;if(isFinite(pe)||(pe=oe.wheelDelta/10),!isFinite(pe)){jf.log("Did not find wheel motion attributes: ",oe);return}var Le=Math.exp(-Math.min(Math.max(pe,-20),20)/200),Ue=ce.draglayer.select(".nsewdrag").node().getBoundingClientRect(),et=(oe.clientX-Ue.left)/Ue.width,Qe=(Ue.bottom-oe.clientY)/Ue.height,dt;function ht(_t,kt,St){if(_t.fixedrange)return;var Ot=jf.simpleMap(_t.range,_t.r2l),je=Ot[0]+(Ot[1]-Ot[0])*kt;function Ve(Je){return _t.l2r(je+(Je-je)*St)}_t.range=Ot.map(Ve)}if(T){for(s||(et=.5),dt=0;dt<y.length;dt++)ht(y[dt],et,Le);be("x"),Oe[2]*=Le,Oe[0]+=Oe[2]*et*(1/Le-1)}if(S){for(o||(Qe=.5),dt=0;dt<x.length;dt++)ht(x[dt],Qe,Le);be("y"),Oe[3]*=Le,Oe[1]+=Oe[3]*(1-Qe)*(1/Le-1)}ye(Oe),Fe(),e.emit("plotly_relayouting",R),de=setTimeout(function(){e._fullLayout&&(Oe=[0,0,g,A],te())},_e),oe.preventDefault()}o.length*s.length!==1&&dQ(U,J);function ne(oe,pe){if(oe=oe*q,pe=pe*C,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,p==="ew"||d==="ns"){var Le=p?-oe:0,Ue=d?-pe:0;if(k.isSubplotConstrained){if(p&&d){var et=(oe/g-pe/A)/2;oe=et*g,pe=-et*A,Le=-oe,Ue=-pe}d?Le=-Ue*g/A:Ue=-Le*A/g}p&&(rQ(y,oe),be("x")),d&&(rQ(x,pe),be("y")),ye([Le,Ue,g,A]),Fe(),e.emit("plotly_relayouting",R);return}function Qe(Ve,Je,nt){for(var Be=1-Je,tt,ot,yt=0;yt<Ve.length;yt++){var Ht=Ve[yt];if(!Ht.fixedrange){tt=Ht,ot=Ht._rl[Be]+(Ht._rl[Je]-Ht._rl[Be])/NGe(nt/Ht._length);var Lt=Ht.l2r(ot);Lt!==!1&&Lt!==void 0&&(Ht.range[Je]=Lt)}}return tt._length*(tt._rl[Je]-ot)/(tt._rl[Je]-tt._rl[Be])}var dt=p==="w"==(d==="n")?1:-1;if(p&&d&&(w.isSubplotConstrained||k.isSubplotConstrained)){var ht=(oe/g+dt*pe/A)/2;oe=ht*g,pe=dt*ht*A}var _t,kt;if(p==="w"?oe=Qe(y,0,oe):p==="e"?oe=Qe(y,1,-oe):p||(oe=0),d==="n"?pe=Qe(x,1,pe):d==="s"?pe=Qe(x,0,-pe):d||(pe=0),_t=p==="w"?oe:0,kt=d==="n"?pe:0,w.isSubplotConstrained&&!k.isSubplotConstrained||k.isSubplotConstrained&&p&&d&&dt>0){var St;if(k.isSubplotConstrained||!p&&d.length===1){for(St=0;St<y.length;St++)y[St].range=y[St]._r.slice(),i6(y[St],1-pe/A);oe=pe*g/A,_t=oe/2}if(k.isSubplotConstrained||!d&&p.length===1){for(St=0;St<x.length;St++)x[St].range=x[St]._r.slice(),i6(x[St],1-oe/g);pe=oe*A/g,kt=pe/2}}(!k.isSubplotConstrained||!d)&&be("x"),(!k.isSubplotConstrained||!p)&&be("y");var Ot=g-oe,je=A-pe;k.isSubplotConstrained&&!(p&&d)&&(p?(kt=_t?0:oe*A/g,je=Ot*A/g):(_t=kt?0:pe*g/A,Ot=je*g/A)),ye([_t,kt,Ot,je]),Fe(),e.emit("plotly_relayouting",R)}function be(oe,pe){for(var Le=k.isSubplotConstrained?{x,y}[oe]:k[oe+"axes"],Ue=k.isSubplotConstrained?{x:y,y:x}[oe]:[],et=0;et<Le.length;et++){var Qe=Le[et],dt=Qe._id,ht=k.xLinks[dt]||k.yLinks[dt],_t=Ue[0]||v[ht]||b[ht];_t&&(pe?(pe[Qe._name+".range[0]"]=pe[_t._name+".range[0]"],pe[Qe._name+".range[1]"]=pe[_t._name+".range[1]"]):Qe.range=_t.range.slice())}}function Fe(){var oe=[],pe;function Le(Qe){for(pe=0;pe<Qe.length;pe++)Qe[pe].fixedrange||oe.push(Qe[pe]._id)}for(T&&(Le(y),Le(w.xaxes),Le(k.xaxes)),S&&(Le(x),Le(w.yaxes),Le(k.yaxes)),R={},pe=0;pe<oe.length;pe++){var Ue=oe[pe],et=a6(e,Ue);JJ.drawOne(e,et,{skipTitle:!0}),R[et._name+".range[0]"]=et.range[0],R[et._name+".range[1]"]=et.range[1]}JJ.redrawComponents(e,oe)}function He(){if(!e._transitioningWithDuration){var oe=e._context.doubleClick,pe=[];p&&(pe=pe.concat(y)),d&&(pe=pe.concat(x)),k.xaxes&&(pe=pe.concat(k.xaxes)),k.yaxes&&(pe=pe.concat(k.yaxes));var Le={},Ue,et,Qe;if(oe==="reset+autosize"){for(oe="autosize",et=0;et<pe.length;et++)if(Ue=pe[et],Ue._rangeInitial&&(Ue.range[0]!==Ue._rangeInitial[0]||Ue.range[1]!==Ue._rangeInitial[1])||!Ue._rangeInitial&&!Ue.autorange){oe="reset";break}}if(oe==="autosize")for(et=0;et<pe.length;et++)Ue=pe[et],Ue.fixedrange||(Le[Ue._name+".autorange"]=!0);else if(oe==="reset")for((p||w.isSubplotConstrained)&&(pe=pe.concat(w.xaxes)),d&&!w.isSubplotConstrained&&(pe=pe.concat(w.yaxes)),w.isSubplotConstrained&&(p?d||(pe=pe.concat(x)):pe=pe.concat(y)),et=0;et<pe.length;et++)Ue=pe[et],Ue.fixedrange||(Ue._rangeInitial?(Qe=Ue._rangeInitial,Le[Ue._name+".range[0]"]=Qe[0],Le[Ue._name+".range[1]"]=Qe[1]):Le[Ue._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),LT.call("_guiRelayout",e,Le)}}function te(){ye([0,0,g,A]),jf.syncOrAsync([DGe.previousPromises,function(){e._fullLayout._replotting=!1,LT.call("_guiRelayout",e,R)}],e)}function ye(oe){var pe=e._fullLayout,Le=pe._plots,Ue=pe._subplots.cartesian,et,Qe,dt,ht;if(L&&LT.subplotsRegistry.splom.drag(e),E){for(et=0;et<Ue.length;et++)if(Qe=Le[Ue[et]],dt=Qe.xaxis,ht=Qe.yaxis,Qe._scene){var _t=jf.simpleMap(dt.range,dt.r2l),kt=jf.simpleMap(ht.range,ht.r2l);Qe._scene.update({range:[_t[0],kt[0],_t[1],kt[1]]})}}if((L||E)&&(LGe(e),CGe(e)),D){var St=oe[2]/c._length,Ot=oe[3]/h._length;for(et=0;et<Ue.length;et++){Qe=Le[Ue[et]],dt=Qe.xaxis,ht=Qe.yaxis;var je=(T||k.isSubplotConstrained)&&!dt.fixedrange&&v[dt._id],Ve=(S||k.isSubplotConstrained)&&!ht.fixedrange&&b[ht._id],Je,nt,Be,tt;if(je?(Je=St,Be=s||k.isSubplotConstrained?oe[0]:De(dt,Je)):k.xaHash[dt._id]?(Je=St,Be=oe[0]*dt._length/c._length):k.yaHash[dt._id]?(Je=Ot,Be=d==="ns"?-oe[1]*dt._length/h._length:De(dt,Je,{n:"top",s:"bottom"}[d])):(Je=Te(dt,St,Ot),Be=Ce(dt,Je)),Ve?(nt=Ot,tt=o||k.isSubplotConstrained?oe[1]:De(ht,nt)):k.yaHash[ht._id]?(nt=Ot,tt=oe[1]*ht._length/h._length):k.xaHash[ht._id]?(nt=St,tt=p==="ew"?-oe[0]*ht._length/c._length:De(ht,nt,{e:"right",w:"left"}[p])):(nt=Te(ht,St,Ot),tt=Ce(ht,nt)),!(!Je&&!nt)){Je||(Je=1),nt||(nt=1);var ot=dt._offset-Be/Je,yt=ht._offset-tt/nt;Qe.clipRect.call(Od.setTranslate,Be,tt).call(Od.setScale,Je,nt),Qe.plot.call(Od.setTranslate,ot,yt).call(Od.setScale,1/Je,1/nt),(Je!==Qe.xScaleFactor||nt!==Qe.yScaleFactor)&&(Od.setPointGroupScale(Qe.zoomScalePts,Je,nt),Od.setTextPointsScale(Qe.zoomScaleTxt,Je,nt)),Od.hideOutsideRangePoints(Qe.clipOnAxisFalseTraces,Qe),Qe.xScaleFactor=Je,Qe.yScaleFactor=nt}}}}function Te(oe,pe,Le){return oe.fixedrange?0:T&&w.xaHash[oe._id]?pe:S&&(w.isSubplotConstrained?w.xaHash:w.yaHash)[oe._id]?Le:0}function Ce(oe,pe){return pe?(oe.range=oe._r.slice(),i6(oe,pe),De(oe,pe)):0}function De(oe,pe,Le){return oe._length*(1-pe)*EGe[Le||oe.constraintoward||"middle"]}return U}function sQ(e,t,r,n){var i=jf.ensureSingle(e.draglayer,t,r,function(a){a.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return i.call(MGe,n),i.node()}function lQ(e,t,r,n,i,a,o){var s=sQ(e,"rect",t,r);return l6.select(s).call(Od.setRect,n,i,a,o),s}function tQ(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function FGe(e,t){var r=e.range[t],n=Math.abs(r-e.range[1-t]),i;return e.type==="date"?r:e.type==="log"?(i=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,$J("."+i+"g")(Math.pow(10,r))):(i=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,$J("."+String(i)+"g")(r))}function o6(e,t,r,n,i){for(var a=0;a<e.length;a++){var o=e[a];if(!o.fixedrange)if(o.rangebreaks){var s=o._id.charAt(0)==="y",l=s?1-t:t,u=s?1-r:r;n[o._name+".range[0]"]=o.l2r(o.p2l(l*o._length)),n[o._name+".range[1]"]=o.l2r(o.p2l(u*o._length))}else{var f=o._rl[0],c=o._rl[1]-f;n[o._name+".range[0]"]=o.l2r(f+c*t),n[o._name+".range[1]"]=o.l2r(f+c*r)}}if(i&&i.length){var h=(t+(1-r))/2;o6(i,h,1-h,n,[])}}function rQ(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n.fixedrange)if(n.rangebreaks){var i=0,a=n._length,o=n.p2l(i+t)-n.p2l(i),s=n.p2l(a+t)-n.p2l(a),l=(o+s)/2;n.range=[n.l2r(n._rl[0]-l),n.l2r(n._rl[1]-l)]}else n.range=[n.l2r(n._rl[0]-t/n._m),n.l2r(n._rl[1]-t/n._m)]}}function NGe(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function zGe(e,t,r){return e?e==="nsew"?r?"":t==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function uQ(e,t,r,n,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",aQ(r,n)).attr("d",i+"Z")}function fQ(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:KJ.background,stroke:KJ.defaultLine,"stroke-width":1,opacity:0}).attr("transform",aQ(t,r)).attr("d","M0,0Z")}function cQ(e,t,r,n,i,a){e.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),hQ(e,t,i,a)}function hQ(e,t,r,n){r||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function s6(e){l6.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function vQ(e){eQ&&e.data&&e._context.showTips&&(jf.notifier(jf._(e,"Double-click to zoom back out"),"long"),eQ=!1)}function OGe(e,t){return"M"+(e.l-.5)+","+(t-Wl-.5)+"h-3v"+(2*Wl+1)+"h3ZM"+(e.r+.5)+","+(t-Wl-.5)+"h3v"+(2*Wl+1)+"h-3Z"}function BGe(e,t){return"M"+(t-Wl-.5)+","+(e.t-.5)+"v-3h"+(2*Wl+1)+"v3ZM"+(t-Wl-.5)+","+(e.b+.5)+"v3h"+(2*Wl+1)+"v-3Z"}function DT(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,Wl)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function nQ(e,t,r,n,i){for(var a=!1,o={},s={},l,u,f,c,h=(i||{}).xaHash,v=(i||{}).yaHash,b=0;b<t.length;b++){var y=t[b];for(l in r)if(y[l]){for(f in y)!(i&&(h[f]||v[f]))&&!(f.charAt(0)==="x"?r:n)[f]&&(o[f]=l);for(u in n)!(i&&(h[u]||v[u]))&&y[u]&&(a=!0)}for(u in n)if(y[u])for(c in y)!(i&&(h[c]||v[c]))&&!(c.charAt(0)==="x"?r:n)[c]&&(s[c]=u)}a&&(jf.extendFlat(o,s),s={});var x={},m=[];for(f in o){var _=a6(e,f);m.push(_),x[_._id]=_}var g={},A=[];for(c in s){var w=a6(e,c);A.push(w),g[w._id]=w}return{xaHash:x,yaHash:g,xaxes:m,yaxes:A,xLinks:o,yLinks:s,isSubplotConstrained:a}}function dQ(e,t){if(!_Ge)e.onwheel!==void 0?e.onwheel=t:e.onmousewheel!==void 0?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}));else{var r=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}}function iQ(e){var t=[];for(var r in e)t.push(e[r]);return t}pQ.exports={makeDragBox:PGe,makeDragger:sQ,makeRectDragger:lQ,makeZoombox:uQ,makeCorners:fQ,updateZoombox:cQ,xyCorners:DT,transitionZoombox:hQ,removeZoombox:s6,showDoubleClickNotifier:vQ,attachWheelEventHandler:dQ}});var c6=$(RT=>{"use strict";var HGe=Nr(),qT=lo(),UGe=Gl(),jGe=Fc(),Hc=f6().makeDragBox,is=Qo().DRAGGERSIZE;RT.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){HGe.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var n=Object.keys(r._plots||{}).sort(function(a,o){if((r._plots[a].mainplot&&!0)===(r._plots[o].mainplot&&!0)){var s=a.split("y"),l=o.split("y");return s[0]===l[0]?Number(s[1]||1)-Number(l[1]||1):Number(s[0]||1)-Number(l[0]||1)}return r._plots[a].mainplot?1:-1});n.forEach(function(a){var o=r._plots[a],s=o.xaxis,l=o.yaxis;if(!o.mainplot){var u=Hc(t,o,s._offset,l._offset,s._length,l._length,"ns","ew");u.onmousemove=function(h){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===a&&t._fullLayout._plots[a]&&qT.hover(t,h,a)},qT.hover(t,h,a),t._fullLayout._lasthover=u,t._fullLayout._hoversubplot=a},u.onmouseout=function(h){t._dragging||(t._fullLayout._hoversubplot=null,UGe.unhover(t,h))},t._context.showAxisDragHandles&&(Hc(t,o,s._offset-is,l._offset-is,is,is,"n","w"),Hc(t,o,s._offset+s._length,l._offset-is,is,is,"n","e"),Hc(t,o,s._offset-is,l._offset+l._length,is,is,"s","w"),Hc(t,o,s._offset+s._length,l._offset+l._length,is,is,"s","e"))}if(t._context.showAxisDragHandles){if(a===s._mainSubplot){var f=s._mainLinePosition;s.side==="top"&&(f-=is),Hc(t,o,s._offset+s._length*.1,f,s._length*.8,is,"","ew"),Hc(t,o,s._offset,f,s._length*.1,is,"","w"),Hc(t,o,s._offset+s._length*.9,f,s._length*.1,is,"","e")}if(a===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=is),Hc(t,o,c,l._offset+l._length*.1,is,l._length*.8,"ns",""),Hc(t,o,c,l._offset+l._length*.9,is,l._length*.1,"s",""),Hc(t,o,c,l._offset,is,l._length*.1,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(a){a.target=t._fullLayout._lasthover,qT.hover(t,a,r._hoversubplot)},i.onclick=function(a){a.target=t._fullLayout._lasthover,qT.click(t,a)},i.onmousedown=function(a){t._fullLayout._lasthover.onmousedown(a)},RT.updateFx(t)}};RT.updateFx=function(e){var t=e._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";jGe(t._draggers,r)}});var yQ=$((r5t,mQ)=>{"use strict";var gQ=Ir();mQ.exports=function(t){for(var r=gQ.layoutArrayContainers,n=gQ.layoutArrayRegexes,i=t.split("[")[0],a,o,s=0;s<n.length;s++)if(o=t.match(n[s]),o&&o.index===0){a=o[0];break}if(a||(a=r[r.indexOf(i)]),!a)return!1;var l=t.substr(a.length);return l?(o=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:a,index:Number(o[1]),property:o[3]||""}:!1):{array:a,index:"",property:""}}});var bQ=$(bb=>{"use strict";var VGe=G0(),h6=V_(),xb=_d(),GGe=e3().sorterAsc,v6=Ir();bb.containerArrayMatch=yQ();var YGe=bb.isAddVal=function(t){return t==="add"||VGe(t)},xQ=bb.isRemoveVal=function(t){return t===null||t==="remove"};bb.applyContainerArrayChanges=function(t,r,n,i,a){var o=r.astr,s=v6.getComponentMethod(o,"supplyLayoutDefaults"),l=v6.getComponentMethod(o,"draw"),u=v6.getComponentMethod(o,"drawOne"),f=i.replot||i.recalc||s===h6||l===h6,c=t.layout,h=t._fullLayout;if(n[""]){Object.keys(n).length>1&&xb.warn("Full array edits are incompatible with other edits",o);var v=n[""][""];if(xQ(v))r.set(null);else if(Array.isArray(v))r.set(v);else return xb.warn("Unrecognized full array edit value",o,v),!0;return f?!1:(s(c,h),l(t),!0)}var b=Object.keys(n).map(Number).sort(GGe),y=r.get(),x=y||[],m=a(h,o).get(),_=[],g=-1,A=x.length,w,k,p,d,M,T,S,E;for(w=0;w<b.length;w++){if(p=b[w],d=n[p],M=Object.keys(d),T=d[""],S=YGe(T),p<0||p>x.length-(S?0:1)){xb.warn("index out of range",o,p);continue}if(T!==void 0)M.length>1&&xb.warn("Insertion & removal are incompatible with edits to the same index.",o,p),xQ(T)?_.push(p):S?(T==="add"&&(T={}),x.splice(p,0,T),m&&m.splice(p,0,{})):xb.warn("Unrecognized full object edit value",o,p,T),g===-1&&(g=p);else for(k=0;k<M.length;k++)E=o+"["+p+"].",a(x[p],M[k],E).set(d[M[k]])}for(w=_.length-1;w>=0;w--)x.splice(_[w],1),m&&m.splice(_[w],1);if(x.length?y||r.set(x):r.set(null),f)return!1;if(s(c,h),u!==h6){var L;if(g===-1)L=b;else{for(A=Math.max(x.length,A),L=[],w=0;w<b.length&&(p=b[w],!(p>=g));w++)L.push(p);for(w=g;w<A;w++)L.push(w)}for(w=0;w<L.length;w++)u(t,L[w])}else l(t);return!0}});var SQ=$(Vf=>{"use strict";var AQ=mn(),WGe=iE(),MQ=Ir(),Zl=pt(),_b=Zi(),kQ=Io(),Sp=Rr(),Tb=kQ.cleanId,XGe=kQ.getFromTrace,wb=MQ.traceIs;Vf.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&Zl.log("Clearing previous rejected promises from queue."),e._promises=[]};Vf.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(_b.subplotsRegistry.cartesian||{}).attrRegex,i=(_b.subplotsRegistry.polar||{}).attrRegex,a=(_b.subplotsRegistry.ternary||{}).attrRegex,o=(_b.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(e);for(t=0;t<s.length;t++){var l=s[t];if(n&&n.test(l)){var u=e[l];u.anchor&&u.anchor!=="free"&&(u.anchor=Tb(u.anchor)),u.overlaying&&(u.overlaying=Tb(u.overlaying)),u.type||(u.isdate?u.type="date":u.islog?u.type="log":u.isdate===!1&&u.islog===!1&&(u.type="linear")),(u.autorange==="withzero"||u.autorange==="tozero")&&(u.autorange=!0,u.rangemode="tozero"),delete u.islog,delete u.isdate,delete u.categories,IT(u,"domain")&&delete u.domain,u.autotick!==void 0&&(u.tickmode===void 0&&(u.tickmode=u.autotick?"auto":"linear"),delete u.autotick),Xl(u)}else if(i&&i.test(l)){var f=e[l];Xl(f.radialaxis)}else if(a&&a.test(l)){var c=e[l];Xl(c.aaxis),Xl(c.baxis),Xl(c.caxis)}else if(o&&o.test(l)){var h=e[l],v=h.cameraposition;if(Array.isArray(v)&&v[0].length===4){var b=v[0],y=v[1],x=v[2],m=WGe([],b),_=[];for(r=0;r<3;++r)_[r]=y[r]+x*m[2+4*r];h.camera={eye:{x:_[0],y:_[1],z:_[2]},center:{x:y[0],y:y[1],z:y[2]},up:{x:0,y:0,z:1}},delete h.cameraposition}Xl(h.xaxis),Xl(h.yaxis),Xl(h.zaxis)}}var g=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<g;t++){var A=e.annotations[t];Zl.isPlainObject(A)&&(A.ref&&(A.ref==="paper"?(A.xref="paper",A.yref="paper"):A.ref==="data"&&(A.xref="x",A.yref="y"),delete A.ref),tm(A,"xref"),tm(A,"yref"))}var w=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<w;t++){var k=e.shapes[t];Zl.isPlainObject(k)&&(tm(k,"xref"),tm(k,"yref"))}var p=Array.isArray(e.images)?e.images.length:0;for(t=0;t<p;t++){var d=e.images[t];Zl.isPlainObject(d)&&(tm(d,"xref"),tm(d,"yref"))}var M=e.legend;return M&&(M.x>3?(M.x=1.02,M.xanchor="left"):M.x<-2&&(M.x=-.02,M.xanchor="right"),M.y>3?(M.y=1.02,M.yanchor="bottom"):M.y<-2&&(M.y=-.02,M.yanchor="top")),Xl(e),e.dragmode==="rotate"&&(e.dragmode="orbit"),Sp.clean(e),e.template&&e.template.layout&&Vf.cleanLayout(e.template.layout),e};function tm(e,t){var r=e[t],n=t.charAt(0);r&&r!=="paper"&&(e[t]=Tb(r,n,!0))}function Xl(e){e&&((typeof e.title=="string"||typeof e.title=="number")&&(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"));function t(r,n){var i=e[r],a=e.title&&e.title[n];i&&!a&&(e.title||(e.title={}),e.title[n]=e[r],delete e[r])}}Vf.cleanData=function(e){for(var t=0;t<e.length;t++){var r=e[t],n;if(r.type==="histogramy"&&"xbins"in r&&!("ybins"in r)&&(r.ybins=r.xbins,delete r.xbins),r.error_y&&"opacity"in r.error_y){var i=Sp.defaults,a=r.error_y.color||(wb(r,"bar")?Sp.defaultLine:i[t%i.length]);r.error_y.color=Sp.addOpacity(Sp.rgb(a),Sp.opacity(a)*r.error_y.opacity),delete r.error_y.opacity}if("bardir"in r&&(r.bardir==="h"&&(wb(r,"bar")||r.type.substr(0,9)==="histogram")&&(r.orientation="h",Vf.swapXYData(r)),delete r.bardir),r.type==="histogramy"&&Vf.swapXYData(r),(r.type==="histogramx"||r.type==="histogramy")&&(r.type="histogram"),"scl"in r&&!("colorscale"in r)&&(r.colorscale=r.scl,delete r.scl),"reversescl"in r&&!("reversescale"in r)&&(r.reversescale=r.reversescl,delete r.reversescl),r.xaxis&&(r.xaxis=Tb(r.xaxis,"x")),r.yaxis&&(r.yaxis=Tb(r.yaxis,"y")),wb(r,"gl3d")&&r.scene&&(r.scene=_b.subplotsRegistry.gl3d.cleanId(r.scene)),!wb(r,"pie-like")&&!wb(r,"bar-like"))if(Array.isArray(r.textposition))for(n=0;n<r.textposition.length;n++)r.textposition[n]=_Q(r.textposition[n]);else r.textposition&&(r.textposition=_Q(r.textposition));var o=MQ.getModule(r);if(o&&o.colorbar){var s=o.colorbar.container,l=s?r[s]:r;l&&l.colorscale&&(l.colorscale==="YIGnBu"&&(l.colorscale="YlGnBu"),l.colorscale==="YIOrRd"&&(l.colorscale="YlOrRd"))}if(r.type==="surface"&&Zl.isPlainObject(r.contours)){var u=["x","y","z"];for(n=0;n<u.length;n++){var f=r.contours[u[n]];Zl.isPlainObject(f)&&(f.highlightColor&&(f.highlightcolor=f.highlightColor,delete f.highlightColor),f.highlightWidth&&(f.highlightwidth=f.highlightWidth,delete f.highlightWidth))}}if(r.type==="candlestick"||r.type==="ohlc"){var c=(r.increasing||{}).showlegend!==!1,h=(r.decreasing||{}).showlegend!==!1,v=wQ(r.increasing),b=wQ(r.decreasing);if(v!==!1&&b!==!1){var y=ZGe(v,b,c,h);y&&(r.name=y)}else(v||b)&&!r.name&&(r.name=v||b)}if(Array.isArray(r.transforms)){var x=r.transforms;for(n=0;n<x.length;n++){var m=x[n];if(Zl.isPlainObject(m))switch(m.type){case"filter":m.filtersrc&&(m.target=m.filtersrc,delete m.filtersrc),m.calendar&&(m.valuecalendar||(m.valuecalendar=m.calendar),delete m.calendar);break;case"groupby":if(m.styles=m.styles||m.style,m.styles&&!Array.isArray(m.styles)){var _=m.styles,g=Object.keys(_);m.styles=[];for(var A=0;A<g.length;A++)m.styles.push({target:g[A],value:_[g[A]]})}break}}}IT(r,"line")&&delete r.line,"marker"in r&&(IT(r.marker,"line")&&delete r.marker.line,IT(r,"marker")&&delete r.marker),Sp.clean(r),r.autobinx&&(delete r.autobinx,delete r.xbins),r.autobiny&&(delete r.autobiny,delete r.ybins),Xl(r),r.colorbar&&Xl(r.colorbar),r.marker&&r.marker.colorbar&&Xl(r.marker.colorbar),r.line&&r.line.colorbar&&Xl(r.line.colorbar),r.aaxis&&Xl(r.aaxis),r.baxis&&Xl(r.baxis)}};function wQ(e){if(!Zl.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,(typeof t=="string"||typeof t=="number")&&String(t)}function ZGe(e,t,r,n){if(r&&!n)return e;if(n&&!r||!e.trim())return t;if(!t.trim())return e;var i=Math.min(e.length,t.length),a;for(a=0;a<i&&e.charAt(a)===t.charAt(a);a++);var o=e.substr(0,a);return o.trim()}function _Q(e){var t="middle",r="center";return typeof e=="string"&&(e.indexOf("top")!==-1?t="top":e.indexOf("bottom")!==-1&&(t="bottom"),e.indexOf("left")!==-1?r="left":e.indexOf("right")!==-1&&(r="right")),t+" "+r}function IT(e,t){return t in e&&typeof e[t]=="object"&&Object.keys(e[t]).length===0}Vf.swapXYData=function(e){var t;if(Zl.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);Zl.swapAttrs(e,["error_?.copy_ystyle"]),n&&Zl.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)i[t]==="x"?i[t]="y":i[t]==="y"&&(i[t]="x");e.hoverinfo=i.join("+")}};Vf.coerceTraceIndices=function(e,t){if(AQ(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(i,a){return a});if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)Zl.isIndex(t[n],e.data.length)?r.push(t[n]):Zl.warn("trace index (",t[n],") is not a number or is out of bounds");return r}return t};Vf.manageArrayContainers=function(e,t,r){var n=e.obj,i=e.parts,a=i.length,o=i[a-1],s=AQ(o);if(s&&t===null){var l=i.slice(0,a-1).join("."),u=Zl.nestedProperty(n,l).get();u.splice(o,1)}else s&&e.get()===void 0&&e.get()===void 0&&(r[e.astr]=null),e.set(t)};var $Ge=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function TQ(e){var t=e.search($Ge);if(t>0)return e.substr(0,t)}Vf.hasParent=function(e,t){for(var r=TQ(t);r;){if(r in e)return!0;r=TQ(r)}return!1};var KGe=["x","y","z"];Vf.clearAxisTypes=function(e,t,r){for(var n=0;n<t.length;n++)for(var i=e._fullData[n],a=0;a<3;a++){var o=XGe(e,i,KGe[a]);if(o&&o.type!=="log"){var s=o._name,l=o._id.substr(1);if(l.substr(0,5)==="scene"){if(r[l]!==void 0)continue;s=l+"."+s}var u=s+".type";r[s]===void 0&&r[u]===void 0&&Zl.nestedProperty(e.layout,u).set(null)}}}});var YT=$(fi=>{"use strict";var NT=Nr(),JGe=mn(),QGe=_E(),_r=pt(),$i=_r.nestedProperty,g6=C1(),$l=_G(),Gf=Ir(),VT=Ed(),fn=Zi(),Al=tn(),d6=un(),eYe=Rr(),tYe=c6().initInteractions,rYe=kh(),nYe=Qs().clearOutline,qQ=X0().dfltConfig,PT=bQ(),_o=SQ(),Ri=rb(),Bd=Fa(),iYe=Qo().AX_NAME_PATTERN,p6=0,EQ=5;function aYe(e,t,r,n){var i;if(e=_r.getGraphDiv(e),g6.init(e),_r.isPlainObject(t)){var a=t;t=a.data,r=a.layout,n=a.config,i=a.frames}var o=g6.triggerHandler(e,"plotly_beforeplot",[t,r,n]);if(o===!1)return Promise.reject();!t&&!r&&!_r.isPlotDiv(e)&&_r.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function s(){if(i)return fi.addFrames(e,i)}IQ(e,n),r||(r={}),NT.select(e).classed("js-plotly-plot",!0),d6.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var l=(e.data||[]).length===0&&Array.isArray(t);Array.isArray(t)&&(_o.cleanData(t),l?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),(!e.layout||l)&&(e.layout=_o.cleanLayout(r)),fn.supplyDefaults(e);var u=e._fullLayout,f=u._has("cartesian");u._replotting=!0,(l||u._shouldCreateBgLayer)&&(SYe(e),u._shouldCreateBgLayer&&delete u._shouldCreateBgLayer),d6.initGradients(e),d6.initPatterns(e),l&&Al.saveShowSpikeInitial(e);var c=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;c&&fn.doCalcdata(e);for(var h=0;h<e.calcdata.length;h++)e.calcdata[h][0].trace=e._fullData[h];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){_r.isHidden(e)||fn.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):_r.clearResponsive(e);var v=_r.extendFlat({},u._size),b=0;function y(){for(var d=u._basePlotModules,M=0;M<d.length;M++)d[M].drawFramework&&d[M].drawFramework(e);!u._glcanvas&&u._has("gl")&&(u._glcanvas=u._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(L){return L.key}),u._glcanvas.enter().append("canvas").attr("class",function(L){return"gl-canvas gl-canvas-"+L.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var T=e._context.plotGlPixelRatio;if(u._glcanvas){u._glcanvas.attr("width",u.width*T).attr("height",u.height*T).style("width",u.width+"px").style("height",u.height+"px");var S=u._glcanvas.data()[0].regl;if(S&&(Math.floor(u.width*T)!==S._gl.drawingBufferWidth||Math.floor(u.height*T)!==S._gl.drawingBufferHeight)){var E="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(b)_r.error(E);else return _r.log(E+" Clearing graph and plotting again."),fn.cleanPlot([],{},e._fullData,u),fn.supplyDefaults(e),u=e._fullLayout,fn.doCalcdata(e),b++,y()}}return u.modebar.orientation==="h"?u._modebardiv.style("height",null).style("width","100%"):u._modebardiv.style("width",null).style("height",u.height+"px"),fn.previousPromises(e)}function x(){if(fn.clearAutoMarginIds(e),Ri.drawMarginPushers(e),Al.allowAutoMargin(e),u._has("pie"))for(var d=e._fullData,M=0;M<d.length;M++){var T=d[M];T.type==="pie"&&T.automargin&&fn.allowAutoMargin(e,"pie."+T.uid+".automargin")}return fn.doAutoMargin(e),fn.previousPromises(e)}function m(){if(fn.didMarginChange(v,u._size))return _r.syncOrAsync([x,Ri.layoutStyles],e)}function _(){if(!c){g();return}return _r.syncOrAsync([Gf.getComponentMethod("shapes","calcAutorange"),Gf.getComponentMethod("annotations","calcAutorange"),g],e)}function g(){e._transitioning||(Ri.doAutoRangeAndConstraints(e),l&&Al.saveRangeInitial(e),Gf.getComponentMethod("rangeslider","calcAutorange")(e))}function A(){return Al.draw(e,l?"":"redraw")}var w=[fn.previousPromises,s,y,x,m];f&&w.push(_),w.push(Ri.layoutStyles),f&&w.push(A,function(M){M._fullLayout._insideTickLabelsAutorange&&Ab(M,M._fullLayout._insideTickLabelsAutorange).then(function(){M._fullLayout._insideTickLabelsAutorange=void 0})}),w.push(Ri.drawData,Ri.finalDraw,tYe,fn.addLinks,fn.rehover,fn.redrag,fn.reselect,fn.doAutoMargin,k,fn.previousPromises);function k(d){d._fullLayout._insideTickLabelsAutorange&&l&&Al.saveRangeInitial(d,!0)}var p=_r.syncOrAsync(w,e);return(!p||!p.then)&&(p=Promise.resolve()),p.then(function(){return Mb(e),e})}function Mb(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function oYe(e){return _r.extendFlat(qQ,e)}function RQ(e,t){try{e._fullLayout._paper.style("background",t)}catch(r){_r.error(r)}}function sYe(e,t){var r=eYe.combine(t,"white");RQ(e,r)}function IQ(e,t){if(!e._context){e._context=_r.extendDeep({},qQ);var r=NT.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,i,a,o;if(t){for(a=Object.keys(t),i=0;i<a.length;i++)o=a[i],!(o==="editable"||o==="edits")&&o in n&&(o==="setBackground"&&t[o]==="opaque"?n[o]=sYe:n[o]=t[o]);t.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio);var s=t.editable;if(s!==void 0)for(n.editable=s,a=Object.keys(n.edits),i=0;i<a.length;i++)n.edits[a[i]]=s;if(t.edits)for(a=Object.keys(t.edits),i=0;i<a.length;i++)o=a[i],o in n.edits&&(n.edits[o]=t.edits[o]);n._exportedPlot=t._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!QGe&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=RQ),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var l=n.scrollZoom,u=n._scrollZoom={};if(l===!0)u.cartesian=1,u.gl3d=1,u.geo=1,u.mapbox=1;else if(typeof l=="string"){var f=l.split("+");for(i=0;i<f.length;i++)u[f[i]]=1}else l!==!1&&(u.gl3d=1,u.geo=1,u.mapbox=1)}function lYe(e){if(e=_r.getGraphDiv(e),!_r.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return _o.cleanData(e.data),_o.cleanLayout(e.layout),e.calcdata=void 0,fi._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function uYe(e,t,r,n){return e=_r.getGraphDiv(e),fn.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),fn.purge(e),fi._doPlot(e,t,r,n)}function zT(e,t){var r=t+1,n=[],i,a;for(i=0;i<e.length;i++)a=e[i],a<0?n.push(r+a):n.push(a);return n}function OT(e,t,r){var n,i;for(n=0;n<t.length;n++){if(i=t[n],i!==parseInt(i,10))throw new Error("all values in "+r+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(i,n+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+r+" must be unique.")}}function PQ(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof t>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),OT(e,t,"currentIndices"),typeof r<"u"&&!Array.isArray(r)&&(r=[r]),typeof r<"u"&&OT(e,r,"newIndices"),typeof r<"u"&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function fYe(e,t,r){var n,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof t>"u")throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n++)if(i=t[n],typeof i!="object"||Array.isArray(i)||i===null)throw new Error("all values in traces array must be non-array objects");if(typeof r<"u"&&!Array.isArray(r)&&(r=[r]),typeof r<"u"&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function cYe(e,t,r,n){var i=_r.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!_r.isPlainObject(t))throw new Error("update must be a key:value object");if(typeof r>"u")throw new Error("indices must be an integer or array of integers");OT(e,r,"indices");for(var a in t){if(!Array.isArray(t[a])||t[a].length!==r.length)throw new Error("attribute "+a+" must be an array of length equal to indices array length");if(i&&(!(a in n)||!Array.isArray(n[a])||n[a].length!==t[a].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function hYe(e,t,r,n){var i=_r.isPlainObject(n),a=[],o,s,l,u,f;Array.isArray(r)||(r=[r]),r=zT(r,e.data.length-1);for(var c in t)for(var h=0;h<r.length;h++){if(o=e.data[r[h]],l=$i(o,c),s=l.get(),u=t[c][h],!_r.isArrayOrTypedArray(u))throw new Error("attribute: "+c+" index: "+h+" must be an array");if(!_r.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+c);if(s.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+c);f=i?n[c][h]:n,JGe(f)||(f=-1),a.push({prop:l,target:s,insert:u,maxp:Math.floor(f)})}return a}function FQ(e,t,r,n,i){cYe(e,t,r,n);for(var a=hYe(e,t,r,n),o={},s={},l=0;l<a.length;l++){var u=a[l].prop,f=a[l].maxp,c=i(a[l].target,a[l].insert,f);u.set(c[0]),Array.isArray(o[u.astr])||(o[u.astr]=[]),o[u.astr].push(c[1]),Array.isArray(s[u.astr])||(s[u.astr]=[]),s[u.astr].push(a[l].target.length)}return{update:o,maxPoints:s}}function NQ(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}function zQ(e,t,r,n){e=_r.getGraphDiv(e);function i(l,u,f){var c,h;if(_r.isTypedArray(l))if(f<0){var v=new l.constructor(0),b=NQ(l,u);f<0?(c=b,h=v):(c=v,h=b)}else if(c=new l.constructor(f),h=new l.constructor(l.length+u.length-f),f===u.length)c.set(u),h.set(l);else if(f<u.length){var y=u.length-f;c.set(u.subarray(y)),h.set(l),h.set(u.subarray(0,y),l.length)}else{var x=f-u.length,m=l.length-x;c.set(l.subarray(m)),c.set(u,x),h.set(l.subarray(0,m))}else c=l.concat(u),h=f>=0&&f<c.length?c.splice(0,c.length-f):[];return[c,h]}var a=FQ(e,t,r,n,i),o=fi.redraw(e),s=[e,a.update,r,a.maxPoints];return $l.add(e,fi.prependTraces,s,zQ,arguments),o}function OQ(e,t,r,n){e=_r.getGraphDiv(e);function i(l,u,f){var c,h;if(_r.isTypedArray(l))if(f<=0){var v=new l.constructor(0),b=NQ(u,l);f<0?(c=b,h=v):(c=v,h=b)}else if(c=new l.constructor(f),h=new l.constructor(l.length+u.length-f),f===u.length)c.set(u),h.set(l);else if(f<u.length){var y=u.length-f;c.set(u.subarray(0,y)),h.set(u.subarray(y)),h.set(l,y)}else{var x=f-u.length;c.set(u),c.set(l.subarray(0,x),u.length),h.set(l.subarray(x))}else c=u.concat(l),h=f>=0&&f<c.length?c.splice(f,c.length):[];return[c,h]}var a=FQ(e,t,r,n,i),o=fi.redraw(e),s=[e,a.update,r,a.maxPoints];return $l.add(e,fi.extendTraces,s,OQ,arguments),o}function BQ(e,t,r){e=_r.getGraphDiv(e);var n=[],i=fi.deleteTraces,a=BQ,o=[e,n],s=[e,t],l,u;for(fYe(e,t,r),Array.isArray(t)||(t=[t]),t=t.map(function(f){return _r.extendFlat({},f)}),_o.cleanData(t),l=0;l<t.length;l++)e.data.push(t[l]);for(l=0;l<t.length;l++)n.push(-t.length+l);if(typeof r>"u")return u=fi.redraw(e),$l.add(e,i,o,a,s),u;Array.isArray(r)||(r=[r]);try{PQ(e,n,r)}catch(f){throw e.data.splice(e.data.length-t.length,t.length),f}return $l.startSequence(e),$l.add(e,i,o,a,s),u=fi.moveTraces(e,n,r),$l.stopSequence(e),u}function HQ(e,t){e=_r.getGraphDiv(e);var r=[],n=fi.addTraces,i=HQ,a=[e,r,t],o=[e,t],s,l;if(typeof t>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(t)||(t=[t]),OT(e,t,"indices"),t=zT(t,e.data.length-1),t.sort(_r.sorterDes),s=0;s<t.length;s+=1)l=e.data.splice(t[s],1)[0],r.push(l);var u=fi.redraw(e);return $l.add(e,n,a,i,o),u}function m6(e,t,r){e=_r.getGraphDiv(e);var n=[],i=[],a=m6,o=m6,s=[e,r,t],l=[e,t,r],u;if(PQ(e,t,r),t=Array.isArray(t)?t:[t],typeof r>"u")for(r=[],u=0;u<t.length;u++)r.push(-t.length+u);for(r=Array.isArray(r)?r:[r],t=zT(t,e.data.length-1),r=zT(r,e.data.length-1),u=0;u<e.data.length;u++)t.indexOf(u)===-1&&n.push(e.data[u]);for(u=0;u<t.length;u++)i.push({newIndex:r[u],trace:e.data[t[u]]});for(i.sort(function(c,h){return c.newIndex-h.newIndex}),u=0;u<i.length;u+=1)n.splice(i[u].newIndex,0,i[u].trace);e.data=n;var f=fi.redraw(e);return $l.add(e,a,s,o,l),f}function BT(e,t,r,n){e=_r.getGraphDiv(e),_o.clearPromiseQueue(e);var i={};if(typeof t=="string")i[t]=r;else if(_r.isPlainObject(t))i=_r.extendFlat({},t),n===void 0&&(n=r);else return _r.warn("Restyle fail.",t,r,n),Promise.reject();Object.keys(i).length&&(e.changed=!0);var a=_o.coerceTraceIndices(e,n),o=UQ(e,i,a),s=o.flags;s.calc&&(e.calcdata=void 0),s.clearAxisTypes&&_o.clearAxisTypes(e,a,{});var l=[];s.fullReplot?l.push(fi._doPlot):(l.push(fn.previousPromises),fn.supplyDefaults(e),s.markerSize&&(fn.doCalcdata(e),GT(l)),s.style&&l.push(Ri.doTraceStyle),s.colorbars&&l.push(Ri.doColorBars),l.push(Mb)),l.push(fn.rehover,fn.redrag,fn.reselect),$l.add(e,BT,[e,o.undoit,o.traces],BT,[e,o.redoit,o.traces]);var u=_r.syncOrAsync(l,e);return(!u||!u.then)&&(u=Promise.resolve()),u.then(function(){return e.emit("plotly_restyle",o.eventData),e})}function Lv(e){return e===void 0?null:e}function FT(e,t){return t?function(r,n,i){var a=$i(r,n),o=a.set;return a.set=function(s){var l=(i||"")+n;HT(l,a.get(),s,e),o(s)},a}:$i}function HT(e,t,r,n){if(Array.isArray(t)||Array.isArray(r))for(var i=Array.isArray(t)?t:[],a=Array.isArray(r)?r:[],o=Math.max(i.length,a.length),s=0;s<o;s++)HT(e+"["+s+"]",i[s],a[s],n);else if(_r.isPlainObject(t)||_r.isPlainObject(r)){var l=_r.isPlainObject(t)?t:{},u=_r.isPlainObject(r)?r:{},f=_r.extendFlat({},l,u);for(var c in f)HT(e+"."+c,l[c],u[c],n)}else n[e]===void 0&&(n[e]=Lv(t))}function vYe(e,t,r){for(var n in r){var i=$i(e,n);HT(n,i.get(),r[n],t)}}function UQ(e,t,r){var n=e._fullLayout,i=e._fullData,a=e.data,o=n._guiEditing,s=FT(n._preGUI,o),l=_r.extendDeepAll({},t),u;jQ(t);var f=Bd.traceFlags(),c={},h={},v;function b(){return r.map(function(){})}function y(G){var Z=Al.id2name(G);v.indexOf(Z)===-1&&v.push(Z)}function x(G){return"LAYOUT"+G+".autorange"}function m(G){return"LAYOUT"+G+".range"}function _(G){for(var Z=G;Z<i.length;Z++)if(i[Z]._input===a[G])return i[Z]}function g(G,Z,X){if(Array.isArray(G)){G.forEach(function(Oe){g(Oe,Z,X)});return}if(!(G in t||_o.hasParent(t,G))){var ge;if(G.substr(0,6)==="LAYOUT")ge=s(e.layout,G.replace("LAYOUT",""));else{var qe=r[X],Pe=n._tracePreGUI[_(qe)._fullInput.uid];ge=FT(Pe,o)(a[qe],G)}G in h||(h[G]=b()),h[G][X]===void 0&&(h[G][X]=Lv(ge.get())),Z!==void 0&&ge.set(Z)}}function A(G){return function(Z){return i[Z][G]}}function w(G){return function(Z,X){return Z===!1?i[r[X]][G]:null}}for(var k in t){if(_o.hasParent(t,k))throw new Error("cannot set "+k+" and a parent attribute simultaneously");var p=t[k],d,M,T,S,E,L;if((k==="autobinx"||k==="autobiny")&&(k=k.charAt(k.length-1)+"bins",Array.isArray(p)?p=p.map(w(k)):p===!1?p=r.map(A(k)):p=null),c[k]=p,k.substr(0,6)==="LAYOUT"){T=s(e.layout,k.replace("LAYOUT","")),h[k]=[Lv(T.get())],T.set(Array.isArray(p)?p[0]:p),f.calc=!0;continue}for(h[k]=b(),u=0;u<r.length;u++){d=a[r[u]],M=_(r[u]);var D=n._tracePreGUI[M._fullInput.uid];if(T=FT(D,o)(d,k),S=T.get(),E=Array.isArray(p)?p[u%p.length]:p,E!==void 0){var R=T.parts[T.parts.length-1],q=k.substr(0,k.length-R.length-1),C=q?q+".":"",F=q?$i(M,q).get():M;if(L=VT.getTraceValObject(M,T.parts),L&&L.impliedEdits&&E!==null)for(var N in L.impliedEdits)g(_r.relativeAttr(k,N),L.impliedEdits[N],u);else if((R==="thicknessmode"||R==="lenmode")&&S!==E&&(E==="fraction"||E==="pixels")&&F){var U=n._size,V=F.orient,Y=V==="top"||V==="bottom";if(R==="thicknessmode"){var K=Y?U.h:U.w;g(C+"thickness",F.thickness*(E==="fraction"?1/K:K),u)}else{var B=Y?U.w:U.h;g(C+"len",F.len*(E==="fraction"?1/B:B),u)}}else if(k==="type"&&(E==="pie"!=(S==="pie")||E==="funnelarea"!=(S==="funnelarea"))){var z="x",j="y";(E==="bar"||S==="bar")&&d.orientation==="h"&&(z="y",j="x"),_r.swapAttrs(d,["?","?src"],"labels",z),_r.swapAttrs(d,["d?","?0"],"label",z),_r.swapAttrs(d,["?","?src"],"values",j),S==="pie"||S==="funnelarea"?($i(d,"marker.color").set($i(d,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):Gf.traceIs(d,"cartesian")&&$i(d,"marker.colors").set($i(d,"marker.color").get())}h[k][u]=Lv(S);var ae=["swapxy","swapxyaxes","orientation","orientationaxes"];if(ae.indexOf(k)!==-1){if(k==="orientation"){T.set(E);var ee=d.x&&!d.y?"h":"v";if((T.get()||ee)===M.orientation)continue}else k==="orientationaxes"&&(d.orientation={v:"h",h:"v"}[M.orientation]);_o.swapXYData(d),f.calc=f.clearAxisTypes=!0}else fn.dataArrayContainers.indexOf(T.parts[0])!==-1?(_o.manageArrayContainers(T,E,h),f.calc=!0):(L?L.arrayOk&&!Gf.traceIs(M,"regl")&&(_r.isArrayOrTypedArray(E)||_r.isArrayOrTypedArray(S))?f.calc=!0:Bd.update(f,L):f.calc=!0,T.set(E))}}if(["swapxyaxes","orientationaxes"].indexOf(k)!==-1&&Al.swap(e,r),k==="orientationaxes"){var ve=$i(e.layout,"hovermode"),fe=ve.get();fe==="x"?ve.set("y"):fe==="y"?ve.set("x"):fe==="x unified"?ve.set("y unified"):fe==="y unified"&&ve.set("x unified")}if(["orientation","type"].indexOf(k)!==-1){for(v=[],u=0;u<r.length;u++){var se=a[r[u]];Gf.traceIs(se,"cartesian")&&(y(se.xaxis||"x"),y(se.yaxis||"y"))}g(v.map(x),!0,0),g(v.map(m),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:h,redoit:c,traces:r,eventData:_r.extendDeepNoArrays([],[l,r])}}function jQ(e){var t=_r.counterRegex("axis",".title",!1,!1),r=/colorbar\.title$/,n=Object.keys(e),i,a,o;for(i=0;i<n.length;i++)a=n[i],o=e[a],(a==="title"||t.test(a)||r.test(a))&&(typeof o=="string"||typeof o=="number")?s(a,a.replace("title","title.text")):a.indexOf("titlefont")>-1&&a.indexOf("grouptitlefont")===-1?s(a,a.replace("titlefont","title.font")):a.indexOf("titleposition")>-1?s(a,a.replace("titleposition","title.position")):a.indexOf("titleside")>-1?s(a,a.replace("titleside","title.side")):a.indexOf("titleoffset")>-1&&s(a,a.replace("titleoffset","title.offset"));function s(l,u){e[u]=e[l],delete e[l]}}function Ab(e,t,r){e=_r.getGraphDiv(e),_o.clearPromiseQueue(e);var n={};if(typeof t=="string")n[t]=r;else if(_r.isPlainObject(t))n=_r.extendFlat({},t);else return _r.warn("Relayout fail.",t,r),Promise.reject();Object.keys(n).length&&(e.changed=!0);var i=XQ(e,n),a=i.flags;a.calc&&(e.calcdata=void 0);var o=[fn.previousPromises];a.layoutReplot?o.push(Ri.layoutReplot):Object.keys(n).length&&(VQ(e,a,i)||fn.supplyDefaults(e),a.legend&&o.push(Ri.doLegend),a.layoutstyle&&o.push(Ri.layoutStyles),a.axrange&&GT(o,i.rangesAltered),a.ticks&&o.push(Ri.doTicksRelayout),a.modebar&&o.push(Ri.doModeBar),a.camera&&o.push(Ri.doCamera),a.colorbars&&o.push(Ri.doColorBars),o.push(Mb)),o.push(fn.rehover,fn.redrag,fn.reselect),$l.add(e,Ab,[e,i.undoit],Ab,[e,i.redoit]);var s=_r.syncOrAsync(o,e);return(!s||!s.then)&&(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",i.eventData),e})}function VQ(e,t,r){var n=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if(i!=="axrange"&&t[i])return!1;for(var a in r.rangesAltered){var o=Al.id2name(a),s=e.layout[o],l=n[o];if(l.autorange=s.autorange,s.range&&(l.range=s.range.slice()),l.cleanRange(),l._matchGroup){for(var u in l._matchGroup)if(u!==a){var f=n[Al.id2name(u)];f.autorange=l.autorange,f.range=l.range.slice(),f._input.range=l.range.slice()}}}return!0}function GT(e,t){var r=t?function(n){var i=[],a=!0;for(var o in t){var s=Al.getFromId(n,o);if(i.push(o),(s.ticklabelposition||"").indexOf("inside")!==-1&&s._anchorAxis&&i.push(s._anchorAxis._id),s._matchGroup)for(var l in s._matchGroup)t[l]||i.push(l);s.automargin&&(a=!1)}return Al.draw(n,i,{skipTitle:a})}:function(n){return Al.draw(n,"redraw")};e.push(nYe,Ri.doAutoRangeAndConstraints,r,Ri.drawData,Ri.finalDraw)}var GQ=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,YQ=/^[xyz]axis[0-9]*\.autorange$/,WQ=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function XQ(e,t){var r=e.layout,n=e._fullLayout,i=n._guiEditing,a=FT(n._preGUI,i),o=Object.keys(t),s=Al.list(e),l=_r.extendDeepAll({},t),u={},f,c,h;for(jQ(t),o=Object.keys(t),c=0;c<o.length;c++)if(o[c].indexOf("allaxes")===0){for(h=0;h<s.length;h++){var v=s[h]._id.substr(1),b=v.indexOf("scene")!==-1?v+".":"",y=o[c].replace("allaxes",b+s[h]._name);t[y]||(t[y]=t[o[c]])}delete t[o[c]]}var x=Bd.layoutFlags(),m={},_={};function g(qe,Pe){if(Array.isArray(qe)){qe.forEach(function(de){g(de,Pe)});return}if(!(qe in t||_o.hasParent(t,qe))){var Oe=a(r,qe);qe in _||(_[qe]=Lv(Oe.get())),Pe!==void 0&&Oe.set(Pe)}}var A={},w;function k(qe){var Pe=Al.name2id(qe.split(".")[0]);return A[Pe]=1,Pe}for(var p in t){if(_o.hasParent(t,p))throw new Error("cannot set "+p+" and a parent attribute simultaneously");for(var d=a(r,p),M=t[p],T=d.parts.length,S=T-1;S>0&&typeof d.parts[S]!="string";)S--;var E=d.parts[S],L=d.parts[S-1]+"."+E,D=d.parts.slice(0,S).join("."),R=$i(e.layout,D).get(),q=$i(n,D).get(),C=d.get();if(M!==void 0){m[p]=M,_[p]=E==="reverse"?M:Lv(C);var F=VT.getLayoutValObject(n,d.parts);if(F&&F.impliedEdits&&M!==null)for(var N in F.impliedEdits)g(_r.relativeAttr(p,N),F.impliedEdits[N]);if(["width","height"].indexOf(p)!==-1)if(M){g("autosize",null);var U=p==="height"?"width":"height";g(U,n[U])}else n[p]=e._initialAutoSize[p];else if(p==="autosize")g("width",M?null:n.width),g("height",M?null:n.height);else if(L.match(GQ))k(L),$i(n,D+"._inputRange").set(null);else if(L.match(YQ)){k(L),$i(n,D+"._inputRange").set(null);var V=$i(n,D).get();V._inputDomain&&(V._input.domain=V._inputDomain.slice())}else L.match(WQ)&&$i(n,D+"._inputDomain").set(null);if(E==="type"){w=R;var Y=q.type==="linear"&&M==="log",K=q.type==="log"&&M==="linear";if(Y||K){if(!w||!w.range)g(D+".autorange",!0);else if(q.autorange)Y&&(w.range=w.range[1]>w.range[0]?[1,2]:[2,1]);else{var B=w.range[0],z=w.range[1];Y?(B<=0&&z<=0&&g(D+".autorange",!0),B<=0?B=z/1e6:z<=0&&(z=B/1e6),g(D+".range[0]",Math.log(B)/Math.LN10),g(D+".range[1]",Math.log(z)/Math.LN10)):(g(D+".range[0]",Math.pow(10,B)),g(D+".range[1]",Math.pow(10,z)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[d.parts[0]]&&d.parts[1]==="radialaxis"&&delete n[d.parts[0]]._subplot.viewInitial["radialaxis.range"],Gf.getComponentMethod("annotations","convertCoords")(e,q,M,g),Gf.getComponentMethod("images","convertCoords")(e,q,M,g)}else g(D+".autorange",!0),g(D+".range",null);$i(n,D+"._inputRange").set(null)}else if(E.match(iYe)){var j=$i(n,p).get(),ae=(M||{}).type;(!ae||ae==="-")&&(ae="linear"),Gf.getComponentMethod("annotations","convertCoords")(e,j,ae,g),Gf.getComponentMethod("images","convertCoords")(e,j,ae,g)}var ee=PT.containerArrayMatch(p);if(ee){f=ee.array,c=ee.index;var ve=ee.property,fe=F||{editType:"calc"};c!==""&&ve===""&&(PT.isAddVal(M)?_[p]=null:PT.isRemoveVal(M)?_[p]=($i(r,f).get()||[])[c]:_r.warn("unrecognized full object value",t)),Bd.update(x,fe),u[f]||(u[f]={});var se=u[f][c];se||(se=u[f][c]={}),se[ve]=M,delete t[p]}else E==="reverse"?(R.range?R.range.reverse():(g(D+".autorange",!0),R.range=[1,0]),q.autorange?x.calc=!0:x.plot=!0):(p==="dragmode"&&(M===!1&&C!==!1||M!==!1&&C===!1)||n._has("scatter-like")&&n._has("regl")&&p==="dragmode"&&(M==="lasso"||M==="select")&&!(C==="lasso"||C==="select")||n._has("gl2d")?x.plot=!0:F?Bd.update(x,F):x.calc=!0,d.set(M))}}for(f in u){var G=PT.applyContainerArrayChanges(e,a(r,f),u[f],x,a);G||(x.plot=!0)}for(var Z in A){w=Al.getFromId(e,Z);var X=w&&w._constraintGroup;if(X){x.calc=!0;for(var ge in X)A[ge]||(Al.getFromId(e,ge)._constraintShrinkable=!0)}}return(ZQ(e)||t.height||t.width)&&(x.plot=!0),(x.plot||x.calc)&&(x.layoutReplot=!0),{flags:x,rangesAltered:A,undoit:_,redoit:m,eventData:l}}function ZQ(e){var t=e._fullLayout,r=t.width,n=t.height;return e.layout.autosize&&fn.plotAutoSize(e,e.layout,t),t.width!==r||t.height!==n}function UT(e,t,r,n){e=_r.getGraphDiv(e),_o.clearPromiseQueue(e),_r.isPlainObject(t)||(t={}),_r.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var i=_o.coerceTraceIndices(e,n),a=UQ(e,_r.extendFlat({},t),i),o=a.flags,s=XQ(e,_r.extendFlat({},r)),l=s.flags;(o.calc||l.calc)&&(e.calcdata=void 0),o.clearAxisTypes&&_o.clearAxisTypes(e,i,r);var u=[];l.layoutReplot?u.push(Ri.layoutReplot):o.fullReplot?u.push(fi._doPlot):(u.push(fn.previousPromises),VQ(e,l,s)||fn.supplyDefaults(e),o.style&&u.push(Ri.doTraceStyle),(o.colorbars||l.colorbars)&&u.push(Ri.doColorBars),l.legend&&u.push(Ri.doLegend),l.layoutstyle&&u.push(Ri.layoutStyles),l.axrange&&GT(u,s.rangesAltered),l.ticks&&u.push(Ri.doTicksRelayout),l.modebar&&u.push(Ri.doModeBar),l.camera&&u.push(Ri.doCamera),u.push(Mb)),u.push(fn.rehover,fn.redrag,fn.reselect),$l.add(e,UT,[e,a.undoit,s.undoit,a.traces],UT,[e,a.redoit,s.redoit,a.traces]);var f=_r.syncOrAsync(u,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:a.eventData,layout:s.eventData}),e})}function x6(e){return function(r){r._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return r._fullLayout._guiEditing=!1,n}}var dYe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],pYe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function LQ(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=e.match(n.pattern);if(i){var a=i[1]||"";return{head:a,tail:e.substr(a.length+1),attr:n.attr}}}}function CQ(e,t){var r=$i(t,e).get();if(r!==void 0)return r;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),r=$i(t,n.join(".")+".uirevision").get(),r!==void 0)return r;return t.uirevision}function gYe(e,t){for(var r=0;r<t.length;r++)if(t[r]._fullInput.uid===e)return r;return-1}function mYe(e,t,r){for(var n=0;n<t.length;n++)if(t[n].uid===e)return n;return!t[r]||t[r].uid?-1:r}function DQ(e,t){var r=_r.isPlainObject(e),n=Array.isArray(e);return r||n?(r&&_r.isPlainObject(t)||n&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function yYe(e,t,r,n){var i=n._preGUI,a,o,s,l,u,f,c,h,v,b,y=[],x={},m={};for(a in i){if(u=LQ(a,dYe),u){if(v=u.head,b=u.tail,o=u.attr||v+".uirevision",s=$i(n,o).get(),l=s&&CQ(o,t),l&&l===s){if(f=i[a],f===null&&(f=void 0),c=$i(t,a),h=c.get(),DQ(h,f)){h===void 0&&b==="autorange"&&y.push(v),c.set(Lv($i(n,a).get()));continue}else if(b==="autorange"||b.substr(0,6)==="range["){var _=i[v+".range[0]"],g=i[v+".range[1]"],A=i[v+".autorange"];if(A||A===null&&_===null&&g===null){if(!(v in x)){var w=$i(t,v).get();x[v]=w&&(w.autorange||w.autorange!==!1&&(!w.range||w.range.length!==2))}if(x[v]){c.set(Lv($i(n,a).get()));continue}}}}}else _r.warn("unrecognized GUI edit: "+a);delete i[a],u&&u.tail.substr(0,6)==="range["&&(m[u.head]=1)}for(var k=0;k<y.length;k++){var p=y[k];if(m[p]){var d=$i(t,p).get();d&&delete d.autorange}}var M=n._tracePreGUI;for(var T in M){var S=M[T],E=null,L;for(a in S){if(!E){var D=gYe(T,r);if(D<0){delete M[T];break}var R=r[D];L=R._fullInput;var q=mYe(T,e,L.index);if(q<0){delete M[T];break}E=e[q]}if(u=LQ(a,pYe),u){if(u.attr?(s=$i(n,u.attr).get(),l=s&&CQ(u.attr,t)):(s=L.uirevision,l=E.uirevision,l===void 0&&(l=t.uirevision)),l&&l===s&&(f=S[a],f===null&&(f=void 0),c=$i(E,a),h=c.get(),DQ(h,f))){c.set(Lv($i(L,a).get()));continue}}else _r.warn("unrecognized GUI edit: "+a+" in trace uid "+T);delete S[a]}}}function xYe(e,t,r,n){var i,a;function o(){return fi.addFrames(e,i)}e=_r.getGraphDiv(e),_o.clearPromiseQueue(e);var s=e._fullData,l=e._fullLayout;if(!_r.isPlotDiv(e)||!s||!l)a=fi.newPlot(e,t,r,n);else{if(_r.isPlainObject(t)){var u=t;t=u.data,r=u.layout,n=u.config,i=u.frames}var f=!1;if(n){var c=_r.extendDeep({},e._context);e._context=void 0,IQ(e,n),f=y6(c,e._context)}e.data=t||[],_o.cleanData(e.data),e.layout=r||{},_o.cleanLayout(e.layout),yYe(e.data,e.layout,s,l),fn.supplyDefaults(e,{skipUpdateCalc:!0});var h=e._fullData,v=e._fullLayout,b=v.datarevision===void 0,y=v.transition,x=wYe(e,l,v,b,y),m=x.newDataRevision,_=bYe(e,s,h,b,y,m);if(ZQ(e)&&(x.layoutReplot=!0),_.calc||x.calc){e.calcdata=void 0;for(var g=Object.getOwnPropertyNames(v),A=0;A<g.length;A++){var w=g[A],k=w.substring(0,5);if(k==="xaxis"||k==="yaxis"){var p=v[w]._emptyCategories;p&&p()}}}else fn.supplyDefaultsUpdateCalc(e.calcdata,h);var d=[];if(i&&(e._transitionData={},fn.createTransitionData(e),d.push(o)),v.transition&&!f&&(_.anim||x.anim))x.ticks&&d.push(Ri.doTicksRelayout),fn.doCalcdata(e),Ri.doAutoRangeAndConstraints(e),d.push(function(){return fn.transitionFromReact(e,_,x,l)});else if(_.fullReplot||x.layoutReplot||f)e._fullLayout._skipDefaults=!0,d.push(fi._doPlot);else{for(var M in x.arrays){var T=x.arrays[M];if(T.length){var S=Gf.getComponentMethod(M,"drawOne");if(S!==_r.noop)for(var E=0;E<T.length;E++)S(e,T[E]);else{var L=Gf.getComponentMethod(M,"draw");if(L===_r.noop)throw new Error("cannot draw components: "+M);L(e)}}}d.push(fn.previousPromises),_.style&&d.push(Ri.doTraceStyle),(_.colorbars||x.colorbars)&&d.push(Ri.doColorBars),x.legend&&d.push(Ri.doLegend),x.layoutstyle&&d.push(Ri.layoutStyles),x.axrange&&GT(d),x.ticks&&d.push(Ri.doTicksRelayout),x.modebar&&d.push(Ri.doModeBar),x.camera&&d.push(Ri.doCamera),d.push(Mb)}d.push(fn.rehover,fn.redrag,fn.reselect),a=_r.syncOrAsync(d,e),(!a||!a.then)&&(a=Promise.resolve(e))}return a.then(function(){return e.emit("plotly_react",{data:t,layout:r}),e})}function bYe(e,t,r,n,i,a){var o=t.length===r.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s=Bd.traceFlags();s.arrays={},s.nChanges=0,s.nChangesAnim=0;var l,u;function f(v){var b=VT.getTraceValObject(u,v);return!u._module.animatable&&b.anim&&(b.anim=!1),b}var c={getValObject:f,flags:s,immutable:n,transition:i,newDataRevision:a,gd:e},h={};for(l=0;l<t.length;l++)if(r[l]){if(u=r[l]._fullInput,fn.hasMakesDataTransform(u)&&(u=r[l]),h[u.uid])continue;h[u.uid]=1,jT(t[l]._fullInput,u,[],c)}return(s.calc||s.plot)&&(s.fullReplot=!0),i&&s.nChanges&&s.nChangesAnim&&(s.anim=s.nChanges===s.nChangesAnim&&o?"all":"some"),s}function wYe(e,t,r,n,i){var a=Bd.layoutFlags();a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0;function o(l){return VT.getLayoutValObject(r,l)}var s={getValObject:o,flags:a,immutable:n,transition:i,gd:e};return jT(t,r,[],s),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some"),a}function jT(e,t,r,n){var i,a,o,s=n.getValObject,l=n.flags,u=n.immutable,f=n.inArray,c=n.arrayIndex;function h(){var D=i.editType;if(f&&D.indexOf("arraydraw")!==-1){_r.pushUnique(l.arrays[f],c);return}Bd.update(l,i),D!=="none"&&l.nChanges++,n.transition&&i.anim&&l.nChangesAnim++,(GQ.test(o)||YQ.test(o))&&(l.rangesAltered[r[0]]=1),WQ.test(o)&&$i(t,"_inputDomain").set(null),a==="datarevision"&&(l.newDataRevision=1)}function v(D){return D.valType==="data_array"||D.arrayOk}for(a in e){if(l.calc&&!n.transition)return;var b=e[a],y=t[a],x=r.concat(a);if(o=x.join("."),!(a.charAt(0)==="_"||typeof b=="function"||b===y)){if((a==="tick0"||a==="dtick")&&r[0]!=="geo"){var m=t.tickmode;if(m==="auto"||m==="array"||!m)continue}if(!(a==="range"&&t.autorange)&&!((a==="zmin"||a==="zmax")&&t.type==="contourcarpet")&&(i=s(x),!!i&&!(i._compareAsJSON&&JSON.stringify(b)===JSON.stringify(y)))){var _=i.valType,g,A=v(i),w=Array.isArray(b),k=Array.isArray(y);if(w&&k){var p="_input_"+a,d=e[p],M=t[p];if(Array.isArray(d)&&d===M)continue}if(y===void 0)A&&w?l.calc=!0:h();else if(i._isLinkedToArray){var T=[],S=!1;f||(l.arrays[a]=T);var E=Math.min(b.length,y.length),L=Math.max(b.length,y.length);if(E!==L)if(i.editType==="arraydraw")S=!0;else{h();continue}for(g=0;g<E;g++)jT(b[g],y[g],x.concat(g),_r.extendFlat({inArray:a,arrayIndex:g},n));if(S)for(g=E;g<L;g++)T.push(g)}else!_&&_r.isPlainObject(b)?jT(b,y,x,n):A?w&&k?(u&&(l.calc=!0),(u||n.newDataRevision)&&h()):w!==k?l.calc=!0:h():w&&k?(b.length!==y.length||String(b)!==String(y))&&h():h()}}}for(a in t)if(!(a in e||a.charAt(0)==="_"||typeof t[a]=="function"))if(i=s(r.concat(a)),v(i)&&Array.isArray(t[a])){l.calc=!0;return}else h()}function y6(e,t){var r;for(r in e)if(r.charAt(0)!=="_"){var n=e[r],i=t[r];if(n!==i)if(_r.isPlainObject(n)&&_r.isPlainObject(i)){if(y6(n,i))return!0}else if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!0;for(var a=0;a<n.length;a++)if(n[a]!==i[a])if(_r.isPlainObject(n[a])&&_r.isPlainObject(i[a])){if(y6(n[a],i[a]))return!0}else return!0}else return!0}}function _Ye(e,t,r){if(e=_r.getGraphDiv(e),!_r.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),r=fn.supplyAnimationDefaults(r);var i=r.transition,a=r.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function o(u){return Array.isArray(i)?u>=i.length?i[0]:i[u]:i}function s(u){return Array.isArray(a)?u>=a.length?a[0]:a[u]:a}function l(u,f){var c=0;return function(){if(u&&++c===f)return u()}}return new Promise(function(u,f){function c(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var E=n._frameQueue.pop();E.onInterrupt&&E.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function h(E){if(E.length!==0){for(var L=0;L<E.length;L++){var D;E[L].type==="byname"?D=fn.computeFrame(e,E[L].name):D=E[L].data;var R=s(L),q=o(L);q.duration=Math.min(q.duration,R.duration);var C={frame:D,name:E[L].name,frameOpts:R,transitionOpts:q};L===E.length-1&&(C.onComplete=l(u,2),C.onInterrupt=f),n._frameQueue.push(C)}r.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||y()}}function v(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function b(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var E=n._currentFrame=n._frameQueue.shift();if(E){var L=E.name?E.name.toString():null;e._fullLayout._currentFrame=L,n._lastFrameAt=Date.now(),n._timeToNext=E.frameOpts.duration,fn.transition(e,E.frame.data,E.frame.layout,_o.coerceTraceIndices(e,E.frame.traces),E.frameOpts,E.transitionOpts).then(function(){E.onComplete&&E.onComplete()}),e.emit("plotly_animatingframe",{name:L,frame:E.frame,animation:{frame:E.frameOpts,transition:E.transitionOpts}})}else v()}function y(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var E=function(){n._animationRaf=window.requestAnimationFrame(E),Date.now()-n._lastFrameAt>n._timeToNext&&b()};E()}var x=0;function m(E){return Array.isArray(i)?x>=i.length?E.transitionOpts=i[x]:E.transitionOpts=i[0]:E.transitionOpts=i,x++,E}var _,g,A=[],w=t==null,k=Array.isArray(t),p=!w&&!k&&_r.isPlainObject(t);if(p)A.push({type:"object",data:m(_r.extendFlat({},t))});else if(w||["string","number"].indexOf(typeof t)!==-1)for(_=0;_<n._frames.length;_++)g=n._frames[_],g&&(w||String(g.group)===String(t))&&A.push({type:"byname",name:String(g.name),data:m({name:g.name})});else if(k)for(_=0;_<t.length;_++){var d=t[_];["number","string"].indexOf(typeof d)!==-1?(d=String(d),A.push({type:"byname",name:d,data:m({name:d})})):_r.isPlainObject(d)&&A.push({type:"object",data:m(_r.extendFlat({},d))})}for(_=0;_<A.length;_++)if(g=A[_],g.type==="byname"&&!n._frameHash[g.data.name]){_r.warn('animate failure: frame not found: "'+g.data.name+'"'),f();return}["next","immediate"].indexOf(r.mode)!==-1&&c(),r.direction==="reverse"&&A.reverse();var M=e._fullLayout._currentFrame;if(M&&r.fromcurrent){var T=-1;for(_=0;_<A.length;_++)if(g=A[_],g.type==="byname"&&g.name===M){T=_;break}if(T>0&&T<A.length-1){var S=[];for(_=0;_<A.length;_++)g=A[_],(A[_].type!=="byname"||_>T)&&S.push(g);A=S}}A.length>0?h(A):(e.emit("plotly_animated"),u())})}function TYe(e,t,r){if(e=_r.getGraphDiv(e),t==null)return Promise.resolve();if(!_r.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,i,a,o,s=e._transitionData._frames,l=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var u=s.length+t.length*2,f=[],c={};for(n=t.length-1;n>=0;n--)if(_r.isPlainObject(t[n])){var h=t[n].name,v=(l[h]||c[h]||{}).name,b=t[n].name,y=l[v]||c[v];v&&b&&typeof b=="number"&&y&&p6<EQ&&(p6++,_r.warn('addFrames: overwriting frame "'+(l[v]||c[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),p6===EQ&&_r.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),c[h]={name:h},f.push({frame:fn.supplyFrameDefaults(t[n]),index:r&&r[n]!==void 0&&r[n]!==null?r[n]:u+n})}f.sort(function(p,d){return p.index>d.index?-1:p.index<d.index?1:0});var x=[],m=[],_=s.length;for(n=f.length-1;n>=0;n--){if(i=f[n].frame,typeof i.name=="number"&&_r.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;l[i.name="frame "+e._transitionData._counter++];);if(l[i.name]){for(a=0;a<s.length&&(s[a]||{}).name!==i.name;a++);x.push({type:"replace",index:a,value:i}),m.unshift({type:"replace",index:a,value:s[a]})}else o=Math.max(0,Math.min(f[n].index,_)),x.push({type:"insert",index:o,value:i}),m.unshift({type:"delete",index:o}),_++}var g=fn.modifyFrames,A=fn.modifyFrames,w=[e,m],k=[e,x];return $l&&$l.add(e,g,w,A,k),fn.modifyFrames(e,x)}function AYe(e,t){if(e=_r.getGraphDiv(e),!_r.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,n,i=e._transitionData._frames,a=[],o=[];if(!t)for(t=[],r=0;r<i.length;r++)t.push(r);for(t=t.slice(),t.sort(),r=t.length-1;r>=0;r--)n=t[r],a.push({type:"delete",index:n}),o.unshift({type:"insert",index:n,value:i[n]});var s=fn.modifyFrames,l=fn.modifyFrames,u=[e,o],f=[e,a];return $l&&$l.add(e,s,u,l,f),fn.modifyFrames(e,a)}function MYe(e){e=_r.getGraphDiv(e);var t=e._fullLayout||{},r=e._fullData||[];return fn.cleanPlot([],{},r,t),fn.purge(e),g6.purge(e),t._container&&t._container.remove(),delete e._context,e}function kYe(e){var t=e._fullLayout,r=e.getBoundingClientRect();if(!_r.equalDomRects(r,t._lastBBox)){var n=t._invTransform=_r.inverseTransformMatrix(_r.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),t._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),t._lastBBox=r}}function SYe(e){var t=NT.select(e),r=e._fullLayout;if(r._calcInverseTransform=kYe,r._calcInverseTransform(e),r._container=t.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};NT.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),r._uid=_r.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(rYe.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var a=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=a.append("g").classed("imagelayer",!0),r._shapeUpperLayer=a.append("g").classed("shapelayer",!0),r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}fi.animate=_Ye;fi.addFrames=TYe;fi.deleteFrames=AYe;fi.addTraces=BQ;fi.deleteTraces=HQ;fi.extendTraces=zQ;fi.moveTraces=m6;fi.prependTraces=OQ;fi.newPlot=uYe;fi._doPlot=aYe;fi.purge=MYe;fi.react=xYe;fi.redraw=lYe;fi.relayout=Ab;fi.restyle=BT;fi.setPlotConfig=oYe;fi.update=UT;fi._guiRelayout=x6(Ab);fi._guiRestyle=x6(BT);fi._guiUpdate=x6(UT);fi._storeDirectGUIEdit=vYe});var Ep=$(Uc=>{"use strict";var EYe=Ir();Uc.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0};Uc.getRedrawFunc=function(e){return function(){EYe.getComponentMethod("colorbar","draw")(e)}};Uc.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};Uc.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var $Q=window.URL||window.webkitURL;Uc.createObjectURL=function(e){return $Q.createObjectURL(e)};Uc.revokeObjectURL=function(e){return $Q.revokeObjectURL(e)};Uc.createBlob=function(e,t){if(t==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(t==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var r=LYe(window.atob(e));return new window.Blob([r],{type:"image/"+t})};Uc.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function LYe(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}Uc.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/;Uc.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."});var XT=$((s5t,KQ)=>{"use strict";var w6=Nr(),CYe=pt(),DYe=un(),qYe=Rr(),WT=kh(),b6=/"/g,kb="TOBESTRIPPED",RYe=new RegExp('("'+kb+")|("+kb+'")',"g");function IYe(e){var t=w6.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":t.html(n).text()});return t.remove(),r}function PYe(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}KQ.exports=function(t,r,n){var i=t._fullLayout,a=i._paper,o=i._toppaper,s=i.width,l=i.height,u;a.insert("rect",":first-child").call(DYe.setRect,0,0,s,l).call(qYe.fill,i.paper_bgcolor);var f=i._basePlotModules||[];for(u=0;u<f.length;u++){var c=f[u];c.toSVG&&c.toSVG(t)}if(o){var h=o.node().childNodes,v=Array.prototype.slice.call(h);for(u=0;u<v.length;u++){var b=v[u];b.childNodes.length&&a.node().appendChild(b)}}i._draggers&&i._draggers.remove(),a.node().style.background="",a.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var x=w6.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){x.remove();return}else x.style({visibility:null,display:null});var m=this.style.fontFamily;m&&m.indexOf('"')!==-1&&x.style("font-family",m.replace(b6,kb))}),a.selectAll(".gradient_filled,.pattern_filled").each(function(){var x=w6.select(this),m=this.style.fill;m&&m.indexOf("url(")!==-1&&x.style("fill",m.replace(b6,kb));var _=this.style.stroke;_&&_.indexOf("url(")!==-1&&x.style("stroke",_.replace(b6,kb))}),(r==="pdf"||r==="eps")&&a.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),a.node().setAttributeNS(WT.xmlns,"xmlns",WT.svg),a.node().setAttributeNS(WT.xmlns,"xmlns:xlink",WT.xlink),r==="svg"&&n&&(a.attr("width",n*s),a.attr("height",n*l),a.attr("viewBox","0 0 "+s+" "+l));var y=new window.XMLSerializer().serializeToString(a.node());return y=IYe(y),y=PYe(y),y=y.replace(RYe,"'"),CYe.isIE()&&(y=y.replace(/"/gi,"'"),y=y.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),y=y.replace(/(\\')/gi,'"')),y}});var ZT=$((l5t,QQ)=>{"use strict";var JQ=pt(),FYe=u3().EventEmitter,rm=Ep();function NYe(e){var t=e.emitter||new FYe,r=new Promise(function(n,i){var a=window.Image,o=e.svg,s=e.format||"png";if(JQ.isIE()&&s!=="svg"){var l=new Error(rm.MSG_IE_BAD_FORMAT);return i(l),e.promise?r:t.emit("error",l)}var u=e.canvas,f=e.scale||1,c=e.width||300,h=e.height||150,v=f*c,b=f*h,y=u.getContext("2d",{willReadFrequently:!0}),x=new a,m,_;s==="svg"||JQ.isSafari()?_=rm.encodeSVG(o):(m=rm.createBlob(o,"svg"),_=rm.createObjectURL(m)),u.width=v,u.height=b,x.onload=function(){var g;switch(m=null,rm.revokeObjectURL(_),s!=="svg"&&y.drawImage(x,0,0,v,b),s){case"jpeg":g=u.toDataURL("image/jpeg");break;case"png":g=u.toDataURL("image/png");break;case"webp":g=u.toDataURL("image/webp");break;case"svg":g=_;break;default:var A="Image format is not jpeg, png, svg or webp.";if(i(new Error(A)),!e.promise)return t.emit("error",A)}n(g),e.promise||t.emit("success",g)},x.onerror=function(g){if(m=null,rm.revokeObjectURL(_),i(g),!e.promise)return t.emit("error",g)},x.src=_});return e.promise?r:t}QQ.exports=NYe});var T6=$((u5t,ree)=>{"use strict";var eee=mn(),tee=YT(),zYe=Zi(),Ih=pt(),Sb=Ep(),OYe=XT(),BYe=ZT(),HYe=E_().version,_6={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};function UYe(e,t){t=t||{};var r,n,i,a;Ih.isPlainObject(e)?(r=e.data||[],n=e.layout||{},i=e.config||{},a={}):(e=Ih.getGraphDiv(e),r=Ih.extendDeep([],e.data),n=Ih.extendDeep({},e.layout),i=e._context,a=e._fullLayout||{});function o(k){return!(k in t)||Ih.validate(t[k],_6[k])}if(!o("width")&&t.width!==null||!o("height")&&t.height!==null)throw new Error("Height and width should be pixel values.");if(!o("format"))throw new Error("Export format is not "+Ih.join2(_6.format.values,", "," or ")+".");var s={};function l(k,p){return Ih.coerce(t,s,_6,k,p)}var u=l("format"),f=l("width"),c=l("height"),h=l("scale"),v=l("setBackground"),b=l("imageDataOnly"),y=document.createElement("div");y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);var x=Ih.extendFlat({},n);f?x.width=f:t.width===null&&eee(a.width)&&(x.width=a.width),c?x.height=c:t.height===null&&eee(a.height)&&(x.height=a.height);var m=Ih.extendFlat({},i,{_exportedPlot:!0,staticPlot:!0,setBackground:v}),_=Sb.getRedrawFunc(y);function g(){return new Promise(function(k){setTimeout(k,Sb.getDelay(y._fullLayout))})}function A(){return new Promise(function(k,p){var d=OYe(y,u,h),M=y._fullLayout.width,T=y._fullLayout.height;function S(){tee.purge(y),document.body.removeChild(y)}if(u==="full-json"){var E=zYe.graphJson(y,!1,"keepdata","object",!0,!0);return E.version=HYe,E=JSON.stringify(E),S(),k(b?E:Sb.encodeJSON(E))}if(S(),u==="svg")return k(b?d:Sb.encodeSVG(d));var L=document.createElement("canvas");L.id=Ih.randstr(),BYe({format:u,width:M,height:T,scale:h,canvas:L,svg:d,promise:!0}).then(k).catch(p)})}function w(k){return b?k.replace(Sb.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,p){tee.newPlot(y,r,x,m).then(_).then(g).then(A).then(function(d){k(w(d))}).catch(function(d){p(d)})})}ree.exports=UYe});var oee=$((f5t,aee)=>{"use strict";var Wf=pt(),jYe=Zi(),VYe=Ed(),GYe=X0().dfltConfig,Yf=Wf.isPlainObject,Hd=Array.isArray,nee=Wf.isArrayOrTypedArray;aee.exports=function(t,r){t===void 0&&(t=[]),r===void 0&&(r={});var n=VYe.get(),i=[],a={_context:Wf.extendFlat({},GYe)},o,s;Hd(t)?(a.data=Wf.extendDeep([],t),o=t):(a.data=[],o=[],i.push(To("array","data"))),Yf(r)?(a.layout=Wf.extendDeep({},r),s=r):(a.layout={},s={},arguments.length>1&&i.push(To("object","layout"))),jYe.supplyDefaults(a);for(var l=a._fullData,u=o.length,f=0;f<u;f++){var c=o[f],h=["data",f];if(!Yf(c)){i.push(To("object",h));continue}var v=l[f],b=v.type,y=n.traces[b].attributes;y.type={valType:"enumerated",values:[b]},v.visible===!1&&c.visible!==!1&&i.push(To("invisible",h)),Eb(c,v,y,i,h);var x=c.transforms,m=v.transforms;if(x){Hd(x)||i.push(To("array",h,["transforms"])),h.push("transforms");for(var _=0;_<x.length;_++){var g=["transforms",_],A=x[_].type;if(!Yf(x[_])){i.push(To("object",h,g));continue}var w=n.transforms[A]?n.transforms[A].attributes:{};w.type={valType:"enumerated",values:Object.keys(n.transforms)},Eb(x[_],m[_],w,i,h,g)}}}var k=a._fullLayout,p=YYe(n,l);return Eb(s,k,p,i,"layout"),i.length===0?void 0:i};function Eb(e,t,r,n,i,a){a=a||[];for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];if(l!=="transforms"){var u=a.slice();u.push(l);var f=e[l],c=t[l],h=ZYe(r,l),v=(h||{}).valType,b=v==="info_array",y=v==="colorscale",x=(h||{}).items;if(!XYe(r,l))n.push(To("schema",i,u));else if(Yf(f)&&Yf(c)&&v!=="any")Eb(f,c,h,n,i,u);else if(b&&Hd(f)){f.length>c.length&&n.push(To("unused",i,u.concat(c.length)));var m=c.length,_=Array.isArray(x);_&&(m=Math.min(m,x.length));var g,A,w,k,p;if(h.dimensions===2)for(A=0;A<m;A++)if(Hd(f[A])){f[A].length>c[A].length&&n.push(To("unused",i,u.concat(A,c[A].length)));var d=c[A].length;for(g=0;g<(_?Math.min(d,x[A].length):d);g++)w=_?x[A][g]:x,k=f[A][g],p=c[A][g],Wf.validate(k,w)?p!==k&&p!==+k&&n.push(To("dynamic",i,u.concat(A,g),k,p)):n.push(To("value",i,u.concat(A,g),k))}else n.push(To("array",i,u.concat(A),f[A]));else for(A=0;A<m;A++)w=_?x[A]:x,k=f[A],p=c[A],Wf.validate(k,w)?p!==k&&p!==+k&&n.push(To("dynamic",i,u.concat(A),k,p)):n.push(To("value",i,u.concat(A),k))}else if(h.items&&!b&&Hd(f)){var M=x[Object.keys(x)[0]],T=[],S,E;for(S=0;S<c.length;S++){var L=c[S]._index||S;if(E=u.slice(),E.push(L),Yf(f[L])&&Yf(c[S])){T.push(L);var D=f[L],R=c[S];Yf(D)&&D.visible!==!1&&R.visible===!1?n.push(To("invisible",i,E)):Eb(D,R,M,n,i,E)}}for(S=0;S<f.length;S++)E=u.slice(),E.push(S),Yf(f[S])?T.indexOf(S)===-1&&n.push(To("unused",i,E)):n.push(To("object",i,E,f[S]))}else!Yf(f)&&Yf(c)?n.push(To("object",i,u,f)):!nee(f)&&nee(c)&&!b&&!y?n.push(To("array",i,u,f)):l in t?Wf.validate(f,h)?h.valType==="enumerated"&&(h.coerceNumber&&f!==+c||f!==c)&&n.push(To("dynamic",i,u,f,c)):n.push(To("value",i,u,f)):n.push(To("unused",i,u,f))}}return n}function YYe(e,t){for(var r=e.layout.layoutAttributes,n=0;n<t.length;n++){var i=t[n],a=e.traces[i.type],o=a.layoutAttributes;o&&(i.subplot?Wf.extendFlat(r[a.attributes.subplot.dflt],o):Wf.extendFlat(r,o))}return r}var WYe={object:function(e,t){var r;return e==="layout"&&t===""?r="The layout argument":e[0]==="data"&&t===""?r="Trace "+e[1]+" in the data argument":r=Lp(e)+"key "+t,r+" must be linked to an object container"},array:function(e,t){var r;return e==="data"?r="The data argument":r=Lp(e)+"key "+t,r+" must be linked to an array container"},schema:function(e,t){return Lp(e)+"key "+t+" is not part of the schema"},unused:function(e,t,r){var n=Yf(r)?"container":"key";return Lp(e)+n+" "+t+" did not get coerced"},dynamic:function(e,t,r,n){return[Lp(e)+"key",t,"(set to '"+r+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?Lp(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,r){return[Lp(e)+"key "+t,"is set to an invalid value ("+r+")"].join(" ")}};function Lp(e){return Hd(e)?"In data trace "+e[1]+", ":"In "+e+", "}function To(e,t,r,n,i){r=r||"";var a,o;Hd(t)?(a=t[0],o=t[1]):(a=t,o=null);var s=KYe(r),l=WYe[e](t,s,n,i);return Wf.log(l),{code:e,container:a,trace:o,path:r,astr:s,msg:l}}function XYe(e,t){var r=iee(t),n=r.keyMinusId,i=r.id;return n in e&&e[n]._isSubplotObj&&i?!0:t in e}function ZYe(e,t){if(t in e)return e[t];var r=iee(t);return e[r.keyMinusId]}var $Ye=Wf.counterRegex("([a-z]+)");function iee(e){var t=e.match($Ye);return{keyMinusId:t&&t[1],id:t&&t[2]}}function KYe(e){if(!Hd(e))return String(e);for(var t="",r=0;r<e.length;r++){var n=e[r];typeof n=="number"?t=t.substr(0,t.length-1)+"["+n+"]":t+=n,r<e.length-1&&(t+=".")}return t}});var uee=$((c5t,lee)=>{"use strict";var see=pt(),Lb=Ep();function JYe(e,t,r){var n=document.createElement("a"),i="download"in n,a=new Promise(function(o,s){var l,u;if(see.isIE())return l=Lb.createBlob(e,"svg"),window.navigator.msSaveBlob(l,t),l=null,o(t);if(i)return l=Lb.createBlob(e,r),u=Lb.createObjectURL(l),n.href=u,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),Lb.revokeObjectURL(u),l=null,o(t);if(see.isSafari()){var f=r==="svg"?",":";base64,";return Lb.octetStream(f+encodeURIComponent(e)),o(t)}s(new Error("download error"))});return a}lee.exports=JYe});var M6=$((h5t,fee)=>{"use strict";var A6=pt(),QYe=T6(),eWe=uee(),tWe=Ep();function rWe(e,t){var r;return A6.isPlainObject(e)||(r=A6.getGraphDiv(e)),t=t||{},t.format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise(function(n,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),A6.isIE()&&t.format!=="svg"&&i(new Error(tWe.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=QYe(e,t),o=t.filename||e.fn||"newplot";o+="."+t.format.replace("-","."),a.then(function(s){return r&&(r._snapshotInProgress=!1),eWe(s,o,t.format)}).then(function(s){n(s)}).catch(function(s){r&&(r._snapshotInProgress=!1),i(s)})})}fee.exports=rWe});var pee=$(k6=>{"use strict";var Cu=pt(),Du=Cu.isPlainObject,cee=Ed(),hee=Zi(),nWe=aa(),vee=bi(),dee=X0().dfltConfig;k6.makeTemplate=function(e){e=Cu.isPlainObject(e)?e:Cu.getGraphDiv(e),e=Cu.extendDeep({_context:dee},{data:e.data,layout:e.layout}),hee.supplyDefaults(e);var t=e.data||[],r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules,r._modules=e._fullLayout._modules;var n={data:{},layout:{}};t.forEach(function(v){var b={};Cb(v,b,aWe.bind(null,v));var y=Cu.coerce(v,{},nWe,"type"),x=n.data[y];x||(x=n.data[y]=[]),x.push(b)}),Cb(r,n.layout,iWe.bind(null,r)),delete n.layout.template;var i=r.template;if(Du(i)){var a=i.layout,o,s,l,u,f,c;Du(a)&&$T(a,n.layout);var h=i.data;if(Du(h)){for(s in n.data)if(l=h[s],Array.isArray(l)){for(f=n.data[s],c=f.length,u=l.length,o=0;o<c;o++)$T(l[o%u],f[o]);for(o=c;o<u;o++)f.push(Cu.extendDeep({},l[o]))}for(s in h)s in n.data||(n.data[s]=Cu.extendDeep([],h[s]))}}return n};function $T(e,t){e=Cu.extendDeep({},e);var r=Object.keys(e).sort(),n,i;function a(f,c,h){if(Du(c)&&Du(f))$T(f,c);else if(Array.isArray(c)&&Array.isArray(f)){var v=vee.arrayTemplater({_template:e},h);for(i=0;i<c.length;i++){var b=c[i],y=v.newItem(b)._template;y&&$T(y,b)}var x=v.defaultItems();for(i=0;i<x.length;i++)c.push(x[i]._template);for(i=0;i<c.length;i++)delete c[i].templateitemname}}for(n=0;n<r.length;n++){var o=r[n],s=e[o];if(o in t?a(s,t[o],o):t[o]=s,KT(o)===o)for(var l in t){var u=KT(l);l!==u&&u===o&&!(l in e)&&a(s,t[l],o)}}}function KT(e){return e.replace(/[0-9]+$/,"")}function Cb(e,t,r,n,i){var a=i&&r(i);for(var o in e){var s=e[o],l=Xf(e,o,n),u=Xf(e,o,i),f=r(u);if(!f){var c=KT(o);c!==o&&(u=Xf(e,c,i),f=r(u))}if(!(a&&a===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(s)))if(!f.valType&&Du(s))Cb(s,t,r,l,u);else if(f._isLinkedToArray&&Array.isArray(s))for(var h=!1,v=0,b={},y=0;y<s.length;y++){var x=s[y];if(Du(x)){var m=x.name;if(m)b[m]||(Cb(x,t,r,Xf(s,v,l),Xf(s,v,u)),v++,b[m]=1);else if(!h){var _=vee.arrayDefaultKey(o),g=Xf(e,_,n),A=Xf(s,v,l);Cb(x,t,r,A,Xf(s,v,u));var w=Cu.nestedProperty(t,A),k=Cu.nestedProperty(t,g);k.set(w.get()),w.set(null),h=!0}}}else{var p=Cu.nestedProperty(t,l);p.set(s)}}}function iWe(e,t){return cee.getLayoutValObject(e,Cu.nestedProperty({},t).parts)}function aWe(e,t){return cee.getTraceValObject(e,Cu.nestedProperty({},t).parts)}function Xf(e,t,r){var n;return r?Array.isArray(e)?n=r+"["+t+"]":n=r+"."+t:n=t,n}k6.validateTemplate=function(e,t){var r=Cu.extendDeep({},{_context:dee,data:e.data,layout:e.layout}),n=r.layout||{};Du(t)||(t=n.template||{});var i=t.layout,a=t.data,o=[];r.layout=n,r.layout.template=t,hee.supplyDefaults(r);var s=r._fullLayout,l=r._fullData,u={};function f(g,A){for(var w in g)if(w.charAt(0)!=="_"&&Du(g[w])){var k=KT(w),p=[],d;for(d=0;d<A.length;d++)p.push(Xf(g,w,A[d])),k!==w&&p.push(Xf(g,k,A[d]));for(d=0;d<p.length;d++)u[p[d]]=1;f(g[w],p)}}function c(g,A){for(var w in g)if(w.indexOf("defaults")===-1&&Du(g[w])){var k=Xf(g,w,A);u[k]?c(g[w],k):o.push({code:"unused",path:k})}}if(Du(i)?(f(s,["layout"]),c(i,"layout")):o.push({code:"layout"}),!Du(a))o.push({code:"data"});else{for(var h={},v,b=0;b<l.length;b++){var y=l[b];v=y.type,h[v]=(h[v]||0)+1,y._fullInput._template||o.push({code:"missing",index:y._fullInput.index,traceType:v})}for(v in a){var x=a[v].length,m=h[v]||0;x>m?o.push({code:"unused",traceType:v,templateCount:x,dataCount:m}):m>x&&o.push({code:"reused",traceType:v,templateCount:x,dataCount:m})}}function _(g,A){for(var w in g)if(w.charAt(0)!=="_"){var k=g[w],p=Xf(g,w,A);Du(k)?(Array.isArray(g)&&k._template===!1&&k.templateitemname&&o.push({code:"missing",path:p,templateitemname:k.templateitemname}),_(k,p)):Array.isArray(k)&&oWe(k)&&_(k,p)}}if(_({data:l,layout:s},""),o.length)return o.map(sWe)};function oWe(e){for(var t=0;t<e.length;t++)if(Du(e[t]))return!0}function sWe(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":e.path?t="There are no templates for item "+e.path+" with name "+e.templateitemname:t="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?t="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?t="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":t="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=t,e}});var mee=$(ka=>{"use strict";var Fo=YT();ka._doPlot=Fo._doPlot;ka.newPlot=Fo.newPlot;ka.restyle=Fo.restyle;ka.relayout=Fo.relayout;ka.redraw=Fo.redraw;ka.update=Fo.update;ka._guiRestyle=Fo._guiRestyle;ka._guiRelayout=Fo._guiRelayout;ka._guiUpdate=Fo._guiUpdate;ka._storeDirectGUIEdit=Fo._storeDirectGUIEdit;ka.react=Fo.react;ka.extendTraces=Fo.extendTraces;ka.prependTraces=Fo.prependTraces;ka.addTraces=Fo.addTraces;ka.deleteTraces=Fo.deleteTraces;ka.moveTraces=Fo.moveTraces;ka.purge=Fo.purge;ka.addFrames=Fo.addFrames;ka.deleteFrames=Fo.deleteFrames;ka.animate=Fo.animate;ka.setPlotConfig=Fo.setPlotConfig;ka.toImage=T6();ka.validate=oee();ka.downloadImage=M6();var gee=pee();ka.makeTemplate=gee.makeTemplate;ka.validateTemplate=gee.validateTemplate});var Db=$((p5t,yee)=>{"use strict";var S6=pt(),lWe=Ir();yee.exports=function(t,r,n,i){var a=i("x"),o=i("y"),s,l=lWe.getComponentMethod("calendars","handleTraceDefaults");if(l(t,r,["x","y"],n),a){var u=S6.minRowLength(a);o?s=Math.min(u,S6.minRowLength(o)):(s=u,i("y0"),i("dy"))}else{if(!o)return 0;s=S6.minRowLength(o),i("x0"),i("dx")}return r._length=s,s}});var Ph=$((g5t,wee)=>{"use strict";var xee=pt().dateTick0,uWe=Zn(),fWe=uWe.ONEWEEK;function bee(e,t){return e%fWe===0?xee(t,1):xee(t,0)}wee.exports=function(t,r,n,i,a){if(a||(a={x:!0,y:!0}),a.x){var o=i("xperiod");o&&(i("xperiod0",bee(o,r.xcalendar)),i("xperiodalignment"))}if(a.y){var s=i("yperiod");s&&(i("yperiod0",bee(s,r.ycalendar)),i("yperiodalignment"))}}});var Aee=$((m5t,Tee)=>{"use strict";var _ee=["orientation","groupnorm","stackgaps"];Tee.exports=function(t,r,n,i){var a=n._scatterStackOpts,o=i("stackgroup");if(o){var s=r.xaxis+r.yaxis,l=a[s];l||(l=a[s]={});var u=l[o],f=!1;u?u.traces.push(r):(u=l[o]={traceIndices:[],traces:[r]},f=!0);for(var c={orientation:r.x&&!r.y?"h":"v"},h=0;h<_ee.length;h++){var v=_ee[h],b=v+"Found";if(!u[b]){var y=t[v]!==void 0,x=v==="orientation";if((y||f)&&(u[v]=i(v,c[v]),x&&(u.fillDflt=u[v]==="h"?"tonextx":"tonexty"),y&&(u[b]=!0,!f&&(delete u.traces[0][v],x))))for(var m=0;m<u.traces.length-1;m++){var _=u.traces[m];_._input.fill!==_.fill&&(_.fill=u.fillDflt)}}}return u}}});var Cp=$((y5t,Eee)=>{"use strict";var Mee=Rr(),kee=jl().hasColorscale,See=$s(),cWe=ts();Eee.exports=function(t,r,n,i,a,o){var s=cWe.isBubble(t),l=(t.line||{}).color,u;if(o=o||{},l&&(n=l),a("marker.symbol"),a("marker.opacity",s?.7:1),a("marker.size"),a("marker.color",n),kee(t,"marker")&&See(t,r,i,a,{prefix:"marker.",cLetter:"c"}),o.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),o.noLine||(l&&!Array.isArray(l)&&r.marker.color!==l?u=l:s?u=Mee.background:u=Mee.defaultLine,a("marker.line.color",u),kee(t,"marker.line")&&See(t,r,i,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",s?1:0)),s&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),o.gradient){var f=a("marker.gradient.type");f!=="none"&&a("marker.gradient.color")}}});var Dp=$((x5t,Lee)=>{"use strict";var hWe=pt().isArrayOrTypedArray,vWe=jl().hasColorscale,dWe=$s();Lee.exports=function(t,r,n,i,a,o){var s=(t.marker||{}).color;if(a("line.color",n),vWe(t,"line"))dWe(t,r,i,a,{prefix:"line.",cLetter:"c"});else{var l=(hWe(s)?!1:s)||n;a("line.color",l)}a("line.width"),(o||{}).noDash||a("line.dash")}});var qb=$((b5t,Cee)=>{"use strict";Cee.exports=function(t,r,n){var i=n("line.shape");i==="spline"&&n("line.smoothing")}});var qp=$((w5t,Dee)=>{"use strict";var pWe=pt();Dee.exports=function(e,t,r,n,i){i=i||{},n("textposition"),pWe.coerceFont(n,"textfont",r.font),i.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var nm=$((_5t,Ree)=>{"use strict";var gWe=Rr(),qee=pt().isArrayOrTypedArray;Ree.exports=function(t,r,n,i){var a=!1;if(r.marker){var o=r.marker.color,s=(r.marker.line||{}).color;o&&!qee(o)?a=o:s&&!qee(s)&&(a=s)}i("fillcolor",gWe.addOpacity((r.line||{}).color||a||n,.5))}});var Nee=$((T5t,Fee)=>{"use strict";var Iee=pt(),mWe=Ir(),yWe=Ps(),xWe=kp(),im=ts(),bWe=Db(),wWe=Ph(),_We=Aee(),TWe=Cp(),AWe=Dp(),Pee=qb(),MWe=qp(),kWe=nm(),SWe=pt().coercePattern;Fee.exports=function(t,r,n,i){function a(v,b){return Iee.coerce(t,r,yWe,v,b)}var o=bWe(t,r,i,a);if(o||(r.visible=!1),!!r.visible){wWe(t,r,i,a),a("xhoverformat"),a("yhoverformat");var s=_We(t,r,i,a),l=!s&&o<xWe.PTS_LINESONLY?"lines+markers":"lines";a("text"),a("hovertext"),a("mode",l),im.hasLines(r)&&(AWe(t,r,n,i,a),Pee(t,r,a),a("connectgaps"),a("line.simplify")),im.hasMarkers(r)&&TWe(t,r,n,i,a,{gradient:!0}),im.hasText(r)&&(a("texttemplate"),MWe(t,r,i,a));var u=[];(im.hasMarkers(r)||im.hasText(r))&&(a("cliponaxis"),a("marker.maxdisplayed"),u.push("points")),a("fill",s?s.fillDflt:"none"),r.fill!=="none"&&(kWe(t,r,n,a),im.hasLines(r)||Pee(t,r,a),SWe(a,"fillpattern",r.fillcolor,!1));var f=(r.line||{}).color,c=(r.marker||{}).color;(r.fill==="tonext"||r.fill==="toself")&&u.push("fills"),a("hoveron",u.join("+")||"points"),r.hoveron!=="fills"&&a("hovertemplate");var h=mWe.getComponentMethod("errorbars","supplyDefaults");h(t,r,f||c||n,{axis:"y"}),h(t,r,f||c||n,{axis:"x",inherit:"y"}),Iee.coerceSelectionMarkerOpacity(r,a)}}});var Oee=$((A5t,zee)=>{"use strict";zee.exports=function(t){for(var r=0;r<t.length;r++){var n=t[r];if(n.type==="scatter"){var i=n.fill;if(!(i==="none"||i==="toself")&&(n.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var a=r-1;a>=0;a--){var o=t[a];if(o.type==="scatter"&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}});var Fh=$((M5t,Hee)=>{"use strict";var EWe=mn(),Bee=pt(),LWe=Bee.dateTime2ms,JT=Bee.incrementMonth,CWe=Zn(),DWe=CWe.ONEAVGMONTH;Hee.exports=function(t,r,n,i){if(r.type!=="date")return{vals:i};var a=t[n+"periodalignment"];if(!a)return{vals:i};var o=t[n+"period"],s;if(EWe(o)){if(o=+o,o<=0)return{vals:i}}else if(typeof o=="string"&&o.charAt(0)==="M"){var l=+o.substring(1);if(l>0&&Math.round(l)===l)s=l;else return{vals:i}}for(var u=r.calendar,f=a==="start",c=a==="end",h=t[n+"period0"],v=LWe(h,u)||0,b=[],y=[],x=[],m=i.length,_=0;_<m;_++){var g=i[_],A,w,k;if(s){for(A=Math.round((g-v)/(s*DWe)),k=JT(v,s*A,u);k>g;)k=JT(k,-s,u);for(;k<=g;)k=JT(k,s,u);w=JT(k,-s,u)}else{for(A=Math.round((g-v)/o),k=v+A*o;k>g;)k-=o;for(;k<=g;)k+=o;w=k-o}b[_]=f?w:c?k:(w+k)/2,y[_]=w,x[_]=k}return{vals:b,starts:y,ends:x}}});var Rp=$((k5t,jee)=>{"use strict";var E6=jl().hasColorscale,L6=ku(),Uee=ts();jee.exports=function(t,r){Uee.hasLines(r)&&E6(r,"line")&&L6(t,r,{vals:r.line.color,containerStr:"line",cLetter:"c"}),Uee.hasMarkers(r)&&(E6(r,"marker")&&L6(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),E6(r,"marker.line")&&L6(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var Cv=$((S5t,Vee)=>{"use strict";var Ml=pt();Vee.exports=function(t,r){for(var n=0;n<t.length;n++)t[n].i=n;Ml.mergeArray(r.text,t,"tx"),Ml.mergeArray(r.texttemplate,t,"txt"),Ml.mergeArray(r.hovertext,t,"htx"),Ml.mergeArray(r.customdata,t,"data"),Ml.mergeArray(r.textposition,t,"tp"),r.textfont&&(Ml.mergeArrayCastPositive(r.textfont.size,t,"ts"),Ml.mergeArray(r.textfont.color,t,"tc"),Ml.mergeArray(r.textfont.family,t,"tf"));var i=r.marker;if(i){Ml.mergeArrayCastPositive(i.size,t,"ms"),Ml.mergeArrayCastPositive(i.opacity,t,"mo"),Ml.mergeArray(i.symbol,t,"mx"),Ml.mergeArray(i.color,t,"mc");var a=i.line;i.line&&(Ml.mergeArray(a.color,t,"mlc"),Ml.mergeArrayCastPositive(a.width,t,"mlw"));var o=i.gradient;o&&o.type!=="none"&&(Ml.mergeArray(o.type,t,"mgt"),Ml.mergeArray(o.color,t,"mgc"))}}});var jc=$((E5t,Yee)=>{"use strict";var Gee=pt();Yee.exports=function(t,r){Gee.isArrayOrTypedArray(r.selectedpoints)&&Gee.tagSelected(t,r)}});var Ip=$((L5t,Qee)=>{"use strict";var Wee=mn(),D6=pt(),Rb=tn(),Xee=Fh(),C6=Zn().BADNUM,q6=ts(),qWe=Rp(),RWe=Cv(),IWe=jc();function PWe(e,t){var r=e._fullLayout,n=Rb.getFromId(e,t.xaxis||"x"),i=Rb.getFromId(e,t.yaxis||"y"),a=n.makeCalcdata(t,"x"),o=i.makeCalcdata(t,"y"),s=Xee(t,n,"x",a),l=Xee(t,i,"y",o),u=s.vals,f=l.vals,c=t._length,h=new Array(c),v=t.ids,b=R6(t,r,n,i),y=!1,x,m,_,g,A,w;Kee(r,t);var k="x",p="y",d;if(b)D6.pushUnique(b.traceIndices,t._expandedIndex),x=b.orientation==="v",x?(p="s",d="x"):(k="s",d="y"),A=b.stackgaps==="interpolate";else{var M=$ee(t,c);Zee(e,t,n,i,u,f,M)}var T=!!t.xperiodalignment,S=!!t.yperiodalignment;for(m=0;m<c;m++){var E=h[m]={},L=Wee(u[m]),D=Wee(f[m]);L&&D?(E[k]=u[m],E[p]=f[m],T&&(E.orig_x=a[m],E.xEnd=s.ends[m],E.xStart=s.starts[m]),S&&(E.orig_y=o[m],E.yEnd=l.ends[m],E.yStart=l.starts[m])):b&&(x?L:D)?(E[d]=x?u[m]:f[m],E.gap=!0,A?(E.s=C6,y=!0):E.s=0):E[k]=E[p]=C6,v&&(E.id=String(v[m]))}if(RWe(h,t),qWe(e,t),IWe(h,t),b){for(m=0;m<h.length;)h[m][d]===C6?h.splice(m,1):m++;if(D6.sort(h,function(F,N){return F[d]-N[d]||F.i-N.i}),y){for(m=0;m<h.length-1&&h[m].gap;)m++;for(w=h[m].s,w||(w=h[m].s=0),_=0;_<m;_++)h[_].s=w;for(g=h.length-1;g>m&&h[g].gap;)g--;for(w=h[g].s,_=h.length-1;_>g;_--)h[_].s=w;for(;m<g;)if(m++,h[m].gap){for(_=m+1;h[_].gap;)_++;for(var R=h[m-1][d],q=h[m-1].s,C=(h[_].s-q)/(h[_][d]-R);m<_;)h[m].s=q+(h[m][d]-R)*C,m++}}}return h}function Zee(e,t,r,n,i,a,o){var s=t._length,l=e._fullLayout,u=r._id,f=n._id,c=l._firstScatter[Jee(t)]===t.uid,h=(R6(t,l,r,n)||{}).orientation,v=t.fill;r._minDtick=0,n._minDtick=0;var b={padded:!0},y={padded:!0};o&&(b.ppad=y.ppad=o);var x=s<2||i[0]!==i[s-1]||a[0]!==a[s-1];x&&(v==="tozerox"||v==="tonextx"&&(c||h==="h"))?b.tozero=!0:!(t.error_y||{}).visible&&(v==="tonexty"||v==="tozeroy"||!q6.hasMarkers(t)&&!q6.hasText(t))&&(b.padded=!1,b.ppad=0),x&&(v==="tozeroy"||v==="tonexty"&&(c||h==="v"))?y.tozero=!0:(v==="tonextx"||v==="tozerox")&&(y.padded=!1),u&&(t._extremes[u]=Rb.findExtremes(r,i,b)),f&&(t._extremes[f]=Rb.findExtremes(n,a,y))}function $ee(e,t){if(q6.hasMarkers(e)){var r=e.marker,n=1.6*(e.marker.sizeref||1),i;if(e.marker.sizemode==="area"?i=function(u){return Math.max(Math.sqrt((u||0)/n),3)}:i=function(u){return Math.max((u||0)/n,3)},D6.isArrayOrTypedArray(r.size)){var a={type:"linear"};Rb.setConvert(a);for(var o=a.makeCalcdata(e.marker,"size"),s=new Array(t),l=0;l<t;l++)s[l]=i(o[l]);return s}else return i(r.size)}}function Kee(e,t){var r=Jee(t),n=e._firstScatter;n[r]||(n[r]=t.uid)}function Jee(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function R6(e,t,r,n){var i=e.stackgroup;if(i){var a=t._scatterStackOpts[r._id+n._id][i],o=a.orientation==="v"?n:r;if(o.type==="linear"||o.type==="log")return a}}Qee.exports={calc:PWe,calcMarkerSize:$ee,calcAxisExpansion:Zee,setFirstScatter:Kee,getStackOpts:R6}});var rte=$((C5t,tte)=>{"use strict";var ete=Ip();tte.exports=function(t,r){var n=r.xaxis,i=r.yaxis,a=n._id+i._id,o=t._fullLayout._scatterStackOpts[a];if(o){var s=t.calcdata,l,u,f,c,h,v,b,y,x,m,_,g,A,w,k;for(var p in o){m=o[p];var d=m.traceIndices;if(d.length){for(_=m.stackgaps==="interpolate",g=m.groupnorm,m.orientation==="v"?(A="x",w="y"):(A="y",w="x"),k=new Array(d.length),l=0;l<k.length;l++)k[l]=!1;v=s[d[0]];var M=new Array(v.length);for(l=0;l<v.length;l++)M[l]=v[l][A];for(l=1;l<d.length;l++){for(h=s[d[l]],u=f=0;u<h.length;u++){for(b=h[u][A];b>M[f]&&f<M.length;f++)I6(h,u,M[f],l,k,_,A),u++;if(b!==M[f]){for(c=0;c<l;c++)I6(s[d[c]],f,b,c,k,_,A);M.splice(f,0,b)}f++}for(;f<M.length;f++)I6(h,u,M[f],l,k,_,A),u++}var T=M.length;for(u=0;u<v.length;u++){for(y=v[u][w]=v[u].s,l=1;l<d.length;l++)h=s[d[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=T,y+=h[u].s,h[u][w]=y;if(g)for(x=(g==="fraction"?y:y/100)||1,l=0;l<d.length;l++){var S=s[d[l]][u];S[w]/=x,S.sNorm=S.s/x}}for(l=0;l<d.length;l++){h=s[d[l]];var E=h[0].trace,L=ete.calcMarkerSize(E,E._rawLength),D=Array.isArray(L);if(L&&k[l]||D){var R=L;for(L=new Array(T),u=0;u<T;u++)L[u]=h[u].gap?0:D?R[h[u].i]:R}var q=new Array(T),C=new Array(T);for(u=0;u<T;u++)q[u]=h[u].x,C[u]=h[u].y;ete.calcAxisExpansion(t,E,n,i,q,C,L),h[0].t.orientation=m.orientation}}}}};function I6(e,t,r,n,i,a,o){i[n]=!0;var s={i:null,gap:!0,s:0};if(s[o]=r,e.splice(t,0,s),t&&r===e[t-1][o]){var l=e[t-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else a&&(s.s=FWe(e,t,r,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function FWe(e,t,r,n){var i=e[t-1],a=e[t+1];return a?i?i.s+(a.s-i.s)*(r-i[n])/(a[n]-i[n]):a.s:i.s}});var N6=$((D5t,lte)=>{"use strict";var ote=Zn(),Ib=ote.BADNUM,ste=ote.LOG_CLIP,nte=ste+.5,ite=ste-.5,F6=pt(),NWe=F6.segmentsIntersect,ate=F6.constrain,P6=kp();lte.exports=function(t,r){var n=r.xaxis,i=r.yaxis,a=n.type==="log",o=i.type==="log",s=n._length,l=i._length,u=r.connectGaps,f=r.baseTolerance,c=r.shape,h=c==="linear",v=r.fill&&r.fill!=="none",b=[],y=P6.minTolerance,x=t.length,m=new Array(x),_=0,g,A,w,k,p,d,M,T,S,E,L,D,R,q,C,F;function N(ye){var Te=t[ye];if(!Te)return!1;var Ce=r.linearized?n.l2p(Te.x):n.c2p(Te.x),De=r.linearized?i.l2p(Te.y):i.c2p(Te.y);if(Ce===Ib){if(a&&(Ce=n.c2p(Te.x,!0)),Ce===Ib)return!1;o&&De===Ib&&(Ce*=Math.abs(n._m*l*(n._m>0?nte:ite)/(i._m*s*(i._m>0?nte:ite)))),Ce*=1e3}if(De===Ib){if(o&&(De=i.c2p(Te.y,!0)),De===Ib)return!1;De*=1e3}return[Ce,De]}function U(ye,Te,Ce,De){var oe=Ce-ye,pe=De-Te,Le=.5-ye,Ue=.5-Te,et=oe*oe+pe*pe,Qe=oe*Le+pe*Ue;if(Qe>0&&Qe<et){var dt=Le*pe-Ue*oe;if(dt*dt<et)return!0}}var V,Y;function K(ye,Te){var Ce=ye[0]/s,De=ye[1]/l,oe=Math.max(0,-Ce,Ce-1,-De,De-1);return oe&&V!==void 0&&U(Ce,De,V,Y)&&(oe=0),oe&&Te&&U(Ce,De,Te[0]/s,Te[1]/l)&&(oe=0),(1+P6.toleranceGrowth*oe)*f}function B(ye,Te){var Ce=ye[0]-Te[0],De=ye[1]-Te[1];return Math.sqrt(Ce*Ce+De*De)}var z=P6.maxScreensAway,j=-s*z,ae=s*(1+z),ee=-l*z,ve=l*(1+z),fe=[[j,ee,ae,ee],[ae,ee,ae,ve],[ae,ve,j,ve],[j,ve,j,ee]],se,G,Z,X,ge,qe;function Pe(ye,Te){for(var Ce=[],De=0,oe=0;oe<4;oe++){var pe=fe[oe],Le=NWe(ye[0],ye[1],Te[0],Te[1],pe[0],pe[1],pe[2],pe[3]);Le&&(!De||Math.abs(Le.x-Ce[0][0])>1||Math.abs(Le.y-Ce[0][1])>1)&&(Le=[Le.x,Le.y],De&&B(Le,ye)<B(Ce[0],ye)?Ce.unshift(Le):Ce.push(Le),De++)}return Ce}function Oe(ye){if(ye[0]<j||ye[0]>ae||ye[1]<ee||ye[1]>ve)return[ate(ye[0],j,ae),ate(ye[1],ee,ve)]}function de(ye,Te){if(ye[0]===Te[0]&&(ye[0]===j||ye[0]===ae)||ye[1]===Te[1]&&(ye[1]===ee||ye[1]===ve))return!0}function _e(ye,Te){var Ce=[],De=Oe(ye),oe=Oe(Te);return De&&oe&&de(De,oe)||(De&&Ce.push(De),oe&&Ce.push(oe)),Ce}function ce(ye,Te,Ce){return function(De,oe){var pe=Oe(De),Le=Oe(oe),Ue=[];if(pe&&Le&&de(pe,Le))return Ue;pe&&Ue.push(pe),Le&&Ue.push(Le);var et=2*F6.constrain((De[ye]+oe[ye])/2,Te,Ce)-((pe||De)[ye]+(Le||oe)[ye]);if(et){var Qe;pe&&Le?Qe=et>0==pe[ye]>Le[ye]?pe:Le:Qe=pe||Le,Qe[ye]+=et}return Ue}}var J;c==="linear"||c==="spline"?J=Pe:c==="hv"||c==="vh"?J=_e:c==="hvh"?J=ce(0,j,ae):c==="vhv"&&(J=ce(1,ee,ve));function ne(ye,Te){var Ce=Te[0]-ye[0],De=(Te[1]-ye[1])/Ce,oe=(ye[1]*Te[0]-Te[1]*ye[0])/Ce;return oe>0?[De>0?j:ae,ve]:[De>0?ae:j,ee]}function be(ye){var Te=ye[0],Ce=ye[1],De=Te===m[_-1][0],oe=Ce===m[_-1][1];if(!(De&&oe))if(_>1){var pe=Te===m[_-2][0],Le=Ce===m[_-2][1];De&&(Te===j||Te===ae)&&pe?Le?_--:m[_-1]=ye:oe&&(Ce===ee||Ce===ve)&&Le?pe?_--:m[_-1]=ye:m[_++]=ye}else m[_++]=ye}function Fe(ye){m[_-1][0]!==ye[0]&&m[_-1][1]!==ye[1]&&be([Z,X]),be(ye),ge=null,Z=X=0}function He(ye){if(V=ye[0]/s,Y=ye[1]/l,se=ye[0]<j?j:ye[0]>ae?ae:0,G=ye[1]<ee?ee:ye[1]>ve?ve:0,se||G){if(!_)m[_++]=[se||ye[0],G||ye[1]];else if(ge){var Te=J(ge,ye);Te.length>1&&(Fe(Te[0]),m[_++]=Te[1])}else qe=J(m[_-1],ye)[0],m[_++]=qe;var Ce=m[_-1];se&&G&&(Ce[0]!==se||Ce[1]!==G)?(ge&&(Z!==se&&X!==G?be(Z&&X?ne(ge,ye):[Z||se,X||G]):Z&&X&&be([Z,X])),be([se,G])):Z-se&&X-G&&be([se||Z,G||X]),ge=ye,Z=se,X=G}else ge&&Fe(J(ge,ye)[0]),m[_++]=ye}for(g=0;g<x;g++)if(A=N(g),!!A){for(_=0,ge=null,He(A),g++;g<x;g++){if(k=N(g),!k){if(u)continue;break}if(!h||!r.simplify){He(k);continue}var te=N(g+1);if(E=B(k,A),!(!(v&&(_===0||_===x-1))&&E<K(k,te)*y)){for(T=[(k[0]-A[0])/E,(k[1]-A[1])/E],p=A,L=E,D=q=C=0,M=!1,w=k,g++;g<t.length;g++){if(d=te,te=N(g+1),!d){if(u)continue;break}if(S=[d[0]-A[0],d[1]-A[1]],F=S[0]*T[1]-S[1]*T[0],q=Math.min(q,F),C=Math.max(C,F),C-q>K(d,te))break;w=d,R=S[0]*T[0]+S[1]*T[1],R>L?(L=R,k=d,M=!1):R<D&&(D=R,p=d,M=!0)}if(M?(He(k),w!==p&&He(p)):(p!==A&&He(p),w!==k&&He(k)),He(w),g>=t.length||!d)break;He(d),A=d}}ge&&be([Z||ge[0],X||ge[1]]),b.push(m.slice(0,_))}return b}});var cte=$((q5t,fte)=>{"use strict";var ute={tonextx:1,tonexty:1,tonext:1};fte.exports=function(t,r,n){var i,a,o,s,l,u={},f=!1,c=-1,h=0,v=-1;for(a=0;a<n.length;a++)i=n[a][0].trace,o=i.stackgroup||"",o?o in u?l=u[o]:(l=u[o]=h,h++):i.fill in ute&&v>=0?l=v:(l=v=h,h++),l<c&&(f=!0),i._groupIndex=c=l;var b=n.slice();f&&b.sort(function(x,m){var _=x[0].trace,g=m[0].trace;return _._groupIndex-g._groupIndex||_.index-g.index});var y={};for(a=0;a<b.length;a++)i=b[a][0].trace,o=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in ute&&(s=y[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),y[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return b}});var Fb=$((R5t,dte)=>{"use strict";var Vc=Nr(),zWe=Ir(),Pb=pt(),am=Pb.ensureSingle,vte=Pb.identity,Xa=un(),om=ts(),OWe=N6(),BWe=cte(),HWe=lb().tester;dte.exports=function(t,r,n,i,a,o){var s,l,u=!a,f=!!a&&a.duration>0,c=BWe(t,r,n);if(s=i.selectAll("g.trace").data(c,function(v){return v[0].trace.uid}),s.enter().append("g").attr("class",function(v){return"trace scatter trace"+v[0].trace.uid}).style("stroke-miterlimit",2),s.order(),UWe(t,s,r),f){o&&(l=o());var h=Vc.transition().duration(a.duration).ease(a.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()});h.each(function(){i.selectAll("g.trace").each(function(v,b){hte(t,b,r,v,c,this,a)})})}else s.each(function(v,b){hte(t,b,r,v,c,this,a)});u&&s.exit().remove(),i.selectAll("path:not([d])").remove()};function UWe(e,t,r){t.each(function(n){var i=am(Vc.select(this),"g","fills");Xa.setClipUrl(i,r.layerClipId,e);var a=n[0].trace,o=[];a._ownfill&&o.push("_ownFill"),a._nexttrace&&o.push("_nextFill");var s=i.selectAll("g").data(o,vte);s.enter().append("g"),s.exit().each(function(l){a[l]=null}).remove(),s.order().each(function(l){a[l]=am(Vc.select(this),"path","js-fill")})})}function hte(e,t,r,n,i,a,o){var s;jWe(e,t,r,n,i);var l=!!o&&o.duration>0;function u(Z){return l?Z.transition():Z}var f=r.xaxis,c=r.yaxis,h=n[0].trace,v=h.line,b=Vc.select(a),y=am(b,"g","errorbars"),x=am(b,"g","lines"),m=am(b,"g","points"),_=am(b,"g","text");if(zWe.getComponentMethod("errorbars","plot")(e,y,r,o),h.visible!==!0)return;u(b).style("opacity",h.opacity);var g,A,w=h.fill.charAt(h.fill.length-1);w!=="x"&&w!=="y"&&(w=""),n[0][r.isRangePlot?"nodeRangePlot3":"node3"]=b;var k="",p=[],d=h._prevtrace;d&&(k=d._prevRevpath||"",A=d._nextFill,p=d._polygons);var M,T,S="",E="",L,D,R,q,C,F,N,U=[],V=Pb.noop;if(g=h._ownFill,om.hasLines(h)||h.fill!=="none"){for(A&&A.datum(n),["hv","vh","hvh","vhv"].indexOf(v.shape)!==-1?(L=Xa.steps(v.shape),D=Xa.steps(v.shape.split("").reverse().join(""))):v.shape==="spline"?L=D=function(Z){var X=Z[Z.length-1];return Z.length>1&&Z[0][0]===X[0]&&Z[0][1]===X[1]?Xa.smoothclosed(Z.slice(1),v.smoothing):Xa.smoothopen(Z,v.smoothing)}:L=D=function(Z){return"M"+Z.join("L")},R=function(Z){return D(Z.reverse())},U=OWe(n,{xaxis:f,yaxis:c,connectGaps:h.connectgaps,baseTolerance:Math.max(v.width||1,3)/4,shape:v.shape,simplify:v.simplify,fill:h.fill}),N=h._polygons=new Array(U.length),s=0;s<U.length;s++)h._polygons[s]=HWe(U[s]);U.length&&(q=U[0][0],C=U[U.length-1],F=C[C.length-1]),V=function(Z){return function(X){if(M=L(X),T=R(X),S?w?(S+="L"+M.substr(1),E=T+("L"+E.substr(1))):(S+="Z"+M,E=T+"Z"+E):(S=M,E=T),om.hasLines(h)&&X.length>1){var ge=Vc.select(this);if(ge.datum(n),Z)u(ge.style("opacity",0).attr("d",M).call(Xa.lineGroupStyle)).style("opacity",1);else{var qe=u(ge);qe.attr("d",M),Xa.singleLineStyle(n,qe)}}}}}var Y=x.selectAll(".js-line").data(U);u(Y.exit()).style("opacity",0).remove(),Y.each(V(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(Xa.lineGroupStyle).each(V(!0)),Xa.setClipUrl(Y,r.layerClipId,e);function K(Z){u(Z).attr("d","M0,0Z")}U.length?(g?(g.datum(n),q&&F&&(w?(w==="y"?q[1]=F[1]=c.c2p(0,!0):w==="x"&&(q[0]=F[0]=f.c2p(0,!0)),u(g).attr("d","M"+F+"L"+q+"L"+S.substr(1)).call(Xa.singleFillStyle,e)):u(g).attr("d",S+"Z").call(Xa.singleFillStyle,e))):A&&(h.fill.substr(0,6)==="tonext"&&S&&k?(h.fill==="tonext"?u(A).attr("d",S+"Z"+k+"Z").call(Xa.singleFillStyle,e):u(A).attr("d",S+"L"+k.substr(1)+"Z").call(Xa.singleFillStyle,e),h._polygons=h._polygons.concat(p)):(K(A),h._polygons=null)),h._prevRevpath=E,h._prevPolygons=N):(g?K(g):A&&K(A),h._polygons=h._prevRevpath=h._prevPolygons=null);function B(Z){return Z.filter(function(X){return!X.gap&&X.vis})}function z(Z){return Z.filter(function(X){return X.vis})}function j(Z){return Z.filter(function(X){return!X.gap})}function ae(Z){return Z.id}function ee(Z){if(Z.ids)return ae}function ve(){return!1}function fe(Z,X,ge){var qe,Pe,Oe,de=ge[0].trace,_e=om.hasMarkers(de),ce=om.hasText(de),J=ee(de),ne=ve,be=ve;if(_e||ce){var Fe=vte,He=de.stackgroup,te=He&&e._fullLayout._scatterStackOpts[f._id+c._id][He].stackgaps==="infer zero";de.marker.maxdisplayed||de._needsCull?Fe=te?z:B:He&&!te&&(Fe=j),_e&&(ne=Fe),ce&&(be=Fe)}Pe=Z.selectAll("path.point"),qe=Pe.data(ne,J);var ye=qe.enter().append("path").classed("point",!0);l&&ye.call(Xa.pointStyle,de,e).call(Xa.translatePoints,f,c).style("opacity",0).transition().style("opacity",1),qe.order();var Te;_e&&(Te=Xa.makePointStyleFns(de)),qe.each(function(Ce){var De=Vc.select(this),oe=u(De);Oe=Xa.translatePoint(Ce,oe,f,c),Oe?(Xa.singlePointStyle(Ce,oe,de,Te,e),r.layerClipId&&Xa.hideOutsideRangePoint(Ce,oe,f,c,de.xcalendar,de.ycalendar),de.customdata&&De.classed("plotly-customdata",Ce.data!==null&&Ce.data!==void 0)):oe.remove()}),l?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),Pe=X.selectAll("g"),qe=Pe.data(be,J),qe.enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(Ce){var De=Vc.select(this),oe=u(De.select("text"));Oe=Xa.translatePoint(Ce,oe,f,c),Oe?r.layerClipId&&Xa.hideOutsideRangePoint(Ce,De,f,c,de.xcalendar,de.ycalendar):De.remove()}),qe.selectAll("text").call(Xa.textPointStyle,de,e).each(function(Ce){var De=f.c2p(Ce.x),oe=c.c2p(Ce.y);Vc.select(this).selectAll("tspan.line").each(function(){u(Vc.select(this)).attr({x:De,y:oe})})}),qe.exit().remove()}m.datum(n),_.datum(n),fe(m,_,n);var se=h.cliponaxis===!1,G=se?null:r.layerClipId;Xa.setClipUrl(m,G,e),Xa.setClipUrl(_,G,e)}function jWe(e,t,r,n,i){var a=r.xaxis,o=r.yaxis,s=Vc.extent(Pb.simpleMap(a.range,a.r2c)),l=Vc.extent(Pb.simpleMap(o.range,o.r2c)),u=n[0].trace;if(om.hasMarkers(u)){var f=u.marker.maxdisplayed;if(f!==0){var c=n.filter(function(y){return y.x>=s[0]&&y.x<=s[1]&&y.y>=l[0]&&y.y<=l[1]}),h=Math.ceil(c.length/f),v=0;i.forEach(function(y,x){var m=y[0].trace;om.hasMarkers(m)&&m.marker.maxdisplayed>0&&x<t&&v++});var b=Math.round(v*h/3+Math.floor(v/3)*h/7.1);n.forEach(function(y){delete y.vis}),c.forEach(function(y,x){Math.round((x+b)%h)===0&&(y.vis=!0)})}}}});var Zf=$((I5t,pte)=>{"use strict";pte.exports={container:"marker",min:"cmin",max:"cmax"}});var z6=$((P5t,gte)=>{"use strict";var QT=tn();gte.exports=function(t,r,n){var i={},a={_fullLayout:n},o=QT.getFromTrace(a,r,"x"),s=QT.getFromTrace(a,r,"y");return i.xLabel=QT.tickText(o,o.c2l(t.x),!0).text,i.yLabel=QT.tickText(s,s.c2l(t.y),!0).text,i}});var gf=$((F5t,mte)=>{"use strict";var O6=Nr(),sm=un(),VWe=Ir();function GWe(e){var t=O6.select(e).selectAll("g.trace.scatter");t.style("opacity",function(r){return r[0].trace.opacity}),t.selectAll("g.points").each(function(r){var n=O6.select(this),i=r.trace||r[0].trace;B6(n,i,e)}),t.selectAll("g.text").each(function(r){var n=O6.select(this),i=r.trace||r[0].trace;H6(n,i,e)}),t.selectAll("g.trace path.js-line").call(sm.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(sm.fillGroupStyle,e),VWe.getComponentMethod("errorbars","style")(t)}function B6(e,t,r){sm.pointStyle(e.selectAll("path.point"),t,r)}function H6(e,t,r){sm.textPointStyle(e.selectAll("text"),t,r)}function YWe(e,t,r){var n=t[0].trace;n.selectedpoints?(sm.selectedPointStyle(r.selectAll("path.point"),n),sm.selectedTextStyle(r.selectAll("text"),n)):(B6(r,n,e),H6(r,n,e))}mte.exports={style:GWe,stylePoints:B6,styleText:H6,styleOnSelect:YWe}});var eA=$((N5t,yte)=>{"use strict";var lm=Rr(),WWe=ts();yte.exports=function(t,r){var n,i;if(t.mode==="lines")return n=t.line.color,n&&lm.opacity(n)?n:t.fillcolor;if(t.mode==="none")return t.fill?t.fillcolor:"";var a=r.mcc||(t.marker||{}).color,o=r.mlcc||((t.marker||{}).line||{}).color;return i=a&&lm.opacity(a)?a:o&&lm.opacity(o)&&(r.mlw||((t.marker||{}).line||{}).width)?o:"",i?lm.opacity(i)<.3?lm.addOpacity(i,.3):i:(n=(t.line||{}).color,n&&lm.opacity(n)&&WWe.hasLines(t)&&t.line.width?n:t.fillcolor)}});var Nb=$((z5t,bte)=>{"use strict";var j6=pt(),xte=lo(),XWe=Ir(),ZWe=eA(),U6=Rr(),$We=j6.fillText;bte.exports=function(t,r,n,i){var a=t.cd,o=a[0].trace,s=t.xa,l=t.ya,u=s.c2p(r),f=l.c2p(n),c=[u,f],h=o.hoveron||"",v=o.mode.indexOf("markers")!==-1?3:.5,b=!!o.xperiodalignment,y=!!o.yperiodalignment;if(h.indexOf("points")!==-1){var x=function(fe){if(b){var se=s.c2p(fe.xStart),G=s.c2p(fe.xEnd);return u>=Math.min(se,G)&&u<=Math.max(se,G)?0:1/0}var Z=Math.max(3,fe.mrc||0),X=1-1/Z,ge=Math.abs(s.c2p(fe.x)-u);return ge<Z?X*ge/Z:ge-Z+X},m=function(fe){if(y){var se=l.c2p(fe.yStart),G=l.c2p(fe.yEnd);return f>=Math.min(se,G)&&f<=Math.max(se,G)?0:1/0}var Z=Math.max(3,fe.mrc||0),X=1-1/Z,ge=Math.abs(l.c2p(fe.y)-f);return ge<Z?X*ge/Z:ge-Z+X},_=function(fe){var se=Math.max(v,fe.mrc||0),G=s.c2p(fe.x)-u,Z=l.c2p(fe.y)-f;return Math.max(Math.sqrt(G*G+Z*Z)-se,1-v/se)},g=xte.getDistanceFunction(i,x,m,_);if(xte.getClosest(a,g,t),t.index!==!1){var A=a[t.index],w=s.c2p(A.x,!0),k=l.c2p(A.y,!0),p=A.mrc||1;t.index=A.i;var d=a[0].t.orientation,M=d&&(A.sNorm||A.s),T=d==="h"?M:A.orig_x!==void 0?A.orig_x:A.x,S=d==="v"?M:A.orig_y!==void 0?A.orig_y:A.y;return j6.extendFlat(t,{color:ZWe(o,A),x0:w-p,x1:w+p,xLabelVal:T,y0:k-p,y1:k+p,yLabelVal:S,spikeDistance:_(A),hovertemplate:o.hovertemplate}),$We(A,o,t),XWe.getComponentMethod("errorbars","hoverInfo")(A,o,t),[t]}}if(h.indexOf("fills")!==-1&&o._polygons){var E=o._polygons,L=[],D=!1,R=1/0,q=-1/0,C=1/0,F=-1/0,N,U,V,Y,K,B,z,j,ae;for(N=0;N<E.length;N++)V=E[N],V.contains(c)&&(D=!D,L.push(V),C=Math.min(C,V.ymin),F=Math.max(F,V.ymax));if(D){C=Math.max(C,0),F=Math.min(F,l._length);var ee=(C+F)/2;for(N=0;N<L.length;N++)for(Y=L[N].pts,U=1;U<Y.length;U++)j=Y[U-1][1],ae=Y[U][1],j>ee!=ae>=ee&&(B=Y[U-1][0],z=Y[U][0],ae-j&&(K=B+(z-B)*(ee-j)/(ae-j),R=Math.min(R,K),q=Math.max(q,K)));R=Math.max(R,0),q=Math.min(q,s._length);var ve=U6.defaultLine;return U6.opacity(o.fillcolor)?ve=o.fillcolor:U6.opacity((o.line||{}).color)&&(ve=o.line.color),j6.extendFlat(t,{distance:t.maxHoverDistance,x0:R,x1:q,y0:ee,y1:ee,color:ve,hovertemplate:!1}),delete t.index,o.text&&!Array.isArray(o.text)?t.text=String(o.text):t.text=o.name,[t]}}}});var zb=$((O5t,_te)=>{"use strict";var wte=ts();_te.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=[],s=n[0].trace,l,u,f,c,h=!wte.hasMarkers(s)&&!wte.hasText(s);if(h)return[];if(r===!1)for(l=0;l<n.length;l++)n[l].selected=0;else for(l=0;l<n.length;l++)u=n[l],f=i.c2p(u.x),c=a.c2p(u.y),u.i!==null&&r.contains([f,c],!1,l,t)?(o.push({pointNumber:u.i,x:i.c2d(u.x),y:a.c2d(u.y)}),u.selected=1):u.selected=0;return o}});var V6=$((B5t,Tte)=>{"use strict";Tte.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}});var Y6=$((H5t,kte)=>{"use strict";var Ob=Ir().traceIs,G6=B1();kte.exports=function(t,r,n,i){n("autotypenumbers",i.autotypenumbersDflt);var a=n("type",(i.splomStash||{}).type);a==="-"&&(KWe(r,i.data),r.type==="-"?r.type="linear":t.type=r.type)};function KWe(e,t){if(e.type==="-"){var r=e._id,n=r.charAt(0),i;r.indexOf("scene")!==-1&&(r=n);var a=JWe(t,r,n);if(a){if(a.type==="histogram"&&n==={v:"y",h:"x"}[a.orientation||"v"]){e.type="linear";return}var o=n+"calendar",s=a[o],l={noMultiCategory:!Ob(a,"cartesian")||Ob(a,"noMultiCategory")};if(a.type==="box"&&a._hasPreCompStats&&n==={h:"x",v:"y"}[a.orientation||"v"]&&(l.noMultiCategory=!0),l.autotypenumbers=e.autotypenumbers,Mte(a,n)){var u=Ate(a),f=[];for(i=0;i<t.length;i++){var c=t[i];!Ob(c,"box-violin")||(c[n+"axis"]||n)!==r||(c[u]!==void 0?f.push(c[u][0]):c.name!==void 0?f.push(c.name):f.push("text"),c[o]!==s&&(s=void 0))}e.type=G6(f,s,l)}else if(a.type==="splom"){var h=a.dimensions,v=h[a._axesDim[r]];v.visible&&(e.type=G6(v.values,s,l))}else e.type=G6(a[n]||[a[n+"0"]],s,l)}}}function JWe(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(i.type==="splom"&&i._length>0&&(i["_"+r+"axes"]||{})[t])return i;if((i[r+"axis"]||r)===t){if(Mte(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}function Ate(e){return{v:"x",h:"y"}[e.orientation||"v"]}function Mte(e,t){var r=Ate(e),n=Ob(e,"box-violin"),i=Ob(e._fullInput||{},"candlestick");return n&&!i&&t===r&&e[r]===void 0&&e[r+"0"]===void 0}});var tA=$((U5t,Ste)=>{"use strict";function QWe(e,t){var r=t.dataAttr||e._id.charAt(0),n={},i,a,o;if(t.axData)i=t.axData;else for(i=[],a=0;a<t.data.length;a++){var s=t.data[a];s[r+"axis"]===e._id&&i.push(s)}for(a=0;a<i.length;a++){var l=i[a][r];for(o=0;o<l.length;o++){var u=l[o];u!=null&&(n[u]=1)}}return Object.keys(n)}Ste.exports=function(t,r,n,i){if(r.type==="category"){var a=t.categoryarray,o=Array.isArray(a)&&a.length>0,s;o&&(s="array");var l=n("categoryorder",s),u;l==="array"&&(u=n("categoryarray")),!o&&l==="array"&&(l=r.categoryorder="trace"),l==="trace"?r._initialCategories=[]:l==="array"?r._initialCategories=u.slice():(u=QWe(r,i).sort(),l==="category ascending"?r._initialCategories=u:l==="category descending"&&(r._initialCategories=u.reverse()))}}});var rA=$((j5t,Lte)=>{"use strict";var Ete=Ko().mix,eXe=Ro(),tXe=pt();Lte.exports=function(t,r,n,i){i=i||{};var a=i.dfltColor;function o(p,d){return tXe.coerce2(t,r,i.attributes,p,d)}var s=o("linecolor",a),l=o("linewidth"),u=n("showline",i.showLine||!!s||!!l);u||(delete r.linecolor,delete r.linewidth);var f=Ete(a,i.bgColor,i.blend||eXe.lightFraction).toRgbString(),c=o("gridcolor",f),h=o("gridwidth"),v=o("griddash"),b=n("showgrid",i.showGrid||!!c||!!h||!!v);if(b||(delete r.gridcolor,delete r.gridwidth,delete r.griddash),i.hasMinor){var y=Ete(r.gridcolor,i.bgColor,67).toRgbString(),x=o("minor.gridcolor",y),m=o("minor.gridwidth",r.gridwidth||1),_=o("minor.griddash",r.griddash||"solid"),g=n("minor.showgrid",!!x||!!m||!!_);g||(delete r.minor.gridcolor,delete r.minor.gridwidth,delete r.minor.griddash)}if(!i.noZeroLine){var A=o("zerolinecolor",a),w=o("zerolinewidth"),k=n("zeroline",i.showGrid||!!A||!!w);k||(delete r.zerolinecolor,delete r.zerolinewidth)}}});var Hb=$((V5t,Pte)=>{"use strict";var Cte=mn(),rXe=Ir(),Bb=pt(),nXe=bi(),iXe=Mu(),W6=xl(),Dte=ap(),qte=F1(),aXe=op(),oXe=sp(),sXe=tA(),lXe=rA(),Rte=wv(),nA=Qo().WEEKDAY_PATTERN,uXe=Qo().HOUR_PATTERN;Pte.exports=function(t,r,n,i,a){var o=i.letter,s=i.font||{},l=i.splomStash||{},u=n("visible",!i.visibleDflt),f=r._template||{},c=r.type||f.type||"-",h;if(c==="date"){var v=rXe.getComponentMethod("calendars","handleDefaults");v(t,r,"calendar",i.calendar),i.noTicklabelmode||(h=n("ticklabelmode"))}var b="";(!i.noTicklabelposition||c==="multicategory")&&(b=Bb.coerce(t,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:h==="period"?["outside","inside"]:o==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),i.noTicklabeloverflow||n("ticklabeloverflow",b.indexOf("inside")!==-1?"hide past domain":c==="category"||c==="multicategory"?"allow":"hide past div"),Rte(r,a);var y=!r.isValidRange(t.range);y&&i.reverseDflt&&(y="reversed");var x=n("autorange",y);x&&(c==="linear"||c==="-")&&n("rangemode"),n("range"),r.cleanRange(),sXe(t,r,n,i),c!=="category"&&!i.noHover&&n("hoverformat");var m=n("color"),_=m!==W6.color.dflt?m:s.color,g=l.label||a._dfltTitle[o];if(oXe(t,r,n,c,i),!u)return r;n("title.text",g),Bb.coerceFont(n,"title.font",{family:s.family,size:Bb.bigFont(s.size),color:_}),Dte(t,r,n,c);var A=i.hasMinor;if(A&&(nXe.newContainer(r,"minor"),Dte(t,r,n,c,{isMinor:!0})),aXe(t,r,n,c,i),qte(t,r,n,i),A){var w=i.isMinor;i.isMinor=!0,qte(t,r,n,i),i.isMinor=w}lXe(t,r,n,{dfltColor:m,bgColor:i.bgColor,showGrid:i.showGrid,hasMinor:A,attributes:W6}),A&&!r.minor.ticks&&!r.minor.showgrid&&delete r.minor,(r.showline||r.ticks)&&n("mirror"),i.automargin&&n("automargin");var k=c==="multicategory";if(!i.noTickson&&(c==="category"||k)&&(r.ticks||r.showgrid)){var p;k&&(p="boundaries");var d=n("tickson",p);d==="boundaries"&&delete r.ticklabelposition}if(k){var M=n("showdividers");M&&(n("dividercolor"),n("dividerwidth"))}if(c==="date")if(iXe(t,r,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:fXe}),!r.rangebreaks.length)delete r.rangebreaks;else{for(var T=0;T<r.rangebreaks.length;T++)if(r.rangebreaks[T].pattern===nA){r._hasDayOfWeekBreaks=!0;break}if(Rte(r,a),a._has("scattergl")||a._has("splom"))for(var S=0;S<i.data.length;S++){var E=i.data[S];(E.type==="scattergl"||E.type==="splom")&&(E.visible=!1,Bb.warn(E.type+" traces do not work on axes with rangebreaks. Setting trace "+E.index+" to `visible: false`."))}}return r};function fXe(e,t,r){function n(h,v){return Bb.coerce(e,t,W6.rangebreaks,h,v)}var i=n("enabled");if(i){var a=n("bounds");if(a&&a.length>=2){var o="",s,l;if(a.length===2){for(s=0;s<2;s++)if(l=Ite(a[s]),l){o=nA;break}}var u=n("pattern",o);if(u===nA)for(s=0;s<2;s++)l=Ite(a[s]),l&&(t.bounds[s]=a[s]=l-1);if(u)for(s=0;s<2;s++)switch(l=a[s],u){case nA:if(!Cte(l)){t.enabled=!1;return}if(l=+l,l!==Math.floor(l)||l<0||l>=7){t.enabled=!1;return}t.bounds[s]=a[s]=l;break;case uXe:if(!Cte(l)){t.enabled=!1;return}if(l=+l,l<0||l>24){t.enabled=!1;return}t.bounds[s]=a[s]=l;break}if(r.autorange===!1){var f=r.range;if(f[0]<f[1]){if(a[0]<f[0]&&a[1]>f[1]){t.enabled=!1;return}}else if(a[0]>f[0]&&a[1]<f[1]){t.enabled=!1;return}}}else{var c=n("values");if(c&&c.length)n("dvalue");else{t.enabled=!1;return}}}}var cXe={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function Ite(e){if(typeof e=="string")return cXe[e.substr(0,3).toLowerCase()]}});var aA=$((G5t,Fte)=>{"use strict";var hXe=mn(),iA=pt();Fte.exports=function(t,r,n,i){var a=i.counterAxes||[],o=i.overlayableAxes||[],s=i.letter,l=i.grid,u,f,c,h;l&&(f=l._domains[s][l._axisMap[r._id]],u=l._anchors[r._id],f&&(c=l[s+"side"].split(" ")[0],h=l.domain[s][c==="right"||c==="top"?1:0])),f=f||[0,1],u=u||(hXe(t.position)?"free":a[0]||"free"),c=c||(s==="x"?"bottom":"left"),h=h||0;var v=iA.coerce(t,r,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:u}},"anchor");v==="free"&&n("position",h),iA.coerce(t,r,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:c}},"side");var b=!1;if(o.length&&(b=iA.coerce(t,r,{overlaying:{valType:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!b){var y=n("domain",f);y[0]>y[1]-1/4096&&(r.domain=f),iA.noneOrAll(t.domain,r.domain,f)}return n("layer"),r}});var Gte=$((Y5t,Vte)=>{"use strict";var Pp=pt(),Nte=Rr(),vXe=Pf().isUnifiedHover,dXe=fC(),zte=bi(),pXe=Z0(),Ote=xl(),gXe=Y6(),Bte=Hb(),mXe=Nd(),Hte=aA(),Z6=Io(),Ud=Z6.id2name,Ute=Z6.name2id,yXe=Qo().AX_ID_PATTERN,jte=Ir(),Ub=jte.traceIs,X6=jte.getComponentMethod;function oA(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}Vte.exports=function(t,r,n){var i=r.autotypenumbers,a={},o={},s={},l={},u={},f={},c={},h={},v={},b={},y,x;for(y=0;y<n.length;y++){var m=n[y];if(!(!Ub(m,"cartesian")&&!Ub(m,"gl2d"))){var _;if(m.xaxis)_=Ud(m.xaxis),oA(a,_,m);else if(m.xaxes)for(x=0;x<m.xaxes.length;x++)oA(a,Ud(m.xaxes[x]),m);var g;if(m.yaxis)g=Ud(m.yaxis),oA(a,g,m);else if(m.yaxes)for(x=0;x<m.yaxes.length;x++)oA(a,Ud(m.yaxes[x]),m);if(m.type==="funnel"?m.orientation==="h"?(_&&(o[_]=!0),g&&(c[g]=!0)):g&&(s[g]=!0):m.type==="image"?(g&&(h[g]=!0),_&&(h[_]=!0)):(g&&(u[g]=!0,f[g]=!0),(!Ub(m,"carpet")||m.type==="carpet"&&!m._cheater)&&_&&(l[_]=!0)),m.type==="carpet"&&m._cheater&&_&&(o[_]=!0),Ub(m,"2dMap")&&(v[_]=!0,v[g]=!0),Ub(m,"oriented")){var A=m.orientation==="h"?g:_;b[A]=!0}}}var w=r._subplots,k=w.xaxis,p=w.yaxis,d=Pp.simpleMap(k,Ud),M=Pp.simpleMap(p,Ud),T=d.concat(M),S=Nte.background;k.length&&p.length&&(S=Pp.coerce(t,r,pXe,"plot_bgcolor"));var E=Nte.combine(S,r.paper_bgcolor),L,D,R,q,C;function F(){var Fe=a[L]||[];C._traceIndices=Fe.map(function(He){return He._expandedIndex}),C._annIndices=[],C._shapeIndices=[],C._selectionIndices=[],C._imgIndices=[],C._subplotsWith=[],C._counterAxes=[],C._name=C._attr=L,C._id=D}function N(Fe,He){return Pp.coerce(q,C,Ote,Fe,He)}function U(Fe,He){return Pp.coerce2(q,C,Ote,Fe,He)}function V(Fe){return Fe==="x"?p:k}function Y(Fe,He){for(var te=Fe==="x"?d:M,ye=[],Te=0;Te<te.length;Te++){var Ce=te[Te];Ce!==He&&!(t[Ce]||{}).overlaying&&ye.push(Ute(Ce))}return ye}var K={x:V("x"),y:V("y")},B=K.x.concat(K.y),z={},j=[];function ae(){var Fe=q.matches;yXe.test(Fe)&&B.indexOf(Fe)===-1&&(z[Fe]=q.type,j=Object.keys(z))}var ee=dXe(t,r),ve=vXe(ee);for(y=0;y<T.length;y++){L=T[y],D=Ute(L),R=L.charAt(0),Pp.isPlainObject(t[L])||(t[L]={}),q=t[L],C=zte.newContainer(r,L,R+"axis"),F();var fe=R==="x"&&!l[L]&&o[L]||R==="y"&&!u[L]&&s[L],se=R==="y"&&(!f[L]&&c[L]||h[L]),G={hasMinor:!0,letter:R,font:r.font,outerTicks:v[L],showGrid:!b[L],data:a[L]||[],bgColor:E,calendar:r.calendar,automargin:!0,visibleDflt:fe,reverseDflt:se,autotypenumbersDflt:i,splomStash:((r._splomAxes||{})[R]||{})[D]};N("uirevision",r.uirevision),gXe(q,C,N,G),Bte(q,C,N,G,r);var Z=ve&&R===ee.charAt(0),X=U("spikecolor",ve?C.color:void 0),ge=U("spikethickness",ve?1.5:void 0),qe=U("spikedash",ve?"dot":void 0),Pe=U("spikemode",ve?"across":void 0),Oe=U("spikesnap"),de=N("showspikes",!!Z||!!X||!!ge||!!qe||!!Pe||!!Oe);de||(delete C.spikecolor,delete C.spikethickness,delete C.spikedash,delete C.spikemode,delete C.spikesnap),Hte(q,C,N,{letter:R,counterAxes:K[R],overlayableAxes:Y(R,L),grid:r.grid}),N("title.standoff"),ae(),C._input=q}for(y=0;y<j.length;){D=j[y++],L=Ud(D),R=L.charAt(0),Pp.isPlainObject(t[L])||(t[L]={}),q=t[L],C=zte.newContainer(r,L,R+"axis"),F();var _e={letter:R,font:r.font,outerTicks:v[L],showGrid:!b[L],data:[],bgColor:E,calendar:r.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:i,splomStash:((r._splomAxes||{})[R]||{})[D]};N("uirevision",r.uirevision),C.type=z[D]||"linear",Bte(q,C,N,_e,r),Hte(q,C,N,{letter:R,counterAxes:K[R],overlayableAxes:Y(R,L),grid:r.grid}),N("fixedrange"),ae(),C._input=q}var ce=X6("rangeslider","handleDefaults"),J=X6("rangeselector","handleDefaults");for(y=0;y<d.length;y++)L=d[y],q=t[L],C=r[L],ce(t,r,L),C.type==="date"&&J(q,C,r,M,C.calendar),N("fixedrange");for(y=0;y<M.length;y++){L=M[y],q=t[L],C=r[L];var ne=r[Ud(C.anchor)],be=X6("rangeslider","isVisible")(ne);N("fixedrange",be)}mXe.handleDefaults(t,r,{axIds:B.concat(j).sort(Z6.idSort),axHasImage:h})}});var Xte=$((W5t,Wte)=>{"use strict";var xXe=Nr(),Yte=Ir(),sA=pt(),mf=un(),lA=tn();Wte.exports=function(t,r,n,i){var a=t._fullLayout;if(r.length===0){lA.redrawComponents(t);return}function o(x){var m=x.xaxis,_=x.yaxis;a._defs.select("#"+x.clipId+"> rect").call(mf.setTranslate,0,0).call(mf.setScale,1,1),x.plot.call(mf.setTranslate,m._offset,_._offset).call(mf.setScale,1,1);var g=x.plot.selectAll(".scatterlayer .trace");g.selectAll(".point").call(mf.setPointGroupScale,1,1),g.selectAll(".textpoint").call(mf.setTextPointsScale,1,1),g.call(mf.hideOutsideRangePoints,x)}function s(x,m){var _=x.plotinfo,g=_.xaxis,A=_.yaxis,w=g._length,k=A._length,p=!!x.xr1,d=!!x.yr1,M=[];if(p){var T=sA.simpleMap(x.xr0,g.r2l),S=sA.simpleMap(x.xr1,g.r2l),E=T[1]-T[0],L=S[1]-S[0];M[0]=(T[0]*(1-m)+m*S[0]-T[0])/(T[1]-T[0])*w,M[2]=w*(1-m+m*L/E),g.range[0]=g.l2r(T[0]*(1-m)+m*S[0]),g.range[1]=g.l2r(T[1]*(1-m)+m*S[1])}else M[0]=0,M[2]=w;if(d){var D=sA.simpleMap(x.yr0,A.r2l),R=sA.simpleMap(x.yr1,A.r2l),q=D[1]-D[0],C=R[1]-R[0];M[1]=(D[1]*(1-m)+m*R[1]-D[1])/(D[0]-D[1])*k,M[3]=k*(1-m+m*C/q),A.range[0]=g.l2r(D[0]*(1-m)+m*R[0]),A.range[1]=A.l2r(D[1]*(1-m)+m*R[1])}else M[1]=0,M[3]=k;lA.drawOne(t,g,{skipTitle:!0}),lA.drawOne(t,A,{skipTitle:!0}),lA.redrawComponents(t,[g._id,A._id]);var F=p?w/M[2]:1,N=d?k/M[3]:1,U=p?M[0]:0,V=d?M[1]:0,Y=p?M[0]/M[2]*w:0,K=d?M[1]/M[3]*k:0,B=g._offset-Y,z=A._offset-K;_.clipRect.call(mf.setTranslate,U,V).call(mf.setScale,1/F,1/N),_.plot.call(mf.setTranslate,B,z).call(mf.setScale,F,N),mf.setPointGroupScale(_.zoomScalePts,1/F,1/N),mf.setTextPointsScale(_.zoomScaleTxt,1/F,1/N)}var l;i&&(l=i());function u(){for(var x={},m=0;m<r.length;m++){var _=r[m],g=_.plotinfo.xaxis,A=_.plotinfo.yaxis;_.xr1&&(x[g._name+".range"]=_.xr1.slice()),_.yr1&&(x[A._name+".range"]=_.yr1.slice())}return l&&l(),Yte.call("relayout",t,x).then(function(){for(var w=0;w<r.length;w++)o(r[w].plotinfo)})}function f(){for(var x={},m=0;m<r.length;m++){var _=r[m],g=_.plotinfo.xaxis,A=_.plotinfo.yaxis;_.xr0&&(x[g._name+".range"]=_.xr0.slice()),_.yr0&&(x[A._name+".range"]=_.yr0.slice())}return Yte.call("relayout",t,x).then(function(){for(var w=0;w<r.length;w++)o(r[w].plotinfo)})}var c,h,v,b=xXe.ease(n.easing);t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(v),v=null,f()});function y(){h=Date.now();for(var x=Math.min(1,(h-c)/n.duration),m=b(x),_=0;_<r.length;_++)s(r[_],m);h-c>n.duration?(u(),v=window.cancelAnimationFrame(y)):v=window.requestAnimationFrame(y)}return c=Date.now(),v=window.requestAnimationFrame(y),Promise.resolve()}});var as=$(el=>{"use strict";var cA=Nr(),Zte=Ir(),fA=pt(),bXe=Zi(),wXe=un(),$te=Au().getModuleCalcData,jd=Io(),Nh=Qo(),_Xe=kh(),Fi=fA.ensureSingle;function uA(e,t,r){return fA.ensureSingle(e,t,r,function(n){n.datum(r)})}el.name="cartesian";el.attr=["xaxis","yaxis"];el.idRoot=["x","y"];el.idRegex=Nh.idRegex;el.attrRegex=Nh.attrRegex;el.attributes=V6();el.layoutAttributes=xl();el.supplyLayoutDefaults=Gte();el.transitionAxes=Xte();el.finalizeSubplots=function(e,t){var r=t._subplots,n=r.xaxis,i=r.yaxis,a=r.cartesian,o=a.concat(r.gl2d||[]),s={},l={},u,f,c;for(u=0;u<o.length;u++){var h=o[u].split("y");s[h[0]]=1,l["y"+h[1]]=1}for(u=0;u<n.length;u++)f=n[u],s[f]||(c=(e[jd.id2name(f)]||{}).anchor,Nh.idRegex.y.test(c)||(c="y"),a.push(f+c),o.push(f+c),l[c]||(l[c]=1,fA.pushUnique(i,c)));for(u=0;u<i.length;u++)c=i[u],l[c]||(f=(e[jd.id2name(c)]||{}).anchor,Nh.idRegex.x.test(f)||(f="x"),a.push(f+c),o.push(f+c),s[f]||(s[f]=1,fA.pushUnique(n,f)));if(!o.length){f="",c="";for(var v in e)if(Nh.attrRegex.test(v)){var b=v.charAt(0);b==="x"?(!f||+v.substr(5)<+f.substr(5))&&(f=v):(!c||+v.substr(5)<+c.substr(5))&&(c=v)}f=f?jd.name2id(f):"x",c=c?jd.name2id(c):"y",n.push(f),i.push(c),a.push(f+c)}};el.plot=function(e,t,r,n){var i=e._fullLayout,a=i._subplots.cartesian,o=e.calcdata,s;if(!Array.isArray(t))for(t=[],s=0;s<o.length;s++)t.push(s);for(s=0;s<a.length;s++){for(var l=a[s],u=i._plots[l],f=[],c,h=0;h<o.length;h++){var v=o[h],b=v[0].trace;b.xaxis+b.yaxis===l&&((t.indexOf(b.index)!==-1||b.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===l&&["tonextx","tonexty","tonext"].indexOf(b.fill)!==-1&&f.indexOf(c)===-1&&f.push(c),f.push(v)),c=v)}Kte(e,u,f,r,n)}};function Kte(e,t,r,n,i){for(var a=Nh.traceLayerClasses,o=e._fullLayout,s=o._modules,l,u,f,c=[],h=[],v=0;v<s.length;v++){l=s[v];var b=l.name,y=Zte.modules[b].categories;if(y.svg){var x=l.layerName||b+"layer",m=l.plot;u=$te(r,m),f=u[0],r=u[1],f.length&&c.push({i:a.indexOf(x),className:x,plotMethod:m,cdModule:f}),y.zoomScale&&h.push("."+x)}}c.sort(function(A,w){return A.i-w.i});var _=t.plot.selectAll("g.mlayer").data(c,function(A){return A.className});if(_.enter().append("g").attr("class",function(A){return A.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),_.exit().remove(),_.order(),_.each(function(A){var w=cA.select(this),k=A.className;A.plotMethod(e,t,A.cdModule,w,n,i),Nh.clipOnAxisFalseQuery.indexOf("."+k)===-1&&wXe.setClipUrl(w,t.layerClipId,e)}),o._has("scattergl")&&(l=Zte.getModule("scattergl"),f=$te(r,l)[0],l.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(Nh.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),h.length)){var g=t.plot.selectAll(h.join(",")).selectAll(".trace");t.zoomScalePts=g.selectAll("path.point"),t.zoomScaleTxt=g.selectAll(".textpoint")}}el.clean=function(e,t,r,n){var i=n._plots||{},a=t._plots||{},o=n._subplots||{},s,l,u;if(n._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(u in i)s=i[u],s.plotgroup&&s.plotgroup.remove();var f=n._has&&n._has("gl"),c=t._has&&t._has("gl");if(f&&!c)for(u in i)s=i[u],s._scene&&s._scene.destroy();if(o.xaxis&&o.yaxis){var h=jd.listIds({_fullLayout:n});for(l=0;l<h.length;l++){var v=h[l];t[jd.id2name(v)]||n._infolayer.selectAll(".g-"+v+"title").remove()}}var b=n._has&&n._has("cartesian"),y=t._has&&t._has("cartesian");if(b&&!y)Qte(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(o.cartesian)for(l=0;l<o.cartesian.length;l++){var x=o.cartesian[l];if(!a[x]){var m="."+x+",."+x+"-x,."+x+"-y";n._cartesianlayer.selectAll(m).remove(),ere(x,n)}}};el.drawFramework=function(e){var t=e._fullLayout,r=TXe(e),n=t._cartesianlayer.selectAll(".subplot").data(r,String);n.enter().append("g").attr("class",function(i){return"subplot "+i[0]}),n.order(),n.exit().call(Qte,t),n.each(function(i){var a=i[0],o=t._plots[a];o.plotgroup=cA.select(this),Jte(e,o),o.draglayer=Fi(t._draggers,"g",a)})};el.rangePlot=function(e,t,r){Jte(e,t),Kte(e,t,r),bXe.style(e)};function TXe(e){var t=e._fullLayout,r=t._subplots.cartesian,n=r.length,i,a,o,s,l,u,f=[],c=[];for(i=0;i<n;i++){o=r[i],s=t._plots[o],l=s.xaxis,u=s.yaxis;var h=l._mainAxis,v=u._mainAxis,b=h._id+v._id,y=t._plots[b];s.overlays=[],b!==o&&y?(s.mainplot=b,s.mainplotinfo=y,c.push(o)):(s.mainplot=void 0,s.mainplotinfo=void 0,f.push(o))}for(i=0;i<c.length;i++)o=c[i],s=t._plots[o],s.mainplotinfo.overlays.push(s);var x=f.concat(c),m=new Array(n);for(i=0;i<n;i++){o=x[i],s=t._plots[o],l=s.xaxis,u=s.yaxis;var _=[o,l.layer,u.layer,l.overlaying||"",u.overlaying||""];for(a=0;a<s.overlays.length;a++)_.push(s.overlays[a].id);m[i]=_}return m}function Jte(e,t){var r=t.plotgroup,n=t.id,i=Nh.layerValue2layerClass[t.xaxis.layer],a=Nh.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,u=l.plotgroup,f=n+"-x",c=n+"-y";t.minorGridlayer=l.minorGridlayer,t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,Fi(l.overlinesBelow,"path",f),Fi(l.overlinesBelow,"path",c),Fi(l.overaxesBelow,"g",f),Fi(l.overaxesBelow,"g",c),t.plot=Fi(l.overplot,"g",n),Fi(l.overlinesAbove,"path",f),Fi(l.overlinesAbove,"path",c),Fi(l.overaxesAbove,"g",f),Fi(l.overaxesAbove,"g",c),t.xlines=u.select(".overlines-"+i).select("."+f),t.ylines=u.select(".overlines-"+a).select("."+c),t.xaxislayer=u.select(".overaxes-"+i).select("."+f),t.yaxislayer=u.select(".overaxes-"+a).select("."+c)}else if(o)t.xlines=Fi(r,"path","xlines-above"),t.ylines=Fi(r,"path","ylines-above"),t.xaxislayer=Fi(r,"g","xaxislayer-above"),t.yaxislayer=Fi(r,"g","yaxislayer-above");else{var s=Fi(r,"g","layer-subplot");t.shapelayer=Fi(s,"g","shapelayer"),t.imagelayer=Fi(s,"g","imagelayer"),t.minorGridlayer=Fi(r,"g","minor-gridlayer"),t.gridlayer=Fi(r,"g","gridlayer"),t.zerolinelayer=Fi(r,"g","zerolinelayer"),Fi(r,"path","xlines-below"),Fi(r,"path","ylines-below"),t.overlinesBelow=Fi(r,"g","overlines-below"),Fi(r,"g","xaxislayer-below"),Fi(r,"g","yaxislayer-below"),t.overaxesBelow=Fi(r,"g","overaxes-below"),t.plot=Fi(r,"g","plot"),t.overplot=Fi(r,"g","overplot"),t.xlines=Fi(r,"path","xlines-above"),t.ylines=Fi(r,"path","ylines-above"),t.overlinesAbove=Fi(r,"g","overlines-above"),Fi(r,"g","xaxislayer-above"),Fi(r,"g","yaxislayer-above"),t.overaxesAbove=Fi(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+i),t.ylines=r.select(".ylines-"+a),t.xaxislayer=r.select(".xaxislayer-"+i),t.yaxislayer=r.select(".yaxislayer-"+a)}o||(uA(t.minorGridlayer,"g",t.xaxis._id),uA(t.minorGridlayer,"g",t.yaxis._id),t.minorGridlayer.selectAll("g").map(function(h){return h[0]}).sort(jd.idSort),uA(t.gridlayer,"g",t.xaxis._id),uA(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(h){return h[0]}).sort(jd.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function Qte(e,t){if(e){var r={};e.each(function(l){var u=l[0],f=cA.select(this);f.remove(),ere(u,t),r[u]=!0});for(var n in t._plots)for(var i=t._plots[n],a=i.overlays||[],o=0;o<a.length;o++){var s=a[o];r[s.id]&&s.plot.selectAll(".trace").remove()}}}function ere(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}el.toSVG=function(e){var t=e._fullLayout._glimages,r=cA.select(e).selectAll(".svg-container"),n=r.filter(function(a,o){return o===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function i(){var a=this,o=a.toDataURL("image/png"),s=t.append("svg:image");s.attr({xmlns:_Xe.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}n.each(i)};el.updateFx=c6().updateFx});var rre=$((Z5t,tre)=>{"use strict";var hA=ts();tre.exports={hasLines:hA.hasLines,hasMarkers:hA.hasMarkers,hasText:hA.hasText,isBubble:hA.isBubble,attributes:Ps(),supplyDefaults:Nee(),crossTraceDefaults:Oee(),calc:Ip().calc,crossTraceCalc:rte(),arraysToCalcdata:Cv(),plot:Fb(),colorbar:Zf(),formatLabels:z6(),style:gf().style,styleOnSelect:gf().styleOnSelect,hoverPoints:Nb(),selectPoints:zb(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:as(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}});var ire=$(($5t,nre)=>{"use strict";nre.exports={moduleType:"component",name:"legend",layoutAttributes:HL(),supplyLayoutDefaults:VL(),draw:aC(),style:QL()}});var sre=$((K5t,ore)=>{"use strict";var AXe=Nr(),MXe=Rr(),are=e6(),$6=pt(),kXe=$6.strScale,SXe=$6.strRotate,EXe=$6.strTranslate;ore.exports=function(t,r,n){var i=t.node(),a=are[n.arrowhead||0],o=are[n.startarrowhead||0],s=(n.arrowwidth||1)*(n.arrowsize||1),l=(n.arrowwidth||1)*(n.startarrowsize||1),u=r.indexOf("start")>=0,f=r.indexOf("end")>=0,c=a.backoff*s+n.standoff,h=o.backoff*l+n.startstandoff,v,b,y,x;if(i.nodeName==="line"){v={x:+t.attr("x1"),y:+t.attr("y1")},b={x:+t.attr("x2"),y:+t.attr("y2")};var m=v.x-b.x,_=v.y-b.y;if(y=Math.atan2(_,m),x=y+Math.PI,c&&h&&c+h>Math.sqrt(m*m+_*_)){D();return}if(c){if(c*c>m*m+_*_){D();return}var g=c*Math.cos(y),A=c*Math.sin(y);b.x+=g,b.y+=A,t.attr({x2:b.x,y2:b.y})}if(h){if(h*h>m*m+_*_){D();return}var w=h*Math.cos(y),k=h*Math.sin(y);v.x-=w,v.y-=k,t.attr({x1:v.x,y1:v.y})}}else if(i.nodeName==="path"){var p=i.getTotalLength(),d="";if(p<c+h){D();return}var M=i.getPointAtLength(0),T=i.getPointAtLength(.1);y=Math.atan2(M.y-T.y,M.x-T.x),v=i.getPointAtLength(Math.min(h,p)),d="0px,"+h+"px,";var S=i.getPointAtLength(p),E=i.getPointAtLength(p-.1);x=Math.atan2(S.y-E.y,S.x-E.x),b=i.getPointAtLength(Math.max(0,p-c));var L=d?h+c:c;d+=p-L+"px,"+p+"px",t.style("stroke-dasharray",d)}function D(){t.style("stroke-dasharray","0px,100px")}function R(q,C,F,N){q.path&&(q.noRotate&&(F=0),AXe.select(i.parentNode).append("path").attr({class:t.attr("class"),d:q.path,transform:EXe(C.x,C.y)+SXe(F*180/Math.PI)+kXe(N)}).style({fill:MXe.rgb(n.arrowcolor),"stroke-width":0}))}u&&R(o,v,y,l),f&&R(a,b,x,s)}});var vA=$((J5t,hre)=>{"use strict";var lre=Nr(),K6=Ir(),LXe=Zi(),Gd=pt(),J6=Gd.strTranslate,Vb=tn(),Fp=Rr(),Dv=un(),ure=lo(),Q6=Ta(),eD=Fc(),jb=Gl(),CXe=bi().arrayEditor,DXe=sre();hre.exports={draw:qXe,drawOne:fre,drawRaw:cre};function qXe(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++)t.annotations[r].visible&&fre(e,r);return LXe.previousPromises(e)}function fre(e,t){var r=e._fullLayout,n=r.annotations[t]||{},i=Vb.getFromId(e,n.xref),a=Vb.getFromId(e,n.yref);i&&i.setScale(),a&&a.setScale(),cre(e,n,t,!1,i,a)}function Vd(e,t,r,n,i){var a=i[r],o=i[r+"ref"],s=r.indexOf("y")!==-1,l=Vb.getRefType(o)==="domain",u=s?n.h:n.w;return e?l?a+(s?-t:t)/e._length:e.p2r(e.r2p(a)+t):a+(s?-t:t)/u}function cre(e,t,r,n,i,a){var o=e._fullLayout,s=e._fullLayout._size,l=e._context.edits,u,f;n?(u="annotation-"+n,f=n+".annotations"):(u="annotation",f="annotations");var c=CXe(e.layout,f,t),h=c.modifyBase,v=c.modifyItem,b=c.getUpdateObj;o._infolayer.selectAll("."+u+'[data-index="'+r+'"]').remove();var y="clip"+o._uid+"_ann"+r;if(!t._input||t.visible===!1){lre.selectAll("#"+y).remove();return}var x={x:{},y:{}},m=+t.textangle||0,_=o._infolayer.append("g").classed(u,!0).attr("data-index",String(r)).style("opacity",t.opacity),g=_.append("g").classed("annotation-text-g",!0),A=l[t.showarrow?"annotationTail":"annotationPosition"],w=t.captureevents||l.annotationText||A;function k(N){var U={index:r,annotation:t._input,fullAnnotation:t,event:N};return n&&(U.subplotId=n),U}var p=g.append("g").style("pointer-events",w?"all":null).call(eD,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",k(lre.event))});t.hovertext&&p.on("mouseover",function(){var N=t.hoverlabel,U=N.font,V=this.getBoundingClientRect(),Y=e.getBoundingClientRect();ure.loneHover({x0:V.left-Y.left,x1:V.right-Y.left,y:(V.top+V.bottom)/2-Y.top,text:t.hovertext,color:N.bgcolor,borderColor:N.bordercolor,fontFamily:U.family,fontSize:U.size,fontColor:U.color},{container:o._hoverlayer.node(),outerContainer:o._paper.node(),gd:e})}).on("mouseout",function(){ure.loneUnhover(o._hoverlayer.node())});var d=t.borderwidth,M=t.borderpad,T=d+M,S=p.append("rect").attr("class","bg").style("stroke-width",d+"px").call(Fp.stroke,t.bordercolor).call(Fp.fill,t.bgcolor),E=t.width||t.height,L=o._topclips.selectAll("#"+y).data(E?[0]:[]);L.enter().append("clipPath").classed("annclip",!0).attr("id",y).append("rect"),L.exit().remove();var D=t.font,R=o._meta?Gd.templateString(t.text,o._meta):t.text,q=p.append("text").classed("annotation-text",!0).text(R);function C(N){return N.call(Dv.font,D).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),Q6.convertToTspans(N,e,F),N}function F(){var N=q.selectAll("a");if(N.size()===1&&N.text()===q.text()){var U=p.insert("a",":first-child").attr({"xlink:xlink:href":N.attr("xlink:href"),"xlink:xlink:show":N.attr("xlink:show")}).style({cursor:"pointer"});U.node().appendChild(S.node())}var V=p.select(".annotation-text-math-group"),Y=!V.empty(),K=Dv.bBox((Y?V:q).node()),B=K.width,z=K.height,j=t.width||B,ae=t.height||z,ee=Math.round(j+2*T),ve=Math.round(ae+2*T);function fe(je,Ve){return Ve==="auto"&&(je<1/3?Ve="left":je>2/3?Ve="right":Ve="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ve]}for(var se=!1,G=["x","y"],Z=0;Z<G.length;Z++){var X=G[Z],ge=t[X+"ref"]||X,qe=t["a"+X+"ref"],Pe={x:i,y:a}[X],Oe=(m+(X==="x"?0:-90))*Math.PI/180,de=ee*Math.cos(Oe),_e=ve*Math.sin(Oe),ce=Math.abs(de)+Math.abs(_e),J=t[X+"anchor"],ne=t[X+"shift"]*(X==="x"?1:-1),be=x[X],Fe,He,te,ye,Te,Ce=Vb.getRefType(ge);if(Pe&&Ce!=="domain"){var De=Pe.r2fraction(t[X]);(De<0||De>1)&&(qe===ge?(De=Pe.r2fraction(t["a"+X]),(De<0||De>1)&&(se=!0)):se=!0),Fe=Pe._offset+Pe.r2p(t[X]),ye=.5}else{var oe=Ce==="domain";X==="x"?(te=t[X],Fe=oe?Pe._offset+Pe._length*te:Fe=s.l+s.w*te):(te=1-t[X],Fe=oe?Pe._offset+Pe._length*te:Fe=s.t+s.h*te),ye=t.showarrow?.5:te}if(t.showarrow){be.head=Fe;var pe=t["a"+X];if(Te=de*fe(.5,t.xanchor)-_e*fe(.5,t.yanchor),qe===ge){var Le=Vb.getRefType(qe);Le==="domain"?(X==="y"&&(pe=1-pe),be.tail=Pe._offset+Pe._length*pe):Le==="paper"?X==="y"?(pe=1-pe,be.tail=s.t+s.h*pe):be.tail=s.l+s.w*pe:be.tail=Pe._offset+Pe.r2p(pe),He=Te}else be.tail=Fe+pe,He=Te+pe;be.text=be.tail+Te;var Ue=o[X==="x"?"width":"height"];if(ge==="paper"&&(be.head=Gd.constrain(be.head,1,Ue-1)),qe==="pixel"){var et=-Math.max(be.tail-3,be.text),Qe=Math.min(be.tail+3,be.text)-Ue;et>0?(be.tail+=et,be.text+=et):Qe>0&&(be.tail-=Qe,be.text-=Qe)}be.tail+=ne,be.head+=ne}else Te=ce*fe(ye,J),He=Te,be.text=Fe+Te;be.text+=ne,Te+=ne,He+=ne,t["_"+X+"padplus"]=ce/2+He,t["_"+X+"padminus"]=ce/2-He,t["_"+X+"size"]=ce,t["_"+X+"shift"]=Te}if(se){p.remove();return}var dt=0,ht=0;if(t.align!=="left"&&(dt=(j-B)*(t.align==="center"?.5:1)),t.valign!=="top"&&(ht=(ae-z)*(t.valign==="middle"?.5:1)),Y)V.select("svg").attr({x:T+dt-1,y:T+ht}).call(Dv.setClipUrl,E?y:null,e);else{var _t=T+ht-K.top,kt=T+dt-K.left;q.call(Q6.positionText,kt,_t).call(Dv.setClipUrl,E?y:null,e)}L.select("rect").call(Dv.setRect,T,T,j,ae),S.call(Dv.setRect,d/2,d/2,ee-d,ve-d),p.call(Dv.setTranslate,Math.round(x.x.text-ee/2),Math.round(x.y.text-ve/2)),g.attr({transform:"rotate("+m+","+x.x.text+","+x.y.text+")"});var St=function(je,Ve){_.selectAll(".annotation-arrow-g").remove();var Je=x.x.head,nt=x.y.head,Be=x.x.tail+je,tt=x.y.tail+Ve,ot=x.x.text+je,yt=x.y.text+Ve,Ht=Gd.rotationXYMatrix(m,ot,yt),Lt=Gd.apply2DTransform(Ht),tr=Gd.apply2DTransform2(Ht),rr=+S.attr("width"),Ct=+S.attr("height"),Zt=ot-.5*rr,Sr=Zt+rr,gr=yt-.5*Ct,Lr=gr+Ct,en=[[Zt,gr,Zt,Lr],[Zt,Lr,Sr,Lr],[Sr,Lr,Sr,gr],[Sr,gr,Zt,gr]].map(tr);if(!en.reduce(function(Sn,_i){return Sn^!!Gd.segmentsIntersect(Je,nt,Je+1e6,nt+1e6,_i[0],_i[1],_i[2],_i[3])},!1)){en.forEach(function(Sn){var _i=Gd.segmentsIntersect(Be,tt,Je,nt,Sn[0],Sn[1],Sn[2],Sn[3]);_i&&(Be=_i.x,tt=_i.y)});var Or=t.arrowwidth,vn=t.arrowcolor,qn=t.arrowside,Kr=_.append("g").style({opacity:Fp.opacity(vn)}).classed("annotation-arrow-g",!0),Qr=Kr.append("path").attr("d","M"+Be+","+tt+"L"+Je+","+nt).style("stroke-width",Or+"px").call(Fp.stroke,Fp.rgb(vn));if(DXe(Qr,qn,t),l.annotationPosition&&Qr.node().parentNode&&!n){var kn=Je,Vn=nt;if(t.standoff){var Tn=Math.sqrt(Math.pow(Je-Be,2)+Math.pow(nt-tt,2));kn+=t.standoff*(Be-Je)/Tn,Vn+=t.standoff*(tt-nt)/Tn}var Nn=Kr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Be-kn)+","+(tt-Vn),transform:J6(kn,Vn)}).style("stroke-width",Or+6+"px").call(Fp.stroke,"rgba(0,0,0,0)").call(Fp.fill,"rgba(0,0,0,0)"),ci,On;jb.init({element:Nn.node(),gd:e,prepFn:function(){var Sn=Dv.getTranslate(p);ci=Sn.x,On=Sn.y,i&&i.autorange&&h(i._name+".autorange",!0),a&&a.autorange&&h(a._name+".autorange",!0)},moveFn:function(Sn,_i){var ua=Lt(ci,On),Yi=ua[0]+Sn,xn=ua[1]+_i;p.call(Dv.setTranslate,Yi,xn),v("x",Vd(i,Sn,"x",s,t)),v("y",Vd(a,_i,"y",s,t)),t.axref===t.xref&&v("ax",Vd(i,Sn,"ax",s,t)),t.ayref===t.yref&&v("ay",Vd(a,_i,"ay",s,t)),Kr.attr("transform",J6(Sn,_i)),g.attr({transform:"rotate("+m+","+Yi+","+xn+")"})},doneFn:function(){K6.call("_guiRelayout",e,b());var Sn=document.querySelector(".js-notes-box-panel");Sn&&Sn.redraw(Sn.selectedObj)}})}}};if(t.showarrow&&St(0,0),A){var Ot;jb.init({element:p.node(),gd:e,prepFn:function(){Ot=g.attr("transform")},moveFn:function(je,Ve){var Je="pointer";if(t.showarrow)t.axref===t.xref?v("ax",Vd(i,je,"ax",s,t)):v("ax",t.ax+je),t.ayref===t.yref?v("ay",Vd(a,Ve,"ay",s.w,t)):v("ay",t.ay+Ve),St(je,Ve);else{if(n)return;var nt,Be;if(i)nt=Vd(i,je,"x",s,t);else{var tt=t._xsize/s.w,ot=t.x+(t._xshift-t.xshift)/s.w-tt/2;nt=jb.align(ot+je/s.w,tt,0,1,t.xanchor)}if(a)Be=Vd(a,Ve,"y",s,t);else{var yt=t._ysize/s.h,Ht=t.y-(t._yshift+t.yshift)/s.h-yt/2;Be=jb.align(Ht-Ve/s.h,yt,0,1,t.yanchor)}v("x",nt),v("y",Be),(!i||!a)&&(Je=jb.getCursor(i?.5:nt,a?.5:Be,t.xanchor,t.yanchor))}g.attr({transform:J6(je,Ve)+Ot}),eD(p,Je)},clickFn:function(je,Ve){t.captureevents&&e.emit("plotly_clickannotation",k(Ve))},doneFn:function(){eD(p),K6.call("_guiRelayout",e,b());var je=document.querySelector(".js-notes-box-panel");je&&je.redraw(je.selectedObj)}})}}l.annotationText?q.call(Q6.makeEditable,{delegate:p,gd:e}).call(C).on("edit",function(N){t.text=N,this.call(C),v("text",N),i&&i.autorange&&h(i._name+".autorange",!0),a&&a.autorange&&h(a._name+".autorange",!0),K6.call("_guiRelayout",e,b())}):q.call(C)}});var yre=$((Q5t,mre)=>{"use strict";var vre=pt(),RXe=Ir(),dre=bi().arrayEditor;mre.exports={hasClickToShow:IXe,onClick:PXe};function IXe(e,t){var r=gre(e,t);return r.on.length>0||r.explicitOff.length>0}function PXe(e,t){var r=gre(e,t),n=r.on,i=r.off.concat(r.explicitOff),a={},o=e._fullLayout.annotations,s,l;if(n.length||i.length){for(s=0;s<n.length;s++)l=dre(e.layout,"annotations",o[n[s]]),l.modifyItem("visible",!0),vre.extendFlat(a,l.getUpdateObj());for(s=0;s<i.length;s++)l=dre(e.layout,"annotations",o[i[s]]),l.modifyItem("visible",!1),vre.extendFlat(a,l.getUpdateObj());return RXe.call("update",e,{},a)}}function gre(e,t){var r=e._fullLayout.annotations,n=[],i=[],a=[],o=(t||[]).length,s,l,u,f,c,h,v,b;for(s=0;s<r.length;s++)if(u=r[s],f=u.clicktoshow,f){for(l=0;l<o;l++)if(c=t[l],h=c.xaxis,v=c.yaxis,h._id===u.xref&&v._id===u.yref&&h.d2r(c.x)===pre(u._xclick,h)&&v.d2r(c.y)===pre(u._yclick,v)){u.visible?f==="onout"?b=i:b=a:b=n,b.push(s);break}l===o&&u.visible&&f==="onout"&&i.push(s)}return{on:n,off:i,explicitOff:a}}function pre(e,t){return t.type==="log"?t.l2r(e):t.d2r(e)}});var tD=$((eSt,bre)=>{"use strict";var xre=pt(),um=Rr();bre.exports=function(t,r,n,i){i("opacity");var a=i("bgcolor"),o=i("bordercolor"),s=um.opacity(o);i("borderpad");var l=i("borderwidth"),u=i("showarrow");i("text",u?" ":n._dfltTitle.annotation),i("textangle"),xre.coerceFont(i,"font",n.font),i("width"),i("align");var f=i("height");if(f&&i("valign"),u){var c=i("arrowside"),h,v;c.indexOf("end")!==-1&&(h=i("arrowhead"),v=i("arrowsize")),c.indexOf("start")!==-1&&(i("startarrowhead",h),i("startarrowsize",v)),i("arrowcolor",s?r.bordercolor:um.defaultLine),i("arrowwidth",(s&&l||1)*2),i("standoff"),i("startstandoff")}var b=i("hovertext"),y=n.hoverlabel||{};if(b){var x=i("hoverlabel.bgcolor",y.bgcolor||(um.opacity(a)?um.rgb(a):um.defaultLine)),m=i("hoverlabel.bordercolor",y.bordercolor||um.contrast(x));xre.coerceFont(i,"hoverlabel.font",{family:y.font.family,size:y.font.size,color:y.font.color||m})}i("captureevents",!!b)}});var _re=$((tSt,wre)=>{"use strict";var rD=pt(),Np=tn(),FXe=Mu(),NXe=tD(),zXe=Mp();wre.exports=function(t,r){FXe(t,r,{name:"annotations",handleItemDefaults:OXe})};function OXe(e,t,r){function n(g,A){return rD.coerce(e,t,zXe,g,A)}var i=n("visible"),a=n("clicktoshow");if(i||a){NXe(e,t,r,n);for(var o=t.showarrow,s=["x","y"],l=[-10,-30],u={_fullLayout:r},f=0;f<2;f++){var c=s[f],h=Np.coerceRef(e,t,u,c,"","paper");if(h!=="paper"){var v=Np.getFromId(u,h);v._annIndices.push(t._index)}if(Np.coercePosition(t,u,n,h,c,.5),o){var b="a"+c,y=Np.coerceRef(e,t,u,b,"pixel",["pixel","paper"]);y!=="pixel"&&y!==h&&(y=t[b]="pixel");var x=y==="pixel"?l[f]:.4;Np.coercePosition(t,u,n,y,b,x)}n(c+"anchor"),n(c+"shift")}if(rD.noneOrAll(e,t,["x","y"]),o&&rD.noneOrAll(e,t,["ax","ay"]),a){var m=n("xclick"),_=n("yclick");t._xclick=m===void 0?t.x:Np.cleanPosition(m,u,t.xref),t._yclick=_===void 0?t.y:Np.cleanPosition(_,u,t.yref)}}}});var Mre=$((rSt,Are)=>{"use strict";var nD=pt(),zp=tn(),BXe=vA().draw;Are.exports=function(t){var r=t._fullLayout,n=nD.filterVisible(r.annotations);if(n.length&&t._fullData.length)return nD.syncOrAsync([BXe,HXe],t)};function HXe(e){var t=e._fullLayout;nD.filterVisible(t.annotations).forEach(function(r){var n=zp.getFromId(e,r.xref),i=zp.getFromId(e,r.yref),a=zp.getRefType(r.xref),o=zp.getRefType(r.yref);r._extremes={},a==="range"&&Tre(r,n),o==="range"&&Tre(r,i)})}function Tre(e,t){var r=t._id,n=r.charAt(0),i=e[n],a=e["a"+n],o=e[n+"ref"],s=e["a"+n+"ref"],l=e["_"+n+"padplus"],u=e["_"+n+"padminus"],f={x:1,y:-1}[n]*e[n+"shift"],c=3*e.arrowsize*e.arrowwidth||0,h=c+f,v=c-f,b=3*e.startarrowsize*e.arrowwidth||0,y=b+f,x=b-f,m;if(s===o){var _=zp.findExtremes(t,[t.r2c(i)],{ppadplus:h,ppadminus:v}),g=zp.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(l,y),ppadminus:Math.max(u,x)});m={min:[_.min[0],g.min[0]],max:[_.max[0],g.max[0]]}}else y=a?y+a:y,x=a?x-a:x,m=zp.findExtremes(t,[t.r2c(i)],{ppadplus:Math.max(l,h,y),ppadminus:Math.max(u,v,x)});e._extremes[r]=m}});var Sre=$((nSt,kre)=>{"use strict";var UXe=mn(),jXe=F_();kre.exports=function(t,r,n,i){r=r||{};var a=n==="log"&&r.type==="linear",o=n==="linear"&&r.type==="log";if(!(a||o))return;var s=t._fullLayout.annotations,l=r._id.charAt(0),u,f;function c(v){var b=u[v],y=null;a?y=jXe(b,r.range):y=Math.pow(10,b),UXe(y)||(y=null),i(f+v,y)}for(var h=0;h<s.length;h++)u=s[h],f="annotations["+h+"].",u[l+"ref"]===r._id&&c(l),u["a"+l+"ref"]===r._id&&c("a"+l)}});var Cre=$((iSt,Lre)=>{"use strict";var iD=vA(),Ere=yre();Lre.exports={moduleType:"component",name:"annotations",layoutAttributes:Mp(),supplyLayoutDefaults:_re(),includeBasePlot:mb()("annotations"),calcAutorange:Mre(),draw:iD.draw,drawOne:iD.drawOne,drawRaw:iD.drawRaw,hasClickToShow:Ere.hasClickToShow,onClick:Ere.onClick,convertCoords:Sre()}});var dA=$((aSt,Dre)=>{"use strict";var ra=Mp(),VXe=Fa().overrideAll,GXe=bi().templatedArray;Dre.exports=VXe(GXe("annotation",{visible:ra.visible,x:{valType:"any",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:ra.xanchor,xshift:ra.xshift,yanchor:ra.yanchor,yshift:ra.yshift,text:ra.text,textangle:ra.textangle,font:ra.font,width:ra.width,height:ra.height,opacity:ra.opacity,align:ra.align,valign:ra.valign,bgcolor:ra.bgcolor,bordercolor:ra.bordercolor,borderpad:ra.borderpad,borderwidth:ra.borderwidth,showarrow:ra.showarrow,arrowcolor:ra.arrowcolor,arrowhead:ra.arrowhead,startarrowhead:ra.startarrowhead,arrowside:ra.arrowside,arrowsize:ra.arrowsize,startarrowsize:ra.startarrowsize,arrowwidth:ra.arrowwidth,standoff:ra.standoff,startstandoff:ra.startstandoff,hovertext:ra.hovertext,hoverlabel:ra.hoverlabel,captureevents:ra.captureevents}),"calc","from-root")});var Rre=$((oSt,qre)=>{"use strict";var aD=pt(),YXe=tn(),WXe=Mu(),XXe=tD(),ZXe=dA();qre.exports=function(t,r,n){WXe(t,r,{name:"annotations",handleItemDefaults:$Xe,fullLayout:n.fullLayout})};function $Xe(e,t,r,n){function i(s,l){return aD.coerce(e,t,ZXe,s,l)}function a(s){var l=s+"axis",u={_fullLayout:{}};return u._fullLayout[l]=r[l],YXe.coercePosition(t,u,i,s,s,.5)}var o=i("visible");o&&(XXe(e,t,n.fullLayout,i),a("x"),a("y"),a("z"),aD.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",i("ax",-10),i("ay",-30),aD.noneOrAll(e,t,["ax","ay"])))}});var Nre=$((sSt,Fre)=>{"use strict";var Ire=pt(),Pre=tn();Fre.exports=function(t){for(var r=t.fullSceneLayout,n=r.annotations,i=0;i<n.length;i++)KXe(n[i],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()};function KXe(e,t){var r=t.fullSceneLayout,n=r.domain,i=t.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},Ire.extendFlat(e._xa,a),Pre.setConvert(e._xa),e._xa._offset=i.l+n.x[0]*i.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*i.w*(n.x[1]-n.x[0])},e._ya={},Ire.extendFlat(e._ya,a),Pre.setConvert(e._ya),e._ya._offset=i.t+(1-n.y[1])*i.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*i.h*(n.y[1]-n.y[0])}}});var sD=$((lSt,zre)=>{"use strict";function oD(e,t){var r=[0,0,0,0],n,i;for(n=0;n<4;++n)for(i=0;i<4;++i)r[i]+=e[4*n+i]*t[n];return r}function JXe(e,t){var r=oD(e.projection,oD(e.view,oD(e.model,[t[0],t[1],t[2],1])));return r}zre.exports=JXe});var Bre=$((uSt,Ore)=>{"use strict";var QXe=vA().drawRaw,eZe=sD(),tZe=["x","y","z"];Ore.exports=function(t){for(var r=t.fullSceneLayout,n=t.dataScale,i=r.annotations,a=0;a<i.length;a++){for(var o=i[a],s=!1,l=0;l<3;l++){var u=tZe[l],f=o[u],c=r[u+"axis"],h=c.r2fraction(f);if(h<0||h>1){s=!0;break}}s?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+a+'"]').remove():(o._pdata=eZe(t.glplot.cameraParams,[r.xaxis.r2l(o.x)*n[0],r.yaxis.r2l(o.y)*n[1],r.zaxis.r2l(o.z)*n[2]]),QXe(t.graphDiv,o,a,t.id,o._xa,o._ya))}}});var jre=$((fSt,Ure)=>{"use strict";var rZe=Ir(),Hre=pt();Ure.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:dA()}}},layoutAttributes:dA(),handleDefaults:Rre(),includeBasePlot:nZe,convert:Nre(),draw:Bre()};function nZe(e,t){var r=rZe.subplotsRegistry.gl3d;if(r)for(var n=r.attrRegex,i=Object.keys(e),a=0;a<i.length;a++){var o=i[a];n.test(o)&&(e[o].annotations||[]).length&&(Hre.pushUnique(t._basePlotModules,r),Hre.pushUnique(t._subplots.gl3d,o))}}});var lD=$((cSt,Wre)=>{"use strict";var Vre=Mp(),Gre=Ps().line,iZe=Ul().dash,Gb=ln().extendFlat,aZe=bi().templatedArray,Yre=gb();Wre.exports=aZe("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:Gb({},Vre.xref,{description:["Sets the shape's x coordinate axis.",Yre.axisRefDescription("x","left","right")].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},yref:Gb({},Vre.yref,{description:["Sets the shape's y coordinate axis.",Yre.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},path:{valType:"string",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:Gb({},Gre.color,{editType:"arraydraw"}),width:Gb({},Gre.width,{editType:"calc+arraydraw"}),dash:Gb({},iZe,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},editType:"arraydraw"})});var $re=$((hSt,Zre)=>{"use strict";var uD=pt(),fm=tn(),oZe=Mu(),sZe=lD(),Xre=_p();Zre.exports=function(t,r){oZe(t,r,{name:"shapes",handleItemDefaults:lZe})};function lZe(e,t,r){function n(D,R){return uD.coerce(e,t,sZe,D,R)}var i=n("visible");if(i){var a=n("path"),o=a?"path":"rect",s=n("type",o),l=s!=="path";l&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var u=n("line.width");u&&(n("line.color"),n("line.dash"));for(var f=n("xsizemode"),c=n("ysizemode"),h=["x","y"],v=0;v<2;v++){var b=h[v],y=b+"anchor",x=b==="x"?f:c,m={_fullLayout:r},_,g,A,w=fm.coerceRef(e,t,m,b,void 0,"paper"),k=fm.getRefType(w);if(k==="range"?(_=fm.getFromId(m,w),_._shapeIndices.push(t._index),A=Xre.rangeToShapePosition(_),g=Xre.shapePositionToRange(_)):g=A=uD.identity,l){var p=.25,d=.75,M=b+"0",T=b+"1",S=e[M],E=e[T];e[M]=g(e[M],!0),e[T]=g(e[T],!0),x==="pixel"?(n(M,0),n(T,10)):(fm.coercePosition(t,m,n,w,M,p),fm.coercePosition(t,m,n,w,T,d)),t[M]=A(t[M]),t[T]=A(t[T]),e[M]=S,e[T]=E}if(x==="pixel"){var L=e[y];e[y]=g(e[y],!0),fm.coercePosition(t,m,n,w,y,.25),t[y]=A(t[y]),e[y]=L}}l&&uD.noneOrAll(e,t,["x0","x1","y0","y1"])}}});var Jre=$((vSt,Kre)=>{"use strict";var uZe=Rr();Kre.exports=function(t,r,n){n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var i=n("newshape.line.width");if(i){var a=(t||{}).plot_bgcolor||"#FFF";n("newshape.line.color",uZe.contrast(a)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}});var nne=$((dSt,rne)=>{"use strict";var fD=pt(),cm=tn(),hm=Zx(),ene=_p();rne.exports=function(t){var r=t._fullLayout,n=fD.filterVisible(r.shapes);if(!(!n.length||!t._fullData.length))for(var i=0;i<n.length;i++){var a=n[i];a._extremes={};var o,s,l=cm.getRefType(a.xref),u=cm.getRefType(a.yref);if(a.xref!=="paper"&&l!=="domain"){var f=a.xsizemode==="pixel"?a.xanchor:a.x0,c=a.xsizemode==="pixel"?a.xanchor:a.x1;o=cm.getFromId(t,a.xref),s=Qre(o,f,c,a.path,hm.paramIsX),s&&(a._extremes[o._id]=cm.findExtremes(o,s,fZe(a)))}if(a.yref!=="paper"&&u!=="domain"){var h=a.ysizemode==="pixel"?a.yanchor:a.y0,v=a.ysizemode==="pixel"?a.yanchor:a.y1;o=cm.getFromId(t,a.yref),s=Qre(o,h,v,a.path,hm.paramIsY),s&&(a._extremes[o._id]=cm.findExtremes(o,s,cZe(a)))}}};function fZe(e){return tne(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function cZe(e){return tne(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function tne(e,t,r,n,i,a){var o=e/2,s=a;if(t==="pixel"){var l=i?ene.extractPathCoords(i,a?hm.paramIsY:hm.paramIsX):[r,n],u=fD.aggNums(Math.max,null,l),f=fD.aggNums(Math.min,null,l),c=f<0?Math.abs(f)+o:o,h=u>0?u+o:o;return{ppad:o,ppadplus:s?c:h,ppadminus:s?h:c}}else return{ppad:o}}function Qre(e,t,r,n,i){var a=e.type==="category"||e.type==="multicategory"?e.r2c:e.d2c;if(t!==void 0)return[a(t),a(r)];if(n){var o=1/0,s=-1/0,l=n.match(hm.segmentRE),u,f,c,h,v;for(e.type==="date"&&(a=ene.decodeDate(a)),u=0;u<l.length;u++)f=l[u],c=i[f.charAt(0)].drawn,c!==void 0&&(h=l[u].substr(1).match(hm.paramRE),!(!h||h.length<c)&&(v=a(h[c]),v<o&&(o=v),v>s&&(s=v)));if(s>=o)return[o,s]}}});var one=$((pSt,ane)=>{"use strict";var ine=TC();ane.exports={moduleType:"component",name:"shapes",layoutAttributes:lD(),supplyLayoutDefaults:$re(),supplyDrawNewShapeDefaults:Jre(),includeBasePlot:mb()("shapes"),calcAutorange:nne(),draw:ine.draw,drawOne:ine.drawOne}});var cD=$((gSt,une)=>{"use strict";var sne=Qo(),hZe=bi().templatedArray,lne=gb();une.exports=hZe("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",sne.idRegex.x.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's x coordinate axis.",lne.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",sne.idRegex.y.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's y coordinate axis.",lne.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"})});var cne=$((mSt,fne)=>{"use strict";var vZe=pt(),hD=tn(),dZe=Mu(),pZe=cD(),gZe="images";fne.exports=function(t,r){var n={name:gZe,handleItemDefaults:mZe};dZe(t,r,n)};function mZe(e,t,r){function n(h,v){return vZe.coerce(e,t,pZe,h,v)}var i=n("source"),a=n("visible",!!i);if(!a)return t;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var o={_fullLayout:r},s=["x","y"],l=0;l<2;l++){var u=s[l],f=hD.coerceRef(e,t,o,u,"paper",void 0);if(f!=="paper"){var c=hD.getFromId(o,f);c._imgIndices.push(t._index)}hD.coercePosition(t,o,n,f,u,0)}return t}});var pne=$((ySt,dne)=>{"use strict";var hne=Nr(),yZe=un(),vm=tn(),vne=Io(),xZe=kh();dne.exports=function(t){var r=t._fullLayout,n=[],i={},a=[],o,s;for(s=0;s<r.images.length;s++){var l=r.images[s];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){o=vne.ref2id(l.xref)+vne.ref2id(l.yref);var u=r._plots[o];if(!u){a.push(l);continue}u.mainplot&&(o=u.mainplot.id),i[o]||(i[o]=[]),i[o].push(l)}else l.layer==="above"?n.push(l):a.push(l)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function c(_){var g=hne.select(this);if(this._imgSrc!==_.source)if(g.attr("xmlns",xZe.svg),_.source&&_.source.slice(0,5)==="data:")g.attr("xlink:href",_.source),this._imgSrc=_.source;else{var A=new Promise(function(w){var k=new Image;this.img=k,k.setAttribute("crossOrigin","anonymous"),k.onerror=p,k.onload=function(){var d=document.createElement("canvas");d.width=this.width,d.height=this.height;var M=d.getContext("2d",{willReadFrequently:!0});M.drawImage(this,0,0);var T=d.toDataURL("image/png");g.attr("xlink:href",T),w()},g.on("error",p),k.src=_.source,this._imgSrc=_.source;function p(){g.remove(),w()}}.bind(this));t._promises.push(A)}}function h(_){var g=hne.select(this),A=vm.getFromId(t,_.xref),w=vm.getFromId(t,_.yref),k=vm.getRefType(_.xref)==="domain",p=vm.getRefType(_.yref)==="domain",d=r._size,M,T;A!==void 0?M=typeof _.xref=="string"&&k?A._length*_.sizex:Math.abs(A.l2p(_.sizex)-A.l2p(0)):M=_.sizex*d.w,w!==void 0?T=typeof _.yref=="string"&&p?w._length*_.sizey:Math.abs(w.l2p(_.sizey)-w.l2p(0)):T=_.sizey*d.h;var S=M*f.x[_.xanchor].offset,E=T*f.y[_.yanchor].offset,L=f.x[_.xanchor].sizing+f.y[_.yanchor].sizing,D,R;switch(A!==void 0?D=typeof _.xref=="string"&&k?A._length*_.x+A._offset:A.r2p(_.x)+A._offset:D=_.x*d.w+d.l,D+=S,w!==void 0?R=typeof _.yref=="string"&&p?w._length*(1-_.y)+w._offset:w.r2p(_.y)+w._offset:R=d.h-_.y*d.h+d.t,R+=E,_.sizing){case"fill":L+=" slice";break;case"stretch":L="none";break}g.attr({x:D,y:R,width:M,height:T,preserveAspectRatio:L,opacity:_.opacity});var q=A&&vm.getRefType(_.xref)!=="domain"?A._id:"",C=w&&vm.getRefType(_.yref)!=="domain"?w._id:"",F=q+C;yZe.setClipUrl(g,F?"clip"+r._uid+F:null,t)}var v=r._imageLowerLayer.selectAll("image").data(a),b=r._imageUpperLayer.selectAll("image").data(n);v.enter().append("image"),b.enter().append("image"),v.exit().remove(),b.exit().remove(),v.each(function(_){c.bind(this)(_),h.bind(this)(_)}),b.each(function(_){c.bind(this)(_),h.bind(this)(_)});var y=Object.keys(r._plots);for(s=0;s<y.length;s++){o=y[s];var x=r._plots[o];if(x.imagelayer){var m=x.imagelayer.selectAll("image").data(i[o]||[]);m.enter().append("image"),m.exit().remove(),m.each(function(_){c.bind(this)(_),h.bind(this)(_)})}}}});var yne=$((xSt,mne)=>{"use strict";var gne=mn(),bZe=F_();mne.exports=function(t,r,n,i){r=r||{};var a=n==="log"&&r.type==="linear",o=n==="linear"&&r.type==="log";if(a||o){for(var s=t._fullLayout.images,l=r._id.charAt(0),u,f,c=0;c<s.length;c++)if(u=s[c],f="images["+c+"].",u[l+"ref"]===r._id){var h=u[l],v=u["size"+l],b=null,y=null;if(a){b=bZe(h,r.range);var x=v/Math.pow(10,b)/2;y=2*Math.log(x+Math.sqrt(1+x*x))/Math.LN10}else b=Math.pow(10,h),y=b*(Math.pow(10,v/2)-Math.pow(10,-v/2));gne(b)?gne(y)||(y=null):(b=null,y=null),i(f+l,b),i(f+"size"+l,y)}}}});var bne=$((bSt,xne)=>{"use strict";xne.exports={moduleType:"component",name:"images",layoutAttributes:cD(),supplyLayoutDefaults:cne(),includeBasePlot:mb()("images"),draw:pne(),convertCoords:yne()}});var pA=$((wSt,wne)=>{"use strict";wne.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var vD=$((_St,Tne)=>{"use strict";var wZe=Ba(),_Ze=Ro(),TZe=ln().extendFlat,AZe=Fa().overrideAll,MZe=W_(),_ne=bi().templatedArray,kZe=_ne("button",{visible:{valType:"boolean",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});Tne.exports=AZe(_ne("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:kZe,x:{valType:"number",min:-2,max:3,dflt:-.05,description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:TZe(MZe({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:wZe({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:_Ze.borderLine,description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")});var Sne=$((TSt,kne)=>{"use strict";var gA=pt(),Ane=Mu(),Mne=vD(),SZe=pA(),EZe=SZe.name,LZe=Mne.buttons;kne.exports=function(t,r){var n={name:EZe,handleItemDefaults:CZe};Ane(t,r,n)};function CZe(e,t,r){function n(o,s){return gA.coerce(e,t,Mne,o,s)}var i=Ane(e,t,{name:"buttons",handleItemDefaults:DZe}),a=n("visible",i.length>0);a&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),gA.noneOrAll(e,t,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),gA.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function DZe(e,t){function r(i,a){return gA.coerce(e,t,LZe,i,a)}var n=r("visible",e.method==="skip"||Array.isArray(e.args));n&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}});var Cne=$((ASt,Lne)=>{"use strict";Lne.exports=Na;var Gc=Nr(),Ene=Rr(),dm=un(),mA=pt();function Na(e,t,r){this.gd=e,this.container=t,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Na.barWidth=2;Na.barLength=20;Na.barRadius=2;Na.barPad=1;Na.barColor="#808BA4";Na.prototype.enable=function(t,r,n){var i=this.gd._fullLayout,a=i.width,o=i.height;this.position=t;var s=this.position.l,l=this.position.w,u=this.position.t,f=this.position.h,c=this.position.direction,h=c==="down",v=c==="left",b=c==="right",y=c==="up",x=l,m=f,_,g,A,w;!h&&!v&&!b&&!y&&(this.position.direction="down",h=!0);var k=h||y;k?(_=s,g=_+x,h?(A=u,w=Math.min(A+m,o),m=w-A):(w=u+m,A=Math.max(w-m,0),m=w-A)):(A=u,w=A+m,v?(g=s+x,_=Math.max(g-x,0),x=g-_):(_=s,g=Math.min(_+x,a),x=g-_)),this._box={l:_,t:A,w:x,h:m};var p=l>x,d=Na.barLength+2*Na.barPad,M=Na.barWidth+2*Na.barPad,T=s,S=u+f;S+M>o&&(S=o-M);var E=this.container.selectAll("rect.scrollbar-horizontal").data(p?[0]:[]);E.exit().on(".drag",null).remove(),E.enter().append("rect").classed("scrollbar-horizontal",!0).call(Ene.fill,Na.barColor),p?(this.hbar=E.attr({rx:Na.barRadius,ry:Na.barRadius,x:T,y:S,width:d,height:M}),this._hbarXMin=T+d/2,this._hbarTranslateMax=x-d):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var L=f>m,D=Na.barWidth+2*Na.barPad,R=Na.barLength+2*Na.barPad,q=s+l,C=u;q+D>a&&(q=a-D);var F=this.container.selectAll("rect.scrollbar-vertical").data(L?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-vertical",!0).call(Ene.fill,Na.barColor),L?(this.vbar=F.attr({rx:Na.barRadius,ry:Na.barRadius,x:q,y:C,width:D,height:R}),this._vbarYMin=C+R/2,this._vbarTranslateMax=m-R):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,U=_-.5,V=L?g+D+.5:g+.5,Y=A-.5,K=p?w+M+.5:w+.5,B=i._topdefs.selectAll("#"+N).data(p||L?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",N).append("rect"),p||L?(this._clipRect=B.select("rect").attr({x:Math.floor(U),y:Math.floor(Y),width:Math.ceil(V)-Math.floor(U),height:Math.ceil(K)-Math.floor(Y)}),this.container.call(dm.setClipUrl,N,this.gd),this.bg.attr({x:s,y:u,width:l,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(dm.setClipUrl,null),delete this._clipRect),p||L){var z=Gc.behavior.drag().on("dragstart",function(){Gc.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(z);var j=Gc.behavior.drag().on("dragstart",function(){Gc.event.sourceEvent.preventDefault(),Gc.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));p&&this.hbar.on(".drag",null).call(j),L&&this.vbar.on(".drag",null).call(j)}this.setTranslate(r,n)};Na.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(dm.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Na.prototype._onBoxDrag=function(){var t=this.translateX,r=this.translateY;this.hbar&&(t-=Gc.event.dx),this.vbar&&(r-=Gc.event.dy),this.setTranslate(t,r)};Na.prototype._onBoxWheel=function(){var t=this.translateX,r=this.translateY;this.hbar&&(t+=Gc.event.deltaY),this.vbar&&(r+=Gc.event.deltaY),this.setTranslate(t,r)};Na.prototype._onBarDrag=function(){var t=this.translateX,r=this.translateY;if(this.hbar){var n=t+this._hbarXMin,i=n+this._hbarTranslateMax,a=mA.constrain(Gc.event.x,n,i),o=(a-n)/(i-n),s=this.position.w-this._box.w;t=o*s}if(this.vbar){var l=r+this._vbarYMin,u=l+this._vbarTranslateMax,f=mA.constrain(Gc.event.y,l,u),c=(f-l)/(u-l),h=this.position.h-this._box.h;r=c*h}this.setTranslate(t,r)};Na.prototype.setTranslate=function(t,r){var n=this.position.w-this._box.w,i=this.position.h-this._box.h;if(t=mA.constrain(t||0,0,n),r=mA.constrain(r||0,0,i),this.translateX=t,this.translateY=r,this.container.call(dm.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=t/n;this.hbar.call(dm.setTranslate,t+a*this._hbarTranslateMax,r)}if(this.vbar){var o=r/i;this.vbar.call(dm.setTranslate,t,r+o*this._vbarTranslateMax)}}});var Bne=$((MSt,One)=>{"use strict";var pm=Nr(),Yb=Zi(),Wb=Rr(),gm=un(),yf=pt(),yA=Ta(),qZe=bi().arrayEditor,qne=es().LINE_SPACING,cn=pA(),RZe=Cne();One.exports=function(t){var r=t._fullLayout,n=yf.filterVisible(r[cn.name]);function i(h){Yb.autoMargin(t,Nne(h))}var a=r._menulayer.selectAll("g."+cn.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(cn.containerClassName,!0).style("cursor","pointer"),a.exit().each(function(){pm.select(this).selectAll("g."+cn.headerGroupClassName).each(i)}).remove(),n.length!==0){var o=a.selectAll("g."+cn.headerGroupClassName).data(n,IZe);o.enter().append("g").classed(cn.headerGroupClassName,!0);for(var s=yf.ensureSingle(a,"g",cn.dropdownButtonGroupClassName,function(h){h.style("pointer-events","all")}),l=0;l<n.length;l++){var u=n[l];BZe(t,u)}var f="updatemenus"+r._uid,c=new RZe(t,s,f);o.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(pD)),o.exit().each(function(h){s.call(pD),i(h)}).remove(),o.each(function(h){var v=pm.select(this),b=h.type==="dropdown"?s:null;Yb.manageCommandObserver(t,h,h.buttons,function(y){dD(t,h,h.buttons[y.index],v,b,c,y.index,!0)}),h.type==="dropdown"?(Ine(t,v,s,c,h),Rne(s,h)&&Xb(t,v,s,c,h)):Xb(t,v,null,null,h)})}};function IZe(e){return e._index}function PZe(e){return+e.attr(cn.menuIndexAttrName)==-1}function Rne(e,t){return+e.attr(cn.menuIndexAttrName)===t._index}function dD(e,t,r,n,i,a,o,s){t.active=o,qZe(e.layout,cn.name,t).applyUpdate("active",o),t.type==="buttons"?Xb(e,n,null,null,t):t.type==="dropdown"&&(i.attr(cn.menuIndexAttrName,"-1"),Ine(e,n,i,a,t),s||Xb(e,n,i,a,t))}function Ine(e,t,r,n,i){var a=yf.ensureSingle(t,"g",cn.headerClassName,function(h){h.style("pointer-events","all")}),o=i._dims,s=i.active,l=i.buttons[s]||cn.blankHeaderOpts,u={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},f={width:o.headerWidth,height:o.headerHeight};a.call(gD,i,l,e).call(zne,i,u,f);var c=yf.ensureSingle(t,"text",cn.headerArrowClassName,function(h){h.attr("text-anchor","end").call(gm.font,i.font).text(cn.arrowSymbol[i.direction])});c.attr({x:o.headerWidth-cn.arrowOffsetX+i.pad.l,y:o.headerHeight/2+cn.textOffsetY+i.pad.t}),a.on("click",function(){r.call(pD,String(Rne(r,i)?-1:i._index)),Xb(e,t,r,n,i)}),a.on("mouseover",function(){a.call(Pne)}),a.on("mouseout",function(){a.call(Fne,i)}),gm.setTranslate(t,o.lx,o.ly)}function Xb(e,t,r,n,i){r||(r=t,r.attr("pointer-events","all"));var a=!PZe(r)||i.type==="buttons"?i.buttons:[],o=i.type==="dropdown"?cn.dropdownButtonClassName:cn.buttonClassName,s=r.selectAll("g."+o).data(yf.filterVisible(a)),l=s.enter().append("g").classed(o,!0),u=s.exit();i.type==="dropdown"?(l.attr("opacity","0").transition().attr("opacity","1"),u.transition().attr("opacity","0").remove()):u.remove();var f=0,c=0,h=i._dims,v=["up","down"].indexOf(i.direction)!==-1;i.type==="dropdown"&&(v?c=h.headerHeight+cn.gapButtonHeader:f=h.headerWidth+cn.gapButtonHeader),i.type==="dropdown"&&i.direction==="up"&&(c=-cn.gapButtonHeader+cn.gapButton-h.openHeight),i.type==="dropdown"&&i.direction==="left"&&(f=-cn.gapButtonHeader+cn.gapButton-h.openWidth);var b={x:h.lx+f+i.pad.l,y:h.ly+c+i.pad.t,yPad:cn.gapButton,xPad:cn.gapButton,index:0},y={l:b.x+i.borderwidth,t:b.y+i.borderwidth};s.each(function(x,m){var _=pm.select(this);_.call(gD,i,x,e).call(zne,i,b),_.on("click",function(){pm.event.defaultPrevented||(x.execute&&(x.args2&&i.active===m?(dD(e,i,x,t,r,n,-1),Yb.executeAPICommand(e,x.method,x.args2)):(dD(e,i,x,t,r,n,m),Yb.executeAPICommand(e,x.method,x.args))),e.emit("plotly_buttonclicked",{menu:i,button:x,active:i.active}))}),_.on("mouseover",function(){_.call(Pne)}),_.on("mouseout",function(){_.call(Fne,i),s.call(Dne,i)})}),s.call(Dne,i),v?(y.w=Math.max(h.openWidth,h.headerWidth),y.h=b.y-y.t):(y.w=b.x-y.l,y.h=Math.max(h.openHeight,h.headerHeight)),y.direction=i.direction,n&&(s.size()?FZe(e,t,r,n,i,y):NZe(n))}function FZe(e,t,r,n,i,a){var o=i.direction,s=o==="up"||o==="down",l=i._dims,u=i.active,f,c,h;if(s)for(c=0,h=0;h<u;h++)c+=l.heights[h]+cn.gapButton;else for(f=0,h=0;h<u;h++)f+=l.widths[h]+cn.gapButton;n.enable(a,f,c),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function NZe(e){var t=!!e.hbar,r=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()}),r&&e.vbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()})}function gD(e,t,r,n){e.call(zZe,t).call(OZe,t,r,n)}function zZe(e,t){var r=yf.ensureSingle(e,"rect",cn.itemRectClassName,function(n){n.attr({rx:cn.rx,ry:cn.ry,"shape-rendering":"crispEdges"})});r.call(Wb.stroke,t.bordercolor).call(Wb.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function OZe(e,t,r,n){var i=yf.ensureSingle(e,"text",cn.itemTextClassName,function(s){s.attr({"text-anchor":"start","data-notex":1})}),a=r.label,o=n._fullLayout._meta;o&&(a=yf.templateString(a,o)),i.call(gm.font,t.font).text(a).call(yA.convertToTspans,n)}function Dne(e,t){var r=t.active;e.each(function(n,i){var a=pm.select(this);i===r&&t.showactive&&a.select("rect."+cn.itemRectClassName).call(Wb.fill,cn.activeColor)})}function Pne(e){e.select("rect."+cn.itemRectClassName).call(Wb.fill,cn.hoverColor)}function Fne(e,t){e.select("rect."+cn.itemRectClassName).call(Wb.fill,t.bgcolor)}function BZe(e,t){var r=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=gm.tester.selectAll("g."+cn.dropdownButtonClassName).data(yf.filterVisible(t.buttons));n.enter().append("g").classed(cn.dropdownButtonClassName,!0);var i=["up","down"].indexOf(t.direction)!==-1;n.each(function(f,c){var h=pm.select(this);h.call(gD,t,f,e);var v=h.select("."+cn.itemTextClassName),b=v.node()&&gm.bBox(v.node()).width,y=Math.max(b+cn.textPadX,cn.minWidth),x=t.font.size*qne,m=yA.lineCount(v),_=Math.max(x*m,cn.minHeight)+cn.textOffsetY;_=Math.ceil(_),y=Math.ceil(y),r.widths[c]=y,r.heights[c]=_,r.height1=Math.max(r.height1,_),r.width1=Math.max(r.width1,y),i?(r.totalWidth=Math.max(r.totalWidth,y),r.openWidth=r.totalWidth,r.totalHeight+=_+cn.gapButton,r.openHeight+=_+cn.gapButton):(r.totalWidth+=y+cn.gapButton,r.openWidth+=y+cn.gapButton,r.totalHeight=Math.max(r.totalHeight,_),r.openHeight=r.totalHeight)}),i?r.totalHeight-=cn.gapButton:r.totalWidth-=cn.gapButton,r.headerWidth=r.width1+cn.arrowPadX,r.headerHeight=r.height1,t.type==="dropdown"&&(i?(r.width1+=cn.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=cn.arrowPadX),n.remove();var a=r.totalWidth+t.pad.l+t.pad.r,o=r.totalHeight+t.pad.t+t.pad.b,s=e._fullLayout._size;r.lx=s.l+s.w*t.x,r.ly=s.t+s.h*(1-t.y);var l="left";yf.isRightAnchor(t)&&(r.lx-=a,l="right"),yf.isCenterAnchor(t)&&(r.lx-=a/2,l="center");var u="top";yf.isBottomAnchor(t)&&(r.ly-=o,u="bottom"),yf.isMiddleAnchor(t)&&(r.ly-=o/2,u="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),Yb.autoMargin(e,Nne(t),{x:t.x,y:t.y,l:a*({right:1,center:.5}[l]||0),r:a*({left:1,center:.5}[l]||0),b:o*({top:1,middle:.5}[u]||0),t:o*({bottom:1,middle:.5}[u]||0)})}function Nne(e){return cn.autoMarginIdRoot+e._index}function zne(e,t,r,n){n=n||{};var i=e.select("."+cn.itemRectClassName),a=e.select("."+cn.itemTextClassName),o=t.borderwidth,s=r.index,l=t._dims;gm.setTranslate(e,o+r.x,o+r.y);var u=["up","down"].indexOf(t.direction)!==-1,f=n.height||(u?l.heights[s]:l.height1);i.attr({x:0,y:0,width:n.width||(u?l.width1:l.widths[s]),height:f});var c=t.font.size*qne,h=yA.lineCount(a),v=(h-1)*c/2;yA.positionText(a,cn.textOffsetX,f/2-v+cn.textOffsetY),u?r.y+=l.heights[s]+r.yPad:r.x+=l.widths[s]+r.xPad,r.index++}function pD(e,t){e.attr(cn.menuIndexAttrName,t||"-1").selectAll("g."+cn.dropdownButtonClassName).remove()}});var Une=$((kSt,Hne)=>{"use strict";var HZe=pA();Hne.exports={moduleType:"component",name:HZe.name,layoutAttributes:vD(),supplyLayoutDefaults:Sne(),draw:Bne()}});var Zb=$((SSt,jne)=>{"use strict";jne.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var mD=$((ESt,Yne)=>{"use strict";var Vne=Ba(),UZe=W_(),jZe=ln().extendDeepAll,VZe=Fa().overrideAll,GZe=yx(),Gne=bi().templatedArray,Op=Zb(),YZe=Gne("step",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",description:"Sets the text label to appear on the slider"},value:{valType:"string",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});Yne.exports=VZe(Gne("slider",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:YZe,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the x position (in normalized coordinates) of the slider."},pad:jZe(UZe({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:GZe.transition.easing.values,dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:Vne({description:"Sets the font of the current value label text."})},font:Vne({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",dflt:Op.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",dflt:Op.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:Op.railBorderColor,description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:Op.railBorderWidth,description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:Op.tickLength,description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:Op.tickColor,description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:Op.minorTickLength,description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")});var $ne=$((LSt,Zne)=>{"use strict";var mm=pt(),Wne=Mu(),Xne=mD(),WZe=Zb(),XZe=WZe.name,ZZe=Xne.steps;Zne.exports=function(t,r){Wne(t,r,{name:XZe,handleItemDefaults:$Ze})};function $Ze(e,t,r){function n(c,h){return mm.coerce(e,t,Xne,c,h)}for(var i=Wne(e,t,{name:"steps",handleItemDefaults:KZe}),a=0,o=0;o<i.length;o++)i[o].visible&&a++;var s;if(a<2?s=t.visible=!1:s=n("visible"),!!s){t._stepCount=a;var l=t._visibleSteps=mm.filterVisible(i),u=n("active");(i[u]||{}).visible||(t.active=l[0]._index),n("x"),n("y"),mm.noneOrAll(e,t,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),mm.coerceFont(n,"font",r.font);var f=n("currentvalue.visible");f&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),mm.coerceFont(n,"currentvalue.font",t.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function KZe(e,t){function r(a,o){return mm.coerce(e,t,ZZe,a,o)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=t.visible=!1:n=r("visible"),n){r("method"),r("args");var i=r("label","step-"+t._index);r("value",i),r("execute")}}});var oie=$((CSt,aie)=>{"use strict";var Yc=Nr(),xA=Zi(),Yd=Rr(),Wc=un(),xf=pt(),JZe=xf.strTranslate,$b=Ta(),QZe=bi().arrayEditor,Pn=Zb(),bD=es(),Qne=bD.LINE_SPACING,yD=bD.FROM_TL,xD=bD.FROM_BR;aie.exports=function(t){var r=t._fullLayout,n=e$e(r,t),i=r._infolayer.selectAll("g."+Pn.containerClassName).data(n.length>0?[0]:[]);i.enter().append("g").classed(Pn.containerClassName,!0).style("cursor","ew-resize");function a(u){u._commandObserver&&(u._commandObserver.remove(),delete u._commandObserver),xA.autoMargin(t,eie(u))}if(i.exit().each(function(){Yc.select(this).selectAll("g."+Pn.groupClassName).each(a)}).remove(),n.length!==0){var o=i.selectAll("g."+Pn.groupClassName).data(n,t$e);o.enter().append("g").classed(Pn.groupClassName,!0),o.exit().each(a).remove();for(var s=0;s<n.length;s++){var l=n[s];r$e(t,l)}o.each(function(u){var f=Yc.select(this);s$e(u),xA.manageCommandObserver(t,u,u._visibleSteps,function(c){var h=f.data()[0];h.active!==c.index&&(h._dragging||rie(t,f,h,c.index,!1,!0))}),n$e(t,Yc.select(this),u)})}};function eie(e){return Pn.autoMarginIdRoot+e._index}function e$e(e,t){for(var r=e[Pn.name],n=[],i=0;i<r.length;i++){var a=r[i];a.visible&&(a._gd=t,n.push(a))}return n}function t$e(e){return e._index}function r$e(e,t){var r=Wc.tester.selectAll("g."+Pn.labelGroupClass).data(t._visibleSteps);r.enter().append("g").classed(Pn.labelGroupClass,!0);var n=0,i=0;r.each(function(b){var y=Yc.select(this),x=tie(y,{step:b},t),m=x.node();if(m){var _=Wc.bBox(m);i=Math.max(i,_.height),n=Math.max(n,_.width)}}),r.remove();var a=t._dims={};a.inputAreaWidth=Math.max(Pn.railWidth,Pn.gripHeight);var o=e._fullLayout._size;a.lx=o.l+o.w*t.x,a.ly=o.t+o.h*(1-t.y),t.lenmode==="fraction"?a.outerLength=Math.round(o.w*t.len):a.outerLength=t.len,a.inputAreaStart=0,a.inputAreaLength=Math.round(a.outerLength-t.pad.l-t.pad.r);var s=a.inputAreaLength-2*Pn.stepInset,l=s/(t._stepCount-1),u=n+Pn.labelPadding;if(a.labelStride=Math.max(1,Math.ceil(u/l)),a.labelHeight=i,a.currentValueMaxWidth=0,a.currentValueHeight=0,a.currentValueTotalHeight=0,a.currentValueMaxLines=1,t.currentvalue.visible){var f=Wc.tester.append("g");r.each(function(b){var y=bA(f,t,b.label),x=y.node()&&Wc.bBox(y.node())||{width:0,height:0},m=$b.lineCount(y);a.currentValueMaxWidth=Math.max(a.currentValueMaxWidth,Math.ceil(x.width)),a.currentValueHeight=Math.max(a.currentValueHeight,Math.ceil(x.height)),a.currentValueMaxLines=Math.max(a.currentValueMaxLines,m)}),a.currentValueTotalHeight=a.currentValueHeight+t.currentvalue.offset,f.remove()}a.height=a.currentValueTotalHeight+Pn.tickOffset+t.ticklen+Pn.labelOffset+a.labelHeight+t.pad.t+t.pad.b;var c="left";xf.isRightAnchor(t)&&(a.lx-=a.outerLength,c="right"),xf.isCenterAnchor(t)&&(a.lx-=a.outerLength/2,c="center");var h="top";xf.isBottomAnchor(t)&&(a.ly-=a.height,h="bottom"),xf.isMiddleAnchor(t)&&(a.ly-=a.height/2,h="middle"),a.outerLength=Math.ceil(a.outerLength),a.height=Math.ceil(a.height),a.lx=Math.round(a.lx),a.ly=Math.round(a.ly);var v={y:t.y,b:a.height*xD[h],t:a.height*yD[h]};t.lenmode==="fraction"?(v.l=0,v.xl=t.x-t.len*yD[c],v.r=0,v.xr=t.x+t.len*xD[c]):(v.x=t.x,v.l=a.outerLength*yD[c],v.r=a.outerLength*xD[c]),xA.autoMargin(e,eie(t),v)}function n$e(e,t,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index),t.call(bA,r).call(u$e,r).call(a$e,r).call(o$e,r).call(l$e,e,r).call(i$e,e,r);var n=r._dims;Wc.setTranslate(t,n.lx+r.pad.l,n.ly+r.pad.t),t.call(iie,r,!1),t.call(bA,r)}function bA(e,t,r){if(t.currentvalue.visible){var n=t._dims,i,a;switch(t.currentvalue.xanchor){case"right":i=n.inputAreaLength-Pn.currentValueInset-n.currentValueMaxWidth,a="left";break;case"center":i=n.inputAreaLength*.5,a="middle";break;default:i=Pn.currentValueInset,a="left"}var o=xf.ensureSingle(e,"text",Pn.labelClass,function(h){h.attr({"text-anchor":a,"data-notex":1})}),s=t.currentvalue.prefix?t.currentvalue.prefix:"";if(typeof r=="string")s+=r;else{var l=t.steps[t.active].label,u=t._gd._fullLayout._meta;u&&(l=xf.templateString(l,u)),s+=l}t.currentvalue.suffix&&(s+=t.currentvalue.suffix),o.call(Wc.font,t.currentvalue.font).text(s).call($b.convertToTspans,t._gd);var f=$b.lineCount(o),c=(n.currentValueMaxLines+1-f)*t.currentvalue.font.size*Qne;return $b.positionText(o,i,c),o}}function i$e(e,t,r){var n=xf.ensureSingle(e,"rect",Pn.gripRectClass,function(i){i.call(nie,t,e,r).style("pointer-events","all")});n.attr({width:Pn.gripWidth,height:Pn.gripHeight,rx:Pn.gripRadius,ry:Pn.gripRadius}).call(Yd.stroke,r.bordercolor).call(Yd.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function tie(e,t,r){var n=xf.ensureSingle(e,"text",Pn.labelClass,function(o){o.attr({"text-anchor":"middle","data-notex":1})}),i=t.step.label,a=r._gd._fullLayout._meta;return a&&(i=xf.templateString(i,a)),n.call(Wc.font,r.font).text(i).call($b.convertToTspans,r._gd),n}function a$e(e,t){var r=xf.ensureSingle(e,"g",Pn.labelsClass),n=t._dims,i=r.selectAll("g."+Pn.labelGroupClass).data(n.labelSteps);i.enter().append("g").classed(Pn.labelGroupClass,!0),i.exit().remove(),i.each(function(a){var o=Yc.select(this);o.call(tie,a,t),Wc.setTranslate(o,wD(t,a.fraction),Pn.tickOffset+t.ticklen+t.font.size*Qne+Pn.labelOffset+n.currentValueTotalHeight)})}function Kne(e,t,r,n,i){var a=Math.round(n*(r._stepCount-1)),o=r._visibleSteps[a]._index;o!==r.active&&rie(e,t,r,o,!0,i)}function rie(e,t,r,n,i,a){var o=r.active;r.active=n,QZe(e.layout,Pn.name,r).applyUpdate("active",n);var s=r.steps[r.active];t.call(iie,r,a),t.call(bA,r),e.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:i,previousActive:o}),s&&s.method&&i&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=i,t._nextMethod.doTransition=a):(t._nextMethod={step:s,doCallback:i,doTransition:a},t._nextMethodRaf=window.requestAnimationFrame(function(){var l=t._nextMethod.step;l.method&&(l.execute&&xA.executeAPICommand(e,l.method,l.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function nie(e,t,r){var n=r.node(),i=Yc.select(t);function a(){return r.data()[0]}function o(){var s=a();t.emit("plotly_sliderstart",{slider:s});var l=r.select("."+Pn.gripRectClass);Yc.event.stopPropagation(),Yc.event.preventDefault(),l.call(Yd.fill,s.activebgcolor);var u=Jne(s,Yc.mouse(n)[0]);Kne(t,r,s,u,!0),s._dragging=!0;function f(){var h=a(),v=Jne(h,Yc.mouse(n)[0]);Kne(t,r,h,v,!1)}i.on("mousemove",f),i.on("touchmove",f);function c(){var h=a();h._dragging=!1,l.call(Yd.fill,h.bgcolor),i.on("mouseup",null),i.on("mousemove",null),i.on("touchend",null),i.on("touchmove",null),t.emit("plotly_sliderend",{slider:h,step:h.steps[h.active]})}i.on("mouseup",c),i.on("touchend",c)}e.on("mousedown",o),e.on("touchstart",o)}function o$e(e,t){var r=e.selectAll("rect."+Pn.tickRectClass).data(t._visibleSteps),n=t._dims;r.enter().append("rect").classed(Pn.tickRectClass,!0),r.exit().remove(),r.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(i,a){var o=a%n.labelStride===0,s=Yc.select(this);s.attr({height:o?t.ticklen:t.minorticklen}).call(Yd.fill,t.tickcolor),Wc.setTranslate(s,wD(t,a/(t._stepCount-1))-.5*t.tickwidth,(o?Pn.tickOffset:Pn.minorTickOffset)+n.currentValueTotalHeight)})}function s$e(e){var t=e._dims;t.labelSteps=[];for(var r=e._stepCount,n=0;n<r;n+=t.labelStride)t.labelSteps.push({fraction:n/(r-1),step:e._visibleSteps[n]})}function iie(e,t,r){for(var n=e.select("rect."+Pn.gripRectClass),i=0,a=0;a<t._stepCount;a++)if(t._visibleSteps[a]._index===t.active){i=a;break}var o=wD(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=n;r&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform",JZe(o-Pn.gripWidth*.5,t._dims.currentValueTotalHeight))}}function wD(e,t){var r=e._dims;return r.inputAreaStart+Pn.stepInset+(r.inputAreaLength-2*Pn.stepInset)*Math.min(1,Math.max(0,t))}function Jne(e,t){var r=e._dims;return Math.min(1,Math.max(0,(t-Pn.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*Pn.stepInset-2*r.inputAreaStart)))}function l$e(e,t,r){var n=r._dims,i=xf.ensureSingle(e,"rect",Pn.railTouchRectClass,function(a){a.call(nie,t,e,r).style("pointer-events","all")});i.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,Pn.tickOffset+r.ticklen+n.labelHeight)}).call(Yd.fill,r.bgcolor).attr("opacity",0),Wc.setTranslate(i,0,n.currentValueTotalHeight)}function u$e(e,t){var r=t._dims,n=r.inputAreaLength-Pn.railInset*2,i=xf.ensureSingle(e,"rect",Pn.railRectClass);i.attr({width:n,height:Pn.railWidth,rx:Pn.railRadius,ry:Pn.railRadius,"shape-rendering":"crispEdges"}).call(Yd.stroke,t.bordercolor).call(Yd.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),Wc.setTranslate(i,Pn.railInset,(r.inputAreaWidth-Pn.railWidth)*.5+r.currentValueTotalHeight)}});var lie=$((DSt,sie)=>{"use strict";var f$e=Zb();sie.exports={moduleType:"component",name:f$e.name,layoutAttributes:mD(),supplyLayoutDefaults:$ne(),draw:oie()}});var wA=$((qSt,fie)=>{"use strict";var uie=Ro();fie.exports={bgcolor:{valType:"color",dflt:uie.background,editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:uie.defaultLine,editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}});var _D=$((RSt,cie)=>{"use strict";cie.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}});var _A=$((ISt,hie)=>{"use strict";hie.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var pie=$(AA=>{"use strict";var c$e=Io(),h$e=Ta(),vie=_A(),v$e=es().LINE_SPACING,TA=vie.name;function die(e){var t=e&&e[TA];return t&&t.visible}AA.isVisible=die;AA.makeData=function(e){var t=c$e.list({_fullLayout:e},"x",!0),r=e.margin,n=[];if(!e._has("gl2d"))for(var i=0;i<t.length;i++){var a=t[i];if(die(a)){n.push(a);var o=a[TA];o._id=TA+a._id,o._height=(e.height-r.b-r.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}e._rangeSliderData=n};AA.autoMarginOpts=function(e,t){var r=e._fullLayout,n=t[TA],i=t._id.charAt(0),a=0,o=0;if(t.side==="bottom"&&(a=t._depth,t.title.text!==r._dfltTitle[i])){o=1.5*t.title.font.size+10+n._offsetShift;var s=(t.title.text.match(h$e.BR_TAG_ALL)||[]).length;o+=s*t.title.font.size*v$e}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+a+Math.max(r.margin.b,o),pad:vie.extraPad+n._offsetShift*2}}});var xie=$((FSt,yie)=>{"use strict";var MA=pt(),gie=bi(),mie=Io(),d$e=wA(),p$e=_D();yie.exports=function(t,r,n){var i=t[n],a=r[n];if(!(i.rangeslider||r._requestRangeslider[a._id]))return;MA.isPlainObject(i.rangeslider)||(i.rangeslider={});var o=i.rangeslider,s=gie.newContainer(a,"rangeslider");function l(w,k){return MA.coerce(o,s,d$e,w,k)}var u,f;function c(w,k){return MA.coerce(u,f,p$e,w,k)}var h=l("visible");if(h){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!a.isValidRange(o.range)),l("range");var v=r._subplots;if(v)for(var b=v.cartesian.filter(function(w){return w.substr(0,w.indexOf("y"))===mie.name2id(n)}).map(function(w){return w.substr(w.indexOf("y"),w.length)}),y=MA.simpleMap(b,mie.id2name),x=0;x<y.length;x++){var m=y[x];u=o[m]||{},f=gie.newContainer(s,m,"yaxis");var _=r[m],g;u.range&&_.isValidRange(u.range)&&(g="fixed");var A=c("rangemode",g);A!=="match"&&c("range",_.range.slice())}s._input=o}}});var wie=$((NSt,bie)=>{"use strict";var g$e=Io().list,m$e=Pc().getAutoRange,y$e=_A();bie.exports=function(t){for(var r=g$e(t,"x",!0),n=0;n<r.length;n++){var i=r[n],a=i[y$e.name];a&&a.visible&&a.autorange&&(a._input.autorange=!0,a._input.range=a.range=m$e(t,i))}}});var Aie=$((zSt,Tie)=>{"use strict";var kA=Nr(),x$e=Ir(),b$e=Zi(),Za=pt(),SA=Za.strTranslate,_ie=un(),ym=Rr(),w$e=lp(),_$e=as(),TD=Io(),T$e=Gl(),A$e=Fc(),Wn=_A();Tie.exports=function(e){for(var t=e._fullLayout,r=t._rangeSliderData,n=0;n<r.length;n++){var i=r[n][Wn.name];i._clipId=i._id+"-"+t._uid}function a(s){return s._name}var o=t._infolayer.selectAll("g."+Wn.containerClassName).data(r,a);o.exit().each(function(s){var l=s[Wn.name];t._topdefs.select("#"+l._clipId).remove()}).remove(),r.length!==0&&(o.enter().append("g").classed(Wn.containerClassName,!0).attr("pointer-events","all"),o.each(function(s){var l=kA.select(this),u=s[Wn.name],f=t[TD.id2name(s.anchor)],c=u[TD.id2name(s.anchor)];if(u.range){var h=Za.simpleMap(u.range,s.r2l),v=Za.simpleMap(s.range,s.r2l),b;v[0]<v[1]?b=[Math.min(h[0],v[0]),Math.max(h[1],v[1])]:b=[Math.max(h[0],v[0]),Math.min(h[1],v[1])],u.range=u._input.range=Za.simpleMap(b,s.l2r)}s.cleanRange("rangeslider.range");var y=t._size,x=s.domain;u._width=y.w*(x[1]-x[0]);var m=Math.round(y.l+y.w*x[0]),_=Math.round(y.t+y.h*(1-s._counterDomainMin)+(s.side==="bottom"?s._depth:0)+u._offsetShift+Wn.extraPad);l.attr("transform",SA(m,_)),u._rl=Za.simpleMap(u.range,s.r2l);var g=u._rl[0],A=u._rl[1],w=A-g;if(u.p2d=function(R){return R/u._width*w+g},u.d2p=function(R){return(R-g)/w*u._width},s.rangebreaks){var k=s.locateBreaks(g,A);if(k.length){var p,d,M=0;for(p=0;p<k.length;p++)d=k[p],M+=d.max-d.min;var T=u._width/(A-g-M),S=[-T*g];for(p=0;p<k.length;p++)d=k[p],S.push(S[S.length-1]-T*(d.max-d.min));for(u.d2p=function(R){for(var q=S[0],C=0;C<k.length;C++){var F=k[C];if(R>=F.max)q=S[C+1];else if(R<F.min)break}return q+T*R},p=0;p<k.length;p++)d=k[p],d.pmin=u.d2p(d.min),d.pmax=u.d2p(d.max);u.p2d=function(R){for(var q=S[0],C=0;C<k.length;C++){var F=k[C];if(R>=F.pmax)q=S[C+1];else if(R<F.pmin)break}return(R-q)/T}}}if(c.rangemode!=="match"){var E=f.r2l(c.range[0]),L=f.r2l(c.range[1]),D=L-E;u.d2pOppAxis=function(R){return(R-E)/D*u._height}}l.call(E$e,e,s,u).call(L$e,e,s,u).call(C$e,e,s,u).call(q$e,e,s,u,c).call(R$e,e,s,u).call(I$e,e,s,u),M$e(l,e,s,u),S$e(l,e,s,u,f,c),s.side==="bottom"&&w$e.draw(e,s._id+"title",{propContainer:s,propName:s._name+".title",placeholder:t._dfltTitle.x,attributes:{x:s._offset+s._length/2,y:_+u._height+u._offsetShift+10+1.5*s.title.font.size,"text-anchor":"middle"}})}))};function M$e(e,t,r,n){if(t._context.staticPlot)return;var i=e.select("rect."+Wn.slideBoxClassName).node(),a=e.select("rect."+Wn.grabAreaMinClassName).node(),o=e.select("rect."+Wn.grabAreaMaxClassName).node();function s(){var l=kA.event,u=l.target,f=l.clientX||l.touches[0].clientX,c=f-e.node().getBoundingClientRect().left,h=n.d2p(r._rl[0]),v=n.d2p(r._rl[1]),b=T$e.coverSlip();this.addEventListener("touchmove",y),this.addEventListener("touchend",x),b.addEventListener("mousemove",y),b.addEventListener("mouseup",x);function y(m){var _=m.clientX||m.touches[0].clientX,g=+_-f,A,w,k;switch(u){case i:k="ew-resize",A=h+g,w=v+g;break;case a:k="col-resize",A=h+g,w=v;break;case o:k="col-resize",A=h,w=v+g;break;default:k="ew-resize",A=c,w=c+g;break}if(w<A){var p=w;w=A,A=p}n._pixelMin=A,n._pixelMax=w,A$e(kA.select(b),k),k$e(e,t,r,n)}function x(){b.removeEventListener("mousemove",y),b.removeEventListener("mouseup",x),this.removeEventListener("touchmove",y),this.removeEventListener("touchend",x),Za.removeElement(b)}}e.on("mousedown",s),e.on("touchstart",s)}function k$e(e,t,r,n){function i(s){return r.l2r(Za.constrain(s,n._rl[0],n._rl[1]))}var a=i(n.p2d(n._pixelMin)),o=i(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){x$e.call("_guiRelayout",t,r._name+".range",[a,o])})}function S$e(e,t,r,n,i,a){var o=Wn.handleWidth/2;function s(m){return Za.constrain(m,0,n._width)}function l(m){return Za.constrain(m,0,n._height)}function u(m){return Za.constrain(m,-o,n._width+o)}var f=s(n.d2p(r._rl[0])),c=s(n.d2p(r._rl[1]));if(e.select("rect."+Wn.slideBoxClassName).attr("x",f).attr("width",c-f),e.select("rect."+Wn.maskMinClassName).attr("width",f),e.select("rect."+Wn.maskMaxClassName).attr("x",c).attr("width",n._width-c),a.rangemode!=="match"){var h=n._height-l(n.d2pOppAxis(i._rl[1])),v=n._height-l(n.d2pOppAxis(i._rl[0]));e.select("rect."+Wn.maskMinOppAxisClassName).attr("x",f).attr("height",h).attr("width",c-f),e.select("rect."+Wn.maskMaxOppAxisClassName).attr("x",f).attr("y",v).attr("height",n._height-v).attr("width",c-f),e.select("rect."+Wn.slideBoxClassName).attr("y",h).attr("height",v-h)}var b=.5,y=Math.round(u(f-o))-b,x=Math.round(u(c-o))+b;e.select("g."+Wn.grabberMinClassName).attr("transform",SA(y,b)),e.select("g."+Wn.grabberMaxClassName).attr("transform",SA(x,b))}function E$e(e,t,r,n){var i=Za.ensureSingle(e,"rect",Wn.bgClassName,function(l){l.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),a=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,o=-n._offsetShift,s=_ie.crispRound(t,n.borderwidth);i.attr({width:n._width+a,height:n._height+a,transform:SA(o,o),fill:n.bgcolor,stroke:n.bordercolor,"stroke-width":s})}function L$e(e,t,r,n){var i=t._fullLayout,a=Za.ensureSingleById(i._topdefs,"clipPath",n._clipId,function(o){o.append("rect").attr({x:0,y:0})});a.select("rect").attr({width:n._width,height:n._height})}function C$e(e,t,r,n){var i=t.calcdata,a=e.selectAll("g."+Wn.rangePlotClassName).data(r._subplotsWith,Za.identity);a.enter().append("g").attr("class",function(s){return Wn.rangePlotClassName+" "+s}).call(_ie.setClipUrl,n._clipId,t),a.order(),a.exit().remove();var o;a.each(function(s,l){var u=kA.select(this),f=l===0,c=TD.getFromId(t,s,"y"),h=c._name,v=n[h],b={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};r.rangebreaks&&(b.layout.xaxis.rangebreaks=r.rangebreaks),b.layout[h]={type:c.type,domain:[0,1],range:v.rangemode!=="match"?v.range.slice():c.range.slice(),calendar:c.calendar},c.rangebreaks&&(b.layout[h].rangebreaks=c.rangebreaks),b$e.supplyDefaults(b);var y=b._fullLayout.xaxis,x=b._fullLayout[h];y.clearCalc(),y.setScale(),x.clearCalc(),x.setScale();var m={id:s,plotgroup:u,xaxis:y,yaxis:x,isRangePlot:!0};f?o=m:(m.mainplot="xy",m.mainplotinfo=o),_$e.rangePlot(t,m,D$e(i,s))})}function D$e(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=i[0].trace;a.xaxis+a.yaxis===t&&r.push(i)}return r}function q$e(e,t,r,n,i){var a=Za.ensureSingle(e,"rect",Wn.maskMinClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})});a.attr("height",n._height).call(ym.fill,Wn.maskColor);var o=Za.ensureSingle(e,"rect",Wn.maskMaxClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});if(o.attr("height",n._height).call(ym.fill,Wn.maskColor),i.rangemode!=="match"){var s=Za.ensureSingle(e,"rect",Wn.maskMinOppAxisClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});s.attr("width",n._width).call(ym.fill,Wn.maskOppAxisColor);var l=Za.ensureSingle(e,"rect",Wn.maskMaxOppAxisClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).style("border-top",Wn.maskOppBorder).call(ym.fill,Wn.maskOppAxisColor)}}function R$e(e,t,r,n){if(!t._context.staticPlot){var i=Za.ensureSingle(e,"rect",Wn.slideBoxClassName,function(a){a.attr({y:0,cursor:Wn.slideBoxCursor,"shape-rendering":"crispEdges"})});i.attr({height:n._height,fill:Wn.slideBoxFill})}}function I$e(e,t,r,n){var i=Za.ensureSingle(e,"g",Wn.grabberMinClassName),a=Za.ensureSingle(e,"g",Wn.grabberMaxClassName),o={x:0,width:Wn.handleWidth,rx:Wn.handleRadius,fill:ym.background,stroke:ym.defaultLine,"stroke-width":Wn.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(n._height/4),height:Math.round(n._height/2)},l=Za.ensureSingle(i,"rect",Wn.handleMinClassName,function(v){v.attr(o)});l.attr(s);var u=Za.ensureSingle(a,"rect",Wn.handleMaxClassName,function(v){v.attr(o)});u.attr(s);var f={width:Wn.grabAreaWidth,x:0,y:0,fill:Wn.grabAreaFill,cursor:t._context.staticPlot?void 0:Wn.grabAreaCursor},c=Za.ensureSingle(i,"rect",Wn.grabAreaMinClassName,function(v){v.attr(f)});c.attr("height",n._height);var h=Za.ensureSingle(a,"rect",Wn.grabAreaMaxClassName,function(v){v.attr(f)});h.attr("height",n._height)}});var kie=$((OSt,Mie)=>{"use strict";var P$e=pt(),F$e=wA(),N$e=_D(),AD=pie();Mie.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:P$e.extendFlat({},F$e,{yaxis:N$e})}}},layoutAttributes:wA(),handleDefaults:xie(),calcAutorange:wie(),draw:Aie(),isVisible:AD.isVisible,makeData:AD.makeData,autoMarginOpts:AD.autoMarginOpts}});var EA=$((BSt,Eie)=>{"use strict";var z$e=Ba(),Sie=Ro(),O$e=bi().templatedArray,B$e=O$e("button",{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});Eie.exports={visible:{valType:"boolean",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:B$e,x:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:z$e({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:Sie.lightLine,editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:Sie.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}});var MD=$((HSt,Lie)=>{"use strict";Lie.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var qie=$((USt,Die)=>{"use strict";var LA=pt(),H$e=Rr(),U$e=bi(),j$e=Mu(),Cie=EA(),kD=MD();Die.exports=function(t,r,n,i,a){var o=t.rangeselector||{},s=U$e.newContainer(r,"rangeselector");function l(v,b){return LA.coerce(o,s,Cie,v,b)}var u=j$e(o,s,{name:"buttons",handleItemDefaults:V$e,calendar:a}),f=l("visible",u.length>0);if(f){var c=G$e(r,n,i);l("x",c[0]),l("y",c[1]),LA.noneOrAll(t,r,["x","y"]),l("xanchor"),l("yanchor"),LA.coerceFont(l,"font",n.font);var h=l("bgcolor");l("activecolor",H$e.contrast(h,kD.lightAmount,kD.darkAmount)),l("bordercolor"),l("borderwidth")}};function V$e(e,t,r,n){var i=n.calendar;function a(l,u){return LA.coerce(e,t,Cie.buttons,l,u)}var o=a("visible");if(o){var s=a("step");s!=="all"&&(i&&i!=="gregorian"&&(s==="month"||s==="year")?t.stepmode="backward":a("stepmode"),a("count")),a("label")}}function G$e(e,t,r){for(var n=r.filter(function(s){return t[s].anchor===e._id}),i=0,a=0;a<n.length;a++){var o=t[n[a]].domain;o&&(i=Math.max(o[1],i))}return[e.domain[0],i+kD.yPad]}});var Iie=$((jSt,Rie)=>{"use strict";var Y$e=j4(),W$e=pt().titleCase;Rie.exports=function(t,r){var n=t._name,i={};if(r.step==="all")i[n+".autorange"]=!0;else{var a=X$e(t,r);i[n+".range[0]"]=a[0],i[n+".range[1]"]=a[1]}return i};function X$e(e,t){var r=e.range,n=new Date(e.r2l(r[1])),i=t.step,a=Y$e["utc"+W$e(i)],o=t.count,s;switch(t.stepmode){case"backward":s=e.l2r(+a.offset(n,-o));break;case"todate":var l=a.offset(n,-o);s=e.l2r(+a.ceil(l));break}var u=r[1];return[s,u]}});var Uie=$((VSt,Hie)=>{"use strict";var DA=Nr(),Z$e=Ir(),$$e=Zi(),Pie=Rr(),Bie=un(),qv=pt(),Fie=qv.strTranslate,CA=Ta(),K$e=Io(),LD=es(),Nie=LD.LINE_SPACING,zie=LD.FROM_TL,Oie=LD.FROM_BR,ED=MD(),J$e=Iie();Hie.exports=function(t){var r=t._fullLayout,n=r._infolayer.selectAll(".rangeselector").data(Q$e(t),eKe);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(i){var a=DA.select(this),o=i,s=o.rangeselector,l=a.selectAll("g.button").data(qv.filterVisible(s.buttons));l.enter().append("g").classed("button",!0),l.exit().remove(),l.each(function(u){var f=DA.select(this),c=J$e(o,u);u._isActive=tKe(o,u,c),f.call(SD,s,u),f.call(nKe,s,u,t),f.on("click",function(){t._dragged||Z$e.call("_guiRelayout",t,c)}),f.on("mouseover",function(){u._isHovered=!0,f.call(SD,s,u)}),f.on("mouseout",function(){u._isHovered=!1,f.call(SD,s,u)})}),aKe(t,l,s,o._name,a)})};function Q$e(e){for(var t=K$e.list(e,"x",!0),r=[],n=0;n<t.length;n++){var i=t[n];i.rangeselector&&i.rangeselector.visible&&r.push(i)}return r}function eKe(e){return e._id}function tKe(e,t,r){if(t.step==="all")return e.autorange===!0;var n=Object.keys(r);return e.range[0]===r[n[0]]&&e.range[1]===r[n[1]]}function SD(e,t,r){var n=qv.ensureSingle(e,"rect","selector-rect",function(i){i.attr("shape-rendering","crispEdges")});n.attr({rx:ED.rx,ry:ED.ry}),n.call(Pie.stroke,t.bordercolor).call(Pie.fill,rKe(t,r)).style("stroke-width",t.borderwidth+"px")}function rKe(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function nKe(e,t,r,n){function i(o){CA.convertToTspans(o,n)}var a=qv.ensureSingle(e,"text","selector-text",function(o){o.attr("text-anchor","middle")});a.call(Bie.font,t.font).text(iKe(r,n._fullLayout._meta)).call(i)}function iKe(e,t){return e.label?t?qv.templateString(e.label,t):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function aKe(e,t,r,n,i){var a=0,o=0,s=r.borderwidth;t.each(function(){var v=DA.select(this),b=v.select(".selector-text"),y=r.font.size*Nie,x=Math.max(y*CA.lineCount(b),16)+3;o=Math.max(o,x)}),t.each(function(){var v=DA.select(this),b=v.select(".selector-rect"),y=v.select(".selector-text"),x=y.node()&&Bie.bBox(y.node()).width,m=r.font.size*Nie,_=CA.lineCount(y),g=Math.max(x+10,ED.minButtonWidth);v.attr("transform",Fie(s+a,s)),b.attr({x:0,y:0,width:g,height:o}),CA.positionText(y,g/2,o/2-(_-1)*m/2+3),a+=g+5});var l=e._fullLayout._size,u=l.l+l.w*r.x,f=l.t+l.h*(1-r.y),c="left";qv.isRightAnchor(r)&&(u-=a,c="right"),qv.isCenterAnchor(r)&&(u-=a/2,c="center");var h="top";qv.isBottomAnchor(r)&&(f-=o,h="bottom"),qv.isMiddleAnchor(r)&&(f-=o/2,h="middle"),a=Math.ceil(a),o=Math.ceil(o),u=Math.round(u),f=Math.round(f),$$e.autoMargin(e,n+"-range-selector",{x:r.x,y:r.y,l:a*zie[c],r:a*Oie[c],b:o*Oie[h],t:o*zie[h]}),i.attr("transform",Fie(u,f))}});var Vie=$((GSt,jie)=>{"use strict";jie.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:EA()}}},layoutAttributes:EA(),handleDefaults:qie(),draw:Uie()}});var Ua=$(CD=>{"use strict";var Gie=ln().extendFlat;CD.attributes=function(e,t){e=e||{},t=t||{};var r={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",a=t.description?" "+t.description:"",o={x:Gie({},r,{description:["Sets the horizontal domain of this ",n,i,"(in plot fraction).",a].join("")}),y:Gie({},r,{description:["Sets the vertical domain of this ",n,i,"(in plot fraction).",a].join("")}),editType:e.editType};return e.noGridCell||(o.row={valType:"integer",min:0,dflt:0,editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,i,".",a].join("")},o.column={valType:"integer",min:0,dflt:0,editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,i,".",a].join("")}),o};CD.defaults=function(e,t,r,n){var i=n&&n.x||[0,1],a=n&&n.y||[0,1],o=t.grid;if(o){var s=r("domain.column");s!==void 0&&(s<o.columns?i=o._domains.x[s]:delete e.domain.column);var l=r("domain.row");l!==void 0&&(l<o.rows?a=o._domains.y[l]:delete e.domain.row)}var u=r("domain.x",i),f=r("domain.y",a);u[0]<u[1]||(e.domain.x=i.slice()),f[0]<f[1]||(e.domain.y=a.slice())}});var $ie=$((WSt,Zie)=>{"use strict";var oKe=pt(),sKe=x1().counter,lKe=Ua().attributes,Yie=Qo().idRegex,uKe=bi(),DD={rows:{valType:"integer",min:1,editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[sKe("xy").toString(),""],editType:"plot"},editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Yie.x.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Yie.y.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:lKe({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function qA(e,t,r){var n=t[r+"axes"],i=Object.keys((e._splomAxes||{})[r]||{});if(Array.isArray(n))return n;if(i.length)return i}function fKe(e,t){var r=e.grid||{},n=qA(t,r,"x"),i=qA(t,r,"y");if(!e.grid&&!n&&!i)return;var a=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),o=Array.isArray(n),s=Array.isArray(i),l=o&&n!==r.xaxes&&s&&i!==r.yaxes,u,f;a?(u=r.subplots.length,f=r.subplots[0].length):(s&&(u=i.length),o&&(f=n.length));var c=uKe.newContainer(t,"grid");function h(k,p){return oKe.coerce(r,c,DD,k,p)}var v=h("rows",u),b=h("columns",f);if(!(v*b>1)){delete t.grid;return}if(!a&&!o&&!s){var y=h("pattern")==="independent";y&&(a=!0)}c._hasSubplotGrid=a;var x=h("roworder"),m=x==="top to bottom",_=a?.2:.1,g=a?.3:.1,A,w;l&&t._splomGridDflt&&(A=t._splomGridDflt.xside,w=t._splomGridDflt.yside),c._domains={x:Wie("x",h,_,A,b),y:Wie("y",h,g,w,v,m)}}function Wie(e,t,r,n,i,a){var o=t(e+"gap",r),s=t("domain."+e);t(e+"side",n);for(var l=new Array(i),u=s[0],f=(s[1]-u)/(i-o),c=f*(1-o),h=0;h<i;h++){var v=u+f*h;l[a?i-1-h:h]=[v,v+c]}return l}function cKe(e,t){var r=t.grid;if(!(!r||!r._domains)){var n=e.grid||{},i=t._subplots,a=r._hasSubplotGrid,o=r.rows,s=r.columns,l=r.pattern==="independent",u,f,c,h,v,b,y,x=r._axisMap={};if(a){var m=n.subplots||[];b=r.subplots=new Array(o);var _=1;for(u=0;u<o;u++){var g=b[u]=new Array(s),A=m[u]||[];for(f=0;f<s;f++)if(l?(v=_===1?"xy":"x"+_+"y"+_,_++):v=A[f],g[f]="",i.cartesian.indexOf(v)!==-1){if(y=v.indexOf("y"),c=v.slice(0,y),h=v.slice(y),x[c]!==void 0&&x[c]!==f||x[h]!==void 0&&x[h]!==u)continue;g[f]=v,x[c]=f,x[h]=u}}}else{var w=qA(t,n,"x"),k=qA(t,n,"y");r.xaxes=Xie(w,i.xaxis,s,x,"x"),r.yaxes=Xie(k,i.yaxis,o,x,"y")}var p=r._anchors={},d=r.roworder==="top to bottom";for(var M in x){var T=M.charAt(0),S=r[T+"side"],E,L,D;if(S.length<8)p[M]="free";else if(T==="x"){if(S.charAt(0)==="t"===d?(E=0,L=1,D=o):(E=o-1,L=-1,D=-1),a){var R=x[M];for(u=E;u!==D;u+=L)if(v=b[u][R],!!v&&(y=v.indexOf("y"),v.slice(0,y)===M)){p[M]=v.slice(y);break}}else for(u=E;u!==D;u+=L)if(h=r.yaxes[u],i.cartesian.indexOf(M+h)!==-1){p[M]=h;break}}else if(S.charAt(0)==="l"?(E=0,L=1,D=s):(E=s-1,L=-1,D=-1),a){var q=x[M];for(u=E;u!==D;u+=L)if(v=b[q][u],!!v&&(y=v.indexOf("y"),v.slice(y)===M)){p[M]=v.slice(0,y);break}}else for(u=E;u!==D;u+=L)if(c=r.xaxes[u],i.cartesian.indexOf(c+M)!==-1){p[M]=c;break}}}}function Xie(e,t,r,n,i){var a=new Array(r),o;function s(l,u){t.indexOf(u)!==-1&&n[u]===void 0?(a[l]=u,n[u]=l):a[l]=""}if(Array.isArray(e))for(o=0;o<r;o++)s(o,e[o]);else for(s(0,i),o=1;o<r;o++)s(o,i+(o+1));return a}Zie.exports={moduleType:"component",name:"grid",schema:{layout:{grid:DD}},layoutAttributes:DD,sizeDefaults:fKe,contentDefaults:cKe}});var qD=$((XSt,Kie)=>{"use strict";Kie.exports={visible:{valType:"boolean",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}});var eae=$((ZSt,Qie)=>{"use strict";var Jie=mn(),hKe=Ir(),vKe=pt(),dKe=bi(),pKe=qD();Qie.exports=function(e,t,r,n){var i="error_"+n.axis,a=dKe.newContainer(t,i),o=e[i]||{};function s(b,y){return vKe.coerce(o,a,pKe,b,y)}var l=o.array!==void 0||o.value!==void 0||o.type==="sqrt",u=s("visible",l);if(u!==!1){var f=s("type","array"in o?"data":"percent"),c=!0;f!=="sqrt"&&(c=s("symmetric",!((f==="data"?"arrayminus":"valueminus")in o))),f==="data"?(s("array"),s("traceref"),c||(s("arrayminus"),s("tracerefminus"))):(f==="percent"||f==="constant")&&(s("value"),c||s("valueminus"));var h="copy_"+n.inherit+"style";if(n.inherit){var v=t["error_"+n.inherit];(v||{}).visible&&s(h,!(o.color||Jie(o.thickness)||Jie(o.width)))}(!n.inherit||!a[h])&&(s("color",r),s("thickness"),s("width",hKe.traceIs(t,"gl3d")?0:4))}}});var RD=$(($St,rae)=>{"use strict";rae.exports=function(t){var r=t.type,n=t.symmetric;if(r==="data"){var i=t.array||[];if(n)return function(u,f){var c=+i[f];return[c,c]};var a=t.arrayminus||[];return function(u,f){var c=+i[f],h=+a[f];return!isNaN(c)||!isNaN(h)?[h||0,c||0]:[NaN,NaN]}}else{var o=tae(r,t.value),s=tae(r,t.valueminus);return n||t.valueminus===void 0?function(u){var f=o(u);return[f,f]}:function(u){return[s(u),o(u)]}}};function tae(e,t){if(e==="percent")return function(r){return Math.abs(r*t/100)};if(e==="constant")return function(){return Math.abs(t)};if(e==="sqrt")return function(r){return Math.sqrt(Math.abs(r))}}});var aae=$((KSt,iae)=>{"use strict";var ID=mn(),gKe=Ir(),PD=tn(),mKe=pt(),yKe=RD();iae.exports=function(t){for(var r=t.calcdata,n=0;n<r.length;n++){var i=r[n],a=i[0].trace;if(a.visible===!0&&gKe.traceIs(a,"errorBarsOK")){var o=PD.getFromId(t,a.xaxis),s=PD.getFromId(t,a.yaxis);nae(i,a,o,"x"),nae(i,a,s,"y")}}};function nae(e,t,r,n){var i=t["error_"+n]||{},a=i.visible&&["linear","log"].indexOf(r.type)!==-1,o=[];if(a){for(var s=yKe(i),l=0;l<e.length;l++){var u=e[l],f=u.i;if(f===void 0)f=l;else if(f===null)continue;var c=u[n];if(ID(r.c2l(c))){var h=s(c,f);if(ID(h[0])&&ID(h[1])){var v=u[n+"s"]=c-h[0],b=u[n+"h"]=c+h[1];o.push(v,b)}}}var y=r._id,x=t._extremes[y],m=PD.findExtremes(r,o,mKe.extendFlat({tozero:x.opts.tozero},{padded:!0}));x.min=x.min.concat(m.min),x.max=x.max.concat(m.max)}}});var lae=$((JSt,sae)=>{"use strict";var oae=Nr(),Wd=mn(),xKe=un(),bKe=ts();sae.exports=function(t,r,n,i){var a,o=n.xaxis,s=n.yaxis,l=i&&i.duration>0;r.each(function(u){var f=u[0].trace,c=f.error_x||{},h=f.error_y||{},v;f.ids&&(v=function(m){return m.id});var b=bKe.hasMarkers(f)&&f.marker.maxdisplayed>0;!h.visible&&!c.visible&&(u=[]);var y=oae.select(this).selectAll("g.errorbar").data(u,v);if(y.exit().remove(),!!u.length){c.visible||y.selectAll("path.xerror").remove(),h.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var x=y.enter().append("g").classed("errorbar",!0);l&&x.style("opacity",0).transition().duration(i.duration).style("opacity",1),xKe.setClipUrl(y,n.layerClipId,t),y.each(function(m){var _=oae.select(this),g=wKe(m,o,s);if(!(b&&!m.vis)){var A,w=_.select("path.yerror");if(h.visible&&Wd(g.x)&&Wd(g.yh)&&Wd(g.ys)){var k=h.width;A="M"+(g.x-k)+","+g.yh+"h"+2*k+"m-"+k+",0V"+g.ys,g.noYS||(A+="m-"+k+",0h"+2*k),a=!w.size(),a?w=_.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):l&&(w=w.transition().duration(i.duration).ease(i.easing)),w.attr("d",A)}else w.remove();var p=_.select("path.xerror");if(c.visible&&Wd(g.y)&&Wd(g.xh)&&Wd(g.xs)){var d=(c.copy_ystyle?h:c).width;A="M"+g.xh+","+(g.y-d)+"v"+2*d+"m0,-"+d+"H"+g.xs,g.noXS||(A+="m0,-"+d+"v"+2*d),a=!p.size(),a?p=_.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):l&&(p=p.transition().duration(i.duration).ease(i.easing)),p.attr("d",A)}else p.remove()}})}})};function wKe(e,t,r){var n={x:t.c2p(e.x),y:r.c2p(e.y)};return e.yh!==void 0&&(n.yh=r.c2p(e.yh),n.ys=r.c2p(e.ys),Wd(n.ys)||(n.noYS=!0,n.ys=r.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=t.c2p(e.xh),n.xs=t.c2p(e.xs),Wd(n.xs)||(n.noXS=!0,n.xs=t.c2p(e.xs,!0))),n}});var cae=$((QSt,fae)=>{"use strict";var _Ke=Nr(),uae=Rr();fae.exports=function(t){t.each(function(r){var n=r[0].trace,i=n.error_y||{},a=n.error_x||{},o=_Ke.select(this);o.selectAll("path.yerror").style("stroke-width",i.thickness+"px").call(uae.stroke,i.color),a.copy_ystyle&&(a=i),o.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(uae.stroke,a.color)})}});var dae=$((e4t,vae)=>{"use strict";var Kb=pt(),hae=Fa().overrideAll,Jb=qD(),Bp={error_x:Kb.extendFlat({},Jb),error_y:Kb.extendFlat({},Jb)};delete Bp.error_x.copy_zstyle;delete Bp.error_y.copy_zstyle;delete Bp.error_y.copy_ystyle;var Qb={error_x:Kb.extendFlat({},Jb),error_y:Kb.extendFlat({},Jb),error_z:Kb.extendFlat({},Jb)};delete Qb.error_x.copy_ystyle;delete Qb.error_y.copy_ystyle;delete Qb.error_z.copy_ystyle;delete Qb.error_z.copy_zstyle;vae.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:Bp,bar:Bp,histogram:Bp,scatter3d:hae(Qb,"calc","nested"),scattergl:hae(Bp,"calc","nested")}},supplyDefaults:eae(),calc:aae(),makeComputeError:RD(),plot:lae(),style:cae(),hoverInfo:TKe};function TKe(e,t,r){(t.error_y||{}).visible&&(r.yerr=e.yh-e.y,t.error_y.symmetric||(r.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(r.xerr=e.xh-e.x,t.error_x.symmetric||(r.xerrneg=e.x-e.xs))}});var gae=$((t4t,pae)=>{"use strict";pae.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var Tae=$((r4t,_ae)=>{"use strict";var Xd=Nr(),FD=Ko(),IA=Zi(),mae=Ir(),Rv=tn(),RA=Gl(),$f=pt(),Zc=$f.strTranslate,wae=ln().extendFlat,ND=Fc(),Xc=un(),zD=Rr(),AKe=lp(),MKe=Ta(),kKe=jl().flipScale,SKe=Hb(),EKe=aA(),LKe=xl(),OD=es(),yae=OD.LINE_SPACING,xae=OD.FROM_TL,bae=OD.FROM_BR,Sa=gae().cn;function CKe(e){var t=e._fullLayout,r=t._infolayer.selectAll("g."+Sa.colorbar).data(DKe(e),function(n){return n._id});r.enter().append("g").attr("class",function(n){return n._id}).classed(Sa.colorbar,!0),r.each(function(n){var i=Xd.select(this);$f.ensureSingle(i,"rect",Sa.cbbg),$f.ensureSingle(i,"g",Sa.cbfills),$f.ensureSingle(i,"g",Sa.cblines),$f.ensureSingle(i,"g",Sa.cbaxis,function(o){o.classed(Sa.crisp,!0)}),$f.ensureSingle(i,"g",Sa.cbtitleunshift,function(o){o.append("g").classed(Sa.cbtitle,!0)}),$f.ensureSingle(i,"rect",Sa.cboutline);var a=qKe(i,n,e);a&&a.then&&(e._promises||[]).push(a),e._context.edits.colorbarPosition&&RKe(i,n,e)}),r.exit().each(function(n){IA.autoMargin(e,n._id)}).remove(),r.order()}function DKe(e){var t=e._fullLayout,r=e.calcdata,n=[],i,a,o,s;function l(g){return wae(g,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){typeof s.calc=="function"?s.calc(e,o,i):(i._fillgradient=a.reversescale?kKe(a.colorscale):a.colorscale,i._zrange=[a[s.min],a[s.max]])}for(var f=0;f<r.length;f++){var c=r[f];o=c[0].trace;var h=o._module.colorbar;if(o.visible===!0&&h)for(var v=Array.isArray(h),b=v?h:[h],y=0;y<b.length;y++){s=b[y];var x=s.container;a=x?o[x]:o,a&&a.showscale&&(i=l(a.colorbar),i._id="cb"+o.uid+(v&&x?"-"+x:""),i._traceIndex=o.index,i._propPrefix=(x?x+".":"")+"colorbar.",i._meta=o._meta,u(),n.push(i))}}for(var m in t._colorAxes)if(a=t[m],a.showscale){var _=t._colorAxes[m];i=l(a.colorbar),i._id="cb"+m,i._propPrefix=m+".colorbar.",i._meta=t._meta,s={min:"cmin",max:"cmax"},_[0]!=="heatmap"&&(o=_[1],s.calc=o._module.colorbar.calc),u(),n.push(i)}return n}function qKe(e,t,r){var n=t.orientation==="v",i=t.len,a=t.lenmode,o=t.thickness,s=t.thicknessmode,l=t.outlinewidth,u=t.borderwidth,f=t.bgcolor,c=t.xanchor,h=t.yanchor,v=t.xpad,b=t.ypad,y=t.x,x=n?t.y:1-t.y,m=r._fullLayout,_=m._size,g=t._fillcolor,A=t._line,w=t.title,k=w.side,p=t._zrange||Xd.extent((typeof g=="function"?g:A.color).domain()),d=typeof A.color=="function"?A.color:function(){return A.color},M=typeof g=="function"?g:function(){return g},T=t._levels,S=IKe(r,t,p),E=S.fill,L=S.line,D=Math.round(o*(s==="fraction"?n?_.w:_.h:1)),R=D/(n?_.w:_.h),q=Math.round(i*(a==="fraction"?n?_.h:_.w:1)),C=q/(n?_.h:_.w),F=Math.round(n?y*_.w+v:x*_.h+b),N={center:.5,right:1}[c]||0,U={top:1,middle:.5}[h]||0,V=n?y-N*R:x-U*R,Y=n?x-U*C:y-N*C,K=Math.round(n?_.h*(1-Y):_.w*Y);t._lenFrac=C,t._thickFrac=R,t._uFrac=V,t._vFrac=Y;var B=t._axis=PKe(r,t,p);B.position=R+(n?y+v/_.w:x+b/_.h);var z=["top","bottom"].indexOf(k)!==-1;if(n&&z&&(B.title.side=k,B.titlex=y+v/_.w,B.titley=Y+(w.side==="top"?C-b/_.h:b/_.h)),!n&&!z&&(B.title.side=k,B.titley=x+b/_.h,B.titlex=Y+v/_.w),A.color&&t.tickmode==="auto"){B.tickmode="linear",B.tick0=T.start;var j=T.size,ae=$f.constrain(q/50,4,15)+1,ee=(p[1]-p[0])/((t.nticks||ae)*j);if(ee>1){var ve=Math.pow(10,Math.floor(Math.log(ee)/Math.LN10));j*=ve*$f.roundUp(ee/ve,[2,5,10]),(Math.abs(T.start)/T.size+1e-6)%1<2e-6&&(B.tick0=0)}B.dtick=j}B.domain=n?[Y+b/_.h,Y+C-b/_.h]:[Y+v/_.w,Y+C-v/_.w],B.setScale(),e.attr("transform",Zc(Math.round(_.l),Math.round(_.t)));var fe=e.select("."+Sa.cbtitleunshift).attr("transform",Zc(-Math.round(_.l),-Math.round(_.t))),se=B.ticklabelposition,G=B.title.font.size,Z=e.select("."+Sa.cbaxis),X,ge=0,qe=0;function Pe(J,ne){var be={propContainer:B,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:m._dfltTitle.colorbar,containerGroup:e.select("."+Sa.cbtitle)},Fe=J.charAt(0)==="h"?J.substr(1):"h"+J;e.selectAll("."+Fe+",."+Fe+"-math-group").remove(),AKe.draw(r,J,wae(be,ne||{}))}function Oe(){if(n&&z||!n&&!z){var J,ne;k==="top"&&(J=v+_.l+_.w*y,ne=b+_.t+_.h*(1-Y-C)+3+G*.75),k==="bottom"&&(J=v+_.l+_.w*y,ne=b+_.t+_.h*(1-Y)-3-G*.25),k==="right"&&(ne=b+_.t+_.h*x+3+G*.75,J=v+_.l+_.w*Y),Pe(B._id+"title",{attributes:{x:J,y:ne,"text-anchor":n?"start":"middle"}})}}function de(){if(n&&!z||!n&&z){var J=B.position||0,ne=B._offset+B._length/2,be,Fe;if(k==="right")Fe=ne,be=_.l+_.w*J+10+G*(B.showticklabels?1:.5);else if(be=ne,k==="bottom"&&(Fe=_.t+_.h*J+10+(se.indexOf("inside")===-1?B.tickfont.size:0)+(B.ticks!=="intside"&&t.ticklen||0)),k==="top"){var He=w.text.split("<br>").length;Fe=_.t+_.h*J+10-D-yae*G*He}Pe((n?"h":"v")+B._id+"title",{avoid:{selection:Xd.select(r).selectAll("g."+B._id+"tick"),side:k,offsetTop:n?0:_.t,offsetLeft:n?_.l:0,maxShift:n?m.width:m.height},attributes:{x:be,y:Fe,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function _e(){if(!n&&!z||n&&z){var J=e.select("."+Sa.cbtitle),ne=J.select("text"),be=[-l/2,l/2],Fe=J.select(".h"+B._id+"title-math-group").node(),He=15.6;ne.node()&&(He=parseInt(ne.node().style.fontSize,10)*yae);var te;if(Fe?(te=Xc.bBox(Fe),qe=te.width,ge=te.height,ge>He&&(be[1]-=(ge-He)/2)):ne.node()&&!ne.classed(Sa.jsPlaceholder)&&(te=Xc.bBox(ne.node()),qe=te.width,ge=te.height),n){if(ge){if(ge+=5,k==="top")B.domain[1]-=ge/_.h,be[1]*=-1;else{B.domain[0]+=ge/_.h;var ye=MKe.lineCount(ne);be[1]+=(1-ye)*He}J.attr("transform",Zc(be[0],be[1])),B.setScale()}}else qe&&(k==="right"&&(B.domain[0]+=(qe+G/2)/_.w),J.attr("transform",Zc(be[0],be[1])),B.setScale())}e.selectAll("."+Sa.cbfills+",."+Sa.cblines).attr("transform",n?Zc(0,Math.round(_.h*(1-B.domain[1]))):Zc(Math.round(_.w*B.domain[0]),0)),Z.attr("transform",n?Zc(0,Math.round(-_.t)):Zc(Math.round(-_.l),0));var Te=e.select("."+Sa.cbfills).selectAll("rect."+Sa.cbfill).attr("style","").data(E);Te.enter().append("rect").classed(Sa.cbfill,!0).style("stroke","none"),Te.exit().remove();var Ce=p.map(B.c2p).map(Math.round).sort(function(Ue,et){return Ue-et});Te.each(function(Ue,et){var Qe=[et===0?p[0]:(E[et]+E[et-1])/2,et===E.length-1?p[1]:(E[et]+E[et+1])/2].map(B.c2p).map(Math.round);n&&(Qe[1]=$f.constrain(Qe[1]+(Qe[1]>Qe[0])?1:-1,Ce[0],Ce[1]));var dt=Xd.select(this).attr(n?"x":"y",F).attr(n?"y":"x",Xd.min(Qe)).attr(n?"width":"height",Math.max(D,2)).attr(n?"height":"width",Math.max(Xd.max(Qe)-Xd.min(Qe),2));if(t._fillgradient)Xc.gradient(dt,r,t._id,n?"vertical":"horizontalreversed",t._fillgradient,"fill");else{var ht=M(Ue).replace("e-","");dt.attr("fill",FD(ht).toHexString())}});var De=e.select("."+Sa.cblines).selectAll("path."+Sa.cbline).data(A.color&&A.width?L:[]);De.enter().append("path").classed(Sa.cbline,!0),De.exit().remove(),De.each(function(Ue){var et=F,Qe=Math.round(B.c2p(Ue))+A.width/2%1;Xd.select(this).attr("d","M"+(n?et+","+Qe:Qe+","+et)+(n?"h":"v")+D).call(Xc.lineGroupStyle,A.width,d(Ue),A.dash)}),Z.selectAll("g."+B._id+"tick,path").remove();var oe=F+D+(l||0)/2-(t.ticks==="outside"?1:0),pe=Rv.calcTicks(B),Le=Rv.getTickSigns(B)[2];return Rv.drawTicks(r,B,{vals:B.ticks==="inside"?Rv.clipEnds(B,pe):pe,layer:Z,path:Rv.makeTickPath(B,oe,Le),transFn:Rv.makeTransTickFn(B)}),Rv.drawLabels(r,B,{vals:pe,layer:Z,transFn:Rv.makeTransTickLabelFn(B),labelFns:Rv.makeLabelFns(B,oe)})}function ce(){var J,ne=D+l/2;se.indexOf("inside")===-1&&(J=Xc.bBox(Z.node()),ne+=n?J.width:J.height),X=fe.select("text");var be=0,Fe=n&&k==="top",He=!n&&k==="right",te=0;if(X.node()&&!X.classed(Sa.jsPlaceholder)){var ye,Te=fe.select(".h"+B._id+"title-math-group").node();Te&&(n&&z||!n&&!z)?(J=Xc.bBox(Te),be=J.width,ye=J.height):(J=Xc.bBox(fe.node()),be=J.right-_.l-(n?F:K),ye=J.bottom-_.t-(n?K:F),!n&&k==="top"&&(ne+=J.height,te=J.height)),He&&(X.attr("transform",Zc(be/2+G/2,0)),be*=2),ne=Math.max(ne,n?be:ye)}var Ce=(n?v:b)*2+ne+u+l/2,De=0;!n&&w.text&&h==="bottom"&&x<=0&&(De=Ce/2,Ce+=De,te+=De),m._hColorbarMoveTitle=De,m._hColorbarMoveCBTitle=te;var oe=u+l;e.select("."+Sa.cbbg).attr("x",(n?F:K)-oe/2-(n?v:0)).attr("y",(n?K:F)-(n?q:b+te-De)).attr(n?"width":"height",Math.max(Ce-De,2)).attr(n?"height":"width",Math.max(q+oe,2)).call(zD.fill,f).call(zD.stroke,t.bordercolor).style("stroke-width",u);var pe=He?Math.max(be-10,0):0;if(e.selectAll("."+Sa.cboutline).attr("x",(n?F:K+v)+pe).attr("y",(n?K+b-q:F)+(Fe?ge:0)).attr(n?"width":"height",Math.max(D,2)).attr(n?"height":"width",Math.max(q-(n?2*b+ge:2*v+pe),2)).call(zD.stroke,t.outlinecolor).style({fill:"none","stroke-width":l}),e.attr("transform",Zc(_.l-(n?N*Ce:0),_.t-(n?0:(1-U)*Ce-te))),!n&&(u||FD(f).getAlpha()&&!FD.equals(m.paper_bgcolor,f))){var Le=Z.selectAll("text"),Ue=Le[0].length,et=e.select("."+Sa.cbbg).node(),Qe=Xc.bBox(et),dt=Xc.getTranslate(e),ht=2;Le.each(function(Je,nt){var Be=0,tt=Ue-1;if(nt===Be||nt===tt){var ot=Xc.bBox(this),yt=Xc.getTranslate(this),Ht;if(nt===tt){var Lt=ot.right+yt.x,tr=Qe.right+dt.x+K-u-ht+y;Ht=tr-Lt,Ht>0&&(Ht=0)}else if(nt===Be){var rr=ot.left+yt.x,Ct=Qe.left+dt.x+K+u+ht;Ht=Ct-rr,Ht<0&&(Ht=0)}Ht&&(Ue<3?this.setAttribute("transform","translate("+Ht+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var _t={},kt=xae[c],St=bae[c],Ot=xae[h],je=bae[h],Ve=Ce-D;n?(a==="pixels"?(_t.y=x,_t.t=q*Ot,_t.b=q*je):(_t.t=_t.b=0,_t.yt=x+i*Ot,_t.yb=x-i*je),s==="pixels"?(_t.x=y,_t.l=Ce*kt,_t.r=Ce*St):(_t.l=Ve*kt,_t.r=Ve*St,_t.xl=y-o*kt,_t.xr=y+o*St)):(a==="pixels"?(_t.x=y,_t.l=q*kt,_t.r=q*St):(_t.l=_t.r=0,_t.xl=y+i*kt,_t.xr=y-i*St),s==="pixels"?(_t.y=1-x,_t.t=Ce*Ot,_t.b=Ce*je):(_t.t=Ve*Ot,_t.b=Ve*je,_t.yt=x-o*Ot,_t.yb=x+o*je)),IA.autoMargin(r,t._id,_t)}return $f.syncOrAsync([IA.previousPromises,Oe,_e,de,IA.previousPromises,ce],r)}function RKe(e,t,r){var n=t.orientation==="v",i=r._fullLayout,a=i._size,o,s,l;RA.init({element:e.node(),gd:r,prepFn:function(){o=e.attr("transform"),ND(e)},moveFn:function(u,f){e.attr("transform",o+Zc(u,f)),s=RA.align((n?t._uFrac:t._vFrac)+u/a.w,n?t._thickFrac:t._lenFrac,0,1,t.xanchor),l=RA.align((n?t._vFrac:1-t._uFrac)-f/a.h,n?t._lenFrac:t._thickFrac,0,1,t.yanchor);var c=RA.getCursor(s,l,t.xanchor,t.yanchor);ND(e,c)},doneFn:function(){if(ND(e),s!==void 0&&l!==void 0){var u={};u[t._propPrefix+"x"]=s,u[t._propPrefix+"y"]=l,t._traceIndex!==void 0?mae.call("_guiRestyle",r,u,t._traceIndex):mae.call("_guiRelayout",r,u)}}})}function IKe(e,t,r){var n=t._levels,i=[],a=[],o,s,l=n.end+n.size/100,u=n.size,f=1.001*r[0]-.001*r[1],c=1.001*r[1]-.001*r[0];for(s=0;s<1e5&&(o=n.start+s*u,!(u>0?o>=l:o<=l));s++)o>f&&o<c&&i.push(o);if(t._fillgradient)a=[0];else if(typeof t._fillcolor=="function"){var h=t._filllevels;if(h)for(l=h.end+h.size/100,u=h.size,s=0;s<1e5&&(o=h.start+s*u,!(u>0?o>=l:o<=l));s++)o>r[0]&&o<r[1]&&a.push(o);else a=i.map(function(v){return v-n.size/2}),a.push(a[a.length-1]+n.size)}else t._fillcolor&&typeof t._fillcolor=="string"&&(a=[0]);return n.size<0&&(i.reverse(),a.reverse()),{line:i,fill:a}}function PKe(e,t,r){var n=e._fullLayout,i=t.orientation==="v",a={type:"linear",range:r,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,ticklabeloverflow:t.ticklabeloverflow,ticklabelstep:t.ticklabelstep,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},o=i?"y":"x",s={type:"linear",_id:o+t._id},l={letter:o,font:n.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:n.calendar};function u(f,c){return $f.coerce(a,s,LKe,f,c)}return SKe(a,s,u,l,n),EKe(a,s,u,l),s}_ae.exports={draw:CKe}});var Mae=$((n4t,Aae)=>{"use strict";Aae.exports={moduleType:"component",name:"colorbar",attributes:b3(),supplyDefaults:QE(),draw:Tae().draw,hasColorbar:WE()}});var Sae=$((i4t,kae)=>{"use strict";kae.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var Lae=$((a4t,Eae)=>{"use strict";Eae.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var HD=$((o4t,Rae)=>{"use strict";var FKe=Ir(),qae=pt(),BD=qae.extendFlat,Cae=qae.extendDeep;function Dae(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function NKe(e){var t=["xaxis","yaxis","zaxis"];return t.indexOf(e.slice(0,5))>-1}Rae.exports=function(t,r){var n,i=t.data,a=t.layout,o=Cae([],i),s=Cae({},a,Dae(r.tileClass)),l=t._context||{};if(r.width&&(s.width=r.width),r.height&&(s.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){s.annotations=[];var u=Object.keys(s);for(n=0;n<u.length;n++)NKe(u[n])&&(s[u[n]].title={text:""});for(n=0;n<o.length;n++){var f=o[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),FKe.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(r.annotations))for(n=0;n<r.annotations.length;n++)s.annotations.push(r.annotations[n]);var c=Object.keys(s).filter(function(x){return x.match(/^scene\d*$/)});if(c.length){var h={};for(r.tileClass==="thumbnail"&&(h={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<c.length;n++){var v=s[c[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),BD(v.xaxis,h),BD(v.yaxis,h),BD(v.zaxis,h),v._scene=null}}var b=document.createElement("div");r.tileClass&&(b.className=r.tileClass);var y={gd:b,td:b,layout:s,data:o,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:l.mapboxAccessToken}};return r.setBackground!=="transparent"&&(y.config.setBackground=r.setBackground||"opaque"),y.gd.defaultLayout=Dae(r.tileClass),y}});var Fae=$((s4t,Pae)=>{"use strict";var zKe=u3().EventEmitter,OKe=Ir(),BKe=pt(),Iae=Ep(),HKe=HD(),UKe=XT(),jKe=ZT();function VKe(e,t){var r=new zKe,n=HKe(e,{format:"png"}),i=n.gd;i.style.position="absolute",i.style.left="-5000px",document.body.appendChild(i);function a(){var s=Iae.getDelay(i._fullLayout);setTimeout(function(){var l=UKe(i),u=document.createElement("canvas");u.id=BKe.randstr(),r=jKe({format:t.format,width:i._fullLayout.width,height:i._fullLayout.height,canvas:u,emitter:r,svg:l}),r.clean=function(){i&&document.body.removeChild(i)}},s)}var o=Iae.getRedrawFunc(i);return OKe.call("_doPlot",i,n.data,n.layout,n.config).then(o).then(a).catch(function(s){r.emit("error",s)}),r}Pae.exports=VKe});var Oae=$((l4t,zae)=>{"use strict";var Nae=Ep(),GKe={getDelay:Nae.getDelay,getRedrawFunc:Nae.getRedrawFunc,clone:HD(),toSVG:XT(),svgToImg:ZT(),toImage:Fae(),downloadImage:M6()};zae.exports=GKe});var Hae=$(Iv=>{"use strict";Iv.version=E_().version;FH();oG();var YKe=Ir(),e2=Iv.register=YKe.register,jD=mee(),Bae=Object.keys(jD);for(PA=0;PA<Bae.length;PA++)xm=Bae[PA],xm.charAt(0)!=="_"&&(Iv[xm]=jD[xm]),e2({moduleType:"apiMethod",name:xm,fn:jD[xm]});var xm,PA;e2(rre());e2([ire(),lo(),Cre(),jre(),Qs(),one(),bne(),Une(),lie(),kie(),Vie(),$ie(),dae(),Wa(),Mae(),qC()]);e2([Sae(),Lae()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(e2(window.PlotlyLocales),delete window.PlotlyLocales);Iv.Icons=eT();var FA=lo(),UD=Zi();Iv.Plots={resize:UD.resize,graphJson:UD.graphJson,sendDataToCloud:UD.sendDataToCloud};Iv.Fx={hover:FA.hover,unhover:FA.unhover,loneHover:FA.loneHover,loneUnhover:FA.loneUnhover};Iv.Snapshot=Oae();Iv.PlotSchema=Ed()});var jae=$((f4t,Uae)=>{"use strict";Uae.exports=Hae()});var Hp=$((c4t,Vae)=>{"use strict";Vae.exports={TEXTPAD:3,eventDataKeys:["value","label"]}});var zh=$((h4t,Xae)=>{"use strict";var Ao=Ps(),Gae=Ha().axisHoverFormat,WKe=Yn().hovertemplateAttrs,XKe=Yn().texttemplateAttrs,Wae=Ma(),ZKe=Ba(),Yae=Hp(),$Ke=Ul().pattern,Up=ln().extendFlat,VD=ZKe({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),KKe=Ao.marker,JKe=KKe.line,QKe=Up({},JKe.width,{dflt:0}),eJe=Up({width:QKe,editType:"calc"},Wae("marker.line")),tJe=Up({line:eJe,editType:"calc"},Wae("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:$Ke});Xae.exports={x:Ao.x,x0:Ao.x0,dx:Ao.dx,y:Ao.y,y0:Ao.y0,dy:Ao.dy,xperiod:Ao.xperiod,yperiod:Ao.yperiod,xperiod0:Ao.xperiod0,yperiod0:Ao.yperiod0,xperiodalignment:Ao.xperiodalignment,yperiodalignment:Ao.yperiodalignment,xhoverformat:Gae("x"),yhoverformat:Gae("y"),text:Ao.text,texttemplate:XKe({editType:"plot"},{keys:Yae.eventDataKeys}),hovertext:Ao.hovertext,hovertemplate:WKe({},{keys:Yae.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:Up({},VD,{description:"Sets the font used for `text`."}),insidetextfont:Up({},VD,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:Up({},VD,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:Up({},Ao.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:tJe,offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:Ao.selected.marker.opacity,color:Ao.selected.marker.color,editType:"style"},textfont:Ao.selected.textfont,editType:"style"},unselected:{marker:{opacity:Ao.unselected.marker.opacity,color:Ao.unselected.marker.color,editType:"style"},textfont:Ao.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}});var NA=$((v4t,Zae)=>{"use strict";Zae.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}});var zA=$((d4t,Jae)=>{"use strict";var rJe=Rr(),$ae=jl().hasColorscale,Kae=$s(),nJe=pt().coercePattern;Jae.exports=function(t,r,n,i,a){var o=n("marker.color",i),s=$ae(t,"marker");s&&Kae(t,r,a,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",rJe.defaultLine),$ae(t,"marker.line")&&Kae(t,r,a,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),nJe(n,"marker.pattern",o,s),n("selected.marker.color"),n("unselected.marker.color")}});var Kl=$((p4t,noe)=>{"use strict";var bm=pt(),Qae=Rr(),iJe=Ir(),aJe=Db(),oJe=Ph(),sJe=zA(),lJe=Nd().getAxisGroup,eoe=zh(),OA=bm.coerceFont;function uJe(e,t,r,n){function i(u,f){return bm.coerce(e,t,eoe,u,f)}var a=aJe(e,t,n,i);if(!a){t.visible=!1;return}oJe(e,t,n,i),i("xhoverformat"),i("yhoverformat"),i("orientation",t.x&&!t.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var o=i("textposition");roe(e,t,n,i,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),sJe(e,t,i,r,n);var s=(t.marker.line||{}).color,l=iJe.getComponentMethod("errorbars","supplyDefaults");l(e,t,s||Qae.defaultLine,{axis:"y"}),l(e,t,s||Qae.defaultLine,{axis:"x",inherit:"y"}),bm.coerceSelectionMarkerOpacity(t,i)}function toe(e,t,r,n){var i=t.orientation,a=t[{v:"x",h:"y"}[i]+"axis"],o=lJe(r,a)+i,s=r._alignmentOpts||{},l=n("alignmentgroup"),u=s[o];u||(u=s[o]={});var f=u[l];f?f.traces.push(t):f=u[l]={traces:[t],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var c=n("offsetgroup"),h=f.offsetGroups,v=h[c];c&&(v||(v=h[c]={offsetIndex:Object.keys(h).length}),t._offsetIndex=v.offsetIndex)}function fJe(e,t){var r,n;function i(o){return bm.coerce(n._input,n,eoe,o)}if(t.barmode==="group")for(var a=0;a<e.length;a++)n=e[a],n.type==="bar"&&(r=n._input,toe(r,n,t,i))}function roe(e,t,r,n,i,a){a=a||{};var o=a.moduleHasSelected!==!1,s=a.moduleHasUnselected!==!1,l=a.moduleHasConstrain!==!1,u=a.moduleHasCliponaxis!==!1,f=a.moduleHasTextangle!==!1,c=a.moduleHasInsideanchor!==!1,h=!!a.hasPathbar,v=Array.isArray(i)||i==="auto",b=v||i==="inside",y=v||i==="outside";if(b||y){var x=OA(n,"textfont",r.font),m=bm.extendFlat({},x),_=e.textfont&&e.textfont.color,g=!_;if(g&&delete m.color,OA(n,"insidetextfont",m),h){var A=bm.extendFlat({},x);g&&delete A.color,OA(n,"pathbar.textfont",A)}y&&OA(n,"outsidetextfont",x),o&&n("selected.textfont.color"),s&&n("unselected.textfont.color"),l&&n("constraintext"),u&&n("cliponaxis"),f&&n("textangle"),n("texttemplate")}b&&c&&n("insidetextanchor")}noe.exports={supplyDefaults:uJe,crossTraceDefaults:fJe,handleGroupingDefaults:toe,handleText:roe}});var GD=$((g4t,ioe)=>{"use strict";var cJe=Ir(),hJe=tn(),vJe=pt(),dJe=NA();ioe.exports=function(e,t,r){function n(v,b){return vJe.coerce(e,t,dJe,v,b)}for(var i=!1,a=!1,o=!1,s={},l=n("barmode"),u=0;u<r.length;u++){var f=r[u];if(cJe.traceIs(f,"bar")&&f.visible)i=!0;else continue;if(l==="group"){var c=f.xaxis+f.yaxis;s[c]&&(o=!0),s[c]=!0}if(f.visible&&f.type==="histogram"){var h=hJe.getFromId({_fullLayout:t},f[f.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(a=!0)}}if(!i){delete t.barmode;return}l!=="overlay"&&n("barnorm"),n("bargap",a&&!o?0:.2),n("bargroupgap")}});var t2=$((m4t,aoe)=>{"use strict";var wm=pt();aoe.exports=function(t,r){for(var n=0;n<t.length;n++)t[n].i=n;wm.mergeArray(r.text,t,"tx"),wm.mergeArray(r.hovertext,t,"htx");var i=r.marker;if(i){wm.mergeArray(i.opacity,t,"mo",!0),wm.mergeArray(i.color,t,"mc");var a=i.line;a&&(wm.mergeArray(a.color,t,"mlc"),wm.mergeArrayCastPositive(a.width,t,"mlw"))}}});var coe=$((y4t,foe)=>{"use strict";var ooe=tn(),soe=Fh(),loe=jl().hasColorscale,uoe=ku(),pJe=t2(),gJe=jc();foe.exports=function(t,r){var n=ooe.getFromId(t,r.xaxis||"x"),i=ooe.getFromId(t,r.yaxis||"y"),a,o,s,l,u,f,c={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(a=n.makeCalcdata(r,"x",c),s=i.makeCalcdata(r,"y"),l=soe(r,i,"y",s),u=!!r.yperiodalignment,f="y"):(a=i.makeCalcdata(r,"y",c),s=n.makeCalcdata(r,"x"),l=soe(r,n,"x",s),u=!!r.xperiodalignment,f="x"),o=l.vals;for(var h=Math.min(o.length,a.length),v=new Array(h),b=0;b<h;b++)v[b]={p:o[b],s:a[b]},u&&(v[b].orig_p=s[b],v[b][f+"End"]=l.ends[b],v[b][f+"Start"]=l.starts[b]),r.ids&&(v[b].id=String(r.ids[b]));return loe(r,"marker")&&uoe(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),loe(r,"marker.line")&&uoe(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),pJe(v,r),gJe(v,r),v}});var voe=$((x4t,hoe)=>{"use strict";hoe.exports=BA;var mJe=pt().distinctVals,yJe=Zn().BADNUM;function BA(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var r=1/0,n=[],i=0;i<e.length;i++){for(var a=e[i],o=0;o<a.length;o++){var s=a[o];s.p!==yJe&&n.push(s.p)}a[0]&&a[0].width1&&(r=Math.min(a[0].width1,r))}this.positions=n;var l=mJe(n);this.distinctPositions=l.vals,l.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(l.minDiff,r);var u=(t.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}BA.prototype.put=function(t,r){var n=this.getLabel(t,r),i=this.bins[n]||0;return this.bins[n]=i+r,i};BA.prototype.get=function(t,r){var n=this.getLabel(t,r);return this.bins[n]||0};BA.prototype.getLabel=function(t,r){var n=r<0&&this.sepNegVal?"v":"^",i=this.overlapNoMerge?t:Math.round(t/this.binWidth);return n+i}});var Tm=$((b4t,boe)=>{"use strict";var Zd=mn(),WD=pt().isArrayOrTypedArray,_m=Zn().BADNUM,xJe=Ir(),r2=tn(),bJe=Nd().getAxisGroup,HA=voe();function wJe(e,t){for(var r=t.xaxis,n=t.yaxis,i=e._fullLayout,a=e._fullData,o=e.calcdata,s=[],l=[],u=0;u<a.length;u++){var f=a[u];if(f.visible===!0&&xJe.traceIs(f,"bar")&&f.xaxis===r._id&&f.yaxis===n._id&&(f.orientation==="h"?s.push(o[u]):l.push(o[u]),f._computePh))for(var c=e.calcdata[u],h=0;h<c.length;h++)typeof c[h].ph0=="function"&&(c[h].ph0=c[h].ph0()),typeof c[h].ph1=="function"&&(c[h].ph1=c[h].ph1())}var v={xCat:r.type==="category"||r.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};XD(e,r,n,l,v),XD(e,n,r,s,v)}function XD(e,t,r,n,i){if(n.length){var a,o,s,l,u;switch(_Je(r,n),i.mode){case"overlay":YD(t,r,n,i);break;case"group":for(a=[],o=[],s=0;s<n.length;s++)l=n[s],u=l[0].trace,u.offset===void 0?o.push(l):a.push(l);o.length&&TJe(e,t,r,o,i),a.length&&YD(t,r,a,i);break;case"stack":case"relative":for(a=[],o=[],s=0;s<n.length;s++)l=n[s],u=l[0].trace,u.base===void 0?o.push(l):a.push(l);o.length&&AJe(e,t,r,o,i),a.length&&YD(t,r,a,i);break}EJe(n,t)}}function _Je(e,t){var r,n;for(r=0;r<t.length;r++){var i=t[r],a=i[0].trace,o=a.type==="funnel"?a._base:a.base,s,l=a.orientation==="h"?a.xcalendar:a.ycalendar,u=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(WD(o)){for(n=0;n<Math.min(o.length,i.length);n++)s=u(o[n],0,l),Zd(s)?(i[n].b=+s,i[n].hasB=1):i[n].b=0;for(;n<i.length;n++)i[n].b=0}else{s=u(o,0,l);var f=Zd(s);for(s=f?s:0,n=0;n<i.length;n++)i[n].b=s,f&&(i[n].hasB=1)}}}function YD(e,t,r,n){for(var i=0;i<r.length;i++){var a=r[i],o=new HA([a],{posAxis:e,sepNegVal:!1,overlapNoMerge:!n.norm});doe(e,o,n),n.norm?(xoe(o),ZD(t,o,n)):yoe(t,o)}}function TJe(e,t,r,n,i){var a=new HA(n,{posAxis:t,sepNegVal:!1,overlapNoMerge:!i.norm});MJe(e,t,a,i),SJe(a,t),i.norm?(xoe(a),ZD(r,a,i)):yoe(r,a)}function AJe(e,t,r,n,i){var a=new HA(n,{posAxis:t,sepNegVal:i.mode==="relative",overlapNoMerge:!(i.norm||i.mode==="stack"||i.mode==="relative")});doe(t,a,i),kJe(r,a,i);for(var o=0;o<n.length;o++)for(var s=n[o],l=0;l<s.length;l++){var u=s[l];if(u.s!==_m){var f=u.b+u.s===a.get(u.p,u.s);f&&(u._outmost=!0)}}i.norm&&ZD(r,a,i)}function doe(e,t,r){for(var n=t.minDiff,i=t.traces,a=n*(1-r.gap),o=a,s=o*(1-(r.groupgap||0)),l=-s/2,u=0;u<i.length;u++){var f=i[u],c=f[0].t;c.barwidth=s,c.poffset=l,c.bargroupwidth=a,c.bardelta=n}t.binWidth=i[0][0].t.barwidth/100,poe(t),goe(e,t),moe(e,t)}function MJe(e,t,r,n){for(var i=e._fullLayout,a=r.positions,o=r.distinctPositions,s=r.minDiff,l=r.traces,u=l.length,f=a.length!==o.length,c=s*(1-n.gap),h=bJe(i,t._id)+l[0][0].trace.orientation,v=i._alignmentOpts[h]||{},b=0;b<u;b++){var y=l[b],x=y[0].trace,m=v[x.alignmentgroup]||{},_=Object.keys(m.offsetGroups||{}).length,g;_?g=c/_:g=f?c/u:c;var A=g*(1-(n.groupgap||0)),w;_?w=((2*x._offsetIndex+1-_)*g-A)/2:w=f?((2*b+1-u)*g-A)/2:-A/2;var k=y[0].t;k.barwidth=A,k.poffset=w,k.bargroupwidth=c,k.bardelta=s}r.binWidth=l[0][0].t.barwidth/100,poe(r),goe(t,r),moe(t,r,f)}function poe(e){var t=e.traces,r,n;for(r=0;r<t.length;r++){var i=t[r],a=i[0],o=a.trace,s=a.t,l=o._offset||o.offset,u=s.poffset,f;if(WD(l)){for(f=Array.prototype.slice.call(l,0,i.length),n=0;n<f.length;n++)Zd(f[n])||(f[n]=u);for(n=f.length;n<i.length;n++)f.push(u);s.poffset=f}else l!==void 0&&(s.poffset=l);var c=o._width||o.width,h=s.barwidth;if(WD(c)){var v=Array.prototype.slice.call(c,0,i.length);for(n=0;n<v.length;n++)Zd(v[n])||(v[n]=h);for(n=v.length;n<i.length;n++)v.push(h);if(s.barwidth=v,l===void 0){for(f=[],n=0;n<i.length;n++)f.push(u+(h-v[n])/2);s.poffset=f}}else c!==void 0&&(s.barwidth=c,l===void 0&&(s.poffset=u+(h-c)/2))}}function goe(e,t){for(var r=t.traces,n=n2(e),i=0;i<r.length;i++)for(var a=r[i],o=a[0].t,s=o.poffset,l=Array.isArray(s),u=o.barwidth,f=Array.isArray(u),c=0;c<a.length;c++){var h=a[c],v=h.w=f?u[c]:u;h[n]=h.p+(l?s[c]:s)+v/2}}function moe(e,t,r){var n=t.traces,i=t.minDiff,a=i/2;r2.minDtick(e,t.minDiff,t.distinctPositions[0],r);for(var o=0;o<n.length;o++){var s=n[o],l=s[0],u=l.trace,f=[],c,h,v,b;for(b=0;b<s.length;b++)c=s[b],h=c.p-a,v=c.p+a,f.push(h,v);if(u.width||u.offset){var y=l.t,x=y.poffset,m=y.barwidth,_=Array.isArray(x),g=Array.isArray(m);for(b=0;b<s.length;b++){c=s[b];var A=_?x[b]:x,w=g?m[b]:m;h=c.p+A,v=h+w,f.push(h,v)}}u._extremes[e._id]=r2.findExtremes(e,f,{padded:!1})}}function yoe(e,t){for(var r=t.traces,n=n2(e),i=0;i<r.length;i++){for(var a=r[i],o=a[0].trace,s=[],l=!1,u=0;u<a.length;u++){var f=a[u],c=f.b,h=c+f.s;f[n]=h,s.push(h),f.hasB&&s.push(c),(!f.hasB||!f.b)&&(l=!0)}o._extremes[e._id]=r2.findExtremes(e,s,{tozero:l,padded:!0})}}function kJe(e,t,r){var n=n2(e),i=t.traces,a,o,s,l,u,f;for(l=0;l<i.length;l++)if(a=i[l],o=a[0].trace,o.type==="funnel")for(u=0;u<a.length;u++)f=a[u],f.s!==_m&&t.put(f.p,-.5*f.s);for(l=0;l<i.length;l++){a=i[l],o=a[0].trace,s=o.type==="funnel";var c=[];for(u=0;u<a.length;u++)if(f=a[u],f.s!==_m){var h;s?h=f.s:h=f.s+f.b;var v=t.put(f.p,h),b=v+h;f.b=v,f[n]=b,r.norm||(c.push(b),f.hasB&&c.push(v))}r.norm||(o._extremes[e._id]=r2.findExtremes(e,c,{tozero:!0,padded:!0}))}}function xoe(e){for(var t=e.traces,r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++){var a=n[i];a.s!==_m&&e.put(a.p,a.b+a.s)}}function SJe(e,t){for(var r=e.traces,n=0;n<r.length;n++){var i=r[n],a=i[0].trace;if(a.base===void 0)for(var o=new HA([i],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<i.length;s++){var l=i[s];if(l.p!==_m){var u=o.put(l.p,l.b+l.s);u&&(l.b=u)}}}}function ZD(e,t,r){var n=t.traces,i=n2(e),a=r.norm==="fraction"?1:100,o=a/1e9,s=e.l2c(e.c2l(0)),l=r.mode==="stack"?a:s;function u(w){return Zd(e.c2l(w))&&(w<s-o||w>l+o||!Zd(s))}for(var f=0;f<n.length;f++){for(var c=n[f],h=c[0].trace,v=[],b=!1,y=!1,x=0;x<c.length;x++){var m=c[x];if(m.s!==_m){var _=Math.abs(a/t.get(m.p,m.s));m.b*=_,m.s*=_;var g=m.b,A=g+m.s;m[i]=A,v.push(A),y=y||u(A),m.hasB&&(v.push(g),y=y||u(g)),(!m.hasB||!m.b)&&(b=!0)}}h._extremes[e._id]=r2.findExtremes(e,v,{tozero:b,padded:y})}}function EJe(e,t){var r=n2(t),n={},i,a,o,s=1/0,l=-1/0;for(i=0;i<e.length;i++)for(o=e[i],a=0;a<o.length;a++){var u=o[a].p;Zd(u)&&(s=Math.min(s,u),l=Math.max(l,u))}var f=1e4/(l-s),c=n.round=function(_){return String(Math.round(f*(_-s)))};for(i=0;i<e.length;i++){o=e[i],o[0].t.extents=n;var h=o[0].t.poffset,v=Array.isArray(h);for(a=0;a<o.length;a++){var b=o[a],y=b[r]-b.w/2;if(Zd(y)){var x=b[r]+b.w/2,m=c(b.p);n[m]?n[m]=[Math.min(y,n[m][0]),Math.max(x,n[m][1])]:n[m]=[y,x]}b.p0=b.p+(v?h[a]:h),b.p1=b.p0+b.w,b.s0=b.b,b.s1=b.s0+b.s}}}function n2(e){return e._id.charAt(0)}boe.exports={crossTraceCalc:wJe,setGroupPositions:XD}});var tl=$((w4t,_oe)=>{"use strict";var LJe=Nr(),CJe=pt();function DJe(e,t,r){var n=e._fullLayout,i=n["_"+r+"Text_minsize"];if(i){var a=n.uniformtext.mode==="hide",o;switch(r){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}t.selectAll(o).each(function(s){var l=s.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var u=LJe.select(this).select("text");u.attr("transform",CJe.getTextTransform(l))}})}}function qJe(e,t,r){if(r.uniformtext.mode){var n=woe(e),i=r.uniformtext.minsize,a=t.scale*t.fontSize;t.hide=a<i,r[n]=r[n]||1/0,t.hide||(r[n]=Math.min(r[n],Math.max(a,i)))}}function RJe(e,t){var r=woe(e);t[r]=void 0}function woe(e){return"_"+e+"Text_minsize"}_oe.exports={recordMinTextSize:qJe,clearMinTextSize:RJe,resizeText:DJe}});var UA=$(jp=>{"use strict";var IJe=mn(),PJe=Ko(),FJe=pt().isArrayOrTypedArray;jp.coerceString=function(e,t,r){if(typeof t=="string"){if(t||!e.noBlank)return t}else if((typeof t=="number"||t===!0)&&!e.strict)return String(t);return r!==void 0?r:e.dflt};jp.coerceNumber=function(e,t,r){if(IJe(t)){t=+t;var n=e.min,i=e.max,a=n!==void 0&&t<n||i!==void 0&&t>i;if(!a)return t}return r!==void 0?r:e.dflt};jp.coerceColor=function(e,t,r){return PJe(t).isValid()?t:r!==void 0?r:e.dflt};jp.coerceEnumerated=function(e,t,r){return e.coerceNumber&&(t=+t),e.values.indexOf(t)!==-1?t:r!==void 0?r:e.dflt};jp.getValue=function(e,t){var r;return Array.isArray(e)?t<e.length&&(r=e[t]):r=e,r};jp.getLineWidth=function(e,t){var r=0<t.mlw?t.mlw:FJe(e.marker.line.width)?0:e.marker.line.width;return r}});var Kf=$((T4t,Roe)=>{"use strict";var i2=Nr(),NJe=Rr(),a2=un(),Toe=pt(),Aoe=Ir(),Moe=tl().resizeText,$D=zh(),zJe=$D.textfont,OJe=$D.insidetextfont,BJe=$D.outsidetextfont,Am=UA();function HJe(e){var t=i2.select(e).selectAll("g.barlayer").selectAll("g.trace");Moe(e,t,"bar");var r=t.size(),n=e._fullLayout;t.style("opacity",function(i){return i[0].trace.opacity}).each(function(i){(n.barmode==="stack"&&r>1||n.bargap===0&&n.bargroupgap===0&&!i[0].trace.marker.line.width)&&i2.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(i){var a=i2.select(this),o=i[0].trace;koe(a,o,e)}),Aoe.getComponentMethod("errorbars","style")(t)}function koe(e,t,r){a2.pointStyle(e.selectAll("path"),t,r),Soe(e,t,r)}function Soe(e,t,r){e.selectAll("text").each(function(n){var i=i2.select(this),a=Toe.ensureUniformFontSize(r,Eoe(i,n,t,r));a2.font(i,a)})}function UJe(e,t,r){var n=t[0].trace;n.selectedpoints?jJe(r,n,e):(koe(r,n,e),Aoe.getComponentMethod("errorbars","style")(r))}function jJe(e,t,r){a2.selectedPointStyle(e.selectAll("path"),t),VJe(e.selectAll("text"),t,r)}function VJe(e,t,r){e.each(function(n){var i=i2.select(this),a;if(n.selected){a=Toe.ensureUniformFontSize(r,Eoe(i,n,t,r));var o=t.selected.textfont&&t.selected.textfont.color;o&&(a.color=o),a2.font(i,a)}else a2.selectedTextStyle(i,t)})}function Eoe(e,t,r,n){var i=n._fullLayout.font,a=r.textfont;if(e.classed("bartext-inside")){var o=qoe(t,r);a=Coe(r,t.i,i,o)}else e.classed("bartext-outside")&&(a=Doe(r,t.i,i));return a}function Loe(e,t,r){return KD(zJe,e.textfont,t,r)}function Coe(e,t,r,n){var i=Loe(e,t,r),a=e._input.textfont===void 0||e._input.textfont.color===void 0||Array.isArray(e.textfont.color)&&e.textfont.color[t]===void 0;return a&&(i={color:NJe.contrast(n),family:i.family,size:i.size}),KD(OJe,e.insidetextfont,t,i)}function Doe(e,t,r){var n=Loe(e,t,r);return KD(BJe,e.outsidetextfont,t,n)}function KD(e,t,r,n){t=t||{};var i=Am.getValue(t.family,r),a=Am.getValue(t.size,r),o=Am.getValue(t.color,r);return{family:Am.coerceString(e.family,i,n.family),size:Am.coerceNumber(e.size,a,n.size),color:Am.coerceColor(e.color,o,n.color)}}function qoe(e,t){return t.type==="waterfall"?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}Roe.exports={style:HJe,styleTextPoints:Soe,styleOnSelect:UJe,getInsideTextFont:Coe,getOutsideTextFont:Doe,getBarColor:qoe,resizeText:Moe}});var Vp=$((A4t,Hoe)=>{"use strict";var jA=Nr(),VA=mn(),ms=pt(),GJe=Ta(),YJe=Rr(),$d=un(),WJe=Ir(),GA=tn().tickText,Ioe=tl(),XJe=Ioe.recordMinTextSize,ZJe=Ioe.clearMinTextSize,JD=Kf(),Mm=UA(),$Je=Hp(),Poe=zh(),KJe=Poe.text,JJe=Poe.textposition,QJe=Pf().appendArrayPointValue,$c=$Je.TEXTPAD;function eQe(e){return e.id}function tQe(e){if(e.ids)return eQe}function Kd(e,t){return e<t?1:-1}function rQe(e,t,r,n){var i=[],a=[],o=n?t:r,s=n?r:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),n?[i,a]:[a,i]}function Foe(e,t,r,n){if(!t.uniformtext.mode&&Noe(r)){var i;return n&&(i=n()),e.transition().duration(r.duration).ease(r.easing).each("end",function(){i&&i()}).each("interrupt",function(){i&&i()})}else return e}function Noe(e){return e&&e.duration>0}function nQe(e,t,r,n,i,a){var o=t.xaxis,s=t.yaxis,l=e._fullLayout;i||(i={mode:l.barmode,norm:l.barmode,gap:l.bargap,groupgap:l.bargroupgap},ZJe("bar",l));var u=ms.makeTraceGroups(n,r,"trace bars").each(function(f){var c=jA.select(this),h=f[0].trace,v=h.type==="waterfall",b=h.type==="funnel",y=h.type==="bar",x=y||b,m=0;v&&h.connector.visible&&h.connector.mode==="between"&&(m=h.connector.line.width/2);var _=h.orientation==="h",g=Noe(i),A=ms.ensureSingle(c,"g","points"),w=tQe(h),k=A.selectAll("g.point").data(ms.identity,w);k.enter().append("g").classed("point",!0),k.exit().remove(),k.each(function(d,M){var T=jA.select(this),S=rQe(d,o,s,_),E=S[0][0],L=S[0][1],D=S[1][0],R=S[1][1],q=(_?L-E:R-D)===0;q&&x&&Mm.getLineWidth(h,d)&&(q=!1),q||(q=!VA(E)||!VA(L)||!VA(D)||!VA(R)),d.isBlank=q,q&&(_?L=E:R=D),m&&!q&&(_?(E-=Kd(E,L)*m,L+=Kd(E,L)*m):(D-=Kd(D,R)*m,R+=Kd(D,R)*m));var C,F;if(h.type==="waterfall"){if(!q){var N=h[d.dir].marker;C=N.line.width,F=N.color}}else C=Mm.getLineWidth(h,d),F=d.mc||h.marker.color;function U(j){var ae=jA.round(C/2%1,2);return i.gap===0&&i.groupgap===0?jA.round(Math.round(j)-ae,2):j}function V(j,ae,ee){return ee&&j===ae?j:Math.abs(j-ae)>=2?U(j):j>ae?Math.ceil(j):Math.floor(j)}if(!e._context.staticPlot){var Y=YJe.opacity(F),K=Y<1||C>.01?U:V;E=K(E,L,_),L=K(L,E,_),D=K(D,R,!_),R=K(R,D,!_)}var B=Foe(ms.ensureSingle(T,"path"),l,i,a);if(B.style("vector-effect","non-scaling-stroke").attr("d",isNaN((L-E)*(R-D))||q&&e._context.staticPlot?"M0,0Z":"M"+E+","+D+"V"+R+"H"+L+"V"+D+"Z").call($d.setClipUrl,t.layerClipId,e),!l.uniformtext.mode&&g){var z=$d.makePointStyleFns(h);$d.singlePointStyle(d,B,h,z,e)}iQe(e,t,T,f,M,E,L,D,R,i,a),t.layerClipId&&$d.hideOutsideRangePoint(d,T.select("text"),o,s,h.xcalendar,h.ycalendar)});var p=h.cliponaxis===!1;$d.setClipUrl(c,p?null:t.layerClipId,e)});WJe.getComponentMethod("errorbars","plot")(e,u,t,i)}function iQe(e,t,r,n,i,a,o,s,l,u,f){var c=t.xaxis,h=t.yaxis,v=e._fullLayout,b;function y(j,ae,ee){var ve=ms.ensureSingle(j,"text").text(ae).attr({class:"bartext bartext-"+b,"text-anchor":"middle","data-notex":1}).call($d.font,ee).call(GJe.convertToTspans,e);return ve}var x=n[0].trace,m=x.orientation==="h",_=oQe(v,n,i,c,h);b=sQe(x,i);var g=u.mode==="stack"||u.mode==="relative",A=n[i],w=!g||A._outmost;if(!_||b==="none"||(A.isBlank||a===o||s===l)&&(b==="auto"||b==="inside")){r.select("text").remove();return}var k=v.font,p=JD.getBarColor(n[i],x),d=JD.getInsideTextFont(x,i,k,p),M=JD.getOutsideTextFont(x,i,k),T=r.datum();m?c.type==="log"&&T.s0<=0&&(c.range[0]<c.range[1]?a=0:a=c._length):h.type==="log"&&T.s0<=0&&(h.range[0]<h.range[1]?s=h._length:s=0);var S=Math.abs(o-a)-2*$c,E=Math.abs(l-s)-2*$c,L,D,R,q,C;if(b==="outside"&&!w&&!A.hasB&&(b="inside"),b==="auto")if(w){b="inside",C=ms.ensureUniformFontSize(e,d),L=y(r,_,C),D=$d.bBox(L.node()),R=D.width,q=D.height;var F=R>0&&q>0,N=R<=S&&q<=E,U=R<=E&&q<=S,V=m?S>=R*(E/q):E>=q*(S/R);F&&(N||U||V)?b="inside":(b="outside",L.remove(),L=null)}else b="inside";if(!L){C=ms.ensureUniformFontSize(e,b==="outside"?M:d),L=y(r,_,C);var Y=L.attr("transform");if(L.attr("transform",""),D=$d.bBox(L.node()),R=D.width,q=D.height,L.attr("transform",Y),R<=0||q<=0){L.remove();return}}var K=x.textangle,B,z;b==="outside"?(z=x.constraintext==="both"||x.constraintext==="outside",B=aQe(a,o,s,l,D,{isHorizontal:m,constrained:z,angle:K})):(z=x.constraintext==="both"||x.constraintext==="inside",B=Boe(a,o,s,l,D,{isHorizontal:m,constrained:z,angle:K,anchor:x.insidetextanchor})),B.fontSize=C.size,XJe(x.type==="histogram"?"bar":x.type,B,v),A.transform=B,Foe(L,v,u,f).attr("transform",ms.getTextTransform(B))}function zoe(e){return e==="auto"?0:e}function Ooe(e,t){var r=Math.PI/180*t,n=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));return{x:e.width*i+e.height*n,y:e.width*n+e.height*i}}function Boe(e,t,r,n,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,u=a.anchor||"end",f=u==="end",c=u==="start",h=a.leftToRight||0,v=(h+1)/2,b=1-v,y=i.width,x=i.height,m=Math.abs(t-e),_=Math.abs(n-r),g=m>2*$c&&_>2*$c?$c:0;m-=2*g,_-=2*g;var A=zoe(l);l==="auto"&&!(y<=m&&x<=_)&&(y>m||x>_)&&(!(y>_||x>m)||y<x!=m<_)&&(A+=90);var w=Ooe(i,A),k=1;s&&(k=Math.min(1,m/w.x,_/w.y));var p=i.left*b+i.right*v,d=(i.top+i.bottom)/2,M=(e+$c)*b+(t-$c)*v,T=(r+n)/2,S=0,E=0;if(c||f){var L=(o?w.x:w.y)/2,D=o?Kd(e,t):Kd(r,n);o?c?(M=e+D*g,S=-D*L):(M=t-D*g,S=D*L):c?(T=r+D*g,E=-D*L):(T=n-D*g,E=D*L)}return{textX:p,textY:d,targetX:M,targetY:T,anchorX:S,anchorY:E,scale:k,rotate:A}}function aQe(e,t,r,n,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,u=i.width,f=i.height,c=Math.abs(t-e),h=Math.abs(n-r),v;o?v=h>2*$c?$c:0:v=c>2*$c?$c:0;var b=1;s&&(b=o?Math.min(1,h/f):Math.min(1,c/u));var y=zoe(l),x=Ooe(i,y),m=(o?x.x:x.y)/2,_=(i.left+i.right)/2,g=(i.top+i.bottom)/2,A=(e+t)/2,w=(r+n)/2,k=0,p=0,d=o?Kd(t,e):Kd(r,n);return o?(A=t-d*v,k=d*m):(w=n+d*v,p=-d*m),{textX:_,textY:g,targetX:A,targetY:w,anchorX:k,anchorY:p,scale:b,rotate:y}}function oQe(e,t,r,n,i){var a=t[0].trace,o=a.texttemplate,s;return o?s=lQe(e,t,r,n,i):a.textinfo?s=uQe(t,r,n,i):s=Mm.getValue(a.text,r),Mm.coerceString(KJe,s)}function sQe(e,t){var r=Mm.getValue(e.textposition,t);return Mm.coerceEnumerated(JJe,r)}function lQe(e,t,r,n,i){var a=t[0].trace,o=ms.castOption(a,r,"texttemplate");if(!o)return"";var s=a.type==="histogram",l=a.type==="waterfall",u=a.type==="funnel",f=a.orientation==="h",c,h,v,b;f?(c="y",h=i,v="x",b=n):(c="x",h=n,v="y",b=i);function y(k){return GA(h,h.c2l(k),!0).text}function x(k){return GA(b,b.c2l(k),!0).text}var m=t[r],_={};_.label=m.p,_.labelLabel=_[c+"Label"]=y(m.p);var g=ms.castOption(a,m.i,"text");(g===0||g)&&(_.text=g),_.value=m.s,_.valueLabel=_[v+"Label"]=x(m.s);var A={};QJe(A,a,m.i),(s||A.x===void 0)&&(A.x=f?_.value:_.label),(s||A.y===void 0)&&(A.y=f?_.label:_.value),(s||A.xLabel===void 0)&&(A.xLabel=f?_.valueLabel:_.labelLabel),(s||A.yLabel===void 0)&&(A.yLabel=f?_.labelLabel:_.valueLabel),l&&(_.delta=+m.rawS||m.s,_.deltaLabel=x(_.delta),_.final=m.v,_.finalLabel=x(_.final),_.initial=_.final-_.delta,_.initialLabel=x(_.initial)),u&&(_.value=m.s,_.valueLabel=x(_.value),_.percentInitial=m.begR,_.percentInitialLabel=ms.formatPercent(m.begR),_.percentPrevious=m.difR,_.percentPreviousLabel=ms.formatPercent(m.difR),_.percentTotal=m.sumR,_.percenTotalLabel=ms.formatPercent(m.sumR));var w=ms.castOption(a,m.i,"customdata");return w&&(_.customdata=w),ms.texttemplateString(o,_,e._d3locale,A,_,a._meta||{})}function uQe(e,t,r,n){var i=e[0].trace,a=i.orientation==="h",o=i.type==="waterfall",s=i.type==="funnel";function l(w){var k=a?n:r;return GA(k,w,!0).text}function u(w){var k=a?r:n;return GA(k,+w,!0).text}var f=i.textinfo,c=e[t],h=f.split("+"),v=[],b,y=function(w){return h.indexOf(w)!==-1};if(y("label")&&v.push(l(e[t].p)),y("text")&&(b=ms.castOption(i,c.i,"text"),(b===0||b)&&v.push(b)),o){var x=+c.rawS||c.s,m=c.v,_=m-x;y("initial")&&v.push(u(_)),y("delta")&&v.push(u(x)),y("final")&&v.push(u(m))}if(s){y("value")&&v.push(u(c.s));var g=0;y("percent initial")&&g++,y("percent previous")&&g++,y("percent total")&&g++;var A=g>1;y("percent initial")&&(b=ms.formatPercent(c.begR),A&&(b+=" of initial"),v.push(b)),y("percent previous")&&(b=ms.formatPercent(c.difR),A&&(b+=" of previous"),v.push(b)),y("percent total")&&(b=ms.formatPercent(c.sumR),A&&(b+=" of total"),v.push(b))}return v.join("<br>")}Hoe.exports={plot:nQe,toMoveInsideBar:Boe}});var km=$((M4t,Goe)=>{"use strict";var o2=lo(),fQe=Ir(),Uoe=Rr(),cQe=pt().fillText,hQe=UA().getLineWidth,QD=tn().hoverLabelText,vQe=Zn().BADNUM;function dQe(e,t,r,n,i){var a=joe(e,t,r,n,i);if(a){var o=a.cd,s=o[0].trace,l=o[a.index];return a.color=Voe(s,l),fQe.getComponentMethod("errorbars","hoverInfo")(l,s,a),[a]}}function joe(e,t,r,n,i){var a=e.cd,o=a[0].trace,s=a[0].t,l=n==="closest",u=o.type==="waterfall",f=e.maxHoverDistance,c=e.maxSpikeDistance,h,v,b,y,x,m,_;o.orientation==="h"?(h=r,v=t,b="y",y="x",x=R,m=E):(h=t,v=r,b="x",y="y",m=R,x=E);var g=o[b+"period"],A=l||g;function w(j){return p(j,-1)}function k(j){return p(j,1)}function p(j,ae){var ee=j.w;return j[b]+ae*ee/2}function d(j){return j[b+"End"]-j[b+"Start"]}var M=l?w:g?function(j){return j.p-d(j)/2}:function(j){return Math.min(w(j),j.p-s.bardelta/2)},T=l?k:g?function(j){return j.p+d(j)/2}:function(j){return Math.max(k(j),j.p+s.bardelta/2)};function S(j,ae,ee){return i.finiteRange&&(ee=0),o2.inbox(j-h,ae-h,ee+Math.min(1,Math.abs(ae-j)/_)-1)}function E(j){return S(M(j),T(j),f)}function L(j){return S(w(j),k(j),c)}function D(j){var ae=j[y];if(u){var ee=Math.abs(j.rawS)||0;v>0?ae+=ee:v<0&&(ae-=ee)}return ae}function R(j){var ae=v,ee=j.b,ve=D(j);return o2.inbox(ee-ae,ve-ae,f+(ve-ae)/(ve-ee)-1)}function q(j){var ae=v,ee=j.b,ve=D(j);return o2.inbox(ee-ae,ve-ae,c+(ve-ae)/(ve-ee)-1)}var C=e[b+"a"],F=e[y+"a"];_=Math.abs(C.r2c(C.range[1])-C.r2c(C.range[0]));function N(j){return(x(j)+m(j))/2}var U=o2.getDistanceFunction(n,x,m,N);if(o2.getClosest(a,U,e),e.index!==!1&&a[e.index].p!==vQe){A||(M=function(j){return Math.min(w(j),j.p-s.bargroupwidth/2)},T=function(j){return Math.max(k(j),j.p+s.bargroupwidth/2)});var V=e.index,Y=a[V],K=o.base?Y.b+Y.s:Y.s;e[y+"0"]=e[y+"1"]=F.c2p(Y[y],!0),e[y+"LabelVal"]=K;var B=s.extents[s.extents.round(Y.p)];e[b+"0"]=C.c2p(l?M(Y):B[0],!0),e[b+"1"]=C.c2p(l?T(Y):B[1],!0);var z=Y.orig_p!==void 0;return e[b+"LabelVal"]=z?Y.orig_p:Y.p,e.labelLabel=QD(C,e[b+"LabelVal"],o[b+"hoverformat"]),e.valueLabel=QD(F,e[y+"LabelVal"],o[y+"hoverformat"]),e.baseLabel=QD(F,Y.b,o[y+"hoverformat"]),e.spikeDistance=(q(Y)+L(Y))/2,e[b+"Spike"]=C.c2p(Y.p,!0),cQe(Y,o,e),e.hovertemplate=o.hovertemplate,e}}function Voe(e,t){var r=t.mcc||e.marker.color,n=t.mlcc||e.marker.line.color,i=hQe(e,t);if(Uoe.opacity(r))return r;if(Uoe.opacity(n)&&i)return n}Goe.exports={hoverPoints:dQe,hoverOnBars:joe,getTraceColor:Voe}});var Woe=$((k4t,Yoe)=>{"use strict";Yoe.exports=function(t,r,n){return t.x="xVal"in r?r.xVal:r.x,t.y="yVal"in r?r.yVal:r.y,r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),n.orientation==="h"?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}});var Sm=$((S4t,Xoe)=>{"use strict";Xoe.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=n[0].trace,s=o.type==="funnel",l=o.orientation==="h",u=[],f;if(r===!1)for(f=0;f<n.length;f++)n[f].selected=0;else for(f=0;f<n.length;f++){var c=n[f],h="ct"in c?c.ct:pQe(c,i,a,l,s);r.contains(h,!1,f,t)?(u.push({pointNumber:f,x:i.c2d(c.x),y:a.c2d(c.y)}),c.selected=1):c.selected=0}return u};function pQe(e,t,r,n,i){var a=t.c2p(n?e.s0:e.p0,!0),o=t.c2p(n?e.s1:e.p1,!0),s=r.c2p(n?e.p0:e.s0,!0),l=r.c2p(n?e.p1:e.s1,!0);return i?[(a+o)/2,(s+l)/2]:n?[o,(s+l)/2]:[(a+o)/2,l]}});var $oe=$((E4t,Zoe)=>{"use strict";Zoe.exports={attributes:zh(),layoutAttributes:NA(),supplyDefaults:Kl().supplyDefaults,crossTraceDefaults:Kl().crossTraceDefaults,supplyLayoutDefaults:GD(),calc:coe(),crossTraceCalc:Tm().crossTraceCalc,colorbar:Zf(),arraysToCalcdata:t2(),plot:Vp().plot,style:Kf().style,styleOnSelect:Kf().styleOnSelect,hoverPoints:km().hoverPoints,eventData:Woe(),selectPoints:Sm(),moduleType:"trace",name:"bar",basePlotModule:as(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}});var Joe=$((L4t,Koe)=>{"use strict";Koe.exports=$oe()});var l2=$((C4t,rse)=>{"use strict";var Jf=Ps(),Qoe=zh(),gQe=Ro(),ese=Ha().axisHoverFormat,mQe=Yn().hovertemplateAttrs,Jd=ln().extendFlat,s2=Jf.marker,tse=s2.line;rse.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the y sample data or coordinates.","See overview for more info."].join(" ")},x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x sample data or coordinates.","See overview for more info."].join(" ")},x0:{valType:"any",editType:"calc+clearAxisTypes",description:["Sets the x coordinate for single-box traces","or the starting coordinate for multi-box traces","set using q1/median/q3.","See overview for more info."].join(" ")},y0:{valType:"any",editType:"calc+clearAxisTypes",description:["Sets the y coordinate for single-box traces","or the starting coordinate for multi-box traces","set using q1/median/q3.","See overview for more info."].join(" ")},dx:{valType:"number",editType:"calc",description:["Sets the x coordinate step for multi-box traces","set using q1/median/q3."].join(" ")},dy:{valType:"number",editType:"calc",description:["Sets the y coordinate step for multi-box traces","set using q1/median/q3."].join(" ")},xperiod:Jf.xperiod,yperiod:Jf.yperiod,xperiod0:Jf.xperiod0,yperiod0:Jf.yperiod0,xperiodalignment:Jf.xperiodalignment,yperiodalignment:Jf.yperiodalignment,xhoverformat:ese("x"),yhoverformat:ese("y"),name:{valType:"string",editType:"calc+clearAxisTypes",description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For box traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical"].join(" ")},q1:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Quartile 1 values.","There should be as many items as the number of boxes desired."].join(" ")},median:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the median values.","There should be as many items as the number of boxes desired."].join(" ")},q3:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Quartile 3 values.","There should be as many items as the number of boxes desired."].join(" ")},lowerfence:{valType:"data_array",editType:"calc",description:["Sets the lower fence values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `lowerfence` is not provided but a sample (in `y` or `x`) is set,","we compute the lower as the last sample point below 1.5 times the IQR."].join(" ")},upperfence:{valType:"data_array",editType:"calc",description:["Sets the upper fence values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `upperfence` is not provided but a sample (in `y` or `x`) is set,","we compute the lower as the last sample point above 1.5 times the IQR."].join(" ")},notched:{valType:"boolean",editType:"calc",description:["Determines whether or not notches are drawn.","Notches displays a confidence interval around the median.","We compute the confidence interval as median +/- 1.57 * IQR / sqrt(N),","where IQR is the interquartile range and N is the sample size.","If two boxes' notches do not overlap there is 95% confidence their medians differ.","See https://sites.google.com/site/davidsstatistics/home/notched-box-plots for more info.","Defaults to *false* unless `notchwidth` or `notchspan` is set."].join(" ")},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc",description:["Sets the width of the notches relative to","the box' width.","For example, with 0, the notches are as wide as the box(es)."].join(" ")},notchspan:{valType:"data_array",editType:"calc",description:["Sets the notch span from the boxes' `median` values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `notchspan` is not provided but a sample (in `y` or `x`) is set,","we compute it as 1.57 * IQR / sqrt(N),","where N is the sample size."].join(" ")},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc",description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the box(es) are shown with no sample points","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set.","Defaults to *all* under the q1/median/q3 signature.","Otherwise defaults to *outliers*."].join(" ")},jitter:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the box(es)."].join(" ")},pointpos:{valType:"number",min:-2,max:2,editType:"calc",description:["Sets the position of the sample points in relation to the box(es).","If *0*, the sample points are places over the center of the box(es).","Positive (negative) values correspond to positions to the","right (left) for vertical boxes and above (below) for horizontal boxes"].join(" ")},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc",description:["If *true*, the mean of the box(es)' underlying distribution is","drawn as a dashed line inside the box(es).","If *sd* the standard deviation is also drawn.","Defaults to *true* when `mean` is set.","Defaults to *sd* when `sd` is set","Otherwise defaults to *false*."].join(" ")},mean:{valType:"data_array",editType:"calc",description:["Sets the mean values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `mean` is not provided but a sample (in `y` or `x`) is set,","we compute the mean for each box using the sample values."].join(" ")},sd:{valType:"data_array",editType:"calc",description:["Sets the standard deviation values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `sd` is not provided but a sample (in `y` or `x`) is set,","we compute the standard deviation for each box using the sample values."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the box(es).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc",description:["Sets the method used to compute the sample's Q1 and Q3 quartiles.","The *linear* method uses the 25th percentile for Q1 and 75th percentile for Q3","as computed using method #10 (listed on http://jse.amstat.org/v14n3/langford.html).","The *exclusive* method uses the median to divide the ordered dataset into two halves","if the sample is odd, it does not include the median in either half -","Q1 is then the median of the lower half and","Q3 the median of the upper half.","The *inclusive* method also uses the median to divide the ordered dataset into two halves","but if the sample is odd, it includes the median in both halves -","Q1 is then the median of the lower half and","Q3 the median of the upper half."].join(" ")},width:{valType:"number",min:0,dflt:0,editType:"calc",description:["Sets the width of the box in data coordinate","If *0* (default value) the width is automatically selected based on the positions","of other box traces in the same subplot."].join(" ")},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style",description:"Sets the color of the outlier sample points."},symbol:Jd({},s2.symbol,{arrayOk:!1,editType:"plot"}),opacity:Jd({},s2.opacity,{arrayOk:!1,dflt:1,editType:"style"}),size:Jd({},s2.size,{arrayOk:!1,editType:"calc"}),color:Jd({},s2.color,{arrayOk:!1,editType:"style"}),line:{color:Jd({},tse.color,{arrayOk:!1,dflt:gQe.defaultLine,editType:"style"}),width:Jd({},tse.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style",description:["Sets the border line color of the outlier sample points.","Defaults to marker.color"].join(" ")},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style",description:["Sets the border line width (in px) of the outlier sample points."].join(" ")},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style",description:"Sets the color of line bounding the box(es)."},width:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the box(es)."},editType:"plot"},fillcolor:Jf.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc",description:["Sets the width of the whiskers relative to","the box' width.","For example, with 1, the whiskers are as wide as the box(es)."].join(" ")},offsetgroup:Qoe.offsetgroup,alignmentgroup:Qoe.alignmentgroup,selected:{marker:Jf.selected.marker,editType:"style"},unselected:{marker:Jf.unselected.marker,editType:"style"},text:Jd({},Jf.text,{description:["Sets the text elements associated with each sample value.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertext:Jd({},Jf.hovertext,{description:"Same as `text`."}),hovertemplate:mQe({description:["N.B. This only has an effect when hovering on points."].join(" ")}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style",description:["Do the hover effects highlight individual boxes ","or sample points or both?"].join(" ")}}});var u2=$((D4t,nse)=>{"use strict";nse.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc",description:["Determines how boxes at the same location coordinate","are displayed on the graph.","If *group*, the boxes are plotted next to one another","centered around the shared location.","If *overlay*, the boxes are plotted over one another,","you might need to set *opacity* to see them multiple boxes.","Has no effect on traces that have *width* set."].join(" ")},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")}}});var c2=$((q4t,sse)=>{"use strict";var Qf=pt(),yQe=Ir(),xQe=Rr(),bQe=Ph(),wQe=Kl().handleGroupingDefaults,ise=B1(),f2=l2();function _Qe(e,t,r,n){function i(h,v){return Qf.coerce(e,t,f2,h,v)}if(ase(e,t,i,n),t.visible!==!1){bQe(e,t,n,i),i("xhoverformat"),i("yhoverformat");var a=t._hasPreCompStats;a&&(i("lowerfence"),i("upperfence")),i("line.color",(e.marker||{}).color||r),i("line.width"),i("fillcolor",xQe.addOpacity(t.line.color,.5));var o=!1;if(a){var s=i("mean"),l=i("sd");s&&s.length&&(o=!0,l&&l.length&&(o="sd"))}i("boxmean",o),i("whiskerwidth"),i("width"),i("quartilemethod");var u=!1;if(a){var f=i("notchspan");f&&f.length&&(u=!0)}else Qf.validate(e.notchwidth,f2.notchwidth)&&(u=!0);var c=i("notched",u);c&&i("notchwidth"),ose(e,t,i,{prefix:"box"})}}function ase(e,t,r,n){function i(T){var S=0;return T&&T.length&&(S+=1,Qf.isArrayOrTypedArray(T[0])&&T[0].length&&(S+=1)),S}function a(T){return Qf.validate(e[T],f2[T])}var o=r("y"),s=r("x"),l;if(t.type==="box"){var u=r("q1"),f=r("median"),c=r("q3");t._hasPreCompStats=u&&u.length&&f&&f.length&&c&&c.length,l=Math.min(Qf.minRowLength(u),Qf.minRowLength(f),Qf.minRowLength(c))}var h=i(o),v=i(s),b=h&&Qf.minRowLength(o),y=v&&Qf.minRowLength(s),x=n.calendar,m={autotypenumbers:n.autotypenumbers},_,g;if(t._hasPreCompStats)switch(String(v)+String(h)){case"00":var A=a("x0")||a("dx"),w=a("y0")||a("dy");w&&!A?_="h":_="v",g=l;break;case"10":_="v",g=Math.min(l,y);break;case"20":_="h",g=Math.min(l,s.length);break;case"01":_="h",g=Math.min(l,b);break;case"02":_="v",g=Math.min(l,o.length);break;case"12":_="v",g=Math.min(l,y,o.length);break;case"21":_="h",g=Math.min(l,s.length,b);break;case"11":g=0;break;case"22":var k=!1,p;for(p=0;p<s.length;p++)if(ise(s[p],x,m)==="category"){k=!0;break}if(k)_="v",g=Math.min(l,y,o.length);else{for(p=0;p<o.length;p++)if(ise(o[p],x,m)==="category"){k=!0;break}k?(_="h",g=Math.min(l,s.length,b)):(_="v",g=Math.min(l,y,o.length))}break}else h>0?(_="v",v>0?g=Math.min(y,b):g=Math.min(b)):v>0?(_="h",g=Math.min(y)):g=0;if(!g){t.visible=!1;return}t._length=g;var d=r("orientation",_);t._hasPreCompStats?d==="v"&&v===0?(r("x0",0),r("dx",1)):d==="h"&&h===0&&(r("y0",0),r("dy",1)):d==="v"&&v===0?r("x0"):d==="h"&&h===0&&r("y0");var M=yQe.getComponentMethod("calendars","handleTraceDefaults");M(e,t,["x","y"],n)}function ose(e,t,r,n){var i=n.prefix,a=Qf.coerce2(e,t,f2,"marker.outliercolor"),o=r("marker.line.outliercolor"),s="outliers";t._hasPreCompStats?s="all":(a||o)&&(s="suspectedoutliers");var l=r(i+"points",s);l?(r("jitter",l==="all"?.3:0),r("pointpos",l==="all"?-1.5:0),r("marker.symbol"),r("marker.opacity"),r("marker.size"),r("marker.color",t.line.color),r("marker.line.color"),r("marker.line.width"),l==="suspectedoutliers"&&(r("marker.line.outliercolor",t.marker.color),r("marker.line.outlierwidth")),r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size"),r("text"),r("hovertext")):delete t.marker;var u=r("hoveron");(u==="all"||u.indexOf("points")!==-1)&&r("hovertemplate"),Qf.coerceSelectionMarkerOpacity(t,r)}function TQe(e,t){var r,n;function i(s){return Qf.coerce(n._input,n,f2,s)}for(var a=0;a<e.length;a++){n=e[a];var o=n.type;(o==="box"||o==="violin")&&(r=n._input,t[o+"mode"]==="group"&&wQe(r,n,t,i))}}sse.exports={supplyDefaults:_Qe,crossTraceDefaults:TQe,handleSampleDefaults:ase,handlePointsDefaults:ose}});var YA=$((R4t,use)=>{"use strict";var AQe=Ir(),MQe=pt(),kQe=u2();function lse(e,t,r,n,i){for(var a=i+"Layout",o=!1,s=0;s<r.length;s++){var l=r[s];if(AQe.traceIs(l,a)){o=!0;break}}o&&(n(i+"mode"),n(i+"gap"),n(i+"groupgap"))}function SQe(e,t,r){function n(i,a){return MQe.coerce(e,t,kQe,i,a)}lse(e,t,r,n,"box")}use.exports={supplyLayoutDefaults:SQe,_supply:lse}});var rq=$((I4t,yse)=>{"use strict";var tq=mn(),WA=tn(),EQe=Fh(),Mo=pt(),bf=Zn().BADNUM,Pv=Mo._;yse.exports=function(t,r){var n=t._fullLayout,i=WA.getFromId(t,r.xaxis||"x"),a=WA.getFromId(t,r.yaxis||"y"),o=[],s=r.type==="violin"?"_numViolins":"_numBoxes",l,u,f,c,h,v,b;r.orientation==="h"?(f=i,c="x",h=a,v="y",b=!!r.yperiodalignment):(f=a,c="y",h=i,v="x",b=!!r.xperiodalignment);var y=LQe(r,v,h,n[s]),x=y[0],m=y[1],_=Mo.distinctVals(x,h),g=_.vals,A=_.minDiff/2,w,k,p,d,M,T,S=(r.boxpoints||r.points)==="all"?Mo.identity:function(Oe){return Oe.v<w.lf||Oe.v>w.uf};if(r._hasPreCompStats){var E=r[c],L=function(Oe){return f.d2c((r[Oe]||[])[l])},D=1/0,R=-1/0;for(l=0;l<r._length;l++){var q=x[l];if(tq(q)){if(w={},w.pos=w[v]=q,b&&m&&(w.orig_p=m[l]),w.q1=L("q1"),w.med=L("median"),w.q3=L("q3"),k=[],E&&Mo.isArrayOrTypedArray(E[l]))for(u=0;u<E[l].length;u++)T=f.d2c(E[l][u]),T!==bf&&(M={v:T,i:[l,u]},fse(M,r,[l,u]),k.push(M));if(w.pts=k.sort(cse),p=w[c]=k.map(hse),d=p.length,w.med!==bf&&w.q1!==bf&&w.q3!==bf&&w.med>=w.q1&&w.q3>=w.med){var C=L("lowerfence");w.lf=C!==bf&&C<=w.q1?C:vse(w,p,d);var F=L("upperfence");w.uf=F!==bf&&F>=w.q3?F:dse(w,p,d);var N=L("mean");w.mean=N!==bf?N:d?Mo.mean(p,d):(w.q1+w.q3)/2;var U=L("sd");w.sd=N!==bf&&U>=0?U:d?Mo.stdev(p,d,w.mean):w.q3-w.q1,w.lo=pse(w),w.uo=gse(w);var V=L("notchspan");V=V!==bf&&V>0?V:mse(w,d),w.ln=w.med-V,w.un=w.med+V;var Y=w.lf,K=w.uf;r.boxpoints&&p.length&&(Y=Math.min(Y,p[0]),K=Math.max(K,p[d-1])),r.notched&&(Y=Math.min(Y,w.ln),K=Math.max(K,w.un)),w.min=Y,w.max=K}else{Mo.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+w.q1,"median = "+w.med,"q3 = "+w.q3].join(`
`));var B;w.med!==bf?B=w.med:w.q1!==bf?w.q3!==bf?B=(w.q1+w.q3)/2:B=w.q1:w.q3!==bf?B=w.q3:B=0,w.med=B,w.q1=w.q3=B,w.lf=w.uf=B,w.mean=w.sd=B,w.ln=w.un=B,w.min=w.max=B}D=Math.min(D,w.min),R=Math.max(R,w.max),w.pts2=k.filter(S),o.push(w)}}r._extremes[f._id]=WA.findExtremes(f,[D,R],{padded:!0})}else{var z=f.makeCalcdata(r,c),j=CQe(g,A),ae=g.length,ee=DQe(ae);for(l=0;l<r._length;l++)if(T=z[l],!!tq(T)){var ve=Mo.findBin(x[l],j);ve>=0&&ve<ae&&(M={v:T,i:l},fse(M,r,l),ee[ve].push(M))}var fe=1/0,se=-1/0,G=r.quartilemethod,Z=G==="exclusive",X=G==="inclusive";for(l=0;l<ae;l++)if(ee[l].length>0){if(w={},w.pos=w[v]=g[l],k=w.pts=ee[l].sort(cse),p=w[c]=k.map(hse),d=p.length,w.min=p[0],w.max=p[d-1],w.mean=Mo.mean(p,d),w.sd=Mo.stdev(p,d,w.mean),w.med=Mo.interp(p,.5),d%2&&(Z||X)){var ge,qe;Z?(ge=p.slice(0,d/2),qe=p.slice(d/2+1)):X&&(ge=p.slice(0,d/2+1),qe=p.slice(d/2)),w.q1=Mo.interp(ge,.5),w.q3=Mo.interp(qe,.5)}else w.q1=Mo.interp(p,.25),w.q3=Mo.interp(p,.75);w.lf=vse(w,p,d),w.uf=dse(w,p,d),w.lo=pse(w),w.uo=gse(w);var Pe=mse(w,d);w.ln=w.med-Pe,w.un=w.med+Pe,fe=Math.min(fe,w.ln),se=Math.max(se,w.un),w.pts2=k.filter(S),o.push(w)}r._extremes[f._id]=WA.findExtremes(f,r.notched?z.concat([fe,se]):z,{padded:!0})}return qQe(o,r),o.length>0?(o[0].t={num:n[s],dPos:A,posLetter:v,valLetter:c,labels:{med:Pv(t,"median:"),min:Pv(t,"min:"),q1:Pv(t,"q1:"),q3:Pv(t,"q3:"),max:Pv(t,"max:"),mean:r.boxmean==="sd"?Pv(t,"mean \xB1 \u03C3:"):Pv(t,"mean:"),lf:Pv(t,"lower fence:"),uf:Pv(t,"upper fence:")}},n[s]++,o):[{t:{empty:!0}}]};function LQe(e,t,r,n){var i=t in e,a=t+"0"in e,o="d"+t in e;if(i||a&&o){var s=r.makeCalcdata(e,t),l=EQe(e,r,t,s).vals;return[l,s]}var u;a?u=e[t+"0"]:"name"in e&&(r.type==="category"||tq(e.name)&&["linear","log"].indexOf(r.type)!==-1||Mo.isDateTime(e.name)&&r.type==="date")?u=e.name:u=n;for(var f=r.type==="multicategory"?r.r2c_just_indices(u):r.d2c(u,0,e[t+"calendar"]),c=e._length,h=new Array(c),v=0;v<c;v++)h[v]=f;return[h]}function CQe(e,t){for(var r=e.length,n=new Array(r+1),i=0;i<r;i++)n[i]=e[i]-t;return n[r]=e[r-1]+t,n}function DQe(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=[];return t}var eq={text:"tx",hovertext:"htx"};function fse(e,t,r){for(var n in eq)Mo.isArrayOrTypedArray(t[n])&&(Array.isArray(r)?Mo.isArrayOrTypedArray(t[n][r[0]])&&(e[eq[n]]=t[n][r[0]][r[1]]):e[eq[n]]=t[n][r])}function qQe(e,t){if(Mo.isArrayOrTypedArray(t.selectedpoints))for(var r=0;r<e.length;r++){for(var n=e[r].pts||[],i={},a=0;a<n.length;a++)i[n[a].i]=a;Mo.tagSelected(n,t,i)}}function cse(e,t){return e.v-t.v}function hse(e){return e.v}function vse(e,t,r){return r===0?e.q1:Math.min(e.q1,t[Math.min(Mo.findBin(2.5*e.q1-1.5*e.q3,t,!0)+1,r-1)])}function dse(e,t,r){return r===0?e.q3:Math.max(e.q3,t[Math.max(Mo.findBin(2.5*e.q3-1.5*e.q1,t),0)])}function pse(e){return 4*e.q1-3*e.q3}function gse(e){return 4*e.q3-3*e.q1}function mse(e,t){return t===0?0:1.57*(e.q3-e.q1)/Math.sqrt(t)}});var XA=$((P4t,_se)=>{"use strict";var xse=tn(),RQe=pt(),IQe=Nd().getAxisGroup,bse=["v","h"];function PQe(e,t){for(var r=e.calcdata,n=t.xaxis,i=t.yaxis,a=0;a<bse.length;a++){for(var o=bse[a],s=o==="h"?i:n,l=[],u=0;u<r.length;u++){var f=r[u],c=f[0].t,h=f[0].trace;h.visible===!0&&(h.type==="box"||h.type==="candlestick")&&!c.empty&&(h.orientation||"v")===o&&h.xaxis===n._id&&h.yaxis===i._id&&l.push(u)}wse("box",e,l,s)}}function wse(e,t,r,n){var i=t.calcdata,a=t._fullLayout,o=n._id,s=o.charAt(0),l,u,f,c=[],h=0;for(l=0;l<r.length;l++)for(f=i[r[l]],u=0;u<f.length;u++)c.push(n.c2l(f[u].pos,!0)),h+=(f[u].pts2||[]).length;if(c.length){var v=RQe.distinctVals(c);(n.type==="category"||n.type==="multicategory")&&(v.minDiff=1);var b=v.minDiff/2;xse.minDtick(n,v.minDiff,v.vals[0],!0);var y=e==="violin"?"_numViolins":"_numBoxes",x=a[y],m=a[e+"mode"]==="group"&&x>1,_=1-a[e+"gap"],g=1-a[e+"groupgap"];for(l=0;l<r.length;l++){f=i[r[l]];var A=f[0].trace,w=f[0].t,k=A.width,p=A.side,d,M,T,S;if(k)d=M=S=k/2,T=0;else if(d=b,m){var E=IQe(a,n._id)+A.orientation,L=a._alignmentOpts[E]||{},D=L[A.alignmentgroup]||{},R=Object.keys(D.offsetGroups||{}).length,q=R||x,C=R?A._offsetIndex:w.num;M=d*_*g/q,T=2*d*(-.5+(C+.5)/q)*_,S=d*_/q}else M=d*_*g,T=0,S=d;w.dPos=d,w.bPos=T,w.bdPos=M,w.wHover=S;var F,N,U=T+M,V,Y,K,B,z,j,ae=Boolean(k),ee=(A.boxpoints||A.points)&&h>0;if(p==="positive"?(F=d*(k?1:.5),V=U,N=V=T):p==="negative"?(F=V=T,N=d*(k?1:.5),Y=U):(F=N=d,V=Y=U),ee){var ve=A.pointpos,fe=A.jitter,se=A.marker.size/2,G=0;ve+fe>=0&&(G=U*(ve+fe),G>F?(ae=!0,z=se,K=G):G>V&&(z=se,K=F)),G<=F&&(K=F);var Z=0;ve-fe<=0&&(Z=-U*(ve-fe),Z>N?(ae=!0,j=se,B=Z):Z>Y&&(j=se,B=N)),Z<=N&&(B=N)}else K=F,B=N;var X=new Array(f.length);for(u=0;u<f.length;u++)X[u]=f[u].pos;A._extremes[o]=xse.findExtremes(n,X,{padded:ae,vpadminus:B,vpadplus:K,vpadLinearized:!0,ppadminus:{x:j,y:z}[s],ppadplus:{x:z,y:j}[s]})}}}_se.exports={crossTraceCalc:PQe,setPositionOffset:wse}});var ZA=$((F4t,Sse)=>{"use strict";var h2=Nr(),Gp=pt(),FQe=un(),Tse=5,NQe=.01;function zQe(e,t,r,n){var i=t.xaxis,a=t.yaxis;Gp.makeTraceGroups(n,r,"trace boxes").each(function(o){var s=h2.select(this),l=o[0],u=l.t,f=l.trace;if(u.wdPos=u.bdPos*f.whiskerwidth,f.visible!==!0||u.empty){s.remove();return}var c,h;f.orientation==="h"?(c=a,h=i):(c=i,h=a),Ase(s,{pos:c,val:h},f,u),Mse(s,{x:i,y:a},f,u),kse(s,{pos:c,val:h},f,u)})}function Ase(e,t,r,n){var i=r.orientation==="h",a=t.val,o=t.pos,s=!!o.rangebreaks,l=n.bPos,u=n.wdPos||0,f=n.bPosPxOffset||0,c=r.whiskerwidth||0,h=r.notched||!1,v=h?1-2*r.notchwidth:1,b,y;Array.isArray(n.bdPos)?(b=n.bdPos[0],y=n.bdPos[1]):(b=n.bdPos,y=n.bdPos);var x=e.selectAll("path.box").data(r.type!=="violin"||r.box.visible?Gp.identity:[]);x.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),x.exit().remove(),x.each(function(m){if(m.empty)return"M0,0Z";var _=o.c2l(m.pos+l,!0),g=o.l2p(_-b)+f,A=o.l2p(_+y)+f,w=s?(g+A)/2:o.l2p(_)+f,k=r.whiskerwidth,p=s?g*k+(1-k)*w:o.l2p(_-u)+f,d=s?A*k+(1-k)*w:o.l2p(_+u)+f,M=o.l2p(_-b*v)+f,T=o.l2p(_+y*v)+f,S=a.c2p(m.q1,!0),E=a.c2p(m.q3,!0),L=Gp.constrain(a.c2p(m.med,!0),Math.min(S,E)+1,Math.max(S,E)-1),D=m.lf===void 0||r.boxpoints===!1,R=a.c2p(D?m.min:m.lf,!0),q=a.c2p(D?m.max:m.uf,!0),C=a.c2p(m.ln,!0),F=a.c2p(m.un,!0);i?h2.select(this).attr("d","M"+L+","+M+"V"+T+"M"+S+","+g+"V"+A+(h?"H"+C+"L"+L+","+T+"L"+F+","+A:"")+"H"+E+"V"+g+(h?"H"+F+"L"+L+","+M+"L"+C+","+g:"")+"ZM"+S+","+w+"H"+R+"M"+E+","+w+"H"+q+(c===0?"":"M"+R+","+p+"V"+d+"M"+q+","+p+"V"+d)):h2.select(this).attr("d","M"+M+","+L+"H"+T+"M"+g+","+S+"H"+A+(h?"V"+C+"L"+T+","+L+"L"+A+","+F:"")+"V"+E+"H"+g+(h?"V"+F+"L"+M+","+L+"L"+g+","+C:"")+"ZM"+w+","+S+"V"+R+"M"+w+","+E+"V"+q+(c===0?"":"M"+p+","+R+"H"+d+"M"+p+","+q+"H"+d))})}function Mse(e,t,r,n){var i=t.x,a=t.y,o=n.bdPos,s=n.bPos,l=r.boxpoints||r.points;Gp.seedPseudoRandom();var u=function(h){return h.forEach(function(v){v.t=n,v.trace=r}),h},f=e.selectAll("g.points").data(l?u:[]);f.enter().append("g").attr("class","points"),f.exit().remove();var c=f.selectAll("path").data(function(h){var v,b=h.pts2,y=Math.max((h.max-h.min)/10,h.q3-h.q1),x=y*1e-9,m=y*NQe,_=[],g=0,A;if(r.jitter){if(y===0)for(g=1,_=new Array(b.length),v=0;v<b.length;v++)_[v]=1;else for(v=0;v<b.length;v++){var w=Math.max(0,v-Tse),k=b[w].v,p=Math.min(b.length-1,v+Tse),d=b[p].v;l!=="all"&&(b[v].v<h.lf?d=Math.min(d,h.lf):k=Math.max(k,h.uf));var M=Math.sqrt(m*(p-w)/(d-k+x))||0;M=Gp.constrain(Math.abs(M),0,1),_.push(M),g=Math.max(M,g)}A=r.jitter*2/(g||1)}for(v=0;v<b.length;v++){var T=b[v],S=T.v,E=r.jitter?A*_[v]*(Gp.pseudoRandom()-.5):0,L=h.pos+s+o*(r.pointpos+E);r.orientation==="h"?(T.y=L,T.x=S):(T.x=L,T.y=S),l==="suspectedoutliers"&&S<h.uo&&S>h.lo&&(T.so=!0)}return b});c.enter().append("path").classed("point",!0),c.exit().remove(),c.call(FQe.translatePoints,i,a)}function kse(e,t,r,n){var i=t.val,a=t.pos,o=!!a.rangebreaks,s=n.bPos,l=n.bPosPxOffset||0,u=r.boxmean||(r.meanline||{}).visible,f,c;Array.isArray(n.bdPos)?(f=n.bdPos[0],c=n.bdPos[1]):(f=n.bdPos,c=n.bdPos);var h=e.selectAll("path.mean").data(r.type==="box"&&r.boxmean||r.type==="violin"&&r.box.visible&&r.meanline.visible?Gp.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each(function(v){var b=a.c2l(v.pos+s,!0),y=a.l2p(b-f)+l,x=a.l2p(b+c)+l,m=o?(y+x)/2:a.l2p(b)+l,_=i.c2p(v.mean,!0),g=i.c2p(v.mean-v.sd,!0),A=i.c2p(v.mean+v.sd,!0);r.orientation==="h"?h2.select(this).attr("d","M"+_+","+y+"V"+x+(u==="sd"?"m0,0L"+g+","+m+"L"+_+","+y+"L"+A+","+m+"Z":"")):h2.select(this).attr("d","M"+y+","+_+"H"+x+(u==="sd"?"m0,0L"+m+","+g+"L"+y+","+_+"L"+m+","+A+"Z":""))})}Sse.exports={plot:zQe,plotBoxAndWhiskers:Ase,plotPoints:Mse,plotBoxMean:kse}});var $A=$((N4t,Ese)=>{"use strict";var nq=Nr(),iq=Rr(),aq=un();function OQe(e,t,r){var n=r||nq.select(e).selectAll("g.trace.boxes");n.style("opacity",function(i){return i[0].trace.opacity}),n.each(function(i){var a=nq.select(this),o=i[0].trace,s=o.line.width;function l(c,h,v,b){c.style("stroke-width",h+"px").call(iq.stroke,v).call(iq.fill,b)}var u=a.selectAll("path.box");if(o.type==="candlestick")u.each(function(c){if(!c.empty){var h=nq.select(this),v=o[c.dir];l(h,v.line.width,v.line.color,v.fillcolor),h.style("opacity",o.selectedpoints&&!c.selected?.3:1)}});else{l(u,s,o.line.color,o.fillcolor),a.selectAll("path.mean").style({"stroke-width":s,"stroke-dasharray":2*s+"px,"+s+"px"}).call(iq.stroke,o.line.color);var f=a.selectAll("path.point");aq.pointStyle(f,o,e)}})}function BQe(e,t,r){var n=t[0].trace,i=r.selectAll("path.point");n.selectedpoints?aq.selectedPointStyle(i,n):aq.pointStyle(i,n,e)}Ese.exports={style:OQe,styleOnSelect:BQe}});var sq=$((z4t,qse)=>{"use strict";var HQe=tn(),oq=pt(),Qd=lo(),Lse=Rr(),UQe=oq.fillText;function jQe(e,t,r,n){var i=e.cd,a=i[0].trace,o=a.hoveron,s=[],l;return o.indexOf("boxes")!==-1&&(s=s.concat(Cse(e,t,r,n))),o.indexOf("points")!==-1&&(l=Dse(e,t,r)),n==="closest"?l?[l]:s:(l&&s.push(l),s)}function Cse(e,t,r,n){var i=e.cd,a=e.xa,o=e.ya,s=i[0].trace,l=i[0].t,u=s.type==="violin",f,c,h,v,b,y,x,m,_,g,A,w=l.bdPos,k,p,d=l.wHover,M=function(se){return h.c2l(se.pos)+l.bPos-h.c2l(y)};u&&s.side!=="both"?(s.side==="positive"&&(_=function(se){var G=M(se);return Qd.inbox(G,G+d,g)},k=w,p=0),s.side==="negative"&&(_=function(se){var G=M(se);return Qd.inbox(G-d,G,g)},k=0,p=w)):(_=function(se){var G=M(se);return Qd.inbox(G-d,G+d,g)},k=p=w);var T;u?T=function(se){return Qd.inbox(se.span[0]-b,se.span[1]-b,g)}:T=function(se){return Qd.inbox(se.min-b,se.max-b,g)},s.orientation==="h"?(b=t,y=r,x=T,m=_,f="y",h=o,c="x",v=a):(b=r,y=t,x=_,m=T,f="x",h=a,c="y",v=o);var S=Math.min(1,w/Math.abs(h.r2c(h.range[1])-h.r2c(h.range[0])));g=e.maxHoverDistance-S,A=e.maxSpikeDistance-S;function E(se){return(x(se)+m(se))/2}var L=Qd.getDistanceFunction(n,x,m,E);if(Qd.getClosest(i,L,e),e.index===!1)return[];var D=i[e.index],R=s.line.color,q=(s.marker||{}).color;Lse.opacity(R)&&s.line.width?e.color=R:Lse.opacity(q)&&s.boxpoints?e.color=q:e.color=s.fillcolor,e[f+"0"]=h.c2p(D.pos+l.bPos-p,!0),e[f+"1"]=h.c2p(D.pos+l.bPos+k,!0),e[f+"LabelVal"]=D.orig_p!==void 0?D.orig_p:D.pos;var C=f+"Spike";e.spikeDistance=E(D)*A/g,e[C]=h.c2p(D.pos,!0);var F=s.boxmean||(s.meanline||{}).visible,N=s.boxpoints||s.points,U=N&&F?["max","uf","q3","med","mean","q1","lf","min"]:N&&!F?["max","uf","q3","med","q1","lf","min"]:!N&&F?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],V=v.range[1]<v.range[0];s.orientation===(V?"v":"h")&&U.reverse();for(var Y=e.spikeDistance,K=e[C],B=[],z=0;z<U.length;z++){var j=U[z];if(j in D){var ae=D[j],ee=v.c2p(ae,!0),ve=oq.extendFlat({},e);ve.attr=j,ve[c+"0"]=ve[c+"1"]=ee,ve[c+"LabelVal"]=ae,ve[c+"Label"]=(l.labels?l.labels[j]+" ":"")+HQe.hoverLabelText(v,ae,s[c+"hoverformat"]),ve.hoverOnBox=!0,j==="mean"&&"sd"in D&&s.boxmean==="sd"&&(ve[c+"err"]=D.sd),ve.hovertemplate=!1,B.push(ve)}}e.name="",e.spikeDistance=void 0,e[C]=void 0;for(var fe=0;fe<B.length;fe++)B[fe].attr!=="med"?(B[fe].name="",B[fe].spikeDistance=void 0,B[fe][C]=void 0):(B[fe].spikeDistance=Y,B[fe][C]=K);return B}function Dse(e,t,r){for(var n=e.cd,i=e.xa,a=e.ya,o=n[0].trace,s=i.c2p(t),l=a.c2p(r),u,f=function(T){var S=Math.max(3,T.mrc||0);return Math.max(Math.abs(i.c2p(T.x)-s)-S,1-3/S)},c=function(T){var S=Math.max(3,T.mrc||0);return Math.max(Math.abs(a.c2p(T.y)-l)-S,1-3/S)},h=Qd.quadrature(f,c),v=!1,b,y,x=0;x<n.length;x++){b=n[x];for(var m=0;m<(b.pts||[]).length;m++){y=b.pts[m];var _=h(y);_<=e.distance&&(e.distance=_,v=[x,m])}}if(!v)return!1;b=n[v[0]],y=b.pts[v[1]];var g=i.c2p(y.x,!0),A=a.c2p(y.y,!0),w=y.mrc||1;u=oq.extendFlat({},e,{index:y.i,color:(o.marker||{}).color,name:o.name,x0:g-w,x1:g+w,y0:A-w,y1:A+w,spikeDistance:e.distance,hovertemplate:o.hovertemplate});var k=b.orig_p,p=k!==void 0?k:b.pos,d;o.orientation==="h"?(d=a,u.xLabelVal=y.x,u.yLabelVal=p):(d=i,u.xLabelVal=p,u.yLabelVal=y.y);var M=d._id.charAt(0);return u[M+"Spike"]=d.c2p(b.pos,!0),UQe(y,o,u),u}qse.exports={hoverPoints:jQe,hoverOnBoxes:Cse,hoverOnPoints:Dse}});var Ise=$((O4t,Rse)=>{"use strict";Rse.exports=function(t,r){return r.hoverOnBox&&(t.hoverOnBox=r.hoverOnBox),"xVal"in r&&(t.x=r.xVal),"yVal"in r&&(t.y=r.yVal),r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),t}});var lq=$((B4t,Pse)=>{"use strict";Pse.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=[],s,l;if(r===!1)for(s=0;s<n.length;s++)for(l=0;l<(n[s].pts||[]).length;l++)n[s].pts[l].selected=0;else for(s=0;s<n.length;s++)for(l=0;l<(n[s].pts||[]).length;l++){var u=n[s].pts[l],f=i.c2p(u.x),c=a.c2p(u.y);r.contains([f,c],null,u.i,t)?(o.push({pointNumber:u.i,x:i.c2d(u.x),y:a.c2d(u.y)}),u.selected=1):u.selected=0}return o}});var Nse=$((H4t,Fse)=>{"use strict";Fse.exports={attributes:l2(),layoutAttributes:u2(),supplyDefaults:c2().supplyDefaults,crossTraceDefaults:c2().crossTraceDefaults,supplyLayoutDefaults:YA().supplyLayoutDefaults,calc:rq(),crossTraceCalc:XA().crossTraceCalc,plot:ZA().plot,style:$A().style,styleOnSelect:$A().styleOnSelect,hoverPoints:sq().hoverPoints,eventData:Ise(),selectPoints:lq(),moduleType:"trace",name:"box",basePlotModule:as(),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{description:["Each box spans from quartile 1 (Q1) to quartile 3 (Q3).","The second quartile (Q2, i.e. the median) is marked by a line inside the box.","The fences grow outward from the boxes' edges,","by default they span +/- 1.5 times the interquartile range (IQR: Q3-Q1),","The sample mean and standard deviation as well as notches and","the sample, outlier and suspected outliers points can be optionally","added to the box plot.","The values and positions corresponding to each boxes can be input","using two signatures.","The first signature expects users to supply the sample values in the `y`","data array for vertical boxes (`x` for horizontal boxes).","By supplying an `x` (`y`) array, one box per distinct `x` (`y`) value is drawn","If no `x` (`y`) {array} is provided, a single box is drawn.","In this case, the box is positioned with the trace `name` or with `x0` (`y0`) if provided.","The second signature expects users to supply the boxes corresponding Q1, median and Q3","statistics in the `q1`, `median` and `q3` data arrays respectively.","Other box features relying on statistics namely `lowerfence`, `upperfence`, `notchspan`","can be set directly by the users.","To have plotly compute them or to show sample points besides the boxes,","users can set the `y` data array for vertical boxes (`x` for horizontal boxes)","to a 2D array with the outer length corresponding","to the number of boxes in the traces and the inner length corresponding the sample size."].join(" ")}}});var Ose=$((U4t,zse)=>{"use strict";zse.exports=Nse()});var Yp=$((j4t,Bse)=>{"use strict";var ec=Ps(),VQe=aa(),GQe=Ba(),uq=Ha().axisHoverFormat,YQe=Yn().hovertemplateAttrs,WQe=Yn().texttemplateAttrs,XQe=Ma(),qu=ln().extendFlat;Bse.exports=qu({z:{valType:"data_array",editType:"calc",description:"Sets the z data."},x:qu({},ec.x,{impliedEdits:{xtype:"array"}}),x0:qu({},ec.x0,{impliedEdits:{xtype:"scaled"}}),dx:qu({},ec.dx,{impliedEdits:{xtype:"scaled"}}),y:qu({},ec.y,{impliedEdits:{ytype:"array"}}),y0:qu({},ec.y0,{impliedEdits:{ytype:"scaled"}}),dy:qu({},ec.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:qu({},ec.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:qu({},ec.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:qu({},ec.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:qu({},ec.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:qu({},ec.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:qu({},ec.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc",description:"Sets the text elements associated with each z value."},hovertext:{valType:"data_array",editType:"calc",description:"Same as `text`."},transpose:{valType:"boolean",dflt:!1,editType:"calc",description:"Transposes the z data."},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes",description:["If *array*, the heatmap's x coordinates are given by *x*","(the default behavior when `x` is provided).","If *scaled*, the heatmap's x coordinates are given by *x0* and *dx*","(the default behavior when `x` is not provided)."].join(" ")},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes",description:["If *array*, the heatmap's y coordinates are given by *y*","(the default behavior when `y` is provided)","If *scaled*, the heatmap's y coordinates are given by *y0* and *dy*","(the default behavior when `y` is not provided)"].join(" ")},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc",description:["Picks a smoothing algorithm use to smooth `z` data."].join(" ")},hoverongaps:{valType:"boolean",dflt:!0,editType:"none",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data have hover labels associated with them."].join(" ")},connectgaps:{valType:"boolean",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in.","It is defaulted to true if `z` is a","one dimensional array and `zsmooth` is not false;","otherwise it is defaulted to false."].join(" ")},xgap:{valType:"number",dflt:0,min:0,editType:"plot",description:"Sets the horizontal gap (in pixels) between bricks."},ygap:{valType:"number",dflt:0,min:0,editType:"plot",description:"Sets the vertical gap (in pixels) between bricks."},xhoverformat:uq("x"),yhoverformat:uq("y"),zhoverformat:uq("z",1),hovertemplate:YQe(),texttemplate:WQe({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:GQe({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style",description:"Sets the text font."}),showlegend:qu({},VQe.showlegend,{dflt:!1})},{transforms:void 0},XQe("",{cLetter:"z",autoColorDflt:!1}))});var v2=$((V4t,Use)=>{"use strict";var ZQe=mn(),KA=pt(),$Qe=Ir();Use.exports=function(t,r,n,i,a,o){var s=n("z");a=a||"x",o=o||"y";var l,u;if(s===void 0||!s.length)return 0;if(KA.isArray1D(t.z)){l=n(a),u=n(o);var f=KA.minRowLength(l),c=KA.minRowLength(u);if(f===0||c===0)return 0;r._length=Math.min(f,c,s.length)}else{if(l=Hse(a,n),u=Hse(o,n),!KQe(s))return 0;n("transpose"),r._length=null}if(t.type==="heatmapgl")return!0;var h=$Qe.getComponentMethod("calendars","handleTraceDefaults");return h(t,r,[a,o],i),!0};function Hse(e,t){var r=t(e),n=r?t(e+"type","array"):"scaled";return n==="scaled"&&(t(e+"0"),t("d"+e)),r}function KQe(e){for(var t=!0,r=!1,n=!1,i,a=0;a<e.length;a++){if(i=e[a],!KA.isArrayOrTypedArray(i)){t=!1;break}i.length>0&&(r=!0);for(var o=0;o<i.length;o++)if(ZQe(i[o])){n=!0;break}}return t&&r&&n}});var d2=$((G4t,Vse)=>{"use strict";var jse=pt();Vse.exports=function(t,r){t("texttemplate");var n=jse.extendFlat({},r.font,{color:"auto",size:"auto"});jse.coerceFont(t,"textfont",n)}});var fq=$((Y4t,Gse)=>{"use strict";Gse.exports=function(t,r,n){var i=n("zsmooth");i===!1&&(n("xgap"),n("ygap")),n("zhoverformat")}});var Xse=$((W4t,Wse)=>{"use strict";var Yse=pt(),JQe=v2(),QQe=d2(),eet=Ph(),tet=fq(),ret=$s(),net=Yp();Wse.exports=function(t,r,n,i){function a(s,l){return Yse.coerce(t,r,net,s,l)}var o=JQe(t,r,a,i);if(!o){r.visible=!1;return}eet(t,r,i,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),QQe(a,i),tet(t,r,a,i),a("hoverongaps"),a("connectgaps",Yse.isArray1D(r.z)&&r.zsmooth!==!1),ret(t,r,i,a,{prefix:"",cLetter:"z"})}});var cq=$((X4t,Zse)=>{"use strict";var Em=mn();Zse.exports={count:function(e,t,r){return r[e]++,1},sum:function(e,t,r,n){var i=n[t];return Em(i)?(i=Number(i),r[e]+=i,i):0},avg:function(e,t,r,n,i){var a=n[t];return Em(a)&&(a=Number(a),r[e]+=a,i[e]++),0},min:function(e,t,r,n){var i=n[t];if(Em(i))if(i=Number(i),Em(r[e])){if(r[e]>i){var a=i-r[e];return r[e]=i,a}}else return r[e]=i,i;return 0},max:function(e,t,r,n){var i=n[t];if(Em(i))if(i=Number(i),Em(r[e])){if(r[e]<i){var a=i-r[e];return r[e]=i,a}}else return r[e]=i,i;return 0}}});var hq=$((Z4t,$se)=>{"use strict";$se.exports={percent:function(e,t){for(var r=e.length,n=100/t,i=0;i<r;i++)e[i]*=n},probability:function(e,t){for(var r=e.length,n=0;n<r;n++)e[n]/=t},density:function(e,t,r,n){var i=e.length;n=n||1;for(var a=0;a<i;a++)e[a]*=r[a]*n},"probability density":function(e,t,r,n){var i=e.length;n&&(t/=n);for(var a=0;a<i;a++)e[a]*=r[a]/t}}});var vq=$(($4t,Kse)=>{"use strict";Kse.exports=function(t,r){for(var n=t.length,i=0,a=0;a<n;a++)r[a]?(t[a]/=r[a],i+=t[a]):t[a]=null;return i}});var dq=$((K4t,ale)=>{"use strict";var Lm=Zn(),Wp=Lm.ONEAVGYEAR,Jse=Lm.ONEAVGMONTH,QA=Lm.ONEDAY,Qse=Lm.ONEHOUR,ele=Lm.ONEMIN,tle=Lm.ONESEC,rle=tn().tickIncrement;ale.exports=function(t,r,n,i,a){var o=-1.1*r,s=-.1*r,l=t-s,u=n[0],f=n[1],c=Math.min(JA(u+s,u+l,i,a),JA(f+s,f+l,i,a)),h=Math.min(JA(u+o,u+s,i,a),JA(f+o,f+s,i,a)),v,b;if(c>h&&h<Math.abs(f-u)/4e3?(v=c,b=!1):(v=Math.min(c,h),b=!0),i.type==="date"&&v>QA){var y=v===Wp?1:6,x=v===Wp?"M12":"M1";return function(m,_){var g=i.c2d(m,Wp,a),A=g.indexOf("-",y);A>0&&(g=g.substr(0,A));var w=i.d2c(g,0,a);if(w<m){var k=rle(w,x,!1,a);(w+k)/2<m+t&&(w=k)}return _&&b?rle(w,x,!0,a):w}}return function(m,_){var g=v*Math.round(m/v);return g+v/10<m&&g+v*.9<m+t&&(g+=v),_&&b&&(g-=v),g}};function JA(e,t,r,n){if(e*t<=0)return 1/0;for(var i=Math.abs(t-e),a=r.type==="date",o=nle(i,a),s=0;s<10;s++){var l=nle(o*80,a);if(o===l)break;if(iet(l,e,t,a,r,n))o=l;else break}return o}function nle(e,t){return t&&e>tle?e>QA?e>Wp*1.1?Wp:e>Jse*1.1?Jse:QA:e>Qse?Qse:e>ele?ele:tle:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function iet(e,t,r,n,i,a){if(n&&e>QA){var o=ile(t,i,a),s=ile(r,i,a),l=e===Wp?0:1;return o[l]!==s[l]}return Math.floor(r/e)-Math.floor(t/e)>.1}function ile(e,t,r){var n=t.c2d(e,Wp,r).split("-");return n[0]===""&&(n.unshift(),n[0]="-"+n[0]),n}});var mq=$((J4t,lle)=>{"use strict";var pq=mn(),kl=pt(),ole=Ir(),tc=tn(),aet=t2(),sle=cq(),oet=hq(),set=vq(),uet=dq();function fet(e,t){var r=[],n=[],i=t.orientation==="h",a=tc.getFromId(e,i?t.yaxis:t.xaxis),o=i?"y":"x",s={x:"y",y:"x"}[o],l=t[o+"calendar"],u=t.cumulative,f,c=gq(e,t,a,o),h=c[0],v=c[1],b=typeof h.size=="string",y=[],x=b?y:h,m=[],_=[],g=[],A=0,w=t.histnorm,k=t.histfunc,p=w.indexOf("density")!==-1,d,M,T;u.enabled&&p&&(w=w.replace(/ ?density$/,""),p=!1);var S=k==="max"||k==="min",E=S?null:0,L=sle.count,D=oet[w],R=!1,q=function(G){return a.r2c(G,0,l)},C;for(kl.isArrayOrTypedArray(t[s])&&k!=="count"&&(C=t[s],R=k==="avg",L=sle[k]),f=q(h.start),M=q(h.end)+(f-tc.tickIncrement(f,h.size,!1,l))/1e6;f<M&&r.length<1e6&&(d=tc.tickIncrement(f,h.size,!1,l),r.push((f+d)/2),n.push(E),g.push([]),y.push(f),p&&m.push(1/(d-f)),R&&_.push(0),!(d<=f));)f=d;y.push(f),!b&&a.type==="date"&&(x={start:q(x.start),end:q(x.end),size:x.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var F=t["_"+o+"bingroup"],N={leftGap:1/0,rightGap:1/0};F&&(e._fullLayout._roundFnOpts[F]||(e._fullLayout._roundFnOpts[F]=N),N=e._fullLayout._roundFnOpts[F]);var U=n.length,V=!0,Y=N.leftGap,K=N.rightGap,B={};for(f=0;f<v.length;f++){var z=v[f];T=kl.findBin(z,x),T>=0&&T<U&&(A+=L(T,f,n,C,_),V&&g[T].length&&z!==v[g[T][0]]&&(V=!1),g[T].push(f),B[f]=T,Y=Math.min(Y,z-y[T]),K=Math.min(K,y[T+1]-z))}N.leftGap=Y,N.rightGap=K;var j;V||(j=function(G,Z){return function(){var X=e._fullLayout._roundFnOpts[F];return uet(X.leftGap,X.rightGap,y,a,l)(G,Z)}}),R&&(A=set(n,_)),D&&D(n,A,m),u.enabled&&vet(n,u.direction,u.currentbin);var ae=Math.min(r.length,n.length),ee=[],ve=0,fe=ae-1;for(f=0;f<ae;f++)if(n[f]){ve=f;break}for(f=ae-1;f>=ve;f--)if(n[f]){fe=f;break}for(f=ve;f<=fe;f++)if(pq(r[f])&&pq(n[f])){var se={p:r[f],s:n[f],b:0};u.enabled||(se.pts=g[f],V?se.ph0=se.ph1=g[f].length?v[g[f][0]]:r[f]:(t._computePh=!0,se.ph0=j(y[f]),se.ph1=j(y[f+1],!0))),ee.push(se)}return ee.length===1&&(ee[0].width1=tc.tickIncrement(ee[0].p,h.size,!1,l)-ee[0].p),aet(ee,t),kl.isArrayOrTypedArray(t.selectedpoints)&&kl.tagSelected(ee,t,B),ee}function gq(e,t,r,n,i){var a=n+"bins",o=e._fullLayout,s=t["_"+n+"bingroup"],l=o._histogramBinOpts[s],u=o.barmode==="overlay",f,c,h,v,b,y,x,m=function(z){return r.r2c(z,0,v)},_=function(z){return r.c2r(z,0,v)},g=r.type==="date"?function(z){return z||z===0?kl.cleanDate(z,null,v):null}:function(z){return pq(z)?Number(z):null};function A(z,j,ae){j[z+"Found"]?(j[z]=g(j[z]),j[z]===null&&(j[z]=ae[z])):(y[z]=j[z]=ae[z],kl.nestedProperty(c[0],a+"."+z).set(ae[z]))}if(t["_"+n+"autoBinFinished"])delete t["_"+n+"autoBinFinished"];else{c=l.traces;var w=[],k=!0,p=!1,d=!1;for(f=0;f<c.length;f++)if(h=c[f],h.visible){var M=l.dirs[f];b=h["_"+M+"pos0"]=r.makeCalcdata(h,M),w=kl.concat(w,b),delete h["_"+n+"autoBinFinished"],t.visible===!0&&(k?k=!1:(delete h._autoBin,h["_"+n+"autoBinFinished"]=1),ole.traceIs(h,"2dMap")&&(p=!0),h.type==="histogram2dcontour"&&(d=!0))}v=c[0][n+"calendar"];var T=tc.autoBin(w,r,l.nbins,p,v,l.sizeFound&&l.size),S=c[0]._autoBin={};if(y=S[l.dirs[0]]={},d&&(l.size||(T.start=_(tc.tickIncrement(m(T.start),T.size,!0,v))),l.end===void 0&&(T.end=_(tc.tickIncrement(m(T.end),T.size,!1,v)))),u&&!ole.traceIs(t,"2dMap")&&T._dataSpan===0&&r.type!=="category"&&r.type!=="multicategory"){if(i)return[T,b,!0];T=cet(e,t,r,n,a)}x=h.cumulative||{},x.enabled&&x.currentbin!=="include"&&(x.direction==="decreasing"?T.start=_(tc.tickIncrement(m(T.start),T.size,!0,v)):T.end=_(tc.tickIncrement(m(T.end),T.size,!1,v))),l.size=T.size,l.sizeFound||(y.size=T.size,kl.nestedProperty(c[0],a+".size").set(T.size)),A("start",l,T),A("end",l,T)}b=t["_"+n+"pos0"],delete t["_"+n+"pos0"];var E=t._input[a]||{},L=kl.extendFlat({},l),D=l.start,R=r.r2l(E.start),q=R!==void 0;if((l.startFound||q)&&R!==r.r2l(D)){var C=q?R:kl.aggNums(Math.min,null,b),F={type:r.type==="category"||r.type==="multicategory"?"linear":r.type,r2l:r.r2l,dtick:l.size,tick0:D,calendar:v,range:[C,tc.tickIncrement(C,l.size,!1,v)].map(r.l2r)},N=tc.tickFirst(F);N>r.r2l(C)&&(N=tc.tickIncrement(N,l.size,!0,v)),L.start=r.l2r(N),q||kl.nestedProperty(t,a+".start").set(L.start)}var U=l.end,V=r.r2l(E.end),Y=V!==void 0;if((l.endFound||Y)&&V!==r.r2l(U)){var K=Y?V:kl.aggNums(Math.max,null,b);L.end=r.l2r(K),Y||kl.nestedProperty(t,a+".start").set(L.end)}var B="autobin"+n;return t._input[B]===!1&&(t._input[a]=kl.extendFlat({},t[a]||{}),delete t._input[B],delete t[B]),[L,b]}function cet(e,t,r,n,i){var a=e._fullLayout,o=het(e,t),s=!1,l=1/0,u=[t],f,c,h;for(f=0;f<o.length;f++)if(c=o[f],c===t)s=!0;else if(!s)h=a._histogramBinOpts[c["_"+n+"bingroup"]],l=Math.min(l,h.size||c[i].size);else{var v=gq(e,c,r,n,!0),b=v[0],y=v[2];c["_"+n+"autoBinFinished"]=1,c["_"+n+"pos0"]=v[1],y?u.push(c):l=Math.min(l,b.size)}var x=new Array(u.length);for(f=0;f<u.length;f++)for(var m=u[f]["_"+n+"pos0"],_=0;_<m.length;_++)if(m[_]!==void 0){x[f]=m[_];break}for(isFinite(l)||(l=kl.distinctVals(x).minDiff),f=0;f<u.length;f++){c=u[f];var g=c[n+"calendar"],A={start:r.c2r(x[f]-l/2,0,g),end:r.c2r(x[f]+l/2,0,g),size:l};c._input[i]=c[i]=A,h=a._histogramBinOpts[c["_"+n+"bingroup"]],h&&kl.extendFlat(h,A)}return t[i]}function het(e,t){for(var r=t.xaxis,n=t.yaxis,i=t.orientation,a=[],o=e._fullData,s=0;s<o.length;s++){var l=o[s];l.type==="histogram"&&l.visible===!0&&l.orientation===i&&l.xaxis===r&&l.yaxis===n&&a.push(l)}return a}function vet(e,t,r){var n,i,a;function o(l){a=e[l],e[l]/=2}function s(l){i=e[l],e[l]=a+i/2,a+=i}if(r==="half")if(t==="increasing")for(o(0),n=1;n<e.length;n++)s(n);else for(o(e.length-1),n=e.length-2;n>=0;n--)s(n);else if(t==="increasing"){for(n=1;n<e.length;n++)e[n]+=e[n-1];r==="exclude"&&(e.unshift(0),e.pop())}else{for(n=e.length-2;n>=0;n--)e[n]+=e[n+1];r==="exclude"&&(e.push(0),e.shift())}}lle.exports={calc:fet,calcAllAutoBins:gq}});var gle=$((Q4t,ple)=>{"use strict";var ule=pt(),Cm=tn(),fle=cq(),det=hq(),pet=vq(),get=dq(),cle=mq().calcAllAutoBins;ple.exports=function(t,r){var n=Cm.getFromId(t,r.xaxis),i=Cm.getFromId(t,r.yaxis),a=r.xcalendar,o=r.ycalendar,s=function(oe){return n.r2c(oe,0,a)},l=function(oe){return i.r2c(oe,0,o)},u=function(oe){return n.c2r(oe,0,a)},f=function(oe){return i.c2r(oe,0,o)},c,h,v,b,y=cle(t,r,n,"x"),x=y[0],m=y[1],_=cle(t,r,i,"y"),g=_[0],A=_[1],w=r._length;m.length>w&&m.splice(w,m.length-w),A.length>w&&A.splice(w,A.length-w);var k=[],p=[],d=[],M=typeof x.size=="string",T=typeof g.size=="string",S=[],E=[],L=M?S:x,D=T?E:g,R=0,q=[],C=[],F=r.histnorm,N=r.histfunc,U=F.indexOf("density")!==-1,V=N==="max"||N==="min",Y=V?null:0,K=fle.count,B=det[F],z=!1,j=[],ae=[],ee="z"in r?r.z:"marker"in r&&Array.isArray(r.marker.color)?r.marker.color:"";ee&&N!=="count"&&(z=N==="avg",K=fle[N]);var ve=x.size,fe=s(x.start),se=s(x.end)+(fe-Cm.tickIncrement(fe,ve,!1,a))/1e6;for(c=fe;c<se;c=Cm.tickIncrement(c,ve,!1,a))p.push(Y),S.push(c),z&&d.push(0);S.push(c);var G=p.length,Z=(c-fe)/G,X=u(fe+Z/2),ge=g.size,qe=l(g.start),Pe=l(g.end)+(qe-Cm.tickIncrement(qe,ge,!1,o))/1e6;for(c=qe;c<Pe;c=Cm.tickIncrement(c,ge,!1,o)){k.push(p.slice()),E.push(c);var Oe=new Array(G);for(h=0;h<G;h++)Oe[h]=[];C.push(Oe),z&&q.push(d.slice())}E.push(c);var de=k.length,_e=(c-qe)/de,ce=f(qe+_e/2);U&&(j=hle(p.length,L,Z,M),ae=hle(k.length,D,_e,T)),!M&&n.type==="date"&&(L=vle(s,L)),!T&&i.type==="date"&&(D=vle(l,D));var J=!0,ne=!0,be=new Array(G),Fe=new Array(de),He=1/0,te=1/0,ye=1/0,Te=1/0;for(c=0;c<w;c++){var Ce=m[c],De=A[c];v=ule.findBin(Ce,L),b=ule.findBin(De,D),v>=0&&v<G&&b>=0&&b<de&&(R+=K(v,c,k[b],ee,q[b]),C[b][v].push(c),J&&(be[v]===void 0?be[v]=Ce:be[v]!==Ce&&(J=!1)),ne&&(Fe[b]===void 0?Fe[b]=De:Fe[b]!==De&&(ne=!1)),He=Math.min(He,Ce-S[v]),te=Math.min(te,S[v+1]-Ce),ye=Math.min(ye,De-E[b]),Te=Math.min(Te,E[b+1]-De))}if(z)for(b=0;b<de;b++)R+=pet(k[b],q[b]);if(B)for(b=0;b<de;b++)B(k[b],R,j,ae[b]);return{x:m,xRanges:dle(S,J&&be,He,te,n,a),x0:X,dx:Z,y:A,yRanges:dle(E,ne&&Fe,ye,Te,i,o),y0:ce,dy:_e,z:k,pts:C}};function hle(e,t,r,n){var i=new Array(e),a;if(n)for(a=0;a<e;a++)i[a]=1/(t[a+1]-t[a]);else{var o=1/r;for(a=0;a<e;a++)i[a]=o}return i}function vle(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function dle(e,t,r,n,i,a){var o,s=e.length-1,l=new Array(s),u=get(r,n,e,i,a);for(o=0;o<s;o++){var f=(t||[])[o];l[o]=f===void 0?[u(e[o]),u(e[o+1],!0)]:[f,f]}return l}});var eM=$((eEt,xle)=>{"use strict";var Oh=pt(),mle=Zn().BADNUM,yle=Fh();xle.exports=function(t,r,n,i,a,o){var s=t._length,l=r.makeCalcdata(t,i),u=n.makeCalcdata(t,a);l=yle(t,r,i,l).vals,u=yle(t,n,a,u).vals;var f=t.text,c=f!==void 0&&Oh.isArray1D(f),h=t.hovertext,v=h!==void 0&&Oh.isArray1D(h),b,y,x=Oh.distinctVals(l),m=x.vals,_=Oh.distinctVals(u),g=_.vals,A=[],w,k,p=g.length,d=m.length;for(b=0;b<o.length;b++)A[b]=Oh.init2dArray(p,d);c&&(w=Oh.init2dArray(p,d)),v&&(k=Oh.init2dArray(p,d));var M=Oh.init2dArray(p,d);for(b=0;b<s;b++)if(l[b]!==mle&&u[b]!==mle){var T=Oh.findBin(l[b]+x.minDiff/2,m),S=Oh.findBin(u[b]+_.minDiff/2,g);for(y=0;y<o.length;y++){var E=o[y],L=t[E],D=A[y];D[S][T]=L[b],M[S][T]=b}c&&(w[S][T]=f[b]),v&&(k[S][T]=h[b])}for(t["_"+i]=m,t["_"+a]=g,y=0;y<o.length;y++)t["_"+o[y]]=A[y];c&&(t._text=w),v&&(t._hovertext=k),r&&r.type==="category"&&(t["_"+i+"CategoryMap"]=m.map(function(R){return r._categories[R]})),n&&n.type==="category"&&(t["_"+a+"CategoryMap"]=g.map(function(R){return n._categories[R]})),t._after2before=M}});var rM=$((tEt,ble)=>{"use strict";var met=mn(),yet=pt(),tM=Zn().BADNUM;ble.exports=function(t,r,n,i){var a,o,s,l,u,f;function c(m){if(met(m))return+m}if(r&&r.transpose){for(a=0,u=0;u<t.length;u++)a=Math.max(a,t[u].length);if(a===0)return!1;s=function(m){return m.length},l=function(m,_,g){return(m[g]||[])[_]}}else a=t.length,s=function(m,_){return m[_].length},l=function(m,_,g){return(m[_]||[])[g]};var h=function(m,_,g){return _===tM||g===tM?tM:l(m,_,g)};function v(m){if(r&&r.type!=="carpet"&&r.type!=="contourcarpet"&&m&&m.type==="category"&&r["_"+m._id.charAt(0)].length){var _=m._id.charAt(0),g={},A=r["_"+_+"CategoryMap"]||r[_];for(u=0;u<A.length;u++)g[A[u]]=u;return function(w){var k=g[m._categories[w]];return k+1?k:tM}}else return yet.identity}var b=v(n),y=v(i);i&&i.type==="category"&&(a=i._categories.length);var x=new Array(a);for(u=0;u<a;u++)for(n&&n.type==="category"?o=n._categories.length:o=s(t,u),x[u]=new Array(o),f=0;f<o;f++)x[u][f]=c(h(t,y(u),b(f)));return x}});var nM=$((rEt,Tle)=>{"use strict";var xet=pt(),wle=.01,bet=[[-1,0],[1,0],[0,-1],[0,1]];function wet(e){return .5-.25*Math.min(1,e*.5)}Tle.exports=function(t,r){var n=1,i;for(_le(t,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&n>wle;i++)n=_le(t,r,wet(n));return n>wle&&xet.log("interp2d didn't converge quickly",n),t};function _le(e,t,r){var n=0,i,a,o,s,l,u,f,c,h,v,b,y,x;for(s=0;s<t.length;s++){for(i=t[s],a=i[0],o=i[1],b=e[a][o],v=0,h=0,l=0;l<4;l++)u=bet[l],f=e[a+u[0]],f&&(c=f[o+u[1]],c!==void 0&&(v===0?y=x=c:(y=Math.min(y,c),x=Math.max(x,c)),h++,v+=c));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[a][o]=v/h,b===void 0?h<4&&(n=1):(e[a][o]=(1+r)*e[a][o]-r*b,x>y&&(n=Math.max(n,Math.abs(e[a][o]-b)/(x-y))))}return n}});var iM=$((nEt,Ale)=>{"use strict";var _et=pt().maxRowLength;Ale.exports=function(t){var r=[],n={},i=[],a=t[0],o=[],s=[0,0,0],l=_et(t),u,f,c,h,v,b,y,x;for(f=0;f<t.length;f++)for(u=o,o=a,a=t[f+1]||[],c=0;c<l;c++)o[c]===void 0&&(b=(o[c-1]!==void 0?1:0)+(o[c+1]!==void 0?1:0)+(u[c]!==void 0?1:0)+(a[c]!==void 0?1:0),b?(f===0&&b++,c===0&&b++,f===t.length-1&&b++,c===o.length-1&&b++,b<4&&(n[[f,c]]=[f,c,b]),r.push([f,c,b])):i.push([f,c]));for(;i.length;){for(y={},x=!1,v=i.length-1;v>=0;v--)h=i[v],f=h[0],c=h[1],b=((n[[f-1,c]]||s)[2]+(n[[f+1,c]]||s)[2]+(n[[f,c-1]]||s)[2]+(n[[f,c+1]]||s)[2])/20,b&&(y[h]=[f,c,b],i.splice(v,1),x=!0);if(!x)throw"findEmpties iterated with no new neighbors";for(h in y)n[h]=y[h],r.push(y[h])}return r.sort(function(m,_){return _[2]-m[2]})}});var xq=$((iEt,kle)=>{"use strict";var yq=Ir(),Mle=pt().isArrayOrTypedArray;kle.exports=function(t,r,n,i,a,o){var s=[],l=yq.traceIs(t,"contour"),u=yq.traceIs(t,"histogram"),f=yq.traceIs(t,"gl2d"),c,h,v,b=Mle(r)&&r.length>1;if(b&&!u&&o.type!=="category"){var y=r.length;if(y<=a){if(l||f)s=r.slice(0,a);else if(a===1)s=[r[0]-.5,r[0]+.5];else{for(s=[1.5*r[0]-.5*r[1]],v=1;v<y;v++)s.push((r[v-1]+r[v])*.5);s.push(1.5*r[y-1]-.5*r[y-2])}if(y<a){var x=s[s.length-1],m=x-s[s.length-2];for(v=y;v<a;v++)x+=m,s.push(x)}}else return l?r.slice(0,a):r.slice(0,a+1)}else{var _=t[o._id.charAt(0)+"calendar"];if(u)c=o.r2c(n,0,_);else if(Mle(r)&&r.length===1)c=r[0];else if(n===void 0)c=0;else{var g=o.type==="log"?o.d2c:o.r2c;c=g(n,0,_)}for(h=i||1,v=l||f?0:-.5;v<a;v++)s.push(c+h*v)}return s}});var p2=$((aEt,Lle)=>{"use strict";var bq=Ir(),wq=pt(),aM=tn(),Sle=Fh(),Tet=gle(),Aet=ku(),Met=eM(),ket=rM(),Set=nM(),Eet=iM(),oM=xq(),_q=Zn().BADNUM;Lle.exports=function(t,r){var n=aM.getFromId(t,r.xaxis||"x"),i=aM.getFromId(t,r.yaxis||"y"),a=bq.traceIs(r,"contour"),o=bq.traceIs(r,"histogram"),s=bq.traceIs(r,"gl2d"),l=a?"best":r.zsmooth,u,f,c,h,v,b,y,x,m,_,g;if(n._minDtick=0,i._minDtick=0,o)g=Tet(t,r),h=g.orig_x,u=g.x,f=g.x0,c=g.dx,x=g.orig_y,v=g.y,b=g.y0,y=g.dy,m=g.z;else{var A=r.z;wq.isArray1D(A)?(Met(r,n,i,"x","y",["z"]),u=r._x,v=r._y,A=r._z):(h=r.x?n.makeCalcdata(r,"x"):[],x=r.y?i.makeCalcdata(r,"y"):[],u=Sle(r,n,"x",h).vals,v=Sle(r,i,"y",x).vals,r._x=u,r._y=v),f=r.x0,c=r.dx,b=r.y0,y=r.dy,m=ket(A,r,n,i)}(n.rangebreaks||i.rangebreaks)&&(m=Let(u,v,m),o||(u=Ele(u),v=Ele(v),r._x=u,r._y=v)),!o&&(a||r.connectgaps)&&(r._emptypoints=Eet(m),Set(m,r._emptypoints));function w(C){l=r._input.zsmooth=r.zsmooth=!1,wq.warn('cannot use zsmooth: "fast": '+C)}if(l==="fast"){if(n.type==="log"||i.type==="log")w("log axis found");else if(!o){if(u.length){var k=(u[u.length-1]-u[0])/(u.length-1),p=Math.abs(k/100);for(_=0;_<u.length-1;_++)if(Math.abs(u[_+1]-u[_]-k)>p){w("x scale is not linear");break}}if(v.length&&l==="fast"){var d=(v[v.length-1]-v[0])/(v.length-1),M=Math.abs(d/100);for(_=0;_<v.length-1;_++)if(Math.abs(v[_+1]-v[_]-d)>M){w("y scale is not linear");break}}}}var T=wq.maxRowLength(m),S=r.xtype==="scaled"?"":u,E=oM(r,S,f,c,T,n),L=r.ytype==="scaled"?"":v,D=oM(r,L,b,y,m.length,i);s||(r._extremes[n._id]=aM.findExtremes(n,E),r._extremes[i._id]=aM.findExtremes(i,D));var R={x:E,y:D,z:m,text:r._text||r.text,hovertext:r._hovertext||r.hovertext};if(r.xperiodalignment&&h&&(R.orig_x=h),r.yperiodalignment&&x&&(R.orig_y=x),S&&S.length===E.length-1&&(R.xCenter=S),L&&L.length===D.length-1&&(R.yCenter=L),o&&(R.xRanges=g.xRanges,R.yRanges=g.yRanges,R.pts=g.pts),a||Aet(t,r,{vals:m,cLetter:"z"}),a&&r.contours&&r.contours.coloring==="heatmap"){var q={type:r.type==="contour"?"heatmap":"histogram2d",xcalendar:r.xcalendar,ycalendar:r.ycalendar};R.xfill=oM(q,S,f,c,T,n),R.yfill=oM(q,L,b,y,m.length,i)}return[R]};function Ele(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e[n];i!==_q&&t.push(i)}return t}function Let(e,t,r){for(var n=[],i=-1,a=0;a<r.length;a++)if(t[a]!==_q){i++,n[i]=[];for(var o=0;o<r[a].length;o++)e[o]!==_q&&n[i].push(r[a][o])}return n}});var sM=$((oEt,zle)=>{"use strict";var Cle=Nr(),Cet=Ko(),Det=Ir(),qet=un(),Ret=tn(),rc=pt(),Dle=Ta(),Iet=z6(),Pet=Rr(),Fet=Wa().extractOpts,Net=Wa().makeColorScaleFuncFromTrace,zet=kh(),Oet=es(),Tq=Oet.LINE_SPACING,Fle="heatmap-label";function Nle(e){return e.selectAll("g."+Fle)}function qle(e){Nle(e).remove()}zle.exports=function(e,t,r,n){var i=t.xaxis,a=t.yaxis;rc.makeTraceGroups(n,r,"hm").each(function(o){var s=Cle.select(this),l=o[0],u=l.trace,f=u.xgap||0,c=u.ygap||0,h=l.z,v=l.x,b=l.y,y=l.xCenter,x=l.yCenter,m=Det.traceIs(u,"contour"),_=m?"best":u.zsmooth,g=h.length,A=rc.maxRowLength(h),w=!1,k=!1,p,d,M,T,S,E,L,D;for(E=0;p===void 0&&E<v.length-1;)p=i.c2p(v[E]),E++;for(E=v.length-1;d===void 0&&E>0;)d=i.c2p(v[E]),E--;for(d<p&&(M=d,d=p,p=M,w=!0),E=0;T===void 0&&E<b.length-1;)T=a.c2p(b[E]),E++;for(E=b.length-1;S===void 0&&E>0;)S=a.c2p(b[E]),E--;if(S<T&&(M=T,T=S,S=M,k=!0),m&&(y=v,x=b,v=l.xfill,b=l.yfill),_!=="fast"){var R=_==="best"?0:.5;p=Math.max(-R*i._length,p),d=Math.min((1+R)*i._length,d),T=Math.max(-R*a._length,T),S=Math.min((1+R)*a._length,S)}var q=Math.round(d-p),C=Math.round(S-T),F=q<=0||C<=0;if(F){var N=s.selectAll("image").data([]);N.exit().remove(),qle(s);return}var U,V;_==="fast"?(U=A,V=g):(U=q,V=C);var Y=document.createElement("canvas");Y.width=U,Y.height=V;var K=Y.getContext("2d"),B=Net(u,{noNumericCheck:!0,returnArray:!0}),z,j;_==="fast"?(z=w?function(xn){return A-1-xn}:rc.identity,j=k?function(xn){return g-1-xn}:rc.identity):(z=function(xn){return rc.constrain(Math.round(i.c2p(v[xn])-p),0,q)},j=function(xn){return rc.constrain(Math.round(a.c2p(b[xn])-T),0,C)});var ae=j(0),ee=[ae,ae],ve=w?0:1,fe=k?0:1,se=0,G=0,Z=0,X=0,ge,qe,Pe,Oe,de;function _e(xn,ia){if(xn!==void 0){var ti=B(xn);return ti[0]=Math.round(ti[0]),ti[1]=Math.round(ti[1]),ti[2]=Math.round(ti[2]),se+=ia,G+=ti[0]*ia,Z+=ti[1]*ia,X+=ti[2]*ia,ti}return[0,0,0,0]}function ce(xn,ia,ti,co){var fa=xn[ti.bin0];if(fa===void 0)return _e(void 0,1);var Ea=xn[ti.bin1],Qn=ia[ti.bin0],Ki=ia[ti.bin1],ho=Ea-fa||0,ja=Qn-fa||0,Ji;return Ea===void 0?Ki===void 0?Ji=0:Qn===void 0?Ji=2*(Ki-fa):Ji=(2*Ki-Qn-fa)*2/3:Ki===void 0?Qn===void 0?Ji=0:Ji=(2*fa-Ea-Qn)*2/3:Qn===void 0?Ji=(2*Ki-Ea-fa)*2/3:Ji=Ki+fa-Ea-Qn,_e(fa+ti.frac*ho+co.frac*(ja+ti.frac*Ji))}if(_){var J=0,ne;try{ne=new Uint8Array(q*C*4)}catch{ne=new Array(q*C*4)}if(_==="best"){var be=y||v,Fe=x||b,He=new Array(be.length),te=new Array(Fe.length),ye=new Array(q),Te=y?Ile:Rle,Ce=x?Ile:Rle,De,oe,pe;for(E=0;E<be.length;E++)He[E]=Math.round(i.c2p(be[E])-p);for(E=0;E<Fe.length;E++)te[E]=Math.round(a.c2p(Fe[E])-T);for(E=0;E<q;E++)ye[E]=Te(E,He);for(L=0;L<C;L++)for(De=Ce(L,te),oe=h[De.bin0],pe=h[De.bin1],E=0;E<q;E++,J+=4)de=ce(oe,pe,ye[E],De),Ple(ne,J,de)}else for(L=0;L<g;L++)for(Oe=h[L],ee=j(L),E=0;E<q;E++)de=_e(Oe[E],1),J=(ee*q+z(E))*4,Ple(ne,J,de);var Le=K.createImageData(q,C);try{Le.data.set(ne)}catch{var Ue=Le.data,et=Ue.length;for(L=0;L<et;L++)Ue[L]=ne[L]}K.putImageData(Le,0,0)}else{var Qe=Math.floor(f/2),dt=Math.floor(c/2);for(L=0;L<g;L++)if(Oe=h[L],ee.reverse(),ee[fe]=j(L+1),!(ee[0]===ee[1]||ee[0]===void 0||ee[1]===void 0))for(qe=z(0),ge=[qe,qe],E=0;E<A;E++)ge.reverse(),ge[ve]=z(E+1),!(ge[0]===ge[1]||ge[0]===void 0||ge[1]===void 0)&&(Pe=Oe[E],de=_e(Pe,(ge[1]-ge[0])*(ee[1]-ee[0])),K.fillStyle="rgba("+de.join(",")+")",K.fillRect(ge[0]+Qe,ee[0]+dt,ge[1]-ge[0]-f,ee[1]-ee[0]-c))}G=Math.round(G/se),Z=Math.round(Z/se),X=Math.round(X/se);var ht=Cet("rgb("+G+","+Z+","+X+")");e._hmpixcount=(e._hmpixcount||0)+se,e._hmlumcount=(e._hmlumcount||0)+se*ht.getLuminance();var _t=s.selectAll("image").data(o);_t.enter().append("svg:image").attr({xmlns:zet.svg,preserveAspectRatio:"none"}),_t.attr({height:C,width:q,x:p,y:T,"xlink:href":Y.toDataURL("image/png")}),qle(s);var kt=u.texttemplate;if(kt){var St=Fet(u),Ot={type:"linear",range:[St.min,St.max],_separators:i._separators,_numFormat:i._numFormat},je=u.type==="histogram2dcontour",Ve=u.type==="contour",Je=Ve?1:0,nt=Ve?g-1:g,Be=Ve?1:0,tt=Ve?A-1:A,ot=[];for(E=Je;E<nt;E++){var yt;if(Ve)yt=l.y[E];else if(je){if(E===0||E===g-1)continue;yt=l.y[E]}else if(l.yCenter)yt=l.yCenter[E];else{if(E+1===g&&l.y[E+1]===void 0)continue;yt=(l.y[E]+l.y[E+1])/2}var Ht=Math.round(a.c2p(yt));if(!(0>Ht||Ht>a._length))for(L=Be;L<tt;L++){var Lt;if(Ve)Lt=l.x[L];else if(je){if(L===0||L===A-1)continue;Lt=l.x[L]}else if(l.xCenter)Lt=l.xCenter[L];else{if(L+1===A&&l.x[L+1]===void 0)continue;Lt=(l.x[L]+l.x[L+1])/2}var tr=Math.round(i.c2p(Lt));if(!(0>tr||tr>i._length)){var rr=Iet({x:Lt,y:yt},u,e._fullLayout);rr.x=Lt,rr.y=yt;var Ct=l.z[E][L];Ct===void 0?(rr.z="",rr.zLabel=""):(rr.z=Ct,rr.zLabel=Ret.tickText(Ot,Ct,"hover").text);var Zt=l.text&&l.text[E]&&l.text[E][L];(Zt===void 0||Zt===!1)&&(Zt=""),rr.text=Zt;var Sr=rc.texttemplateString(kt,rr,e._fullLayout._d3locale,rr,u._meta||{});if(Sr){var gr=Sr.split("<br>"),Lr=gr.length,en=0;for(D=0;D<Lr;D++)en=Math.max(en,gr[D].length);ot.push({l:Lr,c:en,t:Sr,x:tr,y:Ht,z:Ct})}}}}var Or=u.textfont,vn=Or.family,qn=Or.size,Kr=e._fullLayout.font.size;if(!qn||qn==="auto"){var Qr=1/0,kn=1/0,Vn=0,Tn=0;for(D=0;D<ot.length;D++){var Nn=ot[D];if(Vn=Math.max(Vn,Nn.l),Tn=Math.max(Tn,Nn.c),D<ot.length-1){var ci=ot[D+1],On=Math.abs(ci.x-Nn.x),Sn=Math.abs(ci.y-Nn.y);On&&(Qr=Math.min(Qr,On)),Sn&&(kn=Math.min(kn,Sn))}}!isFinite(Qr)||!isFinite(kn)?qn=Kr:(Qr-=f,kn-=c,Qr/=Tn,kn/=Vn,Qr/=Tq/2,kn/=Tq,qn=Math.min(Math.floor(Qr),Math.floor(kn),Kr))}if(qn<=0||!isFinite(qn))return;var _i=function(xn){return xn.x},ua=function(xn){return xn.y-qn*(xn.l*Tq/2-1)},Yi=Nle(s).data(ot);Yi.enter().append("g").classed(Fle,1).append("text").attr("text-anchor","middle").each(function(xn){var ia=Cle.select(this),ti=Or.color;(!ti||ti==="auto")&&(ti=Pet.contrast("rgba("+B(xn.z).join()+")")),ia.attr("data-notex",1).call(Dle.positionText,_i(xn),ua(xn)).call(qet.font,vn,qn,ti).text(xn.t).call(Dle.convertToTspans,e)})}})};function Rle(e,t){var r=t.length-2,n=rc.constrain(rc.findBin(e,t),0,r),i=t[n],a=t[n+1],o=rc.constrain(n+(e-i)/(a-i)-.5,0,r),s=Math.round(o),l=Math.abs(o-s);return!o||o===r||!l?{bin0:s,bin1:s,frac:0}:{bin0:s,frac:l,bin1:Math.round(s+l/(o-s))}}function Ile(e,t){var r=t.length-1,n=rc.constrain(rc.findBin(e,t),0,r),i=t[n],a=t[n+1],o=(e-i)/(a-i)||0;return o<=0?{bin0:n,bin1:n,frac:0}:o<.5?{bin0:n,bin1:n+1,frac:o}:{bin0:n+1,bin1:n,frac:1-o}}function Ple(e,t,r){e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=Math.round(r[3]*255)}});var g2=$((sEt,Ole)=>{"use strict";Ole.exports={min:"zmin",max:"zmax"}});var lM=$((lEt,Ble)=>{"use strict";var Bet=Nr();Ble.exports=function(t){Bet.select(t).selectAll(".hm image").style("opacity",function(r){return r.trace.opacity})}});var fM=$((uEt,Ule)=>{"use strict";var Hle=lo(),uM=pt(),Het=tn(),Uet=Wa().extractOpts;Ule.exports=function(t,r,n,i,a){a||(a={});var o=a.isContour,s=t.cd[0],l=s.trace,u=t.xa,f=t.ya,c=s.x,h=s.y,v=s.z,b=s.xCenter,y=s.yCenter,x=s.zmask,m=l.zhoverformat,_=c,g=h,A,w,k,p;if(t.index!==!1){try{k=Math.round(t.index[1]),p=Math.round(t.index[0])}catch{uM.error("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index);return}if(k<0||k>=v[0].length||p<0||p>v.length)return}else{if(Hle.inbox(r-c[0],r-c[c.length-1],0)>0||Hle.inbox(n-h[0],n-h[h.length-1],0)>0)return;if(o){var d;for(_=[2*c[0]-c[1]],d=1;d<c.length;d++)_.push((c[d]+c[d-1])/2);for(_.push([2*c[c.length-1]-c[c.length-2]]),g=[2*h[0]-h[1]],d=1;d<h.length;d++)g.push((h[d]+h[d-1])/2);g.push([2*h[h.length-1]-h[h.length-2]])}k=Math.max(0,Math.min(_.length-2,uM.findBin(r,_))),p=Math.max(0,Math.min(g.length-2,uM.findBin(n,g)))}var M=u.c2p(c[k]),T=u.c2p(c[k+1]),S=f.c2p(h[p]),E=f.c2p(h[p+1]),L,D;o?(L=s.orig_x||c,D=s.orig_y||h,T=M,A=L[k],E=S,w=D[p]):(L=s.orig_x||b||c,D=s.orig_y||y||h,A=b?L[k]:(L[k]+L[k+1])/2,w=y?D[p]:(D[p]+D[p+1])/2,u&&u.type==="category"&&(A=c[k]),f&&f.type==="category"&&(w=h[p]),l.zsmooth&&(M=T=u.c2p(A),S=E=f.c2p(w)));var R=v[p][k];if(x&&!x[p][k]&&(R=void 0),!(R===void 0&&!l.hoverongaps)){var q;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[p])?q=s.hovertext[p][k]:Array.isArray(s.text)&&Array.isArray(s.text[p])&&(q=s.text[p][k]);var C=Uet(l),F={type:"linear",range:[C.min,C.max],hoverformat:m,_separators:u._separators,_numFormat:u._numFormat},N=Het.tickText(F,R,"hover").text;return[uM.extendFlat(t,{index:l._after2before?l._after2before[p][k]:[p,k],distance:t.maxHoverDistance,spikeDistance:t.maxSpikeDistance,x0:M,x1:T,y0:S,y1:E,xLabelVal:A,yLabelVal:w,zLabelVal:R,zLabel:N,text:q})]}}});var Vle=$((fEt,jle)=>{"use strict";jle.exports={attributes:Yp(),supplyDefaults:Xse(),calc:p2(),plot:sM(),colorbar:g2(),style:lM(),hoverPoints:fM(),moduleType:"trace",name:"heatmap",basePlotModule:as(),categories:["cartesian","svg","2dMap","showLegend"],meta:{description:["The data that describes the heatmap value-to-color mapping","is set in `z`.","Data in `z` can either be a {2D array} of values (ragged or not)","or a 1D array of values.","In the case where `z` is a {2D array},","say that `z` has N rows and M columns.","Then, by default, the resulting heatmap will have N partitions along","the y axis and M partitions along the x axis.","In other words, the i-th row/ j-th column cell in `z`","is mapped to the i-th partition of the y axis","(starting from the bottom of the plot) and the j-th partition","of the x-axis (starting from the left of the plot).","This behavior can be flipped by using `transpose`.","Moreover, `x` (`y`) can be provided with M or M+1 (N or N+1) elements.","If M (N), then the coordinates correspond to the center of the","heatmap cells and the cells have equal width.","If M+1 (N+1), then the coordinates correspond to the edges of the","heatmap cells.","In the case where `z` is a 1D {array}, the x and y coordinates must be","provided in `x` and `y` respectively to form data triplets."].join(" ")}}});var Yle=$((cEt,Gle)=>{"use strict";Gle.exports=Vle()});var Aq=$((hEt,Wle)=>{"use strict";Wle.exports=function(t,r){return{start:{valType:"any",editType:"calc",description:["Sets the starting value for the",t,"axis bins. Defaults to the minimum data value,","shifted down if necessary to make nice round values","and to remove ambiguous bin edges. For example, if most of the","data is integers we shift the bin edges 0.5 down, so a `size`","of 5 would have a default `start` of -0.5, so it is clear","that 0-4 are in the first bin, 5-9 in the second, but","continuous data gets a start of 0 and bins [0,5), [5,10) etc.","Dates behave similarly, and `start` should be a date string.","For category data, `start` is based on the category serial","numbers, and defaults to -0.5.",r?"If multiple non-overlaying histograms share a subplot, the first explicit `start` is used exactly and all others are shifted down (if necessary) to differ from that one by an integer number of bins.":""].join(" ")},end:{valType:"any",editType:"calc",description:["Sets the end value for the",t,"axis bins. The last bin may not end exactly at this value,","we increment the bin edge by `size` from `start` until we","reach or exceed `end`. Defaults to the maximum data value.","Like `start`, for dates use a date string, and for category","data `end` is based on the category serial numbers."].join(" ")},size:{valType:"any",editType:"calc",description:["Sets the size of each",t,"axis bin.","Default behavior: If `nbins"+t+"` is 0 or omitted,","we choose a nice round bin size such that the number of bins","is about the same as the typical number of samples in each bin.","If `nbins"+t+"` is provided, we choose a nice round","bin size giving no more than that many bins.","For date data, use milliseconds or *M<n>* for months, as in","`axis.dtick`. For category data, the number of categories to","bin together (always defaults to 1).",r?"If multiple non-overlaying histograms share a subplot, the first explicit `size` is used and all others discarded. If no `size` is provided,the sample data from all traces is combined to determine `size` as described above.":""].join(" ")},editType:"calc"}}});var Zle=$((vEt,Xle)=>{"use strict";Xle.exports={eventDataKeys:["binNumber"]}});var cM=$((dEt,Jle)=>{"use strict";var Ru=zh(),$le=Ha().axisHoverFormat,jet=Yn().hovertemplateAttrs,Vet=Yn().texttemplateAttrs,Mq=Ba(),Kle=Aq(),Get=Zle(),kq=ln().extendFlat;Jle.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the x axis."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the y axis."].join(" ")},xhoverformat:$le("x"),yhoverformat:$le("y"),text:kq({},Ru.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:kq({},Ru.hovertext,{description:"Same as `text`."}),orientation:Ru.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc",description:["Specifies the binning function used for this histogram trace.","If *count*, the histogram values are computed by counting the","number of values lying inside each bin.","If *sum*, *avg*, *min*, *max*,","the histogram values are computed using","the sum, the average, the minimum or the maximum","of the values lying inside each bin respectively."].join(" ")},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc",description:["Specifies the type of normalization used for this histogram trace.","If **, the span of each bar corresponds to the number of","occurrences (i.e. the number of data points lying inside the bins).","If *percent* / *probability*, the span of each bar corresponds to","the percentage / fraction of occurrences with respect to the total","number of sample points","(here, the sum of all bin HEIGHTS equals 100% / 1).","If *density*, the span of each bar corresponds to the number of","occurrences in a bin divided by the size of the bin interval","(here, the sum of all bin AREAS equals the","total number of sample points).","If *probability density*, the area of each bar corresponds to the","probability that an event will fall into the corresponding bin","(here, the sum of all bin AREAS equals 1)."].join(" ")},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc",description:["If true, display the cumulative distribution by summing the","binned values. Use the `direction` and `centralbin` attributes","to tune the accumulation method.","Note: in this mode, the *density* `histnorm` settings behave","the same as their equivalents without *density*:","** and *density* both rise to the number of data points, and","*probability* and *probability density* both rise to the","number of sample points."].join(" ")},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc",description:["Only applies if cumulative is enabled.","If *increasing* (default) we sum all prior bins, so the result","increases from left to right. If *decreasing* we sum later bins","so the result decreases from left to right."].join(" ")},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc",description:["Only applies if cumulative is enabled.","Sets whether the current bin is included, excluded, or has half","of its value included in the current cumulative value.","*include* is the default for compatibility with various other","tools, however it introduces a half-bin bias to the results.","*exclude* makes the opposite half-bin bias, and *half* removes","it."].join(" ")},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `xbins.size` is provided."].join(" ")},xbins:Kle("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `ybins.size` is provided."].join(" ")},ybins:Kle("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobinx` is not needed. However, we accept","`autobinx: true` or `false` and will update `xbins` accordingly","before deleting `autobinx` from the trace."].join(" ")},autobiny:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobiny` is not needed. However, we accept","`autobiny: true` or `false` and will update `ybins` accordingly","before deleting `autobiny` from the trace."].join(" ")},bingroup:{valType:"string",dflt:"",editType:"calc",description:["Set a group of histogram traces which will have compatible bin settings.","Note that traces on the same subplot and with the same *orientation*","under `barmode` *stack*, *relative* and *group* are forced into the same bingroup,","Using `bingroup`, traces under `barmode` *overlay* and on different axes","(of the same axis type) can have compatible bin settings.","Note that histogram and histogram2d* trace can share the same `bingroup`"].join(" ")},hovertemplate:jet({},{keys:Get.eventDataKeys}),texttemplate:Vet({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:kq({},Ru.textposition,{arrayOk:!1}),textfont:Mq({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the text font."}),outsidetextfont:Mq({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying outside the bar."}),insidetextfont:Mq({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying inside the bar."}),insidetextanchor:Ru.insidetextanchor,textangle:Ru.textangle,cliponaxis:Ru.cliponaxis,constraintext:Ru.constraintext,marker:Ru.marker,offsetgroup:Ru.offsetgroup,alignmentgroup:Ru.alignmentgroup,selected:Ru.selected,unselected:Ru.unselected,_deprecated:{bardir:Ru._deprecated.bardir}}});var rue=$((pEt,tue)=>{"use strict";var Qle=Ir(),m2=pt(),eue=Rr(),Yet=Kl().handleText,Wet=zA(),Xet=cM();tue.exports=function(t,r,n,i){function a(_,g){return m2.coerce(t,r,Xet,_,g)}var o=a("x"),s=a("y"),l=a("cumulative.enabled");l&&(a("cumulative.direction"),a("cumulative.currentbin")),a("text");var u=a("textposition");Yet(t,r,i,a,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat");var f=a("orientation",s&&!o?"h":"v"),c=f==="v"?"x":"y",h=f==="v"?"y":"x",v=o&&s?Math.min(m2.minRowLength(o)&&m2.minRowLength(s)):m2.minRowLength(r[c]||[]);if(!v){r.visible=!1;return}r._length=v;var b=Qle.getComponentMethod("calendars","handleTraceDefaults");b(t,r,["x","y"],i);var y=r[h];y&&a("histfunc"),a("histnorm"),a("autobin"+c),Wet(t,r,a,n,i),m2.coerceSelectionMarkerOpacity(r,a);var x=(r.marker.line||{}).color,m=Qle.getComponentMethod("errorbars","supplyDefaults");m(t,r,x||eue.defaultLine,{axis:"y"}),m(t,r,x||eue.defaultLine,{axis:"x",inherit:"y"})}});var vM=$((gEt,aue)=>{"use strict";var y2=pt(),Zet=Io(),hM=Ir().traceIs,$et=Kl().handleGroupingDefaults,nue=y2.nestedProperty,Sq=Nd().getAxisGroup,iue=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],Ket=["x","y"];aue.exports=function(t,r){var n=r._histogramBinOpts={},i=[],a={},o=[],s,l,u,f,c,h,v;function b(D,R){return y2.coerce(s._input,s,s._module.attributes,D,R)}function y(D){return D.orientation==="v"?"x":"y"}function x(D,R){var q=Zet.getFromTrace({_fullLayout:r},D,R);return q.type}function m(D,R,q){var C=D.uid+"__"+q;R||(R=C);var F=x(D,q),N=D[q+"calendar"]||"",U=n[R],V=!0;U&&(F===U.axType&&N===U.calendar?(V=!1,U.traces.push(D),U.dirs.push(q)):(R=C,F!==U.axType&&y2.warn(["Attempted to group the bins of trace",D.index,"set on a","type:"+F,"axis","with bins on","type:"+U.axType,"axis."].join(" ")),N!==U.calendar&&y2.warn(["Attempted to group the bins of trace",D.index,"set with a",N,"calendar","with bins",U.calendar?"on a "+U.calendar+" calendar":"w/o a set calendar"].join(" ")))),V&&(n[R]={traces:[D],dirs:[q],axType:F,calendar:D[q+"calendar"]||""}),D["_"+q+"bingroup"]=R}for(c=0;c<t.length;c++)s=t[c],hM(s,"histogram")&&(i.push(s),delete s._xautoBinFinished,delete s._yautoBinFinished,hM(s,"2dMap")||$et(s._input,s,r,b));var _=r._alignmentOpts||{};for(c=0;c<i.length;c++){if(s=i[c],u="",!hM(s,"2dMap")){if(f=y(s),r.barmode==="group"&&s.alignmentgroup){var g=s[f+"axis"],A=Sq(r,g)+s.orientation;(_[A]||{})[s.alignmentgroup]&&(u=A)}!u&&r.barmode!=="overlay"&&(u=Sq(r,s.xaxis)+Sq(r,s.yaxis)+y(s))}u?(a[u]||(a[u]=[]),a[u].push(s)):o.push(s)}for(u in a){if(l=a[u],l.length===1){o.push(l[0]);continue}var w=!1;for(l.length&&(s=l[0],w=b("bingroup")),u=w||u,c=0;c<l.length;c++){s=l[c];var k=s._input.bingroup;k&&k!==u&&y2.warn(["Trace",s.index,"must match","within bingroup",u+".","Ignoring its bingroup:",k,"setting."].join(" ")),s.bingroup=u,m(s,u,y(s))}}for(c=0;c<o.length;c++){s=o[c];var p=b("bingroup");if(hM(s,"2dMap"))for(v=0;v<2;v++){f=Ket[v];var d=b(f+"bingroup",p?p+"__"+f:null);m(s,d,f)}else m(s,p,y(s))}for(u in n){var M=n[u];for(l=M.traces,h=0;h<iue.length;h++){var T=iue[h],S=T.name,E,L;if(!(S==="nbins"&&M.sizeFound)){for(c=0;c<l.length;c++){if(s=l[c],f=M.dirs[c],E=T.aStr[f],nue(s._input,E).get()!==void 0){M[S]=b(E),M[S+"Found"]=!0;break}L=(s._autoBin||{})[f]||{},L[S]&&nue(s,E).set(L[S])}if(S==="start"||S==="end")for(;c<l.length;c++)s=l[c],s["_"+f+"bingroup"]&&(L=(s._autoBin||{})[f]||{},b(E,L[S]));S==="nbins"&&!M.sizeFound&&!M.nbinsFound&&(s=l[0],M[S]=b(E))}}}}});var sue=$((mEt,oue)=>{"use strict";var Jet=km().hoverPoints,Qet=tn().hoverLabelText;oue.exports=function(t,r,n,i,a){var o=Jet(t,r,n,i,a);if(o){t=o[0];var s=t.cd[t.index],l=t.cd[0].trace;if(!l.cumulative.enabled){var u=l.orientation==="h"?"y":"x";t[u+"Label"]=Qet(t[u+"a"],[s.ph0,s.ph1],l[u+"hoverformat"])}return o}}});var Eq=$((yEt,lue)=>{"use strict";lue.exports=function(t,r,n,i,a){if(t.x="xVal"in r?r.xVal:r.x,t.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(t.z=r.zLabelVal),r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),!(n.cumulative||{}).enabled){var o=Array.isArray(a)?i[0].pts[a[0]][a[1]]:i[a].pts;t.pointNumbers=o,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex;var s;if(n._indexToPoints){s=[];for(var l=0;l<o.length;l++)s=s.concat(n._indexToPoints[o[l]])}else s=o;t.pointIndices=s}return t}});var fue=$((xEt,uue)=>{"use strict";uue.exports={attributes:cM(),layoutAttributes:NA(),supplyDefaults:rue(),crossTraceDefaults:vM(),supplyLayoutDefaults:GD(),calc:mq().calc,crossTraceCalc:Tm().crossTraceCalc,plot:Vp().plot,layerName:"barlayer",style:Kf().style,styleOnSelect:Kf().styleOnSelect,colorbar:Zf(),hoverPoints:sue(),selectPoints:Sm(),eventData:Eq(),moduleType:"trace",name:"histogram",basePlotModule:as(),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{description:["The sample data from which statistics are computed is set in `x`","for vertically spanning histograms and","in `y` for horizontally spanning histograms.","Binning options are set `xbins` and `ybins` respectively","if no aggregation data is provided."].join(" ")}}});var hue=$((bEt,cue)=>{"use strict";cue.exports=fue()});var pM=$((wEt,due)=>{"use strict";var Kc=cM(),vue=Aq(),dM=Yp(),ett=aa(),Lq=Ha().axisHoverFormat,ttt=Yn().hovertemplateAttrs,rtt=Yn().texttemplateAttrs,ntt=Ma(),x2=ln().extendFlat;due.exports=x2({x:Kc.x,y:Kc.y,z:{valType:"data_array",editType:"calc",description:"Sets the aggregation data."},marker:{color:{valType:"data_array",editType:"calc",description:"Sets the aggregation data."},editType:"calc"},histnorm:Kc.histnorm,histfunc:Kc.histfunc,nbinsx:Kc.nbinsx,xbins:vue("x"),nbinsy:Kc.nbinsy,ybins:vue("y"),autobinx:Kc.autobinx,autobiny:Kc.autobiny,bingroup:x2({},Kc.bingroup,{description:["Set the `xbingroup` and `ybingroup` default prefix","For example, setting a `bingroup` of *1* on two histogram2d traces","will make them their x-bins and y-bins match separately."].join(" ")}),xbingroup:x2({},Kc.bingroup,{description:["Set a group of histogram traces which will have compatible x-bin settings.","Using `xbingroup`, histogram2d and histogram2dcontour traces ","(on axes of the same axis type) can have compatible x-bin settings.","Note that the same `xbingroup` value can be used to set (1D) histogram `bingroup`"].join(" ")}),ybingroup:x2({},Kc.bingroup,{description:["Set a group of histogram traces which will have compatible y-bin settings.","Using `ybingroup`, histogram2d and histogram2dcontour traces ","(on axes of the same axis type) can have compatible y-bin settings.","Note that the same `ybingroup` value can be used to set (1D) histogram `bingroup`"].join(" ")}),xgap:dM.xgap,ygap:dM.ygap,zsmooth:dM.zsmooth,xhoverformat:Lq("x"),yhoverformat:Lq("y"),zhoverformat:Lq("z",1),hovertemplate:ttt({},{keys:"z"}),texttemplate:rtt({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:dM.textfont,showlegend:x2({},ett.showlegend,{dflt:!1})},ntt("",{cLetter:"z",autoColorDflt:!1}))});var Cq=$((_Et,gue)=>{"use strict";var itt=Ir(),pue=pt();gue.exports=function(t,r,n,i){var a=n("x"),o=n("y"),s=pue.minRowLength(a),l=pue.minRowLength(o);if(!s||!l){r.visible=!1;return}r._length=Math.min(s,l);var u=itt.getComponentMethod("calendars","handleTraceDefaults");u(t,r,["x","y"],i);var f=n("z")||n("marker.color");f&&n("histfunc"),n("histnorm"),n("autobinx"),n("autobiny")}});var yue=$((TEt,mue)=>{"use strict";var att=pt(),ott=Cq(),stt=fq(),ltt=$s(),utt=d2(),ftt=pM();mue.exports=function(t,r,n,i){function a(o,s){return att.coerce(t,r,ftt,o,s)}ott(t,r,a,i),r.visible!==!1&&(stt(t,r,a,i),ltt(t,r,i,a,{prefix:"",cLetter:"z"}),a("hovertemplate"),utt(a,i),a("xhoverformat"),a("yhoverformat"))}});var wue=$((AEt,bue)=>{"use strict";var ctt=fM(),xue=tn().hoverLabelText;bue.exports=function(t,r,n,i,a){var o=ctt(t,r,n,i,a);if(o){t=o[0];var s=t.index,l=s[0],u=s[1],f=t.cd[0],c=f.trace,h=f.xRanges[u],v=f.yRanges[l];return t.xLabel=xue(t.xa,[h[0],h[1]],c.xhoverformat),t.yLabel=xue(t.ya,[v[0],v[1]],c.yhoverformat),o}}});var Tue=$((MEt,_ue)=>{"use strict";_ue.exports={attributes:pM(),supplyDefaults:yue(),crossTraceDefaults:vM(),calc:p2(),plot:sM(),layerName:"heatmaplayer",colorbar:g2(),style:lM(),hoverPoints:wue(),eventData:Eq(),moduleType:"trace",name:"histogram2d",basePlotModule:as(),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{hrName:"histogram_2d",description:["The sample data from which statistics are computed is set in `x`","and `y` (where `x` and `y` represent marginal distributions,","binning is set in `xbins` and `ybins` in this case)","or `z` (where `z` represent the 2D distribution and binning set,","binning is set by `x` and `y` in this case).","The resulting distribution is visualized as a heatmap."].join(" ")}}});var Mue=$((kEt,Aue)=>{"use strict";Aue.exports=Tue()});var b2=$((SEt,kue)=>{"use strict";kue.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}});var w2=$((EEt,que)=>{"use strict";var uo=Yp(),qq=Ps(),Cue=Ha(),Dq=Cue.axisHoverFormat,htt=Cue.descriptionOnlyNumbers,vtt=Ma(),dtt=Ul().dash,ptt=Ba(),Dm=ln().extendFlat,Due=b2(),Sue=Due.COMPARISON_OPS2,Eue=Due.INTERVAL_OPS,Lue=qq.line;que.exports=Dm({z:uo.z,x:uo.x,x0:uo.x0,dx:uo.dx,y:uo.y,y0:uo.y0,dy:uo.dy,xperiod:uo.xperiod,yperiod:uo.yperiod,xperiod0:qq.xperiod0,yperiod0:qq.yperiod0,xperiodalignment:uo.xperiodalignment,yperiodalignment:uo.yperiodalignment,text:uo.text,hovertext:uo.hovertext,transpose:uo.transpose,xtype:uo.xtype,ytype:uo.ytype,xhoverformat:Dq("x"),yhoverformat:Dq("y"),zhoverformat:Dq("z",1),hovertemplate:uo.hovertemplate,texttemplate:Dm({},uo.texttemplate,{description:["For this trace it only has an effect if `coloring` is set to *heatmap*.",uo.texttemplate.description].join(" ")}),textfont:Dm({},uo.textfont,{description:["For this trace it only has an effect if `coloring` is set to *heatmap*.",uo.textfont.description].join(" ")}),hoverongaps:uo.hoverongaps,connectgaps:Dm({},uo.connectgaps,{description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in.","It is defaulted to true if `z` is a","one dimensional array","otherwise it is defaulted to false."].join(" ")}),fillcolor:{valType:"color",editType:"calc",description:["Sets the fill color if `contours.type` is *constraint*.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0},description:["Determines whether or not the contour level attributes are","picked by an algorithm.","If *true*, the number of contour levels can be set in `ncontours`.","If *false*, set the contour level attributes in `contours`."].join(" ")},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc",description:["Sets the maximum number of contour levels. The actual number","of contours will be chosen automatically to be less than or","equal to the value of `ncontours`.","Has an effect only if `autocontour` is *true* or if","`contours.size` is missing."].join(" ")},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc",description:["If `levels`, the data is represented as a contour plot with multiple","levels displayed. If `constraint`, the data is represented as constraints","with the invalid region shaded as specified by the `operation` and","`value` parameters."].join(" ")},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1},description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1},description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1},description:["Sets the step between each contour level.","Must be positive."].join(" ")},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc",description:["Determines the coloring method showing the contour values.","If *fill*, coloring is done evenly between each contour level","If *heatmap*, a heatmap gradient coloring is applied","between each contour level.","If *lines*, coloring is done on the contour lines.","If *none*, no coloring is applied on this trace."].join(" ")},showlines:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not the contour lines are drawn.","Has an effect only if `contours.coloring` is set to *fill*."].join(" ")},showlabels:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether to label the contour lines with their values."].join(" ")},labelfont:ptt({editType:"plot",colorEditType:"style",description:["Sets the font used for labeling the contour levels.","The default color comes from the lines, if shown.","The default family and size come from `layout.font`."].join(" ")}),labelformat:{valType:"string",dflt:"",editType:"plot",description:htt("contour label")},operation:{valType:"enumerated",values:[].concat(Sue).concat(Eue),dflt:"=",editType:"calc",description:["Sets the constraint operation.","*=* keeps regions equal to `value`","*<* and *<=* keep regions less than `value`","*>* and *>=* keep regions greater than `value`","*[]*, *()*, *[)*, and *(]* keep regions inside `value[0]` to `value[1]`","*][*, *)(*, *](*, *)[* keep regions outside `value[0]` to value[1]`","Open vs. closed intervals make no difference to constraint display, but","all versions are allowed for consistency with filter transforms."].join(" ")},value:{valType:"any",dflt:0,editType:"calc",description:["Sets the value or values of the constraint boundary.","When `operation` is set to one of the comparison values","("+Sue+")","*value* is expected to be a number.","When `operation` is set to one of the interval values","("+Eue+")","*value* is expected to be an array of two numbers where the first","is the lower bound and the second is the upper bound."].join(" ")},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:Dm({},Lue.color,{editType:"style+colorbars",description:["Sets the color of the contour level.","Has no effect if `contours.coloring` is set to *lines*."].join(" ")}),width:{valType:"number",min:0,editType:"style+colorbars",description:["Sets the contour line width in (in px)","Defaults to *0.5* when `contours.type` is *levels*.","Defaults to *2* when `contour.type` is *constraint*."].join(" ")},dash:dtt,smoothing:Dm({},Lue.smoothing,{description:["Sets the amount of smoothing for the contour lines,","where *0* corresponds to no smoothing."].join(" ")}),editType:"plot"}},vtt("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))});var Iq=$((LEt,Iue)=>{"use strict";var Sl=pM(),Fv=w2(),gtt=Ma(),Rq=Ha().axisHoverFormat,Rue=ln().extendFlat;Iue.exports=Rue({x:Sl.x,y:Sl.y,z:Sl.z,marker:Sl.marker,histnorm:Sl.histnorm,histfunc:Sl.histfunc,nbinsx:Sl.nbinsx,xbins:Sl.xbins,nbinsy:Sl.nbinsy,ybins:Sl.ybins,autobinx:Sl.autobinx,autobiny:Sl.autobiny,bingroup:Sl.bingroup,xbingroup:Sl.xbingroup,ybingroup:Sl.ybingroup,autocontour:Fv.autocontour,ncontours:Fv.ncontours,contours:Fv.contours,line:{color:Fv.line.color,width:Rue({},Fv.line.width,{dflt:.5,description:"Sets the contour line width in (in px)"}),dash:Fv.line.dash,smoothing:Fv.line.smoothing,editType:"plot"},xhoverformat:Rq("x"),yhoverformat:Rq("y"),zhoverformat:Rq("z",1),hovertemplate:Sl.hovertemplate,texttemplate:Fv.texttemplate,textfont:Fv.textfont},gtt("",{cLetter:"z",editTypeOverride:"calc"}))});var gM=$((CEt,Pue)=>{"use strict";Pue.exports=function(t,r,n,i){var a=i("contours.start"),o=i("contours.end"),s=a===!1||o===!1,l=n("contours.size"),u;s?u=r.autocontour=!0:u=n("autocontour",!1),(u||!l)&&n("ncontours")}});var Pq=$((DEt,Fue)=>{"use strict";var mtt=pt();Fue.exports=function(t,r,n,i){i||(i={});var a=t("contours.showlabels");if(a){var o=r.font;mtt.coerceFont(t,"contours.labelfont",{family:o.family,size:o.size,color:n}),t("contours.labelformat")}i.hasHover!==!1&&t("zhoverformat")}});var mM=$((qEt,Nue)=>{"use strict";var ytt=$s(),xtt=Pq();Nue.exports=function(t,r,n,i,a){var o=n("contours.coloring"),s,l="";o==="fill"&&(s=n("contours.showlines")),s!==!1&&(o!=="lines"&&(l=n("line.color","#000")),n("line.width",.5),n("line.dash")),o!=="none"&&(t.showlegend!==!0&&(r.showlegend=!1),r._dfltShowLegend=!1,ytt(t,r,i,n,{prefix:"",cLetter:"z"})),n("line.smoothing"),xtt(n,i,l,a)}});var Hue=$((REt,Bue)=>{"use strict";var zue=pt(),btt=Cq(),wtt=gM(),_tt=mM(),Ttt=d2(),Oue=Iq();Bue.exports=function(t,r,n,i){function a(s,l){return zue.coerce(t,r,Oue,s,l)}function o(s){return zue.coerce2(t,r,Oue,s)}btt(t,r,a,i),r.visible!==!1&&(wtt(t,r,a,o),_tt(t,r,a,i),a("xhoverformat"),a("yhoverformat"),a("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&Ttt(a,i))}});var zq=$((IEt,jue)=>{"use strict";var Nq=tn(),Fq=pt();jue.exports=function(t,r){var n=t.contours;if(t.autocontour){var i=t.zmin,a=t.zmax;(t.zauto||i===void 0)&&(i=Fq.aggNums(Math.min,null,r)),(t.zauto||a===void 0)&&(a=Fq.aggNums(Math.max,null,r));var o=Uue(i,a,t.ncontours);n.size=o.dtick,n.start=Nq.tickFirst(o),o.range.reverse(),n.end=Nq.tickFirst(o),n.start===i&&(n.start+=n.size),n.end===a&&(n.end-=n.size),n.start>n.end&&(n.start=n.end=(n.start+n.end)/2),t._input.contours||(t._input.contours={}),Fq.extendFlat(t._input.contours,{start:n.start,end:n.end,size:n.size}),t._input.autocontour=!0}else if(n.type!=="constraint"){var s=n.start,l=n.end,u=t._input.contours;if(s>l&&(n.start=u.start=l,l=n.end=u.end=s,s=n.start),!(n.size>0)){var f;s===l?f=1:f=Uue(s,l,t.ncontours).dtick,u.size=n.size=f}}};function Uue(e,t,r){var n={type:"linear",range:[e,t]};return Nq.autoTicks(n,(t-e)/(r||15)),n}});var _2=$((PEt,Vue)=>{"use strict";Vue.exports=function(t){return t.end+t.size/1e6}});var Oq=$((FEt,Yue)=>{"use strict";var Gue=Wa(),Att=p2(),Mtt=zq(),ktt=_2();Yue.exports=function(t,r){var n=Att(t,r),i=n[0].z;Mtt(r,i);var a=r.contours,o=Gue.extractOpts(r),s;if(a.coloring==="heatmap"&&o.auto&&r.autocontour===!1){var l=a.start,u=ktt(a),f=a.size||1,c=Math.floor((u-l)/f)+1;isFinite(f)||(f=1,c=1);var h=l-f/2,v=h+c*f;s=[h,v]}else s=i;return Gue.calc(t,r,{vals:s,cLetter:"z"}),n}});var T2=$((NEt,Wue)=>{"use strict";Wue.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}});var Bq=$((zEt,Xue)=>{"use strict";var yM=T2();Xue.exports=function(t){var r=t[0].z,n=r.length,i=r[0].length,a=n===2||i===2,o,s,l,u,f,c,h,v,b;for(s=0;s<n-1;s++)for(u=[],s===0&&(u=u.concat(yM.BOTTOMSTART)),s===n-2&&(u=u.concat(yM.TOPSTART)),o=0;o<i-1;o++)for(l=u.slice(),o===0&&(l=l.concat(yM.LEFTSTART)),o===i-2&&(l=l.concat(yM.RIGHTSTART)),f=o+","+s,c=[[r[s][o],r[s][o+1]],[r[s+1][o],r[s+1][o+1]]],b=0;b<t.length;b++)v=t[b],h=Stt(v.level,c),h&&(v.crossings[f]=h,l.indexOf(h)!==-1&&(v.starts.push([o,s]),a&&l.indexOf(h,l.indexOf(h)+1)!==-1&&v.starts.push([o,s])))};function Stt(e,t){var r=(t[0][0]>e?0:1)+(t[0][1]>e?0:2)+(t[1][1]>e?0:4)+(t[1][0]>e?0:8);if(r===5||r===10){var n=(t[0][0]+t[0][1]+t[1][0]+t[1][1])/4;return e>n?r===5?713:1114:r===5?104:208}return r===15?0:r}});var Hq=$((OEt,Kue)=>{"use strict";var xM=pt(),qm=T2();Kue.exports=function(t,r,n){var i,a,o,s,l;for(r=r||.01,n=n||.01,o=0;o<t.length;o++){for(s=t[o],l=0;l<s.starts.length;l++)a=s.starts[l],Zue(s,a,"edge",r,n);for(i=0;Object.keys(s.crossings).length&&i<1e4;)i++,a=Object.keys(s.crossings)[0].split(",").map(Number),Zue(s,a,void 0,r,n);i===1e4&&xM.log("Infinite loop in contour?")}};function A2(e,t,r,n){return Math.abs(e[0]-t[0])<r&&Math.abs(e[1]-t[1])<n}function Ett(e,t){var r=e[2]-t[2],n=e[3]-t[3];return Math.sqrt(r*r+n*n)}function Zue(e,t,r,n,i){var a=t.join(","),o=e.crossings[a],s=Ltt(o,r,t),l=[$ue(e,t,[-s[0],-s[1]])],u=e.z.length,f=e.z[0].length,c=t.slice(),h=s.slice(),v;for(v=0;v<1e4;v++){if(o>20?(o=qm.CHOOSESADDLE[o][(s[0]||s[1])<0?0:1],e.crossings[a]=qm.SADDLEREMAINDER[o]):delete e.crossings[a],s=qm.NEWDELTA[o],!s){xM.log("Found bad marching index:",o,t,e.level);break}l.push($ue(e,t,s)),t[0]+=s[0],t[1]+=s[1],a=t.join(","),A2(l[l.length-1],l[l.length-2],n,i)&&l.pop();var b=s[0]&&(t[0]<0||t[0]>f-2)||s[1]&&(t[1]<0||t[1]>u-2),y=t[0]===c[0]&&t[1]===c[1]&&s[0]===h[0]&&s[1]===h[1];if(y||r&&b)break;o=e.crossings[a]}v===1e4&&xM.log("Infinite loop in contour?");var x=A2(l[0],l[l.length-1],n,i),m=0,_=.2*e.smoothing,g=[],A=0,w,k,p,d,M,T,S,E,L,D,R;for(v=1;v<l.length;v++)S=Ett(l[v],l[v-1]),m+=S,g.push(S);var q=m/g.length*_;function C(U){return l[U%l.length]}for(v=l.length-2;v>=A;v--)if(w=g[v],w<q){for(p=0,k=v-1;k>=A&&w+g[k]<q;k--)w+=g[k];if(x&&v===l.length-2)for(p=0;p<k&&w+g[p]<q;p++)w+=g[p];M=v-k+p+1,T=Math.floor((v+k+p+2)/2),!x&&v===l.length-2?d=l[l.length-1]:!x&&k===-1?d=l[0]:M%2?d=C(T):d=[(C(T)[0]+C(T+1)[0])/2,(C(T)[1]+C(T+1)[1])/2],l.splice(k+1,v-k+1,d),v=k+1,p&&(A=p),x&&(v===l.length-2?l[p]=l[l.length-1]:v===0&&(l[l.length-1]=l[0]))}for(l.splice(0,A),v=0;v<l.length;v++)l[v].length=2;if(!(l.length<2))if(x)l.pop(),e.paths.push(l);else{r||xM.log("Unclosed interior contour?",e.level,c.join(","),l.join("L"));var F=!1;for(E=0;E<e.edgepaths.length;E++)if(D=e.edgepaths[E],!F&&A2(D[0],l[l.length-1],n,i)){l.pop(),F=!0;var N=!1;for(L=0;L<e.edgepaths.length;L++)if(R=e.edgepaths[L],A2(R[R.length-1],l[0],n,i)){N=!0,l.shift(),e.edgepaths.splice(E,1),L===E?e.paths.push(l.concat(R)):(L>E&&L--,e.edgepaths[L]=R.concat(l,D));break}N||(e.edgepaths[E]=l.concat(D))}for(E=0;E<e.edgepaths.length&&!F;E++)D=e.edgepaths[E],A2(D[D.length-1],l[0],n,i)&&(l.shift(),e.edgepaths[E]=D.concat(l),F=!0);F||e.edgepaths.push(l)}}function Ltt(e,t,r){var n=0,i=0;return e>20&&t?e===208||e===1114?n=r[0]===0?1:-1:i=r[1]===0?1:-1:qm.BOTTOMSTART.indexOf(e)!==-1?i=1:qm.LEFTSTART.indexOf(e)!==-1?n=1:qm.TOPSTART.indexOf(e)!==-1?i=-1:n=-1,[n,i]}function $ue(e,t,r){var n=t[0]+Math.max(r[0],0),i=t[1]+Math.max(r[1],0),a=e.z[i][n],o=e.xaxis,s=e.yaxis;if(r[1]){var l=(e.level-a)/(e.z[i][n+1]-a),u=(l!==1?(1-l)*o.c2l(e.x[n]):0)+(l!==0?l*o.c2l(e.x[n+1]):0);return[o.c2p(o.l2c(u),!0),s.c2p(e.y[i],!0),n+l,i]}else{var f=(e.level-a)/(e.z[i+1][n]-a),c=(f!==1?(1-f)*s.c2l(e.y[i]):0)+(f!==0?f*s.c2l(e.y[i+1]):0);return[o.c2p(e.x[n],!0),s.c2p(s.l2c(c),!0),n,i+f]}}});var tfe=$((BEt,efe)=>{"use strict";var Uq=b2(),Ctt=mn();efe.exports={"[]":Jue("[]"),"][":Jue("]["),">":jq(">"),"<":jq("<"),"=":jq("=")};function Que(e,t){var r=Array.isArray(t),n;function i(a){return Ctt(a)?+a:null}return Uq.COMPARISON_OPS2.indexOf(e)!==-1?n=i(r?t[0]:t):Uq.INTERVAL_OPS.indexOf(e)!==-1?n=r?[i(t[0]),i(t[1])]:[i(t),i(t)]:Uq.SET_OPS.indexOf(e)!==-1&&(n=r?t.map(i):[i(t)]),n}function Jue(e){return function(t){t=Que(e,t);var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return{start:r,end:n,size:n-r}}}function jq(e){return function(t){return t=Que(e,t),{start:t,end:1/0,size:1/0}}}});var Vq=$((HEt,nfe)=>{"use strict";var rfe=pt(),Dtt=tfe(),qtt=_2();nfe.exports=function(t,r,n){for(var i=t.type==="constraint"?Dtt[t._operation](t.value):t,a=i.size,o=[],s=qtt(i),l=n.trace._carpetTrace,u=l?{xaxis:l.aaxis,yaxis:l.baxis,x:n.a,y:n.b}:{xaxis:r.xaxis,yaxis:r.yaxis,x:n.x,y:n.y},f=i.start;f<s;f+=a)if(o.push(rfe.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:n.z,smoothing:n.trace.line.smoothing},u)),o.length>1e3){rfe.warn("Too many contours, clipping at 1000",t);break}return o}});var Gq=$((UEt,afe)=>{"use strict";var Rm=pt();afe.exports=function(e,t){var r,n,i,a=function(l){return l.reverse()},o=function(l){return l};switch(t){case"=":case"<":return e;case">":for(e.length!==1&&Rm.warn("Contour data invalid for the specified inequality operation."),n=e[0],r=0;r<n.edgepaths.length;r++)n.edgepaths[r]=a(n.edgepaths[r]);for(r=0;r<n.paths.length;r++)n.paths[r]=a(n.paths[r]);for(r=0;r<n.starts.length;r++)n.starts[r]=a(n.starts[r]);return e;case"][":var s=a;a=o,o=s;case"[]":for(e.length!==2&&Rm.warn("Contour data invalid for the specified inequality range operation."),n=ife(e[0]),i=ife(e[1]),r=0;r<n.edgepaths.length;r++)n.edgepaths[r]=a(n.edgepaths[r]);for(r=0;r<n.paths.length;r++)n.paths[r]=a(n.paths[r]);for(r=0;r<n.starts.length;r++)n.starts[r]=a(n.starts[r]);for(;i.edgepaths.length;)n.edgepaths.push(o(i.edgepaths.shift()));for(;i.paths.length;)n.paths.push(o(i.paths.shift()));for(;i.starts.length;)n.starts.push(o(i.starts.shift()));return[n]}};function ife(e){return Rm.extendFlat({},e,{edgepaths:Rm.extendDeep([],e.edgepaths),paths:Rm.extendDeep([],e.paths),starts:Rm.extendDeep([],e.starts)})}});var Yq=$((jEt,ofe)=>{"use strict";ofe.exports=function(e,t){var r=e[0],n=r.z,i;switch(t.type){case"levels":var a=Math.min(n[0][0],n[0][1]);for(i=0;i<e.length;i++){var o=e[i];o.prefixBoundary=!o.edgepaths.length&&(a>o.level||o.starts.length&&a===o.level)}break;case"constraint":if(r.prefixBoundary=!1,r.edgepaths.length)return;var s=r.x.length,l=r.y.length,u=-1/0,f=1/0;for(i=0;i<l;i++)f=Math.min(f,n[i][0]),f=Math.min(f,n[i][s-1]),u=Math.max(u,n[i][0]),u=Math.max(u,n[i][s-1]);for(i=1;i<s-1;i++)f=Math.min(f,n[0][i]),f=Math.min(f,n[l-1][i]),u=Math.max(u,n[0][i]),u=Math.max(u,n[l-1][i]);var c=t.value,h,v;switch(t._operation){case">":c>u&&(r.prefixBoundary=!0);break;case"<":(c<f||r.starts.length&&c===f)&&(r.prefixBoundary=!0);break;case"[]":h=Math.min(c[0],c[1]),v=Math.max(c[0],c[1]),(v<f||h>u||r.starts.length&&v===f)&&(r.prefixBoundary=!0);break;case"][":h=Math.min(c[0],c[1]),v=Math.max(c[0],c[1]),h<f&&v>u&&(r.prefixBoundary=!0);break}break}}});var bM=$(El=>{"use strict";var k2=Nr(),Fs=pt(),Nv=un(),Rtt=Wa(),ufe=Ta(),sfe=tn(),lfe=wv(),Itt=sM(),ffe=Bq(),cfe=Hq(),Ptt=Vq(),Ftt=Gq(),hfe=Yq(),M2=T2(),Bh=M2.LABELOPTIMIZER;El.plot=function(t,r,n,i){var a=r.xaxis,o=r.yaxis;Fs.makeTraceGroups(i,n,"contour").each(function(s){var l=k2.select(this),u=s[0],f=u.trace,c=u.x,h=u.y,v=f.contours,b=Ptt(v,r,u),y=Fs.ensureSingle(l,"g","heatmapcoloring"),x=[];v.coloring==="heatmap"&&(x=[s]),Itt(t,r,x,y),ffe(b),cfe(b);var m=a.c2p(c[0],!0),_=a.c2p(c[c.length-1],!0),g=o.c2p(h[0],!0),A=o.c2p(h[h.length-1],!0),w=[[m,A],[_,A],[_,g],[m,g]],k=b;v.type==="constraint"&&(k=Ftt(b,v._operation)),Ntt(l,w,v),ztt(l,k,w,v),Ott(l,b,t,u,v),Htt(l,r,t,u,w)})};function Ntt(e,t,r){var n=Fs.ensureSingle(e,"g","contourbg"),i=n.selectAll("path").data(r.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+t.join("L")+"Z").style("stroke","none")}function ztt(e,t,r,n){var i=n.coloring==="fill"||n.type==="constraint"&&n._operation!=="=",a="M"+r.join("L")+"Z";i&&hfe(t,n);var o=Fs.ensureSingle(e,"g","contourfill"),s=o.selectAll("path").data(i?t:[]);s.enter().append("path"),s.exit().remove(),s.each(function(l){var u=(l.prefixBoundary?a:"")+vfe(l,r);u?k2.select(this).attr("d",u).style("stroke","none"):k2.select(this).remove()})}function vfe(e,t){var r="",n=0,i=e.edgepaths.map(function(m,_){return _}),a=!0,o,s,l,u,f,c;function h(m){return Math.abs(m[1]-t[0][1])<.01}function v(m){return Math.abs(m[1]-t[2][1])<.01}function b(m){return Math.abs(m[0]-t[0][0])<.01}function y(m){return Math.abs(m[0]-t[2][0])<.01}for(;i.length;){for(c=Nv.smoothopen(e.edgepaths[n],e.smoothing),r+=a?c:c.replace(/^M/,"L"),i.splice(i.indexOf(n),1),o=e.edgepaths[n][e.edgepaths[n].length-1],u=-1,l=0;l<4;l++){if(!o){Fs.log("Missing end?",n,e);break}for(h(o)&&!y(o)?s=t[1]:b(o)?s=t[0]:v(o)?s=t[3]:y(o)&&(s=t[2]),f=0;f<e.edgepaths.length;f++){var x=e.edgepaths[f][0];Math.abs(o[0]-s[0])<.01?Math.abs(o[0]-x[0])<.01&&(x[1]-o[1])*(s[1]-x[1])>=0&&(s=x,u=f):Math.abs(o[1]-s[1])<.01?Math.abs(o[1]-x[1])<.01&&(x[0]-o[0])*(s[0]-x[0])>=0&&(s=x,u=f):Fs.log("endpt to newendpt is not vert. or horz.",o,s,x)}if(o=s,u>=0)break;r+="L"+s}if(u===e.edgepaths.length){Fs.log("unclosed perimeter path");break}n=u,a=i.indexOf(n)===-1,a&&(n=i[0],r+="Z")}for(n=0;n<e.paths.length;n++)r+=Nv.smoothclosed(e.paths[n],e.smoothing);return r}function Ott(e,t,r,n,i){var a=Fs.ensureSingle(e,"g","contourlines"),o=i.showlines!==!1,s=i.showlabels,l=o&&s,u=El.createLines(a,o||s,t),f=El.createLineClip(a,l,r,n.trace.uid),c=e.selectAll("g.contourlabels").data(s?[0]:[]);if(c.exit().remove(),c.enter().append("g").classed("contourlabels",!0),s){var h=[],v=[];Fs.clearLocationCache();var b=El.labelFormatter(r,n),y=Nv.tester.append("text").attr("data-notex",1).call(Nv.font,i.labelfont),x=t[0].xaxis,m=t[0].yaxis,_=x._length,g=m._length,A=x.range,w=m.range,k=Fs.aggNums(Math.min,null,n.x),p=Fs.aggNums(Math.max,null,n.x),d=Fs.aggNums(Math.min,null,n.y),M=Fs.aggNums(Math.max,null,n.y),T=Math.max(x.c2p(k,!0),0),S=Math.min(x.c2p(p,!0),_),E=Math.max(m.c2p(M,!0),0),L=Math.min(m.c2p(d,!0),g),D={};A[0]<A[1]?(D.left=T,D.right=S):(D.left=S,D.right=T),w[0]<w[1]?(D.top=E,D.bottom=L):(D.top=L,D.bottom=E),D.middle=(D.top+D.bottom)/2,D.center=(D.left+D.right)/2,h.push([[D.left,D.top],[D.right,D.top],[D.right,D.bottom],[D.left,D.bottom]]);var R=Math.sqrt(_*_+g*g),q=M2.LABELDISTANCE*R/Math.max(1,t.length/M2.LABELINCREASE);u.each(function(C){var F=El.calcTextOpts(C.level,b,y,r);k2.select(this).selectAll("path").each(function(){var N=this,U=Fs.getVisibleSegment(N,D,F.height/2);if(U&&!(U.len<(F.width+F.height)*M2.LABELMIN))for(var V=Math.min(Math.ceil(U.len/q),M2.LABELMAX),Y=0;Y<V;Y++){var K=El.findBestTextLocation(N,U,F,v,D);if(!K)break;El.addLabelData(K,F,v,h)}})}),y.remove(),El.drawLabels(c,v,r,f,l?h:null)}s&&!o&&u.remove()}El.createLines=function(e,t,r){var n=r[0].smoothing,i=e.selectAll("g.contourlevel").data(t?r:[]);if(i.exit().remove(),i.enter().append("g").classed("contourlevel",!0),t){var a=i.selectAll("path.openline").data(function(s){return s.pedgepaths||s.edgepaths});a.exit().remove(),a.enter().append("path").classed("openline",!0),a.attr("d",function(s){return Nv.smoothopen(s,n)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var o=i.selectAll("path.closedline").data(function(s){return s.ppaths||s.paths});o.exit().remove(),o.enter().append("path").classed("closedline",!0),o.attr("d",function(s){return Nv.smoothclosed(s,n)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}return i};El.createLineClip=function(e,t,r,n){var i=r._fullLayout._clips,a=t?"clipline"+n:null,o=i.selectAll("#"+a).data(t?[0]:[]);return o.exit().remove(),o.enter().append("clipPath").classed("contourlineclip",!0).attr("id",a),Nv.setClipUrl(e,a,r),o};El.labelFormatter=function(e,t){var r=e._fullLayout,n=t.trace,i=n.contours,a={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)a.tickformat=i.labelformat,lfe(a,r);else{var o=Rtt.extractOpts(n);if(o&&o.colorbar&&o.colorbar._axis)a=o.colorbar._axis;else{if(i.type==="constraint"){var s=i.value;Array.isArray(s)?a.range=[s[0],s[s.length-1]]:a.range=[s,s]}else a.range=[i.start,i.end],a.nticks=(i.end-i.start)/i.size;a.range[0]===a.range[1]&&(a.range[1]+=a.range[0]||1),a.nticks||(a.nticks=1e3),lfe(a,r),sfe.prepTicks(a),a._tmin=null,a._tmax=null}}return function(l){return sfe.tickText(a,l).text}};El.calcTextOpts=function(e,t,r,n){var i=t(e);r.text(i).call(ufe.convertToTspans,n);var a=r.node(),o=Nv.bBox(a,!0);return{text:i,width:o.width,height:o.height,fontSize:+a.style["font-size"].replace("px",""),level:e,dy:(o.top+o.bottom)/2}};El.findBestTextLocation=function(e,t,r,n,i){var a=r.width,o,s,l,u,f;t.isClosed?(s=t.len/Bh.INITIALSEARCHPOINTS,o=t.min+s/2,l=t.max):(s=(t.len-a)/(Bh.INITIALSEARCHPOINTS+1),o=t.min+s+a/2,l=t.max-(s+a)/2);for(var c=1/0,h=0;h<Bh.ITERATIONS;h++){for(var v=o;v<l;v+=s){var b=Fs.getTextLocation(e,t.total,v,a),y=Btt(b,r,n,i);y<c&&(c=y,f=b,u=v)}if(c>Bh.MAXCOST*2)break;h&&(s/=2),o=u-s/2,l=o+s*1.5}if(c<=Bh.MAXCOST)return f};function Btt(e,t,r,n){var i=t.width/2,a=t.height/2,o=e.x,s=e.y,l=e.theta,u=Math.cos(l)*i,f=Math.sin(l)*i,c=(o>n.center?n.right-o:o-n.left)/(u+Math.abs(Math.sin(l)*a)),h=(s>n.middle?n.bottom-s:s-n.top)/(Math.abs(f)+Math.cos(l)*a);if(c<1||h<1)return 1/0;var v=Bh.EDGECOST*(1/(c-1)+1/(h-1));v+=Bh.ANGLECOST*l*l;for(var b=o-u,y=s-f,x=o+u,m=s+f,_=0;_<r.length;_++){var g=r[_],A=Math.cos(g.theta)*g.width/2,w=Math.sin(g.theta)*g.width/2,k=Fs.segmentDistance(b,y,x,m,g.x-A,g.y-w,g.x+A,g.y+w)*2/(t.height+g.height),p=g.level===t.level,d=p?Bh.SAMELEVELDISTANCE:1;if(k<=d)return 1/0;var M=Bh.NEIGHBORCOST*(p?Bh.SAMELEVELFACTOR:1);v+=M/(k-d)}return v}El.addLabelData=function(e,t,r,n){var i=t.fontSize,a=t.width+i/3,o=Math.max(0,t.height-i/3),s=e.x,l=e.y,u=e.theta,f=Math.sin(u),c=Math.cos(u),h=function(b,y){return[s+b*c-y*f,l+b*f+y*c]},v=[h(-a/2,-o/2),h(-a/2,o/2),h(a/2,o/2),h(a/2,-o/2)];r.push({text:t.text,x:s,y:l,dy:t.dy,theta:u,level:t.level,width:a,height:o}),n.push(v)};El.drawLabels=function(e,t,r,n,i){var a=e.selectAll("text").data(t,function(u){return u.text+","+u.x+","+u.y+","+u.theta});if(a.exit().remove(),a.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(u){var f=u.x+Math.sin(u.theta)*u.dy,c=u.y-Math.cos(u.theta)*u.dy;k2.select(this).text(u.text).attr({x:f,y:c,transform:"rotate("+180*u.theta/Math.PI+" "+f+" "+c+")"}).call(ufe.convertToTspans,r)}),i){for(var o="",s=0;s<i.length;s++)o+="M"+i[s].join("L")+"Z";var l=Fs.ensureSingle(n,"path","");l.attr("d",o)}};function Htt(e,t,r,n,i){var a=n.trace,o=r._fullLayout._clips,s="clip"+a.uid,l=o.selectAll("#"+s).data(a.connectgaps?[]:[0]);if(l.enter().append("clipPath").classed("contourclip",!0).attr("id",s),l.exit().remove(),a.connectgaps===!1){var u={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.xaxis,yaxis:t.yaxis,x:n.x,y:n.y,z:Utt(n),smoothing:0};ffe([u]),cfe([u]),hfe([u],{type:"levels"});var f=Fs.ensureSingle(l,"path","");f.attr("d",(u.prefixBoundary?"M"+i.join("L")+"Z":"")+vfe(u,i))}else s=null;Nv.setClipUrl(e,s,r)}function Utt(e){var t=e.trace._emptypoints,r=[],n=e.z.length,i=e.z[0].length,a,o=[],s;for(a=0;a<i;a++)o.push(1);for(a=0;a<n;a++)r.push(o.slice());for(a=0;a<t.length;a++)s=t[a],r[s[0]][s[1]]=0;return e.zmask=r,r}});var Xq=$((GEt,dfe)=>{"use strict";var jtt=Nr(),Wq=Wa(),Vtt=_2();dfe.exports=function(t){var r=t.contours,n=r.start,i=Vtt(r),a=r.size||1,o=Math.floor((i-n)/a)+1,s=r.coloring==="lines"?0:1,l=Wq.extractOpts(t);isFinite(a)||(a=1,o=1);var u=l.reversescale?Wq.flipScale(l.colorscale):l.colorscale,f=u.length,c=new Array(f),h=new Array(f),v,b;if(r.coloring==="heatmap"){var y=l.min,x=l.max;for(b=0;b<f;b++)v=u[b],c[b]=v[0]*(x-y)+y,h[b]=v[1];var m=jtt.extent([y,x,r.start,r.start+a*(o-1)]),_=m[y<x?0:1],g=m[y<x?1:0];_!==y&&(c.splice(0,0,_),h.splice(0,0,h[0])),g!==x&&(c.push(g),h.push(h[h.length-1]))}else for(b=0;b<f;b++)v=u[b],c[b]=(v[0]*(o+s-1)-s/2)*a+n,h[b]=v[1];return Wq.makeColorScaleFunc({domain:c,range:h},{noNumericCheck:!0})}});var _M=$((YEt,gfe)=>{"use strict";var wM=Nr(),pfe=un(),Gtt=lM(),Ytt=Xq();gfe.exports=function(t){var r=wM.select(t).selectAll("g.contour");r.style("opacity",function(n){return n[0].trace.opacity}),r.each(function(n){var i=wM.select(this),a=n[0].trace,o=a.contours,s=a.line,l=o.size||1,u=o.start,f=o.type==="constraint",c=!f&&o.coloring==="lines",h=!f&&o.coloring==="fill",v=c||h?Ytt(a):null;i.selectAll("g.contourlevel").each(function(x){wM.select(this).selectAll("path").call(pfe.lineGroupStyle,s.width,c?v(x.level):s.color,s.dash)});var b=o.labelfont;if(i.selectAll("g.contourlabels text").each(function(x){pfe.font(wM.select(this),{family:b.family,size:b.size,color:b.color||(c?v(x.level):s.color)})}),f)i.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(h){var y;i.selectAll("g.contourfill path").style("fill",function(x){return y===void 0&&(y=x.level),v(x.level+.5*l)}),y===void 0&&(y=u),i.selectAll("g.contourbg path").style("fill",v(y-.5*l))}}),Gtt(t)}});var TM=$((WEt,yfe)=>{"use strict";var mfe=Wa(),Wtt=Xq(),Xtt=_2();function Ztt(e,t,r){var n=t.contours,i=t.line,a=n.size||1,o=n.coloring,s=Wtt(t,{isColorbar:!0});if(o==="heatmap"){var l=mfe.extractOpts(t);r._fillgradient=l.reversescale?mfe.flipScale(l.colorscale):l.colorscale,r._zrange=[l.min,l.max]}else o==="fill"&&(r._fillcolor=s);r._line={color:o==="lines"?s:i.color,width:n.showlines!==!1?i.width:0,dash:i.dash},r._levels={start:n.start,end:Xtt(n),size:a}}yfe.exports={min:"zmin",max:"zmax",calc:Ztt}});var Zq=$((XEt,xfe)=>{"use strict";var AM=Rr(),$tt=fM();xfe.exports=function(t,r,n,i,a){a||(a={}),a.isContour=!0;var o=$tt(t,r,n,i,a);return o&&o.forEach(function(s){var l=s.trace;l.contours.type==="constraint"&&(l.fillcolor&&AM.opacity(l.fillcolor)?s.color=AM.addOpacity(l.fillcolor,1):l.contours.showlines&&AM.opacity(l.line.color)&&(s.color=AM.addOpacity(l.line.color,1)))}),o}});var wfe=$((ZEt,bfe)=>{"use strict";bfe.exports={attributes:Iq(),supplyDefaults:Hue(),crossTraceDefaults:vM(),calc:Oq(),plot:bM().plot,layerName:"contourlayer",style:_M(),colorbar:TM(),hoverPoints:Zq(),moduleType:"trace",name:"histogram2dcontour",basePlotModule:as(),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{hrName:"histogram_2d_contour",description:["The sample data from which statistics are computed is set in `x`","and `y` (where `x` and `y` represent marginal distributions,","binning is set in `xbins` and `ybins` in this case)","or `z` (where `z` represent the 2D distribution and binning set,","binning is set by `x` and `y` in this case).","The resulting distribution is visualized as a contour plot."].join(" ")}}});var Tfe=$(($Et,_fe)=>{"use strict";_fe.exports=wfe()});var $q=$((KEt,Efe)=>{"use strict";var Afe=mn(),Ktt=Pq(),kfe=Rr(),Mfe=kfe.addOpacity,Jtt=kfe.opacity,Sfe=b2(),Qtt=Sfe.CONSTRAINT_REDUCTION,ert=Sfe.COMPARISON_OPS2;Efe.exports=function(t,r,n,i,a,o){var s=r.contours,l,u,f,c=n("contours.operation");if(s._operation=Qtt[c],trt(n,s),c==="="?l=s.showlines=!0:(l=n("contours.showlines"),f=n("fillcolor",Mfe((t.line||{}).color||a,.5))),l){var h=f&&Jtt(f)?Mfe(r.fillcolor,1):a;u=n("line.color",h),n("line.width",2),n("line.dash")}n("line.smoothing"),Ktt(n,i,u,o)};function trt(e,t){var r;ert.indexOf(t.operation)===-1?(e("contours.value",[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):t.length===0?t.value=[0,1]:t.length<2?(r=parseFloat(t.value[0]),t.value=[r,r+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:Afe(t.value)&&(r=parseFloat(t.value),t.value=[r,r+1])):(e("contours.value",0),Afe(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0))}});var Dfe=$((JEt,Cfe)=>{"use strict";var Kq=pt(),rrt=v2(),nrt=Ph(),irt=$q(),art=gM(),ort=mM(),srt=d2(),Lfe=w2();Cfe.exports=function(t,r,n,i){function a(u,f){return Kq.coerce(t,r,Lfe,u,f)}function o(u){return Kq.coerce2(t,r,Lfe,u)}var s=rrt(t,r,a,i);if(!s){r.visible=!1;return}nrt(t,r,i,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hoverongaps"),a("hovertemplate");var l=a("contours.type")==="constraint";a("connectgaps",Kq.isArray1D(r.z)),l?irt(t,r,a,i,n):(art(t,r,a,o),ort(t,r,a,i)),r.contours&&r.contours.coloring==="heatmap"&&srt(a,i)}});var Rfe=$((QEt,qfe)=>{"use strict";qfe.exports={attributes:w2(),supplyDefaults:Dfe(),calc:Oq(),plot:bM().plot,style:_M(),colorbar:TM(),hoverPoints:Zq(),moduleType:"trace",name:"contour",basePlotModule:as(),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{description:["The data from which contour lines are computed is set in `z`.","Data in `z` must be a {2D array} of numbers.","Say that `z` has N rows and M columns, then by default,","these N rows correspond to N y coordinates","(set in `y` or auto-generated) and the M columns","correspond to M x coordinates (set in `x` or auto-generated).","By setting `transpose` to *true*, the above behavior is flipped."].join(" ")}}});var Pfe=$((eLt,Ife)=>{"use strict";Ife.exports=Rfe()});var Jq=$((tLt,Nfe)=>{"use strict";var lrt=Yn().hovertemplateAttrs,urt=Yn().texttemplateAttrs,Iu=Ps(),frt=aa(),Ffe=Ma(),crt=Ul().dash,e0=ln().extendFlat,zv=Iu.marker,MM=Iu.line,hrt=zv.line;Nfe.exports={a:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},b:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},c:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},sum:{valType:"number",dflt:0,min:0,editType:"calc",description:["The number each triplet should sum to,","if only two of `a`, `b`, and `c` are provided.","This overrides `ternary<i>.sum` to normalize this specific","trace, but does not affect the values displayed on the axes.","0 (or missing) means to use ternary<i>.sum"].join(" ")},mode:e0({},Iu.mode,{dflt:"markers"}),text:e0({},Iu.text,{description:["Sets text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:urt({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:e0({},Iu.hovertext,{description:["Sets hover text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),line:{color:MM.color,width:MM.width,dash:crt,shape:e0({},MM.shape,{values:["linear","spline"]}),smoothing:MM.smoothing,editType:"calc"},connectgaps:Iu.connectgaps,cliponaxis:Iu.cliponaxis,fill:e0({},Iu.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterternary has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:Iu.fillcolor,marker:e0({symbol:zv.symbol,opacity:zv.opacity,maxdisplayed:zv.maxdisplayed,size:zv.size,sizeref:zv.sizeref,sizemin:zv.sizemin,sizemode:zv.sizemode,line:e0({width:hrt.width,editType:"calc"},Ffe("marker.line")),gradient:zv.gradient,editType:"calc"},Ffe("marker")),textfont:Iu.textfont,textposition:Iu.textposition,selected:Iu.selected,unselected:Iu.unselected,hoverinfo:e0({},frt.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:Iu.hoveron,hovertemplate:lrt()}});var Hfe=$((rLt,Bfe)=>{"use strict";var zfe=pt(),vrt=kp(),Im=ts(),drt=Cp(),prt=Dp(),Ofe=qb(),grt=qp(),mrt=nm(),yrt=Jq();Bfe.exports=function(t,r,n,i){function a(h,v){return zfe.coerce(t,r,yrt,h,v)}var o=a("a"),s=a("b"),l=a("c"),u;if(o?(u=o.length,s?(u=Math.min(u,s.length),l&&(u=Math.min(u,l.length))):l?u=Math.min(u,l.length):u=0):s&&l&&(u=Math.min(s.length,l.length)),!u){r.visible=!1;return}r._length=u,a("sum"),a("text"),a("hovertext"),r.hoveron!=="fills"&&a("hovertemplate");var f=u<vrt.PTS_LINESONLY?"lines+markers":"lines";a("mode",f),Im.hasLines(r)&&(prt(t,r,n,i,a),Ofe(t,r,a),a("connectgaps")),Im.hasMarkers(r)&&drt(t,r,n,i,a,{gradient:!0}),Im.hasText(r)&&(a("texttemplate"),grt(t,r,i,a));var c=[];(Im.hasMarkers(r)||Im.hasText(r))&&(a("cliponaxis"),a("marker.maxdisplayed"),c.push("points")),a("fill"),r.fill!=="none"&&(mrt(t,r,n,a),Im.hasLines(r)||Ofe(t,r,a)),(r.fill==="tonext"||r.fill==="toself")&&c.push("fills"),a("hoveron",c.join("+")||"points"),zfe.coerceSelectionMarkerOpacity(r,a)}});var jfe=$((nLt,Ufe)=>{"use strict";var Qq=tn();Ufe.exports=function(t,r,n){var i={},a=n[r.subplot]._subplot;return i.aLabel=Qq.tickText(a.aaxis,t.a,!0).text,i.bLabel=Qq.tickText(a.baxis,t.b,!0).text,i.cLabel=Qq.tickText(a.caxis,t.c,!0).text,i}});var Wfe=$((iLt,Yfe)=>{"use strict";var e8=mn(),xrt=Rp(),brt=Cv(),wrt=jc(),_rt=Ip().calcMarkerSize,Vfe=["a","b","c"],Gfe={a:["b","c"],b:["a","c"],c:["a","b"]};Yfe.exports=function(t,r){var n=t._fullLayout[r.subplot],i=n.sum,a=r.sum||i,o={a:r.a,b:r.b,c:r.c},s,l,u,f,c,h;for(s=0;s<Vfe.length;s++)if(u=Vfe[s],!o[u]){for(c=o[Gfe[u][0]],h=o[Gfe[u][1]],f=new Array(c.length),l=0;l<c.length;l++)f[l]=a-c[l]-h[l];o[u]=f}var v=r._length,b=new Array(v),y,x,m,_,g,A;for(s=0;s<v;s++)y=o.a[s],x=o.b[s],m=o.c[s],e8(y)&&e8(x)&&e8(m)?(y=+y,x=+x,m=+m,_=i/(y+x+m),_!==1&&(y*=_,x*=_,m*=_),A=y,g=m-x,b[s]={x:g,y:A,a:y,b:x,c:m}):b[s]={x:!1,y:!1};return _rt(r,v),xrt(t,r),brt(b,r),wrt(b,r),b}});var Zfe=$((aLt,Xfe)=>{"use strict";var Trt=Fb();Xfe.exports=function(t,r,n){var i=r.plotContainer;i.select(".scatterlayer").selectAll("*").remove();var a={xaxis:r.xaxis,yaxis:r.yaxis,plot:i,layerClipId:r._hasClipOnAxisFalse?r.clipIdRelative:null},o=r.layers.frontplot.select("g.scatterlayer");Trt(t,a,n,o)}});var Kfe=$((oLt,$fe)=>{"use strict";var Art=Nb();$fe.exports=function(t,r,n,i){var a=Art(t,r,n,i);if(!a||a[0].index===!1)return;var o=a[0];if(o.index===void 0){var s=1-o.y0/t.ya._length,l=t.xa._length,u=l*s/2,f=l-u;return o.x0=Math.max(Math.min(o.x0,f),u),o.x1=Math.max(Math.min(o.x1,f),u),a}var c=o.cd[o.index],h=o.trace,v=o.subplot;o.a=c.a,o.b=c.b,o.c=c.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var b={};b[h.subplot]={_subplot:v};var y=h._module.formatLabels(c,h,b);o.aLabel=y.aLabel,o.bLabel=y.bLabel,o.cLabel=y.cLabel;var x=c.hi||h.hoverinfo,m=[];function _(A,w){m.push(A._hovertitle+": "+w)}if(!h.hovertemplate){var g=x.split("+");g.indexOf("all")!==-1&&(g=["a","b","c"]),g.indexOf("a")!==-1&&_(v.aaxis,o.aLabel),g.indexOf("b")!==-1&&_(v.baxis,o.bLabel),g.indexOf("c")!==-1&&_(v.caxis,o.cLabel)}return o.extraText=m.join("<br>"),o.hovertemplate=h.hovertemplate,a}});var Qfe=$((sLt,Jfe)=>{"use strict";Jfe.exports=function(t,r,n,i,a){if(r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),i[a]){var o=i[a];t.a=o.a,t.b=o.b,t.c=o.c}else t.a=r.a,t.b=r.b,t.c=r.c;return t}});var fce=$((lLt,uce)=>{"use strict";var ace=Nr(),Mrt=Ko(),t8=Ir(),Ov=pt(),Hh=Ov.strTranslate,kM=Ov._,Fm=Rr(),SM=un(),S2=wv(),r8=ln().extendFlat,krt=Zi(),t0=tn(),ece=Gl(),tce=lo(),oce=Pd(),rce=oce.freeMode,Srt=oce.rectMode,n8=lp(),Ert=Qs().prepSelect,Lrt=Qs().selectOnClick,Crt=Qs().clearOutline,Drt=Qs().clearSelectionsCache,sce=Qo();function lce(e,t){this.id=e.id,this.graphDiv=e.graphDiv,this.init(t),this.makeFramework(t),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}uce.exports=lce;var Bv=lce.prototype;Bv.init=function(e){this.container=e._ternarylayer,this.defs=e._defs,this.layoutId=e._uid,this.traceHash={},this.layers={}};Bv.plot=function(e,t){var r=this,n=t[r.id],i=t._size;r._hasClipOnAxisFalse=!1;for(var a=0;a<e.length;a++){var o=e[a][0].trace;if(o.cliponaxis===!1){r._hasClipOnAxisFalse=!0;break}}r.updateLayers(n),r.adjustLayout(n,i),krt.generalUpdatePerTraceModule(r.graphDiv,r,e,n),r.layers.plotbg.select("path").call(Fm.fill,n.bgcolor)};Bv.makeFramework=function(e){var t=this,r=t.graphDiv,n=e[t.id],i=t.clipId="clip"+t.layoutId+t.id,a=t.clipIdRelative="clip-relative"+t.layoutId+t.id;t.clipDef=Ov.ensureSingleById(e._clips,"clipPath",i,function(o){o.append("path").attr("d","M0,0Z")}),t.clipDefRelative=Ov.ensureSingleById(e._clips,"clipPath",a,function(o){o.append("path").attr("d","M0,0Z")}),t.plotContainer=Ov.ensureSingle(t.container,"g",t.id),t.updateLayers(n),SM.setClipUrl(t.layers.backplot,i,r),SM.setClipUrl(t.layers.grids,i,r)};Bv.updateLayers=function(e){var t=this,r=t.layers,n=["draglayer","plotbg","backplot","grids"];e.aaxis.layer==="below traces"&&n.push("aaxis","aline"),e.baxis.layer==="below traces"&&n.push("baxis","bline"),e.caxis.layer==="below traces"&&n.push("caxis","cline"),n.push("frontplot"),e.aaxis.layer==="above traces"&&n.push("aaxis","aline"),e.baxis.layer==="above traces"&&n.push("baxis","bline"),e.caxis.layer==="above traces"&&n.push("caxis","cline");var i=t.plotContainer.selectAll("g.toplevel").data(n,String),a=["agrid","bgrid","cgrid"];i.enter().append("g").attr("class",function(o){return"toplevel "+o}).each(function(o){var s=ace.select(this);r[o]=s,o==="frontplot"?s.append("g").classed("scatterlayer",!0):o==="backplot"?s.append("g").classed("maplayer",!0):o==="plotbg"?s.append("path").attr("d","M0,0Z"):o==="aline"||o==="bline"||o==="cline"?s.append("path"):o==="grids"&&a.forEach(function(l){r[l]=s.append("g").classed("grid "+l,!0)})}),i.order()};var Pm=Math.sqrt(4/3);Bv.adjustLayout=function(e,t){var r=this,n=e.domain,i=(n.x[0]+n.x[1])/2,a=(n.y[0]+n.y[1])/2,o=n.x[1]-n.x[0],s=n.y[1]-n.y[0],l=o*t.w,u=s*t.h,f=e.sum,c=e.aaxis.min,h=e.baxis.min,v=e.caxis.min,b,y,x,m,_,g;l>Pm*u?(m=u,x=m*Pm):(x=l,m=x/Pm),_=o*x/l,g=s*m/u,b=t.l+t.w*i-x/2,y=t.t+t.h*(1-a)-m/2,r.x0=b,r.y0=y,r.w=x,r.h=m,r.sum=f,r.xaxis={type:"linear",range:[c+2*v-f,f-c-2*h],domain:[i-_/2,i+_/2],_id:"x"},S2(r.xaxis,r.graphDiv._fullLayout),r.xaxis.setScale(),r.xaxis.isPtWithinRange=function(D){return D.a>=r.aaxis.range[0]&&D.a<=r.aaxis.range[1]&&D.b>=r.baxis.range[1]&&D.b<=r.baxis.range[0]&&D.c>=r.caxis.range[1]&&D.c<=r.caxis.range[0]},r.yaxis={type:"linear",range:[c,f-h-v],domain:[a-g/2,a+g/2],_id:"y"},S2(r.yaxis,r.graphDiv._fullLayout),r.yaxis.setScale(),r.yaxis.isPtWithinRange=function(){return!0};var A=r.yaxis.domain[0],w=r.aaxis=r8({},e.aaxis,{range:[c,f-h-v],side:"left",tickangle:(+e.aaxis.tickangle||0)-30,domain:[A,A+g*Pm],anchor:"free",position:0,_id:"y",_length:x});S2(w,r.graphDiv._fullLayout),w.setScale();var k=r.baxis=r8({},e.baxis,{range:[f-c-v,h],side:"bottom",domain:r.xaxis.domain,anchor:"free",position:0,_id:"x",_length:x});S2(k,r.graphDiv._fullLayout),k.setScale();var p=r.caxis=r8({},e.caxis,{range:[f-c-h,v],side:"right",tickangle:(+e.caxis.tickangle||0)+30,domain:[A,A+g*Pm],anchor:"free",position:0,_id:"y",_length:x});S2(p,r.graphDiv._fullLayout),p.setScale();var d="M"+b+","+(y+m)+"h"+x+"l-"+x/2+",-"+m+"Z";r.clipDef.select("path").attr("d",d),r.layers.plotbg.select("path").attr("d",d);var M="M0,"+m+"h"+x+"l-"+x/2+",-"+m+"Z";r.clipDefRelative.select("path").attr("d",M);var T=Hh(b,y);r.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",T),r.clipDefRelative.select("path").attr("transform",null);var S=Hh(b-k._offset,y+m);r.layers.baxis.attr("transform",S),r.layers.bgrid.attr("transform",S);var E=Hh(b+x/2,y)+"rotate(30)"+Hh(0,-w._offset);r.layers.aaxis.attr("transform",E),r.layers.agrid.attr("transform",E);var L=Hh(b+x/2,y)+"rotate(-30)"+Hh(0,-p._offset);r.layers.caxis.attr("transform",L),r.layers.cgrid.attr("transform",L),r.drawAxes(!0),r.layers.aline.select("path").attr("d",w.showline?"M"+b+","+(y+m)+"l"+x/2+",-"+m:"M0,0").call(Fm.stroke,w.linecolor||"#000").style("stroke-width",(w.linewidth||0)+"px"),r.layers.bline.select("path").attr("d",k.showline?"M"+b+","+(y+m)+"h"+x:"M0,0").call(Fm.stroke,k.linecolor||"#000").style("stroke-width",(k.linewidth||0)+"px"),r.layers.cline.select("path").attr("d",p.showline?"M"+(b+x/2)+","+y+"l"+x/2+","+m:"M0,0").call(Fm.stroke,p.linecolor||"#000").style("stroke-width",(p.linewidth||0)+"px"),r.graphDiv._context.staticPlot||r.initInteractions(),SM.setClipUrl(r.layers.frontplot,r._hasClipOnAxisFalse?null:r.clipId,r.graphDiv)};Bv.drawAxes=function(e){var t=this,r=t.graphDiv,n=t.id.substr(7)+"title",i=t.layers,a=t.aaxis,o=t.baxis,s=t.caxis;if(t.drawAx(a),t.drawAx(o),t.drawAx(s),e){var l=Math.max(a.showticklabels?a.tickfont.size/2:0,(s.showticklabels?s.tickfont.size*.75:0)+(s.ticks==="outside"?s.ticklen*.87:0)),u=(o.showticklabels?o.tickfont.size:0)+(o.ticks==="outside"?o.ticklen:0)+3;i["a-title"]=n8.draw(r,"a"+n,{propContainer:a,propName:t.id+".aaxis.title",placeholder:kM(r,"Click to enter Component A title"),attributes:{x:t.x0+t.w/2,y:t.y0-a.title.font.size/3-l,"text-anchor":"middle"}}),i["b-title"]=n8.draw(r,"b"+n,{propContainer:o,propName:t.id+".baxis.title",placeholder:kM(r,"Click to enter Component B title"),attributes:{x:t.x0-u,y:t.y0+t.h+o.title.font.size*.83+u,"text-anchor":"middle"}}),i["c-title"]=n8.draw(r,"c"+n,{propContainer:s,propName:t.id+".caxis.title",placeholder:kM(r,"Click to enter Component C title"),attributes:{x:t.x0+t.w+u,y:t.y0+t.h+s.title.font.size*.83+u,"text-anchor":"middle"}})}};Bv.drawAx=function(e){var t=this,r=t.graphDiv,n=e._name,i=n.charAt(0),a=e._id,o=t.layers[n],s=30,l=i+"tickLayout",u=qrt(e);t[l]!==u&&(o.selectAll("."+a+"tick").remove(),t[l]=u),e.setScale();var f=t0.calcTicks(e),c=t0.clipEnds(e,f),h=t0.makeTransTickFn(e),v=t0.getTickSigns(e)[2],b=Ov.deg2rad(s),y=v*(e.linewidth||1)/2,x=v*e.ticklen,m=t.w,_=t.h,g=i==="b"?"M0,"+y+"l"+Math.sin(b)*x+","+Math.cos(b)*x:"M"+y+",0l"+Math.cos(b)*x+","+-Math.sin(b)*x,A={a:"M0,0l"+_+",-"+m/2,b:"M0,0l-"+m/2+",-"+_,c:"M0,0l-"+_+","+m/2}[i];t0.drawTicks(r,e,{vals:e.ticks==="inside"?c:f,layer:o,path:g,transFn:h,crisp:!1}),t0.drawGrid(r,e,{vals:c,layer:t.layers[i+"grid"],path:A,transFn:h,crisp:!1}),t0.drawLabels(r,e,{vals:f,layer:o,transFn:h,labelFns:t0.makeLabelFns(e,0,s)})};function qrt(e){return e.ticks+String(e.ticklen)+String(e.showticklabels)}var os=sce.MINZOOM/2+.87,Rrt="m-0.87,.5h"+os+"v3h-"+(os+5.2)+"l"+(os/2+2.6)+",-"+(os*.87+4.5)+"l2.6,1.5l-"+os/2+","+os*.87+"Z",Irt="m0.87,.5h-"+os+"v3h"+(os+5.2)+"l-"+(os/2+2.6)+",-"+(os*.87+4.5)+"l-2.6,1.5l"+os/2+","+os*.87+"Z",Prt="m0,1l"+os/2+","+os*.87+"l2.6,-1.5l-"+(os/2+2.6)+",-"+(os*.87+4.5)+"l-"+(os/2+2.6)+","+(os*.87+4.5)+"l2.6,1.5l"+os/2+",-"+os*.87+"Z",Frt="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",nce=!0;Bv.clearOutline=function(){Drt(this.dragOptions),Crt(this.dragOptions.gd)};Bv.initInteractions=function(){var e=this,t=e.layers.plotbg.select("path").node(),r=e.graphDiv,n=r._fullLayout._zoomlayer,i,a;this.dragOptions={element:t,gd:r,plotinfo:{id:e.id,domain:r._fullLayout[e.id].domain,xaxis:e.xaxis,yaxis:e.yaxis},subplot:e.id,prepFn:function(S,E,L){e.dragOptions.xaxes=[e.xaxis],e.dragOptions.yaxes=[e.yaxis],i=r._fullLayout._invScaleX,a=r._fullLayout._invScaleY;var D=e.dragOptions.dragmode=r._fullLayout.dragmode;rce(D)?e.dragOptions.minDrag=1:e.dragOptions.minDrag=void 0,D==="zoom"?(e.dragOptions.moveFn=k,e.dragOptions.clickFn=m,e.dragOptions.doneFn=p,_(S,E,L)):D==="pan"?(e.dragOptions.moveFn=M,e.dragOptions.clickFn=m,e.dragOptions.doneFn=T,d(),e.clearOutline(r)):(Srt(D)||rce(D))&&Ert(S,E,L,e.dragOptions,D)}};var o,s,l,u,f,c,h,v,b,y;function x(S){var E={};return E[e.id+".aaxis.min"]=S.a,E[e.id+".baxis.min"]=S.b,E[e.id+".caxis.min"]=S.c,E}function m(S,E){var L=r._fullLayout.clickmode;ice(r),S===2&&(r.emit("plotly_doubleclick",null),t8.call("_guiRelayout",r,x({a:0,b:0,c:0}))),L.indexOf("select")>-1&&S===1&&Lrt(E,r,[e.xaxis],[e.yaxis],e.id,e.dragOptions),L.indexOf("event")>-1&&tce.click(r,E,e.id)}function _(S,E,L){var D=t.getBoundingClientRect();o=E-D.left,s=L-D.top,r._fullLayout._calcInverseTransform(r);var R=r._fullLayout._invTransform,q=Ov.apply3DTransform(R)(o,s);o=q[0],s=q[1],l={a:e.aaxis.range[0],b:e.baxis.range[1],c:e.caxis.range[1]},f=l,u=e.aaxis.range[1]-l.a,c=Mrt(e.graphDiv._fullLayout[e.id].bgcolor).getLuminance(),h="M0,"+e.h+"L"+e.w/2+", 0L"+e.w+","+e.h+"Z",v=!1,b=n.append("path").attr("class","zoombox").attr("transform",Hh(e.x0,e.y0)).style({fill:c>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",h),y=n.append("path").attr("class","zoombox-corners").attr("transform",Hh(e.x0,e.y0)).style({fill:Fm.background,stroke:Fm.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),e.clearOutline(r)}function g(S,E){return 1-E/e.h}function A(S,E){return 1-(S+(e.h-E)/Math.sqrt(3))/e.w}function w(S,E){return(S-(e.h-E)/Math.sqrt(3))/e.w}function k(S,E){var L=o+S*i,D=s+E*a,R=Math.max(0,Math.min(1,g(o,s),g(L,D))),q=Math.max(0,Math.min(1,A(o,s),A(L,D))),C=Math.max(0,Math.min(1,w(o,s),w(L,D))),F=(R/2+C)*e.w,N=(1-R/2-q)*e.w,U=(F+N)/2,V=N-F,Y=(1-R)*e.h,K=Y-V/Pm;V<sce.MINZOOM?(f=l,b.attr("d",h),y.attr("d","M0,0Z")):(f={a:l.a+R*u,b:l.b+q*u,c:l.c+C*u},b.attr("d",h+"M"+F+","+Y+"H"+N+"L"+U+","+K+"L"+F+","+Y+"Z"),y.attr("d","M"+o+","+s+Frt+"M"+F+","+Y+Rrt+"M"+N+","+Y+Irt+"M"+U+","+K+Prt)),v||(b.transition().style("fill",c>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),y.transition().style("opacity",1).duration(200),v=!0),r.emit("plotly_relayouting",x(f))}function p(){ice(r),f!==l&&(t8.call("_guiRelayout",r,x(f)),nce&&r.data&&r._context.showTips&&(Ov.notifier(kM(r,"Double-click to zoom back out"),"long"),nce=!1))}function d(){l={a:e.aaxis.range[0],b:e.baxis.range[1],c:e.caxis.range[1]},f=l}function M(S,E){var L=S/e.xaxis._m,D=E/e.yaxis._m;f={a:l.a-D,b:l.b+(L+D)/2,c:l.c-(L-D)/2};var R=[f.a,f.b,f.c].sort(Ov.sorterAsc),q={a:R.indexOf(f.a),b:R.indexOf(f.b),c:R.indexOf(f.c)};R[0]<0&&(R[1]+R[0]/2<0?(R[2]+=R[0]+R[1],R[0]=R[1]=0):(R[2]+=R[0]/2,R[1]+=R[0]/2,R[0]=0),f={a:R[q.a],b:R[q.b],c:R[q.c]},E=(l.a-f.a)*e.yaxis._m,S=(l.c-f.c-l.b+f.b)*e.xaxis._m);var C=Hh(e.x0+S,e.y0+E);e.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",C);var F=Hh(-S,-E);e.clipDefRelative.select("path").attr("transform",F),e.aaxis.range=[f.a,e.sum-f.b-f.c],e.baxis.range=[e.sum-f.a-f.c,f.b],e.caxis.range=[e.sum-f.a-f.b,f.c],e.drawAxes(!1),e._hasClipOnAxisFalse&&e.plotContainer.select(".scatterlayer").selectAll(".trace").call(SM.hideOutsideRangePoints,e),r.emit("plotly_relayouting",x(f))}function T(){t8.call("_guiRelayout",r,x(f))}t.onmousemove=function(S){tce.hover(r,S,e.id),r._fullLayout._lasthover=t,r._fullLayout._hoversubplot=e.id},t.onmouseout=function(S){r._dragging||ece.unhover(r,S)},ece.init(this.dragOptions)};function ice(e){ace.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}});var o8=$((uLt,cce)=>{"use strict";var Nrt=Ro(),zrt=Ua().attributes,wi=xl(),Ort=Fa().overrideAll,i8=ln().extendFlat,a8={title:{text:wi.title.text,font:wi.title.font},color:wi.color,tickmode:wi.tickmode,nticks:i8({},wi.nticks,{dflt:6,min:1}),tick0:wi.tick0,dtick:wi.dtick,tickvals:wi.tickvals,ticktext:wi.ticktext,ticks:wi.ticks,ticklen:wi.ticklen,tickwidth:wi.tickwidth,tickcolor:wi.tickcolor,ticklabelstep:wi.ticklabelstep,showticklabels:wi.showticklabels,showtickprefix:wi.showtickprefix,tickprefix:wi.tickprefix,showticksuffix:wi.showticksuffix,ticksuffix:wi.ticksuffix,showexponent:wi.showexponent,exponentformat:wi.exponentformat,minexponent:wi.minexponent,separatethousands:wi.separatethousands,tickfont:wi.tickfont,tickangle:wi.tickangle,tickformat:wi.tickformat,tickformatstops:wi.tickformatstops,hoverformat:wi.hoverformat,showline:i8({},wi.showline,{dflt:!0}),linecolor:wi.linecolor,linewidth:wi.linewidth,showgrid:i8({},wi.showgrid,{dflt:!0}),gridcolor:wi.gridcolor,gridwidth:wi.gridwidth,griddash:wi.griddash,layer:wi.layer,min:{valType:"number",dflt:0,min:0,description:["The minimum value visible on this axis.","The maximum is determined by the sum minus the minimum","values of the other two axes. The full view corresponds to","all the minima set to zero."].join(" ")},_deprecated:{title:wi._deprecated.title,titlefont:wi._deprecated.titlefont}},EM=cce.exports=Ort({domain:zrt({name:"ternary"}),bgcolor:{valType:"color",dflt:Nrt.background,description:"Set the background color of the subplot"},sum:{valType:"number",dflt:1,min:0,description:["The number each triplet should sum to,","and the maximum range of each axis"].join(" ")},aaxis:a8,baxis:a8,caxis:a8},"plot","from-root");EM.uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `min` and `title`,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")};EM.aaxis.uirevision=EM.baxis.uirevision=EM.caxis.uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `min`,","and `title` if in `editable: true` configuration.","Defaults to `ternary<N>.uirevision`."].join(" ")}});var E2=$((fLt,hce)=>{"use strict";var Brt=pt(),Hrt=bi(),Urt=Ua().defaults;hce.exports=function(t,r,n,i){var a=i.type,o=i.attributes,s=i.handleDefaults,l=i.partition||"x",u=r._subplots[a],f=u.length,c=f&&u[0].replace(/\d+$/,""),h,v;function b(_,g){return Brt.coerce(h,v,o,_,g)}for(var y=0;y<f;y++){var x=u[y];t[x]?h=t[x]:h=t[x]={},v=Hrt.newContainer(r,x,c),i.noUirevision||b("uirevision",r.uirevision);var m={};m[l]=[y/f,(y+1)/f],Urt(v,r,b,m),i.id=x,s(h,v,b,i)}}});var gce=$((cLt,pce)=>{"use strict";var jrt=Rr(),Vrt=bi(),LM=pt(),Grt=E2(),Yrt=op(),Wrt=sp(),Xrt=F1(),Zrt=ap(),$rt=rA(),dce=o8(),vce=["aaxis","baxis","caxis"];pce.exports=function(t,r,n){Grt(t,r,n,{type:"ternary",attributes:dce,handleDefaults:Krt,font:r.font,paper_bgcolor:r.paper_bgcolor})};function Krt(e,t,r,n){var i=r("bgcolor"),a=r("sum");n.bgColor=jrt.combine(i,n.paper_bgcolor);for(var o,s,l,u=0;u<vce.length;u++)o=vce[u],s=e[o]||{},l=Vrt.newContainer(t,o),l._name=o,Jrt(s,l,n,t);var f=t.aaxis,c=t.baxis,h=t.caxis;f.min+c.min+h.min>=a&&(f.min=0,c.min=0,h.min=0,e.aaxis&&delete e.aaxis.min,e.baxis&&delete e.baxis.min,e.caxis&&delete e.caxis.min)}function Jrt(e,t,r,n){var i=dce[t._name];function a(v,b){return LM.coerce(e,t,i,v,b)}a("uirevision",n.uirevision),t.type="linear";var o=a("color"),s=o!==i.color.dflt?o:r.font.color,l=t._name,u=l.charAt(0).toUpperCase(),f="Component "+u,c=a("title.text",f);t._hovertitle=c===f?c:u,LM.coerceFont(a,"title.font",{family:r.font.family,size:LM.bigFont(r.font.size),color:s}),a("min"),Zrt(e,t,a,"linear"),Wrt(e,t,a,"linear"),Yrt(e,t,a,"linear"),Xrt(e,t,a,{outerTicks:!0});var h=a("showticklabels");h&&(LM.coerceFont(a,"tickfont",{family:r.font.family,size:r.font.size,color:s}),a("tickangle"),a("tickformat")),$rt(e,t,a,{dfltColor:o,bgColor:r.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i}),a("hoverformat"),a("layer")}});var mce=$(Jc=>{"use strict";var Qrt=fce(),ent=Au().getSubplotCalcData,tnt=pt().counterRegex,Nm="ternary";Jc.name=Nm;var rnt=Jc.attr="subplot";Jc.idRoot=Nm;Jc.idRegex=Jc.attrRegex=tnt(Nm);var nnt=Jc.attributes={};nnt[rnt]={valType:"subplotid",dflt:"ternary",editType:"calc",description:["Sets a reference between this trace's data coordinates and","a ternary subplot.","If *ternary* (the default value), the data refer to `layout.ternary`.","If *ternary2*, the data refer to `layout.ternary2`, and so on."].join(" ")};Jc.layoutAttributes=o8();Jc.supplyLayoutDefaults=gce();Jc.plot=function(t){for(var r=t._fullLayout,n=t.calcdata,i=r._subplots[Nm],a=0;a<i.length;a++){var o=i[a],s=ent(n,Nm,o),l=r[o]._subplot;l||(l=new Qrt({id:o,graphDiv:t,container:r._ternarylayer.node()},r),r[o]._subplot=l),l.plot(s,r,t._promises)}};Jc.clean=function(e,t,r,n){for(var i=n._subplots[Nm]||[],a=0;a<i.length;a++){var o=i[a],s=n[o]._subplot;!t[o]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}});var xce=$((vLt,yce)=>{"use strict";yce.exports={attributes:Jq(),supplyDefaults:Hfe(),colorbar:Zf(),formatLabels:jfe(),calc:Wfe(),plot:Zfe(),style:gf().style,styleOnSelect:gf().styleOnSelect,hoverPoints:Kfe(),selectPoints:zb(),eventData:Qfe(),moduleType:"trace",name:"scatterternary",basePlotModule:mce(),categories:["ternary","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_ternary",description:["Provides similar functionality to the *scatter* type but on a ternary phase diagram.","The data is provided by at least two arrays out of `a`, `b`, `c` triplets."].join(" ")}}});var wce=$((dLt,bce)=>{"use strict";bce.exports=xce()});var s8=$((pLt,Tce)=>{"use strict";var ss=l2(),zm=ln().extendFlat,_ce=Ha().axisHoverFormat;Tce.exports={y:ss.y,x:ss.x,x0:ss.x0,y0:ss.y0,xhoverformat:_ce("x"),yhoverformat:_ce("y"),name:zm({},ss.name,{description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For violin traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical.","Note that the trace name is also used as a default value","for attribute `scalegroup` (please see its description for details)."].join(" ")}),orientation:zm({},ss.orientation,{description:["Sets the orientation of the violin(s).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")}),bandwidth:{valType:"number",min:0,editType:"calc",description:["Sets the bandwidth used to compute the kernel density estimate.","By default, the bandwidth is determined by Silverman's rule of thumb."].join(" ")},scalegroup:{valType:"string",dflt:"",editType:"calc",description:["If there are multiple violins that should be sized according to","to some metric (see `scalemode`), link them by providing a non-empty group id here","shared by every trace in the same group.","If a violin's `width` is undefined, `scalegroup` will default to the trace's name.","In this case, violins with the same names will be linked together"].join(" ")},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc",description:["Sets the metric by which the width of each violin is determined.","*width* means each violin has the same (max) width","*count* means the violins are scaled by the number of sample points making","up each violin."].join(" ")},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc",description:["Sets the method by which the span in data space where the density function will be computed.","*soft* means the span goes from the sample's minimum value minus two bandwidths","to the sample's maximum value plus two bandwidths.","*hard* means the span goes from the sample's minimum to its maximum value.","For custom span settings, use mode *manual* and fill in the `span` attribute."].join(" ")},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the span in data space for which the density function will be computed.","Has an effect only when `spanmode` is set to *manual*."].join(" ")},line:{color:{valType:"color",editType:"style",description:"Sets the color of line bounding the violin(s)."},width:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the violin(s)."},editType:"plot"},fillcolor:ss.fillcolor,points:zm({},ss.boxpoints,{description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the violins are shown with no sample points.","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set,","otherwise defaults to *outliers*."].join(" ")}),jitter:zm({},ss.jitter,{description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the violins."].join(" ")}),pointpos:zm({},ss.pointpos,{description:["Sets the position of the sample points in relation to the violins.","If *0*, the sample points are places over the center of the violins.","Positive (negative) values correspond to positions to the","right (left) for vertical violins and above (below) for horizontal violins."].join(" ")}),width:zm({},ss.width,{description:["Sets the width of the violin in data coordinates.","If *0* (default value) the width is automatically selected based on the positions","of other violin traces in the same subplot."].join(" ")}),marker:ss.marker,text:ss.text,hovertext:ss.hovertext,hovertemplate:ss.hovertemplate,quartilemethod:ss.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines if an miniature box plot is drawn inside the violins. "].join(" ")},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot",description:["Sets the width of the inner box plots relative to","the violins' width.","For example, with 1, the inner box plots are as wide as the violins."].join(" ")},fillcolor:{valType:"color",editType:"style",description:"Sets the inner box plot fill color."},line:{color:{valType:"color",editType:"style",description:"Sets the inner box plot bounding line color."},width:{valType:"number",min:0,editType:"style",description:"Sets the inner box plot bounding line width."},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines if a line corresponding to the sample's mean is shown","inside the violins.","If `box.visible` is turned on, the mean line is drawn inside the inner box.","Otherwise, the mean line is drawn from one side of the violin to other."].join(" ")},color:{valType:"color",editType:"style",description:"Sets the mean line color."},width:{valType:"number",min:0,editType:"style",description:"Sets the mean line width."},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc",description:["Determines on which side of the position value the density function making up","one half of a violin is plotted.","Useful when comparing two violin traces under *overlay* mode, where one trace","has `side` set to *positive* and the other to *negative*."].join(" ")},offsetgroup:ss.offsetgroup,alignmentgroup:ss.alignmentgroup,selected:ss.selected,unselected:ss.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style",description:["Do the hover effects highlight individual violins","or sample points or the kernel density estimate or any combination of them?"].join(" ")}}});var f8=$((gLt,Ace)=>{"use strict";var l8=u2(),u8=pt().extendFlat;Ace.exports={violinmode:u8({},l8.boxmode,{description:["Determines how violins at the same location coordinate","are displayed on the graph.","If *group*, the violins are plotted next to one another","centered around the shared location.","If *overlay*, the violins are plotted over one another,","you might need to set *opacity* to see them multiple violins.","Has no effect on traces that have *width* set."].join(" ")}),violingap:u8({},l8.boxgap,{description:["Sets the gap (in plot fraction) between violins of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")}),violingroupgap:u8({},l8.boxgroupgap,{description:["Sets the gap (in plot fraction) between violins of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")})}});var Lce=$((mLt,Ece)=>{"use strict";var Mce=pt(),int=Rr(),kce=c2(),Sce=s8();Ece.exports=function(t,r,n,i){function a(w,k){return Mce.coerce(t,r,Sce,w,k)}function o(w,k){return Mce.coerce2(t,r,Sce,w,k)}if(kce.handleSampleDefaults(t,r,a,i),r.visible!==!1){a("bandwidth"),a("side");var s=a("width");s||(a("scalegroup",r.name),a("scalemode"));var l=a("span"),u;Array.isArray(l)&&(u="manual"),a("spanmode",u);var f=a("line.color",(t.marker||{}).color||n),c=a("line.width"),h=a("fillcolor",int.addOpacity(r.line.color,.5));kce.handlePointsDefaults(t,r,a,{prefix:""});var v=o("box.width"),b=o("box.fillcolor",h),y=o("box.line.color",f),x=o("box.line.width",c),m=a("box.visible",Boolean(v||b||y||x));m||(r.box={visible:!1});var _=o("meanline.color",f),g=o("meanline.width",c),A=a("meanline.visible",Boolean(_||g));A||(r.meanline={visible:!1}),a("quartilemethod")}}});var Dce=$((yLt,Cce)=>{"use strict";var ant=pt(),ont=f8(),snt=YA();Cce.exports=function(t,r,n){function i(a,o){return ant.coerce(t,r,ont,a,o)}snt._supply(t,r,n,i,"violin")}});var CM=$(Xp=>{"use strict";var lnt=pt(),unt={gaussian:function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)}};Xp.makeKDE=function(e,t,r){var n=r.length,i=unt.gaussian,a=e.bandwidth,o=1/(n*a);return function(s){for(var l=0,u=0;u<n;u++)l+=i((s-r[u])/a);return o*l}};Xp.getPositionOnKdePath=function(e,t,r){var n,i;t.orientation==="h"?(n="y",i="x"):(n="x",i="y");var a=lnt.findPointOnPath(e.path,r,i,{pathLength:e.pathLength}),o=e.posCenterPx,s=a[n],l=t.side==="both"?2*o-s:o;return[s,l]};Xp.getKdeValue=function(e,t,r){var n=e.pts.map(Xp.extractVal),i=Xp.makeKDE(e,t,n);return i(r)/e.posDensityScale};Xp.extractVal=function(e){return e.v}});var Ice=$((bLt,Rce)=>{"use strict";var c8=pt(),h8=tn(),fnt=rq(),qce=CM(),cnt=Zn().BADNUM;Rce.exports=function(t,r){var n=fnt(t,r);if(n[0].t.empty)return n;for(var i=t._fullLayout,a=h8.getFromId(t,r[r.orientation==="h"?"xaxis":"yaxis"]),o=1/0,s=-1/0,l=0,u=0,f=0;f<n.length;f++){var c=n[f],h=c.pts.map(qce.extractVal),v=c.bandwidth=vnt(r,c,h),b=c.span=dnt(r,c,a,v);if(c.min===c.max&&v===0)b=c.span=[c.min,c.max],c.density=[{v:1,t:b[0]}],c.bandwidth=v,l=Math.max(l,1);else{var y=b[1]-b[0],x=Math.ceil(y/(v/3)),m=y/x;if(!isFinite(m)||!isFinite(x))return c8.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var _=qce.makeKDE(c,r,h);c.density=new Array(x);for(var g=0,A=b[0];A<b[1]+m/2;g++,A+=m){var w=_(A);c.density[g]={v:w,t:A},l=Math.max(l,w)}}u=Math.max(u,h.length),o=Math.min(o,b[0]),s=Math.max(s,b[1])}var k=h8.findExtremes(a,[o,s],{padded:!0});if(r._extremes[a._id]=k,r.width)n[0].t.maxKDE=l;else{var p=i._violinScaleGroupStats,d=r.scalegroup,M=p[d];M?(M.maxKDE=Math.max(M.maxKDE,l),M.maxCount=Math.max(M.maxCount,u)):p[d]={maxKDE:l,maxCount:u}}return n[0].t.labels.kde=c8._(t,"kde:"),n};function hnt(e,t,r){var n=Math.min(t,r/1.349);return 1.059*n*Math.pow(e,-.2)}function vnt(e,t,r){var n=t.max-t.min;if(!n)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,n/1e4);var i=r.length,a=c8.stdev(r,i-1,t.mean);return Math.max(hnt(i,a,t.q3-t.q1),n/100)}function dnt(e,t,r,n){var i=e.spanmode,a=e.span||[],o=[t.min,t.max],s=[t.min-2*n,t.max+2*n],l;function u(c){var h=a[c],v=r.type==="multicategory"?r.r2c(h):r.d2c(h,0,e[t.valLetter+"calendar"]);return v===cnt?s[c]:v}i==="soft"?l=s:i==="hard"?l=o:l=[u(0),u(1)];var f={type:"linear",range:l};return h8.setConvert(f),f.cleanRange(),l}});var Nce=$((wLt,Fce)=>{"use strict";var pnt=XA().setPositionOffset,Pce=["v","h"];Fce.exports=function(t,r){for(var n=t.calcdata,i=r.xaxis,a=r.yaxis,o=0;o<Pce.length;o++){for(var s=Pce[o],l=s==="h"?a:i,u=[],f=0;f<n.length;f++){var c=n[f],h=c[0].t,v=c[0].trace;v.visible===!0&&v.type==="violin"&&!h.empty&&v.orientation===s&&v.xaxis===i._id&&v.yaxis===a._id&&u.push(f)}pnt("violin",t,u,l)}}});var Oce=$((_Lt,zce)=>{"use strict";var v8=Nr(),d8=pt(),gnt=un(),p8=ZA(),mnt=N6(),ynt=CM();zce.exports=function(t,r,n,i){var a=t._fullLayout,o=r.xaxis,s=r.yaxis;function l(u){var f=mnt(u,{xaxis:o,yaxis:s,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return gnt.smoothopen(f[0],1)}d8.makeTraceGroups(i,n,"trace violins").each(function(u){var f=v8.select(this),c=u[0],h=c.t,v=c.trace;if(v.visible!==!0||h.empty){f.remove();return}var b=h.bPos,y=h.bdPos,x=r[h.valLetter+"axis"],m=r[h.posLetter+"axis"],_=v.side==="both",g=_||v.side==="positive",A=_||v.side==="negative",w=f.selectAll("path.violin").data(d8.identity);w.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(L){var D=v8.select(this),R=L.density,q=R.length,C=m.c2l(L.pos+b,!0),F=m.l2p(C),N;if(v.width)N=h.maxKDE/y;else{var U=a._violinScaleGroupStats[v.scalegroup];N=v.scalemode==="count"?U.maxKDE/y*(U.maxCount/L.pts.length):U.maxKDE/y}var V,Y,K,B,z,j,ae;if(g){for(j=new Array(q),B=0;B<q;B++)ae=j[B]={},ae[h.posLetter]=C+R[B].v/N,ae[h.valLetter]=x.c2l(R[B].t,!0);V=l(j)}if(A){for(j=new Array(q),z=0,B=q-1;z<q;z++,B--)ae=j[z]={},ae[h.posLetter]=C-R[B].v/N,ae[h.valLetter]=x.c2l(R[B].t,!0);Y=l(j)}if(_)K=V+"L"+Y.substr(1)+"Z";else{var ee=[F,x.c2p(R[0].t)],ve=[F,x.c2p(R[q-1].t)];v.orientation==="h"&&(ee.reverse(),ve.reverse()),g?K="M"+ee+"L"+V.substr(1)+"L"+ve:K="M"+ve+"L"+Y.substr(1)+"L"+ee}D.attr("d",K),L.posCenterPx=F,L.posDensityScale=N*y,L.path=D.node(),L.pathLength=L.path.getTotalLength()/(_?2:1)});var k=v.box,p=k.width,d=(k.line||{}).width,M,T;_?(M=y*p,T=0):g?(M=[0,y*p/2],T=d*{x:1,y:-1}[h.posLetter]):(M=[y*p/2,0],T=d*{x:-1,y:1}[h.posLetter]),p8.plotBoxAndWhiskers(f,{pos:m,val:x},v,{bPos:b,bdPos:M,bPosPxOffset:T}),p8.plotBoxMean(f,{pos:m,val:x},v,{bPos:b,bdPos:M,bPosPxOffset:T});var S;!v.box.visible&&v.meanline.visible&&(S=d8.identity);var E=f.selectAll("path.meanline").data(S||[]);E.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),E.exit().remove(),E.each(function(L){var D=x.c2p(L.mean,!0),R=ynt.getPositionOnKdePath(L,v,D);v8.select(this).attr("d",v.orientation==="h"?"M"+D+","+R[0]+"V"+R[1]:"M"+R[0]+","+D+"H"+R[1])}),p8.plotPoints(f,{x:o,y:s},v,h)})}});var Uce=$((TLt,Hce)=>{"use strict";var Bce=Nr(),Om=Rr(),xnt=gf().stylePoints;Hce.exports=function(t){var r=Bce.select(t).selectAll("g.trace.violins");r.style("opacity",function(n){return n[0].trace.opacity}),r.each(function(n){var i=n[0].trace,a=Bce.select(this),o=i.box||{},s=o.line||{},l=i.meanline||{},u=l.width;a.selectAll("path.violin").style("stroke-width",i.line.width+"px").call(Om.stroke,i.line.color).call(Om.fill,i.fillcolor),a.selectAll("path.box").style("stroke-width",s.width+"px").call(Om.stroke,s.color).call(Om.fill,o.fillcolor);var f={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};a.selectAll("path.mean").style(f).call(Om.stroke,l.color),a.selectAll("path.meanline").style(f).call(Om.stroke,l.color),xnt(a,i,t)})}});var Yce=$((ALt,Gce)=>{"use strict";var g8=pt(),bnt=tn(),jce=sq(),Vce=CM();Gce.exports=function(t,r,n,i,a){a||(a={});var o=a.hoverLayer,s=t.cd,l=s[0].trace,u=l.hoveron,f=u.indexOf("violins")!==-1,c=u.indexOf("kde")!==-1,h=[],v,b;if(f||c){var y=jce.hoverOnBoxes(t,r,n,i);if(c&&y.length>0){var x=t.xa,m=t.ya,_,g,A,w,k;l.orientation==="h"?(k=r,_="y",A=m,g="x",w=x):(k=n,_="x",A=x,g="y",w=m);var p=s[t.index];if(k>=p.span[0]&&k<=p.span[1]){var d=g8.extendFlat({},t),M=w.c2p(k,!0),T=Vce.getKdeValue(p,l,k),S=Vce.getPositionOnKdePath(p,l,M),E=A._offset,L=A._length;d[_+"0"]=S[0],d[_+"1"]=S[1],d[g+"0"]=d[g+"1"]=M,d[g+"Label"]=g+": "+bnt.hoverLabelText(w,k,l[g+"hoverformat"])+", "+s[0].t.labels.kde+" "+T.toFixed(3);for(var D=0,R=0;R<y.length;R++)if(y[R].attr==="med"){D=R;break}d.spikeDistance=y[D].spikeDistance;var q=_+"Spike";d[q]=y[D][q],y[D].spikeDistance=void 0,y[D][q]=void 0,d.hovertemplate=!1,h.push(d),b={stroke:t.color},b[_+"1"]=g8.constrain(E+S[0],E,E+L),b[_+"2"]=g8.constrain(E+S[1],E,E+L),b[g+"1"]=b[g+"2"]=w._offset+M}}f&&(h=h.concat(y))}u.indexOf("points")!==-1&&(v=jce.hoverOnPoints(t,r,n));var C=o.selectAll(".violinline-"+l.uid).data(b?[0]:[]);return C.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),C.exit().remove(),C.attr(b),i==="closest"?v?[v]:h:(v&&h.push(v),h)}});var Xce=$((MLt,Wce)=>{"use strict";Wce.exports={attributes:s8(),layoutAttributes:f8(),supplyDefaults:Lce(),crossTraceDefaults:c2().crossTraceDefaults,supplyLayoutDefaults:Dce(),calc:Ice(),crossTraceCalc:Nce(),plot:Oce(),style:Uce(),styleOnSelect:gf().styleOnSelect,hoverPoints:Yce(),selectPoints:lq(),moduleType:"trace",name:"violin",basePlotModule:as(),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{description:["In vertical (horizontal) violin plots,","statistics are computed using `y` (`x`) values.","By supplying an `x` (`y`) array, one violin per distinct x (y) value","is drawn","If no `x` (`y`) {array} is provided, a single violin is drawn.","That violin position is then positioned with","with `name` or with `x0` (`y0`) if provided."].join(" ")}}});var $ce=$((kLt,Zce)=>{"use strict";Zce.exports=Xce()});var Jce=$((SLt,Kce)=>{"use strict";Kce.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}});var y8=$((ELt,the)=>{"use strict";var ga=zh(),m8=Ps().line,wnt=aa(),Qce=Ha().axisHoverFormat,_nt=Yn().hovertemplateAttrs,Tnt=Yn().texttemplateAttrs,ehe=Jce(),Hv=ln().extendFlat,Ant=Rr();the.exports={x:ga.x,x0:ga.x0,dx:ga.dx,y:ga.y,y0:ga.y0,dy:ga.dy,xperiod:ga.xperiod,yperiod:ga.yperiod,xperiod0:ga.xperiod0,yperiod0:ga.yperiod0,xperiodalignment:ga.xperiodalignment,yperiodalignment:ga.yperiodalignment,xhoverformat:Qce("x"),yhoverformat:Qce("y"),hovertext:ga.hovertext,hovertemplate:_nt({},{keys:ehe.eventDataKeys}),hoverinfo:Hv({},wnt.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1,description:["Determines which trace information appear on the graph.","In the case of having multiple funnels, percentages & totals","are computed separately (per trace)."].join(" ")},texttemplate:Tnt({editType:"plot"},{keys:ehe.eventDataKeys.concat(["label","value"])}),text:ga.text,textposition:ga.textposition,insidetextanchor:Hv({},ga.insidetextanchor,{dflt:"middle"}),textangle:Hv({},ga.textangle,{dflt:0}),textfont:ga.textfont,insidetextfont:ga.insidetextfont,outsidetextfont:ga.outsidetextfont,constraintext:ga.constraintext,cliponaxis:ga.cliponaxis,orientation:Hv({},ga.orientation,{description:["Sets the orientation of the funnels.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal).","By default funnels are tend to be oriented horizontally;","unless only *y* array is presented or orientation is set to *v*.","Also regarding graphs including only 'horizontal' funnels,","*autorange* on the *y-axis* are set to *reversed*."].join(" ")}),offset:Hv({},ga.offset,{arrayOk:!1}),width:Hv({},ga.width,{arrayOk:!1}),marker:Mnt(),connector:{fillcolor:{valType:"color",editType:"style",description:["Sets the fill color."].join(" ")},line:{color:Hv({},m8.color,{dflt:Ant.defaultLine}),width:Hv({},m8.width,{dflt:0,editType:"plot"}),dash:m8.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines if connector regions and lines are drawn."].join(" ")},editType:"plot"},offsetgroup:ga.offsetgroup,alignmentgroup:ga.alignmentgroup};function Mnt(){var e=Hv({},ga.marker);return delete e.pattern,e}});var x8=$((LLt,rhe)=>{"use strict";rhe.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},funnelgap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}});var _8=$((CLt,ihe)=>{"use strict";var w8=pt(),knt=Kl().handleGroupingDefaults,Snt=Kl().handleText,Ent=Db(),Lnt=Ph(),nhe=y8(),b8=Rr();function Cnt(e,t,r,n){function i(c,h){return w8.coerce(e,t,nhe,c,h)}var a=Ent(e,t,n,i);if(!a){t.visible=!1;return}Lnt(e,t,n,i),i("xhoverformat"),i("yhoverformat"),i("orientation",t.y&&!t.x?"v":"h"),i("offset"),i("width");var o=i("text");i("hovertext"),i("hovertemplate");var s=i("textposition");Snt(e,t,n,i,s,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),t.textposition!=="none"&&!t.texttemplate&&i("textinfo",Array.isArray(o)?"text+value":"value");var l=i("marker.color",r);i("marker.line.color",b8.defaultLine),i("marker.line.width");var u=i("connector.visible");if(u){i("connector.fillcolor",Dnt(l));var f=i("connector.line.width");f&&(i("connector.line.color"),i("connector.line.dash"))}}function Dnt(e){var t=w8.isArrayOrTypedArray(e)?"#000":e;return b8.addOpacity(t,.5*b8.opacity(t))}function qnt(e,t){var r,n;function i(o){return w8.coerce(n._input,n,nhe,o)}if(t.funnelmode==="group")for(var a=0;a<e.length;a++)n=e[a],r=n._input,knt(r,n,t,i)}ihe.exports={supplyDefaults:Cnt,crossTraceDefaults:qnt}});var ohe=$((DLt,ahe)=>{"use strict";var Rnt=pt(),Int=x8();ahe.exports=function(e,t,r){var n=!1;function i(s,l){return Rnt.coerce(e,t,Int,s,l)}for(var a=0;a<r.length;a++){var o=r[a];if(o.visible&&o.type==="funnel"){n=!0;break}}n&&(i("funnelmode"),i("funnelgap",.2),i("funnelgroupgap"))}});var lhe=$((qLt,she)=>{"use strict";var Bm=pt();she.exports=function(t,r){for(var n=0;n<t.length;n++)t[n].i=n;Bm.mergeArray(r.text,t,"tx"),Bm.mergeArray(r.hovertext,t,"htx");var i=r.marker;if(i){Bm.mergeArray(i.opacity,t,"mo"),Bm.mergeArray(i.color,t,"mc");var a=i.line;a&&(Bm.mergeArray(a.color,t,"mlc"),Bm.mergeArrayCastPositive(a.width,t,"mlw"))}}});var hhe=$((RLt,che)=>{"use strict";var uhe=tn(),fhe=Fh(),Pnt=lhe(),Fnt=jc(),L2=Zn().BADNUM;che.exports=function(t,r){var n=uhe.getFromId(t,r.xaxis||"x"),i=uhe.getFromId(t,r.yaxis||"y"),a,o,s,l,u,f,c,h;r.orientation==="h"?(a=n.makeCalcdata(r,"x"),s=i.makeCalcdata(r,"y"),l=fhe(r,i,"y",s),u=!!r.yperiodalignment,f="y"):(a=i.makeCalcdata(r,"y"),s=n.makeCalcdata(r,"x"),l=fhe(r,n,"x",s),u=!!r.xperiodalignment,f="x"),o=l.vals;var v=Math.min(o.length,a.length),b=new Array(v);for(r._base=[],c=0;c<v;c++){a[c]<0&&(a[c]=L2);var y=!1;a[c]!==L2&&c+1<v&&a[c+1]!==L2&&(y=!0),h=b[c]={p:o[c],s:a[c],cNext:y},r._base[c]=-.5*h.s,u&&(b[c].orig_p=s[c],b[c][f+"End"]=l.ends[c],b[c][f+"Start"]=l.starts[c]),r.ids&&(h.id=String(r.ids[c])),c===0&&(b[0].vTotal=0),b[0].vTotal+=T8(h.s),h.begR=T8(h.s)/T8(b[0].s)}var x;for(c=0;c<v;c++)h=b[c],h.s!==L2&&(h.sumR=h.s/b[0].vTotal,h.difR=x!==void 0?h.s/x:1,x=h.s);return Pnt(b,r),Fnt(b,r),b};function T8(e){return e===L2?0:e}});var phe=$((ILt,dhe)=>{"use strict";var vhe=Tm().setGroupPositions;dhe.exports=function(t,r){var n=t._fullLayout,i=t._fullData,a=t.calcdata,o=r.xaxis,s=r.yaxis,l=[],u=[],f=[],c,h;for(h=0;h<i.length;h++){var v=i[h],b=v.orientation==="h";v.visible===!0&&v.xaxis===o._id&&v.yaxis===s._id&&v.type==="funnel"&&(c=a[h],b?f.push(c):u.push(c),l.push(c))}var y={mode:n.funnelmode,norm:n.funnelnorm,gap:n.funnelgap,groupgap:n.funnelgroupgap};for(vhe(t,o,s,u,y),vhe(t,s,o,f,y),h=0;h<l.length;h++){c=l[h];for(var x=0;x<c.length;x++)x+1<c.length&&(c[x].nextP0=c[x+1].p0,c[x].nextS0=c[x+1].s0,c[x].nextP1=c[x+1].p1,c[x].nextS1=c[x+1].s1)}}});var xhe=$((PLt,yhe)=>{"use strict";var DM=Nr(),n0=pt(),ghe=un(),r0=Zn().BADNUM,Nnt=Vp(),znt=tl().clearMinTextSize;yhe.exports=function(t,r,n,i){var a=t._fullLayout;znt("funnel",a),Ont(t,r,n,i),Bnt(t,r,n,i),Nnt.plot(t,r,n,i,{mode:a.funnelmode,norm:a.funnelmode,gap:a.funnelgap,groupgap:a.funnelgroupgap})};function Ont(e,t,r,n){var i=t.xaxis,a=t.yaxis;n0.makeTraceGroups(n,r,"trace bars").each(function(o){var s=DM.select(this),l=o[0].trace,u=n0.ensureSingle(s,"g","regions");if(!l.connector||!l.connector.visible){u.remove();return}var f=l.orientation==="h",c=u.selectAll("g.region").data(n0.identity);c.enter().append("g").classed("region",!0),c.exit().remove();var h=c.size();c.each(function(v,b){if(!(b!==h-1&&!v.cNext)){var y=mhe(v,i,a,f),x=y[0],m=y[1],_="";x[0]!==r0&&m[0]!==r0&&x[1]!==r0&&m[1]!==r0&&x[2]!==r0&&m[2]!==r0&&x[3]!==r0&&m[3]!==r0&&(f?_+="M"+x[0]+","+m[1]+"L"+x[2]+","+m[2]+"H"+x[3]+"L"+x[1]+","+m[1]+"Z":_+="M"+x[1]+","+m[1]+"L"+x[2]+","+m[3]+"V"+m[2]+"L"+x[1]+","+m[0]+"Z"),_===""&&(_="M0,0Z"),n0.ensureSingle(DM.select(this),"path").attr("d",_).call(ghe.setClipUrl,t.layerClipId,e)}})})}function Bnt(e,t,r,n){var i=t.xaxis,a=t.yaxis;n0.makeTraceGroups(n,r,"trace bars").each(function(o){var s=DM.select(this),l=o[0].trace,u=n0.ensureSingle(s,"g","lines");if(!l.connector||!l.connector.visible||!l.connector.line.width){u.remove();return}var f=l.orientation==="h",c=u.selectAll("g.line").data(n0.identity);c.enter().append("g").classed("line",!0),c.exit().remove();var h=c.size();c.each(function(v,b){if(!(b!==h-1&&!v.cNext)){var y=mhe(v,i,a,f),x=y[0],m=y[1],_="";x[3]!==void 0&&m[3]!==void 0&&(f?(_+="M"+x[0]+","+m[1]+"L"+x[2]+","+m[2],_+="M"+x[1]+","+m[1]+"L"+x[3]+","+m[2]):(_+="M"+x[1]+","+m[1]+"L"+x[2]+","+m[3],_+="M"+x[1]+","+m[0]+"L"+x[2]+","+m[2])),_===""&&(_="M0,0Z"),n0.ensureSingle(DM.select(this),"path").attr("d",_).call(ghe.setClipUrl,t.layerClipId,e)}})})}function mhe(e,t,r,n){var i=[],a=[],o=n?t:r,s=n?r:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),i[2]=o.c2p(e.nextS0,!0),a[2]=s.c2p(e.nextP0,!0),i[3]=o.c2p(e.nextS1,!0),a[3]=s.c2p(e.nextP1,!0),n?[i,a]:[a,i]}});var _he=$((FLt,whe)=>{"use strict";var C2=Nr(),bhe=un(),A8=Rr(),Hnt=y1().DESELECTDIM,Unt=Kf(),jnt=tl().resizeText,Vnt=Unt.styleTextPoints;function Gnt(e,t,r){var n=r||C2.select(e).selectAll("g.funnellayer").selectAll("g.trace");jnt(e,n,"funnel"),n.style("opacity",function(i){return i[0].trace.opacity}),n.each(function(i){var a=C2.select(this),o=i[0].trace;a.selectAll(".point > path").each(function(s){if(!s.isBlank){var l=o.marker;C2.select(this).call(A8.fill,s.mc||l.color).call(A8.stroke,s.mlc||l.line.color).call(bhe.dashLine,l.line.dash,s.mlw||l.line.width).style("opacity",o.selectedpoints&&!s.selected?Hnt:1)}}),Vnt(a,o,e),a.selectAll(".regions").each(function(){C2.select(this).selectAll("path").style("stroke-width",0).call(A8.fill,o.connector.fillcolor)}),a.selectAll(".lines").each(function(){var s=o.connector.line;bhe.lineGroupStyle(C2.select(this).selectAll("path"),s.width,s.color,s.dash)})})}whe.exports={style:Gnt}});var Mhe=$((NLt,Ahe)=>{"use strict";var The=Rr().opacity,Ynt=km().hoverOnBars,M8=pt().formatPercent;Ahe.exports=function(t,r,n,i,a){var o=Ynt(t,r,n,i,a);if(o){var s=o.cd,l=s[0].trace,u=l.orientation==="h",f=o.index,c=s[f],h=u?"x":"y";o[h+"LabelVal"]=c.s,o.percentInitial=c.begR,o.percentInitialLabel=M8(c.begR,1),o.percentPrevious=c.difR,o.percentPreviousLabel=M8(c.difR,1),o.percentTotal=c.sumR,o.percentTotalLabel=M8(c.sumR,1);var v=c.hi||l.hoverinfo,b=[];if(v&&v!=="none"&&v!=="skip"){var y=v==="all",x=v.split("+"),m=function(_){return y||x.indexOf(_)!==-1};m("percent initial")&&b.push(o.percentInitialLabel+" of initial"),m("percent previous")&&b.push(o.percentPreviousLabel+" of previous"),m("percent total")&&b.push(o.percentTotalLabel+" of total")}return o.extraText=b.join("<br>"),o.color=Wnt(l,c),[o]}};function Wnt(e,t){var r=e.marker,n=t.mc||r.color,i=t.mlc||r.line.color,a=t.mlw||r.line.width;if(The(n))return n;if(The(i)&&a)return i}});var She=$((zLt,khe)=>{"use strict";khe.exports=function(t,r){return t.x="xVal"in r?r.xVal:r.x,t.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(t.percentInitial=r.percentInitial),"percentPrevious"in r&&(t.percentPrevious=r.percentPrevious),"percentTotal"in r&&(t.percentTotal=r.percentTotal),r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),t}});var Lhe=$((OLt,Ehe)=>{"use strict";Ehe.exports={attributes:y8(),layoutAttributes:x8(),supplyDefaults:_8().supplyDefaults,crossTraceDefaults:_8().crossTraceDefaults,supplyLayoutDefaults:ohe(),calc:hhe(),crossTraceCalc:phe(),plot:xhe(),style:_he().style,hoverPoints:Mhe(),eventData:She(),selectPoints:Sm(),moduleType:"trace",name:"funnel",basePlotModule:as(),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{description:["Visualize stages in a process using length-encoded bars. This trace can be used","to show data in either a part-to-whole representation wherein each item appears",'in a single stage, or in a "drop-off" representation wherein each item appears in','each stage it traversed. See also the "funnelarea" trace type for a different',"approach to visualizing funnel data."].join(" ")}}});var Dhe=$((BLt,Che)=>{"use strict";Che.exports=Lhe()});var Rhe=$((HLt,qhe)=>{"use strict";qhe.exports={eventDataKeys:["initial","delta","final"]}});var E8=$((ULt,Fhe)=>{"use strict";var na=zh(),k8=Ps().line,Xnt=aa(),Ihe=Ha().axisHoverFormat,Znt=Yn().hovertemplateAttrs,$nt=Yn().texttemplateAttrs,Phe=Rhe(),Hm=ln().extendFlat,Knt=Rr();function S8(e){return{marker:{color:Hm({},na.marker.color,{arrayOk:!1,editType:"style",description:"Sets the marker color of all "+e+" values."}),line:{color:Hm({},na.marker.line.color,{arrayOk:!1,editType:"style",description:"Sets the line color of all "+e+" values."}),width:Hm({},na.marker.line.width,{arrayOk:!1,editType:"style",description:"Sets the line width of all "+e+" values."}),editType:"style"},editType:"style"},editType:"style"}}Fhe.exports={measure:{valType:"data_array",dflt:[],editType:"calc",description:["An array containing types of values.","By default the values are considered as 'relative'.","However; it is possible to use 'total' to compute the sums.","Also 'absolute' could be applied to reset the computed total","or to declare an initial value where needed."].join(" ")},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc",description:["Sets where the bar base is drawn (in position axis units)."].join(" ")},x:na.x,x0:na.x0,dx:na.dx,y:na.y,y0:na.y0,dy:na.dy,xperiod:na.xperiod,yperiod:na.yperiod,xperiod0:na.xperiod0,yperiod0:na.yperiod0,xperiodalignment:na.xperiodalignment,yperiodalignment:na.yperiodalignment,xhoverformat:Ihe("x"),yhoverformat:Ihe("y"),hovertext:na.hovertext,hovertemplate:Znt({},{keys:Phe.eventDataKeys}),hoverinfo:Hm({},Xnt.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1,description:["Determines which trace information appear on the graph.","In the case of having multiple waterfalls, totals","are computed separately (per trace)."].join(" ")},texttemplate:$nt({editType:"plot"},{keys:Phe.eventDataKeys.concat(["label"])}),text:na.text,textposition:na.textposition,insidetextanchor:na.insidetextanchor,textangle:na.textangle,textfont:na.textfont,insidetextfont:na.insidetextfont,outsidetextfont:na.outsidetextfont,constraintext:na.constraintext,cliponaxis:na.cliponaxis,orientation:na.orientation,offset:na.offset,width:na.width,increasing:S8("increasing"),decreasing:S8("decreasing"),totals:S8("intermediate sums and total"),connector:{line:{color:Hm({},k8.color,{dflt:Knt.defaultLine}),width:Hm({},k8.width,{editType:"plot"}),dash:k8.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot",description:["Sets the shape of connector lines."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines if connector lines are drawn. "].join(" ")},editType:"plot"},offsetgroup:na.offsetgroup,alignmentgroup:na.alignmentgroup}});var L8=$((jLt,Nhe)=>{"use strict";Nhe.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},waterfallgap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}});var Um=$((VLt,zhe)=>{"use strict";zhe.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}});var D8=$((GLt,Uhe)=>{"use strict";var Ohe=pt(),Jnt=Kl().handleGroupingDefaults,Qnt=Kl().handleText,eit=Db(),tit=Ph(),Bhe=E8(),rit=Rr(),Hhe=Um(),nit=Hhe.INCREASING.COLOR,iit=Hhe.DECREASING.COLOR,ait="#4499FF";function C8(e,t,r){e(t+".marker.color",r),e(t+".marker.line.color",rit.defaultLine),e(t+".marker.line.width")}function oit(e,t,r,n){function i(u,f){return Ohe.coerce(e,t,Bhe,u,f)}var a=eit(e,t,n,i);if(!a){t.visible=!1;return}tit(e,t,n,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",t.x&&!t.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var o=i("textposition");Qnt(e,t,n,i,o,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),t.textposition!=="none"&&(i("texttemplate"),t.texttemplate||i("textinfo")),C8(i,"increasing",nit),C8(i,"decreasing",iit),C8(i,"totals",ait);var s=i("connector.visible");if(s){i("connector.mode");var l=i("connector.line.width");l&&(i("connector.line.color"),i("connector.line.dash"))}}function sit(e,t){var r,n;function i(o){return Ohe.coerce(n._input,n,Bhe,o)}if(t.waterfallmode==="group")for(var a=0;a<e.length;a++)n=e[a],r=n._input,Jnt(r,n,t,i)}Uhe.exports={supplyDefaults:oit,crossTraceDefaults:sit}});var Vhe=$((YLt,jhe)=>{"use strict";var lit=pt(),uit=L8();jhe.exports=function(e,t,r){var n=!1;function i(s,l){return lit.coerce(e,t,uit,s,l)}for(var a=0;a<r.length;a++){var o=r[a];if(o.visible&&o.type==="waterfall"){n=!0;break}}n&&(i("waterfallmode"),i("waterfallgap",.2),i("waterfallgroupgap"))}});var $he=$((WLt,Zhe)=>{"use strict";var Ghe=tn(),Yhe=Fh(),Whe=pt().mergeArray,fit=jc(),Xhe=Zn().BADNUM;function q8(e){return e==="a"||e==="absolute"}function R8(e){return e==="t"||e==="total"}Zhe.exports=function(t,r){var n=Ghe.getFromId(t,r.xaxis||"x"),i=Ghe.getFromId(t,r.yaxis||"y"),a,o,s,l,u,f;r.orientation==="h"?(a=n.makeCalcdata(r,"x"),s=i.makeCalcdata(r,"y"),l=Yhe(r,i,"y",s),u=!!r.yperiodalignment,f="y"):(a=i.makeCalcdata(r,"y"),s=n.makeCalcdata(r,"x"),l=Yhe(r,n,"x",s),u=!!r.xperiodalignment,f="x"),o=l.vals;for(var c=Math.min(o.length,a.length),h=new Array(c),v=0,b,y=!1,x=0;x<c;x++){var m=a[x]||0,_=!1;(a[x]!==Xhe||R8(r.measure[x])||q8(r.measure[x]))&&x+1<c&&(a[x+1]!==Xhe||R8(r.measure[x+1])||q8(r.measure[x+1]))&&(_=!0);var g=h[x]={i:x,p:o[x],s:m,rawS:m,cNext:_};q8(r.measure[x])?(v=g.s,g.isSum=!0,g.dir="totals",g.s=v):R8(r.measure[x])?(g.isSum=!0,g.dir="totals",g.s=v):(g.isSum=!1,g.dir=g.rawS<0?"decreasing":"increasing",b=g.s,g.s=v+b,v+=b),g.dir==="totals"&&(y=!0),u&&(h[x].orig_p=s[x],h[x][f+"End"]=l.ends[x],h[x][f+"Start"]=l.starts[x]),r.ids&&(g.id=String(r.ids[x])),g.v=(r.base||0)+v}return h.length&&(h[0].hasTotals=y),Whe(r.text,h,"tx"),Whe(r.hovertext,h,"htx"),fit(h,r),h}});var Qhe=$((XLt,Jhe)=>{"use strict";var Khe=Tm().setGroupPositions;Jhe.exports=function(t,r){var n=t._fullLayout,i=t._fullData,a=t.calcdata,o=r.xaxis,s=r.yaxis,l=[],u=[],f=[],c,h;for(h=0;h<i.length;h++){var v=i[h];v.visible===!0&&v.xaxis===o._id&&v.yaxis===s._id&&v.type==="waterfall"&&(c=a[h],v.orientation==="h"?f.push(c):u.push(c),l.push(c))}var b={mode:n.waterfallmode,norm:n.waterfallnorm,gap:n.waterfallgap,groupgap:n.waterfallgroupgap};for(Khe(t,o,s,u,b),Khe(t,s,o,f,b),h=0;h<l.length;h++){c=l[h];for(var y=0;y<c.length;y++){var x=c[y];x.isSum===!1&&(x.s0+=y===0?0:c[y-1].s),y+1<c.length&&(c[y].nextP0=c[y+1].p0,c[y].nextS0=c[y+1].s0)}}}});var rve=$((ZLt,tve)=>{"use strict";var eve=Nr(),qM=pt(),cit=un(),jm=Zn().BADNUM,hit=Vp(),vit=tl().clearMinTextSize;tve.exports=function(t,r,n,i){var a=t._fullLayout;vit("waterfall",a),hit.plot(t,r,n,i,{mode:a.waterfallmode,norm:a.waterfallmode,gap:a.waterfallgap,groupgap:a.waterfallgroupgap}),dit(t,r,n,i)};function dit(e,t,r,n){var i=t.xaxis,a=t.yaxis;qM.makeTraceGroups(n,r,"trace bars").each(function(o){var s=eve.select(this),l=o[0].trace,u=qM.ensureSingle(s,"g","lines");if(!l.connector||!l.connector.visible){u.remove();return}var f=l.orientation==="h",c=l.connector.mode,h=u.selectAll("g.line").data(qM.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var v=h.size();h.each(function(b,y){if(!(y!==v-1&&!b.cNext)){var x=pit(b,i,a,f),m=x[0],_=x[1],g="";m[0]!==jm&&_[0]!==jm&&m[1]!==jm&&_[1]!==jm&&(c==="spanning"&&!b.isSum&&y>0&&(f?g+="M"+m[0]+","+_[1]+"V"+_[0]:g+="M"+m[1]+","+_[0]+"H"+m[0]),c!=="between"&&(b.isSum||y<v-1)&&(f?g+="M"+m[1]+","+_[0]+"V"+_[1]:g+="M"+m[0]+","+_[1]+"H"+m[1]),m[2]!==jm&&_[2]!==jm&&(f?g+="M"+m[1]+","+_[1]+"V"+_[2]:g+="M"+m[1]+","+_[1]+"H"+m[2])),g===""&&(g="M0,0Z"),qM.ensureSingle(eve.select(this),"path").attr("d",g).call(cit.setClipUrl,t.layerClipId,e)}})})}function pit(e,t,r,n){var i=[],a=[],o=n?t:r,s=n?r:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),i[2]=o.c2p(e.nextS0,!0),a[2]=s.c2p(e.nextP0,!0),n?[i,a]:[a,i]}});var ove=$(($Lt,ave)=>{"use strict";var RM=Nr(),nve=un(),ive=Rr(),git=y1().DESELECTDIM,mit=Kf(),yit=tl().resizeText,xit=mit.styleTextPoints;function bit(e,t,r){var n=r||RM.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");yit(e,n,"waterfall"),n.style("opacity",function(i){return i[0].trace.opacity}),n.each(function(i){var a=RM.select(this),o=i[0].trace;a.selectAll(".point > path").each(function(s){if(!s.isBlank){var l=o[s.dir].marker;RM.select(this).call(ive.fill,l.color).call(ive.stroke,l.line.color).call(nve.dashLine,l.line.dash,l.line.width).style("opacity",o.selectedpoints&&!s.selected?git:1)}}),xit(a,o,e),a.selectAll(".lines").each(function(){var s=o.connector.line;nve.lineGroupStyle(RM.select(this).selectAll("path"),s.width,s.color,s.dash)})})}ave.exports={style:bit}});var cve=$((KLt,fve)=>{"use strict";var wit=tn().hoverLabelText,sve=Rr().opacity,_it=km().hoverOnBars,lve=Um(),uve={increasing:lve.INCREASING.SYMBOL,decreasing:lve.DECREASING.SYMBOL};fve.exports=function(t,r,n,i,a){var o=_it(t,r,n,i,a);if(!o)return;var s=o.cd,l=s[0].trace,u=l.orientation==="h",f=u?"x":"y",c=u?t.xa:t.ya;function h(k){return wit(c,k,l[f+"hoverformat"])}var v=o.index,b=s[v],y=b.isSum?b.b+b.s:b.rawS;if(!b.isSum){o.initial=b.b+b.s-y,o.delta=y,o.final=o.initial+o.delta;var x=h(Math.abs(o.delta));o.deltaLabel=y<0?"("+x+")":x,o.finalLabel=h(o.final),o.initialLabel=h(o.initial)}var m=b.hi||l.hoverinfo,_=[];if(m&&m!=="none"&&m!=="skip"){var g=m==="all",A=m.split("+"),w=function(k){return g||A.indexOf(k)!==-1};b.isSum||(w("final")&&(u?!w("x"):!w("y"))&&_.push(o.finalLabel),w("delta")&&(y<0?_.push(o.deltaLabel+" "+uve.decreasing):_.push(o.deltaLabel+" "+uve.increasing)),w("initial")&&_.push("Initial: "+o.initialLabel))}return _.length&&(o.extraText=_.join("<br>")),o.color=Tit(l,b),[o]};function Tit(e,t){var r=e[t.dir].marker,n=r.color,i=r.line.color,a=r.line.width;if(sve(n))return n;if(sve(i)&&a)return i}});var vve=$((JLt,hve)=>{"use strict";hve.exports=function(t,r){return t.x="xVal"in r?r.xVal:r.x,t.y="yVal"in r?r.yVal:r.y,"initial"in r&&(t.initial=r.initial),"delta"in r&&(t.delta=r.delta),"final"in r&&(t.final=r.final),r.xa&&(t.xaxis=r.xa),r.ya&&(t.yaxis=r.ya),t}});var pve=$((QLt,dve)=>{"use strict";dve.exports={attributes:E8(),layoutAttributes:L8(),supplyDefaults:D8().supplyDefaults,crossTraceDefaults:D8().crossTraceDefaults,supplyLayoutDefaults:Vhe(),calc:$he(),crossTraceCalc:Qhe(),plot:rve(),style:ove().style,hoverPoints:cve(),eventData:vve(),selectPoints:Sm(),moduleType:"trace",name:"waterfall",basePlotModule:as(),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{description:["Draws waterfall trace which is useful graph to displays the","contribution of various elements (either positive or negative)","in a bar chart. The data visualized by the span of the bars is","set in `y` if `orientation` is set th *v* (the default) and the","labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}});var mve=$((eCt,gve)=>{"use strict";gve.exports=pve()});var Zp=$((tCt,yve)=>{"use strict";var Ait=aa(),Mit=Ua().attributes,kit=Ba(),Sit=Ro(),Eit=Yn().hovertemplateAttrs,Lit=Yn().texttemplateAttrs,Vm=ln().extendFlat,D2=kit({editType:"plot",arrayOk:!0,colorEditType:"plot",description:"Sets the font used for `textinfo`."});yve.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",dflt:Sit.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will be seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",dflt:"",editType:"calc",description:["If there are multiple pie charts that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:Vm({},Ait.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:Eit({},{keys:["label","color","value","percent","text"]}),texttemplate:Lit({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:Vm({},D2,{description:"Sets the font used for `textinfo`."}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot",description:["Controls the orientation of the text inside chart sectors.","When set to *auto*, text may be oriented in any direction in order","to be as big as possible in the middle of a sector.","The *horizontal* option orients text to be parallel with the bottom","of the chart, and may make text smaller in order to achieve that goal.","The *radial* option orients text along the radius of the sector.","The *tangential* option orients text perpendicular to the radius of the sector."].join(" ")},insidetextfont:Vm({},D2,{description:"Sets the font used for `textinfo` lying inside the sector."}),outsidetextfont:Vm({},D2,{description:"Sets the font used for `textinfo` lying outside the sector."}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether outside text labels can push the margins."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"plot",description:["Sets the title of the chart.","If it is empty, no title is displayed.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:Vm({},D2,{description:["Sets the font used for `title`.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot",description:["Specifies the location of the `title`.","Note that the title's position used to be set","by the now deprecated `titleposition` attribute."].join(" ")},editType:"plot"},domain:Mit({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")},_deprecated:{title:{valType:"string",dflt:"",editType:"calc",description:["Deprecated in favor of `title.text`.","Note that value of `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:Vm({},D2,{description:"Deprecated in favor of `title.font`."}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc",description:"Deprecated in favor of `title.position`."}}}});var P8=$((rCt,bve)=>{"use strict";var Cit=mn(),I8=pt(),Dit=Zp(),qit=Ua().defaults,Rit=Kl().handleText;function xve(e,t){var r=Array.isArray(e),n=I8.isArrayOrTypedArray(t),i=Math.min(r?e.length:1/0,n?t.length:1/0);if(isFinite(i)||(i=0),i&&n){for(var a,o=0;o<i;o++){var s=t[o];if(Cit(s)&&s>0){a=!0;break}}a||(i=0)}return{hasLabels:r,hasValues:n,len:i}}function Iit(e,t,r,n){function i(g,A){return I8.coerce(e,t,Dit,g,A)}var a=i("labels"),o=i("values"),s=xve(a,o),l=s.len;if(t._hasLabels=s.hasLabels,t._hasValues=s.hasValues,!t._hasLabels&&t._hasValues&&(i("label0"),i("dlabel")),!l){t.visible=!1;return}t._length=l;var u=i("marker.line.width");u&&i("marker.line.color"),i("marker.colors"),i("scalegroup");var f=i("text"),c=i("texttemplate"),h;if(c||(h=i("textinfo",Array.isArray(f)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),c||h&&h!=="none"){var v=i("textposition");Rit(e,t,n,i,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var b=Array.isArray(v)||v==="auto",y=b||v==="outside";y&&i("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&i("insidetextorientation")}qit(t,n,i);var x=i("hole"),m=i("title.text");if(m){var _=i("title.position",x?"middle center":"top center");!x&&_==="middle center"&&(t.title.position="top center"),I8.coerceFont(i,"title.font",n.font)}i("sort"),i("direction"),i("rotation"),i("pull")}bve.exports={handleLabelsAndValues:xve,supplyDefaults:Iit}});var IM=$((nCt,wve)=>{"use strict";wve.exports={hiddenlabels:{valType:"data_array",editType:"calc",description:["hiddenlabels is the funnelarea & pie chart analog of","visible:'legendonly'","but it can contain many labels, and can simultaneously","hide slices from several pies/funnelarea charts"].join(" ")},piecolorway:{valType:"colorlist",editType:"calc",description:["Sets the default pie slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendpiecolors`."].join(" ")},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the pie slice colors (whether given by `piecolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var Tve=$((iCt,_ve)=>{"use strict";var Pit=pt(),Fit=IM();_ve.exports=function(t,r){function n(i,a){return Pit.coerce(t,r,Fit,i,a)}n("hiddenlabels"),n("piecolorway",r.colorway),n("extendpiecolors")}});var Gm=$((aCt,kve)=>{"use strict";var Nit=mn(),F8=Ko(),zit=Rr(),Oit={};function Bit(e,t){var r=[],n=e._fullLayout,i=n.hiddenlabels||[],a=t.labels,o=t.marker.colors||[],s=t.values,l=t._length,u=t._hasValues&&l,f,c;if(t.dlabel)for(a=new Array(l),f=0;f<l;f++)a[f]=String(t.label0+f*t.dlabel);var h={},v=Ave(n["_"+t.type+"colormap"]),b=0,y=!1;for(f=0;f<l;f++){var x,m,_;if(u){if(x=s[f],!Nit(x))continue;x=+x}else x=1;m=a[f],(m===void 0||m==="")&&(m=f),m=String(m);var g=h[m];g===void 0?(h[m]=r.length,_=i.indexOf(m)!==-1,_||(b+=x),r.push({v:x,label:m,color:v(o[f],m),i:f,pts:[f],hidden:_})):(y=!0,c=r[g],c.v+=x,c.pts.push(f),c.hidden||(b+=x),c.color===!1&&o[f]&&(c.color=v(o[f],m)))}r=r.filter(function(w){return w.v>=0});var A=t.type==="funnelarea"?y:t.sort;return A&&r.sort(function(w,k){return k.v-w.v}),r[0]&&(r[0].vTotal=b),r}function Ave(e){return function(r,n){return!r||(r=F8(r),!r.isValid())?!1:(r=zit.addOpacity(r,r.getAlpha()),e[n]||(e[n]=r),r)}}function Hit(e,t){var r=(t||{}).type;r||(r="pie");var n=e._fullLayout,i=e.calcdata,a=n[r+"colorway"],o=n["_"+r+"colormap"];n["extend"+r+"colors"]&&(a=Mve(a,Oit));for(var s=0,l=0;l<i.length;l++){var u=i[l],f=u[0].trace.type;if(f===r)for(var c=0;c<u.length;c++){var h=u[c];h.color===!1&&(o[h.label]?h.color=o[h.label]:(o[h.label]=h.color=a[s%a.length],s++))}}}function Mve(e,t){var r,n=JSON.stringify(e),i=t[n];if(!i){for(i=e.slice(),r=0;r<e.length;r++)i.push(F8(e[r]).lighten(20).toHexString());for(r=0;r<e.length;r++)i.push(F8(e[r]).darken(20).toHexString());t[n]=i}return i}kve.exports={calc:Bit,crossTraceCalc:Hit,makePullColorFn:Ave,generateExtendedColors:Mve}});var Eve=$((oCt,Sve)=>{"use strict";var Uit=Pf().appendArrayMultiPointValues;Sve.exports=function(t,r){var n={curveNumber:r.index,pointNumbers:t.pts,data:r._input,fullData:r,label:t.label,color:t.color,value:t.v,percent:t.percent,text:t.text,bbox:t.bbox,v:t.v};return t.pts.length===1&&(n.pointNumber=n.i=t.pts[0]),Uit(n,r,t.pts),r.type==="funnelarea"&&(delete n.v,delete n.i),n}});var zM=$((sCt,Zve)=>{"use strict";var Pu=Nr(),jit=Zi(),PM=lo(),Ive=Rr(),Uv=un(),Ll=pt(),Vit=Ll.strScale,Lve=Ll.strTranslate,N8=Ta(),Pve=tl(),Git=Pve.recordMinTextSize,Yit=Pve.clearMinTextSize,Fve=Hp().TEXTPAD,Ii=Rd(),FM=Eve(),Cve=pt().isValidTextValue;function Wit(e,t){var r=e._fullLayout,n=r._size;Yit("pie",r),Ove(t,e),Yve(t,n);var i=Ll.makeTraceGroups(r._pielayer,t,"trace").each(function(a){var o=Pu.select(this),s=a[0],l=s.trace;rat(a),o.attr("stroke-linejoin","round"),o.each(function(){var u=Pu.select(this).selectAll("g.slice").data(a);u.enter().append("g").classed("slice",!0),u.exit().remove();var f=[[[],[]],[[],[]]],c=!1;u.each(function(g,A){if(g.hidden){Pu.select(this).selectAll("path,g").remove();return}g.pointNumber=g.i,g.curveNumber=l.index,f[g.pxmid[1]<0?0:1][g.pxmid[0]<0?0:1].push(g);var w=s.cx,k=s.cy,p=Pu.select(this),d=p.selectAll("path.surface").data([g]);if(d.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),p.call(Nve,e,a),l.pull){var M=+Ii.castOption(l.pull,g.pts)||0;M>0&&(w+=M*g.pxmid[0],k+=M*g.pxmid[1])}g.cxFinal=w,g.cyFinal=k;function T(C,F,N,U){var V=U*(F[0]-C[0]),Y=U*(F[1]-C[1]);return"a"+U*s.r+","+U*s.r+" 0 "+g.largeArc+(N?" 1 ":" 0 ")+V+","+Y}var S=l.hole;if(g.v===s.vTotal){var E="M"+(w+g.px0[0])+","+(k+g.px0[1])+T(g.px0,g.pxmid,!0,1)+T(g.pxmid,g.px0,!0,1)+"Z";S?d.attr("d","M"+(w+S*g.px0[0])+","+(k+S*g.px0[1])+T(g.px0,g.pxmid,!1,S)+T(g.pxmid,g.px0,!1,S)+"Z"+E):d.attr("d",E)}else{var L=T(g.px0,g.px1,!0,1);if(S){var D=1-S;d.attr("d","M"+(w+S*g.px1[0])+","+(k+S*g.px1[1])+T(g.px1,g.px0,!1,S)+"l"+D*g.px0[0]+","+D*g.px0[1]+L+"Z")}else d.attr("d","M"+w+","+k+"l"+g.px0[0]+","+g.px0[1]+L+"Z")}Wve(e,g,s);var R=Ii.castOption(l.textposition,g.pts),q=p.selectAll("g.slicetext").data(g.text&&R!=="none"?[0]:[]);q.enter().append("g").classed("slicetext",!0),q.exit().remove(),q.each(function(){var C=Ll.ensureSingle(Pu.select(this),"text","",function(z){z.attr("data-notex",1)}),F=Ll.ensureUniformFontSize(e,R==="outside"?Zit(l,g,r.font):zve(l,g,r.font));C.text(g.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(Uv.font,F).call(N8.convertToTspans,e);var N=Uv.bBox(C.node()),U;if(R==="outside")U=Rve(N,g);else if(U=Bve(N,g,s),R==="auto"&&U.scale<1){var V=Ll.ensureUniformFontSize(e,l.outsidetextfont);C.call(Uv.font,V),N=Uv.bBox(C.node()),U=Rve(N,g)}var Y=U.textPosAngle,K=Y===void 0?g.pxmid:NM(s.r,Y);if(U.targetX=w+K[0]*U.rCenter+(U.x||0),U.targetY=k+K[1]*U.rCenter+(U.y||0),Xve(U,N),U.outside){var B=U.targetY;g.yLabelMin=B-N.height/2,g.yLabelMid=B,g.yLabelMax=B+N.height/2,g.labelExtraX=0,g.labelExtraY=0,c=!0}U.fontSize=F.size,Git(l.type,U,r),a[A].transform=U,C.attr("transform",Ll.getTextTransform(U))})});var h=Pu.select(this).selectAll("g.titletext").data(l.title.text?[0]:[]);if(h.enter().append("g").classed("titletext",!0),h.exit().remove(),h.each(function(){var g=Ll.ensureSingle(Pu.select(this),"text","",function(k){k.attr("data-notex",1)}),A=l.title.text;l._meta&&(A=Ll.templateString(A,l._meta)),g.text(A).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(Uv.font,l.title.font).call(N8.convertToTspans,e);var w;l.title.position==="middle center"?w=Jit(s):w=Vve(s,n),g.attr("transform",Lve(w.x,w.y)+Vit(Math.min(1,w.scale))+Lve(w.tx,w.ty))}),c&&eat(f,l),Xit(u,l),c&&l.automargin){var v=Uv.bBox(o.node()),b=l.domain,y=n.w*(b.x[1]-b.x[0]),x=n.h*(b.y[1]-b.y[0]),m=(.5*y-s.r)/n.w,_=(.5*x-s.r)/n.h;jit.autoMargin(e,"pie."+l.uid+".automargin",{xl:b.x[0]-m,xr:b.x[1]+m,yb:b.y[0]-_,yt:b.y[1]+_,l:Math.max(s.cx-s.r-v.left,0),r:Math.max(v.right-(s.cx+s.r),0),b:Math.max(v.bottom-(s.cy+s.r),0),t:Math.max(s.cy-s.r-v.top,0),pad:5})}})});setTimeout(function(){i.selectAll("tspan").each(function(){var a=Pu.select(this);a.attr("dy")&&a.attr("dy",a.attr("dy"))})},0)}function Xit(e,t){e.each(function(r){var n=Pu.select(this);if(!r.labelExtraX&&!r.labelExtraY){n.select("path.textline").remove();return}var i=n.select("g.slicetext text");r.transform.targetX+=r.labelExtraX,r.transform.targetY+=r.labelExtraY,i.attr("transform",Ll.getTextTransform(r.transform));var a=r.cxFinal+r.pxmid[0],o=r.cyFinal+r.pxmid[1],s="M"+a+","+o,l=(r.yLabelMax-r.yLabelMin)*(r.pxmid[0]<0?-1:1)/4;if(r.labelExtraX){var u=r.labelExtraX*r.pxmid[1]/r.pxmid[0],f=r.yLabelMid+r.labelExtraY-(r.cyFinal+r.pxmid[1]);Math.abs(u)>Math.abs(f)?s+="l"+f*r.pxmid[0]/r.pxmid[1]+","+f+"H"+(a+r.labelExtraX+l):s+="l"+r.labelExtraX+","+u+"v"+(f-u)+"h"+l}else s+="V"+(r.yLabelMid+r.labelExtraY)+"h"+l;Ll.ensureSingle(n,"path","textline").call(Ive.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:s,fill:"none"})})}function Nve(e,t,r){var n=r[0],i=n.cx,a=n.cy,o=n.trace,s=o.type==="funnelarea";"_hasHoverLabel"in o||(o._hasHoverLabel=!1),"_hasHoverEvent"in o||(o._hasHoverEvent=!1),e.on("mouseover",function(l){var u=t._fullLayout,f=t._fullData[o.index];if(!(t._dragging||u.hovermode===!1)){var c=f.hoverinfo;if(Array.isArray(c)&&(c=PM.castHoverinfo({hoverinfo:[Ii.castOption(c,l.pts)],_module:o._module},u,0)),c==="all"&&(c="label+text+value+percent+name"),f.hovertemplate||c!=="none"&&c!=="skip"&&c){var h=l.rInscribed||0,v=i+l.pxmid[0]*(1-h),b=a+l.pxmid[1]*(1-h),y=u.separators,x=[];if(c&&c.indexOf("label")!==-1&&x.push(l.label),l.text=Ii.castOption(f.hovertext||f.text,l.pts),c&&c.indexOf("text")!==-1){var m=l.text;Ll.isValidTextValue(m)&&x.push(m)}l.value=l.v,l.valueLabel=Ii.formatPieValue(l.v,y),c&&c.indexOf("value")!==-1&&x.push(l.valueLabel),l.percent=l.v/n.vTotal,l.percentLabel=Ii.formatPiePercent(l.percent,y),c&&c.indexOf("percent")!==-1&&x.push(l.percentLabel);var _=f.hoverlabel,g=_.font,A=[];PM.loneHover({trace:o,x0:v-h*n.r,x1:v+h*n.r,y:b,_x0:s?i+l.TL[0]:v-h*n.r,_x1:s?i+l.TR[0]:v+h*n.r,_y0:s?a+l.TL[1]:b-h*n.r,_y1:s?a+l.BL[1]:b+h*n.r,text:x.join("<br>"),name:f.hovertemplate||c.indexOf("name")!==-1?f.name:void 0,idealAlign:l.pxmid[0]<0?"left":"right",color:Ii.castOption(_.bgcolor,l.pts)||l.color,borderColor:Ii.castOption(_.bordercolor,l.pts),fontFamily:Ii.castOption(g.family,l.pts),fontSize:Ii.castOption(g.size,l.pts),fontColor:Ii.castOption(g.color,l.pts),nameLength:Ii.castOption(_.namelength,l.pts),textAlign:Ii.castOption(_.align,l.pts),hovertemplate:Ii.castOption(f.hovertemplate,l.pts),hovertemplateLabels:l,eventData:[FM(l,f)]},{container:u._hoverlayer.node(),outerContainer:u._paper.node(),gd:t,inOut_bbox:A}),l.bbox=A[0],o._hasHoverLabel=!0}o._hasHoverEvent=!0,t.emit("plotly_hover",{points:[FM(l,f)],event:Pu.event})}}),e.on("mouseout",function(l){var u=t._fullLayout,f=t._fullData[o.index],c=Pu.select(this).datum();o._hasHoverEvent&&(l.originalEvent=Pu.event,t.emit("plotly_unhover",{points:[FM(c,f)],event:Pu.event}),o._hasHoverEvent=!1),o._hasHoverLabel&&(PM.loneUnhover(u._hoverlayer.node()),o._hasHoverLabel=!1)}),e.on("click",function(l){var u=t._fullLayout,f=t._fullData[o.index];t._dragging||u.hovermode===!1||(t._hoverdata=[FM(l,f)],PM.click(t,Pu.event))})}function Zit(e,t,r){var n=Ii.castOption(e.outsidetextfont.color,t.pts)||Ii.castOption(e.textfont.color,t.pts)||r.color,i=Ii.castOption(e.outsidetextfont.family,t.pts)||Ii.castOption(e.textfont.family,t.pts)||r.family,a=Ii.castOption(e.outsidetextfont.size,t.pts)||Ii.castOption(e.textfont.size,t.pts)||r.size;return{color:n,family:i,size:a}}function zve(e,t,r){var n=Ii.castOption(e.insidetextfont.color,t.pts);!n&&e._input.textfont&&(n=Ii.castOption(e._input.textfont.color,t.pts));var i=Ii.castOption(e.insidetextfont.family,t.pts)||Ii.castOption(e.textfont.family,t.pts)||r.family,a=Ii.castOption(e.insidetextfont.size,t.pts)||Ii.castOption(e.textfont.size,t.pts)||r.size;return{color:n||Ive.contrast(t.color),family:i,size:a}}function Ove(e,t){for(var r,n,i=0;i<e.length;i++)if(r=e[i][0],n=r.trace,n.title.text){var a=n.title.text;n._meta&&(a=Ll.templateString(a,n._meta));var o=Uv.tester.append("text").attr("data-notex",1).text(a).call(Uv.font,n.title.font).call(N8.convertToTspans,t),s=Uv.bBox(o.node(),!0);r.titleBox={width:s.width,height:s.height},o.remove()}}function Bve(e,t,r){var n=r.r||t.rpx1,i=t.rInscribed,a=t.startangle===t.stopangle;if(a)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var o=t.ring,s=o===1&&Math.abs(t.startangle-t.stopangle)===Math.PI*2,l=t.halfangle,u=t.midangle,f=r.trace.insidetextorientation,c=f==="horizontal",h=f==="tangential",v=f==="radial",b=f==="auto",y=[],x;if(!b){var m=function(d,M){if($it(t,d)){var T=Math.abs(d-t.startangle),S=Math.abs(d-t.stopangle),E=T<S?T:S;M==="tan"?x=qve(e,n,o,E,0):x=Dve(e,n,o,E,Math.PI/2),x.textPosAngle=d,y.push(x)}},_;if(c||h){for(_=4;_>=-4;_-=2)m(Math.PI*_,"tan");for(_=4;_>=-4;_-=2)m(Math.PI*(_+1),"tan")}if(c||v){for(_=4;_>=-4;_-=2)m(Math.PI*(_+1.5),"rad");for(_=4;_>=-4;_-=2)m(Math.PI*(_+.5),"rad")}}if(s||b||c){var g=Math.sqrt(e.width*e.width+e.height*e.height);if(x={scale:i*n*2/g,rCenter:1-i,rotate:0},x.textPosAngle=(t.startangle+t.stopangle)/2,x.scale>=1)return x;y.push(x)}(b||v)&&(x=Dve(e,n,o,l,u),x.textPosAngle=(t.startangle+t.stopangle)/2,y.push(x)),(b||h)&&(x=qve(e,n,o,l,u),x.textPosAngle=(t.startangle+t.stopangle)/2,y.push(x));for(var A=0,w=0,k=0;k<y.length;k++){var p=y[k].scale;if(w<p&&(w=p,A=k),!b&&w>=1)break}return y[A]}function $it(e,t){var r=e.startangle,n=e.stopangle;return r>t&&t>n||r<t&&t<n}function Dve(e,t,r,n,i){t=Math.max(0,t-2*Fve);var a=e.width/e.height,o=jve(a,n,t,r);return{scale:o*2/e.height,rCenter:Hve(a,o/t),rotate:Uve(i)}}function qve(e,t,r,n,i){t=Math.max(0,t-2*Fve);var a=e.height/e.width,o=jve(a,n,t,r);return{scale:o*2/e.width,rCenter:Hve(a,o/t),rotate:Uve(i+Math.PI/2)}}function Hve(e,t){return Math.cos(t)-e*t}function Uve(e){return(180/Math.PI*e+720)%180-90}function jve(e,t,r,n){var i=e+1/(2*Math.tan(t));return r*Math.min(1/(Math.sqrt(i*i+.5)+i),n/(Math.sqrt(e*e+n/2)+e))}function Kit(e,t){return e.v===t.vTotal&&!t.trace.hole?1:Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2)}function Rve(e,t){var r=t.pxmid[0],n=t.pxmid[1],i=e.width/2,a=e.height/2;return r<0&&(i*=-1),n<0&&(a*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(a)*(i>0?1:-1)/2,y:a/(1+r*r/(n*n)),outside:!0}}function Jit(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function Vve(e,t){var r=1,n=1,i,a=e.trace,o={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=a.title.font.size,i=Gve(a),a.title.position.indexOf("top")!==-1?(o.y-=(1+i)*e.r,s.ty-=e.titleBox.height):a.title.position.indexOf("bottom")!==-1&&(o.y+=(1+i)*e.r);var l=Qit(e.r,e.trace.aspectratio),u=t.w*(a.domain.x[1]-a.domain.x[0])/2;return a.title.position.indexOf("left")!==-1?(u=u+l,o.x-=(1+i)*l,s.tx+=e.titleBox.width/2):a.title.position.indexOf("center")!==-1?u*=2:a.title.position.indexOf("right")!==-1&&(u=u+l,o.x+=(1+i)*l,s.tx-=e.titleBox.width/2),r=u/e.titleBox.width,n=z8(e,t)/e.titleBox.height,{x:o.x,y:o.y,scale:Math.min(r,n),tx:s.tx,ty:s.ty}}function Qit(e,t){return e/(t===void 0?1:t)}function z8(e,t){var r=e.trace,n=t.h*(r.domain.y[1]-r.domain.y[0]);return Math.min(e.titleBox.height,n/2)}function Gve(e){var t=e.pull;if(!t)return 0;var r;if(Array.isArray(t))for(t=0,r=0;r<e.pull.length;r++)e.pull[r]>t&&(t=e.pull[r]);return t}function eat(e,t){var r,n,i,a,o,s,l,u,f,c,h,v,b;function y(g,A){return g.pxmid[1]-A.pxmid[1]}function x(g,A){return A.pxmid[1]-g.pxmid[1]}function m(g,A){A||(A={});var w=A.labelExtraY+(n?A.yLabelMax:A.yLabelMin),k=n?g.yLabelMin:g.yLabelMax,p=n?g.yLabelMax:g.yLabelMin,d=g.cyFinal+o(g.px0[1],g.px1[1]),M=w-k,T,S,E,L,D,R;if(M*l>0&&(g.labelExtraY=M),!!Array.isArray(t.pull))for(S=0;S<c.length;S++)E=c[S],!(E===g||(Ii.castOption(t.pull,g.pts)||0)>=(Ii.castOption(t.pull,E.pts)||0))&&((g.pxmid[1]-E.pxmid[1])*l>0?(L=E.cyFinal+o(E.px0[1],E.px1[1]),M=L-k-g.labelExtraY,M*l>0&&(g.labelExtraY+=M)):(p+g.labelExtraY-d)*l>0&&(T=3*s*Math.abs(S-c.indexOf(g)),D=E.cxFinal+a(E.px0[0],E.px1[0]),R=D+T-(g.cxFinal+g.pxmid[0])-g.labelExtraX,R*s>0&&(g.labelExtraX+=R)))}for(n=0;n<2;n++)for(i=n?y:x,o=n?Math.max:Math.min,l=n?1:-1,r=0;r<2;r++){for(a=r?Math.max:Math.min,s=r?1:-1,u=e[n][r],u.sort(i),f=e[1-n][r],c=f.concat(u),v=[],h=0;h<u.length;h++)u[h].yLabelMid!==void 0&&v.push(u[h]);for(b=!1,h=0;n&&h<f.length;h++)if(f[h].yLabelMid!==void 0){b=f[h];break}for(h=0;h<v.length;h++){var _=h&&v[h-1];b&&!h&&(_=b),m(v[h],_)}}}function Yve(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n][0],a=i.trace,o=a.domain,s=t.w*(o.x[1]-o.x[0]),l=t.h*(o.y[1]-o.y[0]);a.title.text&&a.title.position!=="middle center"&&(l-=z8(i,t));var u=s/2,f=l/2;a.type==="funnelarea"&&!a.scalegroup&&(f/=a.aspectratio),i.r=Math.min(u,f)/(1+Gve(a)),i.cx=t.l+t.w*(a.domain.x[1]+a.domain.x[0])/2,i.cy=t.t+t.h*(1-a.domain.y[0])-l/2,a.title.text&&a.title.position.indexOf("bottom")!==-1&&(i.cy-=z8(i,t)),a.scalegroup&&r.indexOf(a.scalegroup)===-1&&r.push(a.scalegroup)}tat(e,r)}function tat(e,t){for(var r,n,i,a=0;a<t.length;a++){var o=1/0,s=t[a];for(n=0;n<e.length;n++)if(r=e[n][0],i=r.trace,i.scalegroup===s){var l;if(i.type==="pie")l=r.r*r.r;else if(i.type==="funnelarea"){var u,f;i.aspectratio>1?(u=r.r,f=u/i.aspectratio):(f=r.r,u=f*i.aspectratio),u*=(1+i.baseratio)/2,l=u*f}o=Math.min(o,l/r.vTotal)}for(n=0;n<e.length;n++)if(r=e[n][0],i=r.trace,i.scalegroup===s){var c=o*r.vTotal;i.type==="funnelarea"&&(c/=(1+i.baseratio)/2,c/=i.aspectratio),r.r=Math.sqrt(c)}}}function rat(e){var t=e[0],r=t.r,n=t.trace,i=Ii.getRotationAngle(n.rotation),a=2*Math.PI/t.vTotal,o="px0",s="px1",l,u,f;if(n.direction==="counterclockwise"){for(l=0;l<e.length&&e[l].hidden;l++);if(l===e.length)return;i+=a*e[l].v,a*=-1,o="px1",s="px0"}for(f=NM(r,i),l=0;l<e.length;l++)u=e[l],!u.hidden&&(u[o]=f,u.startangle=i,i+=a*u.v/2,u.pxmid=NM(r,i),u.midangle=i,i+=a*u.v/2,f=NM(r,i),u.stopangle=i,u[s]=f,u.largeArc=u.v>t.vTotal/2?1:0,u.halfangle=Math.PI*Math.min(u.v/t.vTotal,.5),u.ring=1-n.hole,u.rInscribed=Kit(u,t))}function NM(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function Wve(e,t,r){var n=e._fullLayout,i=r.trace,a=i.texttemplate,o=i.textinfo;if(!a&&o&&o!=="none"){var s=o.split("+"),l=function(A){return s.indexOf(A)!==-1},u=l("label"),f=l("text"),c=l("value"),h=l("percent"),v=n.separators,b;if(b=u?[t.label]:[],f){var y=Ii.getFirstFilled(i.text,t.pts);Cve(y)&&b.push(y)}c&&b.push(Ii.formatPieValue(t.v,v)),h&&b.push(Ii.formatPiePercent(t.v/r.vTotal,v)),t.text=b.join("<br>")}function x(A){return{label:A.label,value:A.v,valueLabel:Ii.formatPieValue(A.v,n.separators),percent:A.v/r.vTotal,percentLabel:Ii.formatPiePercent(A.v/r.vTotal,n.separators),color:A.color,text:A.text,customdata:Ll.castOption(i,A.i,"customdata")}}if(a){var m=Ll.castOption(i,t.i,"texttemplate");if(!m)t.text="";else{var _=x(t),g=Ii.getFirstFilled(i.text,t.pts);(Cve(g)||g==="")&&(_.text=g),t.text=Ll.texttemplateString(m,_,e._fullLayout._d3locale,_,i._meta||{})}}}function Xve(e,t){var r=e.rotate*Math.PI/180,n=Math.cos(r),i=Math.sin(r),a=(t.left+t.right)/2,o=(t.top+t.bottom)/2;e.textX=a*n-o*i,e.textY=a*i+o*n,e.noCenter=!0}Zve.exports={plot:Wit,formatSliceLabel:Wve,transformInsideText:Bve,determineInsideTextFont:zve,positionTitleOutside:Vve,prerenderTitles:Ove,layoutAreas:Yve,attachFxHandlers:Nve,computeTransform:Xve}});var Jve=$((lCt,Kve)=>{"use strict";var $ve=Nr(),nat=V1(),iat=tl().resizeText;Kve.exports=function(t){var r=t._fullLayout._pielayer.selectAll(".trace");iat(t,r,"pie"),r.each(function(n){var i=n[0],a=i.trace,o=$ve.select(this);o.style({opacity:a.opacity}),o.selectAll("path.surface").each(function(s){$ve.select(this).call(nat,s,a)})})}});var ede=$(Ym=>{"use strict";var Qve=Zi();Ym.name="pie";Ym.plot=function(e,t,r,n){Qve.plotBasePlot(Ym.name,e,t,r,n)};Ym.clean=function(e,t,r,n){Qve.cleanBasePlot(Ym.name,e,t,r,n)}});var rde=$((fCt,tde)=>{"use strict";tde.exports={attributes:Zp(),supplyDefaults:P8().supplyDefaults,supplyLayoutDefaults:Tve(),layoutAttributes:IM(),calc:Gm().calc,crossTraceCalc:Gm().crossTraceCalc,plot:zM().plot,style:Jve(),styleOne:V1(),moduleType:"trace",name:"pie",basePlotModule:ede(),categories:["pie-like","pie","showLegend"],meta:{description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")}}});var ide=$((cCt,nde)=>{"use strict";nde.exports=rde()});var ode=$(Wm=>{"use strict";var ade=Zi();Wm.name="sunburst";Wm.plot=function(e,t,r,n){ade.plotBasePlot(Wm.name,e,t,r,n)};Wm.clean=function(e,t,r,n){ade.cleanBasePlot(Wm.name,e,t,r,n)}});var O8=$((vCt,sde)=>{"use strict";sde.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}});var R2=$((dCt,ude)=>{"use strict";var aat=aa(),oat=Yn().hovertemplateAttrs,sat=Yn().texttemplateAttrs,lat=Ma(),uat=Ua().attributes,jv=Zp(),lde=O8(),q2=ln().extendFlat;ude.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the labels of each of the sectors."].join(" ")},parents:{valType:"data_array",editType:"calc",description:["Sets the parent sectors for each of the sectors.","Empty string items '' are understood to reference","the root node in the hierarchy.",'If `ids` is filled, `parents` items are understood to be "ids" themselves.',"When `ids` is not set, plotly attempts to find matching items in `labels`,","but beware they must be unique."].join(" ")},values:{valType:"data_array",editType:"calc",description:["Sets the values associated with each of the sectors.","Use with `branchvalues` to determine how the values are summed."].join(" ")},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc",description:["Determines how the items in `values` are summed.","When set to *total*, items in `values` are taken to be value of all its descendants.","When set to *remainder*, items in `values` corresponding to the root and the branches sectors","are taken to be the extra part not part of the sum of the values at their leaves."].join(" ")},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc",description:["Determines default for `values` when it is not provided,","by inferring a 1 for each of the *leaves* and/or *branches*, otherwise 0."].join(" ")},level:{valType:"any",editType:"plot",anim:!0,description:["Sets the level from which this trace hierarchy is rendered.","Set `level` to `''` to start from the root node in the hierarchy.",'Must be an "id" if `ids` is filled in, otherwise plotly attempts to find a matching',"item in `labels`."].join(" ")},maxdepth:{valType:"integer",editType:"plot",dflt:-1,description:["Sets the number of rendered sectors from any given `level`.","Set `maxdepth` to *-1* to render all the levels in the hierarchy."].join(" ")},marker:q2({colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this trace.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:q2({},jv.marker.line.color,{dflt:null,description:["Sets the color of the line enclosing each sector.","Defaults to the `paper_bgcolor` value."].join(" ")}),width:q2({},jv.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},lat("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the leaves. With colorscale","it is defaulted to 1; otherwise it is defaulted to 0.7"].join(" ")},editType:"plot"},text:jv.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot",description:["Determines which trace information appear on the graph."].join(" ")},texttemplate:sat({editType:"plot"},{keys:lde.eventDataKeys.concat(["label","value"])}),hovertext:jv.hovertext,hoverinfo:q2({},aat.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:oat({},{keys:lde.eventDataKeys}),textfont:jv.textfont,insidetextorientation:jv.insidetextorientation,insidetextfont:jv.insidetextfont,outsidetextfont:q2({},jv.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented at the center of a sunburst graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),rotation:{valType:"angle",dflt:0,editType:"plot",description:["Rotates the whole diagram counterclockwise by some angle.","By default the first slice starts at 3 o'clock."].join(" ")},sort:jv.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)",description:["sets the color of the root node for a sunburst/treemap/icicle trace.","this has no effect when a colorscale is used to set the markers."].join(" ")},editType:"calc"},domain:uat({name:"sunburst",trace:!0,editType:"calc"})}});var B8=$((pCt,fde)=>{"use strict";fde.exports={sunburstcolorway:{valType:"colorlist",editType:"calc",description:["Sets the default sunburst slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendsunburstcolors`."].join(" ")},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the sunburst slice colors (whether given by `sunburstcolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var vde=$((gCt,hde)=>{"use strict";var fat=pt(),cat=R2(),hat=Ua().defaults,vat=Kl().handleText,cde=Wa(),dat=cde.hasColorscale,pat=cde.handleDefaults;hde.exports=function(t,r,n,i){function a(v,b){return fat.coerce(t,r,cat,v,b)}var o=a("labels"),s=a("parents");if(!o||!o.length||!s||!s.length){r.visible=!1;return}var l=a("values");l&&l.length?a("branchvalues"):a("count"),a("level"),a("maxdepth");var u=a("marker.line.width");u&&a("marker.line.color",i.paper_bgcolor),a("marker.colors");var f=r._hasColorscale=dat(t,"marker","colors")||(t.marker||{}).coloraxis;f&&pat(t,r,i,a,{prefix:"marker.",cLetter:"c"}),a("leaf.opacity",f?1:.7);var c=a("text");a("texttemplate"),r.texttemplate||a("textinfo",Array.isArray(c)?"text+label":"label"),a("hovertext"),a("hovertemplate");var h="auto";vat(t,r,i,a,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("insidetextorientation"),a("sort"),a("rotation"),a("root.color"),hat(r,i,a),r._length=null}});var pde=$((mCt,dde)=>{"use strict";var gat=pt(),mat=B8();dde.exports=function(t,r){function n(i,a){return gat.coerce(t,r,mat,i,a)}n("sunburstcolorway",r.colorway),n("extendsunburstcolors")}});var I2=$((OM,gde)=>{(function(e,t){typeof OM=="object"&&typeof gde<"u"?t(OM):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(OM,function(e){"use strict";function t(je,Ve){return je.parent===Ve.parent?1:2}function r(je){return je.reduce(n,0)/je.length}function n(je,Ve){return je+Ve.x}function i(je){return 1+je.reduce(a,0)}function a(je,Ve){return Math.max(je,Ve.y)}function o(je){for(var Ve;Ve=je.children;)je=Ve[0];return je}function s(je){for(var Ve;Ve=je.children;)je=Ve[Ve.length-1];return je}function l(){var je=t,Ve=1,Je=1,nt=!1;function Be(tt){var ot,yt=0;tt.eachAfter(function(Ct){var Zt=Ct.children;Zt?(Ct.x=r(Zt),Ct.y=i(Zt)):(Ct.x=ot?yt+=je(Ct,ot):0,Ct.y=0,ot=Ct)});var Ht=o(tt),Lt=s(tt),tr=Ht.x-je(Ht,Lt)/2,rr=Lt.x+je(Lt,Ht)/2;return tt.eachAfter(nt?function(Ct){Ct.x=(Ct.x-tt.x)*Ve,Ct.y=(tt.y-Ct.y)*Je}:function(Ct){Ct.x=(Ct.x-tr)/(rr-tr)*Ve,Ct.y=(1-(tt.y?Ct.y/tt.y:1))*Je})}return Be.separation=function(tt){return arguments.length?(je=tt,Be):je},Be.size=function(tt){return arguments.length?(nt=!1,Ve=+tt[0],Je=+tt[1],Be):nt?null:[Ve,Je]},Be.nodeSize=function(tt){return arguments.length?(nt=!0,Ve=+tt[0],Je=+tt[1],Be):nt?[Ve,Je]:null},Be}function u(je){var Ve=0,Je=je.children,nt=Je&&Je.length;if(!nt)Ve=1;else for(;--nt>=0;)Ve+=Je[nt].value;je.value=Ve}function f(){return this.eachAfter(u)}function c(je){var Ve=this,Je,nt=[Ve],Be,tt,ot;do for(Je=nt.reverse(),nt=[];Ve=Je.pop();)if(je(Ve),Be=Ve.children,Be)for(tt=0,ot=Be.length;tt<ot;++tt)nt.push(Be[tt]);while(nt.length);return this}function h(je){for(var Ve=this,Je=[Ve],nt,Be;Ve=Je.pop();)if(je(Ve),nt=Ve.children,nt)for(Be=nt.length-1;Be>=0;--Be)Je.push(nt[Be]);return this}function v(je){for(var Ve=this,Je=[Ve],nt=[],Be,tt,ot;Ve=Je.pop();)if(nt.push(Ve),Be=Ve.children,Be)for(tt=0,ot=Be.length;tt<ot;++tt)Je.push(Be[tt]);for(;Ve=nt.pop();)je(Ve);return this}function b(je){return this.eachAfter(function(Ve){for(var Je=+je(Ve.data)||0,nt=Ve.children,Be=nt&&nt.length;--Be>=0;)Je+=nt[Be].value;Ve.value=Je})}function y(je){return this.eachBefore(function(Ve){Ve.children&&Ve.children.sort(je)})}function x(je){for(var Ve=this,Je=m(Ve,je),nt=[Ve];Ve!==Je;)Ve=Ve.parent,nt.push(Ve);for(var Be=nt.length;je!==Je;)nt.splice(Be,0,je),je=je.parent;return nt}function m(je,Ve){if(je===Ve)return je;var Je=je.ancestors(),nt=Ve.ancestors(),Be=null;for(je=Je.pop(),Ve=nt.pop();je===Ve;)Be=je,je=Je.pop(),Ve=nt.pop();return Be}function _(){for(var je=this,Ve=[je];je=je.parent;)Ve.push(je);return Ve}function g(){var je=[];return this.each(function(Ve){je.push(Ve)}),je}function A(){var je=[];return this.eachBefore(function(Ve){Ve.children||je.push(Ve)}),je}function w(){var je=this,Ve=[];return je.each(function(Je){Je!==je&&Ve.push({source:Je.parent,target:Je})}),Ve}function k(je,Ve){var Je=new S(je),nt=+je.value&&(Je.value=je.value),Be,tt=[Je],ot,yt,Ht,Lt;for(Ve==null&&(Ve=d);Be=tt.pop();)if(nt&&(Be.value=+Be.data.value),(yt=Ve(Be.data))&&(Lt=yt.length))for(Be.children=new Array(Lt),Ht=Lt-1;Ht>=0;--Ht)tt.push(ot=Be.children[Ht]=new S(yt[Ht])),ot.parent=Be,ot.depth=Be.depth+1;return Je.eachBefore(T)}function p(){return k(this).eachBefore(M)}function d(je){return je.children}function M(je){je.data=je.data.data}function T(je){var Ve=0;do je.height=Ve;while((je=je.parent)&&je.height<++Ve)}function S(je){this.data=je,this.depth=this.height=0,this.parent=null}S.prototype=k.prototype={constructor:S,count:f,each:c,eachAfter:v,eachBefore:h,sum:b,sort:y,path:x,ancestors:_,descendants:g,leaves:A,links:w,copy:p};var E=Array.prototype.slice;function L(je){for(var Ve=je.length,Je,nt;Ve;)nt=Math.random()*Ve--|0,Je=je[Ve],je[Ve]=je[nt],je[nt]=Je;return je}function D(je){for(var Ve=0,Je=(je=L(E.call(je))).length,nt=[],Be,tt;Ve<Je;)Be=je[Ve],tt&&C(tt,Be)?++Ve:(tt=N(nt=R(nt,Be)),Ve=0);return tt}function R(je,Ve){var Je,nt;if(F(Ve,je))return[Ve];for(Je=0;Je<je.length;++Je)if(q(Ve,je[Je])&&F(V(je[Je],Ve),je))return[je[Je],Ve];for(Je=0;Je<je.length-1;++Je)for(nt=Je+1;nt<je.length;++nt)if(q(V(je[Je],je[nt]),Ve)&&q(V(je[Je],Ve),je[nt])&&q(V(je[nt],Ve),je[Je])&&F(Y(je[Je],je[nt],Ve),je))return[je[Je],je[nt],Ve];throw new Error}function q(je,Ve){var Je=je.r-Ve.r,nt=Ve.x-je.x,Be=Ve.y-je.y;return Je<0||Je*Je<nt*nt+Be*Be}function C(je,Ve){var Je=je.r-Ve.r+1e-6,nt=Ve.x-je.x,Be=Ve.y-je.y;return Je>0&&Je*Je>nt*nt+Be*Be}function F(je,Ve){for(var Je=0;Je<Ve.length;++Je)if(!C(je,Ve[Je]))return!1;return!0}function N(je){switch(je.length){case 1:return U(je[0]);case 2:return V(je[0],je[1]);case 3:return Y(je[0],je[1],je[2])}}function U(je){return{x:je.x,y:je.y,r:je.r}}function V(je,Ve){var Je=je.x,nt=je.y,Be=je.r,tt=Ve.x,ot=Ve.y,yt=Ve.r,Ht=tt-Je,Lt=ot-nt,tr=yt-Be,rr=Math.sqrt(Ht*Ht+Lt*Lt);return{x:(Je+tt+Ht/rr*tr)/2,y:(nt+ot+Lt/rr*tr)/2,r:(rr+Be+yt)/2}}function Y(je,Ve,Je){var nt=je.x,Be=je.y,tt=je.r,ot=Ve.x,yt=Ve.y,Ht=Ve.r,Lt=Je.x,tr=Je.y,rr=Je.r,Ct=nt-ot,Zt=nt-Lt,Sr=Be-yt,gr=Be-tr,Lr=Ht-tt,en=rr-tt,Or=nt*nt+Be*Be-tt*tt,vn=Or-ot*ot-yt*yt+Ht*Ht,qn=Or-Lt*Lt-tr*tr+rr*rr,Kr=Zt*Sr-Ct*gr,Qr=(Sr*qn-gr*vn)/(Kr*2)-nt,kn=(gr*Lr-Sr*en)/Kr,Vn=(Zt*vn-Ct*qn)/(Kr*2)-Be,Tn=(Ct*en-Zt*Lr)/Kr,Nn=kn*kn+Tn*Tn-1,ci=2*(tt+Qr*kn+Vn*Tn),On=Qr*Qr+Vn*Vn-tt*tt,Sn=-(Nn?(ci+Math.sqrt(ci*ci-4*Nn*On))/(2*Nn):On/ci);return{x:nt+Qr+kn*Sn,y:Be+Vn+Tn*Sn,r:Sn}}function K(je,Ve,Je){var nt=je.x-Ve.x,Be,tt,ot=je.y-Ve.y,yt,Ht,Lt=nt*nt+ot*ot;Lt?(tt=Ve.r+Je.r,tt*=tt,Ht=je.r+Je.r,Ht*=Ht,tt>Ht?(Be=(Lt+Ht-tt)/(2*Lt),yt=Math.sqrt(Math.max(0,Ht/Lt-Be*Be)),Je.x=je.x-Be*nt-yt*ot,Je.y=je.y-Be*ot+yt*nt):(Be=(Lt+tt-Ht)/(2*Lt),yt=Math.sqrt(Math.max(0,tt/Lt-Be*Be)),Je.x=Ve.x+Be*nt-yt*ot,Je.y=Ve.y+Be*ot+yt*nt)):(Je.x=Ve.x+Je.r,Je.y=Ve.y)}function B(je,Ve){var Je=je.r+Ve.r-1e-6,nt=Ve.x-je.x,Be=Ve.y-je.y;return Je>0&&Je*Je>nt*nt+Be*Be}function z(je){var Ve=je._,Je=je.next._,nt=Ve.r+Je.r,Be=(Ve.x*Je.r+Je.x*Ve.r)/nt,tt=(Ve.y*Je.r+Je.y*Ve.r)/nt;return Be*Be+tt*tt}function j(je){this._=je,this.next=null,this.previous=null}function ae(je){if(!(Be=je.length))return 0;var Ve,Je,nt,Be,tt,ot,yt,Ht,Lt,tr,rr;if(Ve=je[0],Ve.x=0,Ve.y=0,!(Be>1))return Ve.r;if(Je=je[1],Ve.x=-Je.r,Je.x=Ve.r,Je.y=0,!(Be>2))return Ve.r+Je.r;K(Je,Ve,nt=je[2]),Ve=new j(Ve),Je=new j(Je),nt=new j(nt),Ve.next=nt.previous=Je,Je.next=Ve.previous=nt,nt.next=Je.previous=Ve;e:for(yt=3;yt<Be;++yt){K(Ve._,Je._,nt=je[yt]),nt=new j(nt),Ht=Je.next,Lt=Ve.previous,tr=Je._.r,rr=Ve._.r;do if(tr<=rr){if(B(Ht._,nt._)){Je=Ht,Ve.next=Je,Je.previous=Ve,--yt;continue e}tr+=Ht._.r,Ht=Ht.next}else{if(B(Lt._,nt._)){Ve=Lt,Ve.next=Je,Je.previous=Ve,--yt;continue e}rr+=Lt._.r,Lt=Lt.previous}while(Ht!==Lt.next);for(nt.previous=Ve,nt.next=Je,Ve.next=Je.previous=Je=nt,tt=z(Ve);(nt=nt.next)!==Je;)(ot=z(nt))<tt&&(Ve=nt,tt=ot);Je=Ve.next}for(Ve=[Je._],nt=Je;(nt=nt.next)!==Je;)Ve.push(nt._);for(nt=D(Ve),yt=0;yt<Be;++yt)Ve=je[yt],Ve.x-=nt.x,Ve.y-=nt.y;return nt.r}function ee(je){return ae(je),je}function ve(je){return je==null?null:fe(je)}function fe(je){if(typeof je!="function")throw new Error;return je}function se(){return 0}function G(je){return function(){return je}}function Z(je){return Math.sqrt(je.value)}function X(){var je=null,Ve=1,Je=1,nt=se;function Be(tt){return tt.x=Ve/2,tt.y=Je/2,je?tt.eachBefore(ge(je)).eachAfter(qe(nt,.5)).eachBefore(Pe(1)):tt.eachBefore(ge(Z)).eachAfter(qe(se,1)).eachAfter(qe(nt,tt.r/Math.min(Ve,Je))).eachBefore(Pe(Math.min(Ve,Je)/(2*tt.r))),tt}return Be.radius=function(tt){return arguments.length?(je=ve(tt),Be):je},Be.size=function(tt){return arguments.length?(Ve=+tt[0],Je=+tt[1],Be):[Ve,Je]},Be.padding=function(tt){return arguments.length?(nt=typeof tt=="function"?tt:G(+tt),Be):nt},Be}function ge(je){return function(Ve){Ve.children||(Ve.r=Math.max(0,+je(Ve)||0))}}function qe(je,Ve){return function(Je){if(nt=Je.children){var nt,Be,tt=nt.length,ot=je(Je)*Ve||0,yt;if(ot)for(Be=0;Be<tt;++Be)nt[Be].r+=ot;if(yt=ae(nt),ot)for(Be=0;Be<tt;++Be)nt[Be].r-=ot;Je.r=yt+ot}}}function Pe(je){return function(Ve){var Je=Ve.parent;Ve.r*=je,Je&&(Ve.x=Je.x+je*Ve.x,Ve.y=Je.y+je*Ve.y)}}function Oe(je){je.x0=Math.round(je.x0),je.y0=Math.round(je.y0),je.x1=Math.round(je.x1),je.y1=Math.round(je.y1)}function de(je,Ve,Je,nt,Be){for(var tt=je.children,ot,yt=-1,Ht=tt.length,Lt=je.value&&(nt-Ve)/je.value;++yt<Ht;)ot=tt[yt],ot.y0=Je,ot.y1=Be,ot.x0=Ve,ot.x1=Ve+=ot.value*Lt}function _e(){var je=1,Ve=1,Je=0,nt=!1;function Be(ot){var yt=ot.height+1;return ot.x0=ot.y0=Je,ot.x1=je,ot.y1=Ve/yt,ot.eachBefore(tt(Ve,yt)),nt&&ot.eachBefore(Oe),ot}function tt(ot,yt){return function(Ht){Ht.children&&de(Ht,Ht.x0,ot*(Ht.depth+1)/yt,Ht.x1,ot*(Ht.depth+2)/yt);var Lt=Ht.x0,tr=Ht.y0,rr=Ht.x1-Je,Ct=Ht.y1-Je;rr<Lt&&(Lt=rr=(Lt+rr)/2),Ct<tr&&(tr=Ct=(tr+Ct)/2),Ht.x0=Lt,Ht.y0=tr,Ht.x1=rr,Ht.y1=Ct}}return Be.round=function(ot){return arguments.length?(nt=!!ot,Be):nt},Be.size=function(ot){return arguments.length?(je=+ot[0],Ve=+ot[1],Be):[je,Ve]},Be.padding=function(ot){return arguments.length?(Je=+ot,Be):Je},Be}var ce="$",J={depth:-1},ne={};function be(je){return je.id}function Fe(je){return je.parentId}function He(){var je=be,Ve=Fe;function Je(nt){var Be,tt,ot=nt.length,yt,Ht,Lt,tr=new Array(ot),rr,Ct,Zt={};for(tt=0;tt<ot;++tt)Be=nt[tt],Lt=tr[tt]=new S(Be),(rr=je(Be,tt,nt))!=null&&(rr+="")&&(Ct=ce+(Lt.id=rr),Zt[Ct]=Ct in Zt?ne:Lt);for(tt=0;tt<ot;++tt)if(Lt=tr[tt],rr=Ve(nt[tt],tt,nt),rr==null||!(rr+="")){if(yt)throw new Error("multiple roots");yt=Lt}else{if(Ht=Zt[ce+rr],!Ht)throw new Error("missing: "+rr);if(Ht===ne)throw new Error("ambiguous: "+rr);Ht.children?Ht.children.push(Lt):Ht.children=[Lt],Lt.parent=Ht}if(!yt)throw new Error("no root");if(yt.parent=J,yt.eachBefore(function(Sr){Sr.depth=Sr.parent.depth+1,--ot}).eachBefore(T),yt.parent=null,ot>0)throw new Error("cycle");return yt}return Je.id=function(nt){return arguments.length?(je=fe(nt),Je):je},Je.parentId=function(nt){return arguments.length?(Ve=fe(nt),Je):Ve},Je}function te(je,Ve){return je.parent===Ve.parent?1:2}function ye(je){var Ve=je.children;return Ve?Ve[0]:je.t}function Te(je){var Ve=je.children;return Ve?Ve[Ve.length-1]:je.t}function Ce(je,Ve,Je){var nt=Je/(Ve.i-je.i);Ve.c-=nt,Ve.s+=Je,je.c+=nt,Ve.z+=Je,Ve.m+=Je}function De(je){for(var Ve=0,Je=0,nt=je.children,Be=nt.length,tt;--Be>=0;)tt=nt[Be],tt.z+=Ve,tt.m+=Ve,Ve+=tt.s+(Je+=tt.c)}function oe(je,Ve,Je){return je.a.parent===Ve.parent?je.a:Je}function pe(je,Ve){this._=je,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ve}pe.prototype=Object.create(S.prototype);function Le(je){for(var Ve=new pe(je,0),Je,nt=[Ve],Be,tt,ot,yt;Je=nt.pop();)if(tt=Je._.children)for(Je.children=new Array(yt=tt.length),ot=yt-1;ot>=0;--ot)nt.push(Be=Je.children[ot]=new pe(tt[ot],ot)),Be.parent=Je;return(Ve.parent=new pe(null,0)).children=[Ve],Ve}function Ue(){var je=te,Ve=1,Je=1,nt=null;function Be(Lt){var tr=Le(Lt);if(tr.eachAfter(tt),tr.parent.m=-tr.z,tr.eachBefore(ot),nt)Lt.eachBefore(Ht);else{var rr=Lt,Ct=Lt,Zt=Lt;Lt.eachBefore(function(Or){Or.x<rr.x&&(rr=Or),Or.x>Ct.x&&(Ct=Or),Or.depth>Zt.depth&&(Zt=Or)});var Sr=rr===Ct?1:je(rr,Ct)/2,gr=Sr-rr.x,Lr=Ve/(Ct.x+Sr+gr),en=Je/(Zt.depth||1);Lt.eachBefore(function(Or){Or.x=(Or.x+gr)*Lr,Or.y=Or.depth*en})}return Lt}function tt(Lt){var tr=Lt.children,rr=Lt.parent.children,Ct=Lt.i?rr[Lt.i-1]:null;if(tr){De(Lt);var Zt=(tr[0].z+tr[tr.length-1].z)/2;Ct?(Lt.z=Ct.z+je(Lt._,Ct._),Lt.m=Lt.z-Zt):Lt.z=Zt}else Ct&&(Lt.z=Ct.z+je(Lt._,Ct._));Lt.parent.A=yt(Lt,Ct,Lt.parent.A||rr[0])}function ot(Lt){Lt._.x=Lt.z+Lt.parent.m,Lt.m+=Lt.parent.m}function yt(Lt,tr,rr){if(tr){for(var Ct=Lt,Zt=Lt,Sr=tr,gr=Ct.parent.children[0],Lr=Ct.m,en=Zt.m,Or=Sr.m,vn=gr.m,qn;Sr=Te(Sr),Ct=ye(Ct),Sr&&Ct;)gr=ye(gr),Zt=Te(Zt),Zt.a=Lt,qn=Sr.z+Or-Ct.z-Lr+je(Sr._,Ct._),qn>0&&(Ce(oe(Sr,Lt,rr),Lt,qn),Lr+=qn,en+=qn),Or+=Sr.m,Lr+=Ct.m,vn+=gr.m,en+=Zt.m;Sr&&!Te(Zt)&&(Zt.t=Sr,Zt.m+=Or-en),Ct&&!ye(gr)&&(gr.t=Ct,gr.m+=Lr-vn,rr=Lt)}return rr}function Ht(Lt){Lt.x*=Ve,Lt.y=Lt.depth*Je}return Be.separation=function(Lt){return arguments.length?(je=Lt,Be):je},Be.size=function(Lt){return arguments.length?(nt=!1,Ve=+Lt[0],Je=+Lt[1],Be):nt?null:[Ve,Je]},Be.nodeSize=function(Lt){return arguments.length?(nt=!0,Ve=+Lt[0],Je=+Lt[1],Be):nt?[Ve,Je]:null},Be}function et(je,Ve,Je,nt,Be){for(var tt=je.children,ot,yt=-1,Ht=tt.length,Lt=je.value&&(Be-Je)/je.value;++yt<Ht;)ot=tt[yt],ot.x0=Ve,ot.x1=nt,ot.y0=Je,ot.y1=Je+=ot.value*Lt}var Qe=(1+Math.sqrt(5))/2;function dt(je,Ve,Je,nt,Be,tt){for(var ot=[],yt=Ve.children,Ht,Lt,tr=0,rr=0,Ct=yt.length,Zt,Sr,gr=Ve.value,Lr,en,Or,vn,qn,Kr,Qr;tr<Ct;){Zt=Be-Je,Sr=tt-nt;do Lr=yt[rr++].value;while(!Lr&&rr<Ct);for(en=Or=Lr,Kr=Math.max(Sr/Zt,Zt/Sr)/(gr*je),Qr=Lr*Lr*Kr,qn=Math.max(Or/Qr,Qr/en);rr<Ct;++rr){if(Lr+=Lt=yt[rr].value,Lt<en&&(en=Lt),Lt>Or&&(Or=Lt),Qr=Lr*Lr*Kr,vn=Math.max(Or/Qr,Qr/en),vn>qn){Lr-=Lt;break}qn=vn}ot.push(Ht={value:Lr,dice:Zt<Sr,children:yt.slice(tr,rr)}),Ht.dice?de(Ht,Je,nt,Be,gr?nt+=Sr*Lr/gr:tt):et(Ht,Je,nt,gr?Je+=Zt*Lr/gr:Be,tt),gr-=Lr,tr=rr}return ot}var ht=function je(Ve){function Je(nt,Be,tt,ot,yt){dt(Ve,nt,Be,tt,ot,yt)}return Je.ratio=function(nt){return je((nt=+nt)>1?nt:1)},Je}(Qe);function _t(){var je=ht,Ve=!1,Je=1,nt=1,Be=[0],tt=se,ot=se,yt=se,Ht=se,Lt=se;function tr(Ct){return Ct.x0=Ct.y0=0,Ct.x1=Je,Ct.y1=nt,Ct.eachBefore(rr),Be=[0],Ve&&Ct.eachBefore(Oe),Ct}function rr(Ct){var Zt=Be[Ct.depth],Sr=Ct.x0+Zt,gr=Ct.y0+Zt,Lr=Ct.x1-Zt,en=Ct.y1-Zt;Lr<Sr&&(Sr=Lr=(Sr+Lr)/2),en<gr&&(gr=en=(gr+en)/2),Ct.x0=Sr,Ct.y0=gr,Ct.x1=Lr,Ct.y1=en,Ct.children&&(Zt=Be[Ct.depth+1]=tt(Ct)/2,Sr+=Lt(Ct)-Zt,gr+=ot(Ct)-Zt,Lr-=yt(Ct)-Zt,en-=Ht(Ct)-Zt,Lr<Sr&&(Sr=Lr=(Sr+Lr)/2),en<gr&&(gr=en=(gr+en)/2),je(Ct,Sr,gr,Lr,en))}return tr.round=function(Ct){return arguments.length?(Ve=!!Ct,tr):Ve},tr.size=function(Ct){return arguments.length?(Je=+Ct[0],nt=+Ct[1],tr):[Je,nt]},tr.tile=function(Ct){return arguments.length?(je=fe(Ct),tr):je},tr.padding=function(Ct){return arguments.length?tr.paddingInner(Ct).paddingOuter(Ct):tr.paddingInner()},tr.paddingInner=function(Ct){return arguments.length?(tt=typeof Ct=="function"?Ct:G(+Ct),tr):tt},tr.paddingOuter=function(Ct){return arguments.length?tr.paddingTop(Ct).paddingRight(Ct).paddingBottom(Ct).paddingLeft(Ct):tr.paddingTop()},tr.paddingTop=function(Ct){return arguments.length?(ot=typeof Ct=="function"?Ct:G(+Ct),tr):ot},tr.paddingRight=function(Ct){return arguments.length?(yt=typeof Ct=="function"?Ct:G(+Ct),tr):yt},tr.paddingBottom=function(Ct){return arguments.length?(Ht=typeof Ct=="function"?Ct:G(+Ct),tr):Ht},tr.paddingLeft=function(Ct){return arguments.length?(Lt=typeof Ct=="function"?Ct:G(+Ct),tr):Lt},tr}function kt(je,Ve,Je,nt,Be){var tt=je.children,ot,yt=tt.length,Ht,Lt=new Array(yt+1);for(Lt[0]=Ht=ot=0;ot<yt;++ot)Lt[ot+1]=Ht+=tt[ot].value;tr(0,yt,je.value,Ve,Je,nt,Be);function tr(rr,Ct,Zt,Sr,gr,Lr,en){if(rr>=Ct-1){var Or=tt[rr];Or.x0=Sr,Or.y0=gr,Or.x1=Lr,Or.y1=en;return}for(var vn=Lt[rr],qn=Zt/2+vn,Kr=rr+1,Qr=Ct-1;Kr<Qr;){var kn=Kr+Qr>>>1;Lt[kn]<qn?Kr=kn+1:Qr=kn}qn-Lt[Kr-1]<Lt[Kr]-qn&&rr+1<Kr&&--Kr;var Vn=Lt[Kr]-vn,Tn=Zt-Vn;if(Lr-Sr>en-gr){var Nn=(Sr*Tn+Lr*Vn)/Zt;tr(rr,Kr,Vn,Sr,gr,Nn,en),tr(Kr,Ct,Tn,Nn,gr,Lr,en)}else{var ci=(gr*Tn+en*Vn)/Zt;tr(rr,Kr,Vn,Sr,gr,Lr,ci),tr(Kr,Ct,Tn,Sr,ci,Lr,en)}}}function St(je,Ve,Je,nt,Be){(je.depth&1?et:de)(je,Ve,Je,nt,Be)}var Ot=function je(Ve){function Je(nt,Be,tt,ot,yt){if((Ht=nt._squarify)&&Ht.ratio===Ve)for(var Ht,Lt,tr,rr,Ct=-1,Zt,Sr=Ht.length,gr=nt.value;++Ct<Sr;){for(Lt=Ht[Ct],tr=Lt.children,rr=Lt.value=0,Zt=tr.length;rr<Zt;++rr)Lt.value+=tr[rr].value;Lt.dice?de(Lt,Be,tt,ot,tt+=(yt-tt)*Lt.value/gr):et(Lt,Be,tt,Be+=(ot-Be)*Lt.value/gr,yt),gr-=Lt.value}else nt._squarify=Ht=dt(Ve,nt,Be,tt,ot,yt),Ht.ratio=Ve}return Je.ratio=function(nt){return je((nt=+nt)>1?nt:1)},Je}(Qe);e.cluster=l,e.hierarchy=k,e.pack=X,e.packEnclose=D,e.packSiblings=ee,e.partition=_e,e.stratify=He,e.tree=Ue,e.treemap=_t,e.treemapBinary=kt,e.treemapDice=de,e.treemapResquarify=Ot,e.treemapSlice=et,e.treemapSliceDice=St,e.treemapSquarify=ht,Object.defineProperty(e,"__esModule",{value:!0})})});var F2=$(P2=>{"use strict";var mde=I2(),yat=mn(),Xm=pt(),xat=Wa().makeColorScaleFuncFromTrace,bat=Gm().makePullColorFn,wat=Gm().generateExtendedColors,_at=Wa().calc,Tat=Zn().ALMOST_EQUAL,Aat={},Mat={},kat={};P2.calc=function(e,t){var r=e._fullLayout,n=t.ids,i=Xm.isArrayOrTypedArray(n),a=t.labels,o=t.parents,s=t.values,l=Xm.isArrayOrTypedArray(s),u=[],f={},c={},h=function(C,F){f[C]?f[C].push(F):f[C]=[F],c[F]=1},v=function(C){return C||typeof C=="number"},b=function(C){return!l||yat(s[C])&&s[C]>=0},y,x,m;i?(y=Math.min(n.length,o.length),x=function(C){return v(n[C])&&b(C)},m=function(C){return String(n[C])}):(y=Math.min(a.length,o.length),x=function(C){return v(a[C])&&b(C)},m=function(C){return String(a[C])}),l&&(y=Math.min(y,s.length));for(var _=0;_<y;_++)if(x(_)){var g=m(_),A=v(o[_])?String(o[_]):"",w={i:_,id:g,pid:A,label:v(a[_])?String(a[_]):""};l&&(w.v=+s[_]),u.push(w),h(A,g)}if(f[""]){if(f[""].length>1){for(var d=Xm.randstr(),M=0;M<u.length;M++)u[M].pid===""&&(u[M].pid=d);u.unshift({hasMultipleRoots:!0,id:d,pid:"",label:""})}}else{var k=[],p;for(p in f)c[p]||k.push(p);if(k.length===1)p=k[0],u.unshift({hasImpliedRoot:!0,id:p,pid:"",label:p});else return Xm.warn(["Multiple implied roots, cannot build",t.type,"hierarchy of",t.name+".","These roots include:",k.join(", ")].join(" "))}var T;try{T=mde.stratify().id(function(C){return C.id}).parentId(function(C){return C.pid})(u)}catch(C){return Xm.warn(["Failed to build",t.type,"hierarchy of",t.name+".","Error:",C.message].join(" "))}var S=mde.hierarchy(T),E=!1;if(l)switch(t.branchvalues){case"remainder":S.sum(function(C){return C.data.v});break;case"total":S.each(function(C){var F=C.data.data,N=F.v;if(C.children){var U=C.children.reduce(function(V,Y){return V+Y.data.data.v},0);if((F.hasImpliedRoot||F.hasMultipleRoots)&&(N=U),N<U*Tat)return E=!0,Xm.warn(["Total value for node",C.data.data.id,"of",t.name,"is smaller than the sum of its children.",`
parent value =`,N,`
children sum =`,U].join(" "))}C.value=N});break}else yde(S,t,{branches:t.count.indexOf("branches")!==-1,leaves:t.count.indexOf("leaves")!==-1});if(!E){t.sort&&S.sort(function(C,F){return F.value-C.value});var L,D,R=t.marker.colors||[],q=!!R.length;return t._hasColorscale?(q||(R=l?t.values:t._values),_at(e,t,{vals:R,containerStr:"marker",cLetter:"c"}),D=xat(t.marker)):L=bat(r["_"+t.type+"colormap"]),S.each(function(C){var F=C.data.data;F.color=t._hasColorscale?D(R[F.i]):L(R[F.i],F.id)}),u[0].hierarchy=S,u}};P2._runCrossTraceCalc=function(e,t){var r=t._fullLayout,n=t.calcdata,i=r[e+"colorway"],a=r["_"+e+"colormap"];r["extend"+e+"colors"]&&(i=wat(i,e==="icicle"?kat:e==="treemap"?Mat:Aat));var o=0,s;function l(h){var v=h.data.data,b=v.id;v.color===!1&&(a[b]?v.color=a[b]:h.parent?h.parent.parent?v.color=h.parent.data.data.color:(a[b]=v.color=i[o%i.length],o++):v.color=s)}for(var u=0;u<n.length;u++){var f=n[u],c=f[0];c.trace.type===e&&c.hierarchy&&(s=c.trace.root.color,c.hierarchy.each(l))}};P2.crossTraceCalc=function(e){return P2._runCrossTraceCalc("sunburst",e)};function yde(e,t,r){var n=0,i=e.children;if(i){for(var a=i.length,o=0;o<a;o++)n+=yde(i[o],t,r);r.branches&&n++}else r.leaves&&n++;return e.value=e.data.data.value=n,t._values||(t._values=[]),t._values[e.data.data.i]=n,n}});var bde=$((BM,xde)=>{(function(e,t){typeof BM=="object"&&typeof xde<"u"?t(BM):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(BM,function(e){"use strict";function t(oe,pe,Le){oe.prototype=pe.prototype=Le,Le.constructor=oe}function r(oe,pe){var Le=Object.create(oe.prototype);for(var Ue in pe)Le[Ue]=pe[Ue];return Le}function n(){}var i=.7,a=1/i,o="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),c=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,s]+"\\)$"),v=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),b=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),y=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(n,A,{copy:function(oe){return Object.assign(new this.constructor,this,oe)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:_,formatRgb:g,toString:g});function m(){return this.rgb().formatHex()}function _(){return D(this).formatHsl()}function g(){return this.rgb().formatRgb()}function A(oe){var pe,Le;return oe=(oe+"").trim().toLowerCase(),(pe=u.exec(oe))?(Le=pe[1].length,pe=parseInt(pe[1],16),Le===6?w(pe):Le===3?new M(pe>>8&15|pe>>4&240,pe>>4&15|pe&240,(pe&15)<<4|pe&15,1):Le===8?k(pe>>24&255,pe>>16&255,pe>>8&255,(pe&255)/255):Le===4?k(pe>>12&15|pe>>8&240,pe>>8&15|pe>>4&240,pe>>4&15|pe&240,((pe&15)<<4|pe&15)/255):null):(pe=f.exec(oe))?new M(pe[1],pe[2],pe[3],1):(pe=c.exec(oe))?new M(pe[1]*255/100,pe[2]*255/100,pe[3]*255/100,1):(pe=h.exec(oe))?k(pe[1],pe[2],pe[3],pe[4]):(pe=v.exec(oe))?k(pe[1]*255/100,pe[2]*255/100,pe[3]*255/100,pe[4]):(pe=b.exec(oe))?L(pe[1],pe[2]/100,pe[3]/100,1):(pe=y.exec(oe))?L(pe[1],pe[2]/100,pe[3]/100,pe[4]):x.hasOwnProperty(oe)?w(x[oe]):oe==="transparent"?new M(NaN,NaN,NaN,0):null}function w(oe){return new M(oe>>16&255,oe>>8&255,oe&255,1)}function k(oe,pe,Le,Ue){return Ue<=0&&(oe=pe=Le=NaN),new M(oe,pe,Le,Ue)}function p(oe){return oe instanceof n||(oe=A(oe)),oe?(oe=oe.rgb(),new M(oe.r,oe.g,oe.b,oe.opacity)):new M}function d(oe,pe,Le,Ue){return arguments.length===1?p(oe):new M(oe,pe,Le,Ue??1)}function M(oe,pe,Le,Ue){this.r=+oe,this.g=+pe,this.b=+Le,this.opacity=+Ue}t(M,d,r(n,{brighter:function(oe){return oe=oe==null?a:Math.pow(a,oe),new M(this.r*oe,this.g*oe,this.b*oe,this.opacity)},darker:function(oe){return oe=oe==null?i:Math.pow(i,oe),new M(this.r*oe,this.g*oe,this.b*oe,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatRgb:S,toString:S}));function T(){return"#"+E(this.r)+E(this.g)+E(this.b)}function S(){var oe=this.opacity;return oe=isNaN(oe)?1:Math.max(0,Math.min(1,oe)),(oe===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(oe===1?")":", "+oe+")")}function E(oe){return oe=Math.max(0,Math.min(255,Math.round(oe)||0)),(oe<16?"0":"")+oe.toString(16)}function L(oe,pe,Le,Ue){return Ue<=0?oe=pe=Le=NaN:Le<=0||Le>=1?oe=pe=NaN:pe<=0&&(oe=NaN),new q(oe,pe,Le,Ue)}function D(oe){if(oe instanceof q)return new q(oe.h,oe.s,oe.l,oe.opacity);if(oe instanceof n||(oe=A(oe)),!oe)return new q;if(oe instanceof q)return oe;oe=oe.rgb();var pe=oe.r/255,Le=oe.g/255,Ue=oe.b/255,et=Math.min(pe,Le,Ue),Qe=Math.max(pe,Le,Ue),dt=NaN,ht=Qe-et,_t=(Qe+et)/2;return ht?(pe===Qe?dt=(Le-Ue)/ht+(Le<Ue)*6:Le===Qe?dt=(Ue-pe)/ht+2:dt=(pe-Le)/ht+4,ht/=_t<.5?Qe+et:2-Qe-et,dt*=60):ht=_t>0&&_t<1?0:dt,new q(dt,ht,_t,oe.opacity)}function R(oe,pe,Le,Ue){return arguments.length===1?D(oe):new q(oe,pe,Le,Ue??1)}function q(oe,pe,Le,Ue){this.h=+oe,this.s=+pe,this.l=+Le,this.opacity=+Ue}t(q,R,r(n,{brighter:function(oe){return oe=oe==null?a:Math.pow(a,oe),new q(this.h,this.s,this.l*oe,this.opacity)},darker:function(oe){return oe=oe==null?i:Math.pow(i,oe),new q(this.h,this.s,this.l*oe,this.opacity)},rgb:function(){var oe=this.h%360+(this.h<0)*360,pe=isNaN(oe)||isNaN(this.s)?0:this.s,Le=this.l,Ue=Le+(Le<.5?Le:1-Le)*pe,et=2*Le-Ue;return new M(C(oe>=240?oe-240:oe+120,et,Ue),C(oe,et,Ue),C(oe<120?oe+240:oe-120,et,Ue),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var oe=this.opacity;return oe=isNaN(oe)?1:Math.max(0,Math.min(1,oe)),(oe===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(oe===1?")":", "+oe+")")}}));function C(oe,pe,Le){return(oe<60?pe+(Le-pe)*oe/60:oe<180?Le:oe<240?pe+(Le-pe)*(240-oe)/60:pe)*255}var F=Math.PI/180,N=180/Math.PI,U=18,V=.96422,Y=1,K=.82521,B=4/29,z=6/29,j=3*z*z,ae=z*z*z;function ee(oe){if(oe instanceof se)return new se(oe.l,oe.a,oe.b,oe.opacity);if(oe instanceof de)return _e(oe);oe instanceof M||(oe=p(oe));var pe=ge(oe.r),Le=ge(oe.g),Ue=ge(oe.b),et=G((.2225045*pe+.7168786*Le+.0606169*Ue)/Y),Qe,dt;return pe===Le&&Le===Ue?Qe=dt=et:(Qe=G((.4360747*pe+.3850649*Le+.1430804*Ue)/V),dt=G((.0139322*pe+.0971045*Le+.7141733*Ue)/K)),new se(116*et-16,500*(Qe-et),200*(et-dt),oe.opacity)}function ve(oe,pe){return new se(oe,0,0,pe??1)}function fe(oe,pe,Le,Ue){return arguments.length===1?ee(oe):new se(oe,pe,Le,Ue??1)}function se(oe,pe,Le,Ue){this.l=+oe,this.a=+pe,this.b=+Le,this.opacity=+Ue}t(se,fe,r(n,{brighter:function(oe){return new se(this.l+U*(oe??1),this.a,this.b,this.opacity)},darker:function(oe){return new se(this.l-U*(oe??1),this.a,this.b,this.opacity)},rgb:function(){var oe=(this.l+16)/116,pe=isNaN(this.a)?oe:oe+this.a/500,Le=isNaN(this.b)?oe:oe-this.b/200;return pe=V*Z(pe),oe=Y*Z(oe),Le=K*Z(Le),new M(X(3.1338561*pe-1.6168667*oe-.4906146*Le),X(-.9787684*pe+1.9161415*oe+.033454*Le),X(.0719453*pe-.2289914*oe+1.4052427*Le),this.opacity)}}));function G(oe){return oe>ae?Math.pow(oe,1/3):oe/j+B}function Z(oe){return oe>z?oe*oe*oe:j*(oe-B)}function X(oe){return 255*(oe<=.0031308?12.92*oe:1.055*Math.pow(oe,1/2.4)-.055)}function ge(oe){return(oe/=255)<=.04045?oe/12.92:Math.pow((oe+.055)/1.055,2.4)}function qe(oe){if(oe instanceof de)return new de(oe.h,oe.c,oe.l,oe.opacity);if(oe instanceof se||(oe=ee(oe)),oe.a===0&&oe.b===0)return new de(NaN,0<oe.l&&oe.l<100?0:NaN,oe.l,oe.opacity);var pe=Math.atan2(oe.b,oe.a)*N;return new de(pe<0?pe+360:pe,Math.sqrt(oe.a*oe.a+oe.b*oe.b),oe.l,oe.opacity)}function Pe(oe,pe,Le,Ue){return arguments.length===1?qe(oe):new de(Le,pe,oe,Ue??1)}function Oe(oe,pe,Le,Ue){return arguments.length===1?qe(oe):new de(oe,pe,Le,Ue??1)}function de(oe,pe,Le,Ue){this.h=+oe,this.c=+pe,this.l=+Le,this.opacity=+Ue}function _e(oe){if(isNaN(oe.h))return new se(oe.l,0,0,oe.opacity);var pe=oe.h*F;return new se(oe.l,Math.cos(pe)*oe.c,Math.sin(pe)*oe.c,oe.opacity)}t(de,Oe,r(n,{brighter:function(oe){return new de(this.h,this.c,this.l+U*(oe??1),this.opacity)},darker:function(oe){return new de(this.h,this.c,this.l-U*(oe??1),this.opacity)},rgb:function(){return _e(this).rgb()}}));var ce=-.14861,J=1.78277,ne=-.29227,be=-.90649,Fe=1.97294,He=Fe*be,te=Fe*J,ye=J*ne-be*ce;function Te(oe){if(oe instanceof De)return new De(oe.h,oe.s,oe.l,oe.opacity);oe instanceof M||(oe=p(oe));var pe=oe.r/255,Le=oe.g/255,Ue=oe.b/255,et=(ye*Ue+He*pe-te*Le)/(ye+He-te),Qe=Ue-et,dt=(Fe*(Le-et)-ne*Qe)/be,ht=Math.sqrt(dt*dt+Qe*Qe)/(Fe*et*(1-et)),_t=ht?Math.atan2(dt,Qe)*N-120:NaN;return new De(_t<0?_t+360:_t,ht,et,oe.opacity)}function Ce(oe,pe,Le,Ue){return arguments.length===1?Te(oe):new De(oe,pe,Le,Ue??1)}function De(oe,pe,Le,Ue){this.h=+oe,this.s=+pe,this.l=+Le,this.opacity=+Ue}t(De,Ce,r(n,{brighter:function(oe){return oe=oe==null?a:Math.pow(a,oe),new De(this.h,this.s,this.l*oe,this.opacity)},darker:function(oe){return oe=oe==null?i:Math.pow(i,oe),new De(this.h,this.s,this.l*oe,this.opacity)},rgb:function(){var oe=isNaN(this.h)?0:(this.h+120)*F,pe=+this.l,Le=isNaN(this.s)?0:this.s*pe*(1-pe),Ue=Math.cos(oe),et=Math.sin(oe);return new M(255*(pe+Le*(ce*Ue+J*et)),255*(pe+Le*(ne*Ue+be*et)),255*(pe+Le*(Fe*Ue)),this.opacity)}})),e.color=A,e.cubehelix=Ce,e.gray=ve,e.hcl=Oe,e.hsl=R,e.lab=fe,e.lch=Pe,e.rgb=d,Object.defineProperty(e,"__esModule",{value:!0})})});var $p=$((HM,wde)=>{(function(e,t){typeof HM=="object"&&typeof wde<"u"?t(HM,bde()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(HM,function(e,t){"use strict";function r(te,ye,Te,Ce,De){var oe=te*te,pe=oe*te;return((1-3*te+3*oe-pe)*ye+(4-6*oe+3*pe)*Te+(1+3*te+3*oe-3*pe)*Ce+pe*De)/6}function n(te){var ye=te.length-1;return function(Te){var Ce=Te<=0?Te=0:Te>=1?(Te=1,ye-1):Math.floor(Te*ye),De=te[Ce],oe=te[Ce+1],pe=Ce>0?te[Ce-1]:2*De-oe,Le=Ce<ye-1?te[Ce+2]:2*oe-De;return r((Te-Ce/ye)*ye,pe,De,oe,Le)}}function i(te){var ye=te.length;return function(Te){var Ce=Math.floor(((Te%=1)<0?++Te:Te)*ye),De=te[(Ce+ye-1)%ye],oe=te[Ce%ye],pe=te[(Ce+1)%ye],Le=te[(Ce+2)%ye];return r((Te-Ce/ye)*ye,De,oe,pe,Le)}}function a(te){return function(){return te}}function o(te,ye){return function(Te){return te+Te*ye}}function s(te,ye,Te){return te=Math.pow(te,Te),ye=Math.pow(ye,Te)-te,Te=1/Te,function(Ce){return Math.pow(te+Ce*ye,Te)}}function l(te,ye){var Te=ye-te;return Te?o(te,Te>180||Te<-180?Te-360*Math.round(Te/360):Te):a(isNaN(te)?ye:te)}function u(te){return(te=+te)==1?f:function(ye,Te){return Te-ye?s(ye,Te,te):a(isNaN(ye)?Te:ye)}}function f(te,ye){var Te=ye-te;return Te?o(te,Te):a(isNaN(te)?ye:te)}var c=function te(ye){var Te=u(ye);function Ce(De,oe){var pe=Te((De=t.rgb(De)).r,(oe=t.rgb(oe)).r),Le=Te(De.g,oe.g),Ue=Te(De.b,oe.b),et=f(De.opacity,oe.opacity);return function(Qe){return De.r=pe(Qe),De.g=Le(Qe),De.b=Ue(Qe),De.opacity=et(Qe),De+""}}return Ce.gamma=te,Ce}(1);function h(te){return function(ye){var Te=ye.length,Ce=new Array(Te),De=new Array(Te),oe=new Array(Te),pe,Le;for(pe=0;pe<Te;++pe)Le=t.rgb(ye[pe]),Ce[pe]=Le.r||0,De[pe]=Le.g||0,oe[pe]=Le.b||0;return Ce=te(Ce),De=te(De),oe=te(oe),Le.opacity=1,function(Ue){return Le.r=Ce(Ue),Le.g=De(Ue),Le.b=oe(Ue),Le+""}}}var v=h(n),b=h(i);function y(te,ye){ye||(ye=[]);var Te=te?Math.min(ye.length,te.length):0,Ce=ye.slice(),De;return function(oe){for(De=0;De<Te;++De)Ce[De]=te[De]*(1-oe)+ye[De]*oe;return Ce}}function x(te){return ArrayBuffer.isView(te)&&!(te instanceof DataView)}function m(te,ye){return(x(ye)?y:_)(te,ye)}function _(te,ye){var Te=ye?ye.length:0,Ce=te?Math.min(Te,te.length):0,De=new Array(Ce),oe=new Array(Te),pe;for(pe=0;pe<Ce;++pe)De[pe]=S(te[pe],ye[pe]);for(;pe<Te;++pe)oe[pe]=ye[pe];return function(Le){for(pe=0;pe<Ce;++pe)oe[pe]=De[pe](Le);return oe}}function g(te,ye){var Te=new Date;return te=+te,ye=+ye,function(Ce){return Te.setTime(te*(1-Ce)+ye*Ce),Te}}function A(te,ye){return te=+te,ye=+ye,function(Te){return te*(1-Te)+ye*Te}}function w(te,ye){var Te={},Ce={},De;(te===null||typeof te!="object")&&(te={}),(ye===null||typeof ye!="object")&&(ye={});for(De in ye)De in te?Te[De]=S(te[De],ye[De]):Ce[De]=ye[De];return function(oe){for(De in Te)Ce[De]=Te[De](oe);return Ce}}var k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p=new RegExp(k.source,"g");function d(te){return function(){return te}}function M(te){return function(ye){return te(ye)+""}}function T(te,ye){var Te=k.lastIndex=p.lastIndex=0,Ce,De,oe,pe=-1,Le=[],Ue=[];for(te=te+"",ye=ye+"";(Ce=k.exec(te))&&(De=p.exec(ye));)(oe=De.index)>Te&&(oe=ye.slice(Te,oe),Le[pe]?Le[pe]+=oe:Le[++pe]=oe),(Ce=Ce[0])===(De=De[0])?Le[pe]?Le[pe]+=De:Le[++pe]=De:(Le[++pe]=null,Ue.push({i:pe,x:A(Ce,De)})),Te=p.lastIndex;return Te<ye.length&&(oe=ye.slice(Te),Le[pe]?Le[pe]+=oe:Le[++pe]=oe),Le.length<2?Ue[0]?M(Ue[0].x):d(ye):(ye=Ue.length,function(et){for(var Qe=0,dt;Qe<ye;++Qe)Le[(dt=Ue[Qe]).i]=dt.x(et);return Le.join("")})}function S(te,ye){var Te=typeof ye,Ce;return ye==null||Te==="boolean"?a(ye):(Te==="number"?A:Te==="string"?(Ce=t.color(ye))?(ye=Ce,c):T:ye instanceof t.color?c:ye instanceof Date?g:x(ye)?y:Array.isArray(ye)?_:typeof ye.valueOf!="function"&&typeof ye.toString!="function"||isNaN(ye)?w:A)(te,ye)}function E(te){var ye=te.length;return function(Te){return te[Math.max(0,Math.min(ye-1,Math.floor(Te*ye)))]}}function L(te,ye){var Te=l(+te,+ye);return function(Ce){var De=Te(Ce);return De-360*Math.floor(De/360)}}function D(te,ye){return te=+te,ye=+ye,function(Te){return Math.round(te*(1-Te)+ye*Te)}}var R=180/Math.PI,q={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C(te,ye,Te,Ce,De,oe){var pe,Le,Ue;return(pe=Math.sqrt(te*te+ye*ye))&&(te/=pe,ye/=pe),(Ue=te*Te+ye*Ce)&&(Te-=te*Ue,Ce-=ye*Ue),(Le=Math.sqrt(Te*Te+Ce*Ce))&&(Te/=Le,Ce/=Le,Ue/=Le),te*Ce<ye*Te&&(te=-te,ye=-ye,Ue=-Ue,pe=-pe),{translateX:De,translateY:oe,rotate:Math.atan2(ye,te)*R,skewX:Math.atan(Ue)*R,scaleX:pe,scaleY:Le}}var F,N,U,V;function Y(te){return te==="none"?q:(F||(F=document.createElement("DIV"),N=document.documentElement,U=document.defaultView),F.style.transform=te,te=U.getComputedStyle(N.appendChild(F),null).getPropertyValue("transform"),N.removeChild(F),te=te.slice(7,-1).split(","),C(+te[0],+te[1],+te[2],+te[3],+te[4],+te[5]))}function K(te){return te==null||(V||(V=document.createElementNS("http://www.w3.org/2000/svg","g")),V.setAttribute("transform",te),!(te=V.transform.baseVal.consolidate()))?q:(te=te.matrix,C(te.a,te.b,te.c,te.d,te.e,te.f))}function B(te,ye,Te,Ce){function De(et){return et.length?et.pop()+" ":""}function oe(et,Qe,dt,ht,_t,kt){if(et!==dt||Qe!==ht){var St=_t.push("translate(",null,ye,null,Te);kt.push({i:St-4,x:A(et,dt)},{i:St-2,x:A(Qe,ht)})}else(dt||ht)&&_t.push("translate("+dt+ye+ht+Te)}function pe(et,Qe,dt,ht){et!==Qe?(et-Qe>180?Qe+=360:Qe-et>180&&(et+=360),ht.push({i:dt.push(De(dt)+"rotate(",null,Ce)-2,x:A(et,Qe)})):Qe&&dt.push(De(dt)+"rotate("+Qe+Ce)}function Le(et,Qe,dt,ht){et!==Qe?ht.push({i:dt.push(De(dt)+"skewX(",null,Ce)-2,x:A(et,Qe)}):Qe&&dt.push(De(dt)+"skewX("+Qe+Ce)}function Ue(et,Qe,dt,ht,_t,kt){if(et!==dt||Qe!==ht){var St=_t.push(De(_t)+"scale(",null,",",null,")");kt.push({i:St-4,x:A(et,dt)},{i:St-2,x:A(Qe,ht)})}else(dt!==1||ht!==1)&&_t.push(De(_t)+"scale("+dt+","+ht+")")}return function(et,Qe){var dt=[],ht=[];return et=te(et),Qe=te(Qe),oe(et.translateX,et.translateY,Qe.translateX,Qe.translateY,dt,ht),pe(et.rotate,Qe.rotate,dt,ht),Le(et.skewX,Qe.skewX,dt,ht),Ue(et.scaleX,et.scaleY,Qe.scaleX,Qe.scaleY,dt,ht),et=Qe=null,function(_t){for(var kt=-1,St=ht.length,Ot;++kt<St;)dt[(Ot=ht[kt]).i]=Ot.x(_t);return dt.join("")}}}var z=B(Y,"px, ","px)","deg)"),j=B(K,", ",")",")"),ae=Math.SQRT2,ee=2,ve=4,fe=1e-12;function se(te){return((te=Math.exp(te))+1/te)/2}function G(te){return((te=Math.exp(te))-1/te)/2}function Z(te){return((te=Math.exp(2*te))-1)/(te+1)}function X(te,ye){var Te=te[0],Ce=te[1],De=te[2],oe=ye[0],pe=ye[1],Le=ye[2],Ue=oe-Te,et=pe-Ce,Qe=Ue*Ue+et*et,dt,ht;if(Qe<fe)ht=Math.log(Le/De)/ae,dt=function(Ve){return[Te+Ve*Ue,Ce+Ve*et,De*Math.exp(ae*Ve*ht)]};else{var _t=Math.sqrt(Qe),kt=(Le*Le-De*De+ve*Qe)/(2*De*ee*_t),St=(Le*Le-De*De-ve*Qe)/(2*Le*ee*_t),Ot=Math.log(Math.sqrt(kt*kt+1)-kt),je=Math.log(Math.sqrt(St*St+1)-St);ht=(je-Ot)/ae,dt=function(Ve){var Je=Ve*ht,nt=se(Ot),Be=De/(ee*_t)*(nt*Z(ae*Je+Ot)-G(Ot));return[Te+Be*Ue,Ce+Be*et,De*nt/se(ae*Je+Ot)]}}return dt.duration=ht*1e3,dt}function ge(te){return function(ye,Te){var Ce=te((ye=t.hsl(ye)).h,(Te=t.hsl(Te)).h),De=f(ye.s,Te.s),oe=f(ye.l,Te.l),pe=f(ye.opacity,Te.opacity);return function(Le){return ye.h=Ce(Le),ye.s=De(Le),ye.l=oe(Le),ye.opacity=pe(Le),ye+""}}}var qe=ge(l),Pe=ge(f);function Oe(te,ye){var Te=f((te=t.lab(te)).l,(ye=t.lab(ye)).l),Ce=f(te.a,ye.a),De=f(te.b,ye.b),oe=f(te.opacity,ye.opacity);return function(pe){return te.l=Te(pe),te.a=Ce(pe),te.b=De(pe),te.opacity=oe(pe),te+""}}function de(te){return function(ye,Te){var Ce=te((ye=t.hcl(ye)).h,(Te=t.hcl(Te)).h),De=f(ye.c,Te.c),oe=f(ye.l,Te.l),pe=f(ye.opacity,Te.opacity);return function(Le){return ye.h=Ce(Le),ye.c=De(Le),ye.l=oe(Le),ye.opacity=pe(Le),ye+""}}}var _e=de(l),ce=de(f);function J(te){return function ye(Te){Te=+Te;function Ce(De,oe){var pe=te((De=t.cubehelix(De)).h,(oe=t.cubehelix(oe)).h),Le=f(De.s,oe.s),Ue=f(De.l,oe.l),et=f(De.opacity,oe.opacity);return function(Qe){return De.h=pe(Qe),De.s=Le(Qe),De.l=Ue(Math.pow(Qe,Te)),De.opacity=et(Qe),De+""}}return Ce.gamma=ye,Ce}(1)}var ne=J(l),be=J(f);function Fe(te,ye){for(var Te=0,Ce=ye.length-1,De=ye[0],oe=new Array(Ce<0?0:Ce);Te<Ce;)oe[Te]=te(De,De=ye[++Te]);return function(pe){var Le=Math.max(0,Math.min(Ce-1,Math.floor(pe*=Ce)));return oe[Le](pe-Le)}}function He(te,ye){for(var Te=new Array(ye),Ce=0;Ce<ye;++Ce)Te[Ce]=te(Ce/(ye-1));return Te}e.interpolate=S,e.interpolateArray=m,e.interpolateBasis=n,e.interpolateBasisClosed=i,e.interpolateCubehelix=ne,e.interpolateCubehelixLong=be,e.interpolateDate=g,e.interpolateDiscrete=E,e.interpolateHcl=_e,e.interpolateHclLong=ce,e.interpolateHsl=qe,e.interpolateHslLong=Pe,e.interpolateHue=L,e.interpolateLab=Oe,e.interpolateNumber=A,e.interpolateNumberArray=y,e.interpolateObject=w,e.interpolateRgb=c,e.interpolateRgbBasis=v,e.interpolateRgbBasisClosed=b,e.interpolateRound=D,e.interpolateString=T,e.interpolateTransformCss=z,e.interpolateTransformSvg=j,e.interpolateZoom=X,e.piecewise=Fe,e.quantize=He,Object.defineProperty(e,"__esModule",{value:!0})})});var U8=$((xCt,Mde)=>{"use strict";var _de=Nr(),H8=Rr(),Tde=pt(),Sat=tl().resizeText;function Eat(e){var t=e._fullLayout._sunburstlayer.selectAll(".trace");Sat(e,t,"sunburst"),t.each(function(r){var n=_de.select(this),i=r[0],a=i.trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(o){_de.select(this).call(Ade,o,a)})})}function Ade(e,t,r){var n=t.data.data,i=!t.children,a=n.i,o=Tde.castOption(r,a,"marker.line.color")||H8.defaultLine,s=Tde.castOption(r,a,"marker.line.width")||0;e.style("stroke-width",s).call(H8.fill,n.color).call(H8.stroke,o).style("opacity",i?r.leaf.opacity:null)}Mde.exports={style:Eat,styleOne:Ade}});var Vv=$(Ai=>{"use strict";var Kp=pt(),Lat=Rr(),Cat=Fc(),kde=Rd();Ai.findEntryWithLevel=function(e,t){var r;return t&&e.eachAfter(function(n){if(Ai.getPtId(n)===t)return r=n.copy()}),r||e};Ai.findEntryWithChild=function(e,t){var r;return e.eachAfter(function(n){for(var i=n.children||[],a=0;a<i.length;a++){var o=i[a];if(Ai.getPtId(o)===t)return r=n.copy()}}),r||e};Ai.isEntry=function(e){return!e.parent};Ai.isLeaf=function(e){return!e.children};Ai.getPtId=function(e){return e.data.data.id};Ai.getPtLabel=function(e){return e.data.data.label};Ai.getValue=function(e){return e.value};Ai.isHierarchyRoot=function(e){return Sde(e)===""};Ai.setSliceCursor=function(e,t,r){var n=r.isTransitioning;if(!n){var i=e.datum();n=r.hideOnRoot&&Ai.isHierarchyRoot(i)||r.hideOnLeaves&&Ai.isLeaf(i)}Cat(e,n?null:"pointer")};function Dat(e,t,r){return{color:Ai.getOutsideTextFontKey("color",e,t,r),family:Ai.getOutsideTextFontKey("family",e,t,r),size:Ai.getOutsideTextFontKey("size",e,t,r)}}function qat(e,t,r,n){var i=(n||{}).onPathbar,a=t.data.data,o=a.i,s=Kp.castOption(e,o,(i?"pathbar.textfont":"insidetextfont")+".color");return!s&&e._input.textfont&&(s=Kp.castOption(e._input,o,"textfont.color")),{color:s||Lat.contrast(a.color),family:Ai.getInsideTextFontKey("family",e,t,r,n),size:Ai.getInsideTextFontKey("size",e,t,r,n)}}Ai.getInsideTextFontKey=function(e,t,r,n,i){var a=(i||{}).onPathbar,o=a?"pathbar.textfont":"insidetextfont",s=r.data.data.i;return Kp.castOption(t,s,o+"."+e)||Kp.castOption(t,s,"textfont."+e)||n.size};Ai.getOutsideTextFontKey=function(e,t,r,n){var i=r.data.data.i;return Kp.castOption(t,i,"outsidetextfont."+e)||Kp.castOption(t,i,"textfont."+e)||n.size};Ai.isOutsideText=function(e,t){return!e._hasColorscale&&Ai.isHierarchyRoot(t)};Ai.determineTextFont=function(e,t,r,n){return Ai.isOutsideText(e,t)?Dat(e,t,r):qat(e,t,r,n)};Ai.hasTransition=function(e){return!!(e&&e.duration>0)};Ai.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0};Ai.isHeader=function(e,t){return!(Ai.isLeaf(e)||e.depth===t._maxDepth-1)};function Sde(e){return e.data.data.pid}Ai.getParent=function(e,t){return Ai.findEntryWithLevel(e,Sde(t))};Ai.listPath=function(e,t){var r=e.parent;if(!r)return[];var n=t?[r.data[t]]:[r];return Ai.listPath(r,t).concat(n)};Ai.getPath=function(e){return Ai.listPath(e,"label").join("/")+"/"};Ai.formatValue=kde.formatPieValue;Ai.formatPercent=function(e,t){var r=Kp.formatPercent(e,0);return r==="0%"&&(r=kde.formatPiePercent(e,t)),r}});var O2=$((wCt,Cde)=>{"use strict";var Zm=Nr(),Ede=Ir(),Rat=Pf().appendArrayPointValue,N2=lo(),Lde=pt(),Iat=C1(),No=Vv(),Pat=Rd(),Fat=Pat.formatPieValue;Cde.exports=function(t,r,n,i,a){var o=i[0],s=o.trace,l=o.hierarchy,u=s.type==="sunburst",f=s.type==="treemap"||s.type==="icicle";"_hasHoverLabel"in s||(s._hasHoverLabel=!1),"_hasHoverEvent"in s||(s._hasHoverEvent=!1);var c=function(b){var y=n._fullLayout;if(!(n._dragging||y.hovermode===!1)){var x=n._fullData[s.index],m=b.data.data,_=m.i,g=No.isHierarchyRoot(b),A=No.getParent(l,b),w=No.getValue(b),k=function(K){return Lde.castOption(x,_,K)},p=k("hovertemplate"),d=N2.castHoverinfo(x,y,_),M=y.separators,T;if(p||d&&d!=="none"&&d!=="skip"){var S,E;u&&(S=o.cx+b.pxmid[0]*(1-b.rInscribed),E=o.cy+b.pxmid[1]*(1-b.rInscribed)),f&&(S=b._hoverX,E=b._hoverY);var L={},D=[],R=[],q=function(K){return D.indexOf(K)!==-1};d&&(D=d==="all"?x._module.attributes.hoverinfo.flags:d.split("+")),L.label=m.label,q("label")&&L.label&&R.push(L.label),m.hasOwnProperty("v")&&(L.value=m.v,L.valueLabel=Fat(L.value,M),q("value")&&R.push(L.valueLabel)),L.currentPath=b.currentPath=No.getPath(b.data),q("current path")&&!g&&R.push(L.currentPath);var C,F=[],N=function(){F.indexOf(C)===-1&&(R.push(C),F.push(C))};L.percentParent=b.percentParent=w/No.getValue(A),L.parent=b.parentString=No.getPtLabel(A),q("percent parent")&&(C=No.formatPercent(L.percentParent,M)+" of "+L.parent,N()),L.percentEntry=b.percentEntry=w/No.getValue(r),L.entry=b.entry=No.getPtLabel(r),q("percent entry")&&!g&&!b.onPathbar&&(C=No.formatPercent(L.percentEntry,M)+" of "+L.entry,N()),L.percentRoot=b.percentRoot=w/No.getValue(l),L.root=b.root=No.getPtLabel(l),q("percent root")&&!g&&(C=No.formatPercent(L.percentRoot,M)+" of "+L.root,N()),L.text=k("hovertext")||k("text"),q("text")&&(C=L.text,Lde.isValidTextValue(C)&&R.push(C)),T=[z2(b,x,a.eventDataKeys)];var U={trace:x,y:E,_x0:b._x0,_x1:b._x1,_y0:b._y0,_y1:b._y1,text:R.join("<br>"),name:p||q("name")?x.name:void 0,color:k("hoverlabel.bgcolor")||m.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:p,hovertemplateLabels:L,eventData:T};u&&(U.x0=S-b.rInscribed*b.rpx1,U.x1=S+b.rInscribed*b.rpx1,U.idealAlign=b.pxmid[0]<0?"left":"right"),f&&(U.x=S,U.idealAlign=S<0?"left":"right");var V=[];N2.loneHover(U,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:n,inOut_bbox:V}),T[0].bbox=V[0],s._hasHoverLabel=!0}if(f){var Y=t.select("path.surface");a.styleOne(Y,b,x,{hovered:!0})}s._hasHoverEvent=!0,n.emit("plotly_hover",{points:T||[z2(b,x,a.eventDataKeys)],event:Zm.event})}},h=function(b){var y=n._fullLayout,x=n._fullData[s.index],m=Zm.select(this).datum();if(s._hasHoverEvent&&(b.originalEvent=Zm.event,n.emit("plotly_unhover",{points:[z2(m,x,a.eventDataKeys)],event:Zm.event}),s._hasHoverEvent=!1),s._hasHoverLabel&&(N2.loneUnhover(y._hoverlayer.node()),s._hasHoverLabel=!1),f){var _=t.select("path.surface");a.styleOne(_,m,x,{hovered:!1})}},v=function(b){var y=n._fullLayout,x=n._fullData[s.index],m=u&&(No.isHierarchyRoot(b)||No.isLeaf(b)),_=No.getPtId(b),g=No.isEntry(b)?No.findEntryWithChild(l,_):No.findEntryWithLevel(l,_),A=No.getPtId(g),w={points:[z2(b,x,a.eventDataKeys)],event:Zm.event};m||(w.nextLevel=A);var k=Iat.triggerHandler(n,"plotly_"+s.type+"click",w);if(k!==!1&&y.hovermode&&(n._hoverdata=[z2(b,x,a.eventDataKeys)],N2.click(n,Zm.event)),!m&&k!==!1&&!n._dragging&&!n._transitioning){Ede.call("_storeDirectGUIEdit",x,y._tracePreGUI[x.uid],{level:x.level});var p={data:[{level:A}],traces:[s.index]},d={frame:{redraw:!1,duration:a.transitionTime},transition:{duration:a.transitionTime,easing:a.transitionEasing},mode:"immediate",fromcurrent:!0};N2.loneUnhover(y._hoverlayer.node()),Ede.call("animate",n,p,d)}};t.on("mouseover",c),t.on("mouseout",h),t.on("click",v)};function z2(e,t,r){for(var n=e.data.data,i={curveNumber:t.index,pointNumber:n.i,data:t._input,fullData:t},a=0;a<r.length;a++){var o=r[a];o in e&&(i[o]=e[o])}return"parentString"in e&&!No.isHierarchyRoot(e)&&(i.parent=e.parentString),Rat(i,t,n.i),i}});var jM=$(UM=>{"use strict";var B2=Nr(),Nat=I2(),Qc=$p().interpolate,Dde=un(),rl=pt(),zat=Ta(),Pde=tl(),qde=Pde.recordMinTextSize,Oat=Pde.clearMinTextSize,Fde=zM(),Bat=Rd().getRotationAngle,Hat=Fde.computeTransform,Uat=Fde.transformInsideText,jat=U8().styleOne,Vat=Kf().resizeText,Gat=O2(),j8=O8(),ii=Vv();UM.plot=function(e,t,r,n){var i=e._fullLayout,a=i._sunburstlayer,o,s,l=!r,u=!i.uniformtext.mode&&ii.hasTransition(r);if(Oat("sunburst",i),o=a.selectAll("g.trace.sunburst").data(t,function(c){return c[0].trace.uid}),o.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),o.order(),u){n&&(s=n());var f=B2.transition().duration(r.duration).ease(r.easing).each("end",function(){s&&s()}).each("interrupt",function(){s&&s()});f.each(function(){a.selectAll("g.trace").each(function(c){Rde(e,c,this,r)})})}else o.each(function(c){Rde(e,c,this,r)}),i.uniformtext.mode&&Vat(e,i._sunburstlayer.selectAll(".trace"),"sunburst");l&&o.exit().remove()};function Rde(e,t,r,n){var i=e._fullLayout,a=!i.uniformtext.mode&&ii.hasTransition(n),o=B2.select(r),s=o.selectAll("g.slice"),l=t[0],u=l.trace,f=l.hierarchy,c=ii.findEntryWithLevel(f,u.level),h=ii.getMaxDepth(u),v=i._size,b=u.domain,y=v.w*(b.x[1]-b.x[0]),x=v.h*(b.y[1]-b.y[0]),m=.5*Math.min(y,x),_=l.cx=v.l+v.w*(b.x[1]+b.x[0])/2,g=l.cy=v.t+v.h*(1-b.y[0])-x/2;if(!c)return s.remove();var A=null,w={};a&&s.each(function(B){w[ii.getPtId(B)]={rpx0:B.rpx0,rpx1:B.rpx1,x0:B.x0,x1:B.x1,transform:B.transform},!A&&ii.isEntry(B)&&(A=B)});var k=Yat(c).descendants(),p=c.height+1,d=0,M=h;l.hasMultipleRoots&&ii.isHierarchyRoot(c)&&(k=k.slice(1),p-=1,d=1,M+=1),k=k.filter(function(B){return B.y1<=M});var T=Bat(u.rotation);T&&k.forEach(function(B){B.x0+=T,B.x1+=T});var S=Math.min(p,h),E=function(B){return(B-d)/S*m},L=function(B,z){return[B*Math.cos(z),-B*Math.sin(z)]},D=function(B){return rl.pathAnnulus(B.rpx0,B.rpx1,B.x0,B.x1,_,g)},R=function(B){return _+Ide(B)[0]*(B.transform.rCenter||0)+(B.transform.x||0)},q=function(B){return g+Ide(B)[1]*(B.transform.rCenter||0)+(B.transform.y||0)};s=s.data(k,ii.getPtId),s.enter().append("g").classed("slice",!0),a?s.exit().transition().each(function(){var B=B2.select(this),z=B.select("path.surface");z.transition().attrTween("d",function(ae){var ee=U(ae);return function(ve){return D(ee(ve))}});var j=B.select("g.slicetext");j.attr("opacity",0)}).remove():s.exit().remove(),s.order();var C=null;if(a&&A){var F=ii.getPtId(A);s.each(function(B){C===null&&ii.getPtId(B)===F&&(C=B.x1)})}var N=s;a&&(N=N.transition().each("end",function(){var B=B2.select(this);ii.setSliceCursor(B,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),N.each(function(B){var z=B2.select(this),j=rl.ensureSingle(z,"path","surface",function(G){G.style("pointer-events","all")});B.rpx0=E(B.y0),B.rpx1=E(B.y1),B.xmid=(B.x0+B.x1)/2,B.pxmid=L(B.rpx1,B.xmid),B.midangle=-(B.xmid-Math.PI/2),B.startangle=-(B.x0-Math.PI/2),B.stopangle=-(B.x1-Math.PI/2),B.halfangle=.5*Math.min(rl.angleDelta(B.x0,B.x1)||Math.PI,Math.PI),B.ring=1-B.rpx0/B.rpx1,B.rInscribed=Wat(B,u),a?j.transition().attrTween("d",function(G){var Z=V(G);return function(X){return D(Z(X))}}):j.attr("d",D),z.call(Gat,c,e,t,{eventDataKeys:j8.eventDataKeys,transitionTime:j8.CLICK_TRANSITION_TIME,transitionEasing:j8.CLICK_TRANSITION_EASING}).call(ii.setSliceCursor,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:e._transitioning}),j.call(jat,B,u);var ae=rl.ensureSingle(z,"g","slicetext"),ee=rl.ensureSingle(ae,"text","",function(G){G.attr("data-notex",1)}),ve=rl.ensureUniformFontSize(e,ii.determineTextFont(u,B,i.font));ee.text(UM.formatSliceLabel(B,c,u,t,i)).classed("slicetext",!0).attr("text-anchor","middle").call(Dde.font,ve).call(zat.convertToTspans,e);var fe=Dde.bBox(ee.node());B.transform=Uat(fe,B,l),B.transform.targetX=R(B),B.transform.targetY=q(B);var se=function(G,Z){var X=G.transform;return Hat(X,Z),X.fontSize=ve.size,qde(u.type,X,i),rl.getTextTransform(X)};a?ee.transition().attrTween("transform",function(G){var Z=Y(G);return function(X){return se(Z(X),fe)}}):ee.attr("transform",se(B,fe))});function U(B){var z=ii.getPtId(B),j=w[z],ae=w[ii.getPtId(c)],ee;if(ae){var ve=(B.x1>ae.x1?2*Math.PI:0)+T;ee=B.rpx1<ae.rpx1?{x0:B.x0,x1:B.x1,rpx0:0,rpx1:0}:{x0:ve,x1:ve,rpx0:B.rpx0,rpx1:B.rpx1}}else{var fe,se=ii.getPtId(B.parent);s.each(function(qe){if(ii.getPtId(qe)===se)return fe=qe});var G=fe.children,Z;G.forEach(function(qe,Pe){if(ii.getPtId(qe)===z)return Z=Pe});var X=G.length,ge=Qc(fe.x0,fe.x1);ee={rpx0:m,rpx1:m,x0:ge(Z/X),x1:ge((Z+1)/X)}}return Qc(j,ee)}function V(B){var z=w[ii.getPtId(B)],j,ae={x0:B.x0,x1:B.x1,rpx0:B.rpx0,rpx1:B.rpx1};if(z)j=z;else if(A)if(B.parent)if(C){var ee=(B.x1>C?2*Math.PI:0)+T;j={x0:ee,x1:ee}}else j={rpx0:m,rpx1:m},rl.extendFlat(j,K(B));else j={rpx0:0,rpx1:0};else j={x0:T,x1:T};return Qc(j,ae)}function Y(B){var z=w[ii.getPtId(B)],j,ae=B.transform;if(z)j=z;else if(j={rpx1:B.rpx1,transform:{textPosAngle:ae.textPosAngle,scale:0,rotate:ae.rotate,rCenter:ae.rCenter,x:ae.x,y:ae.y}},A)if(B.parent)if(C){var ee=B.x1>C?2*Math.PI:0;j.x0=j.x1=ee}else rl.extendFlat(j,K(B));else j.x0=j.x1=T;else j.x0=j.x1=T;var ve=Qc(j.transform.textPosAngle,B.transform.textPosAngle),fe=Qc(j.rpx1,B.rpx1),se=Qc(j.x0,B.x0),G=Qc(j.x1,B.x1),Z=Qc(j.transform.scale,ae.scale),X=Qc(j.transform.rotate,ae.rotate),ge=ae.rCenter===0?3:j.transform.rCenter===0?1/3:1,qe=Qc(j.transform.rCenter,ae.rCenter),Pe=function(Oe){return qe(Math.pow(Oe,ge))};return function(Oe){var de=fe(Oe),_e=se(Oe),ce=G(Oe),J=Pe(Oe),ne=L(de,(_e+ce)/2),be=ve(Oe),Fe={pxmid:ne,rpx1:de,transform:{textPosAngle:be,rCenter:J,x:ae.x,y:ae.y}};return qde(u.type,ae,i),{transform:{targetX:R(Fe),targetY:q(Fe),scale:Z(Oe),rotate:X(Oe),rCenter:J}}}}function K(B){var z=B.parent,j=w[ii.getPtId(z)],ae={};if(j){var ee=z.children,ve=ee.indexOf(B),fe=ee.length,se=Qc(j.x0,j.x1);ae.x0=se(ve/fe),ae.x1=se(ve/fe)}else ae.x0=ae.x1=0;return ae}}function Yat(e){return Nat.partition().size([2*Math.PI,e.height+1])(e)}UM.formatSliceLabel=function(e,t,r,n,i){var a=r.texttemplate,o=r.textinfo;if(!a&&(!o||o==="none"))return"";var s=i.separators,l=n[0],u=e.data.data,f=l.hierarchy,c=ii.isHierarchyRoot(e),h=ii.getParent(f,e),v=ii.getValue(e);if(!a){var b=o.split("+"),y=function(M){return b.indexOf(M)!==-1},x=[],m;if(y("label")&&u.label&&x.push(u.label),u.hasOwnProperty("v")&&y("value")&&x.push(ii.formatValue(u.v,s)),!c){y("current path")&&x.push(ii.getPath(e.data));var _=0;y("percent parent")&&_++,y("percent entry")&&_++,y("percent root")&&_++;var g=_>1;if(_){var A,w=function(M){m=ii.formatPercent(A,s),g&&(m+=" of "+M),x.push(m)};y("percent parent")&&!c&&(A=v/ii.getValue(h),w("parent")),y("percent entry")&&(A=v/ii.getValue(t),w("entry")),y("percent root")&&(A=v/ii.getValue(f),w("root"))}}return y("text")&&(m=rl.castOption(r,u.i,"text"),rl.isValidTextValue(m)&&x.push(m)),x.join("<br>")}var k=rl.castOption(r,u.i,"texttemplate");if(!k)return"";var p={};u.label&&(p.label=u.label),u.hasOwnProperty("v")&&(p.value=u.v,p.valueLabel=ii.formatValue(u.v,s)),p.currentPath=ii.getPath(e.data),c||(p.percentParent=v/ii.getValue(h),p.percentParentLabel=ii.formatPercent(p.percentParent,s),p.parent=ii.getPtLabel(h)),p.percentEntry=v/ii.getValue(t),p.percentEntryLabel=ii.formatPercent(p.percentEntry,s),p.entry=ii.getPtLabel(t),p.percentRoot=v/ii.getValue(f),p.percentRootLabel=ii.formatPercent(p.percentRoot,s),p.root=ii.getPtLabel(f),u.hasOwnProperty("color")&&(p.color=u.color);var d=rl.castOption(r,u.i,"text");return(rl.isValidTextValue(d)||d==="")&&(p.text=d),p.customdata=rl.castOption(r,u.i,"customdata"),rl.texttemplateString(k,p,i._d3locale,p,r._meta||{})};function Wat(e){return e.rpx0===0&&rl.isFullCircle([e.x0,e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2))}function Ide(e){return Xat(e.rpx1,e.transform.textPosAngle)}function Xat(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}});var zde=$((TCt,Nde)=>{"use strict";Nde.exports={moduleType:"trace",name:"sunburst",basePlotModule:ode(),categories:[],animatable:!0,attributes:R2(),layoutAttributes:B8(),supplyDefaults:vde(),supplyLayoutDefaults:pde(),calc:F2().calc,crossTraceCalc:F2().crossTraceCalc,plot:jM().plot,style:U8().style,colorbar:Zf(),meta:{description:["Visualize hierarchal data spanning outward radially from root to leaves.","The sunburst sectors are determined by the entries in *labels* or *ids*","and in *parents*."].join(" ")}}});var Bde=$((ACt,Ode)=>{"use strict";Ode.exports=zde()});var Ude=$($m=>{"use strict";var Hde=Zi();$m.name="treemap";$m.plot=function(e,t,r,n){Hde.plotBasePlot($m.name,e,t,r,n)};$m.clean=function(e,t,r,n){Hde.cleanBasePlot($m.name,e,t,r,n)}});var Jp=$((kCt,jde)=>{"use strict";jde.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}});var VM=$((SCt,Gde)=>{"use strict";var Zat=Yn().hovertemplateAttrs,$at=Yn().texttemplateAttrs,Kat=Ma(),Jat=Ua().attributes,Qp=Zp(),nc=R2(),Vde=Jp(),V8=ln().extendFlat;Gde.exports={labels:nc.labels,parents:nc.parents,values:nc.values,branchvalues:nc.branchvalues,count:nc.count,level:nc.level,maxdepth:nc.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot",description:["Determines d3 treemap solver.","For more info please refer to https://github.com/d3/d3-hierarchy#treemap-tiling"].join(" ")},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot",description:["When using *squarify* `packing` algorithm, according to https://github.com/d3/d3-hierarchy/blob/v3.1.1/README.md#squarify_ratio","this option specifies the desired aspect ratio of the generated rectangles.","The ratio must be specified as a number greater than or equal to one.","Note that the orientation of the generated rectangles (tall or wide)","is not implied by the ratio; for example, a ratio of two will attempt","to produce a mixture of rectangles whose width:height ratio is either 2:1 or 1:2.","When using *squarify*, unlike d3 which uses the Golden Ratio i.e. 1.618034,","Plotly applies 1 to increase squares in treemap layouts."].join(" ")},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot",description:["Determines if the positions obtained from solver are flipped on each axis."].join(" ")},pad:{valType:"number",min:0,dflt:3,editType:"plot",description:["Sets the inner padding (in px)."].join(" ")},editType:"calc"},marker:V8({pad:{t:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the top (in px)."].join(" ")},l:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the left (in px)."].join(" ")},r:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the right (in px)."].join(" ")},b:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the bottom (in px)."].join(" ")},editType:"calc"},colors:nc.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style",description:["Determines if the sector colors are faded towards","the background from the leaves up to the headers.","This option is unavailable when a `colorscale` is present,","defaults to false when `marker.colors` is set,","but otherwise defaults to true.","When set to *reversed*, the fading direction is inverted,","that is the top elements within hierarchy are drawn with fully saturated colors","while the leaves are faded towards the background color."].join(" ")},line:nc.marker.line,editType:"calc"},Kat("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines if the path bar is drawn","i.e. outside the trace `domain` and","with one pixel gap."].join(" ")},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot",description:["Determines on which side of the the treemap the","`pathbar` should be presented."].join(" ")},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot",description:["Determines which shape is used for edges between `barpath` labels."].join(" ")},thickness:{valType:"number",min:12,editType:"plot",description:["Sets the thickness of `pathbar` (in px). If not specified the `pathbar.textfont.size` is used","with 3 pixles extra padding on each side."].join(" ")},textfont:V8({},Qp.textfont,{description:"Sets the font used inside `pathbar`."}),editType:"calc"},text:Qp.text,textinfo:nc.textinfo,texttemplate:$at({editType:"plot"},{keys:Vde.eventDataKeys.concat(["label","value"])}),hovertext:Qp.hovertext,hoverinfo:nc.hoverinfo,hovertemplate:Zat({},{keys:Vde.eventDataKeys}),textfont:Qp.textfont,insidetextfont:Qp.insidetextfont,outsidetextfont:V8({},Qp.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented on top left corner of a treemap graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot",description:["Sets the positions of the `text` elements."].join(" ")},sort:Qp.sort,root:nc.root,domain:Jat({name:"treemap",trace:!0,editType:"calc"})}});var G8=$((ECt,Yde)=>{"use strict";Yde.exports={treemapcolorway:{valType:"colorlist",editType:"calc",description:["Sets the default treemap slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendtreemapcolors`."].join(" ")},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the treemap slice colors (whether given by `treemapcolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var Zde=$((LCt,Xde)=>{"use strict";var Qat=pt(),eot=VM(),tot=Rr(),rot=Ua().defaults,not=Kl().handleText,iot=Hp().TEXTPAD,Wde=Wa(),aot=Wde.hasColorscale,oot=Wde.handleDefaults;Xde.exports=function(t,r,n,i){function a(_,g){return Qat.coerce(t,r,eot,_,g)}var o=a("labels"),s=a("parents");if(!o||!o.length||!s||!s.length){r.visible=!1;return}var l=a("values");l&&l.length?a("branchvalues"):a("count"),a("level"),a("maxdepth");var u=a("tiling.packing");u==="squarify"&&a("tiling.squarifyratio"),a("tiling.flip"),a("tiling.pad");var f=a("text");a("texttemplate"),r.texttemplate||a("textinfo",Array.isArray(f)?"text+label":"label"),a("hovertext"),a("hovertemplate");var c=a("pathbar.visible"),h="auto";not(t,r,i,a,h,{hasPathbar:c,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("textposition");var v=r.textposition.indexOf("bottom")!==-1,b=a("marker.line.width");b&&a("marker.line.color",i.paper_bgcolor);var y=a("marker.colors"),x=r._hasColorscale=aot(t,"marker","colors")||(t.marker||{}).coloraxis;x?oot(t,r,i,a,{prefix:"marker.",cLetter:"c"}):a("marker.depthfade",!(y||[]).length);var m=r.textfont.size*2;a("marker.pad.t",v?m/4:m),a("marker.pad.l",m/4),a("marker.pad.r",m/4),a("marker.pad.b",v?m:m/4),r._hovered={marker:{line:{width:2,color:tot.contrast(i.paper_bgcolor)}}},c&&(a("pathbar.thickness",r.pathbar.textfont.size+2*iot),a("pathbar.side"),a("pathbar.edgeshape")),a("sort"),a("root.color"),rot(r,i,a),r._length=null}});var Kde=$((CCt,$de)=>{"use strict";var sot=pt(),lot=G8();$de.exports=function(t,r){function n(i,a){return sot.coerce(t,r,lot,i,a)}n("treemapcolorway",r.colorway),n("extendtreemapcolors")}});var W8=$(Y8=>{"use strict";var Jde=F2();Y8.calc=function(e,t){return Jde.calc(e,t)};Y8.crossTraceCalc=function(e){return Jde._runCrossTraceCalc("treemap",e)}});var X8=$((qCt,Qde)=>{"use strict";Qde.exports=function e(t,r,n){var i;n.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),n.flipX&&(i=t.x0,t.x0=r[0]-t.x1,t.x1=r[0]-i),n.flipY&&(i=t.y0,t.y0=r[1]-t.y1,t.y1=r[1]-i);var a=t.children;if(a)for(var o=0;o<a.length;o++)e(a[o],r,n)}});var Z8=$((RCt,e0e)=>{"use strict";var Km=I2(),uot=X8();e0e.exports=function(t,r,n){var i=n.flipX,a=n.flipY,o=n.packing==="dice-slice",s=n.pad[a?"bottom":"top"],l=n.pad[i?"right":"left"],u=n.pad[i?"left":"right"],f=n.pad[a?"top":"bottom"],c;o&&(c=l,l=s,s=c,c=u,u=f,f=c);var h=Km.treemap().tile(fot(n.packing,n.squarifyratio)).paddingInner(n.pad.inner).paddingLeft(l).paddingRight(u).paddingTop(s).paddingBottom(f).size(o?[r[1],r[0]]:r)(t);return(o||i||a)&&uot(h,r,{swapXY:o,flipX:i,flipY:a}),h};function fot(e,t){switch(e){case"squarify":return Km.treemapSquarify.ratio(t);case"binary":return Km.treemapBinary;case"dice":return Km.treemapDice;case"slice":return Km.treemapSlice;default:return Km.treemapSliceDice}}});var GM=$((ICt,i0e)=>{"use strict";var t0e=Nr(),eg=Rr(),r0e=pt(),$8=Vv(),cot=tl().resizeText;function hot(e){var t=e._fullLayout._treemaplayer.selectAll(".trace");cot(e,t,"treemap"),t.each(function(r){var n=t0e.select(this),i=r[0],a=i.trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(o){t0e.select(this).call(n0e,o,a,{hovered:!1})})})}function n0e(e,t,r,n){var i=(n||{}).hovered,a=t.data.data,o=a.i,s,l,u=a.color,f=$8.isHierarchyRoot(t),c=1;if(i)s=r._hovered.marker.line.color,l=r._hovered.marker.line.width;else if(f&&u===r.root.color)c=100,s="rgba(0,0,0,0)",l=0;else if(s=r0e.castOption(r,o,"marker.line.color")||eg.defaultLine,l=r0e.castOption(r,o,"marker.line.width")||0,!r._hasColorscale&&!t.onPathbar){var h=r.marker.depthfade;if(h){var v=eg.combine(eg.addOpacity(r._backgroundColor,.75),u),b;if(h===!0){var y=$8.getMaxDepth(r);isFinite(y)?$8.isLeaf(t)?b=0:b=r._maxVisibleLayers-(t.data.depth-r._entryDepth):b=t.data.height+1}else b=t.data.depth-r._entryDepth,r._atRootLevel||b++;if(b>0)for(var x=0;x<b;x++){var m=.5*x/b;u=eg.combine(eg.addOpacity(v,m),u)}}}e.style("stroke-width",l).call(eg.fill,u).call(eg.stroke,s).style("opacity",c)}i0e.exports={style:hot,styleOne:n0e}});var u0e=$((PCt,l0e)=>{"use strict";var a0e=Nr(),YM=pt(),o0e=un(),vot=Ta(),dot=Z8(),s0e=GM().styleOne,K8=Jp(),Jm=Vv(),pot=O2(),J8=!0;l0e.exports=function(t,r,n,i,a){var o=a.barDifY,s=a.width,l=a.height,u=a.viewX,f=a.viewY,c=a.pathSlice,h=a.toMoveInsideSlice,v=a.strTransform,b=a.hasTransition,y=a.handleSlicesExit,x=a.makeUpdateSliceInterpolator,m=a.makeUpdateTextInterpolator,_={},g=t._fullLayout,A=r[0],w=A.trace,k=A.hierarchy,p=s/w._entryDepth,d=Jm.listPath(n.data,"id"),M=dot(k.copy(),[s,l],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();M=M.filter(function(S){var E=d.indexOf(S.data.id);return E===-1?!1:(S.x0=p*E,S.x1=p*(E+1),S.y0=o,S.y1=o+l,S.onPathbar=!0,!0)}),M.reverse(),i=i.data(M,Jm.getPtId),i.enter().append("g").classed("pathbar",!0),y(i,J8,_,[s,l],c),i.order();var T=i;b&&(T=T.transition().each("end",function(){var S=a0e.select(this);Jm.setSliceCursor(S,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),T.each(function(S){S._x0=u(S.x0),S._x1=u(S.x1),S._y0=f(S.y0),S._y1=f(S.y1),S._hoverX=u(S.x1-Math.min(s,l)/2),S._hoverY=f(S.y1-l/2);var E=a0e.select(this),L=YM.ensureSingle(E,"path","surface",function(C){C.style("pointer-events","all")});b?L.transition().attrTween("d",function(C){var F=x(C,J8,_,[s,l]);return function(N){return c(F(N))}}):L.attr("d",c),E.call(pot,n,t,r,{styleOne:s0e,eventDataKeys:K8.eventDataKeys,transitionTime:K8.CLICK_TRANSITION_TIME,transitionEasing:K8.CLICK_TRANSITION_EASING}).call(Jm.setSliceCursor,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:t._transitioning}),L.call(s0e,S,w,{hovered:!1}),S._text=(Jm.getPtLabel(S)||"").split("<br>").join(" ")||"";var D=YM.ensureSingle(E,"g","slicetext"),R=YM.ensureSingle(D,"text","",function(C){C.attr("data-notex",1)}),q=YM.ensureUniformFontSize(t,Jm.determineTextFont(w,S,g.font,{onPathbar:!0}));R.text(S._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o0e.font,q).call(vot.convertToTspans,t),S.textBB=o0e.bBox(R.node()),S.transform=h(S,{fontSize:q.size,onPathbar:!0}),S.transform.fontSize=q.size,b?R.transition().attrTween("transform",function(C){var F=m(C,J8,_,[s,l]);return function(N){return v(F(N))}}):R.attr("transform",v(S))})}});var v0e=$((FCt,h0e)=>{"use strict";var f0e=Nr(),Q8=$p().interpolate,i0=Vv(),H2=pt(),c0e=Hp().TEXTPAD,got=Vp(),mot=got.toMoveInsideBar,yot=tl(),eR=yot.recordMinTextSize,xot=Jp(),bot=u0e();function tg(e){return i0.isHierarchyRoot(e)?"":i0.getPtId(e)}h0e.exports=function(t,r,n,i,a){var o=t._fullLayout,s=r[0],l=s.trace,u=l.type,f=u==="icicle",c=s.hierarchy,h=i0.findEntryWithLevel(c,l.level),v=f0e.select(n),b=v.selectAll("g.pathbar"),y=v.selectAll("g.slice");if(!h){b.remove(),y.remove();return}var x=i0.isHierarchyRoot(h),m=!o.uniformtext.mode&&i0.hasTransition(i),_=i0.getMaxDepth(l),g=function(ce){return ce.data.depth-h.data.depth<_},A=o._size,w=l.domain,k=A.w*(w.x[1]-w.x[0]),p=A.h*(w.y[1]-w.y[0]),d=k,M=l.pathbar.thickness,T=l.marker.line.width+xot.gapWithPathbar,S=l.pathbar.visible?l.pathbar.side.indexOf("bottom")>-1?p+T:-(M+T):0,E={x0:d,x1:d,y0:S,y1:S+M},L=function(ce,J,ne){var be=l.tiling.pad,Fe=function(Te){return Te-be<=J.x0},He=function(Te){return Te+be>=J.x1},te=function(Te){return Te-be<=J.y0},ye=function(Te){return Te+be>=J.y1};return ce.x0===J.x0&&ce.x1===J.x1&&ce.y0===J.y0&&ce.y1===J.y1?{x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1}:{x0:Fe(ce.x0-be)?0:He(ce.x0-be)?ne[0]:ce.x0,x1:Fe(ce.x1+be)?0:He(ce.x1+be)?ne[0]:ce.x1,y0:te(ce.y0-be)?0:ye(ce.y0-be)?ne[1]:ce.y0,y1:te(ce.y1+be)?0:ye(ce.y1+be)?ne[1]:ce.y1}},D=null,R={},q={},C=null,F=function(ce,J){return J?R[tg(ce)]:q[tg(ce)]},N=function(ce,J,ne,be){if(J)return R[tg(c)]||E;var Fe=q[l.level]||ne;return g(ce)?L(ce,Fe,be):{}};s.hasMultipleRoots&&x&&_++,l._maxDepth=_,l._backgroundColor=o.paper_bgcolor,l._entryDepth=h.data.depth,l._atRootLevel=x;var U=-k/2+A.l+A.w*(w.x[1]+w.x[0])/2,V=-p/2+A.t+A.h*(1-(w.y[1]+w.y[0])/2),Y=function(ce){return U+ce},K=function(ce){return V+ce},B=K(0),z=Y(0),j=function(ce){return z+ce},ae=function(ce){return B+ce};function ee(ce,J){return ce+","+J}var ve=j(0),fe=function(ce){ce.x=Math.max(ve,ce.x)},se=l.pathbar.edgeshape,G=function(ce){var J=j(Math.max(Math.min(ce.x0,ce.x0),0)),ne=j(Math.min(Math.max(ce.x1,ce.x1),d)),be=ae(ce.y0),Fe=ae(ce.y1),He=M/2,te={},ye={};te.x=J,ye.x=ne,te.y=ye.y=(be+Fe)/2;var Te={x:J,y:be},Ce={x:ne,y:be},De={x:ne,y:Fe},oe={x:J,y:Fe};return se===">"?(Te.x-=He,Ce.x-=He,De.x-=He,oe.x-=He):se==="/"?(De.x-=He,oe.x-=He,te.x-=He/2,ye.x-=He/2):se==="\\"?(Te.x-=He,Ce.x-=He,te.x-=He/2,ye.x-=He/2):se==="<"&&(te.x-=He,ye.x-=He),fe(Te),fe(oe),fe(te),fe(Ce),fe(De),fe(ye),"M"+ee(Te.x,Te.y)+"L"+ee(Ce.x,Ce.y)+"L"+ee(ye.x,ye.y)+"L"+ee(De.x,De.y)+"L"+ee(oe.x,oe.y)+"L"+ee(te.x,te.y)+"Z"},Z=function(ce){var J=Y(ce.x0),ne=Y(ce.x1),be=K(ce.y0),Fe=K(ce.y1),He=ne-J,te=Fe-be;if(!He||!te)return"";var ye=0,Te=He>2*ye&&te>2*ye?ye:0,Ce=function(De,oe){return Te?"a"+ee(Te,Te)+" 0 0 1 "+ee(De,oe):""};return"M"+ee(J,be+Te)+Ce(Te,-Te)+"L"+ee(ne-Te,be)+Ce(Te,Te)+"L"+ee(ne,Fe-Te)+Ce(-Te,Te)+"L"+ee(J+Te,Fe)+Ce(-Te,-Te)+"Z"},X=function(ce,J){var ne=ce.x0,be=ce.x1,Fe=ce.y0,He=ce.y1,te=ce.textBB,ye=function(ht){return l.textposition.indexOf(ht)!==-1},Te=ye("bottom"),Ce=ye("top")||J.isHeader&&!Te,De=Ce?"start":Te?"end":"middle",oe=ye("right"),pe=ye("left")||J.onPathbar,Le=pe?-1:oe?1:0,Ue=l[f?"tiling":"marker"].pad;if(J.isHeader){if(ne+=(f?Ue:Ue.l)-c0e,be-=(f?Ue:Ue.r)-c0e,ne>=be){var et=(ne+be)/2;ne=et,be=et}var Qe;Te?(Qe=He-(f?Ue:Ue.b),Fe<Qe&&Qe<He&&(Fe=Qe)):(Qe=Fe+(f?Ue:Ue.t),Fe<Qe&&Qe<He&&(He=Qe))}var dt=mot(ne,be,Fe,He,te,{isHorizontal:!1,constrained:!0,angle:0,anchor:De,leftToRight:Le});return dt.fontSize=J.fontSize,dt.targetX=Y(dt.targetX),dt.targetY=K(dt.targetY),isNaN(dt.targetX)||isNaN(dt.targetY)?{}:(ne!==be&&Fe!==He&&eR(l.type,dt,o),{scale:dt.scale,rotate:dt.rotate,textX:dt.textX,textY:dt.textY,anchorX:dt.anchorX,anchorY:dt.anchorY,targetX:dt.targetX,targetY:dt.targetY})},ge=function(ce,J){for(var ne,be=0,Fe=ce;!ne&&be<_;)be++,Fe=Fe.parent,Fe?ne=F(Fe,J):be=_;return ne||{}},qe=function(ce,J,ne,be){var Fe=F(ce,J),He;if(J)He=E;else{var te=F(h,J);te?He=L(ce,te,be):He={}}return Q8(Fe,He)},Pe=function(ce,J,ne,be,Fe){var He=F(ce,J),te;if(He)te=He;else if(J)te=E;else if(D)if(ce.parent){var ye=C||ne;ye&&!J?te=L(ce,ye,be):(te={},H2.extendFlat(te,ge(ce,J)))}else te=H2.extendFlat({},ce),f&&(Fe.orientation==="h"?Fe.flipX?te.x0=ce.x1:te.x1=0:Fe.flipY?te.y0=ce.y1:te.y1=0);else te={};return Q8(te,{x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1})},Oe=function(ce,J,ne,be){var Fe=F(ce,J),He={},te=N(ce,J,ne,be);H2.extendFlat(He,{transform:X({x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1,textBB:ce.textBB,_text:ce._text},{isHeader:i0.isHeader(ce,l)})}),Fe?He=Fe:ce.parent&&H2.extendFlat(He,ge(ce,J));var ye=ce.transform;return ce.x0!==ce.x1&&ce.y0!==ce.y1&&eR(l.type,ye,o),Q8(He,{transform:{scale:ye.scale,rotate:ye.rotate,textX:ye.textX,textY:ye.textY,anchorX:ye.anchorX,anchorY:ye.anchorY,targetX:ye.targetX,targetY:ye.targetY}})},de=function(ce,J,ne,be,Fe){var He=be[0],te=be[1];m?ce.exit().transition().each(function(){var ye=f0e.select(this),Te=ye.select("path.surface");Te.transition().attrTween("d",function(De){var oe=qe(De,J,ne,[He,te]);return function(pe){return Fe(oe(pe))}});var Ce=ye.select("g.slicetext");Ce.attr("opacity",0)}).remove():ce.exit().remove()},_e=function(ce){var J=ce.transform;return ce.x0!==ce.x1&&ce.y0!==ce.y1&&eR(l.type,J,o),H2.getTextTransform({textX:J.textX,textY:J.textY,anchorX:J.anchorX,anchorY:J.anchorY,targetX:J.targetX,targetY:J.targetY,scale:J.scale,rotate:J.rotate})};m&&(b.each(function(ce){R[tg(ce)]={x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1},ce.transform&&(R[tg(ce)].transform={textX:ce.transform.textX,textY:ce.transform.textY,anchorX:ce.transform.anchorX,anchorY:ce.transform.anchorY,targetX:ce.transform.targetX,targetY:ce.transform.targetY,scale:ce.transform.scale,rotate:ce.transform.rotate})}),y.each(function(ce){q[tg(ce)]={x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1},ce.transform&&(q[tg(ce)].transform={textX:ce.transform.textX,textY:ce.transform.textY,anchorX:ce.transform.anchorX,anchorY:ce.transform.anchorY,targetX:ce.transform.targetX,targetY:ce.transform.targetY,scale:ce.transform.scale,rotate:ce.transform.rotate}),!D&&i0.isEntry(ce)&&(D=ce)})),C=a(t,r,h,y,{width:k,height:p,viewX:Y,viewY:K,pathSlice:Z,toMoveInsideSlice:X,prevEntry:D,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Oe,handleSlicesExit:de,hasTransition:m,strTransform:_e}),l.pathbar.visible?bot(t,r,h,b,{barDifY:S,width:d,height:M,viewX:j,viewY:ae,pathSlice:G,toMoveInsideSlice:X,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Oe,handleSlicesExit:de,hasTransition:m,strTransform:_e}):b.remove()}});var tR=$((NCt,p0e)=>{"use strict";var wot=Nr(),_ot=Vv(),Tot=tl(),Aot=Tot.clearMinTextSize,Mot=Kf().resizeText,d0e=v0e();p0e.exports=function(t,r,n,i,a){var o=a.type,s=a.drawDescendants,l=t._fullLayout,u=l["_"+o+"layer"],f,c,h=!n;if(Aot(o,l),f=u.selectAll("g.trace."+o).data(r,function(b){return b[0].trace.uid}),f.enter().append("g").classed("trace",!0).classed(o,!0),f.order(),!l.uniformtext.mode&&_ot.hasTransition(n)){i&&(c=i());var v=wot.transition().duration(n.duration).ease(n.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});v.each(function(){u.selectAll("g.trace").each(function(b){d0e(t,b,this,n,s)})})}else f.each(function(b){d0e(t,b,this,n,s)}),l.uniformtext.mode&&Mot(t,u.selectAll(".trace"),o);h&&f.exit().remove()}});var b0e=$((zCt,x0e)=>{"use strict";var g0e=Nr(),WM=pt(),m0e=un(),kot=Ta(),Sot=Z8(),y0e=GM().styleOne,rR=Jp(),a0=Vv(),Eot=O2(),Lot=jM().formatSliceLabel,nR=!1;x0e.exports=function(t,r,n,i,a){var o=a.width,s=a.height,l=a.viewX,u=a.viewY,f=a.pathSlice,c=a.toMoveInsideSlice,h=a.strTransform,v=a.hasTransition,b=a.handleSlicesExit,y=a.makeUpdateSliceInterpolator,x=a.makeUpdateTextInterpolator,m=a.prevEntry,_={},g=t._fullLayout,A=r[0],w=A.trace,k=w.textposition.indexOf("left")!==-1,p=w.textposition.indexOf("right")!==-1,d=w.textposition.indexOf("bottom")!==-1,M=!d&&!w.marker.pad.t||d&&!w.marker.pad.b,T=Sot(n,[o,s],{packing:w.tiling.packing,squarifyratio:w.tiling.squarifyratio,flipX:w.tiling.flip.indexOf("x")>-1,flipY:w.tiling.flip.indexOf("y")>-1,pad:{inner:w.tiling.pad,top:w.marker.pad.t,left:w.marker.pad.l,right:w.marker.pad.r,bottom:w.marker.pad.b}}),S=T.descendants(),E=1/0,L=-1/0;S.forEach(function(F){var N=F.depth;N>=w._maxDepth?(F.x0=F.x1=(F.x0+F.x1)/2,F.y0=F.y1=(F.y0+F.y1)/2):(E=Math.min(E,N),L=Math.max(L,N))}),i=i.data(S,a0.getPtId),w._maxVisibleLayers=isFinite(L)?L-E+1:0,i.enter().append("g").classed("slice",!0),b(i,nR,_,[o,s],f),i.order();var D=null;if(v&&m){var R=a0.getPtId(m);i.each(function(F){D===null&&a0.getPtId(F)===R&&(D={x0:F.x0,x1:F.x1,y0:F.y0,y1:F.y1})})}var q=function(){return D||{x0:0,x1:o,y0:0,y1:s}},C=i;return v&&(C=C.transition().each("end",function(){var F=g0e.select(this);a0.setSliceCursor(F,t,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),C.each(function(F){var N=a0.isHeader(F,w);F._x0=l(F.x0),F._x1=l(F.x1),F._y0=u(F.y0),F._y1=u(F.y1),F._hoverX=l(F.x1-w.marker.pad.r),F._hoverY=u(d?F.y1-w.marker.pad.b/2:F.y0+w.marker.pad.t/2);var U=g0e.select(this),V=WM.ensureSingle(U,"path","surface",function(z){z.style("pointer-events","all")});v?V.transition().attrTween("d",function(z){var j=y(z,nR,q(),[o,s]);return function(ae){return f(j(ae))}}):V.attr("d",f),U.call(Eot,n,t,r,{styleOne:y0e,eventDataKeys:rR.eventDataKeys,transitionTime:rR.CLICK_TRANSITION_TIME,transitionEasing:rR.CLICK_TRANSITION_EASING}).call(a0.setSliceCursor,t,{isTransitioning:t._transitioning}),V.call(y0e,F,w,{hovered:!1}),F.x0===F.x1||F.y0===F.y1?F._text="":N?F._text=M?"":a0.getPtLabel(F)||"":F._text=Lot(F,n,w,r,g)||"";var Y=WM.ensureSingle(U,"g","slicetext"),K=WM.ensureSingle(Y,"text","",function(z){z.attr("data-notex",1)}),B=WM.ensureUniformFontSize(t,a0.determineTextFont(w,F,g.font));K.text(F._text||" ").classed("slicetext",!0).attr("text-anchor",p?"end":k||N?"start":"middle").call(m0e.font,B).call(kot.convertToTspans,t),F.textBB=m0e.bBox(K.node()),F.transform=c(F,{fontSize:B.size,isHeader:N}),F.transform.fontSize=B.size,v?K.transition().attrTween("transform",function(z){var j=x(z,nR,q(),[o,s]);return function(ae){return h(j(ae))}}):K.attr("transform",h(F))}),D}});var _0e=$((OCt,w0e)=>{"use strict";var Cot=tR(),Dot=b0e();w0e.exports=function(t,r,n,i){return Cot(t,r,n,i,{type:"treemap",drawDescendants:Dot})}});var A0e=$((BCt,T0e)=>{"use strict";T0e.exports={moduleType:"trace",name:"treemap",basePlotModule:Ude(),categories:[],animatable:!0,attributes:VM(),layoutAttributes:G8(),supplyDefaults:Zde(),supplyLayoutDefaults:Kde(),calc:W8().calc,crossTraceCalc:W8().crossTraceCalc,plot:_0e(),style:GM().style,colorbar:Zf(),meta:{description:["Visualize hierarchal data from leaves (and/or outer branches) towards root","with rectangles. The treemap sectors are determined by the entries in","*labels* or *ids* and in *parents*."].join(" ")}}});var k0e=$((HCt,M0e)=>{"use strict";M0e.exports=A0e()});var E0e=$(Qm=>{"use strict";var S0e=Zi();Qm.name="icicle";Qm.plot=function(e,t,r,n){S0e.plotBasePlot(Qm.name,e,t,r,n)};Qm.clean=function(e,t,r,n){S0e.cleanBasePlot(Qm.name,e,t,r,n)}});var iR=$((jCt,C0e)=>{"use strict";var qot=Yn().hovertemplateAttrs,Rot=Yn().texttemplateAttrs,Iot=Ma(),Pot=Ua().attributes,U2=Zp(),wf=R2(),XM=VM(),L0e=Jp(),Fot=ln().extendFlat;C0e.exports={labels:wf.labels,parents:wf.parents,values:wf.values,branchvalues:wf.branchvalues,count:wf.count,level:wf.level,maxdepth:wf.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot",description:["When set in conjunction with `tiling.flip`, determines on","which side the root nodes are drawn in the chart. If","`tiling.orientation` is *v* and `tiling.flip` is **, the root","nodes appear at the top. If `tiling.orientation` is *v* and","`tiling.flip` is *y*, the root nodes appear at the bottom. If","`tiling.orientation` is *h* and `tiling.flip` is **, the","root nodes appear at the left. If `tiling.orientation` is *h*","and `tiling.flip` is *x*, the root nodes appear at the right."].join(" ")},flip:XM.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the inner padding (in px)."].join(" ")},editType:"calc"},marker:Fot({colors:wf.marker.colors,line:wf.marker.line,editType:"calc"},Iot("marker",{colorAttr:"colors",anim:!1})),leaf:wf.leaf,pathbar:XM.pathbar,text:U2.text,textinfo:wf.textinfo,texttemplate:Rot({editType:"plot"},{keys:L0e.eventDataKeys.concat(["label","value"])}),hovertext:U2.hovertext,hoverinfo:wf.hoverinfo,hovertemplate:qot({},{keys:L0e.eventDataKeys}),textfont:U2.textfont,insidetextfont:U2.insidetextfont,outsidetextfont:XM.outsidetextfont,textposition:XM.textposition,sort:U2.sort,root:wf.root,domain:Pot({name:"icicle",trace:!0,editType:"calc"})}});var aR=$((VCt,D0e)=>{"use strict";D0e.exports={iciclecolorway:{valType:"colorlist",editType:"calc",description:["Sets the default icicle slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendiciclecolors`."].join(" ")},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the icicle slice colors (whether given by `iciclecolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var I0e=$((GCt,R0e)=>{"use strict";var Not=pt(),zot=iR(),Oot=Rr(),Bot=Ua().defaults,Hot=Kl().handleText,Uot=Hp().TEXTPAD,q0e=Wa(),jot=q0e.hasColorscale,Vot=q0e.handleDefaults;R0e.exports=function(t,r,n,i){function a(b,y){return Not.coerce(t,r,zot,b,y)}var o=a("labels"),s=a("parents");if(!o||!o.length||!s||!s.length){r.visible=!1;return}var l=a("values");l&&l.length?a("branchvalues"):a("count"),a("level"),a("maxdepth"),a("tiling.orientation"),a("tiling.flip"),a("tiling.pad");var u=a("text");a("texttemplate"),r.texttemplate||a("textinfo",Array.isArray(u)?"text+label":"label"),a("hovertext"),a("hovertemplate");var f=a("pathbar.visible"),c="auto";Hot(t,r,i,a,c,{hasPathbar:f,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("textposition");var h=a("marker.line.width");h&&a("marker.line.color",i.paper_bgcolor),a("marker.colors");var v=r._hasColorscale=jot(t,"marker","colors")||(t.marker||{}).coloraxis;v&&Vot(t,r,i,a,{prefix:"marker.",cLetter:"c"}),a("leaf.opacity",v?1:.7),r._hovered={marker:{line:{width:2,color:Oot.contrast(i.paper_bgcolor)}}},f&&(a("pathbar.thickness",r.pathbar.textfont.size+2*Uot),a("pathbar.side"),a("pathbar.edgeshape")),a("sort"),a("root.color"),Bot(r,i,a),r._length=null}});var F0e=$((YCt,P0e)=>{"use strict";var Got=pt(),Yot=aR();P0e.exports=function(t,r){function n(i,a){return Got.coerce(t,r,Yot,i,a)}n("iciclecolorway",r.colorway),n("extendiciclecolors")}});var sR=$(oR=>{"use strict";var N0e=F2();oR.calc=function(e,t){return N0e.calc(e,t)};oR.crossTraceCalc=function(e){return N0e._runCrossTraceCalc("icicle",e)}});var O0e=$((XCt,z0e)=>{"use strict";var Wot=I2(),Xot=X8();z0e.exports=function(t,r,n){var i=n.flipX,a=n.flipY,o=n.orientation==="h",s=n.maxDepth,l=r[0],u=r[1];s&&(l=(t.height+1)*r[0]/Math.min(t.height+1,s),u=(t.height+1)*r[1]/Math.min(t.height+1,s));var f=Wot.partition().padding(n.pad.inner).size(o?[r[1],l]:[r[0],u])(t);return(o||i||a)&&Xot(f,r,{swapXY:o,flipX:i,flipY:a}),f}});var uR=$((ZCt,j0e)=>{"use strict";var B0e=Nr(),lR=Rr(),H0e=pt(),Zot=tl().resizeText;function $ot(e){var t=e._fullLayout._iciclelayer.selectAll(".trace");Zot(e,t,"icicle"),t.each(function(r){var n=B0e.select(this),i=r[0],a=i.trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(o){B0e.select(this).call(U0e,o,a)})})}function U0e(e,t,r){var n=t.data.data,i=!t.children,a=n.i,o=H0e.castOption(r,a,"marker.line.color")||lR.defaultLine,s=H0e.castOption(r,a,"marker.line.width")||0;e.style("stroke-width",s).call(lR.fill,n.color).call(lR.stroke,o).style("opacity",i?r.leaf.opacity:null)}j0e.exports={style:$ot,styleOne:U0e}});var X0e=$(($Ct,W0e)=>{"use strict";var V0e=Nr(),ZM=pt(),G0e=un(),Kot=Ta(),Jot=O0e(),Y0e=uR().styleOne,fR=Jp(),ey=Vv(),Qot=O2(),est=jM().formatSliceLabel,cR=!1;W0e.exports=function(t,r,n,i,a){var o=a.width,s=a.height,l=a.viewX,u=a.viewY,f=a.pathSlice,c=a.toMoveInsideSlice,h=a.strTransform,v=a.hasTransition,b=a.handleSlicesExit,y=a.makeUpdateSliceInterpolator,x=a.makeUpdateTextInterpolator,m=a.prevEntry,_={},g=t._fullLayout,A=r[0],w=A.trace,k=w.textposition.indexOf("left")!==-1,p=w.textposition.indexOf("right")!==-1,d=w.textposition.indexOf("bottom")!==-1,M=Jot(n,[o,s],{flipX:w.tiling.flip.indexOf("x")>-1,flipY:w.tiling.flip.indexOf("y")>-1,orientation:w.tiling.orientation,pad:{inner:w.tiling.pad},maxDepth:w._maxDepth}),T=M.descendants(),S=1/0,E=-1/0;T.forEach(function(C){var F=C.depth;F>=w._maxDepth?(C.x0=C.x1=(C.x0+C.x1)/2,C.y0=C.y1=(C.y0+C.y1)/2):(S=Math.min(S,F),E=Math.max(E,F))}),i=i.data(T,ey.getPtId),w._maxVisibleLayers=isFinite(E)?E-S+1:0,i.enter().append("g").classed("slice",!0),b(i,cR,_,[o,s],f),i.order();var L=null;if(v&&m){var D=ey.getPtId(m);i.each(function(C){L===null&&ey.getPtId(C)===D&&(L={x0:C.x0,x1:C.x1,y0:C.y0,y1:C.y1})})}var R=function(){return L||{x0:0,x1:o,y0:0,y1:s}},q=i;return v&&(q=q.transition().each("end",function(){var C=V0e.select(this);ey.setSliceCursor(C,t,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),q.each(function(C){C._x0=l(C.x0),C._x1=l(C.x1),C._y0=u(C.y0),C._y1=u(C.y1),C._hoverX=l(C.x1-w.tiling.pad),C._hoverY=u(d?C.y1-w.tiling.pad/2:C.y0+w.tiling.pad/2);var F=V0e.select(this),N=ZM.ensureSingle(F,"path","surface",function(K){K.style("pointer-events","all")});v?N.transition().attrTween("d",function(K){var B=y(K,cR,R(),[o,s],{orientation:w.tiling.orientation,flipX:w.tiling.flip.indexOf("x")>-1,flipY:w.tiling.flip.indexOf("y")>-1});return function(z){return f(B(z))}}):N.attr("d",f),F.call(Qot,n,t,r,{styleOne:Y0e,eventDataKeys:fR.eventDataKeys,transitionTime:fR.CLICK_TRANSITION_TIME,transitionEasing:fR.CLICK_TRANSITION_EASING}).call(ey.setSliceCursor,t,{isTransitioning:t._transitioning}),N.call(Y0e,C,w,{hovered:!1}),C.x0===C.x1||C.y0===C.y1?C._text="":C._text=est(C,n,w,r,g)||"";var U=ZM.ensureSingle(F,"g","slicetext"),V=ZM.ensureSingle(U,"text","",function(K){K.attr("data-notex",1)}),Y=ZM.ensureUniformFontSize(t,ey.determineTextFont(w,C,g.font));V.text(C._text||" ").classed("slicetext",!0).attr("text-anchor",p?"end":k?"start":"middle").call(G0e.font,Y).call(Kot.convertToTspans,t),C.textBB=G0e.bBox(V.node()),C.transform=c(C,{fontSize:Y.size}),C.transform.fontSize=Y.size,v?V.transition().attrTween("transform",function(K){var B=x(K,cR,R(),[o,s]);return function(z){return h(B(z))}}):V.attr("transform",h(C))}),L}});var $0e=$((KCt,Z0e)=>{"use strict";var tst=tR(),rst=X0e();Z0e.exports=function(t,r,n,i){return tst(t,r,n,i,{type:"icicle",drawDescendants:rst})}});var J0e=$((JCt,K0e)=>{"use strict";K0e.exports={moduleType:"trace",name:"icicle",basePlotModule:E0e(),categories:[],animatable:!0,attributes:iR(),layoutAttributes:aR(),supplyDefaults:I0e(),supplyLayoutDefaults:F0e(),calc:sR().calc,crossTraceCalc:sR().crossTraceCalc,plot:$0e(),style:uR().style,colorbar:Zf(),meta:{description:["Visualize hierarchal data from leaves (and/or outer branches) towards root","with rectangles. The icicle sectors are determined by the entries in","*labels* or *ids* and in *parents*."].join(" ")}}});var epe=$((QCt,Q0e)=>{"use strict";Q0e.exports=J0e()});var rpe=$(ty=>{"use strict";var tpe=Zi();ty.name="funnelarea";ty.plot=function(e,t,r,n){tpe.plotBasePlot(ty.name,e,t,r,n)};ty.clean=function(e,t,r,n){tpe.cleanBasePlot(ty.name,e,t,r,n)}});var hR=$((t6t,npe)=>{"use strict";var nl=Zp(),nst=aa(),ist=Ua().attributes,ast=Yn().hovertemplateAttrs,ost=Yn().texttemplateAttrs,rg=ln().extendFlat;npe.exports={labels:nl.labels,label0:nl.label0,dlabel:nl.dlabel,values:nl.values,marker:{colors:nl.marker.colors,line:{color:rg({},nl.marker.line.color,{dflt:null,description:["Sets the color of the line enclosing each sector.","Defaults to the `paper_bgcolor` value."].join(" ")}),width:rg({},nl.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:nl.text,hovertext:nl.hovertext,scalegroup:rg({},nl.scalegroup,{description:["If there are multiple funnelareas that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")}),textinfo:rg({},nl.textinfo,{flags:["label","text","value","percent"]}),texttemplate:ost({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:rg({},nst.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:ast({},{keys:["label","color","value","text","percent"]}),textposition:rg({},nl.textposition,{values:["inside","none"],dflt:"inside"}),textfont:nl.textfont,insidetextfont:nl.insidetextfont,title:{text:nl.title.text,font:nl.title.font,position:rg({},nl.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:ist({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the ratio between height and width"].join(" ")},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot",description:["Sets the ratio between bottom length and maximum top length."].join(" ")}}});var vR=$((r6t,ipe)=>{"use strict";var sst=IM().hiddenlabels;ipe.exports={hiddenlabels:sst,funnelareacolorway:{valType:"colorlist",editType:"calc",description:["Sets the default funnelarea slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendfunnelareacolors`."].join(" ")},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the funnelarea slice colors (whether given by `funnelareacolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}});var spe=$((n6t,ope)=>{"use strict";var ape=pt(),lst=hR(),ust=Ua().defaults,fst=Kl().handleText,cst=P8().handleLabelsAndValues;ope.exports=function(t,r,n,i){function a(x,m){return ape.coerce(t,r,lst,x,m)}var o=a("labels"),s=a("values"),l=cst(o,s),u=l.len;if(r._hasLabels=l.hasLabels,r._hasValues=l.hasValues,!r._hasLabels&&r._hasValues&&(a("label0"),a("dlabel")),!u){r.visible=!1;return}r._length=u;var f=a("marker.line.width");f&&a("marker.line.color",i.paper_bgcolor),a("marker.colors"),a("scalegroup");var c=a("text"),h=a("texttemplate"),v;if(h||(v=a("textinfo",Array.isArray(c)?"text+percent":"percent")),a("hovertext"),a("hovertemplate"),h||v&&v!=="none"){var b=a("textposition");fst(t,r,i,a,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}ust(r,i,a);var y=a("title.text");y&&(a("title.position"),ape.coerceFont(a,"title.font",i.font)),a("aspectratio"),a("baseratio")}});var upe=$((i6t,lpe)=>{"use strict";var hst=pt(),vst=vR();lpe.exports=function(t,r){function n(i,a){return hst.coerce(t,r,vst,i,a)}n("hiddenlabels"),n("funnelareacolorway",r.colorway),n("extendfunnelareacolors")}});var dR=$((a6t,cpe)=>{"use strict";var fpe=Gm();function dst(e,t){return fpe.calc(e,t)}function pst(e){fpe.crossTraceCalc(e,{type:"funnelarea"})}cpe.exports={calc:dst,crossTraceCalc:pst}});var gpe=$((o6t,ppe)=>{"use strict";var ng=Nr(),pR=un(),o0=pt(),gst=o0.strScale,hpe=o0.strTranslate,vpe=Ta(),mst=Vp(),yst=mst.toMoveInsideBar,dpe=tl(),xst=dpe.recordMinTextSize,bst=dpe.clearMinTextSize,wst=Rd(),ry=zM(),_st=ry.attachFxHandlers,Tst=ry.determineInsideTextFont,Ast=ry.layoutAreas,Mst=ry.prerenderTitles,kst=ry.positionTitleOutside,Sst=ry.formatSliceLabel;ppe.exports=function(t,r){var n=t._fullLayout;bst("funnelarea",n),Mst(r,t),Ast(r,n._size),o0.makeTraceGroups(n._funnelarealayer,r,"trace").each(function(i){var a=ng.select(this),o=i[0],s=o.trace;Lst(i),a.each(function(){var l=ng.select(this).selectAll("g.slice").data(i);l.enter().append("g").classed("slice",!0),l.exit().remove(),l.each(function(f,c){if(f.hidden){ng.select(this).selectAll("path,g").remove();return}f.pointNumber=f.i,f.curveNumber=s.index;var h=o.cx,v=o.cy,b=ng.select(this),y=b.selectAll("path.surface").data([f]);y.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),b.call(_st,t,i);var x="M"+(h+f.TR[0])+","+(v+f.TR[1])+gR(f.TR,f.BR)+gR(f.BR,f.BL)+gR(f.BL,f.TL)+"Z";y.attr("d",x),Sst(t,f,o);var m=wst.castOption(s.textposition,f.pts),_=b.selectAll("g.slicetext").data(f.text&&m!=="none"?[0]:[]);_.enter().append("g").classed("slicetext",!0),_.exit().remove(),_.each(function(){var g=o0.ensureSingle(ng.select(this),"text","",function(S){S.attr("data-notex",1)}),A=o0.ensureUniformFontSize(t,Tst(s,f,n.font));g.text(f.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(pR.font,A).call(vpe.convertToTspans,t);var w=pR.bBox(g.node()),k,p,d,M=Math.min(f.BL[1],f.BR[1])+v,T=Math.max(f.TL[1],f.TR[1])+v;p=Math.max(f.TL[0],f.BL[0])+h,d=Math.min(f.TR[0],f.BR[0])+h,k=yst(p,d,M,T,w,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),k.fontSize=A.size,xst(s.type,k,n),i[c].transform=k,g.attr("transform",o0.getTextTransform(k))})});var u=ng.select(this).selectAll("g.titletext").data(s.title.text?[0]:[]);u.enter().append("g").classed("titletext",!0),u.exit().remove(),u.each(function(){var f=o0.ensureSingle(ng.select(this),"text","",function(v){v.attr("data-notex",1)}),c=s.title.text;s._meta&&(c=o0.templateString(c,s._meta)),f.text(c).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(pR.font,s.title.font).call(vpe.convertToTspans,t);var h=kst(o,n._size);f.attr("transform",hpe(h.x,h.y)+gst(Math.min(1,h.scale))+hpe(h.tx,h.ty))})})})};function gR(e,t){var r=t[0]-e[0],n=t[1]-e[1];return"l"+r+","+n}function Est(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]}function Lst(e){if(!e.length)return;var t=e[0],r=t.trace,n=r.aspectratio,i=r.baseratio;i>.999&&(i=.999);var a=Math.pow(i,2),o=t.vTotal,s=o*a/(1-a),l=o,u=s/o;function f(){var L=Math.sqrt(u);return{x:L,y:-L}}function c(){var L=f();return[L.x,L.y]}var h,v=[];v.push(c());var b,y;for(b=e.length-1;b>-1;b--)if(y=e[b],!y.hidden){var x=y.v/l;u+=x,v.push(c())}var m=1/0,_=-1/0;for(b=0;b<v.length;b++)h=v[b],m=Math.min(m,h[1]),_=Math.max(_,h[1]);for(b=0;b<v.length;b++)v[b][1]-=(_+m)/2;var g=v[v.length-1][0],A=t.r,w=(_-m)/2,k=A/g,p=A/w*n;for(t.r=p*w,b=0;b<v.length;b++)v[b][0]*=k,v[b][1]*=p;h=v[0];var d=[-h[0],h[1]],M=[h[0],h[1]],T=0;for(b=e.length-1;b>-1;b--)if(y=e[b],!y.hidden){T+=1;var S=v[T][0],E=v[T][1];y.TL=[-S,E],y.TR=[S,E],y.BL=d,y.BR=M,y.pxmid=Est(y.TR,y.BR),d=y.TL,M=y.TR}}});var xpe=$((s6t,ype)=>{"use strict";var mpe=Nr(),Cst=V1(),Dst=tl().resizeText;ype.exports=function(t){var r=t._fullLayout._funnelarealayer.selectAll(".trace");Dst(t,r,"funnelarea"),r.each(function(n){var i=n[0],a=i.trace,o=mpe.select(this);o.style({opacity:a.opacity}),o.selectAll("path.surface").each(function(s){mpe.select(this).call(Cst,s,a)})})}});var wpe=$((l6t,bpe)=>{"use strict";bpe.exports={moduleType:"trace",name:"funnelarea",basePlotModule:rpe(),categories:["pie-like","funnelarea","showLegend"],attributes:hR(),layoutAttributes:vR(),supplyDefaults:spe(),supplyLayoutDefaults:upe(),calc:dR().calc,crossTraceCalc:dR().crossTraceCalc,plot:gpe(),style:xpe(),styleOne:V1(),meta:{description:["Visualize stages in a process using area-encoded trapezoids. This trace can be used",'to show data in a part-to-whole representation similar to a "pie" trace, wherein','each item appears in a single stage. See also the "funnel" trace type for a different',"approach to visualizing funnel data."].join(" ")}}});var Tpe=$((u6t,_pe)=>{"use strict";_pe.exports=wpe()});var $a=$((Ape,mR)=>{(function(e){if(typeof Ape=="object"&&typeof mR<"u")mR.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.stackgl=e()}})(function(){var e,t,r;return function(){function n(i,a,o){function s(f,c){if(!a[f]){if(!i[f]){var h=typeof ex=="function"&&ex;if(!c&&h)return h(f,!0);if(l)return l(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var b=a[f]={exports:{}};i[f][0].call(b.exports,function(y){var x=i[f][1][y];return s(x||y)},b,b.exports,n,i,a,o)}return a[f].exports}for(var l=typeof ex=="function"&&ex,u=0;u<o.length;u++)s(o[u]);return s}return n}()({1:[function(n,i,a){"use strict";a.byteLength=v,a.toByteArray=y,a.fromByteArray=_;for(var o=[],s=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,c=u.length;f<c;++f)o[f]=u[f],s[u.charCodeAt(f)]=f;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;function h(g){var A=g.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=g.indexOf("=");w===-1&&(w=A);var k=w===A?0:4-w%4;return[w,k]}function v(g){var A=h(g),w=A[0],k=A[1];return(w+k)*3/4-k}function b(g,A,w){return(A+w)*3/4-w}function y(g){var A,w=h(g),k=w[0],p=w[1],d=new l(b(g,k,p)),M=0,T=p>0?k-4:k,S;for(S=0;S<T;S+=4)A=s[g.charCodeAt(S)]<<18|s[g.charCodeAt(S+1)]<<12|s[g.charCodeAt(S+2)]<<6|s[g.charCodeAt(S+3)],d[M++]=A>>16&255,d[M++]=A>>8&255,d[M++]=A&255;return p===2&&(A=s[g.charCodeAt(S)]<<2|s[g.charCodeAt(S+1)]>>4,d[M++]=A&255),p===1&&(A=s[g.charCodeAt(S)]<<10|s[g.charCodeAt(S+1)]<<4|s[g.charCodeAt(S+2)]>>2,d[M++]=A>>8&255,d[M++]=A&255),d}function x(g){return o[g>>18&63]+o[g>>12&63]+o[g>>6&63]+o[g&63]}function m(g,A,w){for(var k,p=[],d=A;d<w;d+=3)k=(g[d]<<16&16711680)+(g[d+1]<<8&65280)+(g[d+2]&255),p.push(x(k));return p.join("")}function _(g){for(var A,w=g.length,k=w%3,p=[],d=16383,M=0,T=w-k;M<T;M+=d)p.push(m(g,M,M+d>T?T:M+d));return k===1?(A=g[w-1],p.push(o[A>>2]+o[A<<4&63]+"==")):k===2&&(A=(g[w-2]<<8)+g[w-1],p.push(o[A>>10]+o[A>>4&63]+o[A<<2&63]+"=")),p.join("")}},{}],2:[function(n,i,a){},{}],3:[function(n,i,a){(function(o){(function(){"use strict";var s=n("base64-js"),l=n("ieee754");a.Buffer=h,a.SlowBuffer=k,a.INSPECT_MAX_BYTES=50;var u=2147483647;a.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=f(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{var ce=new Uint8Array(1);return ce.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ce.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function c(ce){if(ce>u)throw new RangeError('The value "'+ce+'" is invalid for option "size"');var J=new Uint8Array(ce);return J.__proto__=h.prototype,J}function h(ce,J,ne){if(typeof ce=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(ce)}return v(ce,J,ne)}typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function v(ce,J,ne){if(typeof ce=="string")return m(ce,J);if(ArrayBuffer.isView(ce))return _(ce);if(ce==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(de(ce,ArrayBuffer)||ce&&de(ce.buffer,ArrayBuffer))return g(ce,J,ne);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var be=ce.valueOf&&ce.valueOf();if(be!=null&&be!==ce)return h.from(be,J,ne);var Fe=A(ce);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return h.from(ce[Symbol.toPrimitive]("string"),J,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}h.from=function(ce,J,ne){return v(ce,J,ne)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function b(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function y(ce,J,ne){return b(ce),ce<=0?c(ce):J!==void 0?typeof ne=="string"?c(ce).fill(J,ne):c(ce).fill(J):c(ce)}h.alloc=function(ce,J,ne){return y(ce,J,ne)};function x(ce){return b(ce),c(ce<0?0:w(ce)|0)}h.allocUnsafe=function(ce){return x(ce)},h.allocUnsafeSlow=function(ce){return x(ce)};function m(ce,J){if((typeof J!="string"||J==="")&&(J="utf8"),!h.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ne=p(ce,J)|0,be=c(ne),Fe=be.write(ce,J);return Fe!==ne&&(be=be.slice(0,Fe)),be}function _(ce){for(var J=ce.length<0?0:w(ce.length)|0,ne=c(J),be=0;be<J;be+=1)ne[be]=ce[be]&255;return ne}function g(ce,J,ne){if(J<0||ce.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<J+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var be;return J===void 0&&ne===void 0?be=new Uint8Array(ce):ne===void 0?be=new Uint8Array(ce,J):be=new Uint8Array(ce,J,ne),be.__proto__=h.prototype,be}function A(ce){if(h.isBuffer(ce)){var J=w(ce.length)|0,ne=c(J);return ne.length===0||ce.copy(ne,0,0,J),ne}if(ce.length!==void 0)return typeof ce.length!="number"||_e(ce.length)?c(0):_(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return _(ce.data)}function w(ce){if(ce>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return ce|0}function k(ce){return+ce!=ce&&(ce=0),h.alloc(+ce)}h.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==h.prototype},h.compare=function(J,ne){if(de(J,Uint8Array)&&(J=h.from(J,J.offset,J.byteLength)),de(ne,Uint8Array)&&(ne=h.from(ne,ne.offset,ne.byteLength)),!h.isBuffer(J)||!h.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===ne)return 0;for(var be=J.length,Fe=ne.length,He=0,te=Math.min(be,Fe);He<te;++He)if(J[He]!==ne[He]){be=J[He],Fe=ne[He];break}return be<Fe?-1:Fe<be?1:0},h.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(J,ne){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return h.alloc(0);var be;if(ne===void 0)for(ne=0,be=0;be<J.length;++be)ne+=J[be].length;var Fe=h.allocUnsafe(ne),He=0;for(be=0;be<J.length;++be){var te=J[be];if(de(te,Uint8Array)&&(te=h.from(te)),!h.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(Fe,He),He+=te.length}return Fe};function p(ce,J){if(h.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||de(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);var ne=ce.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&ne===0)return 0;for(var Fe=!1;;)switch(J){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return X(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return Pe(ce).length;default:if(Fe)return be?-1:X(ce).length;J=(""+J).toLowerCase(),Fe=!0}}h.byteLength=p;function d(ce,J,ne){var be=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,J>>>=0,ne<=J))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return B(this,J,ne);case"utf8":case"utf-8":return N(this,J,ne);case"ascii":return Y(this,J,ne);case"latin1":case"binary":return K(this,J,ne);case"base64":return F(this,J,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,J,ne);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),be=!0}}h.prototype._isBuffer=!0;function M(ce,J,ne){var be=ce[J];ce[J]=ce[ne],ce[ne]=be}h.prototype.swap16=function(){var J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<J;ne+=2)M(this,ne,ne+1);return this},h.prototype.swap32=function(){var J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<J;ne+=4)M(this,ne,ne+3),M(this,ne+1,ne+2);return this},h.prototype.swap64=function(){var J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<J;ne+=8)M(this,ne,ne+7),M(this,ne+1,ne+6),M(this,ne+2,ne+5),M(this,ne+3,ne+4);return this},h.prototype.toString=function(){var J=this.length;return J===0?"":arguments.length===0?N(this,0,J):d.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(J){if(!h.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:h.compare(this,J)===0},h.prototype.inspect=function(){var J="",ne=a.INSPECT_MAX_BYTES;return J=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(J+=" ... "),"<Buffer "+J+">"},h.prototype.compare=function(J,ne,be,Fe,He){if(de(J,Uint8Array)&&(J=h.from(J,J.offset,J.byteLength)),!h.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(ne===void 0&&(ne=0),be===void 0&&(be=J?J.length:0),Fe===void 0&&(Fe=0),He===void 0&&(He=this.length),ne<0||be>J.length||Fe<0||He>this.length)throw new RangeError("out of range index");if(Fe>=He&&ne>=be)return 0;if(Fe>=He)return-1;if(ne>=be)return 1;if(ne>>>=0,be>>>=0,Fe>>>=0,He>>>=0,this===J)return 0;for(var te=He-Fe,ye=be-ne,Te=Math.min(te,ye),Ce=this.slice(Fe,He),De=J.slice(ne,be),oe=0;oe<Te;++oe)if(Ce[oe]!==De[oe]){te=Ce[oe],ye=De[oe];break}return te<ye?-1:ye<te?1:0};function T(ce,J,ne,be,Fe){if(ce.length===0)return-1;if(typeof ne=="string"?(be=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,_e(ne)&&(ne=Fe?0:ce.length-1),ne<0&&(ne=ce.length+ne),ne>=ce.length){if(Fe)return-1;ne=ce.length-1}else if(ne<0)if(Fe)ne=0;else return-1;if(typeof J=="string"&&(J=h.from(J,be)),h.isBuffer(J))return J.length===0?-1:S(ce,J,ne,be,Fe);if(typeof J=="number")return J=J&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(ce,J,ne):Uint8Array.prototype.lastIndexOf.call(ce,J,ne):S(ce,[J],ne,be,Fe);throw new TypeError("val must be string, number or Buffer")}function S(ce,J,ne,be,Fe){var He=1,te=ce.length,ye=J.length;if(be!==void 0&&(be=String(be).toLowerCase(),be==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(ce.length<2||J.length<2)return-1;He=2,te/=2,ye/=2,ne/=2}function Te(Le,Ue){return He===1?Le[Ue]:Le.readUInt16BE(Ue*He)}var Ce;if(Fe){var De=-1;for(Ce=ne;Ce<te;Ce++)if(Te(ce,Ce)===Te(J,De===-1?0:Ce-De)){if(De===-1&&(De=Ce),Ce-De+1===ye)return De*He}else De!==-1&&(Ce-=Ce-De),De=-1}else for(ne+ye>te&&(ne=te-ye),Ce=ne;Ce>=0;Ce--){for(var oe=!0,pe=0;pe<ye;pe++)if(Te(ce,Ce+pe)!==Te(J,pe)){oe=!1;break}if(oe)return Ce}return-1}h.prototype.includes=function(J,ne,be){return this.indexOf(J,ne,be)!==-1},h.prototype.indexOf=function(J,ne,be){return T(this,J,ne,be,!0)},h.prototype.lastIndexOf=function(J,ne,be){return T(this,J,ne,be,!1)};function E(ce,J,ne,be){ne=Number(ne)||0;var Fe=ce.length-ne;be?(be=Number(be),be>Fe&&(be=Fe)):be=Fe;var He=J.length;be>He/2&&(be=He/2);for(var te=0;te<be;++te){var ye=parseInt(J.substr(te*2,2),16);if(_e(ye))return te;ce[ne+te]=ye}return te}function L(ce,J,ne,be){return Oe(X(J,ce.length-ne),ce,ne,be)}function D(ce,J,ne,be){return Oe(ge(J),ce,ne,be)}function R(ce,J,ne,be){return D(ce,J,ne,be)}function q(ce,J,ne,be){return Oe(Pe(J),ce,ne,be)}function C(ce,J,ne,be){return Oe(qe(J,ce.length-ne),ce,ne,be)}h.prototype.write=function(J,ne,be,Fe){if(ne===void 0)Fe="utf8",be=this.length,ne=0;else if(be===void 0&&typeof ne=="string")Fe=ne,be=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(be)?(be=be>>>0,Fe===void 0&&(Fe="utf8")):(Fe=be,be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var He=this.length-ne;if((be===void 0||be>He)&&(be=He),J.length>0&&(be<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");for(var te=!1;;)switch(Fe){case"hex":return E(this,J,ne,be);case"utf8":case"utf-8":return L(this,J,ne,be);case"ascii":return D(this,J,ne,be);case"latin1":case"binary":return R(this,J,ne,be);case"base64":return q(this,J,ne,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,J,ne,be);default:if(te)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),te=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(ce,J,ne){return J===0&&ne===ce.length?s.fromByteArray(ce):s.fromByteArray(ce.slice(J,ne))}function N(ce,J,ne){ne=Math.min(ce.length,ne);for(var be=[],Fe=J;Fe<ne;){var He=ce[Fe],te=null,ye=He>239?4:He>223?3:He>191?2:1;if(Fe+ye<=ne){var Te,Ce,De,oe;switch(ye){case 1:He<128&&(te=He);break;case 2:Te=ce[Fe+1],(Te&192)===128&&(oe=(He&31)<<6|Te&63,oe>127&&(te=oe));break;case 3:Te=ce[Fe+1],Ce=ce[Fe+2],(Te&192)===128&&(Ce&192)===128&&(oe=(He&15)<<12|(Te&63)<<6|Ce&63,oe>2047&&(oe<55296||oe>57343)&&(te=oe));break;case 4:Te=ce[Fe+1],Ce=ce[Fe+2],De=ce[Fe+3],(Te&192)===128&&(Ce&192)===128&&(De&192)===128&&(oe=(He&15)<<18|(Te&63)<<12|(Ce&63)<<6|De&63,oe>65535&&oe<1114112&&(te=oe))}}te===null?(te=65533,ye=1):te>65535&&(te-=65536,be.push(te>>>10&1023|55296),te=56320|te&1023),be.push(te),Fe+=ye}return V(be)}var U=4096;function V(ce){var J=ce.length;if(J<=U)return String.fromCharCode.apply(String,ce);for(var ne="",be=0;be<J;)ne+=String.fromCharCode.apply(String,ce.slice(be,be+=U));return ne}function Y(ce,J,ne){var be="";ne=Math.min(ce.length,ne);for(var Fe=J;Fe<ne;++Fe)be+=String.fromCharCode(ce[Fe]&127);return be}function K(ce,J,ne){var be="";ne=Math.min(ce.length,ne);for(var Fe=J;Fe<ne;++Fe)be+=String.fromCharCode(ce[Fe]);return be}function B(ce,J,ne){var be=ce.length;(!J||J<0)&&(J=0),(!ne||ne<0||ne>be)&&(ne=be);for(var Fe="",He=J;He<ne;++He)Fe+=Z(ce[He]);return Fe}function z(ce,J,ne){for(var be=ce.slice(J,ne),Fe="",He=0;He<be.length;He+=2)Fe+=String.fromCharCode(be[He]+be[He+1]*256);return Fe}h.prototype.slice=function(J,ne){var be=this.length;J=~~J,ne=ne===void 0?be:~~ne,J<0?(J+=be,J<0&&(J=0)):J>be&&(J=be),ne<0?(ne+=be,ne<0&&(ne=0)):ne>be&&(ne=be),ne<J&&(ne=J);var Fe=this.subarray(J,ne);return Fe.__proto__=h.prototype,Fe};function j(ce,J,ne){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+J>ne)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(J,ne,be){J=J>>>0,ne=ne>>>0,be||j(J,ne,this.length);for(var Fe=this[J],He=1,te=0;++te<ne&&(He*=256);)Fe+=this[J+te]*He;return Fe},h.prototype.readUIntBE=function(J,ne,be){J=J>>>0,ne=ne>>>0,be||j(J,ne,this.length);for(var Fe=this[J+--ne],He=1;ne>0&&(He*=256);)Fe+=this[J+--ne]*He;return Fe},h.prototype.readUInt8=function(J,ne){return J=J>>>0,ne||j(J,1,this.length),this[J]},h.prototype.readUInt16LE=function(J,ne){return J=J>>>0,ne||j(J,2,this.length),this[J]|this[J+1]<<8},h.prototype.readUInt16BE=function(J,ne){return J=J>>>0,ne||j(J,2,this.length),this[J]<<8|this[J+1]},h.prototype.readUInt32LE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},h.prototype.readUInt32BE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},h.prototype.readIntLE=function(J,ne,be){J=J>>>0,ne=ne>>>0,be||j(J,ne,this.length);for(var Fe=this[J],He=1,te=0;++te<ne&&(He*=256);)Fe+=this[J+te]*He;return He*=128,Fe>=He&&(Fe-=Math.pow(2,8*ne)),Fe},h.prototype.readIntBE=function(J,ne,be){J=J>>>0,ne=ne>>>0,be||j(J,ne,this.length);for(var Fe=ne,He=1,te=this[J+--Fe];Fe>0&&(He*=256);)te+=this[J+--Fe]*He;return He*=128,te>=He&&(te-=Math.pow(2,8*ne)),te},h.prototype.readInt8=function(J,ne){return J=J>>>0,ne||j(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},h.prototype.readInt16LE=function(J,ne){J=J>>>0,ne||j(J,2,this.length);var be=this[J]|this[J+1]<<8;return be&32768?be|4294901760:be},h.prototype.readInt16BE=function(J,ne){J=J>>>0,ne||j(J,2,this.length);var be=this[J+1]|this[J]<<8;return be&32768?be|4294901760:be},h.prototype.readInt32LE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},h.prototype.readInt32BE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},h.prototype.readFloatLE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),l.read(this,J,!0,23,4)},h.prototype.readFloatBE=function(J,ne){return J=J>>>0,ne||j(J,4,this.length),l.read(this,J,!1,23,4)},h.prototype.readDoubleLE=function(J,ne){return J=J>>>0,ne||j(J,8,this.length),l.read(this,J,!0,52,8)},h.prototype.readDoubleBE=function(J,ne){return J=J>>>0,ne||j(J,8,this.length),l.read(this,J,!1,52,8)};function ae(ce,J,ne,be,Fe,He){if(!h.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>Fe||J<He)throw new RangeError('"value" argument is out of bounds');if(ne+be>ce.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(J,ne,be,Fe){if(J=+J,ne=ne>>>0,be=be>>>0,!Fe){var He=Math.pow(2,8*be)-1;ae(this,J,ne,be,He,0)}var te=1,ye=0;for(this[ne]=J&255;++ye<be&&(te*=256);)this[ne+ye]=J/te&255;return ne+be},h.prototype.writeUIntBE=function(J,ne,be,Fe){if(J=+J,ne=ne>>>0,be=be>>>0,!Fe){var He=Math.pow(2,8*be)-1;ae(this,J,ne,be,He,0)}var te=be-1,ye=1;for(this[ne+te]=J&255;--te>=0&&(ye*=256);)this[ne+te]=J/ye&255;return ne+be},h.prototype.writeUInt8=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,1,255,0),this[ne]=J&255,ne+1},h.prototype.writeUInt16LE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,2,65535,0),this[ne]=J&255,this[ne+1]=J>>>8,ne+2},h.prototype.writeUInt16BE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,2,65535,0),this[ne]=J>>>8,this[ne+1]=J&255,ne+2},h.prototype.writeUInt32LE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,4,4294967295,0),this[ne+3]=J>>>24,this[ne+2]=J>>>16,this[ne+1]=J>>>8,this[ne]=J&255,ne+4},h.prototype.writeUInt32BE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,4,4294967295,0),this[ne]=J>>>24,this[ne+1]=J>>>16,this[ne+2]=J>>>8,this[ne+3]=J&255,ne+4},h.prototype.writeIntLE=function(J,ne,be,Fe){if(J=+J,ne=ne>>>0,!Fe){var He=Math.pow(2,8*be-1);ae(this,J,ne,be,He-1,-He)}var te=0,ye=1,Te=0;for(this[ne]=J&255;++te<be&&(ye*=256);)J<0&&Te===0&&this[ne+te-1]!==0&&(Te=1),this[ne+te]=(J/ye>>0)-Te&255;return ne+be},h.prototype.writeIntBE=function(J,ne,be,Fe){if(J=+J,ne=ne>>>0,!Fe){var He=Math.pow(2,8*be-1);ae(this,J,ne,be,He-1,-He)}var te=be-1,ye=1,Te=0;for(this[ne+te]=J&255;--te>=0&&(ye*=256);)J<0&&Te===0&&this[ne+te+1]!==0&&(Te=1),this[ne+te]=(J/ye>>0)-Te&255;return ne+be},h.prototype.writeInt8=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,1,127,-128),J<0&&(J=255+J+1),this[ne]=J&255,ne+1},h.prototype.writeInt16LE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,2,32767,-32768),this[ne]=J&255,this[ne+1]=J>>>8,ne+2},h.prototype.writeInt16BE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,2,32767,-32768),this[ne]=J>>>8,this[ne+1]=J&255,ne+2},h.prototype.writeInt32LE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,4,2147483647,-2147483648),this[ne]=J&255,this[ne+1]=J>>>8,this[ne+2]=J>>>16,this[ne+3]=J>>>24,ne+4},h.prototype.writeInt32BE=function(J,ne,be){return J=+J,ne=ne>>>0,be||ae(this,J,ne,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[ne]=J>>>24,this[ne+1]=J>>>16,this[ne+2]=J>>>8,this[ne+3]=J&255,ne+4};function ee(ce,J,ne,be,Fe,He){if(ne+be>ce.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ve(ce,J,ne,be,Fe){return J=+J,ne=ne>>>0,Fe||ee(ce,J,ne,4,34028234663852886e22,-34028234663852886e22),l.write(ce,J,ne,be,23,4),ne+4}h.prototype.writeFloatLE=function(J,ne,be){return ve(this,J,ne,!0,be)},h.prototype.writeFloatBE=function(J,ne,be){return ve(this,J,ne,!1,be)};function fe(ce,J,ne,be,Fe){return J=+J,ne=ne>>>0,Fe||ee(ce,J,ne,8,17976931348623157e292,-17976931348623157e292),l.write(ce,J,ne,be,52,8),ne+8}h.prototype.writeDoubleLE=function(J,ne,be){return fe(this,J,ne,!0,be)},h.prototype.writeDoubleBE=function(J,ne,be){return fe(this,J,ne,!1,be)},h.prototype.copy=function(J,ne,be,Fe){if(!h.isBuffer(J))throw new TypeError("argument should be a Buffer");if(be||(be=0),!Fe&&Fe!==0&&(Fe=this.length),ne>=J.length&&(ne=J.length),ne||(ne=0),Fe>0&&Fe<be&&(Fe=be),Fe===be||J.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),J.length-ne<Fe-be&&(Fe=J.length-ne+be);var He=Fe-be;if(this===J&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(ne,be,Fe);else if(this===J&&be<ne&&ne<Fe)for(var te=He-1;te>=0;--te)J[te+ne]=this[te+be];else Uint8Array.prototype.set.call(J,this.subarray(be,Fe),ne);return He},h.prototype.fill=function(J,ne,be,Fe){if(typeof J=="string"){if(typeof ne=="string"?(Fe=ne,ne=0,be=this.length):typeof be=="string"&&(Fe=be,be=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!h.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(J.length===1){var He=J.charCodeAt(0);(Fe==="utf8"&&He<128||Fe==="latin1")&&(J=He)}}else typeof J=="number"&&(J=J&255);if(ne<0||this.length<ne||this.length<be)throw new RangeError("Out of range index");if(be<=ne)return this;ne=ne>>>0,be=be===void 0?this.length:be>>>0,J||(J=0);var te;if(typeof J=="number")for(te=ne;te<be;++te)this[te]=J;else{var ye=h.isBuffer(J)?J:h.from(J,Fe),Te=ye.length;if(Te===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(te=0;te<be-ne;++te)this[te+ne]=ye[te%Te]}return this};var se=/[^+/0-9A-Za-z-_]/g;function G(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(se,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function Z(ce){return ce<16?"0"+ce.toString(16):ce.toString(16)}function X(ce,J){J=J||1/0;for(var ne,be=ce.length,Fe=null,He=[],te=0;te<be;++te){if(ne=ce.charCodeAt(te),ne>55295&&ne<57344){if(!Fe){if(ne>56319){(J-=3)>-1&&He.push(239,191,189);continue}else if(te+1===be){(J-=3)>-1&&He.push(239,191,189);continue}Fe=ne;continue}if(ne<56320){(J-=3)>-1&&He.push(239,191,189),Fe=ne;continue}ne=(Fe-55296<<10|ne-56320)+65536}else Fe&&(J-=3)>-1&&He.push(239,191,189);if(Fe=null,ne<128){if((J-=1)<0)break;He.push(ne)}else if(ne<2048){if((J-=2)<0)break;He.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((J-=3)<0)break;He.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((J-=4)<0)break;He.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return He}function ge(ce){for(var J=[],ne=0;ne<ce.length;++ne)J.push(ce.charCodeAt(ne)&255);return J}function qe(ce,J){for(var ne,be,Fe,He=[],te=0;te<ce.length&&!((J-=2)<0);++te)ne=ce.charCodeAt(te),be=ne>>8,Fe=ne%256,He.push(Fe),He.push(be);return He}function Pe(ce){return s.toByteArray(G(ce))}function Oe(ce,J,ne,be){for(var Fe=0;Fe<be&&!(Fe+ne>=J.length||Fe>=ce.length);++Fe)J[Fe+ne]=ce[Fe];return Fe}function de(ce,J){return ce instanceof J||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===J.name}function _e(ce){return ce!==ce}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:4}],4:[function(n,i,a){a.read=function(o,s,l,u,f){var c,h,v=f*8-u-1,b=(1<<v)-1,y=b>>1,x=-7,m=l?f-1:0,_=l?-1:1,g=o[s+m];for(m+=_,c=g&(1<<-x)-1,g>>=-x,x+=v;x>0;c=c*256+o[s+m],m+=_,x-=8);for(h=c&(1<<-x)-1,c>>=-x,x+=u;x>0;h=h*256+o[s+m],m+=_,x-=8);if(c===0)c=1-y;else{if(c===b)return h?NaN:(g?-1:1)*(1/0);h=h+Math.pow(2,u),c=c-y}return(g?-1:1)*h*Math.pow(2,c-u)},a.write=function(o,s,l,u,f,c){var h,v,b,y=c*8-f-1,x=(1<<y)-1,m=x>>1,_=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=u?0:c-1,A=u?1:-1,w=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(v=isNaN(s)?1:0,h=x):(h=Math.floor(Math.log(s)/Math.LN2),s*(b=Math.pow(2,-h))<1&&(h--,b*=2),h+m>=1?s+=_/b:s+=_*Math.pow(2,1-m),s*b>=2&&(h++,b/=2),h+m>=x?(v=0,h=x):h+m>=1?(v=(s*b-1)*Math.pow(2,f),h=h+m):(v=s*Math.pow(2,m-1)*Math.pow(2,f),h=0));f>=8;o[l+g]=v&255,g+=A,v/=256,f-=8);for(h=h<<f|v,y+=f;y>0;o[l+g]=h&255,g+=A,h/=256,y-=8);o[l+g-A]|=w*128}},{}],5:[function(n,i,a){var o=i.exports={},s,l;function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=u}catch{s=u}try{typeof clearTimeout=="function"?l=clearTimeout:l=f}catch{l=f}})();function c(w){if(s===setTimeout)return setTimeout(w,0);if((s===u||!s)&&setTimeout)return s=setTimeout,setTimeout(w,0);try{return s(w,0)}catch{try{return s.call(null,w,0)}catch{return s.call(this,w,0)}}}function h(w){if(l===clearTimeout)return clearTimeout(w);if((l===f||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(w);try{return l(w)}catch{try{return l.call(null,w)}catch{return l.call(this,w)}}}var v=[],b=!1,y,x=-1;function m(){!b||!y||(b=!1,y.length?v=y.concat(v):x=-1,v.length&&_())}function _(){if(!b){var w=c(m);b=!0;for(var k=v.length;k;){for(y=v,v=[];++x<k;)y&&y[x].run();x=-1,k=v.length}y=null,b=!1,h(w)}}o.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)k[p-1]=arguments[p];v.push(new g(w,k)),v.length===1&&!b&&c(_)};function g(w,k){this.fun=w,this.array=k}g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function A(){}o.on=A,o.addListener=A,o.once=A,o.off=A,o.removeListener=A,o.removeAllListeners=A,o.emit=A,o.prependListener=A,o.prependOnceListener=A,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],6:[function(n,i,a){i.exports={alpha_shape:n("alpha-shape"),convex_hull:n("convex-hull"),delaunay_triangulate:n("delaunay-triangulate"),gl_cone3d:n("gl-cone3d"),gl_error3d:n("gl-error3d"),gl_heatmap2d:n("gl-heatmap2d"),gl_line3d:n("gl-line3d"),gl_mesh3d:n("gl-mesh3d"),gl_plot2d:n("gl-plot2d"),gl_plot3d:n("gl-plot3d"),gl_pointcloud2d:n("gl-pointcloud2d"),gl_scatter3d:n("gl-scatter3d"),gl_select_box:n("gl-select-box"),gl_spikes2d:n("gl-spikes2d"),gl_streamtube3d:n("gl-streamtube3d"),gl_surface3d:n("gl-surface3d"),ndarray:n("ndarray"),ndarray_linear_interpolate:n("ndarray-linear-interpolate")}},{"alpha-shape":12,"convex-hull":58,"delaunay-triangulate":63,"gl-cone3d":79,"gl-error3d":84,"gl-heatmap2d":88,"gl-line3d":91,"gl-mesh3d":112,"gl-plot2d":118,"gl-plot3d":121,"gl-pointcloud2d":123,"gl-scatter3d":128,"gl-select-box":130,"gl-spikes2d":139,"gl-streamtube3d":143,"gl-surface3d":145,ndarray:259,"ndarray-linear-interpolate":253}],7:[function(n,i,a){"use strict";i.exports=c;var o=n("turntable-camera-controller"),s=n("orbit-camera-controller"),l=n("matrix-camera-controller");function u(h,v){this._controllerNames=Object.keys(h),this._controllerList=this._controllerNames.map(function(b){return h[b]}),this._mode=v,this._active=h[v],this._active||(this._mode="turntable",this._active=h.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(h){for(var v=this._controllerList,b=0;b<v.length;++b)v[b].flush(h)},f.idle=function(h){for(var v=this._controllerList,b=0;b<v.length;++b)v[b].idle(h)},f.lookAt=function(h,v,b,y){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].lookAt(h,v,b,y)},f.rotate=function(h,v,b,y){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].rotate(h,v,b,y)},f.pan=function(h,v,b,y){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].pan(h,v,b,y)},f.translate=function(h,v,b,y){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].translate(h,v,b,y)},f.setMatrix=function(h,v){for(var b=this._controllerList,y=0;y<b.length;++y)b[y].setMatrix(h,v)},f.setDistanceLimits=function(h,v){for(var b=this._controllerList,y=0;y<b.length;++y)b[y].setDistanceLimits(h,v)},f.setDistance=function(h,v){for(var b=this._controllerList,y=0;y<b.length;++y)b[y].setDistance(h,v)},f.recalcMatrix=function(h){this._active.recalcMatrix(h)},f.getDistance=function(h){return this._active.getDistance(h)},f.getDistanceLimits=function(h){return this._active.getDistanceLimits(h)},f.lastT=function(){return this._active.lastT()},f.setMode=function(h){if(h!==this._mode){var v=this._controllerNames.indexOf(h);if(!(v<0)){var b=this._active,y=this._controllerList[v],x=Math.max(b.lastT(),y.lastT());b.recalcMatrix(x),y.setMatrix(x,b.computedMatrix),this._active=y,this._mode=h,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function c(h){h=h||{};var v=h.eye||[0,0,1],b=h.center||[0,0,0],y=h.up||[0,1,0],x=h.distanceLimits||[0,1/0],m=h.mode||"turntable",_=o(),g=s(),A=l();return _.setDistanceLimits(x[0],x[1]),_.lookAt(0,v,b,y),g.setDistanceLimits(x[0],x[1]),g.lookAt(0,v,b,y),A.setDistanceLimits(x[0],x[1]),A.lookAt(0,v,b,y),new u({turntable:_,orbit:g,matrix:A},m)}},{"matrix-camera-controller":245,"orbit-camera-controller":263,"turntable-camera-controller":305}],8:[function(n,i,a){"use strict";var o=typeof WeakMap>"u"?n("weak-map"):WeakMap,s=n("gl-buffer"),l=n("gl-vao"),u=new o;function f(c){var h=u.get(c),v=h&&(h._triangleBuffer.handle||h._triangleBuffer.buffer);if(!v||!c.isBuffer(v)){var b=s(c,new Float32Array([-1,-1,-1,4,4,-1]));h=l(c,[{buffer:b,type:c.FLOAT,size:2}]),h._triangleBuffer=b,u.set(c,h)}h.bind(),c.drawArrays(c.TRIANGLES,0,3),h.unbind()}i.exports=f},{"gl-buffer":78,"gl-vao":150,"weak-map":313}],9:[function(n,i,a){var o=n("pad-left");i.exports=s;function s(l,u,f){u=typeof u=="number"?u:1,f=f||": ";var c=l.split(/\r?\n/),h=String(c.length+u-1).length;return c.map(function(v,b){var y=b+u,x=String(y).length,m=o(y,h-x);return m+f+v}).join(`
`)}},{"pad-left":264}],10:[function(n,i,a){"use strict";i.exports=l;var o=n("robust-orientation");function s(u,f){for(var c=new Array(f+1),h=0;h<u.length;++h)c[h]=u[h];for(var h=0;h<=u.length;++h){for(var v=u.length;v<=f;++v){for(var b=new Array(f),y=0;y<f;++y)b[y]=Math.pow(v+1-h,y);c[v]=b}var x=o.apply(void 0,c);if(x)return!0}return!1}function l(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var c=u[0].length,h=[u[0]],v=[0],b=1;b<f;++b){if(h.push(u[b]),!s(h,c)){h.pop();continue}if(v.push(b),v.length===c+1)return v}return v}},{"robust-orientation":284}],11:[function(n,i,a){"use strict";i.exports=l;var o=n("delaunay-triangulate"),s=n("circumradius");function l(u,f){return o(f).filter(function(c){for(var h=new Array(c.length),v=0;v<c.length;++v)h[v]=f[c[v]];return s(h)*u<1})}},{circumradius:49,"delaunay-triangulate":63}],12:[function(n,i,a){i.exports=l;var o=n("alpha-complex"),s=n("simplicial-complex-boundary");function l(u,f){return s(o(u,f))}},{"alpha-complex":11,"simplicial-complex-boundary":290}],13:[function(n,i,a){i.exports=function(s){return atob(s)}},{}],14:[function(n,i,a){"use strict";i.exports=l;var o=n("robust-linear-solve");function s(u){for(var f=0,c=0;c<u.length;++c)f+=u[c];return f}function l(u,f){for(var c=f.length,h=new Array(c+1),v=0;v<c;++v){for(var b=new Array(c+1),y=0;y<=c;++y)b[y]=u[y][v];h[v]=b}h[c]=new Array(c+1);for(var v=0;v<=c;++v)h[c][v]=1;for(var x=new Array(c+1),v=0;v<c;++v)x[v]=f[v];x[c]=1;var m=o(h,x),_=s(m[c+1]);_===0&&(_=1);for(var g=new Array(c+1),v=0;v<=c;++v)g[v]=s(m[v])/_;return g}},{"robust-linear-solve":283}],15:[function(n,i,a){"use strict";var o=n("./lib/rationalize");i.exports=s;function s(l,u){return o(l[0].mul(u[1]).add(u[0].mul(l[1])),l[1].mul(u[1]))}},{"./lib/rationalize":25}],16:[function(n,i,a){"use strict";i.exports=o;function o(s,l){return s[0].mul(l[1]).cmp(l[0].mul(s[1]))}},{}],17:[function(n,i,a){"use strict";var o=n("./lib/rationalize");i.exports=s;function s(l,u){return o(l[0].mul(u[1]),l[1].mul(u[0]))}},{"./lib/rationalize":25}],18:[function(n,i,a){"use strict";var o=n("./is-rat"),s=n("./lib/is-bn"),l=n("./lib/num-to-bn"),u=n("./lib/str-to-bn"),f=n("./lib/rationalize"),c=n("./div");i.exports=h;function h(v,b){if(o(v))return b?c(v,h(b)):[v[0].clone(),v[1].clone()];var y=0,x,m;if(s(v))x=v.clone();else if(typeof v=="string")x=u(v);else{if(v===0)return[l(0),l(1)];if(v===Math.floor(v))x=l(v);else{for(;v!==Math.floor(v);)v=v*Math.pow(2,256),y-=256;x=l(v)}}if(o(b))x.mul(b[1]),m=b[0].clone();else if(s(b))m=b.clone();else if(typeof b=="string")m=u(b);else if(!b)m=l(1);else if(b===Math.floor(b))m=l(b);else{for(;b!==Math.floor(b);)b=b*Math.pow(2,256),y+=256;m=l(b)}return y>0?x=x.ushln(y):y<0&&(m=m.ushln(-y)),f(x,m)}},{"./div":17,"./is-rat":19,"./lib/is-bn":23,"./lib/num-to-bn":24,"./lib/rationalize":25,"./lib/str-to-bn":26}],19:[function(n,i,a){"use strict";var o=n("./lib/is-bn");i.exports=s;function s(l){return Array.isArray(l)&&l.length===2&&o(l[0])&&o(l[1])}},{"./lib/is-bn":23}],20:[function(n,i,a){"use strict";var o=n("bn.js");i.exports=s;function s(l){return l.cmp(new o(0))}},{"bn.js":33}],21:[function(n,i,a){"use strict";var o=n("./bn-sign");i.exports=s;function s(l){var u=l.length,f=l.words,c=0;if(u===1)c=f[0];else if(u===2)c=f[0]+f[1]*67108864;else for(var h=0;h<u;h++){var v=f[h];c+=v*Math.pow(67108864,h)}return o(l)*c}},{"./bn-sign":20}],22:[function(n,i,a){"use strict";var o=n("double-bits"),s=n("bit-twiddle").countTrailingZeros;i.exports=l;function l(u){var f=s(o.lo(u));if(f<32)return f;var c=s(o.hi(u));return c>20?52:c+32}},{"bit-twiddle":32,"double-bits":64}],23:[function(n,i,a){"use strict";var o=n("bn.js");i.exports=s;function s(l){return l&&typeof l=="object"&&Boolean(l.words)}},{"bn.js":33}],24:[function(n,i,a){"use strict";var o=n("bn.js"),s=n("double-bits");i.exports=l;function l(u){var f=s.exponent(u);return f<52?new o(u):new o(u*Math.pow(2,52-f)).ushln(f-52)}},{"bn.js":33,"double-bits":64}],25:[function(n,i,a){"use strict";var o=n("./num-to-bn"),s=n("./bn-sign");i.exports=l;function l(u,f){var c=s(u),h=s(f);if(c===0)return[o(0),o(1)];if(h===0)return[o(0),o(0)];h<0&&(u=u.neg(),f=f.neg());var v=u.gcd(f);return v.cmpn(1)?[u.div(v),f.div(v)]:[u,f]}},{"./bn-sign":20,"./num-to-bn":24}],26:[function(n,i,a){"use strict";var o=n("bn.js");i.exports=s;function s(l){return new o(l)}},{"bn.js":33}],27:[function(n,i,a){"use strict";var o=n("./lib/rationalize");i.exports=s;function s(l,u){return o(l[0].mul(u[0]),l[1].mul(u[1]))}},{"./lib/rationalize":25}],28:[function(n,i,a){"use strict";var o=n("./lib/bn-sign");i.exports=s;function s(l){return o(l[0])*o(l[1])}},{"./lib/bn-sign":20}],29:[function(n,i,a){"use strict";var o=n("./lib/rationalize");i.exports=s;function s(l,u){return o(l[0].mul(u[1]).sub(l[1].mul(u[0])),l[1].mul(u[1]))}},{"./lib/rationalize":25}],30:[function(n,i,a){"use strict";var o=n("./lib/bn-to-num"),s=n("./lib/ctz");i.exports=l;function l(u){var f=u[0],c=u[1];if(f.cmpn(0)===0)return 0;var h=f.abs().divmod(c.abs()),v=h.div,b=o(v),y=h.mod,x=f.negative!==c.negative?-1:1;if(y.cmpn(0)===0)return x*b;if(b){var m=s(b)+4,_=o(y.ushln(m).divRound(c));return x*(b+_*Math.pow(2,-m))}else{var g=c.bitLength()-y.bitLength()+53,_=o(y.ushln(g).divRound(c));return g<1023?x*_*Math.pow(2,-g):(_*=Math.pow(2,-1023),x*_*Math.pow(2,1023-g))}}},{"./lib/bn-to-num":21,"./lib/ctz":22}],31:[function(n,i,a){"use strict";function o(h,v,b,y,x){for(var m=x+1;y<=x;){var _=y+x>>>1,g=h[_],A=b!==void 0?b(g,v):g-v;A>=0?(m=_,x=_-1):y=_+1}return m}function s(h,v,b,y,x){for(var m=x+1;y<=x;){var _=y+x>>>1,g=h[_],A=b!==void 0?b(g,v):g-v;A>0?(m=_,x=_-1):y=_+1}return m}function l(h,v,b,y,x){for(var m=y-1;y<=x;){var _=y+x>>>1,g=h[_],A=b!==void 0?b(g,v):g-v;A<0?(m=_,y=_+1):x=_-1}return m}function u(h,v,b,y,x){for(var m=y-1;y<=x;){var _=y+x>>>1,g=h[_],A=b!==void 0?b(g,v):g-v;A<=0?(m=_,y=_+1):x=_-1}return m}function f(h,v,b,y,x){for(;y<=x;){var m=y+x>>>1,_=h[m],g=b!==void 0?b(_,v):_-v;if(g===0)return m;g<=0?y=m+1:x=m-1}return-1}function c(h,v,b,y,x,m){return typeof b=="function"?m(h,v,b,y===void 0?0:y|0,x===void 0?h.length-1:x|0):m(h,v,void 0,b===void 0?0:b|0,y===void 0?h.length-1:y|0)}i.exports={ge:function(h,v,b,y,x){return c(h,v,b,y,x,o)},gt:function(h,v,b,y,x){return c(h,v,b,y,x,s)},lt:function(h,v,b,y,x){return c(h,v,b,y,x,l)},le:function(h,v,b,y,x){return c(h,v,b,y,x,u)},eq:function(h,v,b,y,x){return c(h,v,b,y,x,f)}}},{}],32:[function(n,i,a){"use strict";var o=32;a.INT_BITS=o,a.INT_MAX=2147483647,a.INT_MIN=-1<<o-1,a.sign=function(u){return(u>0)-(u<0)},a.abs=function(u){var f=u>>o-1;return(u^f)-f},a.min=function(u,f){return f^(u^f)&-(u<f)},a.max=function(u,f){return u^(u^f)&-(u<f)},a.isPow2=function(u){return!(u&u-1)&&!!u},a.log2=function(u){var f,c;return f=(u>65535)<<4,u>>>=f,c=(u>255)<<3,u>>>=c,f|=c,c=(u>15)<<2,u>>>=c,f|=c,c=(u>3)<<1,u>>>=c,f|=c,f|u>>1},a.log10=function(u){return u>=1e9?9:u>=1e8?8:u>=1e7?7:u>=1e6?6:u>=1e5?5:u>=1e4?4:u>=1e3?3:u>=100?2:u>=10?1:0},a.popCount=function(u){return u=u-(u>>>1&1431655765),u=(u&858993459)+(u>>>2&858993459),(u+(u>>>4)&252645135)*16843009>>>24};function s(u){var f=32;return u&=-u,u&&f--,u&65535&&(f-=16),u&16711935&&(f-=8),u&252645135&&(f-=4),u&858993459&&(f-=2),u&1431655765&&(f-=1),f}a.countTrailingZeros=s,a.nextPow2=function(u){return u+=u===0,--u,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u+1},a.prevPow2=function(u){return u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u-(u>>>1)},a.parity=function(u){return u^=u>>>16,u^=u>>>8,u^=u>>>4,u&=15,27030>>>u&1};var l=new Array(256);(function(u){for(var f=0;f<256;++f){var c=f,h=f,v=7;for(c>>>=1;c;c>>>=1)h<<=1,h|=c&1,--v;u[f]=h<<v&255}})(l),a.reverse=function(u){return l[u&255]<<24|l[u>>>8&255]<<16|l[u>>>16&255]<<8|l[u>>>24&255]},a.interleave2=function(u,f){return u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,u|f<<1},a.deinterleave2=function(u,f){return u=u>>>f&1431655765,u=(u|u>>>1)&858993459,u=(u|u>>>2)&252645135,u=(u|u>>>4)&16711935,u=(u|u>>>16)&65535,u<<16>>16},a.interleave3=function(u,f,c){return u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,u|=f<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,u|c<<2},a.deinterleave3=function(u,f){return u=u>>>f&1227133513,u=(u|u>>>2)&3272356035,u=(u|u>>>4)&251719695,u=(u|u>>>8)&4278190335,u=(u|u>>>16)&1023,u<<22>>22},a.nextCombination=function(u){var f=u|u-1;return f+1|(~f&-~f)-1>>>s(u)+1}},{}],33:[function(n,i,a){(function(o,s){"use strict";function l(q,C){if(!q)throw new Error(C||"Assertion failed")}function u(q,C){q.super_=C;var F=function(){};F.prototype=C.prototype,q.prototype=new F,q.prototype.constructor=q}function f(q,C,F){if(f.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((C==="le"||C==="be")&&(F=C,C=10),this._init(q||0,C||10,F||"be"))}typeof o=="object"?o.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=n("buffer").Buffer}catch{}f.isBN=function(C){return C instanceof f?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===f.wordSize&&Array.isArray(C.words)},f.max=function(C,F){return C.cmp(F)>0?C:F},f.min=function(C,F){return C.cmp(F)<0?C:F},f.prototype._init=function(C,F,N){if(typeof C=="number")return this._initNumber(C,F,N);if(typeof C=="object")return this._initArray(C,F,N);F==="hex"&&(F=16),l(F===(F|0)&&F>=2&&F<=36),C=C.toString().replace(/\s+/g,"");var U=0;C[0]==="-"&&(U++,this.negative=1),U<C.length&&(F===16?this._parseHex(C,U,N):(this._parseBase(C,F,U),N==="le"&&this._initArray(this.toArray(),F,N)))},f.prototype._initNumber=function(C,F,N){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),F,N)},f.prototype._initArray=function(C,F,N){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var V,Y,K=0;if(N==="be")for(U=C.length-1,V=0;U>=0;U-=3)Y=C[U]|C[U-1]<<8|C[U-2]<<16,this.words[V]|=Y<<K&67108863,this.words[V+1]=Y>>>26-K&67108863,K+=24,K>=26&&(K-=26,V++);else if(N==="le")for(U=0,V=0;U<C.length;U+=3)Y=C[U]|C[U+1]<<8|C[U+2]<<16,this.words[V]|=Y<<K&67108863,this.words[V+1]=Y>>>26-K&67108863,K+=24,K>=26&&(K-=26,V++);return this.strip()};function h(q,C){var F=q.charCodeAt(C);return F>=65&&F<=70?F-55:F>=97&&F<=102?F-87:F-48&15}function v(q,C,F){var N=h(q,F);return F-1>=C&&(N|=h(q,F-1)<<4),N}f.prototype._parseHex=function(C,F,N){this.length=Math.ceil((C.length-F)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var V=0,Y=0,K;if(N==="be")for(U=C.length-1;U>=F;U-=2)K=v(C,F,U)<<V,this.words[Y]|=K&67108863,V>=18?(V-=18,Y+=1,this.words[Y]|=K>>>26):V+=8;else{var B=C.length-F;for(U=B%2===0?F+1:F;U<C.length;U+=2)K=v(C,F,U)<<V,this.words[Y]|=K&67108863,V>=18?(V-=18,Y+=1,this.words[Y]|=K>>>26):V+=8}this.strip()};function b(q,C,F,N){for(var U=0,V=Math.min(q.length,F),Y=C;Y<V;Y++){var K=q.charCodeAt(Y)-48;U*=N,K>=49?U+=K-49+10:K>=17?U+=K-17+10:U+=K}return U}f.prototype._parseBase=function(C,F,N){this.words=[0],this.length=1;for(var U=0,V=1;V<=67108863;V*=F)U++;U--,V=V/F|0;for(var Y=C.length-N,K=Y%U,B=Math.min(Y,Y-K)+N,z=0,j=N;j<B;j+=U)z=b(C,j,j+U,F),this.imuln(V),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(K!==0){var ae=1;for(z=b(C,j,C.length,F),j=0;j<K;j++)ae*=F;this.imuln(ae),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this.strip()},f.prototype.copy=function(C){C.words=new Array(this.length);for(var F=0;F<this.length;F++)C.words[F]=this.words[F];C.length=this.length,C.negative=this.negative,C.red=this.red},f.prototype.clone=function(){var C=new f(null);return this.copy(C),C},f.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(C,F){C=C||10,F=F|0||1;var N;if(C===16||C==="hex"){N="";for(var U=0,V=0,Y=0;Y<this.length;Y++){var K=this.words[Y],B=((K<<U|V)&16777215).toString(16);V=K>>>24-U&16777215,V!==0||Y!==this.length-1?N=y[6-B.length]+B+N:N=B+N,U+=2,U>=26&&(U-=26,Y--)}for(V!==0&&(N=V.toString(16)+N);N.length%F!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(C===(C|0)&&C>=2&&C<=36){var z=x[C],j=m[C];N="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var ee=ae.modn(j).toString(C);ae=ae.idivn(j),ae.isZero()?N=ee+N:N=y[z-ee.length]+ee+N}for(this.isZero()&&(N="0"+N);N.length%F!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}l(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(C,F){return l(typeof c<"u"),this.toArrayLike(c,C,F)},f.prototype.toArray=function(C,F){return this.toArrayLike(Array,C,F)},f.prototype.toArrayLike=function(C,F,N){var U=this.byteLength(),V=N||Math.max(1,U);l(U<=V,"byte array longer than desired length"),l(V>0,"Requested array length <= 0"),this.strip();var Y=F==="le",K=new C(V),B,z,j=this.clone();if(Y){for(z=0;!j.isZero();z++)B=j.andln(255),j.iushrn(8),K[z]=B;for(;z<V;z++)K[z]=0}else{for(z=0;z<V-U;z++)K[z]=0;for(z=0;!j.isZero();z++)B=j.andln(255),j.iushrn(8),K[V-z-1]=B}return K},Math.clz32?f.prototype._countBits=function(C){return 32-Math.clz32(C)}:f.prototype._countBits=function(C){var F=C,N=0;return F>=4096&&(N+=13,F>>>=13),F>=64&&(N+=7,F>>>=7),F>=8&&(N+=4,F>>>=4),F>=2&&(N+=2,F>>>=2),N+F},f.prototype._zeroBits=function(C){if(C===0)return 26;var F=C,N=0;return F&8191||(N+=13,F>>>=13),F&127||(N+=7,F>>>=7),F&15||(N+=4,F>>>=4),F&3||(N+=2,F>>>=2),F&1||N++,N},f.prototype.bitLength=function(){var C=this.words[this.length-1],F=this._countBits(C);return(this.length-1)*26+F};function _(q){for(var C=new Array(q.bitLength()),F=0;F<C.length;F++){var N=F/26|0,U=F%26;C[F]=(q.words[N]&1<<U)>>>U}return C}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,F=0;F<this.length;F++){var N=this._zeroBits(this.words[F]);if(C+=N,N!==26)break}return C},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},f.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var F=0;F<C.length;F++)this.words[F]=this.words[F]|C.words[F];return this.strip()},f.prototype.ior=function(C){return l((this.negative|C.negative)===0),this.iuor(C)},f.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},f.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},f.prototype.iuand=function(C){var F;this.length>C.length?F=C:F=this;for(var N=0;N<F.length;N++)this.words[N]=this.words[N]&C.words[N];return this.length=F.length,this.strip()},f.prototype.iand=function(C){return l((this.negative|C.negative)===0),this.iuand(C)},f.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},f.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},f.prototype.iuxor=function(C){var F,N;this.length>C.length?(F=this,N=C):(F=C,N=this);for(var U=0;U<N.length;U++)this.words[U]=F.words[U]^N.words[U];if(this!==F)for(;U<F.length;U++)this.words[U]=F.words[U];return this.length=F.length,this.strip()},f.prototype.ixor=function(C){return l((this.negative|C.negative)===0),this.iuxor(C)},f.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},f.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},f.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var F=Math.ceil(C/26)|0,N=C%26;this._expand(F),N>0&&F--;for(var U=0;U<F;U++)this.words[U]=~this.words[U]&67108863;return N>0&&(this.words[U]=~this.words[U]&67108863>>26-N),this.strip()},f.prototype.notn=function(C){return this.clone().inotn(C)},f.prototype.setn=function(C,F){l(typeof C=="number"&&C>=0);var N=C/26|0,U=C%26;return this._expand(N+1),F?this.words[N]=this.words[N]|1<<U:this.words[N]=this.words[N]&~(1<<U),this.strip()},f.prototype.iadd=function(C){var F;if(this.negative!==0&&C.negative===0)return this.negative=0,F=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,F=this.isub(C),C.negative=1,F._normSign();var N,U;this.length>C.length?(N=this,U=C):(N=C,U=this);for(var V=0,Y=0;Y<U.length;Y++)F=(N.words[Y]|0)+(U.words[Y]|0)+V,this.words[Y]=F&67108863,V=F>>>26;for(;V!==0&&Y<N.length;Y++)F=(N.words[Y]|0)+V,this.words[Y]=F&67108863,V=F>>>26;if(this.length=N.length,V!==0)this.words[this.length]=V,this.length++;else if(N!==this)for(;Y<N.length;Y++)this.words[Y]=N.words[Y];return this},f.prototype.add=function(C){var F;return C.negative!==0&&this.negative===0?(C.negative=0,F=this.sub(C),C.negative^=1,F):C.negative===0&&this.negative!==0?(this.negative=0,F=C.sub(this),this.negative=1,F):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},f.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var F=this.iadd(C);return C.negative=1,F._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var N=this.cmp(C);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,V;N>0?(U=this,V=C):(U=C,V=this);for(var Y=0,K=0;K<V.length;K++)F=(U.words[K]|0)-(V.words[K]|0)+Y,Y=F>>26,this.words[K]=F&67108863;for(;Y!==0&&K<U.length;K++)F=(U.words[K]|0)+Y,Y=F>>26,this.words[K]=F&67108863;if(Y===0&&K<U.length&&U!==this)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=Math.max(this.length,K),U!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(C){return this.clone().isub(C)};function g(q,C,F){F.negative=C.negative^q.negative;var N=q.length+C.length|0;F.length=N,N=N-1|0;var U=q.words[0]|0,V=C.words[0]|0,Y=U*V,K=Y&67108863,B=Y/67108864|0;F.words[0]=K;for(var z=1;z<N;z++){for(var j=B>>>26,ae=B&67108863,ee=Math.min(z,C.length-1),ve=Math.max(0,z-q.length+1);ve<=ee;ve++){var fe=z-ve|0;U=q.words[fe]|0,V=C.words[ve]|0,Y=U*V+ae,j+=Y/67108864|0,ae=Y&67108863}F.words[z]=ae|0,B=j|0}return B!==0?F.words[z]=B|0:F.length--,F.strip()}var A=function(C,F,N){var U=C.words,V=F.words,Y=N.words,K=0,B,z,j,ae=U[0]|0,ee=ae&8191,ve=ae>>>13,fe=U[1]|0,se=fe&8191,G=fe>>>13,Z=U[2]|0,X=Z&8191,ge=Z>>>13,qe=U[3]|0,Pe=qe&8191,Oe=qe>>>13,de=U[4]|0,_e=de&8191,ce=de>>>13,J=U[5]|0,ne=J&8191,be=J>>>13,Fe=U[6]|0,He=Fe&8191,te=Fe>>>13,ye=U[7]|0,Te=ye&8191,Ce=ye>>>13,De=U[8]|0,oe=De&8191,pe=De>>>13,Le=U[9]|0,Ue=Le&8191,et=Le>>>13,Qe=V[0]|0,dt=Qe&8191,ht=Qe>>>13,_t=V[1]|0,kt=_t&8191,St=_t>>>13,Ot=V[2]|0,je=Ot&8191,Ve=Ot>>>13,Je=V[3]|0,nt=Je&8191,Be=Je>>>13,tt=V[4]|0,ot=tt&8191,yt=tt>>>13,Ht=V[5]|0,Lt=Ht&8191,tr=Ht>>>13,rr=V[6]|0,Ct=rr&8191,Zt=rr>>>13,Sr=V[7]|0,gr=Sr&8191,Lr=Sr>>>13,en=V[8]|0,Or=en&8191,vn=en>>>13,qn=V[9]|0,Kr=qn&8191,Qr=qn>>>13;N.negative=C.negative^F.negative,N.length=19,B=Math.imul(ee,dt),z=Math.imul(ee,ht),z=z+Math.imul(ve,dt)|0,j=Math.imul(ve,ht);var kn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(kn>>>26)|0,kn&=67108863,B=Math.imul(se,dt),z=Math.imul(se,ht),z=z+Math.imul(G,dt)|0,j=Math.imul(G,ht),B=B+Math.imul(ee,kt)|0,z=z+Math.imul(ee,St)|0,z=z+Math.imul(ve,kt)|0,j=j+Math.imul(ve,St)|0;var Vn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,B=Math.imul(X,dt),z=Math.imul(X,ht),z=z+Math.imul(ge,dt)|0,j=Math.imul(ge,ht),B=B+Math.imul(se,kt)|0,z=z+Math.imul(se,St)|0,z=z+Math.imul(G,kt)|0,j=j+Math.imul(G,St)|0,B=B+Math.imul(ee,je)|0,z=z+Math.imul(ee,Ve)|0,z=z+Math.imul(ve,je)|0,j=j+Math.imul(ve,Ve)|0;var Tn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,B=Math.imul(Pe,dt),z=Math.imul(Pe,ht),z=z+Math.imul(Oe,dt)|0,j=Math.imul(Oe,ht),B=B+Math.imul(X,kt)|0,z=z+Math.imul(X,St)|0,z=z+Math.imul(ge,kt)|0,j=j+Math.imul(ge,St)|0,B=B+Math.imul(se,je)|0,z=z+Math.imul(se,Ve)|0,z=z+Math.imul(G,je)|0,j=j+Math.imul(G,Ve)|0,B=B+Math.imul(ee,nt)|0,z=z+Math.imul(ee,Be)|0,z=z+Math.imul(ve,nt)|0,j=j+Math.imul(ve,Be)|0;var Nn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,B=Math.imul(_e,dt),z=Math.imul(_e,ht),z=z+Math.imul(ce,dt)|0,j=Math.imul(ce,ht),B=B+Math.imul(Pe,kt)|0,z=z+Math.imul(Pe,St)|0,z=z+Math.imul(Oe,kt)|0,j=j+Math.imul(Oe,St)|0,B=B+Math.imul(X,je)|0,z=z+Math.imul(X,Ve)|0,z=z+Math.imul(ge,je)|0,j=j+Math.imul(ge,Ve)|0,B=B+Math.imul(se,nt)|0,z=z+Math.imul(se,Be)|0,z=z+Math.imul(G,nt)|0,j=j+Math.imul(G,Be)|0,B=B+Math.imul(ee,ot)|0,z=z+Math.imul(ee,yt)|0,z=z+Math.imul(ve,ot)|0,j=j+Math.imul(ve,yt)|0;var ci=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(ci>>>26)|0,ci&=67108863,B=Math.imul(ne,dt),z=Math.imul(ne,ht),z=z+Math.imul(be,dt)|0,j=Math.imul(be,ht),B=B+Math.imul(_e,kt)|0,z=z+Math.imul(_e,St)|0,z=z+Math.imul(ce,kt)|0,j=j+Math.imul(ce,St)|0,B=B+Math.imul(Pe,je)|0,z=z+Math.imul(Pe,Ve)|0,z=z+Math.imul(Oe,je)|0,j=j+Math.imul(Oe,Ve)|0,B=B+Math.imul(X,nt)|0,z=z+Math.imul(X,Be)|0,z=z+Math.imul(ge,nt)|0,j=j+Math.imul(ge,Be)|0,B=B+Math.imul(se,ot)|0,z=z+Math.imul(se,yt)|0,z=z+Math.imul(G,ot)|0,j=j+Math.imul(G,yt)|0,B=B+Math.imul(ee,Lt)|0,z=z+Math.imul(ee,tr)|0,z=z+Math.imul(ve,Lt)|0,j=j+Math.imul(ve,tr)|0;var On=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(On>>>26)|0,On&=67108863,B=Math.imul(He,dt),z=Math.imul(He,ht),z=z+Math.imul(te,dt)|0,j=Math.imul(te,ht),B=B+Math.imul(ne,kt)|0,z=z+Math.imul(ne,St)|0,z=z+Math.imul(be,kt)|0,j=j+Math.imul(be,St)|0,B=B+Math.imul(_e,je)|0,z=z+Math.imul(_e,Ve)|0,z=z+Math.imul(ce,je)|0,j=j+Math.imul(ce,Ve)|0,B=B+Math.imul(Pe,nt)|0,z=z+Math.imul(Pe,Be)|0,z=z+Math.imul(Oe,nt)|0,j=j+Math.imul(Oe,Be)|0,B=B+Math.imul(X,ot)|0,z=z+Math.imul(X,yt)|0,z=z+Math.imul(ge,ot)|0,j=j+Math.imul(ge,yt)|0,B=B+Math.imul(se,Lt)|0,z=z+Math.imul(se,tr)|0,z=z+Math.imul(G,Lt)|0,j=j+Math.imul(G,tr)|0,B=B+Math.imul(ee,Ct)|0,z=z+Math.imul(ee,Zt)|0,z=z+Math.imul(ve,Ct)|0,j=j+Math.imul(ve,Zt)|0;var Sn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,B=Math.imul(Te,dt),z=Math.imul(Te,ht),z=z+Math.imul(Ce,dt)|0,j=Math.imul(Ce,ht),B=B+Math.imul(He,kt)|0,z=z+Math.imul(He,St)|0,z=z+Math.imul(te,kt)|0,j=j+Math.imul(te,St)|0,B=B+Math.imul(ne,je)|0,z=z+Math.imul(ne,Ve)|0,z=z+Math.imul(be,je)|0,j=j+Math.imul(be,Ve)|0,B=B+Math.imul(_e,nt)|0,z=z+Math.imul(_e,Be)|0,z=z+Math.imul(ce,nt)|0,j=j+Math.imul(ce,Be)|0,B=B+Math.imul(Pe,ot)|0,z=z+Math.imul(Pe,yt)|0,z=z+Math.imul(Oe,ot)|0,j=j+Math.imul(Oe,yt)|0,B=B+Math.imul(X,Lt)|0,z=z+Math.imul(X,tr)|0,z=z+Math.imul(ge,Lt)|0,j=j+Math.imul(ge,tr)|0,B=B+Math.imul(se,Ct)|0,z=z+Math.imul(se,Zt)|0,z=z+Math.imul(G,Ct)|0,j=j+Math.imul(G,Zt)|0,B=B+Math.imul(ee,gr)|0,z=z+Math.imul(ee,Lr)|0,z=z+Math.imul(ve,gr)|0,j=j+Math.imul(ve,Lr)|0;var _i=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(_i>>>26)|0,_i&=67108863,B=Math.imul(oe,dt),z=Math.imul(oe,ht),z=z+Math.imul(pe,dt)|0,j=Math.imul(pe,ht),B=B+Math.imul(Te,kt)|0,z=z+Math.imul(Te,St)|0,z=z+Math.imul(Ce,kt)|0,j=j+Math.imul(Ce,St)|0,B=B+Math.imul(He,je)|0,z=z+Math.imul(He,Ve)|0,z=z+Math.imul(te,je)|0,j=j+Math.imul(te,Ve)|0,B=B+Math.imul(ne,nt)|0,z=z+Math.imul(ne,Be)|0,z=z+Math.imul(be,nt)|0,j=j+Math.imul(be,Be)|0,B=B+Math.imul(_e,ot)|0,z=z+Math.imul(_e,yt)|0,z=z+Math.imul(ce,ot)|0,j=j+Math.imul(ce,yt)|0,B=B+Math.imul(Pe,Lt)|0,z=z+Math.imul(Pe,tr)|0,z=z+Math.imul(Oe,Lt)|0,j=j+Math.imul(Oe,tr)|0,B=B+Math.imul(X,Ct)|0,z=z+Math.imul(X,Zt)|0,z=z+Math.imul(ge,Ct)|0,j=j+Math.imul(ge,Zt)|0,B=B+Math.imul(se,gr)|0,z=z+Math.imul(se,Lr)|0,z=z+Math.imul(G,gr)|0,j=j+Math.imul(G,Lr)|0,B=B+Math.imul(ee,Or)|0,z=z+Math.imul(ee,vn)|0,z=z+Math.imul(ve,Or)|0,j=j+Math.imul(ve,vn)|0;var ua=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(ua>>>26)|0,ua&=67108863,B=Math.imul(Ue,dt),z=Math.imul(Ue,ht),z=z+Math.imul(et,dt)|0,j=Math.imul(et,ht),B=B+Math.imul(oe,kt)|0,z=z+Math.imul(oe,St)|0,z=z+Math.imul(pe,kt)|0,j=j+Math.imul(pe,St)|0,B=B+Math.imul(Te,je)|0,z=z+Math.imul(Te,Ve)|0,z=z+Math.imul(Ce,je)|0,j=j+Math.imul(Ce,Ve)|0,B=B+Math.imul(He,nt)|0,z=z+Math.imul(He,Be)|0,z=z+Math.imul(te,nt)|0,j=j+Math.imul(te,Be)|0,B=B+Math.imul(ne,ot)|0,z=z+Math.imul(ne,yt)|0,z=z+Math.imul(be,ot)|0,j=j+Math.imul(be,yt)|0,B=B+Math.imul(_e,Lt)|0,z=z+Math.imul(_e,tr)|0,z=z+Math.imul(ce,Lt)|0,j=j+Math.imul(ce,tr)|0,B=B+Math.imul(Pe,Ct)|0,z=z+Math.imul(Pe,Zt)|0,z=z+Math.imul(Oe,Ct)|0,j=j+Math.imul(Oe,Zt)|0,B=B+Math.imul(X,gr)|0,z=z+Math.imul(X,Lr)|0,z=z+Math.imul(ge,gr)|0,j=j+Math.imul(ge,Lr)|0,B=B+Math.imul(se,Or)|0,z=z+Math.imul(se,vn)|0,z=z+Math.imul(G,Or)|0,j=j+Math.imul(G,vn)|0,B=B+Math.imul(ee,Kr)|0,z=z+Math.imul(ee,Qr)|0,z=z+Math.imul(ve,Kr)|0,j=j+Math.imul(ve,Qr)|0;var Yi=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,B=Math.imul(Ue,kt),z=Math.imul(Ue,St),z=z+Math.imul(et,kt)|0,j=Math.imul(et,St),B=B+Math.imul(oe,je)|0,z=z+Math.imul(oe,Ve)|0,z=z+Math.imul(pe,je)|0,j=j+Math.imul(pe,Ve)|0,B=B+Math.imul(Te,nt)|0,z=z+Math.imul(Te,Be)|0,z=z+Math.imul(Ce,nt)|0,j=j+Math.imul(Ce,Be)|0,B=B+Math.imul(He,ot)|0,z=z+Math.imul(He,yt)|0,z=z+Math.imul(te,ot)|0,j=j+Math.imul(te,yt)|0,B=B+Math.imul(ne,Lt)|0,z=z+Math.imul(ne,tr)|0,z=z+Math.imul(be,Lt)|0,j=j+Math.imul(be,tr)|0,B=B+Math.imul(_e,Ct)|0,z=z+Math.imul(_e,Zt)|0,z=z+Math.imul(ce,Ct)|0,j=j+Math.imul(ce,Zt)|0,B=B+Math.imul(Pe,gr)|0,z=z+Math.imul(Pe,Lr)|0,z=z+Math.imul(Oe,gr)|0,j=j+Math.imul(Oe,Lr)|0,B=B+Math.imul(X,Or)|0,z=z+Math.imul(X,vn)|0,z=z+Math.imul(ge,Or)|0,j=j+Math.imul(ge,vn)|0,B=B+Math.imul(se,Kr)|0,z=z+Math.imul(se,Qr)|0,z=z+Math.imul(G,Kr)|0,j=j+Math.imul(G,Qr)|0;var xn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(xn>>>26)|0,xn&=67108863,B=Math.imul(Ue,je),z=Math.imul(Ue,Ve),z=z+Math.imul(et,je)|0,j=Math.imul(et,Ve),B=B+Math.imul(oe,nt)|0,z=z+Math.imul(oe,Be)|0,z=z+Math.imul(pe,nt)|0,j=j+Math.imul(pe,Be)|0,B=B+Math.imul(Te,ot)|0,z=z+Math.imul(Te,yt)|0,z=z+Math.imul(Ce,ot)|0,j=j+Math.imul(Ce,yt)|0,B=B+Math.imul(He,Lt)|0,z=z+Math.imul(He,tr)|0,z=z+Math.imul(te,Lt)|0,j=j+Math.imul(te,tr)|0,B=B+Math.imul(ne,Ct)|0,z=z+Math.imul(ne,Zt)|0,z=z+Math.imul(be,Ct)|0,j=j+Math.imul(be,Zt)|0,B=B+Math.imul(_e,gr)|0,z=z+Math.imul(_e,Lr)|0,z=z+Math.imul(ce,gr)|0,j=j+Math.imul(ce,Lr)|0,B=B+Math.imul(Pe,Or)|0,z=z+Math.imul(Pe,vn)|0,z=z+Math.imul(Oe,Or)|0,j=j+Math.imul(Oe,vn)|0,B=B+Math.imul(X,Kr)|0,z=z+Math.imul(X,Qr)|0,z=z+Math.imul(ge,Kr)|0,j=j+Math.imul(ge,Qr)|0;var ia=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(ia>>>26)|0,ia&=67108863,B=Math.imul(Ue,nt),z=Math.imul(Ue,Be),z=z+Math.imul(et,nt)|0,j=Math.imul(et,Be),B=B+Math.imul(oe,ot)|0,z=z+Math.imul(oe,yt)|0,z=z+Math.imul(pe,ot)|0,j=j+Math.imul(pe,yt)|0,B=B+Math.imul(Te,Lt)|0,z=z+Math.imul(Te,tr)|0,z=z+Math.imul(Ce,Lt)|0,j=j+Math.imul(Ce,tr)|0,B=B+Math.imul(He,Ct)|0,z=z+Math.imul(He,Zt)|0,z=z+Math.imul(te,Ct)|0,j=j+Math.imul(te,Zt)|0,B=B+Math.imul(ne,gr)|0,z=z+Math.imul(ne,Lr)|0,z=z+Math.imul(be,gr)|0,j=j+Math.imul(be,Lr)|0,B=B+Math.imul(_e,Or)|0,z=z+Math.imul(_e,vn)|0,z=z+Math.imul(ce,Or)|0,j=j+Math.imul(ce,vn)|0,B=B+Math.imul(Pe,Kr)|0,z=z+Math.imul(Pe,Qr)|0,z=z+Math.imul(Oe,Kr)|0,j=j+Math.imul(Oe,Qr)|0;var ti=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(ti>>>26)|0,ti&=67108863,B=Math.imul(Ue,ot),z=Math.imul(Ue,yt),z=z+Math.imul(et,ot)|0,j=Math.imul(et,yt),B=B+Math.imul(oe,Lt)|0,z=z+Math.imul(oe,tr)|0,z=z+Math.imul(pe,Lt)|0,j=j+Math.imul(pe,tr)|0,B=B+Math.imul(Te,Ct)|0,z=z+Math.imul(Te,Zt)|0,z=z+Math.imul(Ce,Ct)|0,j=j+Math.imul(Ce,Zt)|0,B=B+Math.imul(He,gr)|0,z=z+Math.imul(He,Lr)|0,z=z+Math.imul(te,gr)|0,j=j+Math.imul(te,Lr)|0,B=B+Math.imul(ne,Or)|0,z=z+Math.imul(ne,vn)|0,z=z+Math.imul(be,Or)|0,j=j+Math.imul(be,vn)|0,B=B+Math.imul(_e,Kr)|0,z=z+Math.imul(_e,Qr)|0,z=z+Math.imul(ce,Kr)|0,j=j+Math.imul(ce,Qr)|0;var co=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(co>>>26)|0,co&=67108863,B=Math.imul(Ue,Lt),z=Math.imul(Ue,tr),z=z+Math.imul(et,Lt)|0,j=Math.imul(et,tr),B=B+Math.imul(oe,Ct)|0,z=z+Math.imul(oe,Zt)|0,z=z+Math.imul(pe,Ct)|0,j=j+Math.imul(pe,Zt)|0,B=B+Math.imul(Te,gr)|0,z=z+Math.imul(Te,Lr)|0,z=z+Math.imul(Ce,gr)|0,j=j+Math.imul(Ce,Lr)|0,B=B+Math.imul(He,Or)|0,z=z+Math.imul(He,vn)|0,z=z+Math.imul(te,Or)|0,j=j+Math.imul(te,vn)|0,B=B+Math.imul(ne,Kr)|0,z=z+Math.imul(ne,Qr)|0,z=z+Math.imul(be,Kr)|0,j=j+Math.imul(be,Qr)|0;var fa=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(fa>>>26)|0,fa&=67108863,B=Math.imul(Ue,Ct),z=Math.imul(Ue,Zt),z=z+Math.imul(et,Ct)|0,j=Math.imul(et,Zt),B=B+Math.imul(oe,gr)|0,z=z+Math.imul(oe,Lr)|0,z=z+Math.imul(pe,gr)|0,j=j+Math.imul(pe,Lr)|0,B=B+Math.imul(Te,Or)|0,z=z+Math.imul(Te,vn)|0,z=z+Math.imul(Ce,Or)|0,j=j+Math.imul(Ce,vn)|0,B=B+Math.imul(He,Kr)|0,z=z+Math.imul(He,Qr)|0,z=z+Math.imul(te,Kr)|0,j=j+Math.imul(te,Qr)|0;var Ea=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,B=Math.imul(Ue,gr),z=Math.imul(Ue,Lr),z=z+Math.imul(et,gr)|0,j=Math.imul(et,Lr),B=B+Math.imul(oe,Or)|0,z=z+Math.imul(oe,vn)|0,z=z+Math.imul(pe,Or)|0,j=j+Math.imul(pe,vn)|0,B=B+Math.imul(Te,Kr)|0,z=z+Math.imul(Te,Qr)|0,z=z+Math.imul(Ce,Kr)|0,j=j+Math.imul(Ce,Qr)|0;var Qn=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,B=Math.imul(Ue,Or),z=Math.imul(Ue,vn),z=z+Math.imul(et,Or)|0,j=Math.imul(et,vn),B=B+Math.imul(oe,Kr)|0,z=z+Math.imul(oe,Qr)|0,z=z+Math.imul(pe,Kr)|0,j=j+Math.imul(pe,Qr)|0;var Ki=(K+B|0)+((z&8191)<<13)|0;K=(j+(z>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,B=Math.imul(Ue,Kr),z=Math.imul(Ue,Qr),z=z+Math.imul(et,Kr)|0,j=Math.imul(et,Qr);var ho=(K+B|0)+((z&8191)<<13)|0;return K=(j+(z>>>13)|0)+(ho>>>26)|0,ho&=67108863,Y[0]=kn,Y[1]=Vn,Y[2]=Tn,Y[3]=Nn,Y[4]=ci,Y[5]=On,Y[6]=Sn,Y[7]=_i,Y[8]=ua,Y[9]=Yi,Y[10]=xn,Y[11]=ia,Y[12]=ti,Y[13]=co,Y[14]=fa,Y[15]=Ea,Y[16]=Qn,Y[17]=Ki,Y[18]=ho,K!==0&&(Y[19]=K,N.length++),N};Math.imul||(A=g);function w(q,C,F){F.negative=C.negative^q.negative,F.length=q.length+C.length;for(var N=0,U=0,V=0;V<F.length-1;V++){var Y=U;U=0;for(var K=N&67108863,B=Math.min(V,C.length-1),z=Math.max(0,V-q.length+1);z<=B;z++){var j=V-z,ae=q.words[j]|0,ee=C.words[z]|0,ve=ae*ee,fe=ve&67108863;Y=Y+(ve/67108864|0)|0,fe=fe+K|0,K=fe&67108863,Y=Y+(fe>>>26)|0,U+=Y>>>26,Y&=67108863}F.words[V]=K,N=Y,Y=U}return N!==0?F.words[V]=N:F.length--,F.strip()}function k(q,C,F){var N=new p;return N.mulp(q,C,F)}f.prototype.mulTo=function(C,F){var N,U=this.length+C.length;return this.length===10&&C.length===10?N=A(this,C,F):U<63?N=g(this,C,F):U<1024?N=w(this,C,F):N=k(this,C,F),N};function p(q,C){this.x=q,this.y=C}p.prototype.makeRBT=function(C){for(var F=new Array(C),N=f.prototype._countBits(C)-1,U=0;U<C;U++)F[U]=this.revBin(U,N,C);return F},p.prototype.revBin=function(C,F,N){if(C===0||C===N-1)return C;for(var U=0,V=0;V<F;V++)U|=(C&1)<<F-V-1,C>>=1;return U},p.prototype.permute=function(C,F,N,U,V,Y){for(var K=0;K<Y;K++)U[K]=F[C[K]],V[K]=N[C[K]]},p.prototype.transform=function(C,F,N,U,V,Y){this.permute(Y,C,F,N,U,V);for(var K=1;K<V;K<<=1)for(var B=K<<1,z=Math.cos(2*Math.PI/B),j=Math.sin(2*Math.PI/B),ae=0;ae<V;ae+=B)for(var ee=z,ve=j,fe=0;fe<K;fe++){var se=N[ae+fe],G=U[ae+fe],Z=N[ae+fe+K],X=U[ae+fe+K],ge=ee*Z-ve*X;X=ee*X+ve*Z,Z=ge,N[ae+fe]=se+Z,U[ae+fe]=G+X,N[ae+fe+K]=se-Z,U[ae+fe+K]=G-X,fe!==B&&(ge=z*ee-j*ve,ve=z*ve+j*ee,ee=ge)}},p.prototype.guessLen13b=function(C,F){var N=Math.max(F,C)|1,U=N&1,V=0;for(N=N/2|0;N;N=N>>>1)V++;return 1<<V+1+U},p.prototype.conjugate=function(C,F,N){if(!(N<=1))for(var U=0;U<N/2;U++){var V=C[U];C[U]=C[N-U-1],C[N-U-1]=V,V=F[U],F[U]=-F[N-U-1],F[N-U-1]=-V}},p.prototype.normalize13b=function(C,F){for(var N=0,U=0;U<F/2;U++){var V=Math.round(C[2*U+1]/F)*8192+Math.round(C[2*U]/F)+N;C[U]=V&67108863,V<67108864?N=0:N=V/67108864|0}return C},p.prototype.convert13b=function(C,F,N,U){for(var V=0,Y=0;Y<F;Y++)V=V+(C[Y]|0),N[2*Y]=V&8191,V=V>>>13,N[2*Y+1]=V&8191,V=V>>>13;for(Y=2*F;Y<U;++Y)N[Y]=0;l(V===0),l((V&-8192)===0)},p.prototype.stub=function(C){for(var F=new Array(C),N=0;N<C;N++)F[N]=0;return F},p.prototype.mulp=function(C,F,N){var U=2*this.guessLen13b(C.length,F.length),V=this.makeRBT(U),Y=this.stub(U),K=new Array(U),B=new Array(U),z=new Array(U),j=new Array(U),ae=new Array(U),ee=new Array(U),ve=N.words;ve.length=U,this.convert13b(C.words,C.length,K,U),this.convert13b(F.words,F.length,j,U),this.transform(K,Y,B,z,U,V),this.transform(j,Y,ae,ee,U,V);for(var fe=0;fe<U;fe++){var se=B[fe]*ae[fe]-z[fe]*ee[fe];z[fe]=B[fe]*ee[fe]+z[fe]*ae[fe],B[fe]=se}return this.conjugate(B,z,U),this.transform(B,z,ve,Y,U,V),this.conjugate(ve,Y,U),this.normalize13b(ve,U),N.negative=C.negative^F.negative,N.length=C.length+F.length,N.strip()},f.prototype.mul=function(C){var F=new f(null);return F.words=new Array(this.length+C.length),this.mulTo(C,F)},f.prototype.mulf=function(C){var F=new f(null);return F.words=new Array(this.length+C.length),k(this,C,F)},f.prototype.imul=function(C){return this.clone().mulTo(C,this)},f.prototype.imuln=function(C){l(typeof C=="number"),l(C<67108864);for(var F=0,N=0;N<this.length;N++){var U=(this.words[N]|0)*C,V=(U&67108863)+(F&67108863);F>>=26,F+=U/67108864|0,F+=V>>>26,this.words[N]=V&67108863}return F!==0&&(this.words[N]=F,this.length++),this},f.prototype.muln=function(C){return this.clone().imuln(C)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(C){var F=_(C);if(F.length===0)return new f(1);for(var N=this,U=0;U<F.length&&F[U]===0;U++,N=N.sqr());if(++U<F.length)for(var V=N.sqr();U<F.length;U++,V=V.sqr())F[U]!==0&&(N=N.mul(V));return N},f.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var F=C%26,N=(C-F)/26,U=67108863>>>26-F<<26-F,V;if(F!==0){var Y=0;for(V=0;V<this.length;V++){var K=this.words[V]&U,B=(this.words[V]|0)-K<<F;this.words[V]=B|Y,Y=K>>>26-F}Y&&(this.words[V]=Y,this.length++)}if(N!==0){for(V=this.length-1;V>=0;V--)this.words[V+N]=this.words[V];for(V=0;V<N;V++)this.words[V]=0;this.length+=N}return this.strip()},f.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},f.prototype.iushrn=function(C,F,N){l(typeof C=="number"&&C>=0);var U;F?U=(F-F%26)/26:U=0;var V=C%26,Y=Math.min((C-V)/26,this.length),K=67108863^67108863>>>V<<V,B=N;if(U-=Y,U=Math.max(0,U),B){for(var z=0;z<Y;z++)B.words[z]=this.words[z];B.length=Y}if(Y!==0)if(this.length>Y)for(this.length-=Y,z=0;z<this.length;z++)this.words[z]=this.words[z+Y];else this.words[0]=0,this.length=1;var j=0;for(z=this.length-1;z>=0&&(j!==0||z>=U);z--){var ae=this.words[z]|0;this.words[z]=j<<26-V|ae>>>V,j=ae&K}return B&&j!==0&&(B.words[B.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(C,F,N){return l(this.negative===0),this.iushrn(C,F,N)},f.prototype.shln=function(C){return this.clone().ishln(C)},f.prototype.ushln=function(C){return this.clone().iushln(C)},f.prototype.shrn=function(C){return this.clone().ishrn(C)},f.prototype.ushrn=function(C){return this.clone().iushrn(C)},f.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var F=C%26,N=(C-F)/26,U=1<<F;if(this.length<=N)return!1;var V=this.words[N];return!!(V&U)},f.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var F=C%26,N=(C-F)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(F!==0&&N++,this.length=Math.min(N,this.length),F!==0){var U=67108863^67108863>>>F<<F;this.words[this.length-1]&=U}return this.strip()},f.prototype.maskn=function(C){return this.clone().imaskn(C)},f.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},f.prototype._iaddn=function(C){this.words[0]+=C;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},f.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},f.prototype.addn=function(C){return this.clone().iaddn(C)},f.prototype.subn=function(C){return this.clone().isubn(C)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(C,F,N){var U=C.length+N,V;this._expand(U);var Y,K=0;for(V=0;V<C.length;V++){Y=(this.words[V+N]|0)+K;var B=(C.words[V]|0)*F;Y-=B&67108863,K=(Y>>26)-(B/67108864|0),this.words[V+N]=Y&67108863}for(;V<this.length-N;V++)Y=(this.words[V+N]|0)+K,K=Y>>26,this.words[V+N]=Y&67108863;if(K===0)return this.strip();for(l(K===-1),K=0,V=0;V<this.length;V++)Y=-(this.words[V]|0)+K,K=Y>>26,this.words[V]=Y&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(C,F){var N=this.length-C.length,U=this.clone(),V=C,Y=V.words[V.length-1]|0,K=this._countBits(Y);N=26-K,N!==0&&(V=V.ushln(N),U.iushln(N),Y=V.words[V.length-1]|0);var B=U.length-V.length,z;if(F!=="mod"){z=new f(null),z.length=B+1,z.words=new Array(z.length);for(var j=0;j<z.length;j++)z.words[j]=0}var ae=U.clone()._ishlnsubmul(V,1,B);ae.negative===0&&(U=ae,z&&(z.words[B]=1));for(var ee=B-1;ee>=0;ee--){var ve=(U.words[V.length+ee]|0)*67108864+(U.words[V.length+ee-1]|0);for(ve=Math.min(ve/Y|0,67108863),U._ishlnsubmul(V,ve,ee);U.negative!==0;)ve--,U.negative=0,U._ishlnsubmul(V,1,ee),U.isZero()||(U.negative^=1);z&&(z.words[ee]=ve)}return z&&z.strip(),U.strip(),F!=="div"&&N!==0&&U.iushrn(N),{div:z||null,mod:U}},f.prototype.divmod=function(C,F,N){if(l(!C.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var U,V,Y;return this.negative!==0&&C.negative===0?(Y=this.neg().divmod(C,F),F!=="mod"&&(U=Y.div.neg()),F!=="div"&&(V=Y.mod.neg(),N&&V.negative!==0&&V.iadd(C)),{div:U,mod:V}):this.negative===0&&C.negative!==0?(Y=this.divmod(C.neg(),F),F!=="mod"&&(U=Y.div.neg()),{div:U,mod:Y.mod}):this.negative&C.negative?(Y=this.neg().divmod(C.neg(),F),F!=="div"&&(V=Y.mod.neg(),N&&V.negative!==0&&V.isub(C)),{div:Y.div,mod:V}):C.length>this.length||this.cmp(C)<0?{div:new f(0),mod:this}:C.length===1?F==="div"?{div:this.divn(C.words[0]),mod:null}:F==="mod"?{div:null,mod:new f(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new f(this.modn(C.words[0]))}:this._wordDiv(C,F)},f.prototype.div=function(C){return this.divmod(C,"div",!1).div},f.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},f.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},f.prototype.divRound=function(C){var F=this.divmod(C);if(F.mod.isZero())return F.div;var N=F.div.negative!==0?F.mod.isub(C):F.mod,U=C.ushrn(1),V=C.andln(1),Y=N.cmp(U);return Y<0||V===1&&Y===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},f.prototype.modn=function(C){l(C<=67108863);for(var F=(1<<26)%C,N=0,U=this.length-1;U>=0;U--)N=(F*N+(this.words[U]|0))%C;return N},f.prototype.idivn=function(C){l(C<=67108863);for(var F=0,N=this.length-1;N>=0;N--){var U=(this.words[N]|0)+F*67108864;this.words[N]=U/C|0,F=U%C}return this.strip()},f.prototype.divn=function(C){return this.clone().idivn(C)},f.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var F=this,N=C.clone();F.negative!==0?F=F.umod(C):F=F.clone();for(var U=new f(1),V=new f(0),Y=new f(0),K=new f(1),B=0;F.isEven()&&N.isEven();)F.iushrn(1),N.iushrn(1),++B;for(var z=N.clone(),j=F.clone();!F.isZero();){for(var ae=0,ee=1;!(F.words[0]&ee)&&ae<26;++ae,ee<<=1);if(ae>0)for(F.iushrn(ae);ae-- >0;)(U.isOdd()||V.isOdd())&&(U.iadd(z),V.isub(j)),U.iushrn(1),V.iushrn(1);for(var ve=0,fe=1;!(N.words[0]&fe)&&ve<26;++ve,fe<<=1);if(ve>0)for(N.iushrn(ve);ve-- >0;)(Y.isOdd()||K.isOdd())&&(Y.iadd(z),K.isub(j)),Y.iushrn(1),K.iushrn(1);F.cmp(N)>=0?(F.isub(N),U.isub(Y),V.isub(K)):(N.isub(F),Y.isub(U),K.isub(V))}return{a:Y,b:K,gcd:N.iushln(B)}},f.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var F=this,N=C.clone();F.negative!==0?F=F.umod(C):F=F.clone();for(var U=new f(1),V=new f(0),Y=N.clone();F.cmpn(1)>0&&N.cmpn(1)>0;){for(var K=0,B=1;!(F.words[0]&B)&&K<26;++K,B<<=1);if(K>0)for(F.iushrn(K);K-- >0;)U.isOdd()&&U.iadd(Y),U.iushrn(1);for(var z=0,j=1;!(N.words[0]&j)&&z<26;++z,j<<=1);if(z>0)for(N.iushrn(z);z-- >0;)V.isOdd()&&V.iadd(Y),V.iushrn(1);F.cmp(N)>=0?(F.isub(N),U.isub(V)):(N.isub(F),V.isub(U))}var ae;return F.cmpn(1)===0?ae=U:ae=V,ae.cmpn(0)<0&&ae.iadd(C),ae},f.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var F=this.clone(),N=C.clone();F.negative=0,N.negative=0;for(var U=0;F.isEven()&&N.isEven();U++)F.iushrn(1),N.iushrn(1);do{for(;F.isEven();)F.iushrn(1);for(;N.isEven();)N.iushrn(1);var V=F.cmp(N);if(V<0){var Y=F;F=N,N=Y}else if(V===0||N.cmpn(1)===0)break;F.isub(N)}while(!0);return N.iushln(U)},f.prototype.invm=function(C){return this.egcd(C).a.umod(C)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(C){return this.words[0]&C},f.prototype.bincn=function(C){l(typeof C=="number");var F=C%26,N=(C-F)/26,U=1<<F;if(this.length<=N)return this._expand(N+1),this.words[N]|=U,this;for(var V=U,Y=N;V!==0&&Y<this.length;Y++){var K=this.words[Y]|0;K+=V,V=K>>>26,K&=67108863,this.words[Y]=K}return V!==0&&(this.words[Y]=V,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(C){var F=C<0;if(this.negative!==0&&!F)return-1;if(this.negative===0&&F)return 1;this.strip();var N;if(this.length>1)N=1;else{F&&(C=-C),l(C<=67108863,"Number is too big");var U=this.words[0]|0;N=U===C?0:U<C?-1:1}return this.negative!==0?-N|0:N},f.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var F=this.ucmp(C);return this.negative!==0?-F|0:F},f.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var F=0,N=this.length-1;N>=0;N--){var U=this.words[N]|0,V=C.words[N]|0;if(U!==V){U<V?F=-1:U>V&&(F=1);break}}return F},f.prototype.gtn=function(C){return this.cmpn(C)===1},f.prototype.gt=function(C){return this.cmp(C)===1},f.prototype.gten=function(C){return this.cmpn(C)>=0},f.prototype.gte=function(C){return this.cmp(C)>=0},f.prototype.ltn=function(C){return this.cmpn(C)===-1},f.prototype.lt=function(C){return this.cmp(C)===-1},f.prototype.lten=function(C){return this.cmpn(C)<=0},f.prototype.lte=function(C){return this.cmp(C)<=0},f.prototype.eqn=function(C){return this.cmpn(C)===0},f.prototype.eq=function(C){return this.cmp(C)===0},f.red=function(C){return new D(C)},f.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},f.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(C){return this.red=C,this},f.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},f.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},f.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},f.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},f.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},f.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},f.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},f.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},f.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var d={k256:null,p224:null,p192:null,p25519:null};function M(q,C){this.name=q,this.p=new f(C,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var C=new f(null);return C.words=new Array(Math.ceil(this.n/13)),C},M.prototype.ireduce=function(C){var F=C,N;do this.split(F,this.tmp),F=this.imulK(F),F=F.iadd(this.tmp),N=F.bitLength();while(N>this.n);var U=N<this.n?-1:F.ucmp(this.p);return U===0?(F.words[0]=0,F.length=1):U>0?F.isub(this.p):F.strip!==void 0?F.strip():F._strip(),F},M.prototype.split=function(C,F){C.iushrn(this.n,0,F)},M.prototype.imulK=function(C){return C.imul(this.k)};function T(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(T,M),T.prototype.split=function(C,F){for(var N=4194303,U=Math.min(C.length,9),V=0;V<U;V++)F.words[V]=C.words[V];if(F.length=U,C.length<=9){C.words[0]=0,C.length=1;return}var Y=C.words[9];for(F.words[F.length++]=Y&N,V=10;V<C.length;V++){var K=C.words[V]|0;C.words[V-10]=(K&N)<<4|Y>>>22,Y=K}Y>>>=22,C.words[V-10]=Y,Y===0&&C.length>10?C.length-=10:C.length-=9},T.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var F=0,N=0;N<C.length;N++){var U=C.words[N]|0;F+=U*977,C.words[N]=F&67108863,F=U*64+(F/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function S(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(S,M);function E(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(E,M);function L(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(L,M),L.prototype.imulK=function(C){for(var F=0,N=0;N<C.length;N++){var U=(C.words[N]|0)*19+F,V=U&67108863;U>>>=26,C.words[N]=V,F=U}return F!==0&&(C.words[C.length++]=F),C},f._prime=function(C){if(d[C])return d[C];var F;if(C==="k256")F=new T;else if(C==="p224")F=new S;else if(C==="p192")F=new E;else if(C==="p25519")F=new L;else throw new Error("Unknown prime "+C);return d[C]=F,F};function D(q){if(typeof q=="string"){var C=f._prime(q);this.m=C.p,this.prime=C}else l(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}D.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},D.prototype._verify2=function(C,F){l((C.negative|F.negative)===0,"red works only with positives"),l(C.red&&C.red===F.red,"red works only with red numbers")},D.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},D.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},D.prototype.add=function(C,F){this._verify2(C,F);var N=C.add(F);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},D.prototype.iadd=function(C,F){this._verify2(C,F);var N=C.iadd(F);return N.cmp(this.m)>=0&&N.isub(this.m),N},D.prototype.sub=function(C,F){this._verify2(C,F);var N=C.sub(F);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},D.prototype.isub=function(C,F){this._verify2(C,F);var N=C.isub(F);return N.cmpn(0)<0&&N.iadd(this.m),N},D.prototype.shl=function(C,F){return this._verify1(C),this.imod(C.ushln(F))},D.prototype.imul=function(C,F){return this._verify2(C,F),this.imod(C.imul(F))},D.prototype.mul=function(C,F){return this._verify2(C,F),this.imod(C.mul(F))},D.prototype.isqr=function(C){return this.imul(C,C.clone())},D.prototype.sqr=function(C){return this.mul(C,C)},D.prototype.sqrt=function(C){if(C.isZero())return C.clone();var F=this.m.andln(3);if(l(F%2===1),F===3){var N=this.m.add(new f(1)).iushrn(2);return this.pow(C,N)}for(var U=this.m.subn(1),V=0;!U.isZero()&&U.andln(1)===0;)V++,U.iushrn(1);l(!U.isZero());var Y=new f(1).toRed(this),K=Y.redNeg(),B=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new f(2*z*z).toRed(this);this.pow(z,B).cmp(K)!==0;)z.redIAdd(K);for(var j=this.pow(z,U),ae=this.pow(C,U.addn(1).iushrn(1)),ee=this.pow(C,U),ve=V;ee.cmp(Y)!==0;){for(var fe=ee,se=0;fe.cmp(Y)!==0;se++)fe=fe.redSqr();l(se<ve);var G=this.pow(j,new f(1).iushln(ve-se-1));ae=ae.redMul(G),j=G.redSqr(),ee=ee.redMul(j),ve=se}return ae},D.prototype.invm=function(C){var F=C._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},D.prototype.pow=function(C,F){if(F.isZero())return new f(1).toRed(this);if(F.cmpn(1)===0)return C.clone();var N=4,U=new Array(1<<N);U[0]=new f(1).toRed(this),U[1]=C;for(var V=2;V<U.length;V++)U[V]=this.mul(U[V-1],C);var Y=U[0],K=0,B=0,z=F.bitLength()%26;for(z===0&&(z=26),V=F.length-1;V>=0;V--){for(var j=F.words[V],ae=z-1;ae>=0;ae--){var ee=j>>ae&1;if(Y!==U[0]&&(Y=this.sqr(Y)),ee===0&&K===0){B=0;continue}K<<=1,K|=ee,B++,!(B!==N&&(V!==0||ae!==0))&&(Y=this.mul(Y,U[K]),B=0,K=0)}z=26}return Y},D.prototype.convertTo=function(C){var F=C.umod(this.m);return F===C?F.clone():F},D.prototype.convertFrom=function(C){var F=C.clone();return F.red=null,F},f.mont=function(C){return new R(C)};function R(q){D.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(R,D),R.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},R.prototype.convertFrom=function(C){var F=this.imod(C.mul(this.rinv));return F.red=null,F},R.prototype.imul=function(C,F){if(C.isZero()||F.isZero())return C.words[0]=0,C.length=1,C;var N=C.imul(F),U=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=N.isub(U).iushrn(this.shift),Y=V;return V.cmp(this.m)>=0?Y=V.isub(this.m):V.cmpn(0)<0&&(Y=V.iadd(this.m)),Y._forceRed(this)},R.prototype.mul=function(C,F){if(C.isZero()||F.isZero())return new f(0)._forceRed(this);var N=C.mul(F),U=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=N.isub(U).iushrn(this.shift),Y=V;return V.cmp(this.m)>=0?Y=V.isub(this.m):V.cmpn(0)<0&&(Y=V.iadd(this.m)),Y._forceRed(this)},R.prototype.invm=function(C){var F=this.imod(C._invmp(this.m).mul(this.r2));return F._forceRed(this)}})(typeof i>"u"||i,this)},{buffer:2}],34:[function(n,i,a){"use strict";i.exports=o;function o(s){var l,u,f,c=s.length,h=0;for(l=0;l<c;++l)h+=s[l].length;var v=new Array(h),b=0;for(l=0;l<c;++l){var y=s[l],x=y.length;for(u=0;u<x;++u){var m=v[b++]=new Array(x-1),_=0;for(f=0;f<x;++f)f!==u&&(m[_++]=y[f]);if(u&1){var g=m[1];m[1]=m[0],m[0]=g}}}return v}},{}],35:[function(n,i,a){"use strict";i.exports=x;var o=n("typedarray-pool"),s=n("./lib/sweep"),l=n("./lib/intersect");function u(m,_){for(var g=0;g<m;++g)if(!(_[g]<=_[g+m]))return!0;return!1}function f(m,_,g,A){for(var w=0,k=0,p=0,d=m.length;p<d;++p){var M=m[p];if(!u(_,M)){for(var T=0;T<2*_;++T)g[w++]=M[T];A[k++]=p}}return k}function c(m,_,g,A){var w=m.length,k=_.length;if(!(w<=0||k<=0)){var p=m[0].length>>>1;if(!(p<=0)){var d,M=o.mallocDouble(2*p*w),T=o.mallocInt32(w);if(w=f(m,p,M,T),w>0){if(p===1&&A)s.init(w),d=s.sweepComplete(p,g,0,w,M,T,0,w,M,T);else{var S=o.mallocDouble(2*p*k),E=o.mallocInt32(k);k=f(_,p,S,E),k>0&&(s.init(w+k),p===1?d=s.sweepBipartite(p,g,0,w,M,T,0,k,S,E):d=l(p,g,A,w,M,T,k,S,E),o.free(S),o.free(E))}o.free(M),o.free(T)}return d}}}var h;function v(m,_){h.push([m,_])}function b(m){return h=[],c(m,m,v,!0),h}function y(m,_){return h=[],c(m,_,v,!1),h}function x(m,_,g){switch(arguments.length){case 1:return b(m);case 2:return typeof _=="function"?c(m,m,_,!0):y(m,_);case 3:return c(m,_,g,!1);default:throw new Error("box-intersect: Invalid arguments")}}},{"./lib/intersect":37,"./lib/sweep":41,"typedarray-pool":308}],36:[function(n,i,a){"use strict";function o(){function u(h,v,b,y,x,m,_,g,A,w,k){for(var p=2*h,d=y,M=p*y;d<x;++d,M+=p){var T=m[v+M],S=m[v+M+h],E=_[d];e:for(var L=g,D=p*g;L<A;++L,D+=p){var R=w[v+D],q=w[v+D+h],C=k[L];if(!(q<T||S<R)){for(var F=v+1;F<h;++F){var N=m[F+M],U=m[F+h+M],V=w[F+D],Y=w[F+h+D];if(U<V||Y<N)continue e}var K=b(E,C);if(K!==void 0)return K}}}}function f(h,v,b,y,x,m,_,g,A,w,k){for(var p=2*h,d=g,M=p*g;d<A;++d,M+=p){var T=w[v+M],S=w[v+M+h],E=k[d];e:for(var L=y,D=p*y;L<x;++L,D+=p){var R=m[v+D],q=m[v+D+h],C=_[L];if(!(S<R||q<T)){for(var F=v+1;F<h;++F){var N=m[F+D],U=m[F+h+D],V=w[F+M],Y=w[F+h+M];if(U<V||Y<N)continue e}var K=b(C,E);if(K!==void 0)return K}}}}function c(h,v,b,y,x,m,_,g,A,w,k){return x-y>A-g?u(h,v,b,y,x,m,_,g,A,w,k):f(h,v,b,y,x,m,_,g,A,w,k)}return c}function s(){function u(b,y,x,m,_,g,A,w,k,p,d){for(var M=2*b,T=m,S=M*m;T<_;++T,S+=M){var E=g[y+S],L=g[y+S+b],D=A[T];e:for(var R=w,q=M*w;R<k;++R,q+=M){var C=p[y+q],F=d[R];if(!(C<=E||L<C)){for(var N=y+1;N<b;++N){var U=g[N+S],V=g[N+b+S],Y=p[N+q],K=p[N+b+q];if(V<Y||K<U)continue e}var B=x(F,D);if(B!==void 0)return B}}}}function f(b,y,x,m,_,g,A,w,k,p,d){for(var M=2*b,T=m,S=M*m;T<_;++T,S+=M){var E=g[y+S],L=g[y+S+b],D=A[T];e:for(var R=w,q=M*w;R<k;++R,q+=M){var C=p[y+q],F=d[R];if(!(C<E||L<C)){for(var N=y+1;N<b;++N){var U=g[N+S],V=g[N+b+S],Y=p[N+q],K=p[N+b+q];if(V<Y||K<U)continue e}var B=x(D,F);if(B!==void 0)return B}}}}function c(b,y,x,m,_,g,A,w,k,p,d){for(var M=2*b,T=w,S=M*w;T<k;++T,S+=M){var E=p[y+S],L=d[T];e:for(var D=m,R=M*m;D<_;++D,R+=M){var q=g[y+R],C=g[y+R+b],F=A[D];if(!(E<=q||C<E)){for(var N=y+1;N<b;++N){var U=g[N+R],V=g[N+b+R],Y=p[N+S],K=p[N+b+S];if(V<Y||K<U)continue e}var B=x(L,F);if(B!==void 0)return B}}}}function h(b,y,x,m,_,g,A,w,k,p,d){for(var M=2*b,T=w,S=M*w;T<k;++T,S+=M){var E=p[y+S],L=d[T];e:for(var D=m,R=M*m;D<_;++D,R+=M){var q=g[y+R],C=g[y+R+b],F=A[D];if(!(E<q||C<E)){for(var N=y+1;N<b;++N){var U=g[N+R],V=g[N+b+R],Y=p[N+S],K=p[N+b+S];if(V<Y||K<U)continue e}var B=x(F,L);if(B!==void 0)return B}}}}function v(b,y,x,m,_,g,A,w,k,p,d,M){return g-_>p-k?m?u(b,y,x,_,g,A,w,k,p,d,M):f(b,y,x,_,g,A,w,k,p,d,M):m?c(b,y,x,_,g,A,w,k,p,d,M):h(b,y,x,_,g,A,w,k,p,d,M)}return v}function l(u){return u?o():s()}a.partial=l(!1),a.full=l(!0)},{}],37:[function(n,i,a){"use strict";i.exports=q;var o=n("typedarray-pool"),s=n("bit-twiddle"),l=n("./brute"),u=l.partial,f=l.full,c=n("./sweep"),h=n("./median"),v=n("./partition"),b=128,y=1<<22,x=1<<22,m=v("!(lo>=p0)&&!(p1>=hi)"),_=v("lo===p0"),g=v("lo<p0"),A=v("hi<=p0"),w=v("lo<=p0&&p0<=hi"),k=v("lo<p0&&p0<=hi"),p=6,d=2,M=1024,T=o.mallocInt32(M),S=o.mallocDouble(M);function E(C,F){var N=8*s.log2(F+1)*(C+1)|0,U=s.nextPow2(p*N);T.length<U&&(o.free(T),T=o.mallocInt32(U));var V=s.nextPow2(d*N);S.length<V&&(o.free(S),S=o.mallocDouble(V))}function L(C,F,N,U,V,Y,K,B,z){var j=p*C;T[j]=F,T[j+1]=N,T[j+2]=U,T[j+3]=V,T[j+4]=Y,T[j+5]=K;var ae=d*C;S[ae]=B,S[ae+1]=z}function D(C,F,N,U,V,Y,K,B,z,j,ae){var ee=2*C,ve=z*ee,fe=j[ve+F];e:for(var se=V,G=V*ee;se<Y;++se,G+=ee){var Z=K[G+F],X=K[G+F+C];if(!(fe<Z||X<fe)&&!(U&&fe===Z)){for(var ge=B[se],qe=F+1;qe<C;++qe){var Z=K[G+qe],X=K[G+qe+C],Pe=j[ve+qe],Oe=j[ve+qe+C];if(X<Pe||Oe<Z)continue e}var de;if(U?de=N(ae,ge):de=N(ge,ae),de!==void 0)return de}}}function R(C,F,N,U,V,Y,K,B,z,j){var ae=2*C,ee=B*ae,ve=z[ee+F];e:for(var fe=U,se=U*ae;fe<V;++fe,se+=ae){var G=K[fe];if(G!==j){var Z=Y[se+F],X=Y[se+F+C];if(!(ve<Z||X<ve)){for(var ge=F+1;ge<C;++ge){var Z=Y[se+ge],X=Y[se+ge+C],qe=z[ee+ge],Pe=z[ee+ge+C];if(X<qe||Pe<Z)continue e}var Oe=N(G,j);if(Oe!==void 0)return Oe}}}}function q(C,F,N,U,V,Y,K,B,z){E(C,U+K);var j=0,ae=2*C,ee;for(L(j++,0,0,U,0,K,N?16:0,-1/0,1/0),N||L(j++,0,0,K,0,U,1,-1/0,1/0);j>0;){j-=1;var ve=j*p,fe=T[ve],se=T[ve+1],G=T[ve+2],Z=T[ve+3],X=T[ve+4],ge=T[ve+5],qe=j*d,Pe=S[qe],Oe=S[qe+1],de=ge&1,_e=!!(ge&16),ce=V,J=Y,ne=B,be=z;if(de&&(ce=B,J=z,ne=V,be=Y),!(ge&2&&(G=g(C,fe,se,G,ce,J,Oe),se>=G))&&!(ge&4&&(se=A(C,fe,se,G,ce,J,Pe),se>=G))){var Fe=G-se,He=X-Z;if(_e){if(C*Fe*(Fe+He)<x){if(ee=c.scanComplete(C,fe,F,se,G,ce,J,Z,X,ne,be),ee!==void 0)return ee;continue}}else if(C*Math.min(Fe,He)<b){if(ee=u(C,fe,F,de,se,G,ce,J,Z,X,ne,be),ee!==void 0)return ee;continue}else if(C*Fe*He<y){if(ee=c.scanBipartite(C,fe,F,de,se,G,ce,J,Z,X,ne,be),ee!==void 0)return ee;continue}var te=m(C,fe,se,G,ce,J,Pe,Oe);if(se<te)if(C*(te-se)<b){if(ee=f(C,fe+1,F,se,te,ce,J,Z,X,ne,be),ee!==void 0)return ee}else if(fe===C-2){if(de?ee=c.sweepBipartite(C,F,Z,X,ne,be,se,te,ce,J):ee=c.sweepBipartite(C,F,se,te,ce,J,Z,X,ne,be),ee!==void 0)return ee}else L(j++,fe+1,se,te,Z,X,de,-1/0,1/0),L(j++,fe+1,Z,X,se,te,de^1,-1/0,1/0);if(te<G){var ye=h(C,fe,Z,X,ne,be),Te=ne[ae*ye+fe],Ce=_(C,fe,ye,X,ne,be,Te);if(Ce<X&&L(j++,fe,te,G,Ce,X,(de|4)+(_e?16:0),Te,Oe),Z<ye&&L(j++,fe,te,G,Z,ye,(de|2)+(_e?16:0),Pe,Te),ye+1===Ce){if(_e?ee=R(C,fe,F,te,G,ce,J,ye,ne,be[ye]):ee=D(C,fe,F,de,te,G,ce,J,ye,ne,be[ye]),ee!==void 0)return ee}else if(ye<Ce){var De;if(_e){if(De=w(C,fe,te,G,ce,J,Te),te<De){var oe=_(C,fe,te,De,ce,J,Te);if(fe===C-2){if(te<oe&&(ee=c.sweepComplete(C,F,te,oe,ce,J,ye,Ce,ne,be),ee!==void 0)||oe<De&&(ee=c.sweepBipartite(C,F,oe,De,ce,J,ye,Ce,ne,be),ee!==void 0))return ee}else te<oe&&L(j++,fe+1,te,oe,ye,Ce,16,-1/0,1/0),oe<De&&(L(j++,fe+1,oe,De,ye,Ce,0,-1/0,1/0),L(j++,fe+1,ye,Ce,oe,De,1,-1/0,1/0))}}else de?De=k(C,fe,te,G,ce,J,Te):De=w(C,fe,te,G,ce,J,Te),te<De&&(fe===C-2?de?ee=c.sweepBipartite(C,F,ye,Ce,ne,be,te,De,ce,J):ee=c.sweepBipartite(C,F,te,De,ce,J,ye,Ce,ne,be):(L(j++,fe+1,te,De,ye,Ce,de,-1/0,1/0),L(j++,fe+1,ye,Ce,te,De,de^1,-1/0,1/0)))}}}}}},{"./brute":36,"./median":38,"./partition":39,"./sweep":41,"bit-twiddle":32,"typedarray-pool":308}],38:[function(n,i,a){"use strict";i.exports=f;var o=n("./partition"),s=o("lo<p0"),l=8;function u(c,h,v,b,y,x){for(var m=2*c,_=m*(v+1)+h,g=v+1;g<b;++g,_+=m)for(var A=y[_],w=g,k=m*(g-1);w>v&&y[k+h]>A;--w,k-=m){for(var p=k,d=k+m,M=0;M<m;++M,++p,++d){var T=y[p];y[p]=y[d],y[d]=T}var S=x[w];x[w]=x[w-1],x[w-1]=S}}function f(c,h,v,b,y,x){if(b<=v+1)return v;for(var m=v,_=b,g=b+v>>>1,A=2*c,w=g,k=y[A*g+h];m<_;){if(_-m<l){u(c,h,m,_,y,x),k=y[A*g+h];break}var p=_-m,d=Math.random()*p+m|0,M=y[A*d+h],T=Math.random()*p+m|0,S=y[A*T+h],E=Math.random()*p+m|0,L=y[A*E+h];M<=S?L>=S?(w=T,k=S):M>=L?(w=d,k=M):(w=E,k=L):S>=L?(w=T,k=S):L>=M?(w=d,k=M):(w=E,k=L);for(var q=A*(_-1),C=A*w,D=0;D<A;++D,++q,++C){var R=y[q];y[q]=y[C],y[C]=R}var F=x[_-1];x[_-1]=x[w],x[w]=F,w=s(c,h,m,_-1,y,x,k);for(var q=A*(_-1),C=A*w,D=0;D<A;++D,++q,++C){var R=y[q];y[q]=y[C],y[C]=R}var F=x[_-1];if(x[_-1]=x[w],x[w]=F,g<w){for(_=w-1;m<_&&y[A*(_-1)+h]===k;)_-=1;_+=1}else if(w<g)for(m=w+1;m<_&&y[A*m+h]===k;)m+=1;else break}return s(c,h,v,g,y,x,y[A*g+h])}},{"./partition":39}],39:[function(n,i,a){"use strict";i.exports=s;var o={"lo===p0":l,"lo<p0":u,"lo<=p0":f,"hi<=p0":c,"lo<p0&&p0<=hi":v,"lo<=p0&&p0<=hi":h,"!(lo>=p0)&&!(p1>=hi)":b};function s(y){return o[y]}function l(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+T];if(L===w)if(M===E)M+=1,d+=k;else{for(var D=0;k>D;++D){var R=g[p+D];g[p+D]=g[d],g[d++]=R}var q=A[E];A[E]=A[M],A[M++]=q}}return M}function u(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+T];if(L<w)if(M===E)M+=1,d+=k;else{for(var D=0;k>D;++D){var R=g[p+D];g[p+D]=g[d],g[d++]=R}var q=A[E];A[E]=A[M],A[M++]=q}}return M}function f(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+S];if(L<=w)if(M===E)M+=1,d+=k;else{for(var D=0;k>D;++D){var R=g[p+D];g[p+D]=g[d],g[d++]=R}var q=A[E];A[E]=A[M],A[M++]=q}}return M}function c(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+S];if(L<=w)if(M===E)M+=1,d+=k;else{for(var D=0;k>D;++D){var R=g[p+D];g[p+D]=g[d],g[d++]=R}var q=A[E];A[E]=A[M],A[M++]=q}}return M}function h(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+T],D=g[p+S];if(L<=w&&w<=D)if(M===E)M+=1,d+=k;else{for(var R=0;k>R;++R){var q=g[p+R];g[p+R]=g[d],g[d++]=q}var C=A[E];A[E]=A[M],A[M++]=C}}return M}function v(y,x,m,_,g,A,w){for(var k=2*y,p=k*m,d=p,M=m,T=x,S=y+x,E=m;_>E;++E,p+=k){var L=g[p+T],D=g[p+S];if(L<w&&w<=D)if(M===E)M+=1,d+=k;else{for(var R=0;k>R;++R){var q=g[p+R];g[p+R]=g[d],g[d++]=q}var C=A[E];A[E]=A[M],A[M++]=C}}return M}function b(y,x,m,_,g,A,w,k){for(var p=2*y,d=p*m,M=d,T=m,S=x,E=y+x,L=m;_>L;++L,d+=p){var D=g[d+S],R=g[d+E];if(!(D>=w)&&!(k>=R))if(T===L)T+=1,M+=p;else{for(var q=0;p>q;++q){var C=g[d+q];g[d+q]=g[M],g[M++]=C}var F=A[L];A[L]=A[T],A[T++]=F}}return T}},{}],40:[function(n,i,a){"use strict";i.exports=s;var o=32;function s(x,m){m<=4*o?l(0,m-1,x):y(0,m-1,x)}function l(x,m,_){for(var g=2*(x+1),A=x+1;A<=m;++A){for(var w=_[g++],k=_[g++],p=A,d=g-2;p-- >x;){var M=_[d-2],T=_[d-1];if(M<w)break;if(M===w&&T<k)break;_[d]=M,_[d+1]=T,d-=2}_[d]=w,_[d+1]=k}}function u(x,m,_){x*=2,m*=2;var g=_[x],A=_[x+1];_[x]=_[m],_[x+1]=_[m+1],_[m]=g,_[m+1]=A}function f(x,m,_){x*=2,m*=2,_[x]=_[m],_[x+1]=_[m+1]}function c(x,m,_,g){x*=2,m*=2,_*=2;var A=g[x],w=g[x+1];g[x]=g[m],g[x+1]=g[m+1],g[m]=g[_],g[m+1]=g[_+1],g[_]=A,g[_+1]=w}function h(x,m,_,g,A){x*=2,m*=2,A[x]=A[m],A[m]=_,A[x+1]=A[m+1],A[m+1]=g}function v(x,m,_){x*=2,m*=2;var g=_[x],A=_[m];return g<A?!1:g===A?_[x+1]>_[m+1]:!0}function b(x,m,_,g){x*=2;var A=g[x];return A<m?!0:A===m?g[x+1]<_:!1}function y(x,m,_){var g=(m-x+1)/6|0,A=x+g,w=m-g,k=x+m>>1,p=k-g,d=k+g,M=A,T=p,S=k,E=d,L=w,D=x+1,R=m-1,q=0;v(M,T,_)&&(q=M,M=T,T=q),v(E,L,_)&&(q=E,E=L,L=q),v(M,S,_)&&(q=M,M=S,S=q),v(T,S,_)&&(q=T,T=S,S=q),v(M,E,_)&&(q=M,M=E,E=q),v(S,E,_)&&(q=S,S=E,E=q),v(T,L,_)&&(q=T,T=L,L=q),v(T,S,_)&&(q=T,T=S,S=q),v(E,L,_)&&(q=E,E=L,L=q);for(var C=_[2*T],F=_[2*T+1],N=_[2*E],U=_[2*E+1],V=2*M,Y=2*S,K=2*L,B=2*A,z=2*k,j=2*w,ae=0;ae<2;++ae){var ee=_[V+ae],ve=_[Y+ae],fe=_[K+ae];_[B+ae]=ee,_[z+ae]=ve,_[j+ae]=fe}f(p,x,_),f(d,m,_);for(var se=D;se<=R;++se)if(b(se,C,F,_))se!==D&&u(se,D,_),++D;else if(!b(se,N,U,_))for(;;)if(b(R,N,U,_)){b(R,C,F,_)?(c(se,D,R,_),++D,--R):(u(se,R,_),--R);break}else{if(--R<se)break;continue}h(x,D-1,C,F,_),h(m,R+1,N,U,_),D-2-x<=o?l(x,D-2,_):y(x,D-2,_),m-(R+2)<=o?l(R+2,m,_):y(R+2,m,_),R-D<=o?l(D,R,_):y(D,R,_)}},{}],41:[function(n,i,a){"use strict";i.exports={init:_,sweepBipartite:w,sweepComplete:k,scanBipartite:p,scanComplete:d};var o=n("typedarray-pool"),s=n("bit-twiddle"),l=n("./sort"),u=1<<28,f=1024,c=o.mallocInt32(f),h=o.mallocInt32(f),v=o.mallocInt32(f),b=o.mallocInt32(f),y=o.mallocInt32(f),x=o.mallocInt32(f),m=o.mallocDouble(f*8);function _(M){var T=s.nextPow2(M);c.length<T&&(o.free(c),c=o.mallocInt32(T)),h.length<T&&(o.free(h),h=o.mallocInt32(T)),v.length<T&&(o.free(v),v=o.mallocInt32(T)),b.length<T&&(o.free(b),b=o.mallocInt32(T)),y.length<T&&(o.free(y),y=o.mallocInt32(T)),x.length<T&&(o.free(x),x=o.mallocInt32(T));var S=8*T;m.length<S&&(o.free(m),m=o.mallocDouble(S))}function g(M,T,S,E){var L=T[E],D=M[S-1];M[L]=D,T[D]=L}function A(M,T,S,E){M[S]=E,T[E]=S}function w(M,T,S,E,L,D,R,q,C,F){for(var N=0,U=2*M,V=M-1,Y=U-1,K=S;K<E;++K){var B=D[K],z=U*K;m[N++]=L[z+V],m[N++]=-(B+1),m[N++]=L[z+Y],m[N++]=B}for(var K=R;K<q;++K){var B=F[K]+u,j=U*K;m[N++]=C[j+V],m[N++]=-B,m[N++]=C[j+Y],m[N++]=B}var ae=N>>>1;l(m,ae);for(var ee=0,ve=0,K=0;K<ae;++K){var fe=m[2*K+1]|0;if(fe>=u)fe=fe-u|0,g(v,b,ve--,fe);else if(fe>=0)g(c,h,ee--,fe);else if(fe<=-u){fe=-fe-u|0;for(var se=0;se<ee;++se){var G=T(c[se],fe);if(G!==void 0)return G}A(v,b,ve++,fe)}else{fe=-fe-1|0;for(var se=0;se<ve;++se){var G=T(fe,v[se]);if(G!==void 0)return G}A(c,h,ee++,fe)}}}function k(M,T,S,E,L,D,R,q,C,F){for(var N=0,U=2*M,V=M-1,Y=U-1,K=S;K<E;++K){var B=D[K]+1<<1,z=U*K;m[N++]=L[z+V],m[N++]=-B,m[N++]=L[z+Y],m[N++]=B}for(var K=R;K<q;++K){var B=F[K]+1<<1,j=U*K;m[N++]=C[j+V],m[N++]=-B|1,m[N++]=C[j+Y],m[N++]=B|1}var ae=N>>>1;l(m,ae);for(var ee=0,ve=0,fe=0,K=0;K<ae;++K){var se=m[2*K+1]|0,G=se&1;if(K<ae-1&&se>>1===m[2*K+3]>>1&&(G=2,K+=1),se<0){for(var Z=-(se>>1)-1,X=0;X<fe;++X){var ge=T(y[X],Z);if(ge!==void 0)return ge}if(G!==0)for(var X=0;X<ee;++X){var ge=T(c[X],Z);if(ge!==void 0)return ge}if(G!==1)for(var X=0;X<ve;++X){var ge=T(v[X],Z);if(ge!==void 0)return ge}G===0?A(c,h,ee++,Z):G===1?A(v,b,ve++,Z):G===2&&A(y,x,fe++,Z)}else{var Z=(se>>1)-1;G===0?g(c,h,ee--,Z):G===1?g(v,b,ve--,Z):G===2&&g(y,x,fe--,Z)}}}function p(M,T,S,E,L,D,R,q,C,F,N,U){var V=0,Y=2*M,K=T,B=T+M,z=1,j=1;E?j=u:z=u;for(var ae=L;ae<D;++ae){var ee=ae+z,ve=Y*ae;m[V++]=R[ve+K],m[V++]=-ee,m[V++]=R[ve+B],m[V++]=ee}for(var ae=C;ae<F;++ae){var ee=ae+j,fe=Y*ae;m[V++]=N[fe+K],m[V++]=-ee}var se=V>>>1;l(m,se);for(var G=0,ae=0;ae<se;++ae){var Z=m[2*ae+1]|0;if(Z<0){var ee=-Z,X=!1;if(ee>=u?(X=!E,ee-=u):(X=!!E,ee-=1),X)A(c,h,G++,ee);else{var ge=U[ee],qe=Y*ee,Pe=N[qe+T+1],Oe=N[qe+T+1+M];e:for(var de=0;de<G;++de){var _e=c[de],ce=Y*_e;if(!(Oe<R[ce+T+1]||R[ce+T+1+M]<Pe)){for(var J=T+2;J<M;++J)if(N[qe+J+M]<R[ce+J]||R[ce+J+M]<N[qe+J])continue e;var ne=q[_e],be;if(E?be=S(ge,ne):be=S(ne,ge),be!==void 0)return be}}}}else g(c,h,G--,Z-z)}}function d(M,T,S,E,L,D,R,q,C,F,N){for(var U=0,V=2*M,Y=T,K=T+M,B=E;B<L;++B){var z=B+u,j=V*B;m[U++]=D[j+Y],m[U++]=-z,m[U++]=D[j+K],m[U++]=z}for(var B=q;B<C;++B){var z=B+1,ae=V*B;m[U++]=F[ae+Y],m[U++]=-z}var ee=U>>>1;l(m,ee);for(var ve=0,B=0;B<ee;++B){var fe=m[2*B+1]|0;if(fe<0){var z=-fe;if(z>=u)c[ve++]=z-u;else{z-=1;var se=N[z],G=V*z,Z=F[G+T+1],X=F[G+T+1+M];e:for(var ge=0;ge<ve;++ge){var qe=c[ge],Pe=R[qe];if(Pe===se)break;var Oe=V*qe;if(!(X<D[Oe+T+1]||D[Oe+T+1+M]<Z)){for(var de=T+2;de<M;++de)if(F[G+de+M]<D[Oe+de]||D[Oe+de+M]<F[G+de])continue e;var _e=S(Pe,se);if(_e!==void 0)return _e}}}}else{for(var z=fe-u,ge=ve-1;ge>=0;--ge)if(c[ge]===z){for(var de=ge+1;de<ve;++de)c[de-1]=c[de];break}--ve}}}},{"./sort":40,"bit-twiddle":32,"typedarray-pool":308}],42:[function(n,i,a){"use strict";var o=n("./lib/monotone"),s=n("./lib/triangulation"),l=n("./lib/delaunay"),u=n("./lib/filter");i.exports=b;function f(y){return[Math.min(y[0],y[1]),Math.max(y[0],y[1])]}function c(y,x){return y[0]-x[0]||y[1]-x[1]}function h(y){return y.map(f).sort(c)}function v(y,x,m){return x in y?y[x]:m}function b(y,x,m){Array.isArray(x)?(m=m||{},x=x||[]):(m=x||{},x=[]);var _=!!v(m,"delaunay",!0),g=!!v(m,"interior",!0),A=!!v(m,"exterior",!0),w=!!v(m,"infinity",!1);if(!g&&!A||y.length===0)return[];var k=o(y,x);if(_||g!==A||w){for(var p=s(y.length,h(x)),d=0;d<k.length;++d){var M=k[d];p.addTriangle(M[0],M[1],M[2])}return _&&l(y,p),A?g?w?u(p,0,w):p.cells():u(p,1,w):u(p,-1)}else return k}},{"./lib/delaunay":43,"./lib/filter":44,"./lib/monotone":45,"./lib/triangulation":46}],43:[function(n,i,a){"use strict";var o=n("robust-in-sphere")[4],s=n("binary-search-bounds");i.exports=u;function l(f,c,h,v,b,y){var x=c.opposite(v,b);if(!(x<0)){if(b<v){var m=v;v=b,b=m,m=y,y=x,x=m}c.isConstraint(v,b)||o(f[v],f[b],f[y],f[x])<0&&h.push(v,b)}}function u(f,c){for(var h=[],v=f.length,b=c.stars,y=0;y<v;++y)for(var x=b[y],m=1;m<x.length;m+=2){var _=x[m];if(!(_<y)&&!c.isConstraint(y,_)){for(var g=x[m-1],A=-1,w=1;w<x.length;w+=2)if(x[w-1]===_){A=x[w];break}A<0||o(f[y],f[_],f[g],f[A])<0&&h.push(y,_)}}for(;h.length>0;){for(var _=h.pop(),y=h.pop(),g=-1,A=-1,x=b[y],k=1;k<x.length;k+=2){var p=x[k-1],d=x[k];p===_?A=d:d===_&&(g=p)}g<0||A<0||o(f[y],f[_],f[g],f[A])>=0||(c.flip(y,_),l(f,c,h,g,y,A),l(f,c,h,y,A,g),l(f,c,h,A,_,g),l(f,c,h,_,g,A))}}},{"binary-search-bounds":31,"robust-in-sphere":282}],44:[function(n,i,a){"use strict";var o=n("binary-search-bounds");i.exports=h;function s(v,b,y,x,m,_,g){this.cells=v,this.neighbor=b,this.flags=x,this.constraint=y,this.active=m,this.next=_,this.boundary=g}var l=s.prototype;function u(v,b){return v[0]-b[0]||v[1]-b[1]||v[2]-b[2]}l.locate=function(){var v=[0,0,0];return function(b,y,x){var m=b,_=y,g=x;return y<x?y<b&&(m=y,_=x,g=b):x<b&&(m=x,_=b,g=y),m<0?-1:(v[0]=m,v[1]=_,v[2]=g,o.eq(this.cells,v,u))}}();function f(v,b){for(var y=v.cells(),x=y.length,m=0;m<x;++m){var _=y[m],g=_[0],A=_[1],w=_[2];A<w?A<g&&(_[0]=A,_[1]=w,_[2]=g):w<g&&(_[0]=w,_[1]=g,_[2]=A)}y.sort(u);for(var k=new Array(x),m=0;m<k.length;++m)k[m]=0;var p=[],d=[],M=new Array(3*x),T=new Array(3*x),S=null;b&&(S=[]);for(var E=new s(y,M,T,k,p,d,S),m=0;m<x;++m)for(var _=y[m],L=0;L<3;++L){var g=_[L],A=_[(L+1)%3],D=M[3*m+L]=E.locate(A,g,v.opposite(A,g)),R=T[3*m+L]=v.isConstraint(g,A);D<0&&(R?d.push(m):(p.push(m),k[m]=1),b&&S.push([A,g,-1]))}return E}function c(v,b,y){for(var x=0,m=0;m<v.length;++m)b[m]===y&&(v[x++]=v[m]);return v.length=x,v}function h(v,b,y){var x=f(v,y);if(b===0)return y?x.cells.concat(x.boundary):x.cells;for(var m=1,_=x.active,g=x.next,A=x.flags,w=x.cells,k=x.constraint,p=x.neighbor;_.length>0||g.length>0;){for(;_.length>0;){var d=_.pop();if(A[d]!==-m){A[d]=m;for(var M=w[d],T=0;T<3;++T){var S=p[3*d+T];S>=0&&A[S]===0&&(k[3*d+T]?g.push(S):(_.push(S),A[S]=m))}}}var E=g;g=_,_=E,g.length=0,m=-m}var L=c(w,A,b);return y?L.concat(x.boundary):L}},{"binary-search-bounds":31}],45:[function(n,i,a){"use strict";var o=n("binary-search-bounds"),s=n("robust-orientation")[3],l=0,u=1,f=2;i.exports=g;function c(A,w,k,p,d){this.a=A,this.b=w,this.idx=k,this.lowerIds=p,this.upperIds=d}function h(A,w,k,p){this.a=A,this.b=w,this.type=k,this.idx=p}function v(A,w){var k=A.a[0]-w.a[0]||A.a[1]-w.a[1]||A.type-w.type;return k||A.type!==l&&(k=s(A.a,A.b,w.b),k)?k:A.idx-w.idx}function b(A,w){return s(A.a,A.b,w)}function y(A,w,k,p,d){for(var M=o.lt(w,p,b),T=o.gt(w,p,b),S=M;S<T;++S){for(var E=w[S],L=E.lowerIds,R=L.length;R>1&&s(k[L[R-2]],k[L[R-1]],p)>0;)A.push([L[R-1],L[R-2],d]),R-=1;L.length=R,L.push(d);for(var D=E.upperIds,R=D.length;R>1&&s(k[D[R-2]],k[D[R-1]],p)<0;)A.push([D[R-2],D[R-1],d]),R-=1;D.length=R,D.push(d)}}function x(A,w){var k;return A.a[0]<w.a[0]?k=s(A.a,A.b,w.a):k=s(w.b,w.a,A.a),k||(w.b[0]<A.b[0]?k=s(A.a,A.b,w.b):k=s(w.b,w.a,A.b),k||A.idx-w.idx)}function m(A,w,k){var p=o.le(A,k,x),d=A[p],M=d.upperIds,T=M[M.length-1];d.upperIds=[T],A.splice(p+1,0,new c(k.a,k.b,k.idx,[T],M))}function _(A,w,k){var p=k.a;k.a=k.b,k.b=p;var d=o.eq(A,k,x),M=A[d],T=A[d-1];T.upperIds=M.upperIds,A.splice(d,1)}function g(A,w){for(var k=A.length,p=w.length,d=[],M=0;M<k;++M)d.push(new h(A[M],null,l,M));for(var M=0;M<p;++M){var T=w[M],S=A[T[0]],E=A[T[1]];S[0]<E[0]?d.push(new h(S,E,f,M),new h(E,S,u,M)):S[0]>E[0]&&d.push(new h(E,S,f,M),new h(S,E,u,M))}d.sort(v);for(var L=d[0].a[0]-(1+Math.abs(d[0].a[0]))*Math.pow(2,-52),D=[new c([L,1],[L,0],-1,[],[],[],[])],R=[],M=0,q=d.length;M<q;++M){var C=d[M],F=C.type;F===l?y(R,D,A,C.a,C.idx):F===f?m(D,A,C):_(D,A,C)}return R}},{"binary-search-bounds":31,"robust-orientation":284}],46:[function(n,i,a){"use strict";var o=n("binary-search-bounds");i.exports=f;function s(c,h){this.stars=c,this.edges=h}var l=s.prototype;function u(c,h,v){for(var b=1,y=c.length;b<y;b+=2)if(c[b-1]===h&&c[b]===v){c[b-1]=c[y-2],c[b]=c[y-1],c.length=y-2;return}}l.isConstraint=function(){var c=[0,0];function h(v,b){return v[0]-b[0]||v[1]-b[1]}return function(v,b){return c[0]=Math.min(v,b),c[1]=Math.max(v,b),o.eq(this.edges,c,h)>=0}}(),l.removeTriangle=function(c,h,v){var b=this.stars;u(b[c],h,v),u(b[h],v,c),u(b[v],c,h)},l.addTriangle=function(c,h,v){var b=this.stars;b[c].push(h,v),b[h].push(v,c),b[v].push(c,h)},l.opposite=function(c,h){for(var v=this.stars[h],b=1,y=v.length;b<y;b+=2)if(v[b]===c)return v[b-1];return-1},l.flip=function(c,h){var v=this.opposite(c,h),b=this.opposite(h,c);this.removeTriangle(c,h,v),this.removeTriangle(h,c,b),this.addTriangle(c,b,v),this.addTriangle(h,v,b)},l.edges=function(){for(var c=this.stars,h=[],v=0,b=c.length;v<b;++v)for(var y=c[v],x=0,m=y.length;x<m;x+=2)h.push([y[x],y[x+1]]);return h},l.cells=function(){for(var c=this.stars,h=[],v=0,b=c.length;v<b;++v)for(var y=c[v],x=0,m=y.length;x<m;x+=2){var _=y[x],g=y[x+1];v<Math.min(_,g)&&h.push([v,_,g])}return h};function f(c,h){for(var v=new Array(c),b=0;b<c;++b)v[b]=[];return new s(v,h)}},{"binary-search-bounds":31}],47:[function(n,i,a){"use strict";i.exports=o;function o(s){for(var l=1,u=1;u<s.length;++u)for(var f=0;f<u;++f)if(s[u]<s[f])l=-l;else if(s[f]===s[u])return 0;return l}},{}],48:[function(n,i,a){"use strict";var o=n("dup"),s=n("robust-linear-solve");function l(c,h){for(var v=0,b=c.length,y=0;y<b;++y)v+=c[y]*h[y];return v}function u(c){var h=c.length;if(h===0)return[];var v=c[0].length,b=o([c.length+1,c.length+1],1),y=o([c.length+1],1);b[h][h]=0;for(var x=0;x<h;++x){for(var m=0;m<=x;++m)b[m][x]=b[x][m]=2*l(c[x],c[m]);y[x]=l(c[x],c[x])}for(var _=s(b,y),g=0,A=_[h+1],x=0;x<A.length;++x)g+=A[x];for(var w=new Array(h),x=0;x<h;++x){for(var A=_[x],k=0,m=0;m<A.length;++m)k+=A[m];w[x]=k/g}return w}function f(c){if(c.length===0)return[];for(var h=c[0].length,v=o([h]),b=u(c),y=0;y<c.length;++y)for(var x=0;x<h;++x)v[x]+=c[y][x]*b[y];return v}f.barycenetric=u,i.exports=f},{dup:65,"robust-linear-solve":283}],49:[function(n,i,a){i.exports=s;var o=n("circumcenter");function s(l){for(var u=o(l),f=0,c=0;c<l.length;++c)for(var h=l[c],v=0;v<u.length;++v)f+=Math.pow(h[v]-u[v],2);return Math.sqrt(f/l.length)}},{circumcenter:48}],50:[function(n,i,a){"use strict";i.exports=S;var o=n("union-find"),s=n("box-intersect"),l=n("robust-segment-intersect"),u=n("big-rat"),f=n("big-rat/cmp"),c=n("big-rat/to-float"),h=n("rat-vec"),v=n("nextafter"),b=n("./lib/rat-seg-intersect");function y(E){var L=c(E);return[v(L,-1/0),v(L,1/0)]}function x(E,L){for(var D=new Array(L.length),R=0;R<L.length;++R){var q=L[R],C=E[q[0]],F=E[q[1]];D[R]=[v(Math.min(C[0],F[0]),-1/0),v(Math.min(C[1],F[1]),-1/0),v(Math.max(C[0],F[0]),1/0),v(Math.max(C[1],F[1]),1/0)]}return D}function m(E){for(var L=new Array(E.length),D=0;D<E.length;++D){var R=E[D];L[D]=[v(R[0],-1/0),v(R[1],-1/0),v(R[0],1/0),v(R[1],1/0)]}return L}function _(E,L,D){var R=[];return s(D,function(q,C){var F=L[q],N=L[C];if(!(F[0]===N[0]||F[0]===N[1]||F[1]===N[0]||F[1]===N[1])){var U=E[F[0]],V=E[F[1]],Y=E[N[0]],K=E[N[1]];l(U,V,Y,K)&&R.push([q,C])}}),R}function g(E,L,D,R){var q=[];return s(D,R,function(C,F){var N=L[C];if(!(N[0]===F||N[1]===F)){var U=E[F],V=E[N[0]],Y=E[N[1]];l(V,Y,U,U)&&q.push([C,F])}}),q}function A(E,L,D,R,q){var C,F,N=E.map(function(qe){return[u(qe[0]),u(qe[1])]});for(C=0;C<D.length;++C){var U=D[C];F=U[0];var V=U[1],Y=L[F],K=L[V],B=b(h(E[Y[0]]),h(E[Y[1]]),h(E[K[0]]),h(E[K[1]]));if(B){var z=E.length;E.push([c(B[0]),c(B[1])]),N.push(B),R.push([F,z],[V,z])}}for(R.sort(function(qe,Pe){if(qe[0]!==Pe[0])return qe[0]-Pe[0];var Oe=N[qe[1]],de=N[Pe[1]];return f(Oe[0],de[0])||f(Oe[1],de[1])}),C=R.length-1;C>=0;--C){var j=R[C];F=j[0];var ae=L[F],ee=ae[0],ve=ae[1],fe=E[ee],se=E[ve];if((fe[0]-se[0]||fe[1]-se[1])<0){var G=ee;ee=ve,ve=G}ae[0]=ee;var Z=ae[1]=j[1],X;for(q&&(X=ae[2]);C>0&&R[C-1][0]===F;){var j=R[--C],ge=j[1];q?L.push([Z,ge,X]):L.push([Z,ge]),Z=ge}q?L.push([Z,ve,X]):L.push([Z,ve])}return N}function w(E,L,D){for(var R=L.length,q=new o(R),C=[],F=0;F<L.length;++F){var N=L[F],U=y(N[0]),V=y(N[1]);C.push([v(U[0],-1/0),v(V[0],-1/0),v(U[1],1/0),v(V[1],1/0)])}s(C,function(j,ae){q.link(j,ae)});for(var Y=!0,K=new Array(R),F=0;F<R;++F){var B=q.find(F);B!==F&&(Y=!1,E[B]=[Math.min(E[F][0],E[B][0]),Math.min(E[F][1],E[B][1])])}if(Y)return null;for(var z=0,F=0;F<R;++F){var B=q.find(F);B===F?(K[F]=z,E[z++]=E[F]):K[F]=-1}E.length=z;for(var F=0;F<R;++F)K[F]<0&&(K[F]=K[q.find(F)]);return K}function k(E,L){return E[0]-L[0]||E[1]-L[1]}function p(E,L){var D=E[0]-L[0]||E[1]-L[1];return D||(E[2]<L[2]?-1:E[2]>L[2]?1:0)}function d(E,L,D){if(E.length!==0){if(L)for(var R=0;R<E.length;++R){var q=E[R],C=L[q[0]],F=L[q[1]];q[0]=Math.min(C,F),q[1]=Math.max(C,F)}else for(var R=0;R<E.length;++R){var q=E[R],C=q[0],F=q[1];q[0]=Math.min(C,F),q[1]=Math.max(C,F)}D?E.sort(p):E.sort(k);for(var N=1,R=1;R<E.length;++R){var U=E[R-1],V=E[R];V[0]===U[0]&&V[1]===U[1]&&(!D||V[2]===U[2])||(E[N++]=V)}E.length=N}}function M(E,L,D){var R=w(E,[],m(E));return d(L,R,D),!!R}function T(E,L,D){var R=x(E,L),q=_(E,L,R),C=m(E),F=g(E,L,R,C),N=A(E,L,q,F,D),U=w(E,N,C);return d(L,U,D),U?!0:q.length>0||F.length>0}function S(E,L,D){var R;if(D){R=L;for(var q=new Array(L.length),C=0;C<L.length;++C){var F=L[C];q[C]=[F[0],F[1],D[C]]}L=q}for(var N=M(E,L,!!D);T(E,L,!!D);)N=!0;if(D&&N){R.length=0,D.length=0;for(var C=0;C<L.length;++C){var F=L[C];R.push([F[0],F[1]]),D.push(F[2])}}return N}},{"./lib/rat-seg-intersect":51,"big-rat":18,"big-rat/cmp":16,"big-rat/to-float":30,"box-intersect":35,nextafter:260,"rat-vec":273,"robust-segment-intersect":287,"union-find":309}],51:[function(n,i,a){"use strict";i.exports=b;var o=n("big-rat/mul"),s=n("big-rat/div"),l=n("big-rat/sub"),u=n("big-rat/sign"),f=n("rat-vec/sub"),c=n("rat-vec/add"),h=n("rat-vec/muls");function v(y,x){return l(o(y[0],x[1]),o(y[1],x[0]))}function b(y,x,m,_){var g=f(x,y),A=f(_,m),w=v(g,A);if(u(w)===0)return null;var k=f(y,m),p=v(A,k),d=s(p,w),M=h(g,d),T=c(y,M);return T}},{"big-rat/div":17,"big-rat/mul":27,"big-rat/sign":28,"big-rat/sub":29,"rat-vec/add":272,"rat-vec/muls":274,"rat-vec/sub":275}],52:[function(n,i,a){i.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],53:[function(n,i,a){"use strict";var o=n("./colorScale"),s=n("lerp");i.exports=l;function l(h){var v,b,y,x,m,_,g,A,d,w,k;if(h||(h={}),A=(h.nshades||72)-1,g=h.format||"hex",_=h.colormap,_||(_="jet"),typeof _=="string"){if(_=_.toLowerCase(),!o[_])throw Error(_+" not a supported colorscale");m=o[_]}else if(Array.isArray(_))m=_.slice();else throw Error("unsupported colormap option",_);if(m.length>A+1)throw new Error(_+" map requires nshades to be at least size "+m.length);Array.isArray(h.alpha)?h.alpha.length!==2?w=[1,1]:w=h.alpha.slice():typeof h.alpha=="number"?w=[h.alpha,h.alpha]:w=[1,1],v=m.map(function(S){return Math.round(S.index*A)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var p=m.map(function(S,E){var L=m[E].index,D=m[E].rgb.slice();return D.length===4&&D[3]>=0&&D[3]<=1||(D[3]=w[0]+(w[1]-w[0])*L),D}),d=[];for(k=0;k<v.length-1;++k){x=v[k+1]-v[k],b=p[k],y=p[k+1];for(var M=0;M<x;M++){var T=M/x;d.push([Math.round(s(b[0],y[0],T)),Math.round(s(b[1],y[1],T)),Math.round(s(b[2],y[2],T)),s(b[3],y[3],T)])}}return d.push(m[m.length-1].rgb.concat(w[1])),g==="hex"?d=d.map(f):g==="rgbaString"?d=d.map(c):g==="float"&&(d=d.map(u)),d}function u(h){return[h[0]/255,h[1]/255,h[2]/255,h[3]]}function f(h){for(var v,b="#",y=0;y<3;++y)v=h[y],v=v.toString(16),b+=("00"+v).substr(v.length);return b}function c(h){return"rgba("+h.join(",")+")"}},{"./colorScale":52,lerp:240}],54:[function(n,i,a){"use strict";i.exports=h;var o=n("robust-orientation"),s=n("signum"),l=n("two-sum"),u=n("robust-product"),f=n("robust-sum");function c(v,b,y){var x=l(v[0],-b[0]),m=l(v[1],-b[1]),_=l(y[0],-b[0]),g=l(y[1],-b[1]),A=f(u(x,_),u(m,g));return A[A.length-1]>=0}function h(v,b,y,x){var m=o(b,y,x);if(m===0){var _=s(o(v,b,y)),g=s(o(v,b,x));if(_===g){if(_===0){var A=c(v,b,y),w=c(v,b,x);return A===w?0:A?1:-1}return 0}else{if(g===0)return _>0||c(v,b,x)?-1:1;if(_===0)return g>0||c(v,b,y)?1:-1}return s(g-_)}var k=o(v,b,y);if(k>0)return m>0&&o(v,b,x)>0?1:-1;if(k<0)return m>0||o(v,b,x)>0?1:-1;var p=o(v,b,x);return p>0||c(v,b,y)?1:-1}},{"robust-orientation":284,"robust-product":285,"robust-sum":289,signum:55,"two-sum":307}],55:[function(n,i,a){"use strict";i.exports=function(s){return s<0?-1:s>0?1:0}},{}],56:[function(n,i,a){i.exports=l;var o=Math.min;function s(u,f){return u-f}function l(u,f){var c=u.length,h=u.length-f.length;if(h)return h;switch(c){case 0:return 0;case 1:return u[0]-f[0];case 2:return u[0]+u[1]-f[0]-f[1]||o(u[0],u[1])-o(f[0],f[1]);case 3:var v=u[0]+u[1],b=f[0]+f[1];if(h=v+u[2]-(b+f[2]),h)return h;var y=o(u[0],u[1]),x=o(f[0],f[1]);return o(y,u[2])-o(x,f[2])||o(y+u[2],v)-o(x+f[2],b);case 4:var m=u[0],_=u[1],g=u[2],A=u[3],w=f[0],k=f[1],p=f[2],d=f[3];return m+_+g+A-(w+k+p+d)||o(m,_,g,A)-o(w,k,p,d,w)||o(m+_,m+g,m+A,_+g,_+A,g+A)-o(w+k,w+p,w+d,k+p,k+d,p+d)||o(m+_+g,m+_+A,m+g+A,_+g+A)-o(w+k+p,w+k+d,w+p+d,k+p+d);default:for(var M=u.slice().sort(s),T=f.slice().sort(s),S=0;S<c;++S)if(h=M[S]-T[S],h)return h;return 0}}},{}],57:[function(n,i,a){"use strict";var o=n("compare-cell"),s=n("cell-orientation");i.exports=l;function l(u,f){return o(u,f)||s(u)-s(f)}},{"cell-orientation":47,"compare-cell":56}],58:[function(n,i,a){"use strict";var o=n("./lib/ch1d"),s=n("./lib/ch2d"),l=n("./lib/chnd");i.exports=u;function u(f){var c=f.length;if(c===0)return[];if(c===1)return[[0]];var h=f[0].length;return h===0?[]:h===1?o(f):h===2?s(f):l(f,h)}},{"./lib/ch1d":59,"./lib/ch2d":60,"./lib/chnd":61}],59:[function(n,i,a){"use strict";i.exports=o;function o(s){for(var l=0,u=0,f=1;f<s.length;++f)s[f][0]<s[l][0]&&(l=f),s[f][0]>s[u][0]&&(u=f);return l<u?[[l],[u]]:l>u?[[u],[l]]:[[l]]}},{}],60:[function(n,i,a){"use strict";i.exports=s;var o=n("monotone-convex-hull-2d");function s(l){var u=o(l),f=u.length;if(f<=2)return[];for(var c=new Array(f),h=u[f-1],v=0;v<f;++v){var b=u[v];c[v]=[h,b],h=b}return c}},{"monotone-convex-hull-2d":246}],61:[function(n,i,a){"use strict";i.exports=f;var o=n("incremental-convex-hull"),s=n("affine-hull");function l(c,h){for(var v=c.length,b=new Array(v),y=0;y<h.length;++y)b[y]=c[h[y]];for(var x=h.length,y=0;y<v;++y)h.indexOf(y)<0&&(b[x++]=c[y]);return b}function u(c,h){for(var v=c.length,b=h.length,y=0;y<v;++y)for(var x=c[y],m=0;m<x.length;++m){var _=x[m];if(_<b)x[m]=h[_];else{_=_-b;for(var g=0;g<b;++g)_>=h[g]&&(_+=1);x[m]=_}}return c}function f(c,h){try{return o(c,!0)}catch{var v=s(c);if(v.length<=h)return[];var b=l(c,v),y=o(b,!0);return u(y,v)}}},{"affine-hull":10,"incremental-convex-hull":233}],62:[function(n,i,a){"use strict";function o(l,u,f,c,h,v){var b=6*h*h-6*h,y=3*h*h-4*h+1,x=-6*h*h+6*h,m=3*h*h-2*h;if(l.length){v||(v=new Array(l.length));for(var _=l.length-1;_>=0;--_)v[_]=b*l[_]+y*u[_]+x*f[_]+m*c[_];return v}return b*l+y*u+x*f[_]+m*c}function s(l,u,f,c,h,v){var b=h-1,y=h*h,x=b*b,m=(1+2*h)*x,_=h*x,g=y*(3-2*h),A=y*b;if(l.length){v||(v=new Array(l.length));for(var w=l.length-1;w>=0;--w)v[w]=m*l[w]+_*u[w]+g*f[w]+A*c[w];return v}return m*l+_*u+g*f+A*c}i.exports=s,i.exports.derivative=o},{}],63:[function(n,i,a){"use strict";var o=n("incremental-convex-hull"),s=n("uniq");i.exports=c;function l(h,v){this.point=h,this.index=v}function u(h,v){for(var b=h.point,y=v.point,x=b.length,m=0;m<x;++m){var _=y[m]-b[m];if(_)return _}return 0}function f(h,v,b){if(h===1)return b?[[-1,0]]:[];var y=v.map(function(A,w){return[A[0],w]});y.sort(function(A,w){return A[0]-w[0]});for(var x=new Array(h-1),m=1;m<h;++m){var _=y[m-1],g=y[m];x[m-1]=[_[1],g[1]]}return b&&x.push([-1,x[0][1]],[x[h-1][1],-1]),x}function c(h,v){var b=h.length;if(b===0)return[];var y=h[0].length;if(y<1)return[];if(y===1)return f(b,h,v);for(var x=new Array(b),m=1,_=0;_<b;++_){for(var g=h[_],A=new Array(y+1),w=0,k=0;k<y;++k){var p=g[k];A[k]=p,w+=p*p}A[y]=w,x[_]=new l(A,_),m=Math.max(w,m)}s(x,u),b=x.length;for(var d=new Array(b+y+1),M=new Array(b+y+1),T=(y+1)*(y+1)*m,S=new Array(y+1),_=0;_<=y;++_)S[_]=0;S[y]=T,d[0]=S.slice(),M[0]=-1;for(var _=0;_<=y;++_){var A=S.slice();A[_]=1,d[_+1]=A,M[_+1]=-1}for(var _=0;_<b;++_){var E=x[_];d[_+y+1]=E.point,M[_+y+1]=E.index}var L=o(d,!1);if(v?L=L.filter(function(D){for(var R=0,q=0;q<=y;++q){var C=M[D[q]];if(C<0&&++R>=2)return!1;D[q]=C}return!0}):L=L.filter(function(D){for(var R=0;R<=y;++R){var q=M[D[R]];if(q<0)return!1;D[R]=q}return!0}),y&1)for(var _=0;_<L.length;++_){var E=L[_],A=E[0];E[0]=E[1],E[1]=A}return L}},{"incremental-convex-hull":233,uniq:310}],64:[function(n,i,a){(function(o){(function(){var s=!1;if(typeof Float64Array<"u"){var l=new Float64Array(1),u=new Uint32Array(l.buffer);if(l[0]=1,s=!0,u[1]===1072693248){let A=function(p,d){return u[0]=p,u[1]=d,l[0]},w=function(p){return l[0]=p,u[0]},k=function(p){return l[0]=p,u[1]};var c=A,h=w,v=k;i.exports=function(d){return l[0]=d,[u[0],u[1]]},i.exports.pack=A,i.exports.lo=w,i.exports.hi=k}else if(u[0]===1072693248){let A=function(p,d){return u[1]=p,u[0]=d,l[0]},w=function(p){return l[0]=p,u[1]},k=function(p){return l[0]=p,u[0]};var b=A,y=w,x=k;i.exports=function(d){return l[0]=d,[u[1],u[0]]},i.exports.pack=A,i.exports.lo=w,i.exports.hi=k}else s=!1}if(!s){let A=function(p,d){return f.writeUInt32LE(p,0,!0),f.writeUInt32LE(d,4,!0),f.readDoubleLE(0,!0)},w=function(p){return f.writeDoubleLE(p,0,!0),f.readUInt32LE(0,!0)},k=function(p){return f.writeDoubleLE(p,0,!0),f.readUInt32LE(4,!0)};var m=A,_=w,g=k,f=new o(8);i.exports=function(d){return f.writeDoubleLE(d,0,!0),[f.readUInt32LE(0,!0),f.readUInt32LE(4,!0)]},i.exports.pack=A,i.exports.lo=w,i.exports.hi=k}i.exports.sign=function(A){return i.exports.hi(A)>>>31},i.exports.exponent=function(A){var w=i.exports.hi(A);return(w<<1>>>21)-1023},i.exports.fraction=function(A){var w=i.exports.lo(A),k=i.exports.hi(A),p=k&(1<<20)-1;return k&2146435072&&(p+=1<<20),[w,p]},i.exports.denormalized=function(A){var w=i.exports.hi(A);return!(w&2146435072)}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],65:[function(n,i,a){"use strict";function o(u,f,c){var h=u[c]|0;if(h<=0)return[];var v=new Array(h),b;if(c===u.length-1)for(b=0;b<h;++b)v[b]=f;else for(b=0;b<h;++b)v[b]=o(u,f,c+1);return v}function s(u,f){var c,h;for(c=new Array(u),h=0;h<u;++h)c[h]=f;return c}function l(u,f){switch(typeof f>"u"&&(f=0),typeof u){case"number":if(u>0)return s(u|0,f);break;case"object":if(typeof u.length=="number")return o(u,f,0);break}return[]}i.exports=l},{}],66:[function(n,i,a){"use strict";i.exports=s;var o=n("uniq");function s(l,u){var f=l.length;if(typeof u!="number"){u=0;for(var c=0;c<f;++c){var h=l[c];u=Math.max(u,h[0],h[1])}u=(u|0)+1}u=u|0;for(var v=new Array(u),c=0;c<u;++c)v[c]=[];for(var c=0;c<f;++c){var h=l[c];v[h[0]].push(h[1]),v[h[1]].push(h[0])}for(var b=0;b<u;++b)o(v[b],function(y,x){return y-x});return v}},{uniq:310}],67:[function(n,i,a){"use strict";i.exports=o;function o(s,l,u){var f=l||0,c=u||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[f*s[12]+s[8],f*s[13]+s[9],f*s[14]+s[10],f*s[15]+s[11]],[c*s[12]-s[8],c*s[13]-s[9],c*s[14]-s[10],c*s[15]-s[11]]]}},{}],68:[function(n,i,a){"use strict";i.exports=h;var o=n("cubic-hermite"),s=n("binary-search-bounds");function l(v,b,y){return Math.min(b,Math.max(v,y))}function u(v,b,y){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var x=0;x<this.dimension;++x)this.bounds[0][x]=-1/0,this.bounds[1][x]=1/0;this._state=v.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[y],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var f=u.prototype;f.flush=function(v){var b=s.gt(this._time,v)-1;b<=0||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},f.curve=function(v){var b=this._time,y=b.length,x=s.le(b,v),m=this._scratch[0],_=this._state,g=this._velocity,A=this.dimension,w=this.bounds;if(x<0)for(var k=A-1,p=0;p<A;++p,--k)m[p]=_[k];else if(x>=y-1)for(var k=_.length-1,d=v-b[y-1],p=0;p<A;++p,--k)m[p]=_[k]+d*g[k];else{for(var k=A*(x+1)-1,M=b[x],T=b[x+1],S=T-M||1,E=this._scratch[1],L=this._scratch[2],D=this._scratch[3],R=this._scratch[4],q=!0,p=0;p<A;++p,--k)E[p]=_[k],D[p]=g[k]*S,L[p]=_[k+A],R[p]=g[k+A]*S,q=q&&E[p]===L[p]&&D[p]===R[p]&&D[p]===0;if(q)for(var p=0;p<A;++p)m[p]=E[p];else o(E,D,L,R,(v-M)/S,m)}for(var C=w[0],F=w[1],p=0;p<A;++p)m[p]=l(C[p],F[p],m[p]);return m},f.dcurve=function(v){var b=this._time,y=b.length,x=s.le(b,v),m=this._scratch[0],_=this._state,g=this._velocity,A=this.dimension;if(x>=y-1)for(var w=_.length-1,k=v-b[y-1],p=0;p<A;++p,--w)m[p]=g[w];else{for(var w=A*(x+1)-1,d=b[x],M=b[x+1],T=M-d||1,S=this._scratch[1],E=this._scratch[2],L=this._scratch[3],D=this._scratch[4],R=!0,p=0;p<A;++p,--w)S[p]=_[w],L[p]=g[w]*T,E[p]=_[w+A],D[p]=g[w+A]*T,R=R&&S[p]===E[p]&&L[p]===D[p]&&L[p]===0;if(R)for(var p=0;p<A;++p)m[p]=0;else{o.derivative(S,L,E,D,(v-d)/T,m);for(var p=0;p<A;++p)m[p]/=T}}return m},f.lastT=function(){var v=this._time;return v[v.length-1]},f.stable=function(){for(var v=this._velocity,b=v.length,y=this.dimension-1;y>=0;--y)if(v[--b])return!1;return!0},f.jump=function(v){var b=this.lastT(),y=this.dimension;if(!(v<b||arguments.length!==y+1)){var x=this._state,m=this._velocity,_=x.length-this.dimension,g=this.bounds,A=g[0],w=g[1];this._time.push(b,v);for(var k=0;k<2;++k)for(var p=0;p<y;++p)x.push(x[_++]),m.push(0);this._time.push(v);for(var p=y;p>0;--p)x.push(l(A[p-1],w[p-1],arguments[p])),m.push(0)}},f.push=function(v){var b=this.lastT(),y=this.dimension;if(!(v<b||arguments.length!==y+1)){var x=this._state,m=this._velocity,_=x.length-this.dimension,g=v-b,A=this.bounds,w=A[0],k=A[1],p=g>1e-6?1/g:0;this._time.push(v);for(var d=y;d>0;--d){var M=l(w[d-1],k[d-1],arguments[d]);x.push(M),m.push((M-x[_++])*p)}}},f.set=function(v){var b=this.dimension;if(!(v<this.lastT()||arguments.length!==b+1)){var y=this._state,x=this._velocity,m=this.bounds,_=m[0],g=m[1];this._time.push(v);for(var A=b;A>0;--A)y.push(l(_[A-1],g[A-1],arguments[A])),x.push(0)}},f.move=function(v){var b=this.lastT(),y=this.dimension;if(!(v<=b||arguments.length!==y+1)){var x=this._state,m=this._velocity,_=x.length-this.dimension,g=this.bounds,A=g[0],w=g[1],k=v-b,p=k>1e-6?1/k:0;this._time.push(v);for(var d=y;d>0;--d){var M=arguments[d];x.push(l(A[d-1],w[d-1],x[_++]+M)),m.push(M*p)}}},f.idle=function(v){var b=this.lastT();if(!(v<b)){var y=this.dimension,x=this._state,m=this._velocity,_=x.length-y,g=this.bounds,A=g[0],w=g[1],k=v-b;this._time.push(v);for(var p=y-1;p>=0;--p)x.push(l(A[p],w[p],x[_]+k*m[_])),m.push(0),_+=1}};function c(v){for(var b=new Array(v),y=0;y<v;++y)b[y]=0;return b}function h(v,b,y){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof v=="number"){var x=c(v);return new u(x,x,0)}else return new u(v,c(v.length),0);case 2:if(typeof b=="number"){var x=c(v.length);return new u(v,x,+b)}else y=0;case 3:if(v.length!==b.length)throw new Error("state and velocity lengths must match");return new u(v,b,y)}}},{"binary-search-bounds":31,"cubic-hermite":62}],69:[function(n,i,a){"use strict";i.exports=k;var o=0,s=1;function l(p,d,M,T,S,E){this._color=p,this.key=d,this.value=M,this.left=T,this.right=S,this._count=E}function u(p){return new l(p._color,p.key,p.value,p.left,p.right,p._count)}function f(p,d){return new l(p,d.key,d.value,d.left,d.right,d._count)}function c(p){p._count=1+(p.left?p.left._count:0)+(p.right?p.right._count:0)}function h(p,d){this._compare=p,this.root=d}var v=h.prototype;Object.defineProperty(v,"keys",{get:function(){var p=[];return this.forEach(function(d,M){p.push(d)}),p}}),Object.defineProperty(v,"values",{get:function(){var p=[];return this.forEach(function(d,M){p.push(M)}),p}}),Object.defineProperty(v,"length",{get:function(){return this.root?this.root._count:0}}),v.insert=function(p,d){for(var M=this._compare,T=this.root,S=[],E=[];T;){var L=M(p,T.key);S.push(T),E.push(L),L<=0?T=T.left:T=T.right}S.push(new l(o,p,d,null,null,1));for(var D=S.length-2;D>=0;--D){var T=S[D];E[D]<=0?S[D]=new l(T._color,T.key,T.value,S[D+1],T.right,T._count+1):S[D]=new l(T._color,T.key,T.value,T.left,S[D+1],T._count+1)}for(var D=S.length-1;D>1;--D){var R=S[D-1],T=S[D];if(R._color===s||T._color===s)break;var q=S[D-2];if(q.left===R)if(R.left===T){var C=q.right;if(C&&C._color===o)R._color=s,q.right=f(s,C),q._color=o,D-=1;else{if(q._color=o,q.left=R.right,R._color=s,R.right=q,S[D-2]=R,S[D-1]=T,c(q),c(R),D>=3){var F=S[D-3];F.left===q?F.left=R:F.right=R}break}}else{var C=q.right;if(C&&C._color===o)R._color=s,q.right=f(s,C),q._color=o,D-=1;else{if(R.right=T.left,q._color=o,q.left=T.right,T._color=s,T.left=R,T.right=q,S[D-2]=T,S[D-1]=R,c(q),c(R),c(T),D>=3){var F=S[D-3];F.left===q?F.left=T:F.right=T}break}}else if(R.right===T){var C=q.left;if(C&&C._color===o)R._color=s,q.left=f(s,C),q._color=o,D-=1;else{if(q._color=o,q.right=R.left,R._color=s,R.left=q,S[D-2]=R,S[D-1]=T,c(q),c(R),D>=3){var F=S[D-3];F.right===q?F.right=R:F.left=R}break}}else{var C=q.left;if(C&&C._color===o)R._color=s,q.left=f(s,C),q._color=o,D-=1;else{if(R.left=T.right,q._color=o,q.right=T.left,T._color=s,T.right=R,T.left=q,S[D-2]=T,S[D-1]=R,c(q),c(R),c(T),D>=3){var F=S[D-3];F.right===q?F.right=T:F.left=T}break}}}return S[0]._color=s,new h(M,S[0])};function b(p,d){if(d.left){var M=b(p,d.left);if(M)return M}var M=p(d.key,d.value);if(M)return M;if(d.right)return b(p,d.right)}function y(p,d,M,T){var S=d(p,T.key);if(S<=0){if(T.left){var E=y(p,d,M,T.left);if(E)return E}var E=M(T.key,T.value);if(E)return E}if(T.right)return y(p,d,M,T.right)}function x(p,d,M,T,S){var E=M(p,S.key),L=M(d,S.key),D;if(E<=0&&(S.left&&(D=x(p,d,M,T,S.left),D)||L>0&&(D=T(S.key,S.value),D)))return D;if(L>0&&S.right)return x(p,d,M,T,S.right)}v.forEach=function(d,M,T){if(this.root)switch(arguments.length){case 1:return b(d,this.root);case 2:return y(M,this._compare,d,this.root);case 3:return this._compare(M,T)>=0?void 0:x(M,T,this._compare,d,this.root)}},Object.defineProperty(v,"begin",{get:function(){for(var p=[],d=this.root;d;)p.push(d),d=d.left;return new m(this,p)}}),Object.defineProperty(v,"end",{get:function(){for(var p=[],d=this.root;d;)p.push(d),d=d.right;return new m(this,p)}}),v.at=function(p){if(p<0)return new m(this,[]);for(var d=this.root,M=[];;){if(M.push(d),d.left){if(p<d.left._count){d=d.left;continue}p-=d.left._count}if(!p)return new m(this,M);if(p-=1,d.right){if(p>=d.right._count)break;d=d.right}else break}return new m(this,[])},v.ge=function(p){for(var d=this._compare,M=this.root,T=[],S=0;M;){var E=d(p,M.key);T.push(M),E<=0&&(S=T.length),E<=0?M=M.left:M=M.right}return T.length=S,new m(this,T)},v.gt=function(p){for(var d=this._compare,M=this.root,T=[],S=0;M;){var E=d(p,M.key);T.push(M),E<0&&(S=T.length),E<0?M=M.left:M=M.right}return T.length=S,new m(this,T)},v.lt=function(p){for(var d=this._compare,M=this.root,T=[],S=0;M;){var E=d(p,M.key);T.push(M),E>0&&(S=T.length),E<=0?M=M.left:M=M.right}return T.length=S,new m(this,T)},v.le=function(p){for(var d=this._compare,M=this.root,T=[],S=0;M;){var E=d(p,M.key);T.push(M),E>=0&&(S=T.length),E<0?M=M.left:M=M.right}return T.length=S,new m(this,T)},v.find=function(p){for(var d=this._compare,M=this.root,T=[];M;){var S=d(p,M.key);if(T.push(M),S===0)return new m(this,T);S<=0?M=M.left:M=M.right}return new m(this,[])},v.remove=function(p){var d=this.find(p);return d?d.remove():this},v.get=function(p){for(var d=this._compare,M=this.root;M;){var T=d(p,M.key);if(T===0)return M.value;T<=0?M=M.left:M=M.right}};function m(p,d){this.tree=p,this._stack=d}var _=m.prototype;Object.defineProperty(_,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(_,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),_.clone=function(){return new m(this.tree,this._stack.slice())};function g(p,d){p.key=d.key,p.value=d.value,p.left=d.left,p.right=d.right,p._color=d._color,p._count=d._count}function A(p){for(var d,M,T,S,E=p.length-1;E>=0;--E){if(d=p[E],E===0){d._color=s;return}if(M=p[E-1],M.left===d){if(T=M.right,T.right&&T.right._color===o){if(T=M.right=u(T),S=T.right=u(T.right),M.right=T.left,T.left=M,T.right=S,T._color=M._color,d._color=s,M._color=s,S._color=s,c(M),c(T),E>1){var L=p[E-2];L.left===M?L.left=T:L.right=T}p[E-1]=T;return}else if(T.left&&T.left._color===o){if(T=M.right=u(T),S=T.left=u(T.left),M.right=S.left,T.left=S.right,S.left=M,S.right=T,S._color=M._color,M._color=s,T._color=s,d._color=s,c(M),c(T),c(S),E>1){var L=p[E-2];L.left===M?L.left=S:L.right=S}p[E-1]=S;return}if(T._color===s)if(M._color===o){M._color=s,M.right=f(o,T);return}else{M.right=f(o,T);continue}else{if(T=u(T),M.right=T.left,T.left=M,T._color=M._color,M._color=o,c(M),c(T),E>1){var L=p[E-2];L.left===M?L.left=T:L.right=T}p[E-1]=T,p[E]=M,E+1<p.length?p[E+1]=d:p.push(d),E=E+2}}else{if(T=M.left,T.left&&T.left._color===o){if(T=M.left=u(T),S=T.left=u(T.left),M.left=T.right,T.right=M,T.left=S,T._color=M._color,d._color=s,M._color=s,S._color=s,c(M),c(T),E>1){var L=p[E-2];L.right===M?L.right=T:L.left=T}p[E-1]=T;return}else if(T.right&&T.right._color===o){if(T=M.left=u(T),S=T.right=u(T.right),M.left=S.right,T.right=S.left,S.right=M,S.left=T,S._color=M._color,M._color=s,T._color=s,d._color=s,c(M),c(T),c(S),E>1){var L=p[E-2];L.right===M?L.right=S:L.left=S}p[E-1]=S;return}if(T._color===s)if(M._color===o){M._color=s,M.left=f(o,T);return}else{M.left=f(o,T);continue}else{if(T=u(T),M.left=T.right,T.right=M,T._color=M._color,M._color=o,c(M),c(T),E>1){var L=p[E-2];L.right===M?L.right=T:L.left=T}p[E-1]=T,p[E]=M,E+1<p.length?p[E+1]=d:p.push(d),E=E+2}}}}_.remove=function(){var p=this._stack;if(p.length===0)return this.tree;var d=new Array(p.length),M=p[p.length-1];d[d.length-1]=new l(M._color,M.key,M.value,M.left,M.right,M._count);for(var T=p.length-2;T>=0;--T){var M=p[T];M.left===p[T+1]?d[T]=new l(M._color,M.key,M.value,d[T+1],M.right,M._count):d[T]=new l(M._color,M.key,M.value,M.left,d[T+1],M._count)}if(M=d[d.length-1],M.left&&M.right){var S=d.length;for(M=M.left;M.right;)d.push(M),M=M.right;var E=d[S-1];d.push(new l(M._color,E.key,E.value,M.left,M.right,M._count)),d[S-1].key=M.key,d[S-1].value=M.value;for(var T=d.length-2;T>=S;--T)M=d[T],d[T]=new l(M._color,M.key,M.value,M.left,d[T+1],M._count);d[S-1].left=d[S]}if(M=d[d.length-1],M._color===o){var L=d[d.length-2];L.left===M?L.left=null:L.right===M&&(L.right=null),d.pop();for(var T=0;T<d.length;++T)d[T]._count--;return new h(this.tree._compare,d[0])}else if(M.left||M.right){M.left?g(M,M.left):M.right&&g(M,M.right),M._color=s;for(var T=0;T<d.length-1;++T)d[T]._count--;return new h(this.tree._compare,d[0])}else{if(d.length===1)return new h(this.tree._compare,null);for(var T=0;T<d.length;++T)d[T]._count--;var D=d[d.length-2];A(d),D.left===M?D.left=null:D.right=null}return new h(this.tree._compare,d[0])},Object.defineProperty(_,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(_,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(_,"index",{get:function(){var p=0,d=this._stack;if(d.length===0){var M=this.tree.root;return M?M._count:0}else d[d.length-1].left&&(p=d[d.length-1].left._count);for(var T=d.length-2;T>=0;--T)d[T+1]===d[T].right&&(++p,d[T].left&&(p+=d[T].left._count));return p},enumerable:!0}),_.next=function(){var p=this._stack;if(p.length!==0){var d=p[p.length-1];if(d.right)for(d=d.right;d;)p.push(d),d=d.left;else for(p.pop();p.length>0&&p[p.length-1].right===d;)d=p[p.length-1],p.pop()}},Object.defineProperty(_,"hasNext",{get:function(){var p=this._stack;if(p.length===0)return!1;if(p[p.length-1].right)return!0;for(var d=p.length-1;d>0;--d)if(p[d-1].left===p[d])return!0;return!1}}),_.update=function(p){var d=this._stack;if(d.length===0)throw new Error("Can't update empty node!");var M=new Array(d.length),T=d[d.length-1];M[M.length-1]=new l(T._color,T.key,p,T.left,T.right,T._count);for(var S=d.length-2;S>=0;--S)T=d[S],T.left===d[S+1]?M[S]=new l(T._color,T.key,T.value,M[S+1],T.right,T._count):M[S]=new l(T._color,T.key,T.value,T.left,M[S+1],T._count);return new h(this.tree._compare,M[0])},_.prev=function(){var p=this._stack;if(p.length!==0){var d=p[p.length-1];if(d.left)for(d=d.left;d;)p.push(d),d=d.right;else for(p.pop();p.length>0&&p[p.length-1].left===d;)d=p[p.length-1],p.pop()}},Object.defineProperty(_,"hasPrev",{get:function(){var p=this._stack;if(p.length===0)return!1;if(p[p.length-1].left)return!0;for(var d=p.length-1;d>0;--d)if(p[d-1].right===p[d])return!0;return!1}});function w(p,d){return p<d?-1:p>d?1:0}function k(p){return new h(p||w,null)}},{}],70:[function(n,i,a){"use strict";i.exports=d;var o=n("./lib/text.js"),s=n("./lib/lines.js"),l=n("./lib/background.js"),u=n("./lib/cube.js"),f=n("./lib/ticks.js"),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function h(M,T){return M[0]=T[0],M[1]=T[1],M[2]=T[2],M}function v(M){this.gl=M,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=l(M)}var b=v.prototype;b.update=function(M){M=M||{};function T(Y,K,B){if(B in M){var z=M[B],j=this[B],ae;(Y?Array.isArray(z)&&Array.isArray(z[0]):Array.isArray(z))?this[B]=ae=[K(z[0]),K(z[1]),K(z[2])]:this[B]=ae=[K(z),K(z),K(z)];for(var ee=0;ee<3;++ee)if(ae[ee]!==j[ee])return!0}return!1}var S=T.bind(this,!1,Number),E=T.bind(this,!1,Boolean),L=T.bind(this,!1,String),D=T.bind(this,!0,function(Y){if(Array.isArray(Y)){if(Y.length===3)return[+Y[0],+Y[1],+Y[2],1];if(Y.length===4)return[+Y[0],+Y[1],+Y[2],+Y[3]]}return[0,0,0,1]}),R,q=!1,C=!1;if("bounds"in M){var F=M.bounds;e:for(var N=0;N<2;++N)for(var U=0;U<3;++U)F[N][U]!==this.bounds[N][U]&&(C=!0),this.bounds[N][U]=F[N][U]}if("ticks"in M){R=M.ticks,q=!0,this.autoTicks=!1;for(var N=0;N<3;++N)this.tickSpacing[N]=0}else S("tickSpacing")&&(this.autoTicks=!0,C=!0);if(this._firstInit&&("ticks"in M||"tickSpacing"in M||(this.autoTicks=!0),C=!0,q=!0,this._firstInit=!1),C&&this.autoTicks&&(R=f.create(this.bounds,this.tickSpacing),q=!0),q){for(var N=0;N<3;++N)R[N].sort(function(K,B){return K.x-B.x});f.equal(R,this.ticks)?q=!1:this.ticks=R}E("tickEnable"),L("tickFont")&&(q=!0),S("tickSize"),S("tickAngle"),S("tickPad"),D("tickColor");var V=L("labels");L("labelFont")&&(V=!0),E("labelEnable"),S("labelSize"),S("labelPad"),D("labelColor"),E("lineEnable"),E("lineMirror"),S("lineWidth"),D("lineColor"),E("lineTickEnable"),E("lineTickMirror"),S("lineTickLength"),S("lineTickWidth"),D("lineTickColor"),E("gridEnable"),S("gridWidth"),D("gridColor"),E("zeroEnable"),D("zeroLineColor"),S("zeroLineWidth"),E("backgroundEnable"),D("backgroundColor"),this._text?this._text&&(V||q)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=o(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&q&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function y(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var x=[new y,new y,new y];function m(M,T,S,E,L){for(var D=M.primalOffset,R=M.primalMinor,q=M.mirrorOffset,C=M.mirrorMinor,F=E[T],N=0;N<3;++N)if(T!==N){var U=D,V=q,Y=R,K=C;F&1<<N&&(U=q,V=D,Y=C,K=R),U[N]=S[0][N],V[N]=S[1][N],L[N]>0?(Y[N]=-1,K[N]=0):(Y[N]=0,K[N]=1)}}var _=[0,0,0],g={model:c,view:c,projection:c,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(M){};var A=0,w=[0,0,0],k=[0,0,0],p=[0,0,0];b.draw=function(M){M=M||g;for(var j=this.gl,T=M.model||c,S=M.view||c,E=M.projection||c,L=this.bounds,D=M._ortho||!1,R=u(T,S,E,L,D),q=R.cubeEdges,C=R.axis,F=S[12],N=S[13],U=S[14],V=S[15],Y=D?2:1,K=Y*this.pixelRatio*(E[3]*F+E[7]*N+E[11]*U+E[15]*V)/j.drawingBufferHeight,B=0;B<3;++B)this.lastCubeProps.cubeEdges[B]=q[B],this.lastCubeProps.axis[B]=C[B];for(var z=x,B=0;B<3;++B)m(x[B],B,this.bounds,q,C);for(var j=this.gl,ae=_,B=0;B<3;++B)this.backgroundEnable[B]?ae[B]=C[B]:ae[B]=0;this._background.draw(T,S,E,L,ae,this.backgroundColor),this._lines.bind(T,S,E,this);for(var B=0;B<3;++B){var ee=[0,0,0];C[B]>0?ee[B]=L[1][B]:ee[B]=L[0][B];for(var ve=0;ve<2;++ve){var fe=(B+1+ve)%3,se=(B+1+(ve^1))%3;this.gridEnable[fe]&&this._lines.drawGrid(fe,se,this.bounds,ee,this.gridColor[fe],this.gridWidth[fe]*this.pixelRatio)}for(var ve=0;ve<2;++ve){var fe=(B+1+ve)%3,se=(B+1+(ve^1))%3;this.zeroEnable[se]&&Math.min(L[0][se],L[1][se])<=0&&Math.max(L[0][se],L[1][se])>=0&&this._lines.drawZero(fe,se,this.bounds,ee,this.zeroLineColor[se],this.zeroLineWidth[se]*this.pixelRatio)}}for(var B=0;B<3;++B){this.lineEnable[B]&&this._lines.drawAxisLine(B,this.bounds,z[B].primalOffset,this.lineColor[B],this.lineWidth[B]*this.pixelRatio),this.lineMirror[B]&&this._lines.drawAxisLine(B,this.bounds,z[B].mirrorOffset,this.lineColor[B],this.lineWidth[B]*this.pixelRatio);for(var G=h(w,z[B].primalMinor),Z=h(k,z[B].mirrorMinor),X=this.lineTickLength,ve=0;ve<3;++ve){var ge=K/T[5*ve];G[ve]*=X[ve]*ge,Z[ve]*=X[ve]*ge}this.lineTickEnable[B]&&this._lines.drawAxisTicks(B,z[B].primalOffset,G,this.lineTickColor[B],this.lineTickWidth[B]*this.pixelRatio),this.lineTickMirror[B]&&this._lines.drawAxisTicks(B,z[B].mirrorOffset,Z,this.lineTickColor[B],this.lineTickWidth[B]*this.pixelRatio)}this._lines.unbind(),this._text.bind(T,S,E,this.pixelRatio);var qe,Pe=.5,Oe,de;function _e(He){de=[0,0,0],de[He]=1}function ce(He,te,ye){var Te=(He+1)%3,Ce=(He+2)%3,De=te[Te],oe=te[Ce],pe=ye[Te],Le=ye[Ce];if(De>0&&Le>0){_e(Te);return}else if(De>0&&Le<0){_e(Te);return}else if(De<0&&Le>0){_e(Te);return}else if(De<0&&Le<0){_e(Te);return}else if(oe>0&&pe>0){_e(Ce);return}else if(oe>0&&pe<0){_e(Ce);return}else if(oe<0&&pe>0){_e(Ce);return}else if(oe<0&&pe<0){_e(Ce);return}}for(var B=0;B<3;++B){for(var J=z[B].primalMinor,ne=z[B].mirrorMinor,be=h(p,z[B].primalOffset),ve=0;ve<3;++ve)this.lineTickEnable[B]&&(be[ve]+=K*J[ve]*Math.max(this.lineTickLength[ve],0)/T[5*ve]);var Fe=[0,0,0];if(Fe[B]=1,this.tickEnable[B]){this.tickAngle[B]===-3600?(this.tickAngle[B]=0,this.tickAlign[B]="auto"):this.tickAlign[B]=-1,Oe=1,qe=[this.tickAlign[B],Pe,Oe],qe[0]==="auto"?qe[0]=A:qe[0]=parseInt(""+qe[0]),de=[0,0,0],ce(B,J,ne);for(var ve=0;ve<3;++ve)be[ve]+=K*J[ve]*this.tickPad[ve]/T[5*ve];this._text.drawTicks(B,this.tickSize[B],this.tickAngle[B],be,this.tickColor[B],Fe,de,qe)}if(this.labelEnable[B]){Oe=0,de=[0,0,0],this.labels[B].length>4&&(_e(B),Oe=1),qe=[this.labelAlign[B],Pe,Oe],qe[0]==="auto"?qe[0]=A:qe[0]=parseInt(""+qe[0]);for(var ve=0;ve<3;++ve)be[ve]+=K*J[ve]*this.labelPad[ve]/T[5*ve];be[B]+=.5*(L[0][B]+L[1][B]),this._text.drawLabel(B,this.labelSize[B],this.labelAngle[B],be,this.labelColor[B],[0,0,0],de,qe)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function d(M,T){var S=new v(M);return S.update(T),S}},{"./lib/background.js":71,"./lib/cube.js":72,"./lib/lines.js":73,"./lib/text.js":75,"./lib/ticks.js":76}],71:[function(n,i,a){"use strict";i.exports=c;var o=n("gl-buffer"),s=n("gl-vao"),l=n("./shaders").bg;function u(h,v,b,y){this.gl=h,this.buffer=v,this.vao=b,this.shader=y}var f=u.prototype;f.draw=function(h,v,b,y,x,m){for(var _=!1,g=0;g<3;++g)_=_||x[g];if(_){var A=this.gl;A.enable(A.POLYGON_OFFSET_FILL),A.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:h,view:v,projection:b,bounds:y,enable:x,colors:m},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),A.disable(A.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(h){for(var v=[],b=[],y=0,x=0;x<3;++x)for(var m=(x+1)%3,_=(x+2)%3,g=[0,0,0],A=[0,0,0],w=-1;w<=1;w+=2){b.push(y,y+2,y+1,y+1,y+2,y+3),g[x]=w,A[x]=w;for(var k=-1;k<=1;k+=2){g[m]=k;for(var p=-1;p<=1;p+=2)g[_]=p,v.push(g[0],g[1],g[2],A[0],A[1],A[2]),y+=1}var d=m;m=_,_=d}var M=o(h,new Float32Array(v)),T=o(h,new Uint16Array(b),h.ELEMENT_ARRAY_BUFFER),S=s(h,[{buffer:M,type:h.FLOAT,size:3,offset:0,stride:24},{buffer:M,type:h.FLOAT,size:3,offset:12,stride:24}],T),E=l(h);return E.attributes.position.location=0,E.attributes.normal.location=1,new u(h,M,S,E)}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],72:[function(n,i,a){"use strict";i.exports=w;var o=n("bit-twiddle"),s=n("gl-mat4/multiply"),l=n("split-polygon"),u=n("robust-orientation"),f=new Array(16),c=new Array(8),h=new Array(8),v=new Array(3),b=[0,0,0];(function(){for(var k=0;k<8;++k)c[k]=[1,1,1,1],h[k]=[1,1,1]})();function y(k,p,d){for(var M=0;M<4;++M){k[M]=d[12+M];for(var T=0;T<3;++T)k[M]+=p[T]*d[4*T+M]}}var x=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(k){for(var p=0;p<x.length;++p)if(k=l.positive(k,x[p]),k.length<3)return 0;for(var d=k[0],M=d[0]/d[3],T=d[1]/d[3],S=0,p=1;p+1<k.length;++p){var E=k[p],L=k[p+1],D=E[0]/E[3],R=E[1]/E[3],q=L[0]/L[3],C=L[1]/L[3],F=D-M,N=R-T,U=q-M,V=C-T;S+=Math.abs(F*V-N*U)}return S}var _=[1,1,1],g=[0,0,0],A={cubeEdges:_,axis:g};function w(k,p,d,M,T){s(f,p,k),s(f,d,f);for(var S=0,E=0;E<2;++E){v[2]=M[E][2];for(var L=0;L<2;++L){v[1]=M[L][1];for(var D=0;D<2;++D)v[0]=M[D][0],y(c[S],v,f),S+=1}}for(var R=-1,E=0;E<8;++E){for(var q=c[E][3],C=0;C<3;++C)h[E][C]=c[E][C]/q;T&&(h[E][2]*=-1),q<0&&(R<0||h[E][2]<h[R][2])&&(R=E)}if(R<0){R=0;for(var F=0;F<3;++F){for(var N=(F+2)%3,U=(F+1)%3,V=-1,Y=-1,K=0;K<2;++K){var B=K<<F,z=B+(K<<N)+(1-K<<U),j=B+(1-K<<N)+(K<<U);u(h[B],h[z],h[j],b)<0||(K?V=1:Y=1)}if(V<0||Y<0){Y>V&&(R|=1<<F);continue}for(var K=0;K<2;++K){var B=K<<F,z=B+(K<<N)+(1-K<<U),j=B+(1-K<<N)+(K<<U),ae=m([c[B],c[z],c[j],c[B+(1<<N)+(1<<U)]]);K?V=ae:Y=ae}if(Y>V){R|=1<<F;continue}}}for(var ee=7^R,ve=-1,E=0;E<8;++E)E===R||E===ee||(ve<0||h[ve][1]>h[E][1])&&(ve=E);for(var fe=-1,E=0;E<3;++E){var se=ve^1<<E;if(!(se===R||se===ee)){fe<0&&(fe=se);var U=h[se];U[0]<h[fe][0]&&(fe=se)}}for(var G=-1,E=0;E<3;++E){var se=ve^1<<E;if(!(se===R||se===ee||se===fe)){G<0&&(G=se);var U=h[se];U[0]>h[G][0]&&(G=se)}}var Z=_;Z[0]=Z[1]=Z[2]=0,Z[o.log2(fe^ve)]=ve&fe,Z[o.log2(ve^G)]=ve&G;var X=G^7;X===R||X===ee?(X=fe^7,Z[o.log2(G^X)]=X&G):Z[o.log2(fe^X)]=X&fe;for(var ge=g,qe=R,F=0;F<3;++F)qe&1<<F?ge[F]=-1:ge[F]=1;return A}},{"bit-twiddle":32,"gl-mat4/multiply":100,"robust-orientation":284,"split-polygon":300}],73:[function(n,i,a){"use strict";i.exports=_;var o=n("gl-buffer"),s=n("gl-vao"),l=n("./shaders").line,u=[0,0,0],f=[0,0,0],c=[0,0,0],h=[0,0,0],v=[1,1];function b(g){return g[0]=g[1]=g[2]=0,g}function y(g,A){return g[0]=A[0],g[1]=A[1],g[2]=A[2],g}function x(g,A,w,k,p,d,M,T){this.gl=g,this.vertBuffer=A,this.vao=w,this.shader=k,this.tickCount=p,this.tickOffset=d,this.gridCount=M,this.gridOffset=T}var m=x.prototype;m.bind=function(g,A,w){this.shader.bind(),this.shader.uniforms.model=g,this.shader.uniforms.view=A,this.shader.uniforms.projection=w,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(g,A,w,k,p){var d=b(f);this.shader.uniforms.majorAxis=f,d[g]=A[1][g]-A[0][g],this.shader.uniforms.minorAxis=d;var M=y(h,w);M[g]+=A[0][g],this.shader.uniforms.offset=M,this.shader.uniforms.lineWidth=p,this.shader.uniforms.color=k;var T=b(c);T[(g+2)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6);var T=b(c);T[(g+1)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(g,A,w,k,p){if(this.tickCount[g]){var d=b(u);d[g]=1,this.shader.uniforms.majorAxis=d,this.shader.uniforms.offset=A,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=k,this.shader.uniforms.lineWidth=p;var M=b(c);M[g]=1,this.shader.uniforms.screenAxis=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g])}},m.drawGrid=function(g,A,w,k,p,d){if(this.gridCount[g]){var M=b(f);M[A]=w[1][A]-w[0][A],this.shader.uniforms.minorAxis=M;var T=y(h,k);T[A]+=w[0][A],this.shader.uniforms.offset=T;var S=b(u);S[g]=1,this.shader.uniforms.majorAxis=S;var E=b(c);E[g]=1,this.shader.uniforms.screenAxis=E,this.shader.uniforms.lineWidth=d,this.shader.uniforms.color=p,this.vao.draw(this.gl.TRIANGLES,this.gridCount[g],this.gridOffset[g])}},m.drawZero=function(g,A,w,k,p,d){var M=b(f);this.shader.uniforms.majorAxis=M,M[g]=w[1][g]-w[0][g],this.shader.uniforms.minorAxis=M;var T=y(h,k);T[g]+=w[0][g],this.shader.uniforms.offset=T;var S=b(c);S[A]=1,this.shader.uniforms.screenAxis=S,this.shader.uniforms.lineWidth=d,this.shader.uniforms.color=p,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function _(g,A,w){var k=[],p=[0,0,0],d=[0,0,0],M=[0,0,0],T=[0,0,0];k.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var S=0;S<3;++S){for(var D=k.length/3|0,E=0;E<w[S].length;++E){var L=+w[S][E].x;k.push(L,0,1,L,1,1,L,0,-1,L,0,-1,L,1,1,L,1,-1)}var q=k.length/3|0;p[S]=D,d[S]=q-D;for(var D=k.length/3|0,R=0;R<w[S].length;++R){var L=+w[S][R].x;k.push(L,0,1,L,1,1,L,0,-1,L,0,-1,L,1,1,L,1,-1)}var q=k.length/3|0;M[S]=D,T[S]=q-D}var C=o(g,new Float32Array(k)),F=s(g,[{buffer:C,type:g.FLOAT,size:3,stride:0,offset:0}]),N=l(g);return N.attributes.position.location=0,new x(g,C,F,N,d,p,T,M)}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],74:[function(n,i,a){"use strict";var o=n("glslify"),s=n("gl-shader"),l=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);a.line=function(b){return s(b,l,u,null,[{name:"position",type:"vec3"}])};var f=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),c=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);a.text=function(b){return s(b,f,c,null,[{name:"position",type:"vec3"}])};var h=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),v=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);a.bg=function(b){return s(b,h,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":132,glslify:231}],75:[function(n,i,a){(function(o){(function(){"use strict";i.exports=_;var s=n("gl-buffer"),l=n("gl-vao"),u=n("vectorize-text"),f=n("./shaders").text,c=window||o.global||{},h=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var v=3;function b(g,A,w,k){this.gl=g,this.shader=A,this.buffer=w,this.vao=k,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var y=b.prototype,x=[0,0];y.bind=function(g,A,w,k){this.vao.bind(),this.shader.bind();var p=this.shader.uniforms;p.model=g,p.view=A,p.projection=w,p.pixelScale=k,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},y.unbind=function(){this.vao.unbind()},y.update=function(g,A,w,k,p){var d=[];function M(F,N,U,V,Y,K){var B=h[U];B||(B=h[U]={});var z=B[N];z||(z=B[N]=m(N,{triangles:!0,font:U,textAlign:"center",textBaseline:"middle",lineSpacing:Y,styletags:K}));for(var j=(V||12)/12,ae=z.positions,ee=z.cells,ve=0,fe=ee.length;ve<fe;++ve)for(var se=ee[ve],G=2;G>=0;--G){var Z=ae[se[G]];d.push(j*Z[0],-j*Z[1],F)}}for(var T=[0,0,0],S=[0,0,0],E=[0,0,0],L=[0,0,0],D=1.25,R={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},q=0;q<3;++q){E[q]=d.length/v|0,M(.5*(g[0][q]+g[1][q]),A[q],w[q],12,D,R),L[q]=(d.length/v|0)-E[q],T[q]=d.length/v|0;for(var C=0;C<k[q].length;++C)k[q][C].text&&M(k[q][C].x,k[q][C].text,k[q][C].font||p,k[q][C].fontSize||12,D,R);S[q]=(d.length/v|0)-T[q]}this.buffer.update(d),this.tickOffset=T,this.tickCount=S,this.labelOffset=E,this.labelCount=L},y.drawTicks=function(g,A,w,k,p,d,M,T){this.tickCount[g]&&(this.shader.uniforms.axis=d,this.shader.uniforms.color=p,this.shader.uniforms.angle=w,this.shader.uniforms.scale=A,this.shader.uniforms.offset=k,this.shader.uniforms.alignDir=M,this.shader.uniforms.alignOpt=T,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},y.drawLabel=function(g,A,w,k,p,d,M,T){this.labelCount[g]&&(this.shader.uniforms.axis=d,this.shader.uniforms.color=p,this.shader.uniforms.angle=w,this.shader.uniforms.scale=A,this.shader.uniforms.offset=k,this.shader.uniforms.alignDir=M,this.shader.uniforms.alignOpt=T,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},y.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function m(g,A){try{return u(g,A)}catch(w){return console.warn('error vectorizing text:"'+g+'" error:',w),{cells:[],positions:[]}}}function _(g,A,w,k,p,d){var M=s(g),T=l(g,[{buffer:M,size:3}]),S=f(g);S.attributes.position.location=0;var E=new b(g,S,M,T);return E.update(A,w,k,p,d),E}}).call(this)}).call(this,n("_process"))},{"./shaders":74,_process:5,"gl-buffer":78,"gl-vao":150,"vectorize-text":311}],76:[function(n,i,a){"use strict";a.create=s,a.equal=l;function o(u,f){var c=u+"",h=c.indexOf("."),v=0;h>=0&&(v=c.length-h-1);var b=Math.pow(10,v),y=Math.round(u*f*b),x=y+"";if(x.indexOf("e")>=0)return x;var m=y/b,_=y%b;y<0?(m=-Math.ceil(m)|0,_=-_|0):(m=Math.floor(m)|0,_=_|0);var g=""+m;if(y<0&&(g="-"+g),v){for(var A=""+_;A.length<v;)A="0"+A;return g+"."+A}else return g}function s(u,f){for(var c=[],h=0;h<3;++h){for(var v=[],b=.5*(u[0][h]+u[1][h]),y=0;y*f[h]<=u[1][h];++y)v.push({x:y*f[h],text:o(f[h],y)});for(var y=-1;y*f[h]>=u[0][h];--y)v.push({x:y*f[h],text:o(f[h],y)});c.push(v)}return c}function l(u,f){for(var c=0;c<3;++c){if(u[c].length!==f[c].length)return!1;for(var h=0;h<u[c].length;++h){var v=u[c][h],b=f[c][h];if(v.x!==b.x||v.text!==b.text||v.font!==b.font||v.fontColor!==b.fontColor||v.fontSize!==b.fontSize||v.dx!==b.dx||v.dy!==b.dy)return!1}}return!0}},{}],77:[function(n,i,a){"use strict";i.exports=A;var o=n("extract-frustum-planes"),s=n("split-polygon"),l=n("./lib/cube.js"),u=n("gl-mat4/multiply"),f=n("gl-mat4/transpose"),c=n("gl-vec4/transformMat4"),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function b(w,k,p){this.lo=w,this.hi=k,this.pixelsPerDataUnit=p}var y=[0,0,0,1],x=[0,0,0,1];function m(w,k,p,d,M){for(var T=0;T<3;++T){for(var S=y,E=x,L=0;L<3;++L)E[L]=S[L]=p[L];E[3]=S[3]=1,E[T]+=1,c(E,E,k),E[3]<0&&(w[T]=1/0),S[T]-=1,c(S,S,k),S[3]<0&&(w[T]=1/0);var D=(S[0]/S[3]-E[0]/E[3])*d,R=(S[1]/S[3]-E[1]/E[3])*M;w[T]=.25*Math.sqrt(D*D+R*R)}return w}var _=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],g=[0,0,0];function A(w,k,p,d,R){var T=k.model||h,S=k.view||h,E=k.projection||h,L=k._ortho||!1,D=w.bounds,R=R||l(T,S,E,D,L),q=R.axis;u(v,S,T),u(v,E,v);for(var C=_,F=0;F<3;++F)C[F].lo=1/0,C[F].hi=-1/0,C[F].pixelsPerDataUnit=1/0;var N=o(f(v,v));f(v,v);for(var U=0;U<3;++U){var V=(U+1)%3,Y=(U+2)%3,K=g;e:for(var F=0;F<2;++F){var B=[];if(q[U]<0!=!!F){K[U]=D[F][U];for(var z=0;z<2;++z){K[V]=D[z^F][V];for(var j=0;j<2;++j)K[Y]=D[j^z^F][Y],B.push(K.slice())}for(var ae=L?5:4,z=ae;z===ae;++z){if(B.length===0)continue e;B=s.positive(B,N[z])}for(var z=0;z<B.length;++z)for(var Y=B[z],ee=m(g,v,Y,p,d),j=0;j<3;++j)C[j].lo=Math.min(C[j].lo,Y[j]),C[j].hi=Math.max(C[j].hi,Y[j]),j!==U&&(C[j].pixelsPerDataUnit=Math.min(C[j].pixelsPerDataUnit,Math.abs(ee[j])))}}}return C}},{"./lib/cube.js":72,"extract-frustum-planes":67,"gl-mat4/multiply":100,"gl-mat4/transpose":109,"gl-vec4/transformMat4":221,"split-polygon":300}],78:[function(n,i,a){"use strict";var o=n("typedarray-pool"),s=n("ndarray-ops"),l=n("ndarray"),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(x,m,_,g,A){this.gl=x,this.type=m,this.handle=_,this.length=g,this.usage=A}var c=f.prototype;c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)};function h(x,m,_,g,A,w){var k=A.length*A.BYTES_PER_ELEMENT;if(w<0)return x.bufferData(m,A,g),k;if(k+w>_)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(m,w,A),_}function v(x,m){for(var _=o.malloc(x.length,m),g=x.length,A=0;A<g;++A)_[A]=x[A];return _}function b(x,m){for(var _=1,g=m.length-1;g>=0;--g){if(m[g]!==_)return!1;_*=x[g]}return!0}c.update=function(x,m){if(typeof m!="number"&&(m=-1),this.bind(),typeof x=="object"&&typeof x.shape<"u"){var _=x.dtype;if(u.indexOf(_)<0&&(_="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var g=gl.getExtension("OES_element_index_uint");g&&_!=="uint16"?_="uint32":_="uint16"}if(_===x.dtype&&b(x.shape,x.stride))x.offset===0&&x.data.length===x.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,x.data,m):this.length=h(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),m);else{var A=o.malloc(x.size,_),w=l(A,x.shape);s.assign(w,x),m<0?this.length=h(this.gl,this.type,this.length,this.usage,A,m):this.length=h(this.gl,this.type,this.length,this.usage,A.subarray(0,x.size),m),o.free(A)}}else if(Array.isArray(x)){var k;this.type===this.gl.ELEMENT_ARRAY_BUFFER?k=v(x,"uint16"):k=v(x,"float32"),m<0?this.length=h(this.gl,this.type,this.length,this.usage,k,m):this.length=h(this.gl,this.type,this.length,this.usage,k.subarray(0,x.length),m),o.free(k)}else if(typeof x=="object"&&typeof x.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,x,m);else if(typeof x=="number"||x===void 0){if(m>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");x=x|0,x<=0&&(x=1),this.gl.bufferData(this.type,x|0,this.usage),this.length=x}else throw new Error("gl-buffer: Invalid data type")};function y(x,m,_,g){if(_=_||x.ARRAY_BUFFER,g=g||x.DYNAMIC_DRAW,_!==x.ARRAY_BUFFER&&_!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(g!==x.DYNAMIC_DRAW&&g!==x.STATIC_DRAW&&g!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var A=x.createBuffer(),w=new f(x,_,A,0,g);return w.update(m),w}i.exports=y},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],79:[function(n,i,a){"use strict";var o=n("gl-vec3");i.exports=function(l,u){var f=l.positions,c=l.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:l.vertexIntensityBounds,vectors:[],cells:[],coneOffset:l.coneOffset,colormap:l.colormap};if(l.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),h;for(var v=0,b=1/0,y=-1/0,x=1/0,m=-1/0,_=1/0,g=-1/0,A=null,w=null,k=[],p=1/0,d=!1,M=0;M<f.length;M++){var T=f[M];b=Math.min(T[0],b),y=Math.max(T[0],y),x=Math.min(T[1],x),m=Math.max(T[1],m),_=Math.min(T[2],_),g=Math.max(T[2],g);var S=c[M];if(o.length(S)>v&&(v=o.length(S)),M){var E=2*o.distance(A,T)/(o.length(w)+o.length(S));E?(p=Math.min(p,E),d=!1):d=!0}d||(A=T,w=S),k.push(S)}var L=[b,x,_],D=[y,m,g];u&&(u[0]=L,u[1]=D),v===0&&(v=1);var R=1/v;isFinite(p)||(p=1),h.vectorScale=p;var q=l.coneSize||.5;l.absoluteConeSize&&(q=l.absoluteConeSize*R),h.coneScale=q;for(var M=0,C=0;M<f.length;M++)for(var T=f[M],F=T[0],N=T[1],U=T[2],V=k[M],Y=o.length(V)*R,K=0,B=8;K<B;K++){h.positions.push([F,N,U,C++]),h.positions.push([F,N,U,C++]),h.positions.push([F,N,U,C++]),h.positions.push([F,N,U,C++]),h.positions.push([F,N,U,C++]),h.positions.push([F,N,U,C++]),h.vectors.push(V),h.vectors.push(V),h.vectors.push(V),h.vectors.push(V),h.vectors.push(V),h.vectors.push(V),h.vertexIntensity.push(Y,Y,Y),h.vertexIntensity.push(Y,Y,Y);var z=h.positions.length;h.cells.push([z-6,z-5,z-4],[z-3,z-2,z-1])}return h};var s=n("./lib/shaders");i.exports.createMesh=n("./create_mesh"),i.exports.createConeMesh=function(l,u){return i.exports.createMesh(l,u,{shaders:s,traceType:"cone"})}},{"./create_mesh":80,"./lib/shaders":81,"gl-vec3":169}],80:[function(n,i,a){"use strict";var o=n("gl-shader"),s=n("gl-buffer"),l=n("gl-vao"),u=n("gl-texture2d"),f=n("gl-mat4/multiply"),c=n("gl-mat4/invert"),h=n("ndarray"),v=n("colormap"),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(k,p,d,M,T,S,E,L,D,R,q){this.gl=k,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=p,this.dirty=!0,this.triShader=d,this.pickShader=M,this.trianglePositions=T,this.triangleVectors=S,this.triangleColors=L,this.triangleUVs=D,this.triangleIds=E,this.triangleVAO=R,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=q,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var x=y.prototype;x.isOpaque=function(){return this.opacity>=1},x.isTransparent=function(){return this.opacity<1},x.pickSlots=1,x.setPickBase=function(k){this.pickId=k};function m(k){for(var p=v({colormap:k,nshades:256,format:"rgba"}),d=new Uint8Array(256*4),M=0;M<256;++M){for(var T=p[M],S=0;S<3;++S)d[4*M+S]=T[S];d[4*M+3]=T[3]*255}return h(d,[256,256,4],[4,0,1])}function _(k){for(var p=k.length,d=new Array(p),M=0;M<p;++M)d[M]=k[M][2];return d}x.update=function(k){k=k||{};var p=this.gl;this.dirty=!0,"lightPosition"in k&&(this.lightPosition=k.lightPosition),"opacity"in k&&(this.opacity=k.opacity),"ambient"in k&&(this.ambientLight=k.ambient),"diffuse"in k&&(this.diffuseLight=k.diffuse),"specular"in k&&(this.specularLight=k.specular),"roughness"in k&&(this.roughness=k.roughness),"fresnel"in k&&(this.fresnel=k.fresnel),k.tubeScale!==void 0&&(this.tubeScale=k.tubeScale),k.vectorScale!==void 0&&(this.vectorScale=k.vectorScale),k.coneScale!==void 0&&(this.coneScale=k.coneScale),k.coneOffset!==void 0&&(this.coneOffset=k.coneOffset),k.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=p.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=p.LINEAR,this.texture.setPixels(m(k.colormap)),this.texture.generateMipmap());var d=k.cells,M=k.positions,T=k.vectors;if(!M||!d||!T)return;var S=[],E=[],L=[],D=[],R=[];this.cells=d,this.positions=M,this.vectors=T;var q=k.meshColor||[1,1,1,1],C=k.vertexIntensity,F=1/0,N=-1/0;if(C)if(k.vertexIntensityBounds)F=+k.vertexIntensityBounds[0],N=+k.vertexIntensityBounds[1];else for(var U=0;U<C.length;++U){var V=C[U];F=Math.min(F,V),N=Math.max(N,V)}else for(var U=0;U<M.length;++U){var V=M[U][2];F=Math.min(F,V),N=Math.max(N,V)}C?this.intensity=C:this.intensity=_(M),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var U=0;U<M.length;++U)for(var Y=M[U],K=0;K<3;++K)isNaN(Y[K])||!isFinite(Y[K])||(this.bounds[0][K]=Math.min(this.bounds[0][K],Y[K]),this.bounds[1][K]=Math.max(this.bounds[1][K],Y[K]));var B=0;e:for(var U=0;U<d.length;++U){var z=d[U];switch(z.length){case 3:for(var K=0;K<3;++K)for(var j=z[K],Y=M[j],ae=0;ae<3;++ae)if(isNaN(Y[ae])||!isFinite(Y[ae]))continue e;for(var K=0;K<3;++K){var j=z[2-K],Y=M[j];S.push(Y[0],Y[1],Y[2],Y[3]);var ee=T[j];E.push(ee[0],ee[1],ee[2],ee[3]||0);var ve=q;ve.length===3?L.push(ve[0],ve[1],ve[2],1):L.push(ve[0],ve[1],ve[2],ve[3]);var fe;C?fe=[(C[j]-F)/(N-F),0]:fe=[(Y[2]-F)/(N-F),0],D.push(fe[0],fe[1]),R.push(U)}B+=1;break;default:break}}this.triangleCount=B,this.trianglePositions.update(S),this.triangleVectors.update(E),this.triangleColors.update(L),this.triangleUVs.update(D),this.triangleIds.update(new Uint32Array(R))},x.drawTransparent=x.draw=function(k){k=k||{};for(var p=this.gl,d=k.model||b,M=k.view||b,T=k.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)S[0][E]=Math.max(S[0][E],this.clipBounds[0][E]),S[1][E]=Math.min(S[1][E],this.clipBounds[1][E]);var L={model:d,view:M,projection:T,inverseModel:b.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};L.inverseModel=c(L.inverseModel,L.model),p.disable(p.CULL_FACE),this.texture.bind(0);var D=new Array(16);f(D,L.view,L.model),f(D,L.projection,D),c(D,D);for(var E=0;E<3;++E)L.eyePosition[E]=D[12+E]/D[15];for(var R=D[15],E=0;E<3;++E)R+=this.lightPosition[E]*D[4*E+3];for(var E=0;E<3;++E){for(var q=D[12+E],C=0;C<3;++C)q+=D[4*C+E]*this.lightPosition[C];L.lightPosition[E]=q/R}if(this.triangleCount>0){var F=this.triShader;F.bind(),F.uniforms=L,this.triangleVAO.bind(),p.drawArrays(p.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},x.drawPick=function(k){k=k||{};for(var p=this.gl,d=k.model||b,M=k.view||b,T=k.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)S[0][E]=Math.max(S[0][E],this.clipBounds[0][E]),S[1][E]=Math.min(S[1][E],this.clipBounds[1][E]);this._model=[].slice.call(d),this._view=[].slice.call(M),this._projection=[].slice.call(T),this._resolution=[p.drawingBufferWidth,p.drawingBufferHeight];var L={model:d,view:M,projection:T,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},D=this.pickShader;D.bind(),D.uniforms=L,this.triangleCount>0&&(this.triangleVAO.bind(),p.drawArrays(p.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},x.pick=function(k){if(!k||k.id!==this.pickId)return null;var p=k.value[0]+256*k.value[1]+65536*k.value[2],d=this.cells[p],M=this.positions[d[1]].slice(0,3),T={position:M,dataCoordinate:M,index:Math.floor(d[1]/48)};return this.traceType==="cone"?T.index=Math.floor(d[1]/48):this.traceType==="streamtube"&&(T.intensity=this.intensity[d[1]],T.velocity=this.vectors[d[1]].slice(0,3),T.divergence=this.vectors[d[1]][3],T.index=p),T},x.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function g(k,p){var d=o(k,p.meshShader.vertex,p.meshShader.fragment,null,p.meshShader.attributes);return d.attributes.position.location=0,d.attributes.color.location=2,d.attributes.uv.location=3,d.attributes.vector.location=4,d}function A(k,p){var d=o(k,p.pickShader.vertex,p.pickShader.fragment,null,p.pickShader.attributes);return d.attributes.position.location=0,d.attributes.id.location=1,d.attributes.vector.location=4,d}function w(k,p,d){var M=d.shaders;arguments.length===1&&(p=k,k=p.gl);var T=g(k,M),S=A(k,M),E=u(k,h(new Uint8Array([255,255,255,255]),[1,1,4]));E.generateMipmap(),E.minFilter=k.LINEAR_MIPMAP_LINEAR,E.magFilter=k.LINEAR;var L=s(k),D=s(k),R=s(k),q=s(k),C=s(k),F=l(k,[{buffer:L,type:k.FLOAT,size:4},{buffer:C,type:k.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:R,type:k.FLOAT,size:4},{buffer:q,type:k.FLOAT,size:2},{buffer:D,type:k.FLOAT,size:4}]),N=new y(k,E,T,S,L,D,C,R,q,F,d.traceType||"cone");return N.update(p),N}i.exports=w},{colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259}],81:[function(n,i,a){var o=n("glslify"),s=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);a.meshShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},a.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},{glslify:231}],82:[function(n,i,a){i.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],83:[function(n,i,a){var o=n("./1.0/numbers");i.exports=function(l){return o[l]}},{"./1.0/numbers":82}],84:[function(n,i,a){"use strict";i.exports=y;var o=n("gl-buffer"),s=n("gl-vao"),l=n("./shaders/index"),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(x,m,_,g){this.gl=x,this.shader=g,this.buffer=m,this.vao=_,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=f.prototype;c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(x){var m=this.gl,_=this.shader.uniforms;this.shader.bind();var g=_.view=x.view||u,A=_.projection=x.projection||u;_.model=x.model||u,_.clipBounds=this.clipBounds,_.opacity=this.opacity;var w=g[12],k=g[13],p=g[14],d=g[15],M=x._ortho||!1,T=M?2:1,S=T*this.pixelRatio*(A[3]*w+A[7]*k+A[11]*p+A[15]*d)/m.drawingBufferHeight;this.vao.bind();for(var E=0;E<3;++E)m.lineWidth(this.lineWidth[E]*this.pixelRatio),_.capSize=this.capSize[E]*S,this.lineCount[E]&&m.drawArrays(m.LINES,this.lineOffset[E],this.lineCount[E]);this.vao.unbind()};function h(x,m){for(var _=0;_<3;++_)x[0][_]=Math.min(x[0][_],m[_]),x[1][_]=Math.max(x[1][_],m[_])}var v=function(){for(var x=new Array(3),m=0;m<3;++m){for(var _=[],g=1;g<=2;++g)for(var A=-1;A<=1;A+=2){var w=(g+m)%3,k=[0,0,0];k[w]=A,_.push(k)}x[m]=_}return x}();function b(x,m,_,g){for(var A=v[g],w=0;w<A.length;++w){var k=A[w];x.push(m[0],m[1],m[2],_[0],_[1],_[2],_[3],k[0],k[1],k[2])}return A.length}c.update=function(x){x=x||{},"lineWidth"in x&&(this.lineWidth=x.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in x&&(this.capSize=x.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in x&&(this.opacity=+x.opacity,this.opacity<1&&(this.hasAlpha=!0));var m=x.color||[[0,0,0],[0,0,0],[0,0,0]],_=x.position,g=x.error;if(Array.isArray(m[0])||(m=[m,m,m]),_&&g){var A=[],w=_.length,k=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var p=0;p<3;++p){this.lineOffset[p]=k;e:for(var d=0;d<w;++d){for(var M=_[d],T=0;T<3;++T)if(isNaN(M[T])||!isFinite(M[T]))continue e;var S=g[d],E=m[p];if(Array.isArray(E[0])&&(E=m[d]),E.length===3?E=[E[0],E[1],E[2],1]:E.length===4&&(E=[E[0],E[1],E[2],E[3]],!this.hasAlpha&&E[3]<1&&(this.hasAlpha=!0)),!(isNaN(S[0][p])||isNaN(S[1][p]))){if(S[0][p]<0){var L=M.slice();L[p]+=S[0][p],A.push(M[0],M[1],M[2],E[0],E[1],E[2],E[3],0,0,0,L[0],L[1],L[2],E[0],E[1],E[2],E[3],0,0,0),h(this.bounds,L),k+=2+b(A,L,E,p)}if(S[1][p]>0){var L=M.slice();L[p]+=S[1][p],A.push(M[0],M[1],M[2],E[0],E[1],E[2],E[3],0,0,0,L[0],L[1],L[2],E[0],E[1],E[2],E[3],0,0,0),h(this.bounds,L),k+=2+b(A,L,E,p)}}}this.lineCount[p]=k-this.lineOffset[p]}this.buffer.update(A)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function y(x){var m=x.gl,_=o(m),g=s(m,[{buffer:_,type:m.FLOAT,size:3,offset:0,stride:40},{buffer:_,type:m.FLOAT,size:4,offset:12,stride:40},{buffer:_,type:m.FLOAT,size:3,offset:28,stride:40}]),A=l(m);A.attributes.position.location=0,A.attributes.color.location=1,A.attributes.offset.location=2;var w=new f(m,_,g,A);return w.update(x),w}},{"./shaders/index":85,"gl-buffer":78,"gl-vao":150}],85:[function(n,i,a){"use strict";var o=n("glslify"),s=n("gl-shader"),l=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);i.exports=function(f){return s(f,l,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":132,glslify:231}],86:[function(n,i,a){"use strict";var o=n("gl-texture2d");i.exports=k;var s=null,l,u,f,c;function h(p){var d=p.getParameter(p.FRAMEBUFFER_BINDING),M=p.getParameter(p.RENDERBUFFER_BINDING),T=p.getParameter(p.TEXTURE_BINDING_2D);return[d,M,T]}function v(p,d){p.bindFramebuffer(p.FRAMEBUFFER,d[0]),p.bindRenderbuffer(p.RENDERBUFFER,d[1]),p.bindTexture(p.TEXTURE_2D,d[2])}function b(p,d){var M=p.getParameter(d.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(M+1);for(var T=0;T<=M;++T){for(var S=new Array(M),E=0;E<T;++E)S[E]=p.COLOR_ATTACHMENT0+E;for(var E=T;E<M;++E)S[E]=p.NONE;s[T]=S}}function y(p){switch(p){case l:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function x(p,d,M,T,S,E){if(!T)return null;var L=o(p,d,M,S,T);return L.magFilter=p.NEAREST,L.minFilter=p.NEAREST,L.mipSamples=1,L.bind(),p.framebufferTexture2D(p.FRAMEBUFFER,E,p.TEXTURE_2D,L.handle,0),L}function m(p,d,M,T,S){var E=p.createRenderbuffer();return p.bindRenderbuffer(p.RENDERBUFFER,E),p.renderbufferStorage(p.RENDERBUFFER,T,d,M),p.framebufferRenderbuffer(p.FRAMEBUFFER,S,p.RENDERBUFFER,E),E}function _(p){var d=h(p.gl),M=p.gl,T=p.handle=M.createFramebuffer(),S=p._shape[0],E=p._shape[1],L=p.color.length,D=p._ext,R=p._useStencil,q=p._useDepth,C=p._colorType;M.bindFramebuffer(M.FRAMEBUFFER,T);for(var F=0;F<L;++F)p.color[F]=x(M,S,E,C,M.RGBA,M.COLOR_ATTACHMENT0+F);L===0?(p._color_rb=m(M,S,E,M.RGBA4,M.COLOR_ATTACHMENT0),D&&D.drawBuffersWEBGL(s[0])):L>1&&D.drawBuffersWEBGL(s[L]);var N=M.getExtension("WEBGL_depth_texture");N?R?p.depth=x(M,S,E,N.UNSIGNED_INT_24_8_WEBGL,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):q&&(p.depth=x(M,S,E,M.UNSIGNED_SHORT,M.DEPTH_COMPONENT,M.DEPTH_ATTACHMENT)):q&&R?p._depth_rb=m(M,S,E,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):q?p._depth_rb=m(M,S,E,M.DEPTH_COMPONENT16,M.DEPTH_ATTACHMENT):R&&(p._depth_rb=m(M,S,E,M.STENCIL_INDEX,M.STENCIL_ATTACHMENT));var U=M.checkFramebufferStatus(M.FRAMEBUFFER);if(U!==M.FRAMEBUFFER_COMPLETE){p._destroyed=!0,M.bindFramebuffer(M.FRAMEBUFFER,null),M.deleteFramebuffer(p.handle),p.handle=null,p.depth&&(p.depth.dispose(),p.depth=null),p._depth_rb&&(M.deleteRenderbuffer(p._depth_rb),p._depth_rb=null);for(var F=0;F<p.color.length;++F)p.color[F].dispose(),p.color[F]=null;p._color_rb&&(M.deleteRenderbuffer(p._color_rb),p._color_rb=null),v(M,d),y(U)}v(M,d)}function g(p,d,M,T,S,E,L,D){this.gl=p,this._shape=[d|0,M|0],this._destroyed=!1,this._ext=D,this.color=new Array(S);for(var R=0;R<S;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=E,this._useStencil=L;var q=this,C=[d|0,M|0];Object.defineProperties(C,{0:{get:function(){return q._shape[0]},set:function(F){return q.width=F}},1:{get:function(){return q._shape[1]},set:function(F){return q.height=F}}}),this._shapeVector=C,_(this)}var A=g.prototype;function w(p,d,M){if(p._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(p._shape[0]===d&&p._shape[1]===M)){var T=p.gl,S=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(d<0||d>S||M<0||M>S)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");p._shape[0]=d,p._shape[1]=M;for(var E=h(T),L=0;L<p.color.length;++L)p.color[L].shape=p._shape;p._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,p._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,p._shape[0],p._shape[1])),p.depth&&(p.depth.shape=p._shape),p._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,p._depth_rb),p._useDepth&&p._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,p._shape[0],p._shape[1]):p._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,p._shape[0],p._shape[1]):p._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,p._shape[0],p._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,p.handle);var D=T.checkFramebufferStatus(T.FRAMEBUFFER);D!==T.FRAMEBUFFER_COMPLETE&&(p.dispose(),v(T,E),y(D)),v(T,E)}}Object.defineProperties(A,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(p){if(Array.isArray(p)||(p=[p|0,p|0]),p.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var d=p[0]|0,M=p[1]|0;return w(this,d,M),[d,M]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(p){return p=p|0,w(this,p,this._shape[1]),p},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(p){return p=p|0,w(this,this._shape[0],p),p},enumerable:!1}}),A.bind=function(){if(!this._destroyed){var p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,this.handle),p.viewport(0,0,this._shape[0],this._shape[1])}},A.dispose=function(){if(!this._destroyed){this._destroyed=!0;var p=this.gl;p.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(p.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var d=0;d<this.color.length;++d)this.color[d].dispose(),this.color[d]=null;this._color_rb&&(p.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function k(p,d,M,T){l||(l=p.FRAMEBUFFER_UNSUPPORTED,u=p.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=p.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=p.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var S=p.getExtension("WEBGL_draw_buffers");if(!s&&S&&b(p,S),Array.isArray(d)&&(T=M,M=d[1]|0,d=d[0]|0),typeof d!="number")throw new Error("gl-fbo: Missing shape parameter");var E=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(d<0||d>E||M<0||M>E)throw new Error("gl-fbo: Parameters are too large for FBO");T=T||{};var L=1;if("color"in T){if(L=Math.max(T.color|0,0),L<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(L>1)if(S){if(L>p.getParameter(S.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+L+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var D=p.UNSIGNED_BYTE,R=p.getExtension("OES_texture_float");if(T.float&&L>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");D=p.FLOAT}else T.preferFloat&&L>0&&R&&(D=p.FLOAT);var q=!0;"depth"in T&&(q=!!T.depth);var C=!1;return"stencil"in T&&(C=!!T.stencil),new g(p,d,M,D,L,q,C,S)}},{"gl-texture2d":146}],87:[function(n,i,a){var o=n("sprintf-js").sprintf,s=n("gl-constants/lookup"),l=n("glsl-shader-name"),u=n("add-line-numbers");i.exports=f;function f(c,h,v){"use strict";var b=l(h)||"of unknown name (see npm glsl-shader-name)",y="unknown type";v!==void 0&&(y=v===s.FRAGMENT_SHADER?"fragment":"vertex");for(var x=o(`Error compiling %s shader %s:
`,y,b),m=o("%s%s",x,c),_=c.split(`
`),g={},A=0;A<_.length;A++){var w=_[A];if(!(w===""||w==="\0")){var k=parseInt(w.split(":")[2]);if(isNaN(k))throw new Error(o("Could not parse error: %s",w));g[k]=w}}for(var p=u(h).split(`
`),A=0;A<p.length;A++)if(!(!g[A+3]&&!g[A+2]&&!g[A+1])){var d=p[A];if(x+=d+`
`,g[A+1]){var M=g[A+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),x+=o(`^^^ %s

`,M)}}return{long:x.trim(),short:m.trim()}}},{"add-line-numbers":9,"gl-constants/lookup":83,"glsl-shader-name":223,"sprintf-js":301}],88:[function(n,i,a){"use strict";i.exports=y;var o=n("binary-search-bounds"),s=n("iota-array"),l=n("typedarray-pool"),u=n("gl-shader"),f=n("gl-buffer"),c=n("./lib/shaders");function h(x,m,_,g,A,w,k){this.plot=x,this.shader=m,this.pickShader=_,this.positionBuffer=g,this.weightBuffer=A,this.colorBuffer=w,this.idBuffer=k,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var v=h.prototype,b=[0,0,1,0,0,1,1,0,1,1,0,1];v.draw=function(){var x=[1,0,0,0,1,0,0,0,1];return function(){var m=this.plot,_=this.shader,g=this.bounds,A=this.numVertices;if(!(A<=0)){var w=m.gl,k=m.dataBox,p=g[2]-g[0],d=g[3]-g[1],M=k[2]-k[0],T=k[3]-k[1];x[0]=2*p/M,x[4]=2*d/T,x[6]=2*(g[0]-k[0])/M-1,x[7]=2*(g[1]-k[1])/T-1,_.bind();var S=_.uniforms;S.viewTransform=x,S.shape=this.shape;var E=_.attributes;this.positionBuffer.bind(),E.position.pointer(),this.weightBuffer.bind(),E.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),E.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,A)}}}(),v.drawPick=function(){var x=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0];return function(_){var g=this.plot,A=this.pickShader,w=this.bounds,k=this.numVertices;if(!(k<=0)){var p=g.gl,d=g.dataBox,M=w[2]-w[0],T=w[3]-w[1],S=d[2]-d[0],E=d[3]-d[1];x[0]=2*M/S,x[4]=2*T/E,x[6]=2*(w[0]-d[0])/S-1,x[7]=2*(w[1]-d[1])/E-1;for(var L=0;L<4;++L)m[L]=_>>L*8&255;this.pickOffset=_,A.bind();var D=A.uniforms;D.viewTransform=x,D.pickOffset=m,D.shape=this.shape;var R=A.attributes;return this.positionBuffer.bind(),R.position.pointer(),this.weightBuffer.bind(),R.weight.pointer(p.UNSIGNED_BYTE,!1),this.idBuffer.bind(),R.pickId.pointer(p.UNSIGNED_BYTE,!1),p.drawArrays(p.TRIANGLES,0,k),_+this.shape[0]*this.shape[1]}}}(),v.pick=function(x,m,_){var g=this.pickOffset,A=this.shape[0]*this.shape[1];if(_<g||_>=g+A)return null;var w=_-g,k=this.xData,p=this.yData;return{object:this,pointId:w,dataCoord:[k[w%this.shape[0]],p[w/this.shape[0]|0]]}},v.update=function(x){x=x||{};var m=x.shape||[0,0],_=x.x||s(m[0]),g=x.y||s(m[1]),A=x.z||new Float32Array(m[0]*m[1]),w=x.zsmooth!==!1;this.xData=_,this.yData=g;var k=x.colorLevels||[0],p=x.colorValues||[0,0,0,1],d=k.length,M=this.bounds,T,S,E,L;w?(T=M[0]=_[0],S=M[1]=g[0],E=M[2]=_[_.length-1],L=M[3]=g[g.length-1]):(T=M[0]=_[0]+(_[1]-_[0])/2,S=M[1]=g[0]+(g[1]-g[0])/2,E=M[2]=_[_.length-1]+(_[_.length-1]-_[_.length-2])/2,L=M[3]=g[g.length-1]+(g[g.length-1]-g[g.length-2])/2);var D=1/(E-T),R=1/(L-S),q=m[0],C=m[1];this.shape=[q,C];var F=(w?(q-1)*(C-1):q*C)*(b.length>>>1);this.numVertices=F;for(var N=l.mallocUint8(F*4),U=l.mallocFloat32(F*2),V=l.mallocUint8(F*2),Y=l.mallocUint32(F),K=0,B=w?q-1:q,z=w?C-1:C,j=0;j<z;++j){var ae,ee;w?(ae=R*(g[j]-S),ee=R*(g[j+1]-S)):(ae=j<C-1?R*(g[j]-(g[j+1]-g[j])/2-S):R*(g[j]-(g[j]-g[j-1])/2-S),ee=j<C-1?R*(g[j]+(g[j+1]-g[j])/2-S):R*(g[j]+(g[j]-g[j-1])/2-S));for(var ve=0;ve<B;++ve){var fe,se;w?(fe=D*(_[ve]-T),se=D*(_[ve+1]-T)):(fe=ve<q-1?D*(_[ve]-(_[ve+1]-_[ve])/2-T):D*(_[ve]-(_[ve]-_[ve-1])/2-T),se=ve<q-1?D*(_[ve]+(_[ve+1]-_[ve])/2-T):D*(_[ve]+(_[ve]-_[ve-1])/2-T));for(var G=0;G<b.length;G+=2){var Z=b[G],X=b[G+1],ge=w?(j+X)*q+(ve+Z):j*q+ve,qe=A[ge],Pe=o.le(k,qe),Oe,de,_e,ce;if(Pe<0)Oe=p[0],de=p[1],_e=p[2],ce=p[3];else if(Pe===d-1)Oe=p[4*d-4],de=p[4*d-3],_e=p[4*d-2],ce=p[4*d-1];else{var J=(qe-k[Pe])/(k[Pe+1]-k[Pe]),ne=1-J,be=4*Pe,Fe=4*(Pe+1);Oe=ne*p[be]+J*p[Fe],de=ne*p[be+1]+J*p[Fe+1],_e=ne*p[be+2]+J*p[Fe+2],ce=ne*p[be+3]+J*p[Fe+3]}N[4*K]=255*Oe,N[4*K+1]=255*de,N[4*K+2]=255*_e,N[4*K+3]=255*ce,U[2*K]=fe*.5+se*.5,U[2*K+1]=ae*.5+ee*.5,V[2*K]=Z,V[2*K+1]=X,Y[K]=j*q+ve,K+=1}}}this.positionBuffer.update(U),this.weightBuffer.update(V),this.colorBuffer.update(N),this.idBuffer.update(Y),l.free(U),l.free(N),l.free(V),l.free(Y)},v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function y(x,m){var _=x.gl,g=u(_,c.vertex,c.fragment),A=u(_,c.pickVertex,c.pickFragment),w=f(_),k=f(_),p=f(_),d=f(_),M=new h(x,g,A,w,k,p,d);return M.update(m),x.addObject(M),M}},{"./lib/shaders":89,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"iota-array":235,"typedarray-pool":308}],89:[function(n,i,a){"use strict";var o=n("glslify");i.exports={fragment:o([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},{glslify:231}],90:[function(n,i,a){var o=n("glslify"),s=n("gl-shader"),l=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),c=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];a.createShader=function(h){return s(h,l,u,null,c)},a.createPickShader=function(h){return s(h,l,f,null,c)}},{"gl-shader":132,glslify:231}],91:[function(n,i,a){"use strict";i.exports=p;var o=n("gl-buffer"),s=n("gl-vao"),l=n("gl-texture2d"),u=new Uint8Array(4),f=new Float32Array(u.buffer);function c(d,M,T,S){return u[0]=S,u[1]=T,u[2]=M,u[3]=d,f[0]}var h=n("binary-search-bounds"),v=n("ndarray"),b=n("./lib/shaders"),y=b.createShader,x=b.createPickShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(d,M){for(var T=0,S=0;S<3;++S){var E=d[S]-M[S];T+=E*E}return Math.sqrt(T)}function g(d){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)M[0][T]=Math.max(d[0][T],M[0][T]),M[1][T]=Math.min(d[1][T],M[1][T]);return M}function A(d,M,T,S){this.arcLength=d,this.position=M,this.index=T,this.dataCoordinate=S}function w(d,M,T,S,E,L){this.gl=d,this.shader=M,this.pickShader=T,this.buffer=S,this.vao=E,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=L,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var k=w.prototype;k.isTransparent=function(){return this.hasAlpha},k.isOpaque=function(){return!this.hasAlpha},k.pickSlots=1,k.setPickBase=function(d){this.pickId=d},k.drawTransparent=k.draw=function(d){if(this.vertexCount){var M=this.gl,T=this.shader,S=this.vao;T.bind(),T.uniforms={model:d.model||m,view:d.view||m,projection:d.projection||m,clipBounds:g(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},S.bind(),S.draw(M.TRIANGLE_STRIP,this.vertexCount),S.unbind()}},k.drawPick=function(d){if(this.vertexCount){var M=this.gl,T=this.pickShader,S=this.vao;T.bind(),T.uniforms={model:d.model||m,view:d.view||m,projection:d.projection||m,pickId:this.pickId,clipBounds:g(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},S.bind(),S.draw(M.TRIANGLE_STRIP,this.vertexCount),S.unbind()}},k.update=function(d){var M,T;this.dirty=!0;var S=!!d.connectGaps;"dashScale"in d&&(this.dashScale=d.dashScale),this.hasAlpha=!1,"opacity"in d&&(this.opacity=+d.opacity,this.opacity<1&&(this.hasAlpha=!0));var E=[],L=[],D=[],R=0,q=0,C=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],F=d.position||d.positions;if(F){var N=d.color||d.colors||[0,0,0,1],U=d.lineWidth||1,V=!1;e:for(M=1;M<F.length;++M){var Y=F[M-1],K=F[M];for(L.push(R),D.push(Y.slice()),T=0;T<3;++T){if(isNaN(Y[T])||isNaN(K[T])||!isFinite(Y[T])||!isFinite(K[T])){if(!S&&E.length>0){for(var B=0;B<24;++B)E.push(E[E.length-12]);q+=2,V=!0}continue e}C[0][T]=Math.min(C[0][T],Y[T],K[T]),C[1][T]=Math.max(C[1][T],Y[T],K[T])}var z,j;Array.isArray(N[0])?(z=N.length>M-1?N[M-1]:N.length>0?N[N.length-1]:[0,0,0,1],j=N.length>M?N[M]:N.length>0?N[N.length-1]:[0,0,0,1]):z=j=N,z.length===3&&(z=[z[0],z[1],z[2],1]),j.length===3&&(j=[j[0],j[1],j[2],1]),!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0);var ae;Array.isArray(U)?ae=U.length>M-1?U[M-1]:U.length>0?U[U.length-1]:[0,0,0,1]:ae=U;var ee=R;if(R+=_(Y,K),V){for(T=0;T<2;++T)E.push(Y[0],Y[1],Y[2],K[0],K[1],K[2],ee,ae,z[0],z[1],z[2],z[3]);q+=2,V=!1}E.push(Y[0],Y[1],Y[2],K[0],K[1],K[2],ee,ae,z[0],z[1],z[2],z[3],Y[0],Y[1],Y[2],K[0],K[1],K[2],ee,-ae,z[0],z[1],z[2],z[3],K[0],K[1],K[2],Y[0],Y[1],Y[2],R,-ae,j[0],j[1],j[2],j[3],K[0],K[1],K[2],Y[0],Y[1],Y[2],R,ae,j[0],j[1],j[2],j[3]),q+=4}}if(this.buffer.update(E),L.push(R),D.push(F[F.length-1].slice()),this.bounds=C,this.vertexCount=q,this.points=D,this.arcLength=L,"dashes"in d){var ve=d.dashes,fe=ve.slice();for(fe.unshift(0),M=1;M<fe.length;++M)fe[M]=fe[M-1]+fe[M];var se=v(new Array(256*4),[256,1,4]);for(M=0;M<256;++M){for(T=0;T<4;++T)se.set(M,0,T,0);h.le(fe,fe[fe.length-1]*M/255)&1?se.set(M,0,0,0):se.set(M,0,0,255)}this.texture.setPixels(se)}},k.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},k.pick=function(d){if(!d||d.id!==this.pickId)return null;var M=c(d.value[0],d.value[1],d.value[2],0),T=h.le(this.arcLength,M);if(T<0)return null;if(T===this.arcLength.length-1)return new A(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),T);for(var S=this.points[T],E=this.points[Math.min(T+1,this.points.length-1)],L=(M-this.arcLength[T])/(this.arcLength[T+1]-this.arcLength[T]),D=1-L,R=[0,0,0],q=0;q<3;++q)R[q]=D*S[q]+L*E[q];var C=Math.min(L<.5?T:T+1,this.points.length-1);return new A(M,R,C,this.points[C])};function p(d){var M=d.gl||d.scene&&d.scene.gl,T=y(M);T.attributes.position.location=0,T.attributes.nextPosition.location=1,T.attributes.arcLength.location=2,T.attributes.lineWidth.location=3,T.attributes.color.location=4;var S=x(M);S.attributes.position.location=0,S.attributes.nextPosition.location=1,S.attributes.arcLength.location=2,S.attributes.lineWidth.location=3,S.attributes.color.location=4;for(var E=o(M),L=s(M,[{buffer:E,size:3,offset:0,stride:48},{buffer:E,size:3,offset:12,stride:48},{buffer:E,size:1,offset:24,stride:48},{buffer:E,size:1,offset:28,stride:48},{buffer:E,size:4,offset:32,stride:48}]),D=v(new Array(256*4),[256,1,4]),R=0;R<256*4;++R)D.data[R]=255;var q=l(M,D);q.wrap=M.REPEAT;var C=new w(M,T,S,E,L,q);return C.update(d),C}},{"./lib/shaders":90,"binary-search-bounds":31,"gl-buffer":78,"gl-texture2d":146,"gl-vao":150,ndarray:259}],92:[function(n,i,a){i.exports=o;function o(s){var l=new Float32Array(16);return l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[4]=s[4],l[5]=s[5],l[6]=s[6],l[7]=s[7],l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l}},{}],93:[function(n,i,a){i.exports=o;function o(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],94:[function(n,i,a){i.exports=o;function o(s){var l=s[0],u=s[1],f=s[2],c=s[3],h=s[4],v=s[5],b=s[6],y=s[7],x=s[8],m=s[9],_=s[10],g=s[11],A=s[12],w=s[13],k=s[14],p=s[15],d=l*v-u*h,M=l*b-f*h,T=l*y-c*h,S=u*b-f*v,E=u*y-c*v,L=f*y-c*b,D=x*w-m*A,R=x*k-_*A,q=x*p-g*A,C=m*k-_*w,F=m*p-g*w,N=_*p-g*k;return d*N-M*F+T*C+S*q-E*R+L*D}},{}],95:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0],f=l[1],c=l[2],h=l[3],v=u+u,b=f+f,y=c+c,x=u*v,m=f*v,_=f*b,g=c*v,A=c*b,w=c*y,k=h*v,p=h*b,d=h*y;return s[0]=1-_-w,s[1]=m+d,s[2]=g-p,s[3]=0,s[4]=m-d,s[5]=1-x-w,s[6]=A+k,s[7]=0,s[8]=g+p,s[9]=A-k,s[10]=1-x-_,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],96:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=l[3],b=f+f,y=c+c,x=h+h,m=f*b,_=f*y,g=f*x,A=c*y,w=c*x,k=h*x,p=v*b,d=v*y,M=v*x;return s[0]=1-(A+k),s[1]=_+M,s[2]=g-d,s[3]=0,s[4]=_-M,s[5]=1-(m+k),s[6]=w+p,s[7]=0,s[8]=g+d,s[9]=w-p,s[10]=1-(m+A),s[11]=0,s[12]=u[0],s[13]=u[1],s[14]=u[2],s[15]=1,s}},{}],97:[function(n,i,a){i.exports=o;function o(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},{}],98:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0],f=l[1],c=l[2],h=l[3],v=l[4],b=l[5],y=l[6],x=l[7],m=l[8],_=l[9],g=l[10],A=l[11],w=l[12],k=l[13],p=l[14],d=l[15],M=u*b-f*v,T=u*y-c*v,S=u*x-h*v,E=f*y-c*b,L=f*x-h*b,D=c*x-h*y,R=m*k-_*w,q=m*p-g*w,C=m*d-A*w,F=_*p-g*k,N=_*d-A*k,U=g*d-A*p,V=M*U-T*N+S*F+E*C-L*q+D*R;return V?(V=1/V,s[0]=(b*U-y*N+x*F)*V,s[1]=(c*N-f*U-h*F)*V,s[2]=(k*D-p*L+d*E)*V,s[3]=(g*L-_*D-A*E)*V,s[4]=(y*C-v*U-x*q)*V,s[5]=(u*U-c*C+h*q)*V,s[6]=(p*S-w*D-d*T)*V,s[7]=(m*D-g*S+A*T)*V,s[8]=(v*N-b*C+x*R)*V,s[9]=(f*C-u*N-h*R)*V,s[10]=(w*L-k*S+d*M)*V,s[11]=(_*S-m*L-A*M)*V,s[12]=(b*q-v*F-y*R)*V,s[13]=(u*F-f*q+c*R)*V,s[14]=(k*T-w*E-p*M)*V,s[15]=(m*E-_*T+g*M)*V,s):null}},{}],99:[function(n,i,a){var o=n("./identity");i.exports=s;function s(l,u,f,c){var h,v,b,y,x,m,_,g,A,w,k=u[0],p=u[1],d=u[2],M=c[0],T=c[1],S=c[2],E=f[0],L=f[1],D=f[2];return Math.abs(k-E)<1e-6&&Math.abs(p-L)<1e-6&&Math.abs(d-D)<1e-6?o(l):(_=k-E,g=p-L,A=d-D,w=1/Math.sqrt(_*_+g*g+A*A),_*=w,g*=w,A*=w,h=T*A-S*g,v=S*_-M*A,b=M*g-T*_,w=Math.sqrt(h*h+v*v+b*b),w?(w=1/w,h*=w,v*=w,b*=w):(h=0,v=0,b=0),y=g*b-A*v,x=A*h-_*b,m=_*v-g*h,w=Math.sqrt(y*y+x*x+m*m),w?(w=1/w,y*=w,x*=w,m*=w):(y=0,x=0,m=0),l[0]=h,l[1]=y,l[2]=_,l[3]=0,l[4]=v,l[5]=x,l[6]=g,l[7]=0,l[8]=b,l[9]=m,l[10]=A,l[11]=0,l[12]=-(h*k+v*p+b*d),l[13]=-(y*k+x*p+m*d),l[14]=-(_*k+g*p+A*d),l[15]=1,l)}},{"./identity":97}],100:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=l[3],b=l[4],y=l[5],x=l[6],m=l[7],_=l[8],g=l[9],A=l[10],w=l[11],k=l[12],p=l[13],d=l[14],M=l[15],T=u[0],S=u[1],E=u[2],L=u[3];return s[0]=T*f+S*b+E*_+L*k,s[1]=T*c+S*y+E*g+L*p,s[2]=T*h+S*x+E*A+L*d,s[3]=T*v+S*m+E*w+L*M,T=u[4],S=u[5],E=u[6],L=u[7],s[4]=T*f+S*b+E*_+L*k,s[5]=T*c+S*y+E*g+L*p,s[6]=T*h+S*x+E*A+L*d,s[7]=T*v+S*m+E*w+L*M,T=u[8],S=u[9],E=u[10],L=u[11],s[8]=T*f+S*b+E*_+L*k,s[9]=T*c+S*y+E*g+L*p,s[10]=T*h+S*x+E*A+L*d,s[11]=T*v+S*m+E*w+L*M,T=u[12],S=u[13],E=u[14],L=u[15],s[12]=T*f+S*b+E*_+L*k,s[13]=T*c+S*y+E*g+L*p,s[14]=T*h+S*x+E*A+L*d,s[15]=T*v+S*m+E*w+L*M,s}},{}],101:[function(n,i,a){i.exports=o;function o(s,l,u,f,c,h,v){var b=1/(l-u),y=1/(f-c),x=1/(h-v);return s[0]=-2*b,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*y,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*x,s[11]=0,s[12]=(l+u)*b,s[13]=(c+f)*y,s[14]=(v+h)*x,s[15]=1,s}},{}],102:[function(n,i,a){i.exports=o;function o(s,l,u,f,c){var h=1/Math.tan(l/2),v=1/(f-c);return s[0]=h/u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(c+f)*v,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*c*f*v,s[15]=0,s}},{}],103:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=f[0],h=f[1],v=f[2],b=Math.sqrt(c*c+h*h+v*v),y,x,m,_,g,A,w,k,p,d,M,T,S,E,L,D,R,q,C,F,N,U,V,Y;return Math.abs(b)<1e-6?null:(b=1/b,c*=b,h*=b,v*=b,y=Math.sin(u),x=Math.cos(u),m=1-x,_=l[0],g=l[1],A=l[2],w=l[3],k=l[4],p=l[5],d=l[6],M=l[7],T=l[8],S=l[9],E=l[10],L=l[11],D=c*c*m+x,R=h*c*m+v*y,q=v*c*m-h*y,C=c*h*m-v*y,F=h*h*m+x,N=v*h*m+c*y,U=c*v*m+h*y,V=h*v*m-c*y,Y=v*v*m+x,s[0]=_*D+k*R+T*q,s[1]=g*D+p*R+S*q,s[2]=A*D+d*R+E*q,s[3]=w*D+M*R+L*q,s[4]=_*C+k*F+T*N,s[5]=g*C+p*F+S*N,s[6]=A*C+d*F+E*N,s[7]=w*C+M*F+L*N,s[8]=_*U+k*V+T*Y,s[9]=g*U+p*V+S*Y,s[10]=A*U+d*V+E*Y,s[11]=w*U+M*V+L*Y,l!==s&&(s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15]),s)}},{}],104:[function(n,i,a){i.exports=o;function o(s,l,u){var f=Math.sin(u),c=Math.cos(u),h=l[4],v=l[5],b=l[6],y=l[7],x=l[8],m=l[9],_=l[10],g=l[11];return l!==s&&(s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15]),s[4]=h*c+x*f,s[5]=v*c+m*f,s[6]=b*c+_*f,s[7]=y*c+g*f,s[8]=x*c-h*f,s[9]=m*c-v*f,s[10]=_*c-b*f,s[11]=g*c-y*f,s}},{}],105:[function(n,i,a){i.exports=o;function o(s,l,u){var f=Math.sin(u),c=Math.cos(u),h=l[0],v=l[1],b=l[2],y=l[3],x=l[8],m=l[9],_=l[10],g=l[11];return l!==s&&(s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15]),s[0]=h*c-x*f,s[1]=v*c-m*f,s[2]=b*c-_*f,s[3]=y*c-g*f,s[8]=h*f+x*c,s[9]=v*f+m*c,s[10]=b*f+_*c,s[11]=y*f+g*c,s}},{}],106:[function(n,i,a){i.exports=o;function o(s,l,u){var f=Math.sin(u),c=Math.cos(u),h=l[0],v=l[1],b=l[2],y=l[3],x=l[4],m=l[5],_=l[6],g=l[7];return l!==s&&(s[8]=l[8],s[9]=l[9],s[10]=l[10],s[11]=l[11],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15]),s[0]=h*c+x*f,s[1]=v*c+m*f,s[2]=b*c+_*f,s[3]=y*c+g*f,s[4]=x*c-h*f,s[5]=m*c-v*f,s[6]=_*c-b*f,s[7]=g*c-y*f,s}},{}],107:[function(n,i,a){i.exports=o;function o(s,l,u){var f=u[0],c=u[1],h=u[2];return s[0]=l[0]*f,s[1]=l[1]*f,s[2]=l[2]*f,s[3]=l[3]*f,s[4]=l[4]*c,s[5]=l[5]*c,s[6]=l[6]*c,s[7]=l[7]*c,s[8]=l[8]*h,s[9]=l[9]*h,s[10]=l[10]*h,s[11]=l[11]*h,s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15],s}},{}],108:[function(n,i,a){i.exports=o;function o(s,l,u){var f=u[0],c=u[1],h=u[2],v,b,y,x,m,_,g,A,w,k,p,d;return l===s?(s[12]=l[0]*f+l[4]*c+l[8]*h+l[12],s[13]=l[1]*f+l[5]*c+l[9]*h+l[13],s[14]=l[2]*f+l[6]*c+l[10]*h+l[14],s[15]=l[3]*f+l[7]*c+l[11]*h+l[15]):(v=l[0],b=l[1],y=l[2],x=l[3],m=l[4],_=l[5],g=l[6],A=l[7],w=l[8],k=l[9],p=l[10],d=l[11],s[0]=v,s[1]=b,s[2]=y,s[3]=x,s[4]=m,s[5]=_,s[6]=g,s[7]=A,s[8]=w,s[9]=k,s[10]=p,s[11]=d,s[12]=v*f+m*c+w*h+l[12],s[13]=b*f+_*c+k*h+l[13],s[14]=y*f+g*c+p*h+l[14],s[15]=x*f+A*c+d*h+l[15]),s}},{}],109:[function(n,i,a){i.exports=o;function o(s,l){if(s===l){var u=l[1],f=l[2],c=l[3],h=l[6],v=l[7],b=l[11];s[1]=l[4],s[2]=l[8],s[3]=l[12],s[4]=u,s[6]=l[9],s[7]=l[13],s[8]=f,s[9]=h,s[11]=l[14],s[12]=c,s[13]=v,s[14]=b}else s[0]=l[0],s[1]=l[4],s[2]=l[8],s[3]=l[12],s[4]=l[1],s[5]=l[5],s[6]=l[9],s[7]=l[13],s[8]=l[2],s[9]=l[6],s[10]=l[10],s[11]=l[14],s[12]=l[3],s[13]=l[7],s[14]=l[11],s[15]=l[15];return s}},{}],110:[function(n,i,a){"use strict";var o=n("barycentric"),s=n("polytope-closest-point/lib/closest_point_2d.js");i.exports=h;function l(v,b){for(var y=[0,0,0,0],x=0;x<4;++x)for(var m=0;m<4;++m)y[m]+=v[4*x+m]*b[x];return y}function u(v,b,y,x,m){for(var _=l(x,l(y,l(b,[v[0],v[1],v[2],1]))),g=0;g<3;++g)_[g]/=_[3];return[.5*m[0]*(1+_[0]),.5*m[1]*(1-_[1])]}function f(v,b){if(v.length===2){for(var y=0,x=0,m=0;m<2;++m)y+=Math.pow(b[m]-v[0][m],2),x+=Math.pow(b[m]-v[1][m],2);return y=Math.sqrt(y),x=Math.sqrt(x),y+x<1e-6?[1,0]:[x/(y+x),y/(x+y)]}else if(v.length===3){var _=[0,0];return s(v[0],v[1],v[2],b,_),o(v,_)}return[]}function c(v,b){for(var y=[0,0,0],x=0;x<v.length;++x)for(var m=v[x],_=b[x],g=0;g<3;++g)y[g]+=_*m[g];return y}function h(v,b,y,x,m,_){if(v.length===1)return[0,v[0].slice()];for(var g=new Array(v.length),A=0;A<v.length;++A)g[A]=u(v[A],y,x,m,_);for(var w=0,k=1/0,A=0;A<g.length;++A){for(var p=0,d=0;d<2;++d)p+=Math.pow(g[A][d]-b[d],2);p<k&&(k=p,w=A)}for(var M=f(g,b),T=0,A=0;A<3;++A){if(M[A]<-.001||M[A]>1.0001)return null;T+=M[A]}return Math.abs(T-1)>.001?null:[w,c(v,M),M]}},{barycentric:14,"polytope-closest-point/lib/closest_point_2d.js":270}],111:[function(n,i,a){var o=n("glslify"),s=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),l=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=o([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),y=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),x=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),m=o([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);a.meshShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.pointShader={vertex:c,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},a.pickShader={vertex:v,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},a.pointPickShader={vertex:y,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},a.contourShader={vertex:x,fragment:m,attributes:[{name:"position",type:"vec3"}]}},{glslify:231}],112:[function(n,i,a){"use strict";var o=1e-6,s=1e-6,l=n("gl-shader"),u=n("gl-buffer"),f=n("gl-vao"),c=n("gl-texture2d"),h=n("normals"),v=n("gl-mat4/multiply"),b=n("gl-mat4/invert"),y=n("ndarray"),x=n("colormap"),m=n("simplicial-complex-contour"),_=n("typedarray-pool"),g=n("./lib/shaders"),A=n("./lib/closest-point"),w=g.meshShader,k=g.wireShader,p=g.pointShader,d=g.pickShader,M=g.pointPickShader,T=g.contourShader,S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(B,z,j,ae,ee,ve,fe,se,G,Z,X,ge,qe,Pe,Oe,de,_e,ce,J,ne,be,Fe,He,te,ye,Te,Ce){this.gl=B,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=z,this.dirty=!0,this.triShader=j,this.lineShader=ae,this.pointShader=ee,this.pickShader=ve,this.pointPickShader=fe,this.contourShader=se,this.trianglePositions=G,this.triangleColors=X,this.triangleNormals=qe,this.triangleUVs=ge,this.triangleIds=Z,this.triangleVAO=Pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=_e,this.edgeUVs=ce,this.edgeIds=de,this.edgeVAO=J,this.edgeCount=0,this.pointPositions=ne,this.pointColors=Fe,this.pointUVs=He,this.pointSizes=te,this.pointIds=be,this.pointVAO=ye,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Te,this.contourVAO=Ce,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=S,this._view=S,this._projection=S,this._resolution=[1,1]}var L=E.prototype;L.isOpaque=function(){return!this.hasAlpha},L.isTransparent=function(){return this.hasAlpha},L.pickSlots=1,L.setPickBase=function(B){this.pickId=B};function D(B,z){if(!z||!z.length)return 1;for(var j=0;j<z.length;++j){if(z.length<2)return 1;if(z[j][0]===B)return z[j][1];if(z[j][0]>B&&j>0){var ae=(z[j][0]-B)/(z[j][0]-z[j-1][0]);return z[j][1]*(1-ae)+ae*z[j-1][1]}}return 1}function R(B,z){for(var j=x({colormap:B,nshades:256,format:"rgba"}),ae=new Uint8Array(256*4),ee=0;ee<256;++ee){for(var ve=j[ee],fe=0;fe<3;++fe)ae[4*ee+fe]=ve[fe];z?ae[4*ee+3]=255*D(ee/255,z):ae[4*ee+3]=255*ve[3]}return y(ae,[256,256,4],[4,0,1])}function q(B){for(var z=B.length,j=new Array(z),ae=0;ae<z;++ae)j[ae]=B[ae][2];return j}L.highlight=function(B){if(!B||!this.contourEnable){this.contourCount=0;return}for(var z=m(this.cells,this.intensity,B.intensity),j=z.cells,ae=z.vertexIds,ee=z.vertexWeights,ve=j.length,fe=_.mallocFloat32(2*3*ve),se=0,G=0;G<ve;++G)for(var Z=j[G],X=0;X<2;++X){var ge=Z[0];Z.length===2&&(ge=Z[X]);for(var qe=ae[ge][0],Pe=ae[ge][1],Oe=ee[ge],de=1-Oe,_e=this.positions[qe],ce=this.positions[Pe],J=0;J<3;++J)fe[se++]=Oe*_e[J]+de*ce[J]}this.contourCount=se/3|0,this.contourPositions.update(fe.subarray(0,se)),_.free(fe)},L.update=function(B){B=B||{};var z=this.gl;this.dirty=!0,"contourEnable"in B&&(this.contourEnable=B.contourEnable),"contourColor"in B&&(this.contourColor=B.contourColor),"lineWidth"in B&&(this.lineWidth=B.lineWidth),"lightPosition"in B&&(this.lightPosition=B.lightPosition),this.hasAlpha=!1,"opacity"in B&&(this.opacity=B.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in B&&(this.opacityscale=B.opacityscale,this.hasAlpha=!0),"ambient"in B&&(this.ambientLight=B.ambient),"diffuse"in B&&(this.diffuseLight=B.diffuse),"specular"in B&&(this.specularLight=B.specular),"roughness"in B&&(this.roughness=B.roughness),"fresnel"in B&&(this.fresnel=B.fresnel),B.texture?(this.texture.dispose(),this.texture=c(z,B.texture)):B.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=z.LINEAR,this.texture.setPixels(R(B.colormap,this.opacityscale)),this.texture.generateMipmap());var j=B.cells,ae=B.positions;if(!ae||!j)return;var ee=[],ve=[],fe=[],se=[],G=[],Z=[],X=[],ge=[],qe=[],Pe=[],Oe=[],de=[],_e=[],ce=[];this.cells=j,this.positions=ae;var J=B.vertexNormals,ne=B.cellNormals,be=B.vertexNormalsEpsilon===void 0?o:B.vertexNormalsEpsilon,Fe=B.faceNormalsEpsilon===void 0?s:B.faceNormalsEpsilon;B.useFacetNormals&&!ne&&(ne=h.faceNormals(j,ae,Fe)),!ne&&!J&&(J=h.vertexNormals(j,ae,be));var He=B.vertexColors,te=B.cellColors,ye=B.meshColor||[1,1,1,1],Te=B.vertexUVs,Ce=B.vertexIntensity,De=B.cellUVs,oe=B.cellIntensity,pe=1/0,Le=-1/0;if(!Te&&!De)if(Ce)if(B.vertexIntensityBounds)pe=+B.vertexIntensityBounds[0],Le=+B.vertexIntensityBounds[1];else for(var Ue=0;Ue<Ce.length;++Ue){var et=Ce[Ue];pe=Math.min(pe,et),Le=Math.max(Le,et)}else if(oe)if(B.cellIntensityBounds)pe=+B.cellIntensityBounds[0],Le=+B.cellIntensityBounds[1];else for(var Ue=0;Ue<oe.length;++Ue){var et=oe[Ue];pe=Math.min(pe,et),Le=Math.max(Le,et)}else for(var Ue=0;Ue<ae.length;++Ue){var et=ae[Ue][2];pe=Math.min(pe,et),Le=Math.max(Le,et)}Ce?this.intensity=Ce:oe?this.intensity=oe:this.intensity=q(ae),this.pickVertex=!(oe||te);var Qe=B.pointSizes,dt=B.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ue=0;Ue<ae.length;++Ue)for(var ht=ae[Ue],_t=0;_t<3;++_t)isNaN(ht[_t])||!isFinite(ht[_t])||(this.bounds[0][_t]=Math.min(this.bounds[0][_t],ht[_t]),this.bounds[1][_t]=Math.max(this.bounds[1][_t],ht[_t]));var kt=0,St=0,Ot=0;e:for(var Ue=0;Ue<j.length;++Ue){var je=j[Ue];switch(je.length){case 1:for(var Ve=je[0],ht=ae[Ve],_t=0;_t<3;++_t)if(isNaN(ht[_t])||!isFinite(ht[_t]))continue e;Pe.push(ht[0],ht[1],ht[2]);var Je;He?Je=He[Ve]:te?Je=te[Ue]:Je=ye,this.opacityscale&&Ce?ve.push(Je[0],Je[1],Je[2],this.opacity*D((Ce[Ve]-pe)/(Le-pe),this.opacityscale)):Je.length===3?Oe.push(Je[0],Je[1],Je[2],this.opacity):(Oe.push(Je[0],Je[1],Je[2],Je[3]*this.opacity),Je[3]<1&&(this.hasAlpha=!0));var nt;Te?nt=Te[Ve]:Ce?nt=[(Ce[Ve]-pe)/(Le-pe),0]:De?nt=De[Ue]:oe?nt=[(oe[Ue]-pe)/(Le-pe),0]:nt=[(ht[2]-pe)/(Le-pe),0],de.push(nt[0],nt[1]),Qe?_e.push(Qe[Ve]):_e.push(dt),ce.push(Ue),Ot+=1;break;case 2:for(var _t=0;_t<2;++_t)for(var Ve=je[_t],ht=ae[Ve],Be=0;Be<3;++Be)if(isNaN(ht[Be])||!isFinite(ht[Be]))continue e;for(var _t=0;_t<2;++_t){var Ve=je[_t],ht=ae[Ve];Z.push(ht[0],ht[1],ht[2]);var Je;He?Je=He[Ve]:te?Je=te[Ue]:Je=ye,this.opacityscale&&Ce?ve.push(Je[0],Je[1],Je[2],this.opacity*D((Ce[Ve]-pe)/(Le-pe),this.opacityscale)):Je.length===3?X.push(Je[0],Je[1],Je[2],this.opacity):(X.push(Je[0],Je[1],Je[2],Je[3]*this.opacity),Je[3]<1&&(this.hasAlpha=!0));var nt;Te?nt=Te[Ve]:Ce?nt=[(Ce[Ve]-pe)/(Le-pe),0]:De?nt=De[Ue]:oe?nt=[(oe[Ue]-pe)/(Le-pe),0]:nt=[(ht[2]-pe)/(Le-pe),0],ge.push(nt[0],nt[1]),qe.push(Ue)}St+=1;break;case 3:for(var _t=0;_t<3;++_t)for(var Ve=je[_t],ht=ae[Ve],Be=0;Be<3;++Be)if(isNaN(ht[Be])||!isFinite(ht[Be]))continue e;for(var _t=0;_t<3;++_t){var Ve=je[2-_t],ht=ae[Ve];ee.push(ht[0],ht[1],ht[2]);var Je;He?Je=He[Ve]:te?Je=te[Ue]:Je=ye,Je?this.opacityscale&&Ce?ve.push(Je[0],Je[1],Je[2],this.opacity*D((Ce[Ve]-pe)/(Le-pe),this.opacityscale)):Je.length===3?ve.push(Je[0],Je[1],Je[2],this.opacity):(ve.push(Je[0],Je[1],Je[2],Je[3]*this.opacity),Je[3]<1&&(this.hasAlpha=!0)):ve.push(.5,.5,.5,1);var nt;Te?nt=Te[Ve]:Ce?nt=[(Ce[Ve]-pe)/(Le-pe),0]:De?nt=De[Ue]:oe?nt=[(oe[Ue]-pe)/(Le-pe),0]:nt=[(ht[2]-pe)/(Le-pe),0],se.push(nt[0],nt[1]);var tt;J?tt=J[Ve]:tt=ne[Ue],fe.push(tt[0],tt[1],tt[2]),G.push(Ue)}kt+=1;break;default:break}}this.pointCount=Ot,this.edgeCount=St,this.triangleCount=kt,this.pointPositions.update(Pe),this.pointColors.update(Oe),this.pointUVs.update(de),this.pointSizes.update(_e),this.pointIds.update(new Uint32Array(ce)),this.edgePositions.update(Z),this.edgeColors.update(X),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(qe)),this.trianglePositions.update(ee),this.triangleColors.update(ve),this.triangleUVs.update(se),this.triangleNormals.update(fe),this.triangleIds.update(new Uint32Array(G))},L.drawTransparent=L.draw=function(B){B=B||{};for(var z=this.gl,j=B.model||S,ae=B.view||S,ee=B.projection||S,ve=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],fe=0;fe<3;++fe)ve[0][fe]=Math.max(ve[0][fe],this.clipBounds[0][fe]),ve[1][fe]=Math.min(ve[1][fe],this.clipBounds[1][fe]);var se={model:j,view:ae,projection:ee,inverseModel:S.slice(),clipBounds:ve,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};se.inverseModel=b(se.inverseModel,se.model),z.disable(z.CULL_FACE),this.texture.bind(0);var G=new Array(16);v(G,se.view,se.model),v(G,se.projection,G),b(G,G);for(var fe=0;fe<3;++fe)se.eyePosition[fe]=G[12+fe]/G[15];for(var Z=G[15],fe=0;fe<3;++fe)Z+=this.lightPosition[fe]*G[4*fe+3];for(var fe=0;fe<3;++fe){for(var X=G[12+fe],ge=0;ge<3;++ge)X+=G[4*ge+fe]*this.lightPosition[ge];se.lightPosition[fe]=X/Z}if(this.triangleCount>0){var qe=this.triShader;qe.bind(),qe.uniforms=se,this.triangleVAO.bind(),z.drawArrays(z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var qe=this.lineShader;qe.bind(),qe.uniforms=se,this.edgeVAO.bind(),z.lineWidth(this.lineWidth*this.pixelRatio),z.drawArrays(z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var qe=this.pointShader;qe.bind(),qe.uniforms=se,this.pointVAO.bind(),z.drawArrays(z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var qe=this.contourShader;qe.bind(),qe.uniforms=se,this.contourVAO.bind(),z.drawArrays(z.LINES,0,this.contourCount),this.contourVAO.unbind()}},L.drawPick=function(B){B=B||{};for(var z=this.gl,j=B.model||S,ae=B.view||S,ee=B.projection||S,ve=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],fe=0;fe<3;++fe)ve[0][fe]=Math.max(ve[0][fe],this.clipBounds[0][fe]),ve[1][fe]=Math.min(ve[1][fe],this.clipBounds[1][fe]);this._model=[].slice.call(j),this._view=[].slice.call(ae),this._projection=[].slice.call(ee),this._resolution=[z.drawingBufferWidth,z.drawingBufferHeight];var se={model:j,view:ae,projection:ee,clipBounds:ve,pickId:this.pickId/255},G=this.pickShader;if(G.bind(),G.uniforms=se,this.triangleCount>0&&(this.triangleVAO.bind(),z.drawArrays(z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),z.lineWidth(this.lineWidth*this.pixelRatio),z.drawArrays(z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var G=this.pointPickShader;G.bind(),G.uniforms=se,this.pointVAO.bind(),z.drawArrays(z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},L.pick=function(B){if(!B||B.id!==this.pickId)return null;for(var z=B.value[0]+256*B.value[1]+65536*B.value[2],j=this.cells[z],ae=this.positions,ee=new Array(j.length),ve=0;ve<j.length;++ve)ee[ve]=ae[j[ve]];var fe=B.coord[0],se=B.coord[1];if(!this.pickVertex){var G=this.positions[j[0]],Z=this.positions[j[1]],X=this.positions[j[2]],ge=[(G[0]+Z[0]+X[0])/3,(G[1]+Z[1]+X[1])/3,(G[2]+Z[2]+X[2])/3];return{_cellCenter:!0,position:[fe,se],index:z,cell:j,cellId:z,intensity:this.intensity[z],dataCoordinate:ge}}var qe=A(ee,[fe*this.pixelRatio,this._resolution[1]-se*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!qe)return null;for(var Pe=qe[2],Oe=0,ve=0;ve<j.length;++ve)Oe+=Pe[ve]*this.intensity[j[ve]];return{position:qe[1],index:j[qe[0]],cell:j,cellId:z,intensity:Oe,dataCoordinate:this.positions[j[qe[0]]]}},L.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function C(B){var z=l(B,w.vertex,w.fragment);return z.attributes.position.location=0,z.attributes.color.location=2,z.attributes.uv.location=3,z.attributes.normal.location=4,z}function F(B){var z=l(B,k.vertex,k.fragment);return z.attributes.position.location=0,z.attributes.color.location=2,z.attributes.uv.location=3,z}function N(B){var z=l(B,p.vertex,p.fragment);return z.attributes.position.location=0,z.attributes.color.location=2,z.attributes.uv.location=3,z.attributes.pointSize.location=4,z}function U(B){var z=l(B,d.vertex,d.fragment);return z.attributes.position.location=0,z.attributes.id.location=1,z}function V(B){var z=l(B,M.vertex,M.fragment);return z.attributes.position.location=0,z.attributes.id.location=1,z.attributes.pointSize.location=4,z}function Y(B){var z=l(B,T.vertex,T.fragment);return z.attributes.position.location=0,z}function K(B,z){arguments.length===1&&(z=B,B=z.gl);var j=B.getExtension("OES_standard_derivatives")||B.getExtension("MOZ_OES_standard_derivatives")||B.getExtension("WEBKIT_OES_standard_derivatives");if(!j)throw new Error("derivatives not supported");var ae=C(B),ee=F(B),ve=N(B),fe=U(B),se=V(B),G=Y(B),Z=c(B,y(new Uint8Array([255,255,255,255]),[1,1,4]));Z.generateMipmap(),Z.minFilter=B.LINEAR_MIPMAP_LINEAR,Z.magFilter=B.LINEAR;var X=u(B),ge=u(B),qe=u(B),Pe=u(B),Oe=u(B),de=f(B,[{buffer:X,type:B.FLOAT,size:3},{buffer:Oe,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:B.FLOAT,size:4},{buffer:qe,type:B.FLOAT,size:2},{buffer:Pe,type:B.FLOAT,size:3}]),_e=u(B),ce=u(B),J=u(B),ne=u(B),be=f(B,[{buffer:_e,type:B.FLOAT,size:3},{buffer:ne,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ce,type:B.FLOAT,size:4},{buffer:J,type:B.FLOAT,size:2}]),Fe=u(B),He=u(B),te=u(B),ye=u(B),Te=u(B),Ce=f(B,[{buffer:Fe,type:B.FLOAT,size:3},{buffer:Te,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:B.FLOAT,size:4},{buffer:te,type:B.FLOAT,size:2},{buffer:ye,type:B.FLOAT,size:1}]),De=u(B),oe=f(B,[{buffer:De,type:B.FLOAT,size:3}]),pe=new E(B,Z,ae,ee,ve,fe,se,G,X,Oe,ge,qe,Pe,de,_e,ne,ce,J,be,Fe,Te,He,te,ye,Ce,De,oe);return pe.update(z),pe}i.exports=K},{"./lib/closest-point":110,"./lib/shaders":111,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259,normals:261,"simplicial-complex-contour":291,"typedarray-pool":308}],113:[function(n,i,a){"use strict";i.exports=c;var o=n("gl-buffer"),s=n("gl-shader"),l=n("./shaders");function u(h,v,b){this.plot=h,this.vbo=v,this.shader=b}var f=u.prototype;f.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var h=[0,0],v=[0,0];return function(b,y,x,m,_){var g=this.plot,A=this.shader,w=g.gl;h[0]=b,h[1]=y,v[0]=x,v[1]=m,A.uniforms.lo=h,A.uniforms.hi=v,A.uniforms.color=_,w.drawArrays(w.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(h){var v=h.gl,b=o(v,[0,0,0,1,1,0,1,1]),y=s(v,l.boxVert,l.lineFrag);return new u(h,b,y)}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],114:[function(n,i,a){"use strict";i.exports=v;var o=n("gl-buffer"),s=n("gl-shader"),l=n("binary-search-bounds"),u=n("./shaders");function f(b,y,x,m){this.plot=b,this.vbo=y,this.shader=x,this.tickShader=m,this.ticks=[[],[]]}function c(b,y){return b-y}var h=f.prototype;h.draw=function(){var b=[0,0],y=[0,0],x=[0,0];return function(){for(var m=this.plot,_=this.vbo,g=this.shader,A=this.ticks,w=m.gl,k=m._tickBounds,p=m.dataBox,d=m.viewBox,M=m.gridLineWidth,T=m.gridLineColor,S=m.gridLineEnable,E=m.pixelRatio,L=0;L<2;++L){var D=k[L],R=k[L+2],q=R-D,C=.5*(p[L+2]+p[L]),F=p[L+2]-p[L];y[L]=2*q/F,b[L]=2*(D-C)/F}g.bind(),_.bind(),g.attributes.dataCoord.pointer(),g.uniforms.dataShift=b,g.uniforms.dataScale=y;for(var N=0,L=0;L<2;++L){x[0]=x[1]=0,x[L]=1,g.uniforms.dataAxis=x,g.uniforms.lineWidth=M[L]/(d[L+2]-d[L])*E,g.uniforms.color=T[L];var U=A[L].length*6;S[L]&&U&&w.drawArrays(w.TRIANGLES,N,U),N+=U}}}(),h.drawTickMarks=function(){var b=[0,0],y=[0,0],x=[1,0],m=[0,1],_=[0,0],g=[0,0];return function(){for(var A=this.plot,w=this.vbo,k=this.tickShader,p=this.ticks,d=A.gl,M=A._tickBounds,T=A.dataBox,S=A.viewBox,E=A.pixelRatio,L=A.screenBox,D=L[2]-L[0],R=L[3]-L[1],q=S[2]-S[0],C=S[3]-S[1],F=0;F<2;++F){var N=M[F],U=M[F+2],V=U-N,Y=.5*(T[F+2]+T[F]),K=T[F+2]-T[F];y[F]=2*V/K,b[F]=2*(N-Y)/K}y[0]*=q/D,b[0]*=q/D,y[1]*=C/R,b[1]*=C/R,k.bind(),w.bind(),k.attributes.dataCoord.pointer();var B=k.uniforms;B.dataShift=b,B.dataScale=y;var z=A.tickMarkLength,j=A.tickMarkWidth,ae=A.tickMarkColor,ee=0,ve=p[0].length*6,fe=Math.min(l.ge(p[0],(T[0]-M[0])/(M[2]-M[0]),c),p[0].length),se=Math.min(l.gt(p[0],(T[2]-M[0])/(M[2]-M[0]),c),p[0].length),G=ee+6*fe,Z=6*Math.max(0,se-fe),X=Math.min(l.ge(p[1],(T[1]-M[1])/(M[3]-M[1]),c),p[1].length),ge=Math.min(l.gt(p[1],(T[3]-M[1])/(M[3]-M[1]),c),p[1].length),qe=ve+6*X,Pe=6*Math.max(0,ge-X);_[0]=2*(S[0]-z[1])/D-1,_[1]=(S[3]+S[1])/R-1,g[0]=z[1]*E/D,g[1]=j[1]*E/R,Pe&&(B.color=ae[1],B.tickScale=g,B.dataAxis=m,B.screenOffset=_,d.drawArrays(d.TRIANGLES,qe,Pe)),_[0]=(S[2]+S[0])/D-1,_[1]=2*(S[1]-z[0])/R-1,g[0]=j[0]*E/D,g[1]=z[0]*E/R,Z&&(B.color=ae[0],B.tickScale=g,B.dataAxis=x,B.screenOffset=_,d.drawArrays(d.TRIANGLES,G,Z)),_[0]=2*(S[2]+z[3])/D-1,_[1]=(S[3]+S[1])/R-1,g[0]=z[3]*E/D,g[1]=j[3]*E/R,Pe&&(B.color=ae[3],B.tickScale=g,B.dataAxis=m,B.screenOffset=_,d.drawArrays(d.TRIANGLES,qe,Pe)),_[0]=(S[2]+S[0])/D-1,_[1]=2*(S[3]+z[2])/R-1,g[0]=j[2]*E/D,g[1]=z[2]*E/R,Z&&(B.color=ae[2],B.tickScale=g,B.dataAxis=x,B.screenOffset=_,d.drawArrays(d.TRIANGLES,G,Z))}}(),h.update=function(){var b=[1,1,-1,-1,1,-1],y=[1,-1,1,1,-1,-1];return function(x){for(var m=x.ticks,_=x.bounds,g=new Float32Array(6*3*(m[0].length+m[1].length)),A=this.plot.zeroLineEnable,w=0,k=[[],[]],p=0;p<2;++p)for(var d=k[p],M=m[p],T=_[p],S=_[p+2],E=0;E<M.length;++E){var L=(M[E].x-T)/(S-T);d.push(L);for(var D=0;D<6;++D)g[w++]=L,g[w++]=b[D],g[w++]=y[D]}this.ticks=k,this.vbo.update(g)}}(),h.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function v(b){var y=b.gl,x=o(y),m=s(y,u.gridVert,u.gridFrag),_=s(y,u.tickVert,u.gridFrag),g=new f(b,x,m,_);return g}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132}],115:[function(n,i,a){"use strict";i.exports=c;var o=n("gl-buffer"),s=n("gl-shader"),l=n("./shaders");function u(h,v,b){this.plot=h,this.vbo=v,this.shader=b}var f=u.prototype;f.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var h=[0,0],v=[0,0];return function(b,y,x,m,_,g){var A=this.plot,w=this.shader,k=A.gl;h[0]=b,h[1]=y,v[0]=x,v[1]=m,w.uniforms.start=h,w.uniforms.end=v,w.uniforms.width=_*A.pixelRatio,w.uniforms.color=g,k.drawArrays(k.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(h){var v=h.gl,b=o(v,[-1,-1,-1,1,1,-1,1,1]),y=s(v,l.lineVert,l.lineFrag),x=new u(h,b,y);return x}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],116:[function(n,i,a){"use strict";var o=n("glslify"),s=o([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);i.exports={lineVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:o([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},{glslify:231}],117:[function(n,i,a){"use strict";i.exports=v;var o=n("gl-buffer"),s=n("gl-shader"),l=n("text-cache"),u=n("binary-search-bounds"),f=n("./shaders");function c(b,y,x){this.plot=b,this.vbo=y,this.shader=x,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h=c.prototype;h.drawTicks=function(){var b=[0,0],y=[0,0],x=[0,0];return function(m){var _=this.plot,g=this.shader,A=this.tickX[m],w=this.tickOffset[m],k=_.gl,p=_.viewBox,d=_.dataBox,M=_.screenBox,T=_.pixelRatio,S=_.tickEnable,E=_.tickPad,L=_.tickColor,D=_.tickAngle,R=_.labelEnable,q=_.labelPad,C=_.labelColor,F=_.labelAngle,N=this.labelOffset[m],U=this.labelCount[m],V=u.lt(A,d[m]),Y=u.le(A,d[m+2]);b[0]=b[1]=0,b[m]=1,y[m]=(p[2+m]+p[m])/(M[2+m]-M[m])-1;var K=2/M[2+(m^1)]-M[m^1];y[m^1]=K*p[m^1]-1,S[m]&&(y[m^1]-=K*T*E[m],V<Y&&w[Y]>w[V]&&(g.uniforms.dataAxis=b,g.uniforms.screenOffset=y,g.uniforms.color=L[m],g.uniforms.angle=D[m],k.drawArrays(k.TRIANGLES,w[V],w[Y]-w[V]))),R[m]&&U&&(y[m^1]-=K*T*q[m],g.uniforms.dataAxis=x,g.uniforms.screenOffset=y,g.uniforms.color=C[m],g.uniforms.angle=F[m],k.drawArrays(k.TRIANGLES,N,U)),y[m^1]=K*p[2+(m^1)]-1,S[m+2]&&(y[m^1]+=K*T*E[m+2],V<Y&&w[Y]>w[V]&&(g.uniforms.dataAxis=b,g.uniforms.screenOffset=y,g.uniforms.color=L[m+2],g.uniforms.angle=D[m+2],k.drawArrays(k.TRIANGLES,w[V],w[Y]-w[V]))),R[m+2]&&U&&(y[m^1]+=K*T*q[m+2],g.uniforms.dataAxis=x,g.uniforms.screenOffset=y,g.uniforms.color=C[m+2],g.uniforms.angle=F[m+2],k.drawArrays(k.TRIANGLES,N,U))}}(),h.drawTitle=function(){var b=[0,0],y=[0,0];return function(){var x=this.plot,m=this.shader,_=x.gl,g=x.screenBox,A=x.titleCenter,w=x.titleAngle,k=x.titleColor,p=x.pixelRatio;if(this.titleCount){for(var d=0;d<2;++d)y[d]=2*(A[d]*p-g[d])/(g[2+d]-g[d])-1;m.bind(),m.uniforms.dataAxis=b,m.uniforms.screenOffset=y,m.uniforms.angle=w,m.uniforms.color=k,_.drawArrays(_.TRIANGLES,this.titleOffset,this.titleCount)}}}(),h.bind=function(){var b=[0,0],y=[0,0],x=[0,0];return function(){var m=this.plot,_=this.shader,g=m._tickBounds,A=m.dataBox,w=m.screenBox,k=m.viewBox;_.bind();for(var p=0;p<2;++p){var d=g[p],M=g[p+2],T=M-d,S=.5*(A[p+2]+A[p]),E=A[p+2]-A[p],L=k[p],D=k[p+2],R=D-L,q=w[p],C=w[p+2],F=C-q;y[p]=2*T/E*R/F,b[p]=2*(d-S)/E*R/F}x[1]=2*m.pixelRatio/(w[3]-w[1]),x[0]=x[1]*(w[3]-w[1])/(w[2]-w[0]),_.uniforms.dataScale=y,_.uniforms.dataShift=b,_.uniforms.textScale=x,this.vbo.bind(),_.attributes.textCoordinate.pointer()}}(),h.update=function(b){var y=[],x=b.ticks,m=b.bounds,_,g,A,w,k,p;for(p=0;p<2;++p){var d=[Math.floor(y.length/3)],M=[-1/0],T=x[p];for(_=0;_<T.length;++_){var S=T[_],E=S.x,L=S.text,D=S.font||"sans-serif";k=S.fontSize||12;for(var R=1/(m[p+2]-m[p]),q=m[p],C=L.split(`
`),F=0;F<C.length;F++)for(w=l(D,C[F]).data,g=0;g<w.length;g+=2)y.push(w[g]*k,-w[g+1]*k-F*k*1.2,(E-q)*R);d.push(Math.floor(y.length/3)),M.push(E)}this.tickOffset[p]=d,this.tickX[p]=M}for(p=0;p<2;++p){for(this.labelOffset[p]=Math.floor(y.length/3),w=l(b.labelFont[p],b.labels[p],{textAlign:"center"}).data,k=b.labelSize[p],_=0;_<w.length;_+=2)y.push(w[_]*k,-w[_+1]*k,0);this.labelCount[p]=Math.floor(y.length/3)-this.labelOffset[p]}for(this.titleOffset=Math.floor(y.length/3),w=l(b.titleFont,b.title).data,k=b.titleSize,_=0;_<w.length;_+=2)y.push(w[_]*k,-w[_+1]*k,0);this.titleCount=Math.floor(y.length/3)-this.titleOffset,this.vbo.update(y)},h.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function v(b){var y=b.gl,x=o(y),m=s(y,f.textVert,f.textFrag),_=new c(b,x,m);return _}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"text-cache":303}],118:[function(n,i,a){"use strict";i.exports=x;var o=n("gl-select-static"),s=n("./lib/grid"),l=n("./lib/text"),u=n("./lib/line"),f=n("./lib/box");function c(m,_){this.gl=m,this.pickBuffer=_,this.screenBox=[0,0,m.drawingBufferWidth,m.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=c.prototype;h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536};function v(m,_,g){var A=.5*(g+1);return Math.floor((1-A)*m+A*_)|0}h.draw=function(){var m=[0,0,0,0];return function(){var _=this.gl,g=this.screenBox,A=this.viewBox,w=this.dataBox,k=this.pixelRatio,p=this.grid,d=this.line,M=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,_.bindFramebuffer(_.FRAMEBUFFER,null),_.enable(_.SCISSOR_TEST),_.disable(_.DEPTH_TEST),_.depthFunc(_.LESS),_.depthMask(!1),_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD,_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),this.borderColor){_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var S=this.borderColor;_.clearColor(S[0]*S[3],S[1]*S[3],S[2]*S[3],S[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)}_.scissor(A[0],A[1],A[2]-A[0],A[3]-A[1]),_.viewport(A[0],A[1],A[2]-A[0],A[3]-A[1]);var E=this.backgroundColor;_.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),_.clear(_.COLOR_BUFFER_BIT),p.draw();var L=this.zeroLineEnable,D=this.zeroLineColor,R=this.zeroLineWidth;if(L[0]||L[1]){d.bind();for(var q=0;q<2;++q)if(!(!L[q]||!(w[q]<=0&&w[q+2]>=0))){var C=g[q]-w[q]*(g[q+2]-g[q])/(w[q+2]-w[q]);q===0?d.drawLine(C,g[1],C,g[3],R[q],D[q]):d.drawLine(g[0],C,g[2],C,R[q],D[q])}}for(var q=0;q<T.length;++q)T[q].draw();_.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),d.bind();var F=this.borderLineEnable,N=this.borderLineWidth,U=this.borderLineColor;F[1]&&d.drawLine(A[0],A[1]-.5*N[1]*k,A[0],A[3]+.5*N[3]*k,N[1],U[1]),F[0]&&d.drawLine(A[0]-.5*N[0]*k,A[1],A[2]+.5*N[2]*k,A[1],N[0],U[0]),F[3]&&d.drawLine(A[2],A[1]-.5*N[1]*k,A[2],A[3]+.5*N[3]*k,N[3],U[3]),F[2]&&d.drawLine(A[0]-.5*N[0]*k,A[3],A[2]+.5*N[2]*k,A[3],N[2],U[2]),M.bind();for(var q=0;q<2;++q)M.drawTicks(q);this.titleEnable&&M.drawTitle();for(var V=this.overlays,q=0;q<V.length;++q)V[q].draw();_.disable(_.SCISSOR_TEST),_.disable(_.BLEND),_.depthMask(!0)}}}(),h.drawPick=function(){return function(){if(!this.static){var m=this.pickBuffer,_=this.gl;this._pickTimeout=null,m.begin();for(var g=1,A=this.objects,w=0;w<A.length;++w)g=A[w].drawPick(g);m.end()}}}(),h.pick=function(){return function(m,_){if(!this.static){var g=this.pixelRatio,A=this.pickPixelRatio,w=this.viewBox,k=Math.round((m-w[0]/g)*A)|0,p=Math.round((_-w[1]/g)*A)|0,d=this.pickBuffer.query(k,p,this.pickRadius);if(!d)return null;for(var M=d.id+(d.value[0]<<8)+(d.value[1]<<16)+(d.value[2]<<24),T=this.objects,S=0;S<T.length;++S){var E=T[S].pick(k,p,M);if(E)return E}return null}}}();function b(m){for(var _=m.slice(),g=0;g<_.length;++g)_[g]=_[g].slice();return _}function y(m,_){return m.x-_.x}h.setScreenBox=function(m){var _=this.screenBox,g=this.pixelRatio;_[0]=Math.round(m[0]*g)|0,_[1]=Math.round(m[1]*g)|0,_[2]=Math.round(m[2]*g)|0,_[3]=Math.round(m[3]*g)|0,this.setDirty()},h.setDataBox=function(m){var _=this.dataBox,g=_[0]!==m[0]||_[1]!==m[1]||_[2]!==m[2]||_[3]!==m[3];g&&(_[0]=m[0],_[1]=m[1],_[2]=m[2],_[3]=m[3],this.setDirty())},h.setViewBox=function(m){var _=this.pixelRatio,g=this.viewBox;g[0]=Math.round(m[0]*_)|0,g[1]=Math.round(m[1]*_)|0,g[2]=Math.round(m[2]*_)|0,g[3]=Math.round(m[3]*_)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((m[2]-m[0])*A)|0,Math.round((m[3]-m[1])*A)|0],this.setDirty()},h.update=function(m){m=m||{};var _=this.gl;this.pixelRatio=m.pixelRatio||1;var g=this.pixelRatio;this.pickPixelRatio=Math.max(g,1),this.setScreenBox(m.screenBox||[0,0,_.drawingBufferWidth/g,_.drawingBufferHeight/g]);var A=this.screenBox;this.setViewBox(m.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/g,.125*(this.screenBox[3]-this.screenBox[1])/g,.875*(this.screenBox[2]-this.screenBox[0])/g,.875*(this.screenBox[3]-this.screenBox[1])/g]);var w=this.viewBox,k=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(m.dataBox||[-10,-10/k,10,10/k]),this.borderColor=m.borderColor!==!1?(m.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(m.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(m.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(m.gridLineWidth||[1,1]).slice(),this.gridLineColor=b(m.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(m.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(m.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=b(m.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(m.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(m.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=b(m.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(m.titleCenter||[.5*(w[0]+w[2])/g,(w[3]+120)/g]).slice(),this.titleEnable=!("titleEnable"in m)||!!m.titleEnable,this.titleAngle=m.titleAngle||0,this.titleColor=(m.titleColor||[0,0,0,1]).slice(),this.labelPad=(m.labelPad||[15,15,15,15]).slice(),this.labelAngle=(m.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(m.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=b(m.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(m.tickPad||[15,15,15,15]).slice(),this.tickAngle=(m.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(m.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=b(m.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(m.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(m.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=b(m.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var p=m.ticks||[[],[]],d=this._tickBounds;d[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var M=0;M<2;++M){var T=p[M].slice(0);T.length!==0&&(T.sort(y),d[M]=Math.min(d[M],T[0].x),d[M+2]=Math.max(d[M+2],T[T.length-1].x))}this.grid.update({bounds:d,ticks:p}),this.text.update({bounds:d,ticks:p,labels:m.labels||["x","y"],labelSize:m.labelSize||[12,12],labelFont:m.labelFont||["sans-serif","sans-serif"],title:m.title||"",titleSize:m.titleSize||18,titleFont:m.titleFont||"sans-serif"}),this.static=!!m.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var m=this.objects.length-1;m>=0;--m)this.objects[m].dispose();this.objects.length=0;for(var m=this.overlays.length-1;m>=0;--m)this.overlays[m].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(m){this.objects.indexOf(m)<0&&(this.objects.push(m),this.setDirty())},h.removeObject=function(m){for(var _=this.objects,g=0;g<_.length;++g)if(_[g]===m){_.splice(g,1),this.setDirty();break}},h.addOverlay=function(m){this.overlays.indexOf(m)<0&&(this.overlays.push(m),this.setOverlayDirty())},h.removeOverlay=function(m){for(var _=this.overlays,g=0;g<_.length;++g)if(_[g]===m){_.splice(g,1),this.setOverlayDirty();break}};function x(m){var _=m.gl,g=o(_,[_.drawingBufferWidth,_.drawingBufferHeight]),A=new c(_,g);return A.grid=s(A),A.text=l(A),A.line=u(A),A.box=f(A),A.update(m),A}},{"./lib/box":113,"./lib/grid":114,"./lib/line":115,"./lib/text":117,"gl-select-static":131}],119:[function(n,i,a){"use strict";i.exports=h;var o=n("right-now"),s=n("3d-view"),l=n("mouse-change"),u=n("mouse-wheel"),f=n("mouse-event-offset"),c=n("has-passive-events");function h(v,b){v=v||document.body,b=b||{};var y=[.01,1/0];"distanceLimits"in b&&(y[0]=b.distanceLimits[0],y[1]=b.distanceLimits[1]),"zoomMin"in b&&(y[0]=b.zoomMin),"zoomMax"in b&&(y[1]=b.zoomMax);var x=s({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:y}),m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0,g=v.clientWidth,A=v.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:x,element:v,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:x.modes,_ortho:b._ortho||b.projection&&b.projection.type==="orthographic"||!1,tick:function(){var k=o(),p=this.delay,d=k-2*p;x.idle(k-p),x.recalcMatrix(d),x.flush(k-(100+p*2));for(var M=!0,T=x.computedMatrix,S=0;S<16;++S)M=M&&m[S]===T[S],m[S]=T[S];var E=v.clientWidth===g&&v.clientHeight===A;return g=v.clientWidth,A=v.clientHeight,M?!E:(_=Math.exp(x.computedRadius[0]),!0)},lookAt:function(k,p,d){x.lookAt(x.lastT(),k,p,d)},rotate:function(k,p,d){x.rotate(x.lastT(),k,p,d)},pan:function(k,p,d){x.pan(x.lastT(),k,p,d)},translate:function(k,p,d){x.translate(x.lastT(),k,p,d)}};return Object.defineProperties(w,{matrix:{get:function(){return x.computedMatrix},set:function(k){return x.setMatrix(x.lastT(),k),x.computedMatrix},enumerable:!0},mode:{get:function(){return x.getMode()},set:function(k){var p=x.computedUp.slice(),d=x.computedEye.slice(),M=x.computedCenter.slice();if(x.setMode(k),k==="turntable"){var T=o();x._active.lookAt(T,d,M,p),x._active.lookAt(T+500,d,M,[0,0,1]),x._active.flush(T)}return x.getMode()},enumerable:!0},center:{get:function(){return x.computedCenter},set:function(k){return x.lookAt(x.lastT(),null,k),x.computedCenter},enumerable:!0},eye:{get:function(){return x.computedEye},set:function(k){return x.lookAt(x.lastT(),k),x.computedEye},enumerable:!0},up:{get:function(){return x.computedUp},set:function(k){return x.lookAt(x.lastT(),null,null,k),x.computedUp},enumerable:!0},distance:{get:function(){return _},set:function(k){return x.setDistance(x.lastT(),k),k},enumerable:!0},distanceLimits:{get:function(){return x.getDistanceLimits(y)},set:function(k){return x.setDistanceLimits(k),k},enumerable:!0}}),v.addEventListener("contextmenu",function(k){return k.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){w.mouseListener=l(v,k),v.addEventListener("touchstart",function(p){var d=f(p.changedTouches[0],v);k(0,d[0],d[1],w._lastMods),k(1,d[0],d[1],w._lastMods)},c?{passive:!0}:!1),v.addEventListener("touchmove",function(p){var d=f(p.changedTouches[0],v);k(1,d[0],d[1],w._lastMods),p.preventDefault()},c?{passive:!1}:!1),v.addEventListener("touchend",function(p){k(0,w._lastX,w._lastY,w._lastMods)},c?{passive:!0}:!1);function k(p,d,M,T){var S=w.keyBindingMode;if(S!==!1){var E=S==="rotate",L=S==="pan",D=S==="zoom",R=!!T.control,q=!!T.alt,C=!!T.shift,F=!!(p&1),N=!!(p&2),U=!!(p&4),V=1/v.clientHeight,Y=V*(d-w._lastX),K=V*(M-w._lastY),B=w.flipX?1:-1,z=w.flipY?1:-1,j=Math.PI*w.rotateSpeed,ae=o();if(w._lastX!==-1&&w._lastY!==-1&&((E&&F&&!R&&!q&&!C||F&&!R&&!q&&C)&&x.rotate(ae,B*j*Y,-z*j*K,0),(L&&F&&!R&&!q&&!C||N||F&&R&&!q&&!C)&&x.pan(ae,-w.translateSpeed*Y*_,w.translateSpeed*K*_,0),D&&F&&!R&&!q&&!C||U||F&&!R&&q&&!C)){var ee=-w.zoomSpeed*K/window.innerHeight*(ae-x.lastT())*100;x.pan(ae,0,0,_*(Math.exp(ee)-1))}return w._lastX=d,w._lastY=M,w._lastMods=T,!0}}w.wheelListener=u(v,function(p,d){if(w.keyBindingMode!==!1&&w.enableWheel){var M=w.flipX?1:-1,T=w.flipY?1:-1,S=o();if(Math.abs(p)>Math.abs(d))x.rotate(S,0,0,-p*M*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var E=-w.zoomSpeed*T*d/window.innerHeight*(S-x.lastT())/20;x.pan(S,0,0,_*(Math.exp(E)-1))}}},!0)},w.enableMouseListeners(),w}},{"3d-view":7,"has-passive-events":232,"mouse-change":247,"mouse-event-offset":248,"mouse-wheel":250,"right-now":278}],120:[function(n,i,a){var o=n("glslify"),s=n("gl-shader"),l=o([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=o([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);i.exports=function(f){return s(f,l,u,null,[{name:"position",type:"vec2"}])}},{"gl-shader":132,glslify:231}],121:[function(n,i,a){"use strict";var o=n("./camera.js"),s=n("gl-axes3d"),l=n("gl-axes3d/properties"),u=n("gl-spikes3d"),f=n("gl-select-static"),c=n("gl-fbo"),h=n("a-big-triangle"),v=n("mouse-change"),b=n("gl-mat4/perspective"),y=n("gl-mat4/ortho"),x=n("./lib/shader"),m=n("is-mobile")({tablet:!0,featureDetect:!0});i.exports={createScene:k,createCamera:o};function _(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function g(d,M){var T=null;try{T=d.getContext("webgl",M),T||(T=d.getContext("experimental-webgl",M))}catch{return null}return T}function A(d){var M=Math.round(Math.log(Math.abs(d))/Math.log(10));if(M<0){var T=Math.round(Math.pow(10,-M));return Math.ceil(d*T)/T}else if(M>0){var T=Math.round(Math.pow(10,M));return Math.ceil(d/T)*T}return Math.ceil(d)}function w(d){return typeof d=="boolean"?d:!0}function k(d){d=d||{},d.camera=d.camera||{};var M=d.canvas;if(!M)if(M=document.createElement("canvas"),d.container){var T=d.container;T.appendChild(M)}else document.body.appendChild(M);var S=d.gl;if(S||(d.glOptions&&(m=!!d.glOptions.preserveDrawingBuffer),S=g(M,d.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!S)throw new Error("webgl not supported");var E=d.bounds||[[-10,-10,-10],[10,10,10]],L=new _,D=c(S,S.drawingBufferWidth,S.drawingBufferHeight,{preferFloat:!m}),R=x(S),q=d.cameraObject&&d.cameraObject._ortho===!0||d.camera.projection&&d.camera.projection.type==="orthographic"||!1,C={eye:d.camera.eye||[2,0,0],center:d.camera.center||[0,0,0],up:d.camera.up||[0,1,0],zoomMin:d.camera.zoomMax||.1,zoomMax:d.camera.zoomMin||100,mode:d.camera.mode||"turntable",_ortho:q},F=d.axes||{},N=s(S,F);N.enable=!F.disable;var U=d.spikes||{},V=u(S,U),Y=[],K=[],B=[],z=[],j=!0,fe=!0,ae=new Array(16),ee=new Array(16),ve={view:null,projection:ae,model:ee,_ortho:!1},fe=!0,se=[S.drawingBufferWidth,S.drawingBufferHeight],G=d.cameraObject||o(M,C),Z={gl:S,contextLost:!1,pixelRatio:d.pixelRatio||1,canvas:M,selection:L,camera:G,axes:N,axesPixels:null,spikes:V,bounds:E,objects:Y,shape:se,aspect:d.aspectRatio||[1,1,1],pickRadius:d.pickRadius||10,zNear:d.zNear||.01,zFar:d.zFar||1e3,fovy:d.fovy||Math.PI/4,clearColor:d.clearColor||[0,0,0,0],autoResize:w(d.autoResize),autoBounds:w(d.autoBounds),autoScale:!!d.autoScale,autoCenter:w(d.autoCenter),clipToBounds:w(d.clipToBounds),snapToData:!!d.snapToData,onselect:d.onselect||null,onrender:d.onrender||null,onclick:d.onclick||null,cameraParams:ve,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ne){this.aspect[0]=ne.x,this.aspect[1]=ne.y,this.aspect[2]=ne.z,fe=!0},setBounds:function(ne,be){this.bounds[0][ne]=be.min,this.bounds[1][ne]=be.max},setClearColor:function(ne){this.clearColor=ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},X=[S.drawingBufferWidth/Z.pixelRatio|0,S.drawingBufferHeight/Z.pixelRatio|0];function ge(){if(!Z._stopped&&Z.autoResize){var ne=M.parentNode,be=1,Fe=1;ne&&ne!==document.body?(be=ne.clientWidth,Fe=ne.clientHeight):(be=window.innerWidth,Fe=window.innerHeight);var He=Math.ceil(be*Z.pixelRatio)|0,te=Math.ceil(Fe*Z.pixelRatio)|0;if(He!==M.width||te!==M.height){M.width=He,M.height=te;var ye=M.style;ye.position=ye.position||"absolute",ye.left="0px",ye.top="0px",ye.width=be+"px",ye.height=Fe+"px",j=!0}}}Z.autoResize&&ge(),window.addEventListener("resize",ge);function qe(){for(var ne=Y.length,be=z.length,Fe=0;Fe<be;++Fe)B[Fe]=0;e:for(var Fe=0;Fe<ne;++Fe){var He=Y[Fe],te=He.pickSlots;if(!te){K[Fe]=-1;continue}for(var ye=0;ye<be;++ye)if(B[ye]+te<255){K[Fe]=ye,He.setPickBase(B[ye]+1),B[ye]+=te;continue e}var Te=f(S,se);K[Fe]=be,z.push(Te),B.push(te),He.setPickBase(1),be+=1}for(;be>0&&B[be-1]===0;)B.pop(),z.pop().dispose()}Z.update=function(ne){Z._stopped||(ne=ne||{},j=!0,fe=!0)},Z.add=function(ne){Z._stopped||(ne.axes=N,Y.push(ne),K.push(-1),j=!0,fe=!0,qe())},Z.remove=function(ne){if(!Z._stopped){var be=Y.indexOf(ne);be<0||(Y.splice(be,1),K.pop(),j=!0,fe=!0,qe())}},Z.dispose=function(){if(!Z._stopped&&(Z._stopped=!0,window.removeEventListener("resize",ge),M.removeEventListener("webglcontextlost",Pe),Z.mouseListener.enabled=!1,!Z.contextLost)){N.dispose(),V.dispose();for(var ne=0;ne<Y.length;++ne)Y[ne].dispose();D.dispose();for(var ne=0;ne<z.length;++ne)z[ne].dispose();R.dispose(),S=null,N=null,V=null,Y=[]}},Z._mouseRotating=!1,Z._prevButtons=0,Z.enableMouseListeners=function(){Z.mouseListener=v(M,function(ne,be,Fe){if(!Z._stopped){var He=z.length,te=Y.length,ye=L.object;L.distance=1/0,L.mouse[0]=be,L.mouse[1]=Fe,L.object=null,L.screen=null,L.dataCoordinate=L.dataPosition=null;var Te=!1;if(ne&&Z._prevButtons)Z._mouseRotating=!0;else{Z._mouseRotating&&(fe=!0),Z._mouseRotating=!1;for(var Ce=0;Ce<He;++Ce){var De=z[Ce].query(be,X[1]-Fe-1,Z.pickRadius);if(De){if(De.distance>L.distance)continue;for(var oe=0;oe<te;++oe){var pe=Y[oe];if(K[oe]===Ce){var Le=pe.pick(De);Le&&(L.buttons=ne,L.screen=De.coord,L.distance=De.distance,L.object=pe,L.index=Le.distance,L.dataPosition=Le.position,L.dataCoordinate=Le.dataCoordinate,L.data=Le,Te=!0)}}}}}ye&&ye!==L.object&&(ye.highlight&&ye.highlight(null),j=!0),L.object&&(L.object.highlight&&L.object.highlight(L.data),j=!0),Te=Te||L.object!==ye,Te&&Z.onselect&&Z.onselect(L),ne&1&&!(Z._prevButtons&1)&&Z.onclick&&Z.onclick(L),Z._prevButtons=ne}})};function Pe(){if(Z.contextLost)return!0;S.isContextLost()&&(Z.contextLost=!0,Z.mouseListener.enabled=!1,Z.selection.object=null,Z.oncontextloss&&Z.oncontextloss())}M.addEventListener("webglcontextlost",Pe);function Oe(){if(!Pe()){S.colorMask(!0,!0,!0,!0),S.depthMask(!0),S.disable(S.BLEND),S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL);for(var ne=Y.length,be=z.length,Fe=0;Fe<be;++Fe){var He=z[Fe];He.shape=X,He.begin();for(var te=0;te<ne;++te)if(K[te]===Fe){var ye=Y[te];ye.drawPick&&(ye.pixelRatio=1,ye.drawPick(ve))}He.end()}}}var de=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],_e=[de[0].slice(),de[1].slice()];function ce(){if(!Pe()){ge();var ne=Z.camera.tick();ve.view=Z.camera.matrix,j=j||ne,fe=fe||ne,N.pixelRatio=Z.pixelRatio,V.pixelRatio=Z.pixelRatio;var be=Y.length,Fe=de[0],He=de[1];Fe[0]=Fe[1]=Fe[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var te=0;te<be;++te){var ye=Y[te];ye.pixelRatio=Z.pixelRatio,ye.axes=Z.axes,j=j||!!ye.dirty,fe=fe||!!ye.dirty;var Te=ye.bounds;if(Te)for(var Ce=Te[0],De=Te[1],oe=0;oe<3;++oe)Fe[oe]=Math.min(Fe[oe],Ce[oe]),He[oe]=Math.max(He[oe],De[oe])}var pe=Z.bounds;if(Z.autoBounds)for(var oe=0;oe<3;++oe){if(He[oe]<Fe[oe])Fe[oe]=-1,He[oe]=1;else{Fe[oe]===He[oe]&&(Fe[oe]-=1,He[oe]+=1);var Le=.05*(He[oe]-Fe[oe]);Fe[oe]=Fe[oe]-Le,He[oe]=He[oe]+Le}pe[0][oe]=Fe[oe],pe[1][oe]=He[oe]}for(var Ue=!1,oe=0;oe<3;++oe)Ue=Ue||_e[0][oe]!==pe[0][oe]||_e[1][oe]!==pe[1][oe],_e[0][oe]=pe[0][oe],_e[1][oe]=pe[1][oe];if(fe=fe||Ue,j=j||Ue,!!j){if(Ue){for(var et=[0,0,0],te=0;te<3;++te)et[te]=A((pe[1][te]-pe[0][te])/10);N.autoTicks?N.update({bounds:pe,tickSpacing:et}):N.update({bounds:pe})}var Qe=S.drawingBufferWidth,dt=S.drawingBufferHeight;se[0]=Qe,se[1]=dt,X[0]=Math.max(Qe/Z.pixelRatio,1)|0,X[1]=Math.max(dt/Z.pixelRatio,1)|0,p(Z,q);for(var te=0;te<be;++te){var ye=Y[te];ye.axesBounds=pe,Z.clipToBounds&&(ye.clipBounds=pe)}L.object&&(Z.snapToData?V.position=L.dataCoordinate:V.position=L.dataPosition,V.bounds=pe),fe&&(fe=!1,Oe()),Z.axesPixels=l(Z.axes,ve,Qe,dt),Z.onrender&&Z.onrender(),S.bindFramebuffer(S.FRAMEBUFFER,null),S.viewport(0,0,Qe,dt),Z.clearRGBA(),S.depthMask(!0),S.colorMask(!0,!0,!0,!0),S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL),S.disable(S.BLEND),S.disable(S.CULL_FACE);var ht=!1;N.enable&&(ht=ht||N.isTransparent(),N.draw(ve)),V.axes=N,L.object&&V.draw(ve),S.disable(S.CULL_FACE);for(var te=0;te<be;++te){var ye=Y[te];ye.axes=N,ye.pixelRatio=Z.pixelRatio,ye.isOpaque&&ye.isOpaque()&&ye.draw(ve),ye.isTransparent&&ye.isTransparent()&&(ht=!0)}if(ht){D.shape=se,D.bind(),S.clear(S.DEPTH_BUFFER_BIT),S.colorMask(!1,!1,!1,!1),S.depthMask(!0),S.depthFunc(S.LESS),N.enable&&N.isTransparent()&&N.drawTransparent(ve);for(var te=0;te<be;++te){var ye=Y[te];ye.isOpaque&&ye.isOpaque()&&ye.draw(ve)}S.enable(S.BLEND),S.blendEquation(S.FUNC_ADD),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.colorMask(!0,!0,!0,!0),S.depthMask(!1),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),N.isTransparent()&&N.drawTransparent(ve);for(var te=0;te<be;++te){var ye=Y[te];ye.isTransparent&&ye.isTransparent()&&ye.drawTransparent(ve)}S.bindFramebuffer(S.FRAMEBUFFER,null),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.disable(S.DEPTH_TEST),R.bind(),D.color[0].bind(0),R.uniforms.accumBuffer=0,h(S),S.disable(S.BLEND)}j=!1;for(var te=0;te<be;++te)Y[te].dirty=!1}}}function J(){Z._stopped||Z.contextLost||(ce(),requestAnimationFrame(J))}return Z.enableMouseListeners(),J(),Z.redraw=function(){Z._stopped||(j=!0,ce())},Z}function p(d,M){var T=d.bounds,S=d.cameraParams,E=S.projection,L=S.model,D=d.gl.drawingBufferWidth,R=d.gl.drawingBufferHeight,q=d.zNear,C=d.zFar,F=d.fovy,N=D/R;M?(y(E,-N,N,-1,1,q,C),S._ortho=!0):(b(E,F,N,q,C),S._ortho=!1);for(var U=0;U<16;++U)L[U]=0;L[15]=1;for(var V=0,U=0;U<3;++U)V=Math.max(V,T[1][U]-T[0][U]);for(var U=0;U<3;++U)d.autoScale?L[5*U]=d.aspect[U]/(T[1][U]-T[0][U]):L[5*U]=1/V,d.autoCenter&&(L[12+U]=-L[5*U]*.5*(T[0][U]+T[1][U]))}},{"./camera.js":119,"./lib/shader":120,"a-big-triangle":8,"gl-axes3d":70,"gl-axes3d/properties":77,"gl-fbo":86,"gl-mat4/ortho":101,"gl-mat4/perspective":102,"gl-select-static":131,"gl-spikes3d":141,"is-mobile":238,"mouse-change":247}],122:[function(n,i,a){var o=n("glslify");a.pointVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),a.pointFragment=o([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),a.pickVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),a.pickFragment=o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},{glslify:231}],123:[function(n,i,a){"use strict";var o=n("gl-shader"),s=n("gl-buffer"),l=n("typedarray-pool"),u=n("./lib/shader");i.exports=v;function f(b,y,x,m,_){this.plot=b,this.offsetBuffer=y,this.pickBuffer=x,this.shader=m,this.pickShader=_,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var c=f.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(b){var y;b=b||{};function x(p,d){return p in b?b[p]:d}this.sizeMin=x("sizeMin",.5),this.sizeMax=x("sizeMax",20),this.color=x("color",[1,0,0,1]).slice(),this.areaRatio=x("areaRatio",1),this.borderColor=x("borderColor",[0,0,0,1]).slice(),this.blend=x("blend",!1);var m=b.positions.length>>>1,_=b.positions instanceof Float32Array,g=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=m,A=b.positions,w=_?A:l.mallocFloat32(A.length),k=g?b.idToIndex:l.mallocInt32(m);if(_||w.set(A),!g)for(w.set(A),y=0;y<m;y++)k[y]=y;this.points=A,this.offsetBuffer.update(w),this.pickBuffer.update(k),_||l.free(w),g||l.free(k),this.pointCount=m,this.pickOffset=0};function h(b,y){var x=0,m=b.length>>>1,_;for(_=0;_<m;_++){var g=b[_*2],A=b[_*2+1];g>=y[0]&&g<=y[2]&&A>=y[1]&&A<=y[3]&&x++}return x}c.unifiedDraw=function(){var b=[1,0,0,0,1,0,0,0,1],y=[0,0,0,0];return function(x){var m=x!==void 0,_=m?this.pickShader:this.shader,g=this.plot.gl,A=this.plot.dataBox;if(this.pointCount===0)return x;var w=A[2]-A[0],k=A[3]-A[1],p=h(this.points,A),d=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));b[0]=2/w,b[4]=2/k,b[6]=-2*A[0]/w-1,b[7]=-2*A[1]/k-1,this.offsetBuffer.bind(),_.bind(),_.attributes.position.pointer(),_.uniforms.matrix=b,_.uniforms.color=this.color,_.uniforms.borderColor=this.borderColor,_.uniforms.pointCloud=d<5,_.uniforms.pointSize=d,_.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),m&&(y[0]=x&255,y[1]=x>>8&255,y[2]=x>>16&255,y[3]=x>>24&255,this.pickBuffer.bind(),_.attributes.pickId.pointer(g.UNSIGNED_BYTE),_.uniforms.pickOffset=y,this.pickOffset=x);var M=g.getParameter(g.BLEND),T=g.getParameter(g.DITHER);return M&&!this.blend&&g.disable(g.BLEND),T&&g.disable(g.DITHER),g.drawArrays(g.POINTS,0,this.pointCount),M&&!this.blend&&g.enable(g.BLEND),T&&g.enable(g.DITHER),x+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(b,y,x){var m=this.pickOffset,_=this.pointCount;if(x<m||x>=m+_)return null;var g=x-m,A=this.points;return{object:this,pointId:g,dataCoord:[A[2*g],A[2*g+1]]}};function v(b,y){var x=b.gl,m=s(x),_=s(x),g=o(x,u.pointVertex,u.pointFragment),A=o(x,u.pickVertex,u.pickFragment),w=new f(b,m,_,g,A);return w.update(y),b.addObject(w),w}},{"./lib/shader":122,"gl-buffer":78,"gl-shader":132,"typedarray-pool":308}],124:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=l[0],h=l[1],v=l[2],b=l[3],y=u[0],x=u[1],m=u[2],_=u[3],g,A,w,k,p;return A=c*y+h*x+v*m+b*_,A<0&&(A=-A,y=-y,x=-x,m=-m,_=-_),1-A>1e-6?(g=Math.acos(A),w=Math.sin(g),k=Math.sin((1-f)*g)/w,p=Math.sin(f*g)/w):(k=1-f,p=f),s[0]=k*c+p*y,s[1]=k*h+p*x,s[2]=k*v+p*m,s[3]=k*b+p*_,s}},{}],125:[function(n,i,a){"use strict";i.exports=function(o){return!o&&o!==0?"":o.toString()}},{}],126:[function(n,i,a){"use strict";var o=n("vectorize-text");i.exports=l;var s={};function l(u,f,c){var h=s[f];if(h||(h=s[f]={}),u in h)return h[u];var v={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};v.triangles=!0;var b=o(u,v);v.triangles=!1;var y=o(u,v),x,m;if(c&&c!==1){for(x=0;x<b.positions.length;++x)for(m=0;m<b.positions[x].length;++m)b.positions[x][m]/=c;for(x=0;x<y.positions.length;++x)for(m=0;m<y.positions[x].length;++m)y.positions[x][m]/=c}var _=[[1/0,1/0],[-1/0,-1/0]],g=y.positions.length;for(x=0;x<g;++x){var A=y.positions[x];for(m=0;m<2;++m)_[0][m]=Math.min(_[0][m],A[m]),_[1][m]=Math.max(_[1][m],A[m])}return h[u]=[b,y,_]}},{"vectorize-text":311}],127:[function(n,i,a){var o=n("gl-shader"),s=n("glslify"),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:l,fragment:c,attributes:v},y={vertex:u,fragment:c,attributes:v},x={vertex:f,fragment:c,attributes:v},m={vertex:l,fragment:h,attributes:v},_={vertex:u,fragment:h,attributes:v},g={vertex:f,fragment:h,attributes:v};function A(w,k){var p=o(w,k),d=p.attributes;return d.position.location=0,d.color.location=1,d.glyph.location=2,d.id.location=3,p}a.createPerspective=function(w){return A(w,b)},a.createOrtho=function(w){return A(w,y)},a.createProject=function(w){return A(w,x)},a.createPickPerspective=function(w){return A(w,m)},a.createPickOrtho=function(w){return A(w,_)},a.createPickProject=function(w){return A(w,g)}},{"gl-shader":132,glslify:231}],128:[function(n,i,a){"use strict";var o=n("is-string-blank"),s=n("gl-buffer"),l=n("gl-vao"),u=n("typedarray-pool"),f=n("gl-mat4/multiply"),c=n("./lib/shaders"),h=n("./lib/glyphs"),v=n("./lib/get-simple-string"),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];i.exports=K;function y(B,z){var j=B[0],ae=B[1],ee=B[2],ve=B[3];return B[0]=z[0]*j+z[4]*ae+z[8]*ee+z[12]*ve,B[1]=z[1]*j+z[5]*ae+z[9]*ee+z[13]*ve,B[2]=z[2]*j+z[6]*ae+z[10]*ee+z[14]*ve,B[3]=z[3]*j+z[7]*ae+z[11]*ee+z[15]*ve,B}function x(B,z,j,ae){return y(ae,ae,j),y(ae,ae,z),y(ae,ae,B)}function m(B,z){this.index=B,this.dataCoordinate=this.position=z}function _(B){return B===!0||B>1?1:B}function g(B,z,j,ae,ee,ve,fe,se,G,Z,X,ge){this.gl=B,this.pixelRatio=1,this.shader=z,this.orthoShader=j,this.projectShader=ae,this.pointBuffer=ee,this.colorBuffer=ve,this.glyphBuffer=fe,this.idBuffer=se,this.vao=G,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Z,this.pickOrthoShader=X,this.pickProjectShader=ge,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var A=g.prototype;A.pickSlots=1,A.setPickBase=function(B){this.pickId=B},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var B=0;B<3;++B)if(this.axesProject[B]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var B=0;B<3;++B)if(this.axesProject[B]&&!this.projectHasAlpha)return!0;return!1};var w=[0,0],k=[0,0,0],p=[0,0,0],d=[0,0,0,1],M=[0,0,0,1],T=b.slice(),S=[0,0,0],E=[[0,0,0],[0,0,0]];function L(B){return B[0]=B[1]=B[2]=0,B}function D(B,z){return B[0]=z[0],B[1]=z[1],B[2]=z[2],B[3]=1,B}function R(B,z,j,ae){return B[0]=z[0],B[1]=z[1],B[2]=z[2],B[j]=ae,B}function q(B){for(var z=E,j=0;j<2;++j)for(var ae=0;ae<3;++ae)z[j][ae]=Math.max(Math.min(B[j][ae],1e8),-1e8);return z}function C(B,z,j,ae){var ee=z.axesProject,ve=z.gl,fe=B.uniforms,se=j.model||b,G=j.view||b,Z=j.projection||b,X=z.axesBounds,ge=q(z.clipBounds),qe;z.axes&&z.axes.lastCubeProps?qe=z.axes.lastCubeProps.axis:qe=[1,1,1],w[0]=2/ve.drawingBufferWidth,w[1]=2/ve.drawingBufferHeight,B.bind(),fe.view=G,fe.projection=Z,fe.screenSize=w,fe.highlightId=z.highlightId,fe.highlightScale=z.highlightScale,fe.clipBounds=ge,fe.pickGroup=z.pickId/255,fe.pixelRatio=ae;for(var Pe=0;Pe<3;++Pe)if(ee[Pe]){fe.scale=z.projectScale[Pe],fe.opacity=z.projectOpacity[Pe];for(var Oe=T,de=0;de<16;++de)Oe[de]=0;for(var de=0;de<4;++de)Oe[5*de]=1;Oe[5*Pe]=0,qe[Pe]<0?Oe[12+Pe]=X[0][Pe]:Oe[12+Pe]=X[1][Pe],f(Oe,se,Oe),fe.model=Oe;var _e=(Pe+1)%3,ce=(Pe+2)%3,J=L(k),ne=L(p);J[_e]=1,ne[ce]=1;var be=x(Z,G,se,D(d,J)),Fe=x(Z,G,se,D(M,ne));if(Math.abs(be[1])>Math.abs(Fe[1])){var He=be;be=Fe,Fe=He,He=J,J=ne,ne=He;var te=_e;_e=ce,ce=te}be[0]<0&&(J[_e]=-1),Fe[1]>0&&(ne[ce]=-1);for(var ye=0,Te=0,de=0;de<4;++de)ye+=Math.pow(se[4*_e+de],2),Te+=Math.pow(se[4*ce+de],2);J[_e]/=Math.sqrt(ye),ne[ce]/=Math.sqrt(Te),fe.axes[0]=J,fe.axes[1]=ne,fe.fragClipBounds[0]=R(S,ge[0],Pe,-1e8),fe.fragClipBounds[1]=R(S,ge[1],Pe,1e8),z.vao.bind(),z.vao.draw(ve.TRIANGLES,z.vertexCount),z.lineWidth>0&&(ve.lineWidth(z.lineWidth*ae),z.vao.draw(ve.LINES,z.lineVertexCount,z.vertexCount)),z.vao.unbind()}}var F=[-1e8,-1e8,-1e8],N=[1e8,1e8,1e8],U=[F,N];function V(B,z,j,ae,ee,ve,fe){var se=j.gl;if((ve===j.projectHasAlpha||fe)&&C(z,j,ae,ee),ve===j.hasAlpha||fe){B.bind();var G=B.uniforms;G.model=ae.model||b,G.view=ae.view||b,G.projection=ae.projection||b,w[0]=2/se.drawingBufferWidth,w[1]=2/se.drawingBufferHeight,G.screenSize=w,G.highlightId=j.highlightId,G.highlightScale=j.highlightScale,G.fragClipBounds=U,G.clipBounds=j.axes.bounds,G.opacity=j.opacity,G.pickGroup=j.pickId/255,G.pixelRatio=ee,j.vao.bind(),j.vao.draw(se.TRIANGLES,j.vertexCount),j.lineWidth>0&&(se.lineWidth(j.lineWidth*ee),j.vao.draw(se.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}A.draw=function(B){var z=this.useOrtho?this.orthoShader:this.shader;V(z,this.projectShader,this,B,this.pixelRatio,!1,!1)},A.drawTransparent=function(B){var z=this.useOrtho?this.orthoShader:this.shader;V(z,this.projectShader,this,B,this.pixelRatio,!0,!1)},A.drawPick=function(B){var z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;V(z,this.pickProjectShader,this,B,1,!0,!0)},A.pick=function(B){if(!B||B.id!==this.pickId)return null;var z=B.value[2]+(B.value[1]<<8)+(B.value[0]<<16);if(z>=this.pointCount||z<0)return null;var j=this.points[z],ae=this._selectResult;ae.index=z;for(var ee=0;ee<3;++ee)ae.position[ee]=ae.dataCoordinate[ee]=j[ee];return ae},A.highlight=function(B){if(!B)this.highlightId=[1,1,1,1];else{var z=B.index,j=z&255,ae=z>>8&255,ee=z>>16&255;this.highlightId=[j/255,ae/255,ee/255,0]}};function Y(B,z,j,ae){var ee;Array.isArray(B)?z<B.length?ee=B[z]:ee=void 0:ee=B,ee=v(ee);var ve=!0;o(ee)&&(ee="\u25BC",ve=!1);var fe=h(ee,j,ae);return{mesh:fe[0],lines:fe[1],bounds:fe[2],visible:ve}}A.update=function(B){if(B=B||{},"perspective"in B&&(this.useOrtho=!B.perspective),"orthographic"in B&&(this.useOrtho=!!B.orthographic),"lineWidth"in B&&(this.lineWidth=B.lineWidth),"project"in B)if(Array.isArray(B.project))this.axesProject=B.project;else{var z=!!B.project;this.axesProject=[z,z,z]}if("projectScale"in B)if(Array.isArray(B.projectScale))this.projectScale=B.projectScale.slice();else{var j=+B.projectScale;this.projectScale=[j,j,j]}if(this.projectHasAlpha=!1,"projectOpacity"in B){if(Array.isArray(B.projectOpacity))this.projectOpacity=B.projectOpacity.slice();else{var j=+B.projectOpacity;this.projectOpacity=[j,j,j]}for(var ae=0;ae<3;++ae)this.projectOpacity[ae]=_(this.projectOpacity[ae]),this.projectOpacity[ae]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in B&&(this.opacity=_(B.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=B.position,ve=B.font||"normal",fe=B.alignment||[0,0],se,G;if(fe.length===2)se=fe[0],G=fe[1];else{se=[],G=[];for(var ae=0;ae<fe.length;++ae)se[ae]=fe[ae][0],G[ae]=fe[ae][1]}var Z=[1/0,1/0,1/0],X=[-1/0,-1/0,-1/0],ge=B.glyph,qe=B.color,Pe=B.size,Oe=B.angle,de=B.lineColor,_e=-1,ce=0,J=0,ne=0;if(ee.length){ne=ee.length;e:for(var ae=0;ae<ne;++ae){for(var be=ee[ae],Fe=0;Fe<3;++Fe)if(isNaN(be[Fe])||!isFinite(be[Fe]))continue e;var He=Y(ge,ae,ve,this.pixelRatio),te=He.mesh,ye=He.lines,Te=He.bounds;ce+=te.cells.length*3,J+=ye.edges.length*2}}var Ce=ce+J,De=u.mallocFloat(3*Ce),oe=u.mallocFloat(4*Ce),pe=u.mallocFloat(2*Ce),Le=u.mallocUint32(Ce);if(Ce>0){var Ue=0,et=ce,Qe=[0,0,0,1],dt=[0,0,0,1],ht=Array.isArray(qe)&&Array.isArray(qe[0]),_t=Array.isArray(de)&&Array.isArray(de[0]);e:for(var ae=0;ae<ne;++ae){_e+=1;for(var be=ee[ae],Fe=0;Fe<3;++Fe){if(isNaN(be[Fe])||!isFinite(be[Fe]))continue e;X[Fe]=Math.max(X[Fe],be[Fe]),Z[Fe]=Math.min(Z[Fe],be[Fe])}var He=Y(ge,ae,ve,this.pixelRatio),te=He.mesh,ye=He.lines,Te=He.bounds,kt=He.visible;if(!kt)Qe=[1,1,1,0];else if(Array.isArray(qe)){var St;if(ht?ae<qe.length?St=qe[ae]:St=[0,0,0,0]:St=qe,St.length===3){for(var Fe=0;Fe<3;++Fe)Qe[Fe]=St[Fe];Qe[3]=1}else if(St.length===4){for(var Fe=0;Fe<4;++Fe)Qe[Fe]=St[Fe];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else Qe[0]=Qe[1]=Qe[2]=0,Qe[3]=1;if(!kt)dt=[1,1,1,0];else if(Array.isArray(de)){var St;if(_t?ae<de.length?St=de[ae]:St=[0,0,0,0]:St=de,St.length===3){for(var Fe=0;Fe<3;++Fe)dt[Fe]=St[Fe];dt[Fe]=1}else if(St.length===4){for(var Fe=0;Fe<4;++Fe)dt[Fe]=St[Fe];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else dt[0]=dt[1]=dt[2]=0,dt[3]=1;var Ot=.5;kt?Array.isArray(Pe)?ae<Pe.length?Ot=+Pe[ae]:Ot=12:Pe?Ot=+Pe:this.useOrtho&&(Ot=12):Ot=0;var je=0;Array.isArray(Oe)?ae<Oe.length?je=+Oe[ae]:je=0:Oe&&(je=+Oe);for(var Ve=Math.cos(je),Je=Math.sin(je),be=ee[ae],Fe=0;Fe<3;++Fe)X[Fe]=Math.max(X[Fe],be[Fe]),Z[Fe]=Math.min(Z[Fe],be[Fe]);var nt=se,Be=G,nt=0;Array.isArray(se)?ae<se.length?nt=se[ae]:nt=0:se&&(nt=se);var Be=0;Array.isArray(G)?ae<G.length?Be=G[ae]:Be=0:G&&(Be=G),nt*=nt>0?1-Te[0][0]:nt<0?1+Te[1][0]:1,Be*=Be>0?1-Te[0][1]:Be<0?1+Te[1][1]:1;for(var tt=[nt,Be],tr=te.cells||[],rr=te.positions||[],Fe=0;Fe<tr.length;++Fe)for(var ot=tr[Fe],yt=0;yt<3;++yt){for(var Ht=0;Ht<3;++Ht)De[3*Ue+Ht]=be[Ht];for(var Ht=0;Ht<4;++Ht)oe[4*Ue+Ht]=Qe[Ht];Le[Ue]=_e;var Lt=rr[ot[yt]];pe[2*Ue]=Ot*(Ve*Lt[0]-Je*Lt[1]+tt[0]),pe[2*Ue+1]=Ot*(Je*Lt[0]+Ve*Lt[1]+tt[1]),Ue+=1}for(var tr=ye.edges,rr=ye.positions,Fe=0;Fe<tr.length;++Fe)for(var ot=tr[Fe],yt=0;yt<2;++yt){for(var Ht=0;Ht<3;++Ht)De[3*et+Ht]=be[Ht];for(var Ht=0;Ht<4;++Ht)oe[4*et+Ht]=dt[Ht];Le[et]=_e;var Lt=rr[ot[yt]];pe[2*et]=Ot*(Ve*Lt[0]-Je*Lt[1]+tt[0]),pe[2*et+1]=Ot*(Je*Lt[0]+Ve*Lt[1]+tt[1]),et+=1}}}this.bounds=[Z,X],this.points=ee,this.pointCount=ee.length,this.vertexCount=ce,this.lineVertexCount=J,this.pointBuffer.update(De),this.colorBuffer.update(oe),this.glyphBuffer.update(pe),this.idBuffer.update(Le),u.free(De),u.free(oe),u.free(pe),u.free(Le)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function K(B){var z=B.gl,j=c.createPerspective(z),ae=c.createOrtho(z),ee=c.createProject(z),ve=c.createPickPerspective(z),fe=c.createPickOrtho(z),se=c.createPickProject(z),G=s(z),Z=s(z),X=s(z),ge=s(z),qe=l(z,[{buffer:G,size:3,type:z.FLOAT},{buffer:Z,size:4,type:z.FLOAT},{buffer:X,size:2,type:z.FLOAT},{buffer:ge,size:4,type:z.UNSIGNED_BYTE,normalized:!0}]),Pe=new g(z,j,ae,ee,G,Z,X,ge,qe,ve,fe,se);return Pe.update(B),Pe}},{"./lib/get-simple-string":125,"./lib/glyphs":126,"./lib/shaders":127,"gl-buffer":78,"gl-mat4/multiply":100,"gl-vao":150,"is-string-blank":239,"typedarray-pool":308}],129:[function(n,i,a){"use strict";var o=n("glslify");a.boxVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),a.boxFragment=o([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},{glslify:231}],130:[function(n,i,a){"use strict";var o=n("gl-shader"),s=n("gl-buffer"),l=n("./lib/shaders");i.exports=c;function u(h,v,b){this.plot=h,this.boxBuffer=v,this.boxShader=b,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var h=this.plot,v=this.selectBox,b=this.borderWidth,y=this.innerFill,x=this.innerColor,m=this.outerFill,_=this.outerColor,g=this.borderColor,A=h.box,w=h.screenBox,k=h.dataBox,p=h.viewBox,d=h.pixelRatio,M=(v[0]-k[0])*(p[2]-p[0])/(k[2]-k[0])+p[0],T=(v[1]-k[1])*(p[3]-p[1])/(k[3]-k[1])+p[1],S=(v[2]-k[0])*(p[2]-p[0])/(k[2]-k[0])+p[0],E=(v[3]-k[1])*(p[3]-p[1])/(k[3]-k[1])+p[1];if(M=Math.max(M,p[0]),T=Math.max(T,p[1]),S=Math.min(S,p[2]),E=Math.min(E,p[3]),!(S<M||E<T)){A.bind();var L=w[2]-w[0],D=w[3]-w[1];if(this.outerFill&&(A.drawBox(0,0,L,T,_),A.drawBox(0,T,M,E,_),A.drawBox(0,E,L,D,_),A.drawBox(S,T,L,E,_)),this.innerFill&&A.drawBox(M,T,S,E,x),b>0){var R=b*d;A.drawBox(M-R,T-R,S+R,T+R,g),A.drawBox(M-R,E-R,S+R,E+R,g),A.drawBox(M-R,T-R,M+R,E+R,g),A.drawBox(S-R,T-R,S+R,E+R,g)}}}},f.update=function(h){h=h||{},this.innerFill=!!h.innerFill,this.outerFill=!!h.outerFill,this.innerColor=(h.innerColor||[0,0,0,.5]).slice(),this.outerColor=(h.outerColor||[0,0,0,.5]).slice(),this.borderColor=(h.borderColor||[0,0,0,1]).slice(),this.borderWidth=h.borderWidth||0,this.selectBox=(h.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function c(h,v){var b=h.gl,y=s(b,[0,0,0,1,1,0,1,1]),x=o(b,l.boxVertex,l.boxFragment),m=new u(h,y,x);return m.update(v),h.addOverlay(m),m}},{"./lib/shaders":129,"gl-buffer":78,"gl-shader":132}],131:[function(n,i,a){"use strict";i.exports=b;var o=n("gl-fbo"),s=n("typedarray-pool"),l=n("ndarray"),u=n("bit-twiddle").nextPow2,f=function(y,x,m){for(var _=1e8,g=-1,A=-1,w=y.shape[0],k=y.shape[1],p=0;p<w;p++)for(var d=0;d<k;d++){var M=y.get(p,d,0),T=y.get(p,d,1),S=y.get(p,d,2),E=y.get(p,d,3);if(M<255||T<255||S<255||E<255){var L=x-p,D=m-d,R=L*L+D*D;R<_&&(_=R,g=p,A=d)}}return[g,A,_]};function c(y,x,m,_,g){this.coord=[y,x],this.id=m,this.value=_,this.distance=g}function h(y,x,m){this.gl=y,this.fbo=x,this.buffer=m,this._readTimeout=null;var _=this;this._readCallback=function(){_.gl&&(x.bind(),y.readPixels(0,0,x.shape[0],x.shape[1],y.RGBA,y.UNSIGNED_BYTE,_.buffer),_._readTimeout=null)}}var v=h.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(y){if(this.gl){this.fbo.shape=y;var x=this.fbo.shape[0],m=this.fbo.shape[1];if(m*x*4>this.buffer.length){s.free(this.buffer);for(var _=this.buffer=s.mallocUint8(u(m*x*4)),g=0;g<m*x*4;++g)_[g]=255}return y}}}),v.begin=function(){var y=this.gl,x=this.shape;y&&(this.fbo.bind(),y.clearColor(1,1,1,1),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT))},v.end=function(){var y=this.gl;y&&(y.bindFramebuffer(y.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(y,x,m){if(!this.gl)return null;var _=this.fbo.shape.slice();y=y|0,x=x|0,typeof m!="number"&&(m=1);var g=Math.min(Math.max(y-m,0),_[0])|0,A=Math.min(Math.max(y+m,0),_[0])|0,w=Math.min(Math.max(x-m,0),_[1])|0,k=Math.min(Math.max(x+m,0),_[1])|0;if(A<=g||k<=w)return null;var p=[A-g,k-w],d=l(this.buffer,[p[0],p[1],4],[4,_[0]*4,1],4*(g+_[0]*w)),M=f(d.hi(p[0],p[1],1),m,m),T=M[0],S=M[1];if(T<0||Math.pow(this.radius,2)<M[2])return null;var E=d.get(T,S,0),L=d.get(T,S,1),D=d.get(T,S,2),R=d.get(T,S,3);return new c(T+g|0,S+w|0,E,[L,D,R],Math.sqrt(M[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function b(y,x){var m=x[0],_=x[1],g={},A=o(y,m,_,g),w=s.mallocUint8(m*_*4);return new h(y,A,w)}},{"bit-twiddle":32,"gl-fbo":86,ndarray:259,"typedarray-pool":308}],132:[function(n,i,a){"use strict";var o=n("./lib/create-uniforms"),s=n("./lib/create-attributes"),l=n("./lib/reflect"),u=n("./lib/shader-cache"),f=n("./lib/runtime-reflect"),c=n("./lib/GLError");function h(x){this.gl=x,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=h.prototype;v.bind=function(){this.program||this._relink();var x,m=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),_=this.gl.lastAttribCount;if(m>_)for(x=_;x<m;x++)this.gl.enableVertexAttribArray(x);else if(_>m)for(x=m;x<_;x++)this.gl.disableVertexAttribArray(x);this.gl.lastAttribCount=m,this.gl.useProgram(this.program)},v.dispose=function(){for(var x=this.gl.lastAttribCount,m=0;m<x;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function b(x,m){return x.name<m.name?-1:1}v.update=function(x,m,_,g){if(!m||arguments.length===1){var A=x;x=A.vertex,m=A.fragment,_=A.uniforms,g=A.attributes}var w=this,k=w.gl,p=w._vref;w._vref=u.shader(k,k.VERTEX_SHADER,x),p&&p.dispose(),w.vertShader=w._vref.shader;var d=this._fref;if(w._fref=u.shader(k,k.FRAGMENT_SHADER,m),d&&d.dispose(),w.fragShader=w._fref.shader,!_||!g){var M=k.createProgram();if(k.attachShader(M,w.fragShader),k.attachShader(M,w.vertShader),k.linkProgram(M),!k.getProgramParameter(M,k.LINK_STATUS)){var T=k.getProgramInfoLog(M);throw new c(T,"Error linking program:"+T)}_=_||f.uniforms(k,M),g=g||f.attributes(k,M),k.deleteProgram(M)}g=g.slice(),g.sort(b);var S=[],E=[],L=[],D;for(D=0;D<g.length;++D){var R=g[D];if(R.type.indexOf("mat")>=0){for(var q=R.type.charAt(R.type.length-1)|0,C=new Array(q),F=0;F<q;++F)C[F]=L.length,E.push(R.name+"["+F+"]"),typeof R.location=="number"?L.push(R.location+F):Array.isArray(R.location)&&R.location.length===q&&typeof R.location[F]=="number"?L.push(R.location[F]|0):L.push(-1);S.push({name:R.name,type:R.type,locations:C})}else S.push({name:R.name,type:R.type,locations:[L.length]}),E.push(R.name),typeof R.location=="number"?L.push(R.location|0):L.push(-1)}var N=0;for(D=0;D<L.length;++D)if(L[D]<0){for(;L.indexOf(N)>=0;)N+=1;L[D]=N}var U=new Array(_.length);function V(){w.program=u.program(k,w._vref,w._fref,E,L);for(var Y=0;Y<_.length;++Y)U[Y]=k.getUniformLocation(w.program,_[Y].name)}V(),w._relink=V,w.types={uniforms:l(_),attributes:l(g)},w.attributes=s(k,w,S,L),Object.defineProperty(w,"uniforms",o(k,w,_,U))};function y(x,m,_,g,A){var w=new h(x);return w.update(m,_,g,A),w}i.exports=y},{"./lib/GLError":133,"./lib/create-attributes":134,"./lib/create-uniforms":135,"./lib/reflect":136,"./lib/runtime-reflect":137,"./lib/shader-cache":138}],133:[function(n,i,a){function o(s,l,u){this.shortMessage=l||"",this.longMessage=u||"",this.rawError=s||"",this.message="gl-shader: "+(l||s||"")+(u?`
`+u:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,i.exports=o},{}],134:[function(n,i,a){"use strict";i.exports=h;var o=n("./GLError");function s(v,b,y,x,m,_){this._gl=v,this._wrapper=b,this._index=y,this._locations=x,this._dimension=m,this._constFunc=_}var l=s.prototype;l.pointer=function(b,y,x,m){var _=this,g=_._gl,A=_._locations[_._index];g.vertexAttribPointer(A,_._dimension,b||g.FLOAT,!!y,x||0,m||0),g.enableVertexAttribArray(A)},l.set=function(v,b,y,x){return this._constFunc(this._locations[this._index],v,b,y,x)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=v|0,this._wrapper.program=null),v|0}});var u=[function(v,b,y){return y.length===void 0?v.vertexAttrib1f(b,y):v.vertexAttrib1fv(b,y)},function(v,b,y,x){return y.length===void 0?v.vertexAttrib2f(b,y,x):v.vertexAttrib2fv(b,y)},function(v,b,y,x,m){return y.length===void 0?v.vertexAttrib3f(b,y,x,m):v.vertexAttrib3fv(b,y)},function(v,b,y,x,m,_){return y.length===void 0?v.vertexAttrib4f(b,y,x,m,_):v.vertexAttrib4fv(b,y)}];function f(v,b,y,x,m,_,g){var A=u[m],w=new s(v,b,y,x,m,A);Object.defineProperty(_,g,{set:function(k){return v.disableVertexAttribArray(x[y]),A(v,x[y],k),k},get:function(){return w},enumerable:!0})}function c(v,b,y,x,m,_,g){for(var A=new Array(m),w=new Array(m),k=0;k<m;++k)f(v,b,y[k],x,m,A,k),w[k]=A[k];Object.defineProperty(A,"location",{set:function(M){if(Array.isArray(M))for(var T=0;T<m;++T)w[T].location=M[T];else for(var T=0;T<m;++T)w[T].location=M+T;return M},get:function(){for(var M=new Array(m),T=0;T<m;++T)M[T]=x[y[T]];return M},enumerable:!0}),A.pointer=function(M,T,S,E){M=M||v.FLOAT,T=!!T,S=S||m*m,E=E||0;for(var L=0;L<m;++L){var D=x[y[L]];v.vertexAttribPointer(D,m,M,T,S,E+L*m),v.enableVertexAttribArray(D)}};var p=new Array(m),d=v["vertexAttrib"+m+"fv"];Object.defineProperty(_,g,{set:function(M){for(var T=0;T<m;++T){var S=x[y[T]];if(v.disableVertexAttribArray(S),Array.isArray(M[0]))d.call(v,S,M[T]);else{for(var E=0;E<m;++E)p[E]=M[m*T+E];d.call(v,S,p)}}return M},get:function(){return A},enumerable:!0})}function h(v,b,y,x){for(var m={},_=0,g=y.length;_<g;++_){var A=y[_],w=A.name,k=A.type,p=A.locations;switch(k){case"bool":case"int":case"float":f(v,b,p[0],x,1,m,w);break;default:if(k.indexOf("vec")>=0){var d=k.charCodeAt(k.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+w+": "+k);f(v,b,p[0],x,d,m,w)}else if(k.indexOf("mat")>=0){var d=k.charCodeAt(k.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+w+": "+k);c(v,b,p,x,d,m,w)}else throw new o("","Unknown data type for attribute "+w+": "+k);break}}return m}},{"./GLError":133}],135:[function(n,i,a){"use strict";var o=n("./reflect"),s=n("./GLError");i.exports=f;function l(c){return function(){return c}}function u(c,h){for(var v=new Array(c),b=0;b<c;++b)v[b]=h;return v}function f(c,h,v,b){function y(k){return function(p,d,M){return p.getUniform(d.program,M[k])}}function x(k){return function(d){for(var M=m("",k),T=0;T<M.length;++T){var S=M[T],E=S[0],L=S[1];if(b[L]){var D=d;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var R=E;if(E.indexOf(".")===0&&(R=E.slice(1)),R.indexOf("]")===R.length-1){var q=R.indexOf("["),C=R.slice(0,q),F=R.slice(q+1,R.length-1);D=C?d[C][F]:d[F]}else D=d[R]}var N=v[L].type,U;switch(N){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(b[L],D);break;case"float":c.uniform1f(b[L],D);break;default:var V=N.indexOf("vec");if(0<=V&&V<=1&&N.length===4+V){if(U=N.charCodeAt(N.length-1)-48,U<2||U>4)throw new s("","Invalid data type");switch(N.charAt(0)){case"b":case"i":c["uniform"+U+"iv"](b[L],D);break;case"v":c["uniform"+U+"fv"](b[L],D);break;default:throw new s("","Unrecognized data type for vector "+name+": "+N)}}else if(N.indexOf("mat")===0&&N.length===4){if(U=N.charCodeAt(N.length-1)-48,U<2||U>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+N);c["uniformMatrix"+U+"fv"](b[L],!1,D);break}else throw new s("","Unknown uniform data type for "+name+": "+N)}}}}}function m(k,p){if(typeof p!="object")return[[k,p]];var d=[];for(var M in p){var T=p[M],S=k;parseInt(M)+""===M?S+="["+M+"]":S+="."+M,typeof T=="object"?d.push.apply(d,m(S,T)):d.push([S,T])}return d}function _(k){switch(k){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var p=k.indexOf("vec");if(0<=p&&p<=1&&k.length===4+p){var d=k.charCodeAt(k.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type");return k.charAt(0)==="b"?u(d,!1):u(d,0)}else if(k.indexOf("mat")===0&&k.length===4){var d=k.charCodeAt(k.length-1)-48;if(d<2||d>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+k);return u(d*d,0)}else throw new s("","Unknown uniform data type for "+name+": "+k)}}function g(k,p,d){if(typeof d=="object"){var M=A(d);Object.defineProperty(k,p,{get:l(M),set:x(d),enumerable:!0,configurable:!1})}else b[d]?Object.defineProperty(k,p,{get:y(d),set:x(d),enumerable:!0,configurable:!1}):k[p]=_(v[d].type)}function A(k){var p;if(Array.isArray(k)){p=new Array(k.length);for(var d=0;d<k.length;++d)g(p,d,k[d])}else{p={};for(var M in k)g(p,M,k[M])}return p}var w=o(v,!0);return{get:l(A(w)),set:x(w),enumerable:!0,configurable:!0}}},{"./GLError":133,"./reflect":136}],136:[function(n,i,a){"use strict";i.exports=o;function o(s,l){for(var u={},f=0;f<s.length;++f)for(var c=s[f].name,h=c.split("."),v=u,b=0;b<h.length;++b){var y=h[b].split("[");if(y.length>1){y[0]in v||(v[y[0]]=[]),v=v[y[0]];for(var x=1;x<y.length;++x){var m=parseInt(y[x]);x<y.length-1||b<h.length-1?(m in v||(x<y.length-1?v[m]=[]:v[m]={}),v=v[m]):l?v[m]=f:v[m]=s[f].type}}else b<h.length-1?(y[0]in v||(v[y[0]]={}),v=v[y[0]]):l?v[y[0]]=f:v[y[0]]=s[f].type}return u}},{}],137:[function(n,i,a){"use strict";a.uniforms=u,a.attributes=f;var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function l(c,h){if(!s){var v=Object.keys(o);s={};for(var b=0;b<v.length;++b){var y=v[b];s[c[y]]=o[y]}}return s[h]}function u(c,h){for(var v=c.getProgramParameter(h,c.ACTIVE_UNIFORMS),b=[],y=0;y<v;++y){var x=c.getActiveUniform(h,y);if(x){var m=l(c,x.type);if(x.size>1)for(var _=0;_<x.size;++_)b.push({name:x.name.replace("[0]","["+_+"]"),type:m});else b.push({name:x.name,type:m})}}return b}function f(c,h){for(var v=c.getProgramParameter(h,c.ACTIVE_ATTRIBUTES),b=[],y=0;y<v;++y){var x=c.getActiveAttrib(h,y);x&&b.push({name:x.name,type:l(c,x.type)})}return b}},{}],138:[function(n,i,a){"use strict";a.shader=m,a.program=_;var o=n("./GLError"),s=n("gl-format-compiler-error"),l=typeof WeakMap>"u"?n("weakmap-shim"):WeakMap,u=new l,f=0;function c(g,A,w,k,p,d,M){this.id=g,this.src=A,this.type=w,this.shader=k,this.count=d,this.programs=[],this.cache=M}c.prototype.dispose=function(){if(--this.count===0){for(var g=this.cache,A=g.gl,w=this.programs,k=0,p=w.length;k<p;++k){var d=g.programs[w[k]];d&&(delete g.programs[k],A.deleteProgram(d))}A.deleteShader(this.shader),delete g.shaders[this.type===A.FRAGMENT_SHADER|0][this.src]}};function h(g){this.gl=g,this.shaders=[{},{}],this.programs={}}var v=h.prototype;function b(g,A,w){var k=g.createShader(A);if(g.shaderSource(k,w),g.compileShader(k),!g.getShaderParameter(k,g.COMPILE_STATUS)){var p=g.getShaderInfoLog(k);try{var d=s(p,w,A)}catch(M){throw console.warn("Failed to format compiler error: "+M),new o(p,`Error compiling shader:
`+p)}throw new o(p,d.short,d.long)}return k}v.getShaderReference=function(g,A){var w=this.gl,k=this.shaders[g===w.FRAGMENT_SHADER|0],p=k[A];if(!p||!w.isShader(p.shader)){var d=b(w,g,A);p=k[A]=new c(f++,A,g,d,[],1,this)}else p.count+=1;return p};function y(g,A,w,k,p){var d=g.createProgram();g.attachShader(d,A),g.attachShader(d,w);for(var M=0;M<k.length;++M)g.bindAttribLocation(d,p[M],k[M]);if(g.linkProgram(d),!g.getProgramParameter(d,g.LINK_STATUS)){var T=g.getProgramInfoLog(d);throw new o(T,"Error linking program: "+T)}return d}v.getProgram=function(g,A,w,k){var p=[g.id,A.id,w.join(":"),k.join(":")].join("@"),d=this.programs[p];return(!d||!this.gl.isProgram(d))&&(this.programs[p]=d=y(this.gl,g.shader,A.shader,w,k),g.programs.push(p),A.programs.push(p)),d};function x(g){var A=u.get(g);return A||(A=new h(g),u.set(g,A)),A}function m(g,A,w){return x(g).getShaderReference(A,w)}function _(g,A,w,k,p){return x(g).getProgram(A,w,k,p)}},{"./GLError":133,"gl-format-compiler-error":87,"weakmap-shim":316}],139:[function(n,i,a){"use strict";i.exports=l;function o(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var s=o.prototype;s.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(f){return f.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},s.draw=function(){var u=this.enable,f=this.width,c=this.color,h=this.center,v=this.plot,b=v.line,y=v.dataBox,x=v.viewBox;if(b.bind(),y[0]<=h[0]&&h[0]<=y[2]&&y[1]<=h[1]&&h[1]<=y[3]){var m=x[0]+(h[0]-y[0])/(y[2]-y[0])*(x[2]-x[0]),_=x[1]+(h[1]-y[1])/(y[3]-y[1])*(x[3]-x[1]);u[0]&&b.drawLine(m,_,x[0],_,f[0],c[0]),u[1]&&b.drawLine(m,_,m,x[1],f[1],c[1]),u[2]&&b.drawLine(m,_,x[2],_,f[2],c[2]),u[3]&&b.drawLine(m,_,m,x[3],f[3],c[3])}},s.dispose=function(){this.plot.removeOverlay(this)};function l(u,f){var c=new o(u);return c.update(f),u.addOverlay(c),c}},{}],140:[function(n,i,a){"use strict";var o=n("glslify"),s=n("gl-shader"),l=o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);i.exports=function(f){return s(f,l,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":132,glslify:231}],141:[function(n,i,a){"use strict";var o=n("gl-buffer"),s=n("gl-vao"),l=n("./shaders/index");i.exports=y;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(x,m,_,g){this.gl=x,this.buffer=m,this.vao=_,this.shader=g,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=f.prototype,h=[0,0,0],v=[0,0,0],b=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(x){},c.draw=function(x){var m=this.gl,_=this.vao,g=this.shader;_.bind(),g.bind();var A=x.model||u,w=x.view||u,k=x.projection||u,p;this.axes&&(p=this.axes.lastCubeProps.axis);for(var d=h,M=v,T=0;T<3;++T)p&&p[T]<0?(d[T]=this.bounds[0][T],M[T]=this.bounds[1][T]):(d[T]=this.bounds[1][T],M[T]=this.bounds[0][T]);b[0]=m.drawingBufferWidth,b[1]=m.drawingBufferHeight,g.uniforms.model=A,g.uniforms.view=w,g.uniforms.projection=k,g.uniforms.coordinates=[this.position,d,M],g.uniforms.colors=this.colors,g.uniforms.screenShape=b;for(var T=0;T<3;++T)g.uniforms.lineWidth=this.lineWidth[T]*this.pixelRatio,this.enabled[T]&&(_.draw(m.TRIANGLES,6,6*T),this.drawSides[T]&&_.draw(m.TRIANGLES,12,18+12*T));_.unbind()},c.update=function(x){x&&("bounds"in x&&(this.bounds=x.bounds),"position"in x&&(this.position=x.position),"lineWidth"in x&&(this.lineWidth=x.lineWidth),"colors"in x&&(this.colors=x.colors),"enabled"in x&&(this.enabled=x.enabled),"drawSides"in x&&(this.drawSides=x.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function y(x,m){var _=[];function g(d,M,T,S,E,L){var D=[d,M,T,0,0,0,1];D[S+3]=1,D[S]=E,_.push.apply(_,D),D[6]=-1,_.push.apply(_,D),D[S]=L,_.push.apply(_,D),_.push.apply(_,D),D[6]=1,_.push.apply(_,D),D[S]=E,_.push.apply(_,D)}g(0,0,0,0,0,1),g(0,0,0,1,0,1),g(0,0,0,2,0,1),g(1,0,0,1,-1,1),g(1,0,0,2,-1,1),g(0,1,0,0,-1,1),g(0,1,0,2,-1,1),g(0,0,1,0,-1,1),g(0,0,1,1,-1,1);var A=o(x,_),w=s(x,[{type:x.FLOAT,buffer:A,size:3,offset:0,stride:28},{type:x.FLOAT,buffer:A,size:3,offset:12,stride:28},{type:x.FLOAT,buffer:A,size:1,offset:24,stride:28}]),k=l(x);k.attributes.position.location=0,k.attributes.color.location=1,k.attributes.weight.location=2;var p=new f(x,A,w,k);return p.update(m),p}},{"./shaders/index":140,"gl-buffer":78,"gl-vao":150}],142:[function(n,i,a){var o=n("glslify"),s=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);a.meshShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},a.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},{glslify:231}],143:[function(n,i,a){"use strict";var o=n("gl-vec3"),s=n("gl-vec4"),l=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(g,A,w,k){for(var p=g.points,d=g.velocities,M=g.divergences,T=[],S=[],E=[],L=[],D=[],R=[],q=0,C=0,F=s.create(),N=s.create(),U=8,V=0;V<p.length;V++){var Y=p[V],K=d[V],B=M[V];A===0&&(B=w*.05),C=o.length(K)/k,F=s.create(),o.copy(F,K),F[3]=B;for(var z=0;z<U;z++)D[z]=[Y[0],Y[1],Y[2],z];if(L.length>0)for(var z=0;z<U;z++){var j=(z+1)%U;T.push(L[z],D[z],D[j],D[j],L[j],L[z]),E.push(N,F,F,F,N,N),R.push(q,C,C,C,q,q);var ae=T.length;S.push([ae-6,ae-5,ae-4],[ae-3,ae-2,ae-1])}var ee=L;L=D,D=ee;var ve=N;N=F,F=ve;var fe=q;q=C,C=fe}return{positions:T,cells:S,vectors:E,vertexIntensity:R}},f=function(g,A,w,k){for(var p=0,d=0;d<g.length;d++)for(var M=g[d].velocities,T=0;T<M.length;T++)p=Math.max(p,o.length(M[T]));for(var S=g.map(function(V){return u(V,w,k,p)}),E=[],L=[],D=[],R=[],d=0;d<S.length;d++){var q=S[d],C=E.length;E=E.concat(q.positions),D=D.concat(q.vectors),R=R.concat(q.vertexIntensity);for(var T=0;T<q.cells.length;T++){var F=q.cells[T],N=[];L.push(N);for(var U=0;U<F.length;U++)N.push(F[U]+C)}}return{positions:E,cells:L,vectors:D,vertexIntensity:R,colormap:A}},c=function(g,A){var w=g.length,k;for(k=0;k<w;k++){var p=g[k];if(p===A)return k;if(p>A)return k-1}return k},h=function(g,A,w){return g<A?A:g>w?w:g},v=function(g,A,w){var k=A.vectors,p=A.meshgrid,d=g[0],M=g[1],T=g[2],S=p[0].length,E=p[1].length,L=p[2].length,D=c(p[0],d),R=c(p[1],M),q=c(p[2],T),C=D+1,F=R+1,N=q+1;if(D=h(D,0,S-1),C=h(C,0,S-1),R=h(R,0,E-1),F=h(F,0,E-1),q=h(q,0,L-1),N=h(N,0,L-1),D<0||R<0||q<0||C>S-1||F>E-1||N>L-1)return o.create();var U=p[0][D],V=p[0][C],Y=p[1][R],K=p[1][F],B=p[2][q],z=p[2][N],j=(d-U)/(V-U),ae=(M-Y)/(K-Y),ee=(T-B)/(z-B);isFinite(j)||(j=.5),isFinite(ae)||(ae=.5),isFinite(ee)||(ee=.5);var ve,fe,se,G,Z,X;switch(w.reversedX&&(D=S-1-D,C=S-1-C),w.reversedY&&(R=E-1-R,F=E-1-F),w.reversedZ&&(q=L-1-q,N=L-1-N),w.filled){case 5:Z=q,X=N,se=R*L,G=F*L,ve=D*L*E,fe=C*L*E;break;case 4:Z=q,X=N,ve=D*L,fe=C*L,se=R*L*S,G=F*L*S;break;case 3:se=R,G=F,Z=q*E,X=N*E,ve=D*E*L,fe=C*E*L;break;case 2:se=R,G=F,ve=D*E,fe=C*E,Z=q*E*S,X=N*E*S;break;case 1:ve=D,fe=C,Z=q*S,X=N*S,se=R*S*L,G=F*S*L;break;default:ve=D,fe=C,se=R*S,G=F*S,Z=q*S*E,X=N*S*E;break}var ge=k[ve+se+Z],qe=k[ve+se+X],Pe=k[ve+G+Z],Oe=k[ve+G+X],de=k[fe+se+Z],_e=k[fe+se+X],ce=k[fe+G+Z],J=k[fe+G+X],ne=o.create(),be=o.create(),Fe=o.create(),He=o.create();o.lerp(ne,ge,de,j),o.lerp(be,qe,_e,j),o.lerp(Fe,Pe,ce,j),o.lerp(He,Oe,J,j);var te=o.create(),ye=o.create();o.lerp(te,ne,Fe,ae),o.lerp(ye,be,He,ae);var Te=o.create();return o.lerp(Te,te,ye,ee),Te},b=function(g,A){var w=A[0],k=A[1],p=A[2];return g[0]=w<0?-w:w,g[1]=k<0?-k:k,g[2]=p<0?-p:p,g},y=function(g){var A=1/0;g.sort(function(d,M){return d-M});for(var w=g.length,k=1;k<w;k++){var p=Math.abs(g[k]-g[k-1]);p<A&&(A=p)}return A},x=function(g){for(var A=[],w=[],k=[],p={},d={},M={},T=g.length,S=0;S<T;S++){var E=g[S],L=E[0],D=E[1],R=E[2];p[L]||(A.push(L),p[L]=!0),d[D]||(w.push(D),d[D]=!0),M[R]||(k.push(R),M[R]=!0)}var q=y(A),C=y(w),F=y(k),N=Math.min(q,C,F);return isFinite(N)?N:1};i.exports=function(g,A){var w=g.startingPositions,k=g.maxLength||1e3,p=g.tubeSize||1,d=g.absoluteTubeSize,M=g.gridFill||"+x+y+z",T={};M.indexOf("-x")!==-1&&(T.reversedX=!0),M.indexOf("-y")!==-1&&(T.reversedY=!0),M.indexOf("-z")!==-1&&(T.reversedZ=!0),T.filled=l.indexOf(M.replace(/-/g,"").replace(/\+/g,""));var S=g.getVelocity||function(_e){return v(_e,g,T)},E=g.getDivergence||function(_e,ce){var J=o.create(),ne=1e-4;o.add(J,_e,[ne,0,0]);var be=S(J);o.subtract(be,be,ce),o.scale(be,be,1/ne),o.add(J,_e,[0,ne,0]);var Fe=S(J);o.subtract(Fe,Fe,ce),o.scale(Fe,Fe,1/ne),o.add(J,_e,[0,0,ne]);var He=S(J);return o.subtract(He,He,ce),o.scale(He,He,1/ne),o.add(J,be,Fe),o.add(J,J,He),J},L=[],D=A[0][0],R=A[0][1],q=A[0][2],C=A[1][0],F=A[1][1],N=A[1][2],U=function(_e){var ce=_e[0],J=_e[1],ne=_e[2];return!(ce<D||ce>C||J<R||J>F||ne<q||ne>N)},V=o.distance(A[0],A[1]),Y=10*V/k,K=Y*Y,B=1,z=0,j=w.length;j>1&&(B=x(w));for(var ae=0;ae<j;ae++){var ee=o.create();o.copy(ee,w[ae]);var ve=[ee],fe=[],se=S(ee),G=ee;fe.push(se);var Z=[],X=E(ee,se),ge=o.length(X);isFinite(ge)&&ge>z&&(z=ge),Z.push(ge),L.push({points:ve,velocities:fe,divergences:Z});for(var qe=0;qe<k*100&&ve.length<k&&U(ee);){qe++;var Pe=o.clone(se),Oe=o.squaredLength(Pe);if(Oe===0)break;if(Oe>K&&o.scale(Pe,Pe,Y/Math.sqrt(Oe)),o.add(Pe,Pe,ee),se=S(Pe),o.squaredDistance(G,Pe)-K>-1e-4*K){ve.push(Pe),G=Pe,fe.push(se);var X=E(Pe,se),ge=o.length(X);isFinite(ge)&&ge>z&&(z=ge),Z.push(ge)}ee=Pe}}var de=f(L,g.colormap,z,B);return d?de.tubeScale=d:(z===0&&(z=1),de.tubeScale=p*.5*B/z),de};var m=n("./lib/shaders"),_=n("gl-cone3d").createMesh;i.exports.createTubeMesh=function(g,A){return _(g,A,{shaders:m,traceType:"streamtube"})}},{"./lib/shaders":142,"gl-cone3d":79,"gl-vec3":169,"gl-vec4":205}],144:[function(n,i,a){var o=n("gl-shader"),s=n("glslify"),l=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);a.createShader=function(h){var v=o(h,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},a.createPickShader=function(h){var v=o(h,l,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},a.createContourShader=function(h){var v=o(h,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v},a.createPickContourShader=function(h){var v=o(h,f,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v}},{"gl-shader":132,glslify:231}],145:[function(n,i,a){"use strict";i.exports=ve;var o=n("bit-twiddle"),s=n("gl-buffer"),l=n("gl-vao"),u=n("gl-texture2d"),f=n("typedarray-pool"),c=n("colormap"),h=n("ndarray-ops"),v=n("ndarray-pack"),b=n("ndarray"),y=n("surface-nets"),x=n("gl-mat4/multiply"),m=n("gl-mat4/invert"),_=n("binary-search-bounds"),g=n("ndarray-gradient"),A=n("./lib/shaders"),w=A.createShader,k=A.createContourShader,p=A.createPickShader,d=A.createPickContourShader,M=4*(4+3+3),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],S=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],E=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var fe=0;fe<3;++fe){var se=E[fe],G=(fe+1)%3,Z=(fe+2)%3;se[G+0]=1,se[Z+3]=1,se[fe+6]=1}})();function L(fe,se,G,Z,X){this.position=fe,this.index=se,this.uv=G,this.level=Z,this.dataCoordinate=X}var D=256;function R(fe,se,G,Z,X,ge,qe,Pe,Oe,de,_e,ce,J,ne,be){this.gl=fe,this.shape=se,this.bounds=G,this.objectOffset=be,this.intensityBounds=[],this._shader=Z,this._pickShader=X,this._coordinateBuffer=ge,this._vao=qe,this._colorMap=Pe,this._contourShader=Oe,this._contourPickShader=de,this._contourBuffer=_e,this._contourVAO=ce,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new L([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=J,this._dynamicVAO=ne,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var q=R.prototype;q.genColormap=function(fe,se){var G=!1,Z=v([c({colormap:fe,nshades:D,format:"rgba"}).map(function(X,ge){var qe=se?C(ge/255,se):X[3];return qe<1&&(G=!0),[X[0],X[1],X[2],255*qe]})]);return h.divseq(Z,255),this.hasAlphaScale=G,Z},q.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},q.isOpaque=function(){return!this.isTransparent()},q.pickSlots=1,q.setPickBase=function(fe){this.pickId=fe};function C(fe,se){if(!se||!se.length)return 1;for(var G=0;G<se.length;++G){if(se.length<2)return 1;if(se[G][0]===fe)return se[G][1];if(se[G][0]>fe&&G>0){var Z=(se[G][0]-fe)/(se[G][0]-se[G-1][0]);return se[G][1]*(1-Z)+Z*se[G-1][1]}}return 1}var F=[0,0,0],N={showSurface:!1,showContour:!1,projections:[T.slice(),T.slice(),T.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(fe,se){var G,Z,X,ge=se.axes&&se.axes.lastCubeProps.axis||F,qe=se.showSurface,Pe=se.showContour;for(G=0;G<3;++G)for(qe=qe||se.surfaceProject[G],Z=0;Z<3;++Z)Pe=Pe||se.contourProject[G][Z];for(G=0;G<3;++G){var Oe=N.projections[G];for(Z=0;Z<16;++Z)Oe[Z]=0;for(Z=0;Z<4;++Z)Oe[5*Z]=1;Oe[5*G]=0,Oe[12+G]=se.axesBounds[+(ge[G]>0)][G],x(Oe,fe.model,Oe);var de=N.clipBounds[G];for(X=0;X<2;++X)for(Z=0;Z<3;++Z)de[X][Z]=fe.clipBounds[X][Z];de[0][G]=-1e8,de[1][G]=1e8}return N.showSurface=qe,N.showContour=Pe,N}var V={model:T,view:T,projection:T,inverseModel:T.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Y=T.slice(),K=[1,0,0,0,1,0,0,0,1];function B(fe,se){fe=fe||{};var G=this.gl;G.disable(G.CULL_FACE),this._colorMap.bind(0);var Z=V;Z.model=fe.model||T,Z.view=fe.view||T,Z.projection=fe.projection||T,Z.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Z.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Z.objectOffset=this.objectOffset,Z.contourColor=this.contourColor[0],Z.inverseModel=m(Z.inverseModel,Z.model);for(var X=0;X<2;++X)for(var ge=Z.clipBounds[X],qe=0;qe<3;++qe)ge[qe]=Math.min(Math.max(this.clipBounds[X][qe],-1e8),1e8);Z.kambient=this.ambientLight,Z.kdiffuse=this.diffuseLight,Z.kspecular=this.specularLight,Z.roughness=this.roughness,Z.fresnel=this.fresnel,Z.opacity=this.opacity,Z.height=0,Z.permutation=K,Z.vertexColor=this.vertexColor;var Pe=Y;for(x(Pe,Z.view,Z.model),x(Pe,Z.projection,Pe),m(Pe,Pe),X=0;X<3;++X)Z.eyePosition[X]=Pe[12+X]/Pe[15];var Oe=Pe[15];for(X=0;X<3;++X)Oe+=this.lightPosition[X]*Pe[4*X+3];for(X=0;X<3;++X){var de=Pe[12+X];for(qe=0;qe<3;++qe)de+=Pe[4*qe+X]*this.lightPosition[qe];Z.lightPosition[X]=de/Oe}var _e=U(Z,this);if(_e.showSurface){for(this._shader.bind(),this._shader.uniforms=Z,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(G.TRIANGLES,this._vertexCount),X=0;X<3;++X)!this.surfaceProject[X]||!this.vertexCount||(this._shader.uniforms.model=_e.projections[X],this._shader.uniforms.clipBounds=_e.clipBounds[X],this._vao.draw(G.TRIANGLES,this._vertexCount));this._vao.unbind()}if(_e.showContour){var ce=this._contourShader;Z.kambient=1,Z.kdiffuse=0,Z.kspecular=0,Z.opacity=1,ce.bind(),ce.uniforms=Z;var J=this._contourVAO;for(J.bind(),X=0;X<3;++X)for(ce.uniforms.permutation=E[X],G.lineWidth(this.contourWidth[X]*this.pixelRatio),qe=0;qe<this.contourLevels[X].length;++qe)qe===this.highlightLevel[X]?(ce.uniforms.contourColor=this.highlightColor[X],ce.uniforms.contourTint=this.highlightTint[X]):(qe===0||qe-1===this.highlightLevel[X])&&(ce.uniforms.contourColor=this.contourColor[X],ce.uniforms.contourTint=this.contourTint[X]),this._contourCounts[X][qe]&&(ce.uniforms.height=this.contourLevels[X][qe],J.draw(G.LINES,this._contourCounts[X][qe],this._contourOffsets[X][qe]));for(X=0;X<3;++X)for(ce.uniforms.model=_e.projections[X],ce.uniforms.clipBounds=_e.clipBounds[X],qe=0;qe<3;++qe)if(this.contourProject[X][qe]){ce.uniforms.permutation=E[qe],G.lineWidth(this.contourWidth[qe]*this.pixelRatio);for(var ne=0;ne<this.contourLevels[qe].length;++ne)ne===this.highlightLevel[qe]?(ce.uniforms.contourColor=this.highlightColor[qe],ce.uniforms.contourTint=this.highlightTint[qe]):(ne===0||ne-1===this.highlightLevel[qe])&&(ce.uniforms.contourColor=this.contourColor[qe],ce.uniforms.contourTint=this.contourTint[qe]),this._contourCounts[qe][ne]&&(ce.uniforms.height=this.contourLevels[qe][ne],J.draw(G.LINES,this._contourCounts[qe][ne],this._contourOffsets[qe][ne]))}for(J.unbind(),J=this._dynamicVAO,J.bind(),X=0;X<3;++X)if(this._dynamicCounts[X]!==0)for(ce.uniforms.model=Z.model,ce.uniforms.clipBounds=Z.clipBounds,ce.uniforms.permutation=E[X],G.lineWidth(this.dynamicWidth[X]*this.pixelRatio),ce.uniforms.contourColor=this.dynamicColor[X],ce.uniforms.contourTint=this.dynamicTint[X],ce.uniforms.height=this.dynamicLevel[X],J.draw(G.LINES,this._dynamicCounts[X],this._dynamicOffsets[X]),qe=0;qe<3;++qe)this.contourProject[qe][X]&&(ce.uniforms.model=_e.projections[qe],ce.uniforms.clipBounds=_e.clipBounds[qe],J.draw(G.LINES,this._dynamicCounts[X],this._dynamicOffsets[X]));J.unbind()}}q.draw=function(fe){return B.call(this,fe,!1)},q.drawTransparent=function(fe){return B.call(this,fe,!0)};var z={model:T,view:T,projection:T,inverseModel:T,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};q.drawPick=function(fe){fe=fe||{};var se=this.gl;se.disable(se.CULL_FACE);var G=z;G.model=fe.model||T,G.view=fe.view||T,G.projection=fe.projection||T,G.shape=this._field[2].shape,G.pickId=this.pickId/255,G.lowerBound=this.bounds[0],G.upperBound=this.bounds[1],G.objectOffset=this.objectOffset,G.permutation=K;for(var Z=0;Z<2;++Z)for(var X=G.clipBounds[Z],ge=0;ge<3;++ge)X[ge]=Math.min(Math.max(this.clipBounds[Z][ge],-1e8),1e8);var qe=U(G,this);if(qe.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=G,this._vao.bind(),this._vao.draw(se.TRIANGLES,this._vertexCount),Z=0;Z<3;++Z)this.surfaceProject[Z]&&(this._pickShader.uniforms.model=qe.projections[Z],this._pickShader.uniforms.clipBounds=qe.clipBounds[Z],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(qe.showContour){var Pe=this._contourPickShader;Pe.bind(),Pe.uniforms=G;var Oe=this._contourVAO;for(Oe.bind(),ge=0;ge<3;++ge)for(se.lineWidth(this.contourWidth[ge]*this.pixelRatio),Pe.uniforms.permutation=E[ge],Z=0;Z<this.contourLevels[ge].length;++Z)this._contourCounts[ge][Z]&&(Pe.uniforms.height=this.contourLevels[ge][Z],Oe.draw(se.LINES,this._contourCounts[ge][Z],this._contourOffsets[ge][Z]));for(Z=0;Z<3;++Z)for(Pe.uniforms.model=qe.projections[Z],Pe.uniforms.clipBounds=qe.clipBounds[Z],ge=0;ge<3;++ge)if(this.contourProject[Z][ge]){Pe.uniforms.permutation=E[ge],se.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var de=0;de<this.contourLevels[ge].length;++de)this._contourCounts[ge][de]&&(Pe.uniforms.height=this.contourLevels[ge][de],Oe.draw(se.LINES,this._contourCounts[ge][de],this._contourOffsets[ge][de]))}Oe.unbind()}},q.pick=function(fe){if(!fe||fe.id!==this.pickId)return null;var se=this._field[2].shape,G=this._pickResult,Z=se[0]*(fe.value[0]+(fe.value[2]>>4)/16)/255,X=Math.floor(Z),ge=Z-X,qe=se[1]*(fe.value[1]+(fe.value[2]&15)/16)/255,Pe=Math.floor(qe),Oe=qe-Pe;X+=1,Pe+=1;var de=G.position;de[0]=de[1]=de[2]=0;for(var _e=0;_e<2;++_e)for(var ce=_e?ge:1-ge,J=0;J<2;++J)for(var ne=J?Oe:1-Oe,be=X+_e,Fe=Pe+J,He=ce*ne,te=0;te<3;++te)de[te]+=this._field[te].get(be,Fe)*He;for(var ye=this._pickResult.level,Te=0;Te<3;++Te)if(ye[Te]=_.le(this.contourLevels[Te],de[Te]),ye[Te]<0)this.contourLevels[Te].length>0&&(ye[Te]=0);else if(ye[Te]<this.contourLevels[Te].length-1){var Ce=this.contourLevels[Te][ye[Te]],De=this.contourLevels[Te][ye[Te]+1];Math.abs(Ce-de[Te])>Math.abs(De-de[Te])&&(ye[Te]+=1)}for(G.index[0]=ge<.5?X:X+1,G.index[1]=Oe<.5?Pe:Pe+1,G.uv[0]=Z/se[0],G.uv[1]=qe/se[1],te=0;te<3;++te)G.dataCoordinate[te]=this._field[te].get(G.index[0],G.index[1]);return G},q.padField=function(fe,se){var G=se.shape.slice(),Z=fe.shape.slice();h.assign(fe.lo(1,1).hi(G[0],G[1]),se),h.assign(fe.lo(1).hi(G[0],1),se.hi(G[0],1)),h.assign(fe.lo(1,Z[1]-1).hi(G[0],1),se.lo(0,G[1]-1).hi(G[0],1)),h.assign(fe.lo(0,1).hi(1,G[1]),se.hi(1)),h.assign(fe.lo(Z[0]-1,1).hi(1,G[1]),se.lo(G[0]-1)),fe.set(0,0,se.get(0,0)),fe.set(0,Z[1]-1,se.get(0,G[1]-1)),fe.set(Z[0]-1,0,se.get(G[0]-1,0)),fe.set(Z[0]-1,Z[1]-1,se.get(G[0]-1,G[1]-1))};function j(fe,se){return Array.isArray(fe)?[se(fe[0]),se(fe[1]),se(fe[2])]:[se(fe),se(fe),se(fe)]}function ae(fe){return Array.isArray(fe)?fe.length===3?[fe[0],fe[1],fe[2],1]:[fe[0],fe[1],fe[2],fe[3]]:[0,0,0,1]}function ee(fe){if(Array.isArray(fe)){if(Array.isArray(fe))return[ae(fe[0]),ae(fe[1]),ae(fe[2])];var se=ae(fe);return[se.slice(),se.slice(),se.slice()]}}q.update=function(fe){fe=fe||{},this.objectOffset=fe.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in fe&&(this.contourWidth=j(fe.contourWidth,Number)),"showContour"in fe&&(this.showContour=j(fe.showContour,Boolean)),"showSurface"in fe&&(this.showSurface=!!fe.showSurface),"contourTint"in fe&&(this.contourTint=j(fe.contourTint,Boolean)),"contourColor"in fe&&(this.contourColor=ee(fe.contourColor)),"contourProject"in fe&&(this.contourProject=j(fe.contourProject,function(xn){return j(xn,Boolean)})),"surfaceProject"in fe&&(this.surfaceProject=fe.surfaceProject),"dynamicColor"in fe&&(this.dynamicColor=ee(fe.dynamicColor)),"dynamicTint"in fe&&(this.dynamicTint=j(fe.dynamicTint,Number)),"dynamicWidth"in fe&&(this.dynamicWidth=j(fe.dynamicWidth,Number)),"opacity"in fe&&(this.opacity=fe.opacity),"opacityscale"in fe&&(this.opacityscale=fe.opacityscale),"colorBounds"in fe&&(this.colorBounds=fe.colorBounds),"vertexColor"in fe&&(this.vertexColor=fe.vertexColor?1:0),"colormap"in fe&&this._colorMap.setPixels(this.genColormap(fe.colormap,this.opacityscale));var se=fe.field||fe.coords&&fe.coords[2]||null,G=!1;if(se||(this._field[2].shape[0]||this._field[2].shape[2]?se=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):se=this._field[2].hi(0,0)),"field"in fe||"coords"in fe){var Z=(se.shape[0]+2)*(se.shape[1]+2);Z>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(o.nextPow2(Z))),this._field[2]=b(this._field[2].data,[se.shape[0]+2,se.shape[1]+2]),this.padField(this._field[2],se),this.shape=se.shape.slice();for(var X=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(f.freeFloat(this._field[ge].data),this._field[ge].data=f.mallocFloat(this._field[2].size)),this._field[ge]=b(this._field[ge].data,[X[0]+2,X[1]+2]);if(fe.coords){var qe=fe.coords;if(!Array.isArray(qe)||qe.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var Pe=qe[ge];for(J=0;J<2;++J)if(Pe.shape[J]!==X[J])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],Pe)}}else if(fe.ticks){var Oe=fe.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var de=Oe[ge];if((Array.isArray(de)||de.length)&&(de=b(de)),de.shape[0]!==X[ge])throw new Error("gl-surface: invalid tick length");var _e=b(de.data,X);_e.stride[ge]=de.stride[0],_e.stride[ge^1]=0,this.padField(this._field[ge],_e)}}else{for(ge=0;ge<2;++ge){var ce=[0,0];ce[ge]=1,this._field[ge]=b(this._field[ge].data,[X[0]+2,X[1]+2],ce,0)}this._field[0].set(0,0,0);for(var J=0;J<X[0];++J)this._field[0].set(J+1,0,J);for(this._field[0].set(X[0]+1,0,X[0]-1),this._field[1].set(0,0,0),J=0;J<X[1];++J)this._field[1].set(0,J+1,J);this._field[1].set(0,X[1]+1,X[1]-1)}var ne=this._field,be=b(f.mallocFloat(ne[2].size*3*2),[3,X[0]+2,X[1]+2,2]);for(ge=0;ge<3;++ge)g(be.pick(ge),ne[ge],"mirror");var Fe=b(f.mallocFloat(ne[2].size*3),[X[0]+2,X[1]+2,3]);for(ge=0;ge<X[0]+2;++ge)for(J=0;J<X[1]+2;++J){var He=be.get(0,ge,J,0),te=be.get(0,ge,J,1),ye=be.get(1,ge,J,0),Te=be.get(1,ge,J,1),Ce=be.get(2,ge,J,0),De=be.get(2,ge,J,1),oe=ye*De-Te*Ce,pe=Ce*te-De*He,Le=He*Te-te*ye,Ue=Math.sqrt(oe*oe+pe*pe+Le*Le);Ue<1e-8?(Ue=Math.max(Math.abs(oe),Math.abs(pe),Math.abs(Le)),Ue<1e-8?(Le=1,pe=oe=0,Ue=1):Ue=1/Ue):Ue=1/Math.sqrt(Ue),Fe.set(ge,J,0,oe*Ue),Fe.set(ge,J,1,pe*Ue),Fe.set(ge,J,2,Le*Ue)}f.free(be.data);var et=[1/0,1/0,1/0],Qe=[-1/0,-1/0,-1/0],dt=1/0,ht=-1/0,_t=(X[0]-1)*(X[1]-1)*6,kt=f.mallocFloat(o.nextPow2(10*_t)),St=0,Ot=0;for(ge=0;ge<X[0]-1;++ge){e:for(J=0;J<X[1]-1;++J){for(var je=0;je<2;++je)for(var Ve=0;Ve<2;++Ve)for(var Je=0;Je<3;++Je){var nt=this._field[Je].get(1+ge+je,1+J+Ve);if(isNaN(nt)||!isFinite(nt))continue e}for(Je=0;Je<6;++Je){var Be=ge+S[Je][0],tt=J+S[Je][1],ot=this._field[0].get(Be+1,tt+1),yt=this._field[1].get(Be+1,tt+1);nt=this._field[2].get(Be+1,tt+1),oe=Fe.get(Be+1,tt+1,0),pe=Fe.get(Be+1,tt+1,1),Le=Fe.get(Be+1,tt+1,2),fe.intensity&&(Ht=fe.intensity.get(Be,tt));var Ht=fe.intensity?fe.intensity.get(Be,tt):nt+this.objectOffset[2];kt[St++]=Be,kt[St++]=tt,kt[St++]=ot,kt[St++]=yt,kt[St++]=nt,kt[St++]=0,kt[St++]=Ht,kt[St++]=oe,kt[St++]=pe,kt[St++]=Le,et[0]=Math.min(et[0],ot+this.objectOffset[0]),et[1]=Math.min(et[1],yt+this.objectOffset[1]),et[2]=Math.min(et[2],nt+this.objectOffset[2]),dt=Math.min(dt,Ht),Qe[0]=Math.max(Qe[0],ot+this.objectOffset[0]),Qe[1]=Math.max(Qe[1],yt+this.objectOffset[1]),Qe[2]=Math.max(Qe[2],nt+this.objectOffset[2]),ht=Math.max(ht,Ht),Ot+=1}}}for(fe.intensityBounds&&(dt=+fe.intensityBounds[0],ht=+fe.intensityBounds[1]),ge=6;ge<St;ge+=10)kt[ge]=(kt[ge]-dt)/(ht-dt);this._vertexCount=Ot,this._coordinateBuffer.update(kt.subarray(0,St)),f.freeFloat(kt),f.free(Fe.data),this.bounds=[et,Qe],this.intensity=fe.intensity||this._field[2],(this.intensityBounds[0]!==dt||this.intensityBounds[1]!==ht)&&(G=!0),this.intensityBounds=[dt,ht]}if("levels"in fe){var Lt=fe.levels;for(Array.isArray(Lt[0])?Lt=Lt.slice():Lt=[[],[],Lt],ge=0;ge<3;++ge)Lt[ge]=Lt[ge].slice(),Lt[ge].sort(function(xn,ia){return xn-ia});for(ge=0;ge<3;++ge)for(J=0;J<Lt[ge].length;++J)Lt[ge][J]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(Lt[ge].length!==this.contourLevels[ge].length){G=!0;break}for(J=0;J<Lt[ge].length;++J)if(Lt[ge][J]!==this.contourLevels[ge][J]){G=!0;break e}}this.contourLevels=Lt}if(G){ne=this._field,X=this.shape;for(var tr=[],rr=0;rr<3;++rr){var Ct=this.contourLevels[rr],Zt=[],Sr=[],gr=[0,0,0];for(ge=0;ge<Ct.length;++ge){var Lr=y(this._field[rr],Ct[ge]);Zt.push(tr.length/5|0),Ot=0;e:for(J=0;J<Lr.cells.length;++J){var en=Lr.cells[J];for(Je=0;Je<2;++Je){var Or=Lr.positions[en[Je]],vn=Or[0],qn=Math.floor(vn)|0,Kr=vn-qn,Qr=Or[1],kn=Math.floor(Qr)|0,Vn=Qr-kn,Tn=!1;t:for(var Nn=0;Nn<3;++Nn){gr[Nn]=0;var ci=(rr+Nn+1)%3;for(je=0;je<2;++je){var On=je?Kr:1-Kr;for(Be=Math.min(Math.max(qn+je,0),X[0])|0,Ve=0;Ve<2;++Ve){var Sn=Ve?Vn:1-Vn;if(tt=Math.min(Math.max(kn+Ve,0),X[1])|0,Nn<2?nt=this._field[ci].get(Be,tt):nt=(this.intensity.get(Be,tt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(nt)||isNaN(nt)){Tn=!0;break t}var _i=On*Sn;gr[Nn]+=_i*nt}}}if(!Tn)tr.push(gr[0],gr[1],Or[0],Or[1],gr[2]),Ot+=1;else{if(Je>0){for(var ua=0;ua<5;++ua)tr.pop();Ot-=1}continue e}}}Sr.push(Ot)}this._contourOffsets[rr]=Zt,this._contourCounts[rr]=Sr}var Yi=f.mallocFloat(tr.length);for(ge=0;ge<tr.length;++ge)Yi[ge]=tr[ge];this._contourBuffer.update(Yi),f.freeFloat(Yi)}},q.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var fe=0;fe<3;++fe)f.freeFloat(this._field[fe].data)},q.highlight=function(fe){var se;if(!fe){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(se=0;se<3;++se)this.enableHighlight[se]?this.highlightLevel[se]=fe.level[se]:this.highlightLevel[se]=-1;var G;for(this.snapToData?G=fe.dataCoordinate:G=fe.position,se=0;se<3;++se)G[se]-=this.objectOffset[se];if(!((!this.enableDynamic[0]||G[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||G[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||G[2]===this.dynamicLevel[2]))){for(var Z=0,X=this.shape,ge=f.mallocFloat(12*X[0]*X[1]),qe=0;qe<3;++qe){if(!this.enableDynamic[qe]){this.dynamicLevel[qe]=NaN,this._dynamicCounts[qe]=0;continue}this.dynamicLevel[qe]=G[qe];var Pe=(qe+1)%3,Oe=(qe+2)%3,de=this._field[qe],_e=this._field[Pe],ce=this._field[Oe],J=y(de,G[qe]),ne=J.cells,be=J.positions;for(this._dynamicOffsets[qe]=Z,se=0;se<ne.length;++se)for(var Fe=ne[se],He=0;He<2;++He){var te=be[Fe[He]],ye=+te[0],Te=ye|0,Ce=Math.min(Te+1,X[0])|0,De=ye-Te,oe=1-De,pe=+te[1],Le=pe|0,Ue=Math.min(Le+1,X[1])|0,et=pe-Le,Qe=1-et,dt=oe*Qe,ht=oe*et,_t=De*Qe,kt=De*et,St=dt*_e.get(Te,Le)+ht*_e.get(Te,Ue)+_t*_e.get(Ce,Le)+kt*_e.get(Ce,Ue),Ot=dt*ce.get(Te,Le)+ht*ce.get(Te,Ue)+_t*ce.get(Ce,Le)+kt*ce.get(Ce,Ue);if(isNaN(St)||isNaN(Ot)){He&&(Z-=1);break}ge[2*Z+0]=St,ge[2*Z+1]=Ot,Z+=1}this._dynamicCounts[qe]=Z-this._dynamicOffsets[qe]}this._dynamicBuffer.update(ge.subarray(0,2*Z)),f.freeFloat(ge)}};function ve(fe){var se=fe.gl,G=w(se),Z=p(se),X=k(se),ge=d(se),qe=s(se),Pe=l(se,[{buffer:qe,size:4,stride:M,offset:0},{buffer:qe,size:3,stride:M,offset:16},{buffer:qe,size:3,stride:M,offset:28}]),Oe=s(se),de=l(se,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),_e=s(se),ce=l(se,[{buffer:_e,size:2,type:se.FLOAT}]),J=u(se,1,D,se.RGBA,se.UNSIGNED_BYTE);J.minFilter=se.LINEAR,J.magFilter=se.LINEAR;var ne=new R(se,[0,0],[[0,0,0],[0,0,0]],G,Z,qe,Pe,J,X,ge,Oe,de,_e,ce,[0,0,0]),be={levels:[[],[],[]]};for(var Fe in fe)be[Fe]=fe[Fe];return be.colormap=be.colormap||"jet",ne.update(be),ne}},{"./lib/shaders":144,"binary-search-bounds":31,"bit-twiddle":32,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-texture2d":146,"gl-vao":150,ndarray:259,"ndarray-gradient":252,"ndarray-ops":254,"ndarray-pack":255,"surface-nets":302,"typedarray-pool":308}],146:[function(n,i,a){"use strict";var o=n("ndarray"),s=n("ndarray-ops"),l=n("typedarray-pool");i.exports=d;var u=null,f=null,c=null;function h(M){u=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],f=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],c=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}function v(M){return typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&M instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&M instanceof HTMLVideoElement||typeof ImageData<"u"&&M instanceof ImageData}var b=function(M,T){s.muls(M,T,255)};function y(M,T,S){var E=M.gl,L=E.getParameter(E.MAX_TEXTURE_SIZE);if(T<0||T>L||S<0||S>L)throw new Error("gl-texture2d: Invalid texture size");return M._shape=[T,S],M.bind(),E.texImage2D(E.TEXTURE_2D,0,M.format,T,S,0,M.format,M.type,null),M._mipLevels=[0],M}function x(M,T,S,E,L,D){this.gl=M,this.handle=T,this.format=L,this.type=D,this._shape=[S,E],this._mipLevels=[0],this._magFilter=M.NEAREST,this._minFilter=M.NEAREST,this._wrapS=M.CLAMP_TO_EDGE,this._wrapT=M.CLAMP_TO_EDGE,this._anisoSamples=1;var R=this,q=[this._wrapS,this._wrapT];Object.defineProperties(q,[{get:function(){return R._wrapS},set:function(F){return R.wrapS=F}},{get:function(){return R._wrapT},set:function(F){return R.wrapT=F}}]),this._wrapVector=q;var C=[this._shape[0],this._shape[1]];Object.defineProperties(C,[{get:function(){return R._shape[0]},set:function(F){return R.width=F}},{get:function(){return R._shape[1]},set:function(F){return R.height=F}}]),this._shapeVector=C}var m=x.prototype;Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(M){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(M)>=0&&(T.getExtension("OES_texture_float_linear")||(M=T.NEAREST)),f.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,M),this._minFilter=M}},magFilter:{get:function(){return this._magFilter},set:function(M){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(M)>=0&&(T.getExtension("OES_texture_float_linear")||(M=T.NEAREST)),f.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,M),this._magFilter=M}},mipSamples:{get:function(){return this._anisoSamples},set:function(M){var T=this._anisoSamples;if(this._anisoSamples=Math.max(M,1)|0,T!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(M){if(this.bind(),c.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,M),this._wrapS=M}},wrapT:{get:function(){return this._wrapT},set:function(M){if(this.bind(),c.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,M),this._wrapT=M}},wrap:{get:function(){return this._wrapVector},set:function(M){if(Array.isArray(M)||(M=[M,M]),M.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var T=0;T<2;++T)if(c.indexOf(M[T])<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);this._wrapS=M[0],this._wrapT=M[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),M}},shape:{get:function(){return this._shapeVector},set:function(M){if(!Array.isArray(M))M=[M|0,M|0];else if(M.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return y(this,M[0]|0,M[1]|0),[M[0]|0,M[1]|0]}},width:{get:function(){return this._shape[0]},set:function(M){return M=M|0,y(this,M,this._shape[1]),M}},height:{get:function(){return this._shape[1]},set:function(M){return M=M|0,y(this,this._shape[0],M),M}}}),m.bind=function(M){var T=this.gl;return M!==void 0&&T.activeTexture(T.TEXTURE0+(M|0)),T.bindTexture(T.TEXTURE_2D,this.handle),M!==void 0?M|0:T.getParameter(T.ACTIVE_TEXTURE)-T.TEXTURE0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var M=Math.min(this._shape[0],this._shape[1]),T=0;M>0;++T,M>>>=1)this._mipLevels.indexOf(T)<0&&this._mipLevels.push(T)},m.setPixels=function(M,T,S,E){var L=this.gl;this.bind(),Array.isArray(T)?(E=S,S=T[1]|0,T=T[0]|0):(T=T||0,S=S||0),E=E||0;var D=v(M)?M:M.raw;if(D){var R=this._mipLevels.indexOf(E)<0;R?(L.texImage2D(L.TEXTURE_2D,0,this.format,this.format,this.type,D),this._mipLevels.push(E)):L.texSubImage2D(L.TEXTURE_2D,E,T,S,this.format,this.type,D)}else if(M.shape&&M.stride&&M.data){if(M.shape.length<2||T+M.shape[1]>this._shape[1]>>>E||S+M.shape[0]>this._shape[0]>>>E||T<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");g(L,T,S,E,this.format,this.type,this._mipLevels,M)}else throw new Error("gl-texture2d: Unsupported data type")};function _(M,T){return M.length===3?T[2]===1&&T[1]===M[0]*M[2]&&T[0]===M[2]:T[0]===1&&T[1]===M[0]}function g(M,T,S,E,L,D,R,q){var C=q.dtype,F=q.shape.slice();if(F.length<2||F.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var N=0,U=0,V=_(F,q.stride.slice());C==="float32"?N=M.FLOAT:C==="float64"?(N=M.FLOAT,V=!1,C="float32"):C==="uint8"?N=M.UNSIGNED_BYTE:(N=M.UNSIGNED_BYTE,V=!1,C="uint8");var Y=1;if(F.length===2)U=M.LUMINANCE,F=[F[0],F[1],1],q=o(q.data,F,[q.stride[0],q.stride[1],1],q.offset);else if(F.length===3){if(F[2]===1)U=M.ALPHA;else if(F[2]===2)U=M.LUMINANCE_ALPHA;else if(F[2]===3)U=M.RGB;else if(F[2]===4)U=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");Y=F[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((U===M.LUMINANCE||U===M.ALPHA)&&(L===M.LUMINANCE||L===M.ALPHA)&&(U=L),U!==L)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var K=q.size,B=R.indexOf(E)<0;if(B&&R.push(E),N===D&&V)q.offset===0&&q.data.length===K?B?M.texImage2D(M.TEXTURE_2D,E,L,F[0],F[1],0,L,D,q.data):M.texSubImage2D(M.TEXTURE_2D,E,T,S,F[0],F[1],L,D,q.data):B?M.texImage2D(M.TEXTURE_2D,E,L,F[0],F[1],0,L,D,q.data.subarray(q.offset,q.offset+K)):M.texSubImage2D(M.TEXTURE_2D,E,T,S,F[0],F[1],L,D,q.data.subarray(q.offset,q.offset+K));else{var z;D===M.FLOAT?z=l.mallocFloat32(K):z=l.mallocUint8(K);var j=o(z,F,[F[2],F[2]*F[0],1]);N===M.FLOAT&&D===M.UNSIGNED_BYTE?b(j,q):s.assign(j,q),B?M.texImage2D(M.TEXTURE_2D,E,L,F[0],F[1],0,L,D,z.subarray(0,K)):M.texSubImage2D(M.TEXTURE_2D,E,T,S,F[0],F[1],L,D,z.subarray(0,K)),D===M.FLOAT?l.freeFloat32(z):l.freeUint8(z)}}function A(M){var T=M.createTexture();return M.bindTexture(M.TEXTURE_2D,T),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),T}function w(M,T,S,E,L){var D=M.getParameter(M.MAX_TEXTURE_SIZE);if(T<0||T>D||S<0||S>D)throw new Error("gl-texture2d: Invalid texture shape");if(L===M.FLOAT&&!M.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var R=A(M);return M.texImage2D(M.TEXTURE_2D,0,E,T,S,0,E,L,null),new x(M,R,T,S,E,L)}function k(M,T,S,E,L,D){var R=A(M);return M.texImage2D(M.TEXTURE_2D,0,L,L,D,T),new x(M,R,S,E,L,D)}function p(M,T){var S=T.dtype,E=T.shape.slice(),L=M.getParameter(M.MAX_TEXTURE_SIZE);if(E[0]<0||E[0]>L||E[1]<0||E[1]>L)throw new Error("gl-texture2d: Invalid texture size");var D=_(E,T.stride.slice()),R=0;S==="float32"?R=M.FLOAT:S==="float64"?(R=M.FLOAT,D=!1,S="float32"):S==="uint8"?R=M.UNSIGNED_BYTE:(R=M.UNSIGNED_BYTE,D=!1,S="uint8");var q=0;if(E.length===2)q=M.LUMINANCE,E=[E[0],E[1],1],T=o(T.data,E,[T.stride[0],T.stride[1],1],T.offset);else if(E.length===3)if(E[2]===1)q=M.ALPHA;else if(E[2]===2)q=M.LUMINANCE_ALPHA;else if(E[2]===3)q=M.RGB;else if(E[2]===4)q=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");R===M.FLOAT&&!M.getExtension("OES_texture_float")&&(R=M.UNSIGNED_BYTE,D=!1);var C,F,N=T.size;if(D)T.offset===0&&T.data.length===N?C=T.data:C=T.data.subarray(T.offset,T.offset+N);else{var U=[E[2],E[2]*E[0],1];F=l.malloc(N,S);var V=o(F,E,U,0);(S==="float32"||S==="float64")&&R===M.UNSIGNED_BYTE?b(V,T):s.assign(V,T),C=F.subarray(0,N)}var Y=A(M);return M.texImage2D(M.TEXTURE_2D,0,q,E[0],E[1],0,q,R,C),D||l.free(F),new x(M,Y,E[0],E[1],q,R)}function d(M){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||h(M),typeof arguments[1]=="number")return w(M,arguments[1],arguments[2],arguments[3]||M.RGBA,arguments[4]||M.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return w(M,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var T=arguments[1],S=v(T)?T:T.raw;if(S)return k(M,S,T.width|0,T.height|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(T.shape&&T.data&&T.stride)return p(M,T)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],147:[function(n,i,a){"use strict";function o(s,l,u){l?l.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var f=s.getParameter(s.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>f)throw new Error("gl-vao: Too many vertex attributes");for(var c=0;c<u.length;++c){var h=u[c];if(h.buffer){var v=h.buffer,b=h.size||4,y=h.type||s.FLOAT,x=!!h.normalized,m=h.stride||0,_=h.offset||0;v.bind(),s.enableVertexAttribArray(c),s.vertexAttribPointer(c,b,y,x,m,_)}else{if(typeof h=="number")s.vertexAttrib1f(c,h);else if(h.length===1)s.vertexAttrib1f(c,h[0]);else if(h.length===2)s.vertexAttrib2f(c,h[0],h[1]);else if(h.length===3)s.vertexAttrib3f(c,h[0],h[1],h[2]);else if(h.length===4)s.vertexAttrib4f(c,h[0],h[1],h[2],h[3]);else throw new Error("gl-vao: Invalid vertex attribute");s.disableVertexAttribArray(c)}}for(;c<f;++c)s.disableVertexAttribArray(c)}else{s.bindBuffer(s.ARRAY_BUFFER,null);for(var c=0;c<f;++c)s.disableVertexAttribArray(c)}}i.exports=o},{}],148:[function(n,i,a){"use strict";var o=n("./do-bind.js");function s(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}s.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},s.prototype.update=function(u,f,c){this._elements=f,this._attributes=u,this._elementsType=c||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(u,f,c){c=c||0;var h=this.gl;this._elements?h.drawElements(u,f,this._elementsType,c):h.drawArrays(u,c,f)};function l(u){return new s(u)}i.exports=l},{"./do-bind.js":147}],149:[function(n,i,a){"use strict";var o=n("./do-bind.js");function s(f,c,h,v,b,y){this.location=f,this.dimension=c,this.a=h,this.b=v,this.c=b,this.d=y}s.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function l(f,c,h){this.gl=f,this._ext=c,this.handle=h,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}l.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},l.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},l.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},l.prototype.update=function(f,c,h){if(this.bind(),o(this.gl,c,f),this.unbind(),this._attribs.length=0,f)for(var v=0;v<f.length;++v){var b=f[v];typeof b=="number"?this._attribs.push(new s(v,1,b)):Array.isArray(b)&&this._attribs.push(new s(v,b.length,b[0],b[1],b[2],b[3]))}this._useElements=!!c,this._elementsType=h||this.gl.UNSIGNED_SHORT},l.prototype.draw=function(f,c,h){h=h||0;var v=this.gl;this._useElements?v.drawElements(f,c,this._elementsType,h):v.drawArrays(f,h,c)};function u(f,c){return new l(f,c,c.createVertexArrayOES())}i.exports=u},{"./do-bind.js":147}],150:[function(n,i,a){"use strict";var o=n("./lib/vao-native.js"),s=n("./lib/vao-emulated.js");function l(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,c,h,v){var b=f.createVertexArray?new l(f):f.getExtension("OES_vertex_array_object"),y;return b?y=o(f,b):y=s(f),y.update(c,h,v),y}i.exports=u},{"./lib/vao-emulated.js":148,"./lib/vao-native.js":149}],151:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]+u[0],s[1]=l[1]+u[1],s[2]=l[2]+u[2],s}},{}],152:[function(n,i,a){i.exports=u;var o=n("./fromValues"),s=n("./normalize"),l=n("./dot");function u(f,c){var h=o(f[0],f[1],f[2]),v=o(c[0],c[1],c[2]);s(h,h),s(v,v);var b=l(h,v);return b>1?0:Math.acos(b)}},{"./dot":162,"./fromValues":168,"./normalize":179}],153:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=Math.ceil(l[0]),s[1]=Math.ceil(l[1]),s[2]=Math.ceil(l[2]),s}},{}],154:[function(n,i,a){i.exports=o;function o(s){var l=new Float32Array(3);return l[0]=s[0],l[1]=s[1],l[2]=s[2],l}},{}],155:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=l[0],s[1]=l[1],s[2]=l[2],s}},{}],156:[function(n,i,a){i.exports=o;function o(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},{}],157:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=u[0],b=u[1],y=u[2];return s[0]=c*y-h*b,s[1]=h*v-f*y,s[2]=f*b-c*v,s}},{}],158:[function(n,i,a){i.exports=n("./distance")},{"./distance":159}],159:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0]-s[0],f=l[1]-s[1],c=l[2]-s[2];return Math.sqrt(u*u+f*f+c*c)}},{}],160:[function(n,i,a){i.exports=n("./divide")},{"./divide":161}],161:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]/u[0],s[1]=l[1]/u[1],s[2]=l[2]/u[2],s}},{}],162:[function(n,i,a){i.exports=o;function o(s,l){return s[0]*l[0]+s[1]*l[1]+s[2]*l[2]}},{}],163:[function(n,i,a){i.exports=1e-6},{}],164:[function(n,i,a){i.exports=s;var o=n("./epsilon");function s(l,u){var f=l[0],c=l[1],h=l[2],v=u[0],b=u[1],y=u[2];return Math.abs(f-v)<=o*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(c-b)<=o*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(h-y)<=o*Math.max(1,Math.abs(h),Math.abs(y))}},{"./epsilon":163}],165:[function(n,i,a){i.exports=o;function o(s,l){return s[0]===l[0]&&s[1]===l[1]&&s[2]===l[2]}},{}],166:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=Math.floor(l[0]),s[1]=Math.floor(l[1]),s[2]=Math.floor(l[2]),s}},{}],167:[function(n,i,a){i.exports=s;var o=n("./create")();function s(l,u,f,c,h,v){var b,y;for(u||(u=3),f||(f=0),c?y=Math.min(c*u+f,l.length):y=l.length,b=f;b<y;b+=u)o[0]=l[b],o[1]=l[b+1],o[2]=l[b+2],h(o,o,v),l[b]=o[0],l[b+1]=o[1],l[b+2]=o[2];return l}},{"./create":156}],168:[function(n,i,a){i.exports=o;function o(s,l,u){var f=new Float32Array(3);return f[0]=s,f[1]=l,f[2]=u,f}},{}],169:[function(n,i,a){i.exports={EPSILON:n("./epsilon"),create:n("./create"),clone:n("./clone"),angle:n("./angle"),fromValues:n("./fromValues"),copy:n("./copy"),set:n("./set"),equals:n("./equals"),exactEquals:n("./exactEquals"),add:n("./add"),subtract:n("./subtract"),sub:n("./sub"),multiply:n("./multiply"),mul:n("./mul"),divide:n("./divide"),div:n("./div"),min:n("./min"),max:n("./max"),floor:n("./floor"),ceil:n("./ceil"),round:n("./round"),scale:n("./scale"),scaleAndAdd:n("./scaleAndAdd"),distance:n("./distance"),dist:n("./dist"),squaredDistance:n("./squaredDistance"),sqrDist:n("./sqrDist"),length:n("./length"),len:n("./len"),squaredLength:n("./squaredLength"),sqrLen:n("./sqrLen"),negate:n("./negate"),inverse:n("./inverse"),normalize:n("./normalize"),dot:n("./dot"),cross:n("./cross"),lerp:n("./lerp"),random:n("./random"),transformMat4:n("./transformMat4"),transformMat3:n("./transformMat3"),transformQuat:n("./transformQuat"),rotateX:n("./rotateX"),rotateY:n("./rotateY"),rotateZ:n("./rotateZ"),forEach:n("./forEach")}},{"./add":151,"./angle":152,"./ceil":153,"./clone":154,"./copy":155,"./create":156,"./cross":157,"./dist":158,"./distance":159,"./div":160,"./divide":161,"./dot":162,"./epsilon":163,"./equals":164,"./exactEquals":165,"./floor":166,"./forEach":167,"./fromValues":168,"./inverse":170,"./len":171,"./length":172,"./lerp":173,"./max":174,"./min":175,"./mul":176,"./multiply":177,"./negate":178,"./normalize":179,"./random":180,"./rotateX":181,"./rotateY":182,"./rotateZ":183,"./round":184,"./scale":185,"./scaleAndAdd":186,"./set":187,"./sqrDist":188,"./sqrLen":189,"./squaredDistance":190,"./squaredLength":191,"./sub":192,"./subtract":193,"./transformMat3":194,"./transformMat4":195,"./transformQuat":196}],170:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=1/l[0],s[1]=1/l[1],s[2]=1/l[2],s}},{}],171:[function(n,i,a){i.exports=n("./length")},{"./length":172}],172:[function(n,i,a){i.exports=o;function o(s){var l=s[0],u=s[1],f=s[2];return Math.sqrt(l*l+u*u+f*f)}},{}],173:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=l[0],h=l[1],v=l[2];return s[0]=c+f*(u[0]-c),s[1]=h+f*(u[1]-h),s[2]=v+f*(u[2]-v),s}},{}],174:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=Math.max(l[0],u[0]),s[1]=Math.max(l[1],u[1]),s[2]=Math.max(l[2],u[2]),s}},{}],175:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=Math.min(l[0],u[0]),s[1]=Math.min(l[1],u[1]),s[2]=Math.min(l[2],u[2]),s}},{}],176:[function(n,i,a){i.exports=n("./multiply")},{"./multiply":177}],177:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]*u[0],s[1]=l[1]*u[1],s[2]=l[2]*u[2],s}},{}],178:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=-l[0],s[1]=-l[1],s[2]=-l[2],s}},{}],179:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0],f=l[1],c=l[2],h=u*u+f*f+c*c;return h>0&&(h=1/Math.sqrt(h),s[0]=l[0]*h,s[1]=l[1]*h,s[2]=l[2]*h),s}},{}],180:[function(n,i,a){i.exports=o;function o(s,l){l=l||1;var u=Math.random()*2*Math.PI,f=Math.random()*2-1,c=Math.sqrt(1-f*f)*l;return s[0]=Math.cos(u)*c,s[1]=Math.sin(u)*c,s[2]=f*l,s}},{}],181:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=u[1],h=u[2],v=l[1]-c,b=l[2]-h,y=Math.sin(f),x=Math.cos(f);return s[0]=l[0],s[1]=c+v*x-b*y,s[2]=h+v*y+b*x,s}},{}],182:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=u[0],h=u[2],v=l[0]-c,b=l[2]-h,y=Math.sin(f),x=Math.cos(f);return s[0]=c+b*y+v*x,s[1]=l[1],s[2]=h+b*x-v*y,s}},{}],183:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=u[0],h=u[1],v=l[0]-c,b=l[1]-h,y=Math.sin(f),x=Math.cos(f);return s[0]=c+v*x-b*y,s[1]=h+v*y+b*x,s[2]=l[2],s}},{}],184:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=Math.round(l[0]),s[1]=Math.round(l[1]),s[2]=Math.round(l[2]),s}},{}],185:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]*u,s[1]=l[1]*u,s[2]=l[2]*u,s}},{}],186:[function(n,i,a){i.exports=o;function o(s,l,u,f){return s[0]=l[0]+u[0]*f,s[1]=l[1]+u[1]*f,s[2]=l[2]+u[2]*f,s}},{}],187:[function(n,i,a){i.exports=o;function o(s,l,u,f){return s[0]=l,s[1]=u,s[2]=f,s}},{}],188:[function(n,i,a){i.exports=n("./squaredDistance")},{"./squaredDistance":190}],189:[function(n,i,a){i.exports=n("./squaredLength")},{"./squaredLength":191}],190:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0]-s[0],f=l[1]-s[1],c=l[2]-s[2];return u*u+f*f+c*c}},{}],191:[function(n,i,a){i.exports=o;function o(s){var l=s[0],u=s[1],f=s[2];return l*l+u*u+f*f}},{}],192:[function(n,i,a){i.exports=n("./subtract")},{"./subtract":193}],193:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]-u[0],s[1]=l[1]-u[1],s[2]=l[2]-u[2],s}},{}],194:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2];return s[0]=f*u[0]+c*u[3]+h*u[6],s[1]=f*u[1]+c*u[4]+h*u[7],s[2]=f*u[2]+c*u[5]+h*u[8],s}},{}],195:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=u[3]*f+u[7]*c+u[11]*h+u[15];return v=v||1,s[0]=(u[0]*f+u[4]*c+u[8]*h+u[12])/v,s[1]=(u[1]*f+u[5]*c+u[9]*h+u[13])/v,s[2]=(u[2]*f+u[6]*c+u[10]*h+u[14])/v,s}},{}],196:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=u[0],b=u[1],y=u[2],x=u[3],m=x*f+b*h-y*c,_=x*c+y*f-v*h,g=x*h+v*c-b*f,A=-v*f-b*c-y*h;return s[0]=m*x+A*-v+_*-y-g*-b,s[1]=_*x+A*-b+g*-v-m*-y,s[2]=g*x+A*-y+m*-b-_*-v,s}},{}],197:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]+u[0],s[1]=l[1]+u[1],s[2]=l[2]+u[2],s[3]=l[3]+u[3],s}},{}],198:[function(n,i,a){i.exports=o;function o(s){var l=new Float32Array(4);return l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l}},{}],199:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s}},{}],200:[function(n,i,a){i.exports=o;function o(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},{}],201:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0]-s[0],f=l[1]-s[1],c=l[2]-s[2],h=l[3]-s[3];return Math.sqrt(u*u+f*f+c*c+h*h)}},{}],202:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]/u[0],s[1]=l[1]/u[1],s[2]=l[2]/u[2],s[3]=l[3]/u[3],s}},{}],203:[function(n,i,a){i.exports=o;function o(s,l){return s[0]*l[0]+s[1]*l[1]+s[2]*l[2]+s[3]*l[3]}},{}],204:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=new Float32Array(4);return c[0]=s,c[1]=l,c[2]=u,c[3]=f,c}},{}],205:[function(n,i,a){i.exports={create:n("./create"),clone:n("./clone"),fromValues:n("./fromValues"),copy:n("./copy"),set:n("./set"),add:n("./add"),subtract:n("./subtract"),multiply:n("./multiply"),divide:n("./divide"),min:n("./min"),max:n("./max"),scale:n("./scale"),scaleAndAdd:n("./scaleAndAdd"),distance:n("./distance"),squaredDistance:n("./squaredDistance"),length:n("./length"),squaredLength:n("./squaredLength"),negate:n("./negate"),inverse:n("./inverse"),normalize:n("./normalize"),dot:n("./dot"),lerp:n("./lerp"),random:n("./random"),transformMat4:n("./transformMat4"),transformQuat:n("./transformQuat")}},{"./add":197,"./clone":198,"./copy":199,"./create":200,"./distance":201,"./divide":202,"./dot":203,"./fromValues":204,"./inverse":206,"./length":207,"./lerp":208,"./max":209,"./min":210,"./multiply":211,"./negate":212,"./normalize":213,"./random":214,"./scale":215,"./scaleAndAdd":216,"./set":217,"./squaredDistance":218,"./squaredLength":219,"./subtract":220,"./transformMat4":221,"./transformQuat":222}],206:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=1/l[0],s[1]=1/l[1],s[2]=1/l[2],s[3]=1/l[3],s}},{}],207:[function(n,i,a){i.exports=o;function o(s){var l=s[0],u=s[1],f=s[2],c=s[3];return Math.sqrt(l*l+u*u+f*f+c*c)}},{}],208:[function(n,i,a){i.exports=o;function o(s,l,u,f){var c=l[0],h=l[1],v=l[2],b=l[3];return s[0]=c+f*(u[0]-c),s[1]=h+f*(u[1]-h),s[2]=v+f*(u[2]-v),s[3]=b+f*(u[3]-b),s}},{}],209:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=Math.max(l[0],u[0]),s[1]=Math.max(l[1],u[1]),s[2]=Math.max(l[2],u[2]),s[3]=Math.max(l[3],u[3]),s}},{}],210:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=Math.min(l[0],u[0]),s[1]=Math.min(l[1],u[1]),s[2]=Math.min(l[2],u[2]),s[3]=Math.min(l[3],u[3]),s}},{}],211:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]*u[0],s[1]=l[1]*u[1],s[2]=l[2]*u[2],s[3]=l[3]*u[3],s}},{}],212:[function(n,i,a){i.exports=o;function o(s,l){return s[0]=-l[0],s[1]=-l[1],s[2]=-l[2],s[3]=-l[3],s}},{}],213:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0],f=l[1],c=l[2],h=l[3],v=u*u+f*f+c*c+h*h;return v>0&&(v=1/Math.sqrt(v),s[0]=u*v,s[1]=f*v,s[2]=c*v,s[3]=h*v),s}},{}],214:[function(n,i,a){var o=n("./normalize"),s=n("./scale");i.exports=l;function l(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),o(u,u),s(u,u,f),u}},{"./normalize":213,"./scale":215}],215:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]*u,s[1]=l[1]*u,s[2]=l[2]*u,s[3]=l[3]*u,s}},{}],216:[function(n,i,a){i.exports=o;function o(s,l,u,f){return s[0]=l[0]+u[0]*f,s[1]=l[1]+u[1]*f,s[2]=l[2]+u[2]*f,s[3]=l[3]+u[3]*f,s}},{}],217:[function(n,i,a){i.exports=o;function o(s,l,u,f,c){return s[0]=l,s[1]=u,s[2]=f,s[3]=c,s}},{}],218:[function(n,i,a){i.exports=o;function o(s,l){var u=l[0]-s[0],f=l[1]-s[1],c=l[2]-s[2],h=l[3]-s[3];return u*u+f*f+c*c+h*h}},{}],219:[function(n,i,a){i.exports=o;function o(s){var l=s[0],u=s[1],f=s[2],c=s[3];return l*l+u*u+f*f+c*c}},{}],220:[function(n,i,a){i.exports=o;function o(s,l,u){return s[0]=l[0]-u[0],s[1]=l[1]-u[1],s[2]=l[2]-u[2],s[3]=l[3]-u[3],s}},{}],221:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=l[3];return s[0]=u[0]*f+u[4]*c+u[8]*h+u[12]*v,s[1]=u[1]*f+u[5]*c+u[9]*h+u[13]*v,s[2]=u[2]*f+u[6]*c+u[10]*h+u[14]*v,s[3]=u[3]*f+u[7]*c+u[11]*h+u[15]*v,s}},{}],222:[function(n,i,a){i.exports=o;function o(s,l,u){var f=l[0],c=l[1],h=l[2],v=u[0],b=u[1],y=u[2],x=u[3],m=x*f+b*h-y*c,_=x*c+y*f-v*h,g=x*h+v*c-b*f,A=-v*f-b*c-y*h;return s[0]=m*x+A*-v+_*-y-g*-b,s[1]=_*x+A*-b+g*-v-m*-y,s[2]=g*x+A*-y+m*-b-_*-v,s[3]=l[3],s}},{}],223:[function(n,i,a){var o=n("glsl-tokenizer"),s=n("atob-lite");i.exports=l;function l(u){for(var f=Array.isArray(u)?u:o(u),c=0;c<f.length;c++){var h=f[c];if(h.type==="preprocessor"){var v=h.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var b=v[1],y=v[2];return(b?s(y):y).trim()}}}}},{"atob-lite":13,"glsl-tokenizer":230}],224:[function(n,i,a){i.exports=T;var o=n("./lib/literals"),s=n("./lib/operators"),l=n("./lib/builtins"),u=n("./lib/literals-300es"),f=n("./lib/builtins-300es"),c=999,h=9999,v=0,b=1,y=2,x=3,m=4,_=5,g=6,A=7,w=8,k=9,p=10,d=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function T(S){var E=0,L=0,D=c,R,q,C=[],F=[],N=0,U=0,V=1,Y=0,K=0,B=!1,z=!1,j="",ae;S=S||{};var ee=l,ve=o;S.version==="300 es"&&(ee=f,ve=u);for(var fe={},se={},E=0;E<ee.length;E++)fe[ee[E]]=!0;for(var E=0;E<ve.length;E++)se[ve[E]]=!0;return function(He){return F=[],He!==null?Z(He):X()};function G(He){He.length&&F.push({type:M[D],data:He,position:K,line:V,column:Y})}function Z(He){E=0,He.toString&&(He=He.toString()),j+=He.replace(/\r\n/g,`
`),ae=j.length;for(var te;R=j[E],E<ae;){switch(te=E,D){case v:E=de();break;case b:E=Oe();break;case y:E=Pe();break;case x:E=_e();break;case m:E=ne();break;case d:E=J();break;case _:E=be();break;case h:E=Fe();break;case k:E=qe();break;case c:E=ge();break}if(te!==E)switch(j[te]){case`
`:Y=0,++V;break;default:++Y;break}}return L+=E,j=j.slice(E),F}function X(He){return C.length&&G(C.join("")),D=p,G("(eof)"),F}function ge(){return C=C.length?[]:C,q==="/"&&R==="*"?(K=L+E-1,D=v,q=R,E+1):q==="/"&&R==="/"?(K=L+E-1,D=b,q=R,E+1):R==="#"?(D=y,K=L+E,E):/\s/.test(R)?(D=k,K=L+E,E):(B=/\d/.test(R),z=/[^\w_]/.test(R),K=L+E,D=B?m:z?x:h,E)}function qe(){return/[^\s]/g.test(R)?(G(C.join("")),D=c,E):(C.push(R),q=R,E+1)}function Pe(){return(R==="\r"||R===`
`)&&q!=="\\"?(G(C.join("")),D=c,E):(C.push(R),q=R,E+1)}function Oe(){return Pe()}function de(){return R==="/"&&q==="*"?(C.push(R),G(C.join("")),D=c,E+1):(C.push(R),q=R,E+1)}function _e(){if(q==="."&&/\d/.test(R))return D=_,E;if(q==="/"&&R==="*")return D=v,E;if(q==="/"&&R==="/")return D=b,E;if(R==="."&&C.length){for(;ce(C););return D=_,E}if(R===";"||R===")"||R==="("){if(C.length)for(;ce(C););return G(R),D=c,E+1}var He=C.length===2&&R!=="=";if(/[\w_\d\s]/.test(R)||He){for(;ce(C););return D=c,E}return C.push(R),q=R,E+1}function ce(He){var te=0,ye,Te;do{if(ye=s.indexOf(He.slice(0,He.length+te).join("")),Te=s[ye],ye===-1){if(te--+He.length>0)continue;Te=He.slice(0,1).join("")}return G(Te),K+=Te.length,C=C.slice(Te.length),C.length}while(1)}function J(){return/[^a-fA-F0-9]/.test(R)?(G(C.join("")),D=c,E):(C.push(R),q=R,E+1)}function ne(){return R==="."||/[eE]/.test(R)?(C.push(R),D=_,q=R,E+1):R==="x"&&C.length===1&&C[0]==="0"?(D=d,C.push(R),q=R,E+1):/[^\d]/.test(R)?(G(C.join("")),D=c,E):(C.push(R),q=R,E+1)}function be(){return R==="f"&&(C.push(R),q=R,E+=1),/[eE]/.test(R)||(R==="-"||R==="+")&&/[eE]/.test(q)?(C.push(R),q=R,E+1):/[^\d]/.test(R)?(G(C.join("")),D=c,E):(C.push(R),q=R,E+1)}function Fe(){if(/[^\d\w_]/.test(R)){var He=C.join("");return se[He]?D=w:fe[He]?D=A:D=g,G(C.join("")),D=c,E}return C.push(R),q=R,E+1}}},{"./lib/builtins":226,"./lib/builtins-300es":225,"./lib/literals":228,"./lib/literals-300es":227,"./lib/operators":229}],225:[function(n,i,a){var o=n("./builtins");o=o.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),i.exports=o.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":226}],226:[function(n,i,a){i.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],227:[function(n,i,a){var o=n("./literals");i.exports=o.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":228}],228:[function(n,i,a){i.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],229:[function(n,i,a){i.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],230:[function(n,i,a){var o=n("./index");i.exports=s;function s(l,u){var f=o(u),c=[];return c=c.concat(f(l)),c=c.concat(f(null)),c}},{"./index":224}],231:[function(n,i,a){i.exports=function(o){typeof o=="string"&&(o=[o]);for(var s=[].slice.call(arguments,1),l=[],u=0;u<o.length-1;u++)l.push(o[u],s[u]||"");return l.push(o[u]),l.join("")}},{}],232:[function(n,i,a){"use strict";var o=n("is-browser");function s(){var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{l=!1}return l}i.exports=o&&s()},{"is-browser":236}],233:[function(n,i,a){"use strict";i.exports=x;var o=n("robust-orientation"),s=n("simplicial-complex").compareCells;function l(m,_,g){this.vertices=m,this.adjacent=_,this.boundary=g,this.lastVisited=-1}l.prototype.flip=function(){var m=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=m;var _=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=_};function u(m,_,g){this.vertices=m,this.cell=_,this.index=g}function f(m,_){return s(m.vertices,_.vertices)}function c(m){return function(){var _=this.tuple;return m.apply(this,_)}}function h(m){var _=o[m+1];return _||(_=o),c(_)}var v=[];function b(m,_,g){this.dimension=m,this.vertices=_,this.simplices=g,this.interior=g.filter(function(k){return!k.boundary}),this.tuple=new Array(m+1);for(var A=0;A<=m;++A)this.tuple[A]=this.vertices[A];var w=v[m];w||(w=v[m]=h(m)),this.orient=w}var y=b.prototype;y.handleBoundaryDegeneracy=function(m,_){var g=this.dimension,A=this.vertices.length-1,w=this.tuple,k=this.vertices,p=[m];for(m.lastVisited=-A;p.length>0;){m=p.pop();for(var d=m.adjacent,M=0;M<=g;++M){var T=d[M];if(!(!T.boundary||T.lastVisited<=-A)){for(var S=T.vertices,E=0;E<=g;++E){var L=S[E];L<0?w[E]=_:w[E]=k[L]}var D=this.orient();if(D>0)return T;T.lastVisited=-A,D===0&&p.push(T)}}}return null},y.walk=function(m,_){var g=this.vertices.length-1,A=this.dimension,w=this.vertices,k=this.tuple,p=_?this.interior.length*Math.random()|0:this.interior.length-1,d=this.interior[p];e:for(;!d.boundary;){for(var M=d.vertices,T=d.adjacent,S=0;S<=A;++S)k[S]=w[M[S]];d.lastVisited=g;for(var S=0;S<=A;++S){var E=T[S];if(!(E.lastVisited>=g)){var L=k[S];k[S]=m;var D=this.orient();if(k[S]=L,D<0){d=E;continue e}else E.boundary?E.lastVisited=-g:E.lastVisited=g}}return}return d},y.addPeaks=function(m,_){var g=this.vertices.length-1,A=this.dimension,w=this.vertices,k=this.tuple,p=this.interior,d=this.simplices,M=[_];_.lastVisited=g,_.vertices[_.vertices.indexOf(-1)]=g,_.boundary=!1,p.push(_);for(var T=[];M.length>0;){var _=M.pop(),S=_.vertices,E=_.adjacent,L=S.indexOf(g);if(!(L<0)){for(var D=0;D<=A;++D)if(D!==L){var R=E[D];if(!(!R.boundary||R.lastVisited>=g)){var q=R.vertices;if(R.lastVisited!==-g){for(var C=0,F=0;F<=A;++F)q[F]<0?(C=F,k[F]=m):k[F]=w[q[F]];var N=this.orient();if(N>0){q[C]=g,R.boundary=!1,p.push(R),M.push(R),R.lastVisited=g;continue}else R.lastVisited=-g}var U=R.adjacent,V=S.slice(),Y=E.slice(),K=new l(V,Y,!0);d.push(K);var B=U.indexOf(_);if(!(B<0)){U[B]=K,Y[L]=R,V[D]=-1,Y[D]=_,E[D]=K,K.flip();for(var F=0;F<=A;++F){var z=V[F];if(!(z<0||z===g)){for(var j=new Array(A-1),ae=0,ee=0;ee<=A;++ee){var ve=V[ee];ve<0||ee===F||(j[ae++]=ve)}T.push(new u(j,K,F))}}}}}}}T.sort(f);for(var D=0;D+1<T.length;D+=2){var fe=T[D],se=T[D+1],G=fe.index,Z=se.index;G<0||Z<0||(fe.cell.adjacent[fe.index]=se.cell,se.cell.adjacent[se.index]=fe.cell)}},y.insert=function(m,_){var g=this.vertices;g.push(m);var A=this.walk(m,_);if(A){for(var w=this.dimension,k=this.tuple,p=0;p<=w;++p){var d=A.vertices[p];d<0?k[p]=m:k[p]=g[d]}var M=this.orient(k);M<0||M===0&&(A=this.handleBoundaryDegeneracy(A,m),!A)||this.addPeaks(m,A)}},y.boundary=function(){for(var m=this.dimension,_=[],g=this.simplices,A=g.length,w=0;w<A;++w){var k=g[w];if(k.boundary){for(var p=new Array(m),d=k.vertices,M=0,T=0,S=0;S<=m;++S)d[S]>=0?p[M++]=d[S]:T=S&1;if(T===(m&1)){var E=p[0];p[0]=p[1],p[1]=E}_.push(p)}}return _};function x(m,_){var g=m.length;if(g===0)throw new Error("Must have at least d+1 points");var A=m[0].length;if(g<=A)throw new Error("Must input at least d+1 points");var w=m.slice(0,A+1),k=o.apply(void 0,w);if(k===0)throw new Error("Input not in general position");for(var p=new Array(A+1),d=0;d<=A;++d)p[d]=d;k<0&&(p[0]=1,p[1]=0);for(var M=new l(p,new Array(A+1),!1),T=M.adjacent,S=new Array(A+2),d=0;d<=A;++d){for(var E=p.slice(),L=0;L<=A;++L)L===d&&(E[L]=-1);var D=E[0];E[0]=E[1],E[1]=D;var R=new l(E,new Array(A+1),!0);T[d]=R,S[d]=R}S[A+1]=M;for(var d=0;d<=A;++d)for(var E=T[d].vertices,q=T[d].adjacent,L=0;L<=A;++L){var C=E[L];if(C<0){q[L]=M;continue}for(var F=0;F<=A;++F)T[F].vertices.indexOf(C)<0&&(q[L]=T[F])}for(var N=new b(A,w,S),U=!!_,d=A+1;d<g;++d)N.insert(m[d],U);return N.boundary()}},{"robust-orientation":284,"simplicial-complex":293}],234:[function(n,i,a){"use strict";var o=n("binary-search-bounds"),s=0,l=1,u=2;i.exports=M;function f(T,S,E,L,D){this.mid=T,this.left=S,this.right=E,this.leftPoints=L,this.rightPoints=D,this.count=(S?S.count:0)+(E?E.count:0)+L.length}var c=f.prototype;function h(T,S){T.mid=S.mid,T.left=S.left,T.right=S.right,T.leftPoints=S.leftPoints,T.rightPoints=S.rightPoints,T.count=S.count}function v(T,S){var E=k(S);T.mid=E.mid,T.left=E.left,T.right=E.right,T.leftPoints=E.leftPoints,T.rightPoints=E.rightPoints,T.count=E.count}function b(T,S){var E=T.intervals([]);E.push(S),v(T,E)}function y(T,S){var E=T.intervals([]),L=E.indexOf(S);return L<0?s:(E.splice(L,1),v(T,E),l)}c.intervals=function(T){return T.push.apply(T,this.leftPoints),this.left&&this.left.intervals(T),this.right&&this.right.intervals(T),T},c.insert=function(T){var S=this.count-this.leftPoints.length;if(this.count+=1,T[1]<this.mid)this.left?4*(this.left.count+1)>3*(S+1)?b(this,T):this.left.insert(T):this.left=k([T]);else if(T[0]>this.mid)this.right?4*(this.right.count+1)>3*(S+1)?b(this,T):this.right.insert(T):this.right=k([T]);else{var E=o.ge(this.leftPoints,T,A),L=o.ge(this.rightPoints,T,w);this.leftPoints.splice(E,0,T),this.rightPoints.splice(L,0,T)}},c.remove=function(T){var S=this.count-this.leftPoints;if(T[1]<this.mid){if(!this.left)return s;var E=this.right?this.right.count:0;if(4*E>3*(S-1))return y(this,T);var L=this.left.remove(T);return L===u?(this.left=null,this.count-=1,l):(L===l&&(this.count-=1),L)}else if(T[0]>this.mid){if(!this.right)return s;var D=this.left?this.left.count:0;if(4*D>3*(S-1))return y(this,T);var L=this.right.remove(T);return L===u?(this.right=null,this.count-=1,l):(L===l&&(this.count-=1),L)}else{if(this.count===1)return this.leftPoints[0]===T?u:s;if(this.leftPoints.length===1&&this.leftPoints[0]===T){if(this.left&&this.right){for(var R=this,q=this.left;q.right;)R=q,q=q.right;if(R===this)q.right=this.right;else{var C=this.left,L=this.right;R.count-=q.count,R.right=q.left,q.left=C,q.right=L}h(this,q),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?h(this,this.left):h(this,this.right);return l}for(var C=o.ge(this.leftPoints,T,A);C<this.leftPoints.length&&this.leftPoints[C][0]===T[0];++C)if(this.leftPoints[C]===T){this.count-=1,this.leftPoints.splice(C,1);for(var L=o.ge(this.rightPoints,T,w);L<this.rightPoints.length&&this.rightPoints[L][1]===T[1];++L)if(this.rightPoints[L]===T)return this.rightPoints.splice(L,1),l}return s}};function x(T,S,E){for(var L=0;L<T.length&&T[L][0]<=S;++L){var D=E(T[L]);if(D)return D}}function m(T,S,E){for(var L=T.length-1;L>=0&&T[L][1]>=S;--L){var D=E(T[L]);if(D)return D}}function _(T,S){for(var E=0;E<T.length;++E){var L=S(T[E]);if(L)return L}}c.queryPoint=function(T,S){if(T<this.mid){if(this.left){var E=this.left.queryPoint(T,S);if(E)return E}return x(this.leftPoints,T,S)}else if(T>this.mid){if(this.right){var E=this.right.queryPoint(T,S);if(E)return E}return m(this.rightPoints,T,S)}else return _(this.leftPoints,S)},c.queryInterval=function(T,S,E){if(T<this.mid&&this.left){var L=this.left.queryInterval(T,S,E);if(L)return L}if(S>this.mid&&this.right){var L=this.right.queryInterval(T,S,E);if(L)return L}return S<this.mid?x(this.leftPoints,S,E):T>this.mid?m(this.rightPoints,T,E):_(this.leftPoints,E)};function g(T,S){return T-S}function A(T,S){var E=T[0]-S[0];return E||T[1]-S[1]}function w(T,S){var E=T[1]-S[1];return E||T[0]-S[0]}function k(T){if(T.length===0)return null;for(var S=[],E=0;E<T.length;++E)S.push(T[E][0],T[E][1]);S.sort(g);for(var L=S[S.length>>1],D=[],R=[],q=[],E=0;E<T.length;++E){var C=T[E];C[1]<L?D.push(C):L<C[0]?R.push(C):q.push(C)}var F=q,N=q.slice();return F.sort(A),N.sort(w),new f(L,k(D),k(R),F,N)}function p(T){this.root=T}var d=p.prototype;d.insert=function(T){this.root?this.root.insert(T):this.root=new f(T[0],null,null,[T],[T])},d.remove=function(T){if(this.root){var S=this.root.remove(T);return S===u&&(this.root=null),S!==s}return!1},d.queryPoint=function(T,S){if(this.root)return this.root.queryPoint(T,S)},d.queryInterval=function(T,S,E){if(T<=S&&this.root)return this.root.queryInterval(T,S,E)},Object.defineProperty(d,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(d,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function M(T){return!T||T.length===0?new p(null):new p(k(T))}},{"binary-search-bounds":31}],235:[function(n,i,a){"use strict";function o(s){for(var l=new Array(s),u=0;u<s;++u)l[u]=u;return l}i.exports=o},{}],236:[function(n,i,a){i.exports=!0},{}],237:[function(n,i,a){i.exports=function(l){return l!=null&&(o(l)||s(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function s(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},{}],238:[function(n,i,a){"use strict";i.exports=l,i.exports.isMobile=l,i.exports.default=l;var o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function l(u){u||(u={});var f=u.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var c=u.tablet?s.test(f):o.test(f);return!c&&u.tablet&&u.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(c=!0),c}},{}],239:[function(n,i,a){"use strict";i.exports=function(o){for(var s=o.length,l,u=0;u<s;u++)if(l=o.charCodeAt(u),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},{}],240:[function(n,i,a){function o(s,l,u){return s*(1-u)+l*u}i.exports=o},{}],241:[function(n,i,a){var o=n("./normalize"),s=n("gl-mat4/create"),l=n("gl-mat4/clone"),u=n("gl-mat4/determinant"),f=n("gl-mat4/invert"),c=n("gl-mat4/transpose"),h={length:n("gl-vec3/length"),normalize:n("gl-vec3/normalize"),dot:n("gl-vec3/dot"),cross:n("gl-vec3/cross")},v=s(),b=s(),y=[0,0,0,0],x=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];i.exports=function(k,p,d,M,T,S){if(p||(p=[0,0,0]),d||(d=[0,0,0]),M||(M=[0,0,0]),T||(T=[0,0,0,1]),S||(S=[0,0,0,1]),!o(v,k)||(l(b,v),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(u(b)<1e-8)))return!1;var E=v[3],L=v[7],D=v[11],R=v[12],q=v[13],C=v[14],F=v[15];if(E!==0||L!==0||D!==0){y[0]=E,y[1]=L,y[2]=D,y[3]=F;var N=f(b,b);if(!N)return!1;c(b,b),_(T,y,b)}else T[0]=T[1]=T[2]=0,T[3]=1;if(p[0]=R,p[1]=q,p[2]=C,g(x,v),d[0]=h.length(x[0]),h.normalize(x[0],x[0]),M[0]=h.dot(x[0],x[1]),A(x[1],x[1],x[0],1,-M[0]),d[1]=h.length(x[1]),h.normalize(x[1],x[1]),M[0]/=d[1],M[1]=h.dot(x[0],x[2]),A(x[2],x[2],x[0],1,-M[1]),M[2]=h.dot(x[1],x[2]),A(x[2],x[2],x[1],1,-M[2]),d[2]=h.length(x[2]),h.normalize(x[2],x[2]),M[1]/=d[2],M[2]/=d[2],h.cross(m,x[1],x[2]),h.dot(x[0],m)<0)for(var U=0;U<3;U++)d[U]*=-1,x[U][0]*=-1,x[U][1]*=-1,x[U][2]*=-1;return S[0]=.5*Math.sqrt(Math.max(1+x[0][0]-x[1][1]-x[2][2],0)),S[1]=.5*Math.sqrt(Math.max(1-x[0][0]+x[1][1]-x[2][2],0)),S[2]=.5*Math.sqrt(Math.max(1-x[0][0]-x[1][1]+x[2][2],0)),S[3]=.5*Math.sqrt(Math.max(1+x[0][0]+x[1][1]+x[2][2],0)),x[2][1]>x[1][2]&&(S[0]=-S[0]),x[0][2]>x[2][0]&&(S[1]=-S[1]),x[1][0]>x[0][1]&&(S[2]=-S[2]),!0};function _(w,k,p){var d=k[0],M=k[1],T=k[2],S=k[3];return w[0]=p[0]*d+p[4]*M+p[8]*T+p[12]*S,w[1]=p[1]*d+p[5]*M+p[9]*T+p[13]*S,w[2]=p[2]*d+p[6]*M+p[10]*T+p[14]*S,w[3]=p[3]*d+p[7]*M+p[11]*T+p[15]*S,w}function g(w,k){w[0][0]=k[0],w[0][1]=k[1],w[0][2]=k[2],w[1][0]=k[4],w[1][1]=k[5],w[1][2]=k[6],w[2][0]=k[8],w[2][1]=k[9],w[2][2]=k[10]}function A(w,k,p,d,M){w[0]=k[0]*d+p[0]*M,w[1]=k[1]*d+p[1]*M,w[2]=k[2]*d+p[2]*M}},{"./normalize":242,"gl-mat4/clone":92,"gl-mat4/create":93,"gl-mat4/determinant":94,"gl-mat4/invert":98,"gl-mat4/transpose":109,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/length":172,"gl-vec3/normalize":179}],242:[function(n,i,a){i.exports=function(s,l){var u=l[15];if(u===0)return!1;for(var f=1/u,c=0;c<16;c++)s[c]=l[c]*f;return!0}},{}],243:[function(n,i,a){var o=n("gl-vec3/lerp"),s=n("mat4-recompose"),l=n("mat4-decompose"),u=n("gl-mat4/determinant"),f=n("quat-slerp"),c=y(),h=y(),v=y();i.exports=b;function b(_,g,A,w){if(u(g)===0||u(A)===0)return!1;var k=l(g,c.translate,c.scale,c.skew,c.perspective,c.quaternion),p=l(A,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!k||!p?!1:(o(v.translate,c.translate,h.translate,w),o(v.skew,c.skew,h.skew,w),o(v.scale,c.scale,h.scale,w),o(v.perspective,c.perspective,h.perspective,w),f(v.quaternion,c.quaternion,h.quaternion,w),s(_,v.translate,v.scale,v.skew,v.perspective,v.quaternion),!0)}function y(){return{translate:x(),scale:x(1),skew:x(),perspective:m(),quaternion:m()}}function x(_){return[_||0,_||0,_||0]}function m(){return[0,0,0,1]}},{"gl-mat4/determinant":94,"gl-vec3/lerp":173,"mat4-decompose":241,"mat4-recompose":244,"quat-slerp":271}],244:[function(n,i,a){var o={identity:n("gl-mat4/identity"),translate:n("gl-mat4/translate"),multiply:n("gl-mat4/multiply"),create:n("gl-mat4/create"),scale:n("gl-mat4/scale"),fromRotationTranslation:n("gl-mat4/fromRotationTranslation")},s=o.create(),l=o.create();i.exports=function(f,c,h,v,b,y){return o.identity(f),o.fromRotationTranslation(f,y,c),f[3]=b[0],f[7]=b[1],f[11]=b[2],f[15]=b[3],o.identity(l),v[2]!==0&&(l[9]=v[2],o.multiply(f,f,l)),v[1]!==0&&(l[9]=0,l[8]=v[1],o.multiply(f,f,l)),v[0]!==0&&(l[8]=0,l[4]=v[0],o.multiply(f,f,l)),o.scale(f,f,h),f}},{"gl-mat4/create":93,"gl-mat4/fromRotationTranslation":96,"gl-mat4/identity":97,"gl-mat4/multiply":100,"gl-mat4/scale":107,"gl-mat4/translate":108}],245:[function(n,i,a){"use strict";var o=n("binary-search-bounds"),s=n("mat4-interpolate"),l=n("gl-mat4/invert"),u=n("gl-mat4/rotateX"),f=n("gl-mat4/rotateY"),c=n("gl-mat4/rotateZ"),h=n("gl-mat4/lookAt"),v=n("gl-mat4/translate"),b=n("gl-mat4/scale"),y=n("gl-vec3/normalize"),x=[0,0,0];i.exports=A;function m(w){this._components=w.slice(),this._time=[0],this.prevMatrix=w.slice(),this.nextMatrix=w.slice(),this.computedMatrix=w.slice(),this.computedInverse=w.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var _=m.prototype;_.recalcMatrix=function(w){var k=this._time,p=o.le(k,w),d=this.computedMatrix;if(!(p<0)){var M=this._components;if(p===k.length-1)for(var T=16*p,S=0;S<16;++S)d[S]=M[T++];else{for(var E=k[p+1]-k[p],T=16*p,L=this.prevMatrix,D=!0,S=0;S<16;++S)L[S]=M[T++];for(var R=this.nextMatrix,S=0;S<16;++S)R[S]=M[T++],D=D&&L[S]===R[S];if(E<1e-6||D)for(var S=0;S<16;++S)d[S]=L[S];else s(d,L,R,(w-k[p])/E)}var q=this.computedUp;q[0]=d[1],q[1]=d[5],q[2]=d[9],y(q,q);var C=this.computedInverse;l(C,d);var F=this.computedEye,N=C[15];F[0]=C[12]/N,F[1]=C[13]/N,F[2]=C[14]/N;for(var U=this.computedCenter,V=Math.exp(this.computedRadius[0]),S=0;S<3;++S)U[S]=F[S]-d[2+4*S]*V}},_.idle=function(w){if(!(w<this.lastT())){for(var k=this._components,p=k.length-16,d=0;d<16;++d)k.push(k[p++]);this._time.push(w)}},_.flush=function(w){var k=o.gt(this._time,w)-2;k<0||(this._time.splice(0,k),this._components.splice(0,16*k))},_.lastT=function(){return this._time[this._time.length-1]},_.lookAt=function(w,k,p,d){this.recalcMatrix(w),k=k||this.computedEye,p=p||x,d=d||this.computedUp,this.setMatrix(w,h(this.computedMatrix,k,p,d));for(var M=0,T=0;T<3;++T)M+=Math.pow(p[T]-k[T],2);M=Math.log(Math.sqrt(M)),this.computedRadius[0]=M},_.rotate=function(w,k,p,d){this.recalcMatrix(w);var M=this.computedInverse;k&&f(M,M,k),p&&u(M,M,p),d&&c(M,M,d),this.setMatrix(w,l(this.computedMatrix,M))};var g=[0,0,0];_.pan=function(w,k,p,d){g[0]=-(k||0),g[1]=-(p||0),g[2]=-(d||0),this.recalcMatrix(w);var M=this.computedInverse;v(M,M,g),this.setMatrix(w,l(M,M))},_.translate=function(w,k,p,d){g[0]=k||0,g[1]=p||0,g[2]=d||0,this.recalcMatrix(w);var M=this.computedMatrix;v(M,M,g),this.setMatrix(w,M)},_.setMatrix=function(w,k){if(!(w<this.lastT())){this._time.push(w);for(var p=0;p<16;++p)this._components.push(k[p])}},_.setDistance=function(w,k){this.computedRadius[0]=k},_.setDistanceLimits=function(w,k){var p=this._limits;p[0]=w,p[1]=k},_.getDistanceLimits=function(w){var k=this._limits;return w?(w[0]=k[0],w[1]=k[1],w):k};function A(w){w=w||{};var k=w.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new m(k)}},{"binary-search-bounds":31,"gl-mat4/invert":98,"gl-mat4/lookAt":99,"gl-mat4/rotateX":104,"gl-mat4/rotateY":105,"gl-mat4/rotateZ":106,"gl-mat4/scale":107,"gl-mat4/translate":108,"gl-vec3/normalize":179,"mat4-interpolate":243}],246:[function(n,i,a){"use strict";i.exports=s;var o=n("robust-orientation")[3];function s(l){var u=l.length;if(u<3){for(var m=new Array(u),f=0;f<u;++f)m[f]=f;return u===2&&l[0][0]===l[1][0]&&l[0][1]===l[1][1]?[0]:m}for(var c=new Array(u),f=0;f<u;++f)c[f]=f;c.sort(function(w,k){var p=l[w][0]-l[k][0];return p||l[w][1]-l[k][1]});for(var h=[c[0],c[1]],v=[c[0],c[1]],f=2;f<u;++f){for(var b=c[f],y=l[b],x=h.length;x>1&&o(l[h[x-2]],l[h[x-1]],y)<=0;)x-=1,h.pop();for(h.push(b),x=v.length;x>1&&o(l[v[x-2]],l[v[x-1]],y)>=0;)x-=1,v.pop();v.push(b)}for(var m=new Array(v.length+h.length-2),_=0,f=0,g=h.length;f<g;++f)m[_++]=h[f];for(var A=v.length-2;A>0;--A)m[_++]=v[A];return m}},{"robust-orientation":284}],247:[function(n,i,a){"use strict";i.exports=s;var o=n("mouse-event");function s(l,u){u||(u=l,l=window);var f=0,c=0,h=0,v={shift:!1,alt:!1,control:!1,meta:!1},b=!1;function y(T){var S=!1;return"altKey"in T&&(S=S||T.altKey!==v.alt,v.alt=!!T.altKey),"shiftKey"in T&&(S=S||T.shiftKey!==v.shift,v.shift=!!T.shiftKey),"ctrlKey"in T&&(S=S||T.ctrlKey!==v.control,v.control=!!T.ctrlKey),"metaKey"in T&&(S=S||T.metaKey!==v.meta,v.meta=!!T.metaKey),S}function x(T,S){var E=o.x(S),L=o.y(S);"buttons"in S&&(T=S.buttons|0),(T!==f||E!==c||L!==h||y(S))&&(f=T|0,c=E||0,h=L||0,u&&u(f,c,h,v))}function m(T){x(0,T)}function _(){(f||c||h||v.shift||v.alt||v.meta||v.control)&&(c=h=0,f=0,v.shift=v.alt=v.control=v.meta=!1,u&&u(0,0,0,v))}function g(T){y(T)&&u&&u(f,c,h,v)}function A(T){o.buttons(T)===0?x(0,T):x(f,T)}function w(T){x(f|o.buttons(T),T)}function k(T){x(f&~o.buttons(T),T)}function p(){b||(b=!0,l.addEventListener("mousemove",A),l.addEventListener("mousedown",w),l.addEventListener("mouseup",k),l.addEventListener("mouseleave",m),l.addEventListener("mouseenter",m),l.addEventListener("mouseout",m),l.addEventListener("mouseover",m),l.addEventListener("blur",_),l.addEventListener("keyup",g),l.addEventListener("keydown",g),l.addEventListener("keypress",g),l!==window&&(window.addEventListener("blur",_),window.addEventListener("keyup",g),window.addEventListener("keydown",g),window.addEventListener("keypress",g)))}function d(){b&&(b=!1,l.removeEventListener("mousemove",A),l.removeEventListener("mousedown",w),l.removeEventListener("mouseup",k),l.removeEventListener("mouseleave",m),l.removeEventListener("mouseenter",m),l.removeEventListener("mouseout",m),l.removeEventListener("mouseover",m),l.removeEventListener("blur",_),l.removeEventListener("keyup",g),l.removeEventListener("keydown",g),l.removeEventListener("keypress",g),l!==window&&(window.removeEventListener("blur",_),window.removeEventListener("keyup",g),window.removeEventListener("keydown",g),window.removeEventListener("keypress",g)))}p();var M={element:l};return Object.defineProperties(M,{enabled:{get:function(){return b},set:function(T){T?p():d()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return h},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),M}},{"mouse-event":249}],248:[function(n,i,a){var o={left:0,top:0};i.exports=s;function s(u,f,c){f=f||u.currentTarget||u.srcElement,Array.isArray(c)||(c=[0,0]);var h=u.clientX||0,v=u.clientY||0,b=l(f);return c[0]=h-b.left,c[1]=v-b.top,c}function l(u){return u===window||u===document||u===document.body?o:u.getBoundingClientRect()}},{}],249:[function(n,i,a){"use strict";function o(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var c=f.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in f){var c=f.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}a.buttons=o;function s(f){return f.target||f.srcElement||window}a.element=s;function l(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var c=s(f),h=c.getBoundingClientRect();return f.clientX-h.left}return 0}a.x=l;function u(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var c=s(f),h=c.getBoundingClientRect();return f.clientY-h.top}return 0}a.y=u},{}],250:[function(n,i,a){"use strict";var o=n("to-px");i.exports=s;function s(l,u,f){typeof l=="function"&&(f=!!u,u=l,l=window);var c=o("ex",l),h=function(v){f&&v.preventDefault();var b=v.deltaX||0,y=v.deltaY||0,x=v.deltaZ||0,m=v.deltaMode,_=1;switch(m){case 1:_=c;break;case 2:_=window.innerHeight;break}if(b*=_,y*=_,x*=_,b||y||x)return u(b,y,x,v)};return l.addEventListener("wheel",h),h}},{"to-px":304}],251:[function(n,i,a){"use strict";var o=n("typedarray-pool");i.exports=u;var s={"false,0,1":function(c,h,v,b,y){return function(m,_,g,A){var w=m.shape[0]|0,k=m.shape[1]|0,p=m.data,d=m.offset|0,M=m.stride[0]|0,T=m.stride[1]|0,S=d,E,L=-M|0,D=0,R=-T|0,q=0,C=-M-T|0,F=0,N=M|0,U=T-M*w|0,V=0,Y=0,K=0,B=2*w|0,z=b(B),j=b(B),ae=0,ee=0,ve=-1,fe=-1,se=0,G=-w|0,Z=w|0,X=0,ge=-w-1|0,qe=w-1|0,Pe=0,Oe=0,de=0;for(V=0;V<w;++V)z[ae++]=v(p[S],_,g,A),S+=N;if(S+=U,k>0){if(Y=1,z[ae++]=v(p[S],_,g,A),S+=N,w>0)for(V=1,E=p[S],ee=z[ae]=v(E,_,g,A),se=z[ae+ve],X=z[ae+G],Pe=z[ae+ge],(ee!==se||ee!==X||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,se,X,Pe,_,g,A),Oe=j[ae]=K++),ae+=1,S+=N,V=2;V<w;++V)E=p[S],ee=z[ae]=v(E,_,g,A),se=z[ae+ve],X=z[ae+G],Pe=z[ae+ge],(ee!==se||ee!==X||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,se,X,Pe,_,g,A),Oe=j[ae]=K++,Pe!==se&&h(j[ae+ve],Oe,F,D,Pe,se,_,g,A)),ae+=1,S+=N;for(S+=U,ae=0,de=ve,ve=fe,fe=de,de=G,G=Z,Z=de,de=ge,ge=qe,qe=de,Y=2;Y<k;++Y){if(z[ae++]=v(p[S],_,g,A),S+=N,w>0)for(V=1,E=p[S],ee=z[ae]=v(E,_,g,A),se=z[ae+ve],X=z[ae+G],Pe=z[ae+ge],(ee!==se||ee!==X||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,se,X,Pe,_,g,A),Oe=j[ae]=K++,Pe!==X&&h(j[ae+G],Oe,q,F,X,Pe,_,g,A)),ae+=1,S+=N,V=2;V<w;++V)E=p[S],ee=z[ae]=v(E,_,g,A),se=z[ae+ve],X=z[ae+G],Pe=z[ae+ge],(ee!==se||ee!==X||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,se,X,Pe,_,g,A),Oe=j[ae]=K++,Pe!==X&&h(j[ae+G],Oe,q,F,X,Pe,_,g,A),Pe!==se&&h(j[ae+ve],Oe,F,D,Pe,se,_,g,A)),ae+=1,S+=N;Y&1&&(ae=0),de=ve,ve=fe,fe=de,de=G,G=Z,Z=de,de=ge,ge=qe,qe=de,S+=U}}y(j),y(z)}},"false,1,0":function(c,h,v,b,y){return function(m,_,g,A){var w=m.shape[0]|0,k=m.shape[1]|0,p=m.data,d=m.offset|0,M=m.stride[0]|0,T=m.stride[1]|0,S=d,E,L=-M|0,D=0,R=-T|0,q=0,C=-M-T|0,F=0,N=T|0,U=M-T*k|0,V=0,Y=0,K=0,B=2*k|0,z=b(B),j=b(B),ae=0,ee=0,ve=-1,fe=-1,se=0,G=-k|0,Z=k|0,X=0,ge=-k-1|0,qe=k-1|0,Pe=0,Oe=0,de=0;for(Y=0;Y<k;++Y)z[ae++]=v(p[S],_,g,A),S+=N;if(S+=U,w>0){if(V=1,z[ae++]=v(p[S],_,g,A),S+=N,k>0)for(Y=1,E=p[S],ee=z[ae]=v(E,_,g,A),X=z[ae+G],se=z[ae+ve],Pe=z[ae+ge],(ee!==X||ee!==se||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,X,se,Pe,_,g,A),Oe=j[ae]=K++),ae+=1,S+=N,Y=2;Y<k;++Y)E=p[S],ee=z[ae]=v(E,_,g,A),X=z[ae+G],se=z[ae+ve],Pe=z[ae+ge],(ee!==X||ee!==se||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,X,se,Pe,_,g,A),Oe=j[ae]=K++,Pe!==se&&h(j[ae+ve],Oe,q,F,se,Pe,_,g,A)),ae+=1,S+=N;for(S+=U,ae=0,de=G,G=Z,Z=de,de=ve,ve=fe,fe=de,de=ge,ge=qe,qe=de,V=2;V<w;++V){if(z[ae++]=v(p[S],_,g,A),S+=N,k>0)for(Y=1,E=p[S],ee=z[ae]=v(E,_,g,A),X=z[ae+G],se=z[ae+ve],Pe=z[ae+ge],(ee!==X||ee!==se||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,X,se,Pe,_,g,A),Oe=j[ae]=K++,Pe!==X&&h(j[ae+G],Oe,F,D,Pe,X,_,g,A)),ae+=1,S+=N,Y=2;Y<k;++Y)E=p[S],ee=z[ae]=v(E,_,g,A),X=z[ae+G],se=z[ae+ve],Pe=z[ae+ge],(ee!==X||ee!==se||ee!==Pe)&&(D=p[S+L],q=p[S+R],F=p[S+C],c(V,Y,E,D,q,F,ee,X,se,Pe,_,g,A),Oe=j[ae]=K++,Pe!==se&&h(j[ae+ve],Oe,q,F,se,Pe,_,g,A),Pe!==X&&h(j[ae+G],Oe,F,D,Pe,X,_,g,A)),ae+=1,S+=N;V&1&&(ae=0),de=G,G=Z,Z=de,de=ve,ve=fe,fe=de,de=ge,ge=qe,qe=de,S+=U}}y(j),y(z)}}};function l(f,c,h,v,b,y){var x=[y,b].join(","),m=s[x];return m(f,c,h,o.mallocUint32,o.freeUint32)}function u(f){function c(_){throw new Error("ndarray-extract-contour: "+_)}typeof f!="object"&&c("Must specify arguments");var h=f.order;Array.isArray(h)||c("Must specify order");var v=f.arrayArguments||1;v<1&&c("Must have at least one array argument");var b=f.scalarArguments||0;b<0&&c("Scalar arg count must be > 0"),typeof f.vertex!="function"&&c("Must specify vertex creation function"),typeof f.cell!="function"&&c("Must specify cell creation function"),typeof f.phase!="function"&&c("Must specify phase function");for(var y=f.getters||[],x=new Array(v),m=0;m<v;++m)y.indexOf(m)>=0?x[m]=!0:x[m]=!1;return l(f.vertex,f.cell,f.phase,b,h,x)}},{"typedarray-pool":308}],252:[function(n,i,a){"use strict";var o=n("dup"),s={zero:function(A,w,k,p){var d=A[0],M=k[0];p|=0;var T=0,S=M;for(T=0;T<d;++T)w[p]=0,p+=S},fdTemplate1:function(A,w,k,p,d,M,T){var S=A[0],E=k[0],L=M[0],D=-1*E,R=E;p|=0,T|=0;var q=0,C=E,F=L;for(q=0;q<S;++q)d[T]=.5*(w[p+D]-w[p+R]),p+=C,T+=F},fdTemplate2:function(A,w,k,p,d,M,T,S,E,L){var D=A[0],R=A[1],q=k[0],C=k[1],F=M[0],N=M[1],U=E[0],V=E[1],Y=-1*q,K=q,B=-1*C,z=C;p|=0,T|=0,L|=0;var j=0,ae=0,ee=C,ve=q-R*C,fe=N,se=F-R*N,G=V,Z=U-R*V;for(ae=0;ae<D;++ae){for(j=0;j<R;++j)d[T]=.5*(w[p+Y]-w[p+K]),S[L]=.5*(w[p+B]-w[p+z]),p+=ee,T+=fe,L+=G;p+=ve,T+=se,L+=Z}}},l={cdiff:function(A){var w={};return function(p,d,M){var T=p.dtype,S=p.order,E=d.dtype,L=d.order,D=M.dtype,R=M.order,q=[T,S.join(),E,L.join(),D,R.join()].join(),C=w[q];return C||(w[q]=C=A([T,S,E,L,D,R])),C(p.shape.slice(0),p.data,p.stride,p.offset|0,d.data,d.stride,d.offset|0,M.data,M.stride,M.offset|0)}},zero:function(A){var w={};return function(p){var d=p.dtype,M=p.order,T=[d,M.join()].join(),S=w[T];return S||(w[T]=S=A([d,M])),S(p.shape.slice(0),p.data,p.stride,p.offset|0)}},fdTemplate1:function(A){var w={};return function(p,d){var M=p.dtype,T=p.order,S=d.dtype,E=d.order,L=[M,T.join(),S,E.join()].join(),D=w[L];return D||(w[L]=D=A([M,T,S,E])),D(p.shape.slice(0),p.data,p.stride,p.offset|0,d.data,d.stride,d.offset|0)}},fdTemplate2:function(A){var w={};return function(p,d,M){var T=p.dtype,S=p.order,E=d.dtype,L=d.order,D=M.dtype,R=M.order,q=[T,S.join(),E,L.join(),D,R.join()].join(),C=w[q];return C||(w[q]=C=A([T,S,E,L,D,R])),C(p.shape.slice(0),p.data,p.stride,p.offset|0,d.data,d.stride,d.offset|0,M.data,M.stride,M.offset|0)}}};function u(A){var w=l[A.funcName];return w(f.bind(void 0,A))}function f(A){return s[A.funcName]}function c(A){return u({funcName:A.funcName})}var h={},v={},b={body:"",args:[],thisVars:[],localVars:[]},y=c({funcName:"cdiff"}),x=c({funcName:"zero"});function m(A){return A in h?h[A]:h[A]=c({funcName:"fdTemplate"+A})}function _(A,w,k,p){return function(d,M){var T=M.shape.slice();return T[0]>2&&T[1]>2&&p(M.pick(-1,-1).lo(1,1).hi(T[0]-2,T[1]-2),d.pick(-1,-1,0).lo(1,1).hi(T[0]-2,T[1]-2),d.pick(-1,-1,1).lo(1,1).hi(T[0]-2,T[1]-2)),T[1]>2&&(k(M.pick(0,-1).lo(1).hi(T[1]-2),d.pick(0,-1,1).lo(1).hi(T[1]-2)),w(d.pick(0,-1,0).lo(1).hi(T[1]-2))),T[1]>2&&(k(M.pick(T[0]-1,-1).lo(1).hi(T[1]-2),d.pick(T[0]-1,-1,1).lo(1).hi(T[1]-2)),w(d.pick(T[0]-1,-1,0).lo(1).hi(T[1]-2))),T[0]>2&&(k(M.pick(-1,0).lo(1).hi(T[0]-2),d.pick(-1,0,0).lo(1).hi(T[0]-2)),w(d.pick(-1,0,1).lo(1).hi(T[0]-2))),T[0]>2&&(k(M.pick(-1,T[1]-1).lo(1).hi(T[0]-2),d.pick(-1,T[1]-1,0).lo(1).hi(T[0]-2)),w(d.pick(-1,T[1]-1,1).lo(1).hi(T[0]-2))),d.set(0,0,0,0),d.set(0,0,1,0),d.set(T[0]-1,0,0,0),d.set(T[0]-1,0,1,0),d.set(0,T[1]-1,0,0),d.set(0,T[1]-1,1,0),d.set(T[0]-1,T[1]-1,0,0),d.set(T[0]-1,T[1]-1,1,0),d}}function g(A){var w=A.join(),T=v[w];if(T)return T;for(var k=A.length,p=[y,x],d=1;d<=k;++d)p.push(m(d));var M=_,T=M.apply(void 0,p);return v[w]=T,T}i.exports=function(w,k,p){if(Array.isArray(p)||(typeof p=="string"?p=o(k.dimension,p):p=o(k.dimension,"clamp")),k.size===0)return w;if(k.dimension===0)return w.set(0),w;var d=g(p);return d(w,k)}},{dup:65}],253:[function(n,i,a){"use strict";function o(c,h){var v=Math.floor(h),b=h-v,y=0<=v&&v<c.shape[0],x=0<=v+1&&v+1<c.shape[0],m=y?+c.get(v):0,_=x?+c.get(v+1):0;return(1-b)*m+b*_}function s(c,h,v){var b=Math.floor(h),y=h-b,x=0<=b&&b<c.shape[0],m=0<=b+1&&b+1<c.shape[0],_=Math.floor(v),g=v-_,A=0<=_&&_<c.shape[1],w=0<=_+1&&_+1<c.shape[1],k=x&&A?c.get(b,_):0,p=x&&w?c.get(b,_+1):0,d=m&&A?c.get(b+1,_):0,M=m&&w?c.get(b+1,_+1):0;return(1-g)*((1-y)*k+y*d)+g*((1-y)*p+y*M)}function l(c,h,v,b){var y=Math.floor(h),x=h-y,m=0<=y&&y<c.shape[0],_=0<=y+1&&y+1<c.shape[0],g=Math.floor(v),A=v-g,w=0<=g&&g<c.shape[1],k=0<=g+1&&g+1<c.shape[1],p=Math.floor(b),d=b-p,M=0<=p&&p<c.shape[2],T=0<=p+1&&p+1<c.shape[2],S=m&&w&&M?c.get(y,g,p):0,E=m&&k&&M?c.get(y,g+1,p):0,L=_&&w&&M?c.get(y+1,g,p):0,D=_&&k&&M?c.get(y+1,g+1,p):0,R=m&&w&&T?c.get(y,g,p+1):0,q=m&&k&&T?c.get(y,g+1,p+1):0,C=_&&w&&T?c.get(y+1,g,p+1):0,F=_&&k&&T?c.get(y+1,g+1,p+1):0;return(1-d)*((1-A)*((1-x)*S+x*L)+A*((1-x)*E+x*D))+d*((1-A)*((1-x)*R+x*C)+A*((1-x)*q+x*F))}function u(c){var h=c.shape.length|0,v=new Array(h),b=new Array(h),y=new Array(h),x=new Array(h),m,_;for(m=0;m<h;++m)_=+arguments[m+1],v[m]=Math.floor(_),b[m]=_-v[m],y[m]=0<=v[m]&&v[m]<c.shape[m],x[m]=0<=v[m]+1&&v[m]+1<c.shape[m];var g=0,A,w,k;e:for(m=0;m<1<<h;++m){for(w=1,k=c.offset,A=0;A<h;++A)if(m&1<<A){if(!x[A])continue e;w*=b[A],k+=c.stride[A]*(v[A]+1)}else{if(!y[A])continue e;w*=1-b[A],k+=c.stride[A]*v[A]}g+=w*c.data[k]}return g}function f(c,h,v,b){switch(c.shape.length){case 0:return 0;case 1:return o(c,h);case 2:return s(c,h,v);case 3:return l(c,h,v,b);default:return u.apply(void 0,arguments)}}i.exports=f,i.exports.d1=o,i.exports.d2=s,i.exports.d3=l},{}],254:[function(n,i,a){"use strict";var o={"float64,2,1,0":function(){return function(b,y,x,m,_){var g=b[0],A=b[1],w=b[2],k=x[0],p=x[1],d=x[2];m|=0;var M=0,T=0,S=0,E=d,L=p-w*d,D=k-A*p;for(S=0;S<g;++S){for(T=0;T<A;++T){for(M=0;M<w;++M)y[m]/=_,m+=E;m+=L}m+=D}}},"uint8,2,0,1,float64,2,1,0":function(){return function(b,y,x,m,_,g,A,w){var k=b[0],p=b[1],d=b[2],M=x[0],T=x[1],S=x[2],E=g[0],L=g[1],D=g[2];m|=0,A|=0;for(var R=m,q=A,C=b[0]|0;C>0;){C<64?(k=C,C=0):(k=64,C-=64);for(var F=b[1]|0;F>0;){F<64?(p=F,F=0):(p=64,F-=64),m=R+C*M+F*T,A=q+C*E+F*L;var N=0,U=0,V=0,Y=S,K=M-d*S,B=T-k*M,z=D,j=E-d*D,ae=L-k*E;for(V=0;V<p;++V){for(U=0;U<k;++U){for(N=0;N<d;++N)y[m]=_[A]*w,m+=Y,A+=z;m+=K,A+=j}m+=B,A+=ae}}}}},"float32,1,0,float32,1,0":function(){return function(b,y,x,m,_,g,A){var w=b[0],k=b[1],p=x[0],d=x[1],M=g[0],T=g[1];m|=0,A|=0;var S=0,E=0,L=d,D=p-k*d,R=T,q=M-k*T;for(E=0;E<w;++E){for(S=0;S<k;++S)y[m]=_[A],m+=L,A+=R;m+=D,A+=q}}},"float32,1,0,float32,0,1":function(){return function(b,y,x,m,_,g,A){var w=b[0],k=b[1],p=x[0],d=x[1],M=g[0],T=g[1];m|=0,A|=0;for(var S=m,E=A,L=b[1]|0;L>0;){L<64?(k=L,L=0):(k=64,L-=64);for(var D=b[0]|0;D>0;){D<64?(w=D,D=0):(w=64,D-=64),m=S+L*d+D*p,A=E+L*T+D*M;var R=0,q=0,C=d,F=p-k*d,N=T,U=M-k*T;for(q=0;q<w;++q){for(R=0;R<k;++R)y[m]=_[A],m+=C,A+=N;m+=F,A+=U}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(b,y,x,m,_,g,A){var w=b[0],k=b[1],p=b[2],d=x[0],M=x[1],T=x[2],S=g[0],E=g[1],L=g[2];m|=0,A|=0;for(var D=m,R=A,q=b[2]|0;q>0;){q<64?(p=q,q=0):(p=64,q-=64);for(var C=b[0]|0;C>0;){C<64?(w=C,C=0):(w=64,C-=64);for(var F=b[1]|0;F>0;){F<64?(k=F,F=0):(k=64,F-=64),m=D+q*T+C*d+F*M,A=R+q*L+C*S+F*E;var N=0,U=0,V=0,Y=T,K=d-p*T,B=M-w*d,z=L,j=S-p*L,ae=E-w*S;for(V=0;V<k;++V){for(U=0;U<w;++U){for(N=0;N<p;++N)y[m]=_[A],m+=Y,A+=z;m+=K,A+=j}m+=B,A+=ae}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(b,y,x,m,_,g,A){var w=b[0],k=b[1],p=b[2],d=x[0],M=x[1],T=x[2],S=g[0],E=g[1],L=g[2];m|=0,A|=0;var D=0,R=0,q=0,C=T,F=d-p*T,N=M-w*d,U=L,V=S-p*L,Y=E-w*S;for(q=0;q<k;++q){for(R=0;R<w;++R){for(D=0;D<p;++D)y[m]=_[A],m+=C,A+=U;m+=F,A+=V}m+=N,A+=Y}}}};function s(v,b){var y=b.join(","),x=o[y];return x()}var l=s,u={mul:function(v){var b={};return function(x,m,_){var g=x.dtype,A=x.order,w=m.dtype,k=m.order,p=_.dtype,d=_.order,M=[g,A.join(),w,k.join(),p,d.join()].join(),T=b[M];return T||(b[M]=T=v([g,A,w,k,p,d])),T(x.shape.slice(0),x.data,x.stride,x.offset|0,m.data,m.stride,m.offset|0,_.data,_.stride,_.offset|0)}},muls:function(v){var b={};return function(x,m,_){var g=x.dtype,A=x.order,w=m.dtype,k=m.order,p=[g,A.join(),w,k.join()].join(),d=b[p];return d||(b[p]=d=v([g,A,w,k])),d(x.shape.slice(0),x.data,x.stride,x.offset|0,m.data,m.stride,m.offset|0,_)}},mulseq:function(v){var b={};return function(x,m){var _=x.dtype,g=x.order,A=[_,g.join()].join(),w=b[A];return w||(b[A]=w=v([_,g])),w(x.shape.slice(0),x.data,x.stride,x.offset|0,m)}},div:function(v){var b={};return function(x,m,_){var g=x.dtype,A=x.order,w=m.dtype,k=m.order,p=_.dtype,d=_.order,M=[g,A.join(),w,k.join(),p,d.join()].join(),T=b[M];return T||(b[M]=T=v([g,A,w,k,p,d])),T(x.shape.slice(0),x.data,x.stride,x.offset|0,m.data,m.stride,m.offset|0,_.data,_.stride,_.offset|0)}},divs:function(v){var b={};return function(x,m,_){var g=x.dtype,A=x.order,w=m.dtype,k=m.order,p=[g,A.join(),w,k.join()].join(),d=b[p];return d||(b[p]=d=v([g,A,w,k])),d(x.shape.slice(0),x.data,x.stride,x.offset|0,m.data,m.stride,m.offset|0,_)}},divseq:function(v){var b={};return function(x,m){var _=x.dtype,g=x.order,A=[_,g.join()].join(),w=b[A];return w||(b[A]=w=v([_,g])),w(x.shape.slice(0),x.data,x.stride,x.offset|0,m)}},assign:function(v){var b={};return function(x,m){var _=x.dtype,g=x.order,A=m.dtype,w=m.order,k=[_,g.join(),A,w.join()].join(),p=b[k];return p||(b[k]=p=v([_,g,A,w])),p(x.shape.slice(0),x.data,x.stride,x.offset|0,m.data,m.stride,m.offset|0)}}};function f(v){var b=u[v.funcName];return b(l.bind(void 0,v))}function c(v){return f({funcName:v.funcName})}var h={mul:"*",div:"/"};(function(){for(var v in h)a[v]=c({funcName:v}),a[v+"s"]=c({funcName:v+"s"}),a[v+"seq"]=c({funcName:v+"seq"})})(),a.assign=c({funcName:"assign"})},{}],255:[function(n,i,a){"use strict";var o=n("ndarray"),s=n("./doConvert.js");i.exports=function(u,f){for(var c=[],h=u,v=1;Array.isArray(h);)c.push(h.length),v*=h.length,h=h[0];return c.length===0?o():(f||(f=o(new Float64Array(v),c)),s(f,u),f)}},{"./doConvert.js":256,ndarray:259}],256:[function(n,i,a){"use strict";function o(){return function(h,v,b,y,x){var m=h[0],_=h[1],g=h[2],A=b[0],w=b[1],k=b[2],p=[0,0,0];y|=0;var d=0,M=0,T=0,S=k,E=w-g*k,L=A-_*w;for(T=0;T<m;++T){for(M=0;M<_;++M){for(d=0;d<g;++d){{var D=x,R;for(R=0;R<p.length-1;++R)D=D[p[R]];v[y]=D[p[p.length-1]]}y+=S,++p[2]}y+=E,p[2]-=g,++p[1]}y+=L,p[1]-=_,++p[0]}}}function s(){return o()}var l=s;function u(h){var v={};return function(y,x){var m=y.dtype,_=y.order,g=[m,_.join()].join(),A=v[g];return A||(v[g]=A=h([m,_])),A(y.shape.slice(0),y.data,y.stride,y.offset|0,x)}}function f(h){return u(l.bind(void 0,h))}function c(h){return f({funcName:h.funcName})}i.exports=c({funcName:"convert"})},{}],257:[function(n,i,a){"use strict";var o=n("typedarray-pool");function s(b){switch(b){case"uint32":return[o.mallocUint32,o.freeUint32];default:return null}}var l={"uint32,1,0":function(b,y){return function(m,_,g,A,w,k,p,d,M,T,S){var E,L,D,R=m*w+A,q,C=b(d),F,N,U,V;for(E=m+1;E<=_;++E){for(L=E,R+=w,D=R,F=0,N=R,q=0;q<d;++q)C[F++]=g[N],N+=M;e:for(;L-- >m;){F=0,N=D-w;t:for(q=0;q<d;++q){if(U=g[N],V=C[F],U<V)break e;if(U>V)break t;N+=T,F+=S}for(F=D,N=D-w,q=0;q<d;++q)g[F]=g[N],F+=M,N+=M;D-=w}for(F=D,N=0,q=0;q<d;++q)g[F]=C[N++],F+=M}y(C)}}};function u(b,y){var x=s(y),m=[y,b].join(","),_=l[m];return x?_(x[0],x[1]):_()}var f={"uint32,1,0":function(b,y,x){return function m(_,g,A,w,k,p,d,M,T,S,E){var L=(g-_+1)/6|0,D=_+L,R=g-L,q=_+g>>1,C=q-L,F=q+L,N=D,U=C,V=q,Y=F,K=R,B=_+1,z=g-1,j=!0,ae,ee,ve,fe,se,G,Z,X,ge,qe=0,Pe=0,Oe=0,de,_e,ce,J,ne,be,Fe,He,te,ye,Te,Ce,De,oe,pe,Le,Ue=M,et=y(Ue),Qe=y(Ue);_e=k*N,ce=k*U,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=N,N=U,U=ee;break e}if(Oe<0)break e;Le+=S}_e=k*Y,ce=k*K,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=Y,Y=K,K=ee;break e}if(Oe<0)break e;Le+=S}_e=k*N,ce=k*V,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=N,N=V,V=ee;break e}if(Oe<0)break e;Le+=S}_e=k*U,ce=k*V,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=U,U=V,V=ee;break e}if(Oe<0)break e;Le+=S}_e=k*N,ce=k*Y,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=N,N=Y,Y=ee;break e}if(Oe<0)break e;Le+=S}_e=k*V,ce=k*Y,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=V,V=Y,Y=ee;break e}if(Oe<0)break e;Le+=S}_e=k*U,ce=k*K,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=U,U=K,K=ee;break e}if(Oe<0)break e;Le+=S}_e=k*U,ce=k*V,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=U,U=V,V=ee;break e}if(Oe<0)break e;Le+=S}_e=k*Y,ce=k*K,Le=w;e:for(de=0;de<M;++de){if(Z=_e+Le,X=ce+Le,Oe=A[Z]-A[X],Oe>0){ee=Y,Y=K,K=ee;break e}if(Oe<0)break e;Le+=S}for(_e=k*N,ce=k*U,J=k*V,ne=k*Y,be=k*K,Fe=k*D,He=k*q,te=k*R,pe=0,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ge=J+Le,ye=ne+Le,Te=be+Le,Ce=Fe+Le,De=He+Le,oe=te+Le,et[pe]=A[X],Qe[pe]=A[ye],j=j&&et[pe]===Qe[pe],ve=A[Z],fe=A[ge],se=A[Te],A[Ce]=ve,A[De]=fe,A[oe]=se,++pe,Le+=T;for(_e=k*C,ce=k*_,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,A[Z]=A[X],Le+=T;for(_e=k*F,ce=k*g,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,A[Z]=A[X],Le+=T;if(j)for(G=B;G<=z;++G){Z=w+G*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-et[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe!==0)if(Oe<0){if(G!==B)for(_e=k*G,ce=k*B,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;++B}else for(;;){Z=w+z*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-et[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe>0)z--;else if(Oe<0){for(_e=k*G,ce=k*B,J=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ge=J+Le,ae=A[Z],A[Z]=A[X],A[X]=A[ge],A[ge]=ae,Le+=T;++B,--z;break}else{for(_e=k*G,ce=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;--z;break}}}else for(G=B;G<=z;++G){Z=w+G*k,pe=0;e:for(de=0;de<M;++de){if(qe=A[Z]-et[pe],qe!==0)break e;pe+=E,Z+=S}if(qe<0){if(G!==B)for(_e=k*G,ce=k*B,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;++B}else{Z=w+G*k,pe=0;e:for(de=0;de<M;++de){if(Pe=A[Z]-Qe[pe],Pe!==0)break e;pe+=E,Z+=S}if(Pe>0)for(;;){Z=w+z*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-Qe[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe>0){if(--z<G)break;continue}else{Z=w+z*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-et[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe<0){for(_e=k*G,ce=k*B,J=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ge=J+Le,ae=A[Z],A[Z]=A[X],A[X]=A[ge],A[ge]=ae,Le+=T;++B,--z}else{for(_e=k*G,ce=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;--z}break}}}}for(_e=k*_,ce=k*(B-1),pe=0,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,A[Z]=A[X],A[X]=et[pe],++pe,Le+=T;for(_e=k*g,ce=k*(z+1),pe=0,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,A[Z]=A[X],A[X]=Qe[pe],++pe,Le+=T;if(B-2-_<=32?b(_,B-2,A,w,k,p,d,M,T,S,E):m(_,B-2,A,w,k,p,d,M,T,S,E),g-(z+2)<=32?b(z+2,g,A,w,k,p,d,M,T,S,E):m(z+2,g,A,w,k,p,d,M,T,S,E),j){x(et),x(Qe);return}if(B<D&&z>R){e:for(;;){for(Z=w+B*k,pe=0,Le=w,de=0;de<M;++de){if(A[Z]!==et[pe])break e;++pe,Z+=T}++B}e:for(;;){for(Z=w+z*k,pe=0,Le=w,de=0;de<M;++de){if(A[Z]!==Qe[pe])break e;++pe,Z+=T}--z}for(G=B;G<=z;++G){Z=w+G*k,pe=0;e:for(de=0;de<M;++de){if(qe=A[Z]-et[pe],qe!==0)break e;pe+=E,Z+=S}if(qe===0){if(G!==B)for(_e=k*G,ce=k*B,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;++B}else{Z=w+G*k,pe=0;e:for(de=0;de<M;++de){if(Pe=A[Z]-Qe[pe],Pe!==0)break e;pe+=E,Z+=S}if(Pe===0)for(;;){Z=w+z*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-Qe[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe===0){if(--z<G)break;continue}else{Z=w+z*k,pe=0;e:for(de=0;de<M;++de){if(Oe=A[Z]-et[pe],Oe!==0)break e;pe+=E,Z+=S}if(Oe<0){for(_e=k*G,ce=k*B,J=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ge=J+Le,ae=A[Z],A[Z]=A[X],A[X]=A[ge],A[ge]=ae,Le+=T;++B,--z}else{for(_e=k*G,ce=k*z,Le=w,de=0;de<M;++de)Z=_e+Le,X=ce+Le,ae=A[Z],A[Z]=A[X],A[X]=ae,Le+=T;--z}break}}}}}x(et),x(Qe),z-B<=32?b(B,z,A,w,k,p,d,M,T,S,E):m(B,z,A,w,k,p,d,M,T,S,E)}}};function c(b,y,x){var m=s(y),_=[y,b].join(","),g=f[_];return b.length>1&&m?g(x,m[0],m[1]):g(x)}var h={"uint32,1,0":function(b,y){return function(x){var m=x.data,_=x.offset|0,g=x.shape,A=x.stride,w=A[0]|0,k=g[0]|0,p=A[1]|0,d=g[1]|0,M=p,T=p,S=1;k<=32?b(0,k-1,m,_,w,p,k,d,M,T,S):y(0,k-1,m,_,w,p,k,d,M,T,S)}}};function v(b,y){var x=[y,b].join(","),m=h[x],_=u(b,y),g=c(b,y,_);return m(_,g)}i.exports=v},{"typedarray-pool":308}],258:[function(n,i,a){"use strict";var o=n("./lib/compile_sort.js"),s={};function l(u){var f=u.order,c=u.dtype,h=[f,c],v=h.join(":"),b=s[v];return b||(s[v]=b=o(f,c)),b(u),u}i.exports=l},{"./lib/compile_sort.js":257}],259:[function(n,i,a){var o=n("is-buffer"),s=typeof Float64Array<"u";function l(y,x){return y[0]-x[0]}function u(){var y=this.stride,x=new Array(y.length),m;for(m=0;m<x.length;++m)x[m]=[Math.abs(y[m]),m];x.sort(l);var _=new Array(x.length);for(m=0;m<_.length;++m)_[m]=x[m][1];return _}var f={T:function(y){function x(_){this.data=_}var m=x.prototype;return m.dtype=y,m.index=function(){return-1},m.size=0,m.dimension=-1,m.shape=m.stride=m.order=[],m.lo=m.hi=m.transpose=m.step=function(){return new x(this.data)},m.get=m.set=function(){},m.pick=function(){return null},function(g){return new x(g)}},0:function(y,x){function m(g,A){this.data=g,this.offset=A}var _=m.prototype;return _.dtype=y,_.index=function(){return this.offset},_.dimension=0,_.size=1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new m(this.data,this.offset)},_.pick=function(){return x(this.data)},_.valueOf=_.get=function(){return y==="generic"?this.data.get(this.offset):this.data[this.offset]},_.set=function(A){return y==="generic"?this.data.set(this.offset,A):this.data[this.offset]=A},function(A,w,k,p){return new m(A,p)}},1:function(y,x,m){function _(A,w,k,p){this.data=A,this.shape=[w],this.stride=[k],this.offset=p|0}var g=_.prototype;return g.dtype=y,g.dimension=1,Object.defineProperty(g,"size",{get:function(){return this.shape[0]}}),g.order=[0],g.set=function(w,k){return y==="generic"?this.data.set(this.offset+this.stride[0]*w,k):this.data[this.offset+this.stride[0]*w]=k},g.get=function(w){return y==="generic"?this.data.get(this.offset+this.stride[0]*w):this.data[this.offset+this.stride[0]*w]},g.index=function(w){return this.offset+this.stride[0]*w},g.hi=function(w){return new _(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,this.stride[0],this.offset)},g.lo=function(w){var k=this.offset,p=0,d=this.shape[0],M=this.stride[0];return typeof w=="number"&&w>=0&&(p=w|0,k+=M*p,d-=p),new _(this.data,d,M,k)},g.step=function(w){var k=this.shape[0],p=this.stride[0],d=this.offset,M=0,T=Math.ceil;return typeof w=="number"&&(M=w|0,M<0?(d+=p*(k-1),k=T(-k/M)):k=T(k/M),p*=M),new _(this.data,k,p,d)},g.transpose=function(w){w=w===void 0?0:w|0;var k=this.shape,p=this.stride;return new _(this.data,k[w],p[w],this.offset)},g.pick=function(w){var k=[],p=[],d=this.offset;typeof w=="number"&&w>=0?d=d+this.stride[0]*w|0:(k.push(this.shape[0]),p.push(this.stride[0]));var M=x[k.length+1];return M(this.data,k,p,d)},function(w,k,p,d){return new _(w,k[0],p[0],d)}},2:function(y,x,m){function _(A,w,k,p,d,M){this.data=A,this.shape=[w,k],this.stride=[p,d],this.offset=M|0}var g=_.prototype;return g.dtype=y,g.dimension=2,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(g,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),g.set=function(w,k,p){return y==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*k,p):this.data[this.offset+this.stride[0]*w+this.stride[1]*k]=p},g.get=function(w,k){return y==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*k):this.data[this.offset+this.stride[0]*w+this.stride[1]*k]},g.index=function(w,k){return this.offset+this.stride[0]*w+this.stride[1]*k},g.hi=function(w,k){return new _(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof k!="number"||k<0?this.shape[1]:k|0,this.stride[0],this.stride[1],this.offset)},g.lo=function(w,k){var p=this.offset,d=0,M=this.shape[0],T=this.shape[1],S=this.stride[0],E=this.stride[1];return typeof w=="number"&&w>=0&&(d=w|0,p+=S*d,M-=d),typeof k=="number"&&k>=0&&(d=k|0,p+=E*d,T-=d),new _(this.data,M,T,S,E,p)},g.step=function(w,k){var p=this.shape[0],d=this.shape[1],M=this.stride[0],T=this.stride[1],S=this.offset,E=0,L=Math.ceil;return typeof w=="number"&&(E=w|0,E<0?(S+=M*(p-1),p=L(-p/E)):p=L(p/E),M*=E),typeof k=="number"&&(E=k|0,E<0?(S+=T*(d-1),d=L(-d/E)):d=L(d/E),T*=E),new _(this.data,p,d,M,T,S)},g.transpose=function(w,k){w=w===void 0?0:w|0,k=k===void 0?1:k|0;var p=this.shape,d=this.stride;return new _(this.data,p[w],p[k],d[w],d[k],this.offset)},g.pick=function(w,k){var p=[],d=[],M=this.offset;typeof w=="number"&&w>=0?M=M+this.stride[0]*w|0:(p.push(this.shape[0]),d.push(this.stride[0])),typeof k=="number"&&k>=0?M=M+this.stride[1]*k|0:(p.push(this.shape[1]),d.push(this.stride[1]));var T=x[p.length+1];return T(this.data,p,d,M)},function(w,k,p,d){return new _(w,k[0],k[1],p[0],p[1],d)}},3:function(y,x,m){function _(A,w,k,p,d,M,T,S){this.data=A,this.shape=[w,k,p],this.stride=[d,M,T],this.offset=S|0}var g=_.prototype;return g.dtype=y,g.dimension=3,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(g,"order",{get:function(){var w=Math.abs(this.stride[0]),k=Math.abs(this.stride[1]),p=Math.abs(this.stride[2]);return w>k?k>p?[2,1,0]:w>p?[1,2,0]:[1,0,2]:w>p?[2,0,1]:p>k?[0,1,2]:[0,2,1]}}),g.set=function(w,k,p,d){return y==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p,d):this.data[this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p]=d},g.get=function(w,k,p){return y==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p):this.data[this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p]},g.index=function(w,k,p){return this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p},g.hi=function(w,k,p){return new _(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof k!="number"||k<0?this.shape[1]:k|0,typeof p!="number"||p<0?this.shape[2]:p|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},g.lo=function(w,k,p){var d=this.offset,M=0,T=this.shape[0],S=this.shape[1],E=this.shape[2],L=this.stride[0],D=this.stride[1],R=this.stride[2];return typeof w=="number"&&w>=0&&(M=w|0,d+=L*M,T-=M),typeof k=="number"&&k>=0&&(M=k|0,d+=D*M,S-=M),typeof p=="number"&&p>=0&&(M=p|0,d+=R*M,E-=M),new _(this.data,T,S,E,L,D,R,d)},g.step=function(w,k,p){var d=this.shape[0],M=this.shape[1],T=this.shape[2],S=this.stride[0],E=this.stride[1],L=this.stride[2],D=this.offset,R=0,q=Math.ceil;return typeof w=="number"&&(R=w|0,R<0?(D+=S*(d-1),d=q(-d/R)):d=q(d/R),S*=R),typeof k=="number"&&(R=k|0,R<0?(D+=E*(M-1),M=q(-M/R)):M=q(M/R),E*=R),typeof p=="number"&&(R=p|0,R<0?(D+=L*(T-1),T=q(-T/R)):T=q(T/R),L*=R),new _(this.data,d,M,T,S,E,L,D)},g.transpose=function(w,k,p){w=w===void 0?0:w|0,k=k===void 0?1:k|0,p=p===void 0?2:p|0;var d=this.shape,M=this.stride;return new _(this.data,d[w],d[k],d[p],M[w],M[k],M[p],this.offset)},g.pick=function(w,k,p){var d=[],M=[],T=this.offset;typeof w=="number"&&w>=0?T=T+this.stride[0]*w|0:(d.push(this.shape[0]),M.push(this.stride[0])),typeof k=="number"&&k>=0?T=T+this.stride[1]*k|0:(d.push(this.shape[1]),M.push(this.stride[1])),typeof p=="number"&&p>=0?T=T+this.stride[2]*p|0:(d.push(this.shape[2]),M.push(this.stride[2]));var S=x[d.length+1];return S(this.data,d,M,T)},function(w,k,p,d){return new _(w,k[0],k[1],k[2],p[0],p[1],p[2],d)}},4:function(y,x,m){function _(A,w,k,p,d,M,T,S,E,L){this.data=A,this.shape=[w,k,p,d],this.stride=[M,T,S,E],this.offset=L|0}var g=_.prototype;return g.dtype=y,g.dimension=4,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(g,"order",{get:m}),g.set=function(w,k,p,d,M){return y==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p+this.stride[3]*d,M):this.data[this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p+this.stride[3]*d]=M},g.get=function(w,k,p,d){return y==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p+this.stride[3]*d):this.data[this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p+this.stride[3]*d]},g.index=function(w,k,p,d){return this.offset+this.stride[0]*w+this.stride[1]*k+this.stride[2]*p+this.stride[3]*d},g.hi=function(w,k,p,d){return new _(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof k!="number"||k<0?this.shape[1]:k|0,typeof p!="number"||p<0?this.shape[2]:p|0,typeof d!="number"||d<0?this.shape[3]:d|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},g.lo=function(w,k,p,d){var M=this.offset,T=0,S=this.shape[0],E=this.shape[1],L=this.shape[2],D=this.shape[3],R=this.stride[0],q=this.stride[1],C=this.stride[2],F=this.stride[3];return typeof w=="number"&&w>=0&&(T=w|0,M+=R*T,S-=T),typeof k=="number"&&k>=0&&(T=k|0,M+=q*T,E-=T),typeof p=="number"&&p>=0&&(T=p|0,M+=C*T,L-=T),typeof d=="number"&&d>=0&&(T=d|0,M+=F*T,D-=T),new _(this.data,S,E,L,D,R,q,C,F,M)},g.step=function(w,k,p,d){var M=this.shape[0],T=this.shape[1],S=this.shape[2],E=this.shape[3],L=this.stride[0],D=this.stride[1],R=this.stride[2],q=this.stride[3],C=this.offset,F=0,N=Math.ceil;return typeof w=="number"&&(F=w|0,F<0?(C+=L*(M-1),M=N(-M/F)):M=N(M/F),L*=F),typeof k=="number"&&(F=k|0,F<0?(C+=D*(T-1),T=N(-T/F)):T=N(T/F),D*=F),typeof p=="number"&&(F=p|0,F<0?(C+=R*(S-1),S=N(-S/F)):S=N(S/F),R*=F),typeof d=="number"&&(F=d|0,F<0?(C+=q*(E-1),E=N(-E/F)):E=N(E/F),q*=F),new _(this.data,M,T,S,E,L,D,R,q,C)},g.transpose=function(w,k,p,d){w=w===void 0?0:w|0,k=k===void 0?1:k|0,p=p===void 0?2:p|0,d=d===void 0?3:d|0;var M=this.shape,T=this.stride;return new _(this.data,M[w],M[k],M[p],M[d],T[w],T[k],T[p],T[d],this.offset)},g.pick=function(w,k,p,d){var M=[],T=[],S=this.offset;typeof w=="number"&&w>=0?S=S+this.stride[0]*w|0:(M.push(this.shape[0]),T.push(this.stride[0])),typeof k=="number"&&k>=0?S=S+this.stride[1]*k|0:(M.push(this.shape[1]),T.push(this.stride[1])),typeof p=="number"&&p>=0?S=S+this.stride[2]*p|0:(M.push(this.shape[2]),T.push(this.stride[2])),typeof d=="number"&&d>=0?S=S+this.stride[3]*d|0:(M.push(this.shape[3]),T.push(this.stride[3]));var E=x[M.length+1];return E(this.data,M,T,S)},function(w,k,p,d){return new _(w,k[0],k[1],k[2],k[3],p[0],p[1],p[2],p[3],d)}},5:function(x,m,_){function g(w,k,p,d,M,T,S,E,L,D,R,q){this.data=w,this.shape=[k,p,d,M,T],this.stride=[S,E,L,D,R],this.offset=q|0}var A=g.prototype;return A.dtype=x,A.dimension=5,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(A,"order",{get:_}),A.set=function(k,p,d,M,T,S){return x==="generic"?this.data.set(this.offset+this.stride[0]*k+this.stride[1]*p+this.stride[2]*d+this.stride[3]*M+this.stride[4]*T,S):this.data[this.offset+this.stride[0]*k+this.stride[1]*p+this.stride[2]*d+this.stride[3]*M+this.stride[4]*T]=S},A.get=function(k,p,d,M,T){return x==="generic"?this.data.get(this.offset+this.stride[0]*k+this.stride[1]*p+this.stride[2]*d+this.stride[3]*M+this.stride[4]*T):this.data[this.offset+this.stride[0]*k+this.stride[1]*p+this.stride[2]*d+this.stride[3]*M+this.stride[4]*T]},A.index=function(k,p,d,M,T){return this.offset+this.stride[0]*k+this.stride[1]*p+this.stride[2]*d+this.stride[3]*M+this.stride[4]*T},A.hi=function(k,p,d,M,T){return new g(this.data,typeof k!="number"||k<0?this.shape[0]:k|0,typeof p!="number"||p<0?this.shape[1]:p|0,typeof d!="number"||d<0?this.shape[2]:d|0,typeof M!="number"||M<0?this.shape[3]:M|0,typeof T!="number"||T<0?this.shape[4]:T|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},A.lo=function(k,p,d,M,T){var S=this.offset,E=0,L=this.shape[0],D=this.shape[1],R=this.shape[2],q=this.shape[3],C=this.shape[4],F=this.stride[0],N=this.stride[1],U=this.stride[2],V=this.stride[3],Y=this.stride[4];return typeof k=="number"&&k>=0&&(E=k|0,S+=F*E,L-=E),typeof p=="number"&&p>=0&&(E=p|0,S+=N*E,D-=E),typeof d=="number"&&d>=0&&(E=d|0,S+=U*E,R-=E),typeof M=="number"&&M>=0&&(E=M|0,S+=V*E,q-=E),typeof T=="number"&&T>=0&&(E=T|0,S+=Y*E,C-=E),new g(this.data,L,D,R,q,C,F,N,U,V,Y,S)},A.step=function(k,p,d,M,T){var S=this.shape[0],E=this.shape[1],L=this.shape[2],D=this.shape[3],R=this.shape[4],q=this.stride[0],C=this.stride[1],F=this.stride[2],N=this.stride[3],U=this.stride[4],V=this.offset,Y=0,K=Math.ceil;return typeof k=="number"&&(Y=k|0,Y<0?(V+=q*(S-1),S=K(-S/Y)):S=K(S/Y),q*=Y),typeof p=="number"&&(Y=p|0,Y<0?(V+=C*(E-1),E=K(-E/Y)):E=K(E/Y),C*=Y),typeof d=="number"&&(Y=d|0,Y<0?(V+=F*(L-1),L=K(-L/Y)):L=K(L/Y),F*=Y),typeof M=="number"&&(Y=M|0,Y<0?(V+=N*(D-1),D=K(-D/Y)):D=K(D/Y),N*=Y),typeof T=="number"&&(Y=T|0,Y<0?(V+=U*(R-1),R=K(-R/Y)):R=K(R/Y),U*=Y),new g(this.data,S,E,L,D,R,q,C,F,N,U,V)},A.transpose=function(k,p,d,M,T){k=k===void 0?0:k|0,p=p===void 0?1:p|0,d=d===void 0?2:d|0,M=M===void 0?3:M|0,T=T===void 0?4:T|0;var S=this.shape,E=this.stride;return new g(this.data,S[k],S[p],S[d],S[M],S[T],E[k],E[p],E[d],E[M],E[T],this.offset)},A.pick=function(k,p,d,M,T){var S=[],E=[],L=this.offset;typeof k=="number"&&k>=0?L=L+this.stride[0]*k|0:(S.push(this.shape[0]),E.push(this.stride[0])),typeof p=="number"&&p>=0?L=L+this.stride[1]*p|0:(S.push(this.shape[1]),E.push(this.stride[1])),typeof d=="number"&&d>=0?L=L+this.stride[2]*d|0:(S.push(this.shape[2]),E.push(this.stride[2])),typeof M=="number"&&M>=0?L=L+this.stride[3]*M|0:(S.push(this.shape[3]),E.push(this.stride[3])),typeof T=="number"&&T>=0?L=L+this.stride[4]*T|0:(S.push(this.shape[4]),E.push(this.stride[4]));var D=m[S.length+1];return D(this.data,S,E,L)},function(k,p,d,M){return new g(k,p[0],p[1],p[2],p[3],p[4],d[0],d[1],d[2],d[3],d[4],M)}}};function c(y,x){var m=x===-1?"T":String(x),_=f[m];return x===-1?_(y):x===0?_(y,v[y][0]):_(y,v[y],u)}function h(y){if(o(y))return"buffer";if(s)switch(Object.prototype.toString.call(y)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(y)?"array":"generic"}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function b(y,x,m,_){if(y===void 0){var d=v.array[0];return d([])}else typeof y=="number"&&(y=[y]);x===void 0&&(x=[y.length]);var g=x.length;if(m===void 0){m=new Array(g);for(var A=g-1,w=1;A>=0;--A)m[A]=w,w*=x[A]}if(_===void 0){_=0;for(var A=0;A<g;++A)m[A]<0&&(_-=(x[A]-1)*m[A])}for(var k=h(y),p=v[k];p.length<=g+1;)p.push(c(k,p.length-1));var d=p[g+1];return d(y,x,m,_)}i.exports=b},{"is-buffer":237}],260:[function(n,i,a){"use strict";var o=n("double-bits"),s=Math.pow(2,-1074),l=-1>>>0;i.exports=u;function u(f,c){if(isNaN(f)||isNaN(c))return NaN;if(f===c)return f;if(f===0)return c<0?-s:s;var h=o.hi(f),v=o.lo(f);return c>f==f>0?v===l?(h+=1,v=0):v+=1:v===0?(v=l,h-=1):v-=1,o.pack(v,h)}},{"double-bits":64}],261:[function(n,i,a){var o=1e-6,s=1e-6;a.vertexNormals=function(l,u,f){for(var c=u.length,h=new Array(c),v=f===void 0?o:f,b=0;b<c;++b)h[b]=[0,0,0];for(var b=0;b<l.length;++b)for(var y=l[b],x=0,m=y[y.length-1],_=y[0],g=0;g<y.length;++g){x=m,m=_,_=y[(g+1)%y.length];for(var A=u[x],w=u[m],k=u[_],p=new Array(3),d=0,M=new Array(3),T=0,S=0;S<3;++S)p[S]=A[S]-w[S],d+=p[S]*p[S],M[S]=k[S]-w[S],T+=M[S]*M[S];if(d*T>v)for(var E=h[m],L=1/Math.sqrt(d*T),S=0;S<3;++S){var D=(S+1)%3,R=(S+2)%3;E[S]+=L*(M[D]*p[R]-M[R]*p[D])}}for(var b=0;b<c;++b){for(var E=h[b],q=0,S=0;S<3;++S)q+=E[S]*E[S];if(q>v)for(var L=1/Math.sqrt(q),S=0;S<3;++S)E[S]*=L;else for(var S=0;S<3;++S)E[S]=0}return h},a.faceNormals=function(l,u,f){for(var c=l.length,h=new Array(c),v=f===void 0?s:f,b=0;b<c;++b){for(var y=l[b],x=new Array(3),m=0;m<3;++m)x[m]=u[y[m]];for(var _=new Array(3),g=new Array(3),m=0;m<3;++m)_[m]=x[1][m]-x[0][m],g[m]=x[2][m]-x[0][m];for(var A=new Array(3),w=0,m=0;m<3;++m){var k=(m+1)%3,p=(m+2)%3;A[m]=_[k]*g[p]-_[p]*g[k],w+=A[m]*A[m]}w>v?w=1/Math.sqrt(w):w=0;for(var m=0;m<3;++m)A[m]*=w;h[b]=A}return h}},{}],262:[function(n,i,a){"use strict";i.exports=o;function o(s,l,u,f,c,h,v,b,y,x){var m=l+h+x;if(_>0){var _=Math.sqrt(m+1);s[0]=.5*(v-y)/_,s[1]=.5*(b-f)/_,s[2]=.5*(u-h)/_,s[3]=.5*_}else{var g=Math.max(l,h,x),_=Math.sqrt(2*g-m+1);l>=g?(s[0]=.5*_,s[1]=.5*(c+u)/_,s[2]=.5*(b+f)/_,s[3]=.5*(v-y)/_):h>=g?(s[0]=.5*(u+c)/_,s[1]=.5*_,s[2]=.5*(y+v)/_,s[3]=.5*(b-f)/_):(s[0]=.5*(f+b)/_,s[1]=.5*(v+y)/_,s[2]=.5*_,s[3]=.5*(u-c)/_)}return s}},{}],263:[function(n,i,a){"use strict";i.exports=x;var o=n("filtered-vector"),s=n("gl-mat4/lookAt"),l=n("gl-mat4/fromQuat"),u=n("gl-mat4/invert"),f=n("./lib/quatFromFrame");function c(m,_,g){return Math.sqrt(Math.pow(m,2)+Math.pow(_,2)+Math.pow(g,2))}function h(m,_,g,A){return Math.sqrt(Math.pow(m,2)+Math.pow(_,2)+Math.pow(g,2)+Math.pow(A,2))}function v(m,_){var g=_[0],A=_[1],w=_[2],k=_[3],p=h(g,A,w,k);p>1e-6?(m[0]=g/p,m[1]=A/p,m[2]=w/p,m[3]=k/p):(m[0]=m[1]=m[2]=0,m[3]=1)}function b(m,_,g){this.radius=o([g]),this.center=o(_),this.rotation=o(m),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var y=b.prototype;y.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},y.recalcMatrix=function(m){this.radius.curve(m),this.center.curve(m),this.rotation.curve(m);var _=this.computedRotation;v(_,_);var g=this.computedMatrix;l(g,_);var A=this.computedCenter,w=this.computedEye,k=this.computedUp,p=Math.exp(this.computedRadius[0]);w[0]=A[0]+p*g[2],w[1]=A[1]+p*g[6],w[2]=A[2]+p*g[10],k[0]=g[1],k[1]=g[5],k[2]=g[9];for(var d=0;d<3;++d){for(var M=0,T=0;T<3;++T)M+=g[d+4*T]*w[T];g[12+d]=-M}},y.getMatrix=function(m,_){this.recalcMatrix(m);var g=this.computedMatrix;if(_){for(var A=0;A<16;++A)_[A]=g[A];return _}return g},y.idle=function(m){this.center.idle(m),this.radius.idle(m),this.rotation.idle(m)},y.flush=function(m){this.center.flush(m),this.radius.flush(m),this.rotation.flush(m)},y.pan=function(m,_,g,A){_=_||0,g=g||0,A=A||0,this.recalcMatrix(m);var w=this.computedMatrix,k=w[1],p=w[5],d=w[9],M=c(k,p,d);k/=M,p/=M,d/=M;var T=w[0],S=w[4],E=w[8],L=T*k+S*p+E*d;T-=k*L,S-=p*L,E-=d*L;var D=c(T,S,E);T/=D,S/=D,E/=D;var R=w[2],q=w[6],C=w[10],F=R*k+q*p+C*d,N=R*T+q*S+C*E;R-=F*k+N*T,q-=F*p+N*S,C-=F*d+N*E;var U=c(R,q,C);R/=U,q/=U,C/=U;var V=T*_+k*g,Y=S*_+p*g,K=E*_+d*g;this.center.move(m,V,Y,K);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+A),this.radius.set(m,Math.log(B))},y.rotate=function(m,_,g,A){this.recalcMatrix(m),_=_||0,g=g||0;var w=this.computedMatrix,k=w[0],p=w[4],d=w[8],M=w[1],T=w[5],S=w[9],E=w[2],L=w[6],D=w[10],R=_*k+g*M,q=_*p+g*T,C=_*d+g*S,F=-(L*C-D*q),N=-(D*R-E*C),U=-(E*q-L*R),V=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(N,2)-Math.pow(U,2))),Y=h(F,N,U,V);Y>1e-6?(F/=Y,N/=Y,U/=Y,V/=Y):(F=N=U=0,V=1);var K=this.computedRotation,B=K[0],z=K[1],j=K[2],ae=K[3],ee=B*V+ae*F+z*U-j*N,ve=z*V+ae*N+j*F-B*U,fe=j*V+ae*U+B*N-z*F,se=ae*V-B*F-z*N-j*U;if(A){F=E,N=L,U=D;var G=Math.sin(A)/c(F,N,U);F*=G,N*=G,U*=G,V=Math.cos(_),ee=ee*V+se*F+ve*U-fe*N,ve=ve*V+se*N+fe*F-ee*U,fe=fe*V+se*U+ee*N-ve*F,se=se*V-ee*F-ve*N-fe*U}var Z=h(ee,ve,fe,se);Z>1e-6?(ee/=Z,ve/=Z,fe/=Z,se/=Z):(ee=ve=fe=0,se=1),this.rotation.set(m,ee,ve,fe,se)},y.lookAt=function(m,_,g,A){this.recalcMatrix(m),g=g||this.computedCenter,_=_||this.computedEye,A=A||this.computedUp;var w=this.computedMatrix;s(w,_,g,A);var k=this.computedRotation;f(k,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),v(k,k),this.rotation.set(m,k[0],k[1],k[2],k[3]);for(var p=0,d=0;d<3;++d)p+=Math.pow(g[d]-_[d],2);this.radius.set(m,.5*Math.log(Math.max(p,1e-6))),this.center.set(m,g[0],g[1],g[2])},y.translate=function(m,_,g,A){this.center.move(m,_||0,g||0,A||0)},y.setMatrix=function(m,_){var g=this.computedRotation;f(g,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),v(g,g),this.rotation.set(m,g[0],g[1],g[2],g[3]);var A=this.computedMatrix;u(A,_);var w=A[15];if(Math.abs(w)>1e-6){var k=A[12]/w,p=A[13]/w,d=A[14]/w;this.recalcMatrix(m);var M=Math.exp(this.computedRadius[0]);this.center.set(m,k-A[2]*M,p-A[6]*M,d-A[10]*M),this.radius.idle(m)}else this.center.idle(m),this.radius.idle(m)},y.setDistance=function(m,_){_>0&&this.radius.set(m,Math.log(_))},y.setDistanceLimits=function(m,_){m>0?m=Math.log(m):m=-1/0,_>0?_=Math.log(_):_=1/0,_=Math.max(_,m),this.radius.bounds[0][0]=m,this.radius.bounds[1][0]=_},y.getDistanceLimits=function(m){var _=this.radius.bounds;return m?(m[0]=Math.exp(_[0][0]),m[1]=Math.exp(_[1][0]),m):[Math.exp(_[0][0]),Math.exp(_[1][0])]},y.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},y.fromJSON=function(m){var _=this.lastT(),g=m.center;g&&this.center.set(_,g[0],g[1],g[2]);var A=m.rotation;A&&this.rotation.set(_,A[0],A[1],A[2],A[3]);var w=m.distance;w&&w>0&&this.radius.set(_,Math.log(w)),this.setDistanceLimits(m.zoomMin,m.zoomMax)};function x(m){m=m||{};var _=m.center||[0,0,0],g=m.rotation||[0,0,0,1],A=m.radius||1;_=[].slice.call(_,0,3),g=[].slice.call(g,0,4),v(g,g);var w=new b(g,_,Math.log(A));return w.setDistanceLimits(m.zoomMin,m.zoomMax),("eye"in m||"up"in m)&&w.lookAt(0,m.eye,m.center,m.up),w}},{"./lib/quatFromFrame":262,"filtered-vector":68,"gl-mat4/fromQuat":95,"gl-mat4/invert":98,"gl-mat4/lookAt":99}],264:[function(n,i,a){"use strict";var o=n("repeat-string");i.exports=function(l,u,f){return f=typeof f<"u"?f+"":" ",o(f,u)+l}},{"repeat-string":277}],265:[function(n,i,a){i.exports=function(s,l){l||(l=[0,""]),s=String(s);var u=parseFloat(s,10);return l[0]=u,l[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},{}],266:[function(n,i,a){"use strict";i.exports=s;var o=n("compare-angle");function s(l,u){for(var f=u.length|0,c=l.length,h=[new Array(f),new Array(f)],v=0;v<f;++v)h[0][v]=[],h[1][v]=[];for(var v=0;v<c;++v){var b=l[v];h[0][b[0]].push(b),h[1][b[1]].push(b)}for(var y=[],v=0;v<f;++v)h[0][v].length+h[1][v].length===0&&y.push([v]);function x(d,M){var T=h[M][d[M]];T.splice(T.indexOf(d),1)}function m(d,M,T){for(var S,E,L,D=0;D<2;++D)if(h[D][M].length>0){S=h[D][M][0],L=D;break}E=S[L^1];for(var R=0;R<2;++R)for(var q=h[R][M],C=0;C<q.length;++C){var F=q[C],N=F[R^1],U=o(u[d],u[M],u[E],u[N]);U>0&&(S=F,E=N,L=R)}return T||S&&x(S,L),E}function _(d,M){var T=h[M][d][0],S=[d];x(T,M);for(var E=T[M^1],L=M;;){for(;E!==d;)S.push(E),E=m(S[S.length-2],E,!1);if(h[0][d].length+h[1][d].length===0)break;var D=S[S.length-1],R=d,q=S[1],C=m(D,R,!0);if(o(u[D],u[R],u[q],u[C])<0)break;S.push(d),E=m(D,R)}return S}function g(d,M){return M[1]===M[M.length-1]}for(var v=0;v<f;++v)for(var A=0;A<2;++A){for(var w=[];h[A][v].length>0;){var k=h[0][v].length,p=_(v,A);g(w,p)?w.push.apply(w,p):(w.length>0&&y.push(w),w=p)}w.length>0&&y.push(w)}return y}},{"compare-angle":54}],267:[function(n,i,a){"use strict";i.exports=s;var o=n("edges-to-adjacency-list");function s(l,u){for(var f=o(l,u.length),c=new Array(u.length),h=new Array(u.length),v=[],b=0;b<u.length;++b){var y=f[b].length;h[b]=y,c[b]=!0,y<=1&&v.push(b)}for(;v.length>0;){var x=v.pop();c[x]=!1;for(var m=f[x],b=0;b<m.length;++b){var _=m[b];--h[_]===0&&v.push(_)}}for(var g=new Array(u.length),A=[],b=0;b<u.length;++b)if(c[b]){var x=A.length;g[b]=x,A.push(u[b])}else g[b]=-1;for(var w=[],b=0;b<l.length;++b){var k=l[b];c[k[0]]&&c[k[1]]&&w.push([g[k[0]],g[k[1]]])}return[w,A]}},{"edges-to-adjacency-list":66}],268:[function(n,i,a){"use strict";i.exports=y;var o=n("edges-to-adjacency-list"),s=n("planar-dual"),l=n("point-in-big-polygon"),u=n("two-product"),f=n("robust-sum"),c=n("uniq"),h=n("./lib/trim-leaves");function v(x,m){for(var _=new Array(x),g=0;g<x;++g)_[g]=m;return _}function b(x){for(var m=new Array(x),_=0;_<x;++_)m[_]=[];return m}function y(x,m){var G=h(x,m);x=G[0],m=G[1];for(var _=m.length,g=x.length,A=o(x,m.length),w=0;w<_;++w)if(A[w].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var k=s(x,m);function p(de){for(var _e=de.length,ce=[0],J=0;J<_e;++J){var ne=m[de[J]],be=m[de[(J+1)%_e]],Fe=u(-ne[0],ne[1]),He=u(-ne[0],be[1]),te=u(be[0],ne[1]),ye=u(be[0],be[1]);ce=f(ce,f(f(Fe,He),f(te,ye)))}return ce[ce.length-1]>0}k=k.filter(p);for(var d=k.length,M=new Array(d),T=new Array(d),w=0;w<d;++w){M[w]=w;var S=new Array(d),E=k[w].map(function(_e){return m[_e]}),L=l([E]),D=0;e:for(var R=0;R<d;++R)if(S[R]=0,w!==R){for(var q=k[R],C=q.length,F=0;F<C;++F){var N=L(m[q[F]]);if(N!==0){N<0&&(S[R]=1,D+=1);continue e}}S[R]=1,D+=1}T[w]=[D,w,S]}T.sort(function(de,_e){return _e[0]-de[0]});for(var w=0;w<d;++w)for(var S=T[w],U=S[1],V=S[2],R=0;R<d;++R)V[R]&&(M[R]=U);for(var Y=b(d),w=0;w<d;++w)Y[w].push(M[w]),Y[M[w]].push(w);for(var K={},B=v(_,!1),w=0;w<d;++w)for(var q=k[w],C=q.length,R=0;R<C;++R){var z=q[R],j=q[(R+1)%C],ae=Math.min(z,j)+":"+Math.max(z,j);if(ae in K){var ee=K[ae];Y[ee].push(w),Y[w].push(ee),B[z]=B[j]=!0}else K[ae]=w}function ve(de){for(var _e=de.length,ce=0;ce<_e;++ce)if(!B[de[ce]])return!1;return!0}for(var fe=[],se=v(d,-1),w=0;w<d;++w)M[w]===w&&!ve(k[w])?(fe.push(w),se[w]=0):se[w]=-1;for(var G=[];fe.length>0;){var Z=fe.pop(),X=Y[Z];c(X,function(de,_e){return de-_e});var ge=X.length,qe=se[Z],Pe;if(qe===0){var q=k[Z];Pe=[q]}for(var w=0;w<ge;++w){var Oe=X[w];if(!(se[Oe]>=0)&&(se[Oe]=qe^1,fe.push(Oe),qe===0)){var q=k[Oe];ve(q)||(q.reverse(),Pe.push(q))}}qe===0&&G.push(Pe)}return G}},{"./lib/trim-leaves":267,"edges-to-adjacency-list":66,"planar-dual":266,"point-in-big-polygon":269,"robust-sum":289,"two-product":306,uniq:310}],269:[function(n,i,a){i.exports=m;var o=n("robust-orientation")[3],s=n("slab-decomposition"),l=n("interval-tree-1d"),u=n("binary-search-bounds");function f(){return!0}function c(_){return function(g,A){var w=_[g];return w?!!w.queryPoint(A,f):!1}}function h(_){for(var g={},A=0;A<_.length;++A){var w=_[A],k=w[0][0],p=w[0][1],d=w[1][1],M=[Math.min(p,d),Math.max(p,d)];k in g?g[k].push(M):g[k]=[M]}for(var T={},S=Object.keys(g),A=0;A<S.length;++A){var E=g[S[A]];T[S[A]]=l(E)}return c(T)}function v(_,g){return function(A){var w=u.le(g,A[0]);if(w<0)return 1;var k=_[w];if(!k)if(w>0&&g[w]===A[0])k=_[w-1];else return 1;for(var p=1;k;){var d=k.key,M=o(A,d[0],d[1]);if(d[0][0]<d[1][0])if(M<0)k=k.left;else if(M>0)p=-1,k=k.right;else return 0;else if(M>0)k=k.left;else if(M<0)p=1,k=k.right;else return 0}return p}}function b(_){return 1}function y(_){return function(A){return _(A[0],A[1])?0:1}}function x(_,g){return function(w){return _(w[0],w[1])?0:g(w)}}function m(_){for(var g=_.length,A=[],w=[],k=0,p=0;p<g;++p)for(var d=_[p],M=d.length,T=M-1,S=0;S<M;T=S++){var E=d[T],L=d[S];E[0]===L[0]?w.push([E,L]):A.push([E,L])}if(A.length===0)return w.length===0?b:y(h(w));var D=s(A),R=v(D.slabs,D.coordinates);return w.length===0?R:x(h(w),R)}},{"binary-search-bounds":31,"interval-tree-1d":234,"robust-orientation":284,"slab-decomposition":299}],270:[function(n,i,a){"use strict";var o=new Float64Array(4),s=new Float64Array(4),l=new Float64Array(4);function u(f,c,h,v,b){o.length<v.length&&(o=new Float64Array(v.length),s=new Float64Array(v.length),l=new Float64Array(v.length));for(var y=0;y<v.length;++y)o[y]=f[y]-v[y],s[y]=c[y]-f[y],l[y]=h[y]-f[y];for(var x=0,m=0,_=0,g=0,A=0,w=0,y=0;y<v.length;++y){var k=s[y],p=l[y],d=o[y];x+=k*k,m+=k*p,_+=p*p,g+=d*k,A+=d*p,w+=d*d}var M=Math.abs(x*_-m*m),T=m*A-_*g,S=m*g-x*A,E;if(T+S<=M)if(T<0)S<0&&g<0?(S=0,-g>=x?(T=1,E=x+2*g+w):(T=-g/x,E=g*T+w)):(T=0,A>=0?(S=0,E=w):-A>=_?(S=1,E=_+2*A+w):(S=-A/_,E=A*S+w));else if(S<0)S=0,g>=0?(T=0,E=w):-g>=x?(T=1,E=x+2*g+w):(T=-g/x,E=g*T+w);else{var L=1/M;T*=L,S*=L,E=T*(x*T+m*S+2*g)+S*(m*T+_*S+2*A)+w}else{var D,R,q,C;T<0?(D=m+g,R=_+A,R>D?(q=R-D,C=x-2*m+_,q>=C?(T=1,S=0,E=x+2*g+w):(T=q/C,S=1-T,E=T*(x*T+m*S+2*g)+S*(m*T+_*S+2*A)+w)):(T=0,R<=0?(S=1,E=_+2*A+w):A>=0?(S=0,E=w):(S=-A/_,E=A*S+w))):S<0?(D=m+A,R=x+g,R>D?(q=R-D,C=x-2*m+_,q>=C?(S=1,T=0,E=_+2*A+w):(S=q/C,T=1-S,E=T*(x*T+m*S+2*g)+S*(m*T+_*S+2*A)+w)):(S=0,R<=0?(T=1,E=x+2*g+w):g>=0?(T=0,E=w):(T=-g/x,E=g*T+w))):(q=_+A-m-g,q<=0?(T=0,S=1,E=_+2*A+w):(C=x-2*m+_,q>=C?(T=1,S=0,E=x+2*g+w):(T=q/C,S=1-T,E=T*(x*T+m*S+2*g)+S*(m*T+_*S+2*A)+w)))}for(var F=1-T-S,y=0;y<v.length;++y)b[y]=F*f[y]+T*c[y]+S*h[y];return E<0?0:E}i.exports=u},{}],271:[function(n,i,a){i.exports=n("gl-quat/slerp")},{"gl-quat/slerp":124}],272:[function(n,i,a){"use strict";var o=n("big-rat/add");i.exports=s;function s(l,u){for(var f=l.length,c=new Array(f),h=0;h<f;++h)c[h]=o(l[h],u[h]);return c}},{"big-rat/add":15}],273:[function(n,i,a){"use strict";i.exports=s;var o=n("big-rat");function s(l){for(var u=new Array(l.length),f=0;f<l.length;++f)u[f]=o(l[f]);return u}},{"big-rat":18}],274:[function(n,i,a){"use strict";var o=n("big-rat"),s=n("big-rat/mul");i.exports=l;function l(u,f){for(var c=o(f),h=u.length,v=new Array(h),b=0;b<h;++b)v[b]=s(u[b],c);return v}},{"big-rat":18,"big-rat/mul":27}],275:[function(n,i,a){"use strict";var o=n("big-rat/sub");i.exports=s;function s(l,u){for(var f=l.length,c=new Array(f),h=0;h<f;++h)c[h]=o(l[h],u[h]);return c}},{"big-rat/sub":29}],276:[function(n,i,a){"use strict";var o=n("compare-cell"),s=n("compare-oriented-cell"),l=n("cell-orientation");i.exports=u;function u(f){f.sort(s);for(var c=f.length,h=0,v=0;v<c;++v){var b=f[v],y=l(b);if(y!==0){if(h>0){var x=f[h-1];if(o(b,x)===0&&l(x)!==y){h-=1;continue}}f[h++]=b}}return f.length=h,f}},{"cell-orientation":47,"compare-cell":56,"compare-oriented-cell":57}],277:[function(n,i,a){"use strict";var o="",s;i.exports=l;function l(u,f){if(typeof u!="string")throw new TypeError("expected a string");if(f===1)return u;if(f===2)return u+u;var c=u.length*f;if(s!==u||typeof s>"u")s=u,o="";else if(o.length>=c)return o.substr(0,c);for(;c>o.length&&f>1;)f&1&&(o+=u),f>>=1,u+=u;return o+=u,o=o.substr(0,c),o}},{}],278:[function(n,i,a){(function(o){(function(){i.exports=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],279:[function(n,i,a){"use strict";i.exports=o;function o(s){for(var l=s.length,u=s[s.length-1],f=l,c=l-2;c>=0;--c){var h=u,v=s[c];u=h+v;var b=u-h,y=v-b;y&&(s[--f]=u,u=y)}for(var x=0,c=f;c<l;++c){var h=s[c],v=u;u=h+v;var b=u-h,y=v-b;y&&(s[x++]=y)}return s[x++]=u,s.length=x,s}},{}],280:[function(n,i,a){"use strict";var o=n("two-product"),s=n("robust-sum"),l=n("robust-scale"),u=n("robust-compress"),f=6;function c(g,A,w,k){return function(d){return k(g(w(d[0][0],d[1][1]),w(-d[0][1],d[1][0])))}}function h(g,A,w,k){return function(d){return k(g(A(g(w(d[1][1],d[2][2]),w(-d[1][2],d[2][1])),d[0][0]),g(A(g(w(d[1][0],d[2][2]),w(-d[1][2],d[2][0])),-d[0][1]),A(g(w(d[1][0],d[2][1]),w(-d[1][1],d[2][0])),d[0][2]))))}}function v(g,A,w,k){return function(d){return k(g(g(A(g(A(g(w(d[2][2],d[3][3]),w(-d[2][3],d[3][2])),d[1][1]),g(A(g(w(d[2][1],d[3][3]),w(-d[2][3],d[3][1])),-d[1][2]),A(g(w(d[2][1],d[3][2]),w(-d[2][2],d[3][1])),d[1][3]))),d[0][0]),A(g(A(g(w(d[2][2],d[3][3]),w(-d[2][3],d[3][2])),d[1][0]),g(A(g(w(d[2][0],d[3][3]),w(-d[2][3],d[3][0])),-d[1][2]),A(g(w(d[2][0],d[3][2]),w(-d[2][2],d[3][0])),d[1][3]))),-d[0][1])),g(A(g(A(g(w(d[2][1],d[3][3]),w(-d[2][3],d[3][1])),d[1][0]),g(A(g(w(d[2][0],d[3][3]),w(-d[2][3],d[3][0])),-d[1][1]),A(g(w(d[2][0],d[3][1]),w(-d[2][1],d[3][0])),d[1][3]))),d[0][2]),A(g(A(g(w(d[2][1],d[3][2]),w(-d[2][2],d[3][1])),d[1][0]),g(A(g(w(d[2][0],d[3][2]),w(-d[2][2],d[3][0])),-d[1][1]),A(g(w(d[2][0],d[3][1]),w(-d[2][1],d[3][0])),d[1][2]))),-d[0][3]))))}}function b(g,A,w,k){return function(d){return k(g(g(A(g(g(A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][2]),g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),-d[2][3]),A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][4]))),d[1][1]),A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][1]),g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),-d[2][3]),A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),d[2][4]))),-d[1][2])),g(A(g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),d[2][1]),g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),-d[2][2]),A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][4]))),d[1][3]),A(g(A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][1]),g(A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),-d[2][2]),A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][3]))),-d[1][4]))),d[0][0]),A(g(g(A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][2]),g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),-d[2][3]),A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][4]))),d[1][0]),A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][3]),A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),d[2][4]))),-d[1][2])),g(A(g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][2]),A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),d[2][4]))),d[1][3]),A(g(A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][0]),g(A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),-d[2][2]),A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),d[2][3]))),-d[1][4]))),-d[0][1])),g(A(g(g(A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][1]),g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),-d[2][3]),A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),d[2][4]))),d[1][0]),A(g(A(g(w(d[3][3],d[4][4]),w(-d[3][4],d[4][3])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][3]),A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),d[2][4]))),-d[1][1])),g(A(g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][4]))),d[1][3]),A(g(A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][3]))),-d[1][4]))),d[0][2]),g(A(g(g(A(g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),d[2][1]),g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),-d[2][2]),A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][4]))),d[1][0]),A(g(A(g(w(d[3][2],d[4][4]),w(-d[3][4],d[4][2])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][2]),A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),d[2][4]))),-d[1][1])),g(A(g(A(g(w(d[3][1],d[4][4]),w(-d[3][4],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][4]),w(-d[3][4],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][4]))),d[1][2]),A(g(A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][2]))),-d[1][4]))),-d[0][3]),A(g(g(A(g(A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][1]),g(A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),-d[2][2]),A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][3]))),d[1][0]),A(g(A(g(w(d[3][2],d[4][3]),w(-d[3][3],d[4][2])),d[2][0]),g(A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),-d[2][2]),A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),d[2][3]))),-d[1][1])),g(A(g(A(g(w(d[3][1],d[4][3]),w(-d[3][3],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][3]),w(-d[3][3],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][3]))),d[1][2]),A(g(A(g(w(d[3][1],d[4][2]),w(-d[3][2],d[4][1])),d[2][0]),g(A(g(w(d[3][0],d[4][2]),w(-d[3][2],d[4][0])),-d[2][1]),A(g(w(d[3][0],d[4][1]),w(-d[3][1],d[4][0])),d[2][2]))),-d[1][3]))),d[0][4])))))}}function y(g){var A=g===2?c:g===3?h:g===4?v:g===5?b:void 0;return A(s,l,o,u)}var x=[function(){return[0]},function(A){return[A[0][0]]}];function m(g,A,w,k,p,d,M,T){return function(E){switch(E.length){case 0:return g(E);case 1:return A(E);case 2:return w(E);case 3:return k(E);case 4:return p(E);case 5:return d(E)}var L=M[E.length];return L||(L=M[E.length]=T(E.length)),L(E)}}function _(){for(;x.length<f;)x.push(y(x.length));i.exports=m.apply(void 0,x.concat([x,y]));for(var g=0;g<x.length;++g)i.exports[g]=x[g]}_()},{"robust-compress":279,"robust-scale":286,"robust-sum":289,"two-product":306}],281:[function(n,i,a){"use strict";var o=n("two-product"),s=n("robust-sum");i.exports=l;function l(u,f){for(var c=o(u[0],f[0]),h=1;h<u.length;++h)c=s(c,o(u[h],f[h]));return c}},{"robust-sum":289,"two-product":306}],282:[function(n,i,a){"use strict";var o=n("two-product"),s=n("robust-sum"),l=n("robust-subtract"),u=n("robust-scale"),f=6;function c(p){var d=p===3?y:p===4?x:p===5?m:_;return d(s,l,o,u)}function h(){return 0}function v(){return 0}function b(){return 0}function y(p,d,M,T){function S(E,L,D){var R=M(E[0],E[0]),q=T(R,L[0]),C=T(R,D[0]),F=M(L[0],L[0]),N=T(F,E[0]),U=T(F,D[0]),V=M(D[0],D[0]),Y=T(V,E[0]),K=T(V,L[0]),B=p(d(K,U),d(N,q)),z=d(Y,C),j=d(B,z);return j[j.length-1]}return S}function x(p,d,M,T){function S(E,L,D,R){var q=p(M(E[0],E[0]),M(E[1],E[1])),C=T(q,L[0]),F=T(q,D[0]),N=T(q,R[0]),U=p(M(L[0],L[0]),M(L[1],L[1])),V=T(U,E[0]),Y=T(U,D[0]),K=T(U,R[0]),B=p(M(D[0],D[0]),M(D[1],D[1])),z=T(B,E[0]),j=T(B,L[0]),ae=T(B,R[0]),ee=p(M(R[0],R[0]),M(R[1],R[1])),ve=T(ee,E[0]),fe=T(ee,L[0]),se=T(ee,D[0]),G=p(p(T(d(se,ae),L[1]),p(T(d(fe,K),-D[1]),T(d(j,Y),R[1]))),p(T(d(fe,K),E[1]),p(T(d(ve,N),-L[1]),T(d(V,C),R[1])))),Z=p(p(T(d(se,ae),E[1]),p(T(d(ve,N),-D[1]),T(d(z,F),R[1]))),p(T(d(j,Y),E[1]),p(T(d(z,F),-L[1]),T(d(V,C),D[1])))),X=d(G,Z);return X[X.length-1]}return S}function m(p,d,M,T){function S(E,L,D,R,q){var C=p(M(E[0],E[0]),p(M(E[1],E[1]),M(E[2],E[2]))),F=T(C,L[0]),N=T(C,D[0]),U=T(C,R[0]),V=T(C,q[0]),Y=p(M(L[0],L[0]),p(M(L[1],L[1]),M(L[2],L[2]))),K=T(Y,E[0]),B=T(Y,D[0]),z=T(Y,R[0]),j=T(Y,q[0]),ae=p(M(D[0],D[0]),p(M(D[1],D[1]),M(D[2],D[2]))),ee=T(ae,E[0]),ve=T(ae,L[0]),fe=T(ae,R[0]),se=T(ae,q[0]),G=p(M(R[0],R[0]),p(M(R[1],R[1]),M(R[2],R[2]))),Z=T(G,E[0]),X=T(G,L[0]),ge=T(G,D[0]),qe=T(G,q[0]),Pe=p(M(q[0],q[0]),p(M(q[1],q[1]),M(q[2],q[2]))),Oe=T(Pe,E[0]),de=T(Pe,L[0]),_e=T(Pe,D[0]),ce=T(Pe,R[0]),J=p(p(p(T(p(T(d(ce,qe),D[1]),p(T(d(_e,se),-R[1]),T(d(ge,fe),q[1]))),L[2]),p(T(p(T(d(ce,qe),L[1]),p(T(d(de,j),-R[1]),T(d(X,z),q[1]))),-D[2]),T(p(T(d(_e,se),L[1]),p(T(d(de,j),-D[1]),T(d(ve,B),q[1]))),R[2]))),p(T(p(T(d(ge,fe),L[1]),p(T(d(X,z),-D[1]),T(d(ve,B),R[1]))),-q[2]),p(T(p(T(d(ce,qe),L[1]),p(T(d(de,j),-R[1]),T(d(X,z),q[1]))),E[2]),T(p(T(d(ce,qe),E[1]),p(T(d(Oe,V),-R[1]),T(d(Z,U),q[1]))),-L[2])))),p(p(T(p(T(d(de,j),E[1]),p(T(d(Oe,V),-L[1]),T(d(K,F),q[1]))),R[2]),p(T(p(T(d(X,z),E[1]),p(T(d(Z,U),-L[1]),T(d(K,F),R[1]))),-q[2]),T(p(T(d(ge,fe),L[1]),p(T(d(X,z),-D[1]),T(d(ve,B),R[1]))),E[2]))),p(T(p(T(d(ge,fe),E[1]),p(T(d(Z,U),-D[1]),T(d(ee,N),R[1]))),-L[2]),p(T(p(T(d(X,z),E[1]),p(T(d(Z,U),-L[1]),T(d(K,F),R[1]))),D[2]),T(p(T(d(ve,B),E[1]),p(T(d(ee,N),-L[1]),T(d(K,F),D[1]))),-R[2]))))),ne=p(p(p(T(p(T(d(ce,qe),D[1]),p(T(d(_e,se),-R[1]),T(d(ge,fe),q[1]))),E[2]),T(p(T(d(ce,qe),E[1]),p(T(d(Oe,V),-R[1]),T(d(Z,U),q[1]))),-D[2])),p(T(p(T(d(_e,se),E[1]),p(T(d(Oe,V),-D[1]),T(d(ee,N),q[1]))),R[2]),T(p(T(d(ge,fe),E[1]),p(T(d(Z,U),-D[1]),T(d(ee,N),R[1]))),-q[2]))),p(p(T(p(T(d(_e,se),L[1]),p(T(d(de,j),-D[1]),T(d(ve,B),q[1]))),E[2]),T(p(T(d(_e,se),E[1]),p(T(d(Oe,V),-D[1]),T(d(ee,N),q[1]))),-L[2])),p(T(p(T(d(de,j),E[1]),p(T(d(Oe,V),-L[1]),T(d(K,F),q[1]))),D[2]),T(p(T(d(ve,B),E[1]),p(T(d(ee,N),-L[1]),T(d(K,F),D[1]))),-q[2])))),be=d(J,ne);return be[be.length-1]}return S}function _(p,d,M,T){function S(E,L,D,R,q,C){var F=p(p(M(E[0],E[0]),M(E[1],E[1])),p(M(E[2],E[2]),M(E[3],E[3]))),N=T(F,L[0]),U=T(F,D[0]),V=T(F,R[0]),Y=T(F,q[0]),K=T(F,C[0]),B=p(p(M(L[0],L[0]),M(L[1],L[1])),p(M(L[2],L[2]),M(L[3],L[3]))),z=T(B,E[0]),j=T(B,D[0]),ae=T(B,R[0]),ee=T(B,q[0]),ve=T(B,C[0]),fe=p(p(M(D[0],D[0]),M(D[1],D[1])),p(M(D[2],D[2]),M(D[3],D[3]))),se=T(fe,E[0]),G=T(fe,L[0]),Z=T(fe,R[0]),X=T(fe,q[0]),ge=T(fe,C[0]),qe=p(p(M(R[0],R[0]),M(R[1],R[1])),p(M(R[2],R[2]),M(R[3],R[3]))),Pe=T(qe,E[0]),Oe=T(qe,L[0]),de=T(qe,D[0]),_e=T(qe,q[0]),ce=T(qe,C[0]),J=p(p(M(q[0],q[0]),M(q[1],q[1])),p(M(q[2],q[2]),M(q[3],q[3]))),ne=T(J,E[0]),be=T(J,L[0]),Fe=T(J,D[0]),He=T(J,R[0]),te=T(J,C[0]),ye=p(p(M(C[0],C[0]),M(C[1],C[1])),p(M(C[2],C[2]),M(C[3],C[3]))),Te=T(ye,E[0]),Ce=T(ye,L[0]),De=T(ye,D[0]),oe=T(ye,R[0]),pe=T(ye,q[0]),Le=p(p(p(T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),D[2]),T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),-R[2])),p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),q[2]),T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),-C[2]))),L[3]),p(T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),L[2]),T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),-R[2])),p(T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),q[2]),T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),-C[2]))),-D[3]),T(p(p(T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),L[2]),T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),-D[2])),p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),q[2]),T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),-C[2]))),R[3]))),p(p(T(p(p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),L[2]),T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),-D[2])),p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),R[2]),T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),-C[2]))),-q[3]),T(p(p(T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),L[2]),T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),-D[2])),p(T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),R[2]),T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),-q[2]))),C[3])),p(T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),L[2]),T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),-R[2])),p(T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),q[2]),T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),-C[2]))),E[3]),T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-R[2])),p(T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),q[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-C[2]))),-L[3])))),p(p(p(T(p(p(T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),q[2]),T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),-C[2]))),R[3]),T(p(p(T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),E[2]),T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),R[2]),T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),-C[2]))),-q[3])),p(T(p(p(T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),E[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-L[2])),p(T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),R[2]),T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),-q[2]))),C[3]),T(p(p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),L[2]),T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),-D[2])),p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),R[2]),T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),-C[2]))),E[3]))),p(p(T(p(p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),E[2]),T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),-D[2])),p(T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),R[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-C[2]))),-L[3]),T(p(p(T(p(T(d(oe,ce),L[1]),p(T(d(Ce,ve),-R[1]),T(d(Oe,ae),C[1]))),E[2]),T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),R[2]),T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),-C[2]))),D[3])),p(T(p(p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),E[2]),T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-C[2]))),-R[3]),T(p(p(T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),E[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-L[2])),p(T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-R[2]))),C[3]))))),Ue=p(p(p(T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),D[2]),T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),-R[2])),p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),q[2]),T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),-C[2]))),E[3]),p(T(p(p(T(p(T(d(pe,te),R[1]),p(T(d(oe,ce),-q[1]),T(d(He,_e),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-R[2])),p(T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),q[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-C[2]))),-D[3]),T(p(p(T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-D[2])),p(T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),q[2]),T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),-C[2]))),R[3]))),p(p(T(p(p(T(p(T(d(oe,ce),D[1]),p(T(d(De,ge),-R[1]),T(d(de,Z),C[1]))),E[2]),T(p(T(d(oe,ce),E[1]),p(T(d(Te,K),-R[1]),T(d(Pe,V),C[1]))),-D[2])),p(T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),R[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-C[2]))),-q[3]),T(p(p(T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),E[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-D[2])),p(T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),R[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-q[2]))),C[3])),p(T(p(p(T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),L[2]),T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),-D[2])),p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),q[2]),T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),-C[2]))),E[3]),T(p(p(T(p(T(d(pe,te),D[1]),p(T(d(De,ge),-q[1]),T(d(Fe,X),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-D[2])),p(T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),q[2]),T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),-C[2]))),-L[3])))),p(p(p(T(p(p(T(p(T(d(pe,te),L[1]),p(T(d(Ce,ve),-q[1]),T(d(be,ee),C[1]))),E[2]),T(p(T(d(pe,te),E[1]),p(T(d(Te,K),-q[1]),T(d(ne,Y),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),q[2]),T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),-C[2]))),D[3]),T(p(p(T(p(T(d(De,ge),L[1]),p(T(d(Ce,ve),-D[1]),T(d(G,j),C[1]))),E[2]),T(p(T(d(De,ge),E[1]),p(T(d(Te,K),-D[1]),T(d(se,U),C[1]))),-L[2])),p(T(p(T(d(Ce,ve),E[1]),p(T(d(Te,K),-L[1]),T(d(z,N),C[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-C[2]))),-q[3])),p(T(p(p(T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),E[2]),T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),-L[2])),p(T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-q[2]))),C[3]),T(p(p(T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),L[2]),T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),-D[2])),p(T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),R[2]),T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),-q[2]))),E[3]))),p(p(T(p(p(T(p(T(d(He,_e),D[1]),p(T(d(Fe,X),-R[1]),T(d(de,Z),q[1]))),E[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-D[2])),p(T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),R[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-q[2]))),-L[3]),T(p(p(T(p(T(d(He,_e),L[1]),p(T(d(be,ee),-R[1]),T(d(Oe,ae),q[1]))),E[2]),T(p(T(d(He,_e),E[1]),p(T(d(ne,Y),-R[1]),T(d(Pe,V),q[1]))),-L[2])),p(T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),R[2]),T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),-q[2]))),D[3])),p(T(p(p(T(p(T(d(Fe,X),L[1]),p(T(d(be,ee),-D[1]),T(d(G,j),q[1]))),E[2]),T(p(T(d(Fe,X),E[1]),p(T(d(ne,Y),-D[1]),T(d(se,U),q[1]))),-L[2])),p(T(p(T(d(be,ee),E[1]),p(T(d(ne,Y),-L[1]),T(d(z,N),q[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-q[2]))),-R[3]),T(p(p(T(p(T(d(de,Z),L[1]),p(T(d(Oe,ae),-D[1]),T(d(G,j),R[1]))),E[2]),T(p(T(d(de,Z),E[1]),p(T(d(Pe,V),-D[1]),T(d(se,U),R[1]))),-L[2])),p(T(p(T(d(Oe,ae),E[1]),p(T(d(Pe,V),-L[1]),T(d(z,N),R[1]))),D[2]),T(p(T(d(G,j),E[1]),p(T(d(se,U),-L[1]),T(d(z,N),D[1]))),-R[2]))),q[3]))))),et=d(Le,Ue);return et[et.length-1]}return S}var g=[h,v,b];function A(p){var d=g[p.length];return d||(d=g[p.length]=c(p.length)),d.apply(void 0,p)}function w(p,d,M,T,S,E,L,D){function R(q,C,F,N,U,V){switch(arguments.length){case 0:case 1:return 0;case 2:return T(q,C);case 3:return S(q,C,F);case 4:return E(q,C,F,N);case 5:return L(q,C,F,N,U);case 6:return D(q,C,F,N,U,V)}for(var Y=new Array(arguments.length),K=0;K<arguments.length;++K)Y[K]=arguments[K];return p(Y)}return R}function k(){for(;g.length<=f;)g.push(c(g.length));i.exports=w.apply(void 0,[A].concat(g));for(var p=0;p<=f;++p)i.exports[p]=g[p]}k()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],283:[function(n,i,a){"use strict";var o=n("robust-determinant"),s=6;function l(g){var A=g===2?c:g===3?h:g===4?v:g===5?b:y;return g<6?A(o[g]):A(o)}function u(){return[[0]]}function f(g,A){return[[A[0]],[g[0][0]]]}function c(g){return function(w,k){return[g([[+k[0],+w[0][1]],[+k[1],+w[1][1]]]),g([[+w[0][0],+k[0]],[+w[1][0],+k[1]]]),g(w)]}}function h(g){return function(w,k){return[g([[+k[0],+w[0][1],+w[0][2]],[+k[1],+w[1][1],+w[1][2]],[+k[2],+w[2][1],+w[2][2]]]),g([[+w[0][0],+k[0],+w[0][2]],[+w[1][0],+k[1],+w[1][2]],[+w[2][0],+k[2],+w[2][2]]]),g([[+w[0][0],+w[0][1],+k[0]],[+w[1][0],+w[1][1],+k[1]],[+w[2][0],+w[2][1],+k[2]]]),g(w)]}}function v(g){return function(w,k){return[g([[+k[0],+w[0][1],+w[0][2],+w[0][3]],[+k[1],+w[1][1],+w[1][2],+w[1][3]],[+k[2],+w[2][1],+w[2][2],+w[2][3]],[+k[3],+w[3][1],+w[3][2],+w[3][3]]]),g([[+w[0][0],+k[0],+w[0][2],+w[0][3]],[+w[1][0],+k[1],+w[1][2],+w[1][3]],[+w[2][0],+k[2],+w[2][2],+w[2][3]],[+w[3][0],+k[3],+w[3][2],+w[3][3]]]),g([[+w[0][0],+w[0][1],+k[0],+w[0][3]],[+w[1][0],+w[1][1],+k[1],+w[1][3]],[+w[2][0],+w[2][1],+k[2],+w[2][3]],[+w[3][0],+w[3][1],+k[3],+w[3][3]]]),g([[+w[0][0],+w[0][1],+w[0][2],+k[0]],[+w[1][0],+w[1][1],+w[1][2],+k[1]],[+w[2][0],+w[2][1],+w[2][2],+k[2]],[+w[3][0],+w[3][1],+w[3][2],+k[3]]]),g(w)]}}function b(g){return function(w,k){return[g([[+k[0],+w[0][1],+w[0][2],+w[0][3],+w[0][4]],[+k[1],+w[1][1],+w[1][2],+w[1][3],+w[1][4]],[+k[2],+w[2][1],+w[2][2],+w[2][3],+w[2][4]],[+k[3],+w[3][1],+w[3][2],+w[3][3],+w[3][4]],[+k[4],+w[4][1],+w[4][2],+w[4][3],+w[4][4]]]),g([[+w[0][0],+k[0],+w[0][2],+w[0][3],+w[0][4]],[+w[1][0],+k[1],+w[1][2],+w[1][3],+w[1][4]],[+w[2][0],+k[2],+w[2][2],+w[2][3],+w[2][4]],[+w[3][0],+k[3],+w[3][2],+w[3][3],+w[3][4]],[+w[4][0],+k[4],+w[4][2],+w[4][3],+w[4][4]]]),g([[+w[0][0],+w[0][1],+k[0],+w[0][3],+w[0][4]],[+w[1][0],+w[1][1],+k[1],+w[1][3],+w[1][4]],[+w[2][0],+w[2][1],+k[2],+w[2][3],+w[2][4]],[+w[3][0],+w[3][1],+k[3],+w[3][3],+w[3][4]],[+w[4][0],+w[4][1],+k[4],+w[4][3],+w[4][4]]]),g([[+w[0][0],+w[0][1],+w[0][2],+k[0],+w[0][4]],[+w[1][0],+w[1][1],+w[1][2],+k[1],+w[1][4]],[+w[2][0],+w[2][1],+w[2][2],+k[2],+w[2][4]],[+w[3][0],+w[3][1],+w[3][2],+k[3],+w[3][4]],[+w[4][0],+w[4][1],+w[4][2],+k[4],+w[4][4]]]),g([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+k[0]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+k[1]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+k[2]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+k[3]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+k[4]]]),g(w)]}}function y(g){return function(w,k){return[g([[+k[0],+w[0][1],+w[0][2],+w[0][3],+w[0][4],+w[0][5]],[+k[1],+w[1][1],+w[1][2],+w[1][3],+w[1][4],+w[1][5]],[+k[2],+w[2][1],+w[2][2],+w[2][3],+w[2][4],+w[2][5]],[+k[3],+w[3][1],+w[3][2],+w[3][3],+w[3][4],+w[3][5]],[+k[4],+w[4][1],+w[4][2],+w[4][3],+w[4][4],+w[4][5]],[+k[5],+w[5][1],+w[5][2],+w[5][3],+w[5][4],+w[5][5]]]),g([[+w[0][0],+k[0],+w[0][2],+w[0][3],+w[0][4],+w[0][5]],[+w[1][0],+k[1],+w[1][2],+w[1][3],+w[1][4],+w[1][5]],[+w[2][0],+k[2],+w[2][2],+w[2][3],+w[2][4],+w[2][5]],[+w[3][0],+k[3],+w[3][2],+w[3][3],+w[3][4],+w[3][5]],[+w[4][0],+k[4],+w[4][2],+w[4][3],+w[4][4],+w[4][5]],[+w[5][0],+k[5],+w[5][2],+w[5][3],+w[5][4],+w[5][5]]]),g([[+w[0][0],+w[0][1],+k[0],+w[0][3],+w[0][4],+w[0][5]],[+w[1][0],+w[1][1],+k[1],+w[1][3],+w[1][4],+w[1][5]],[+w[2][0],+w[2][1],+k[2],+w[2][3],+w[2][4],+w[2][5]],[+w[3][0],+w[3][1],+k[3],+w[3][3],+w[3][4],+w[3][5]],[+w[4][0],+w[4][1],+k[4],+w[4][3],+w[4][4],+w[4][5]],[+w[5][0],+w[5][1],+k[5],+w[5][3],+w[5][4],+w[5][5]]]),g([[+w[0][0],+w[0][1],+w[0][2],+k[0],+w[0][4],+w[0][5]],[+w[1][0],+w[1][1],+w[1][2],+k[1],+w[1][4],+w[1][5]],[+w[2][0],+w[2][1],+w[2][2],+k[2],+w[2][4],+w[2][5]],[+w[3][0],+w[3][1],+w[3][2],+k[3],+w[3][4],+w[3][5]],[+w[4][0],+w[4][1],+w[4][2],+k[4],+w[4][4],+w[4][5]],[+w[5][0],+w[5][1],+w[5][2],+k[5],+w[5][4],+w[5][5]]]),g([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+k[0],+w[0][5]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+k[1],+w[1][5]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+k[2],+w[2][5]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+k[3],+w[3][5]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+k[4],+w[4][5]],[+w[5][0],+w[5][1],+w[5][2],+w[5][3],+k[5],+w[5][5]]]),g([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+w[0][4],+k[0]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+w[1][4],+k[1]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+w[2][4],+k[2]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+w[3][4],+k[3]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+w[4][4],+k[4]],[+w[5][0],+w[5][1],+w[5][2],+w[5][3],+w[5][4],+k[5]]]),g(w)]}}var x=[u,f];function m(g,A,w,k,p,d,M,T){return function(E,L){switch(E.length){case 0:return g(E,L);case 1:return A(E,L);case 2:return w(E,L);case 3:return k(E,L);case 4:return p(E,L);case 5:return d(E,L)}var D=M[E.length];return D||(D=M[E.length]=T(E.length)),D(E,L)}}function _(){for(;x.length<s;)x.push(l(x.length));i.exports=m.apply(void 0,x.concat([x,l]));for(var g=0;g<s;++g)i.exports[g]=x[g]}_()},{"robust-determinant":280}],284:[function(n,i,a){"use strict";var o=n("two-product"),s=n("robust-sum"),l=n("robust-scale"),u=n("robust-subtract"),f=5,c=11102230246251565e-32,h=(3+16*c)*c,v=(7+56*c)*c;function b(d,M,T,S){return function(L,D,R){var q=d(d(M(D[1],R[0]),M(-R[1],D[0])),d(M(L[1],D[0]),M(-D[1],L[0]))),C=d(M(L[1],R[0]),M(-R[1],L[0])),F=S(q,C);return F[F.length-1]}}function y(d,M,T,S){return function(L,D,R,q){var C=d(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),D[2]),d(T(d(M(D[1],q[0]),M(-q[1],D[0])),-R[2]),T(d(M(D[1],R[0]),M(-R[1],D[0])),q[2]))),d(T(d(M(D[1],q[0]),M(-q[1],D[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),q[2])))),F=d(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-R[2]),T(d(M(L[1],R[0]),M(-R[1],L[0])),q[2]))),d(T(d(M(D[1],R[0]),M(-R[1],D[0])),L[2]),d(T(d(M(L[1],R[0]),M(-R[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),R[2])))),N=S(C,F);return N[N.length-1]}}function x(d,M,T,S){return function(L,D,R,q,C){var F=d(d(d(T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),R[2]),d(T(d(M(R[1],C[0]),M(-C[1],R[0])),-q[2]),T(d(M(R[1],q[0]),M(-q[1],R[0])),C[2]))),D[3]),d(T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),D[2]),d(T(d(M(D[1],C[0]),M(-C[1],D[0])),-q[2]),T(d(M(D[1],q[0]),M(-q[1],D[0])),C[2]))),-R[3]),T(d(T(d(M(R[1],C[0]),M(-C[1],R[0])),D[2]),d(T(d(M(D[1],C[0]),M(-C[1],D[0])),-R[2]),T(d(M(D[1],R[0]),M(-R[1],D[0])),C[2]))),q[3]))),d(T(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),D[2]),d(T(d(M(D[1],q[0]),M(-q[1],D[0])),-R[2]),T(d(M(D[1],R[0]),M(-R[1],D[0])),q[2]))),-C[3]),d(T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),D[2]),d(T(d(M(D[1],C[0]),M(-C[1],D[0])),-q[2]),T(d(M(D[1],q[0]),M(-q[1],D[0])),C[2]))),L[3]),T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-q[2]),T(d(M(L[1],q[0]),M(-q[1],L[0])),C[2]))),-D[3])))),d(d(T(d(T(d(M(D[1],C[0]),M(-C[1],D[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),C[2]))),q[3]),d(T(d(T(d(M(D[1],q[0]),M(-q[1],D[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),q[2]))),-C[3]),T(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),D[2]),d(T(d(M(D[1],q[0]),M(-q[1],D[0])),-R[2]),T(d(M(D[1],R[0]),M(-R[1],D[0])),q[2]))),L[3]))),d(T(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-R[2]),T(d(M(L[1],R[0]),M(-R[1],L[0])),q[2]))),-D[3]),d(T(d(T(d(M(D[1],q[0]),M(-q[1],D[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),q[2]))),R[3]),T(d(T(d(M(D[1],R[0]),M(-R[1],D[0])),L[2]),d(T(d(M(L[1],R[0]),M(-R[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),R[2]))),-q[3]))))),N=d(d(d(T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),R[2]),d(T(d(M(R[1],C[0]),M(-C[1],R[0])),-q[2]),T(d(M(R[1],q[0]),M(-q[1],R[0])),C[2]))),L[3]),T(d(T(d(M(q[1],C[0]),M(-C[1],q[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-q[2]),T(d(M(L[1],q[0]),M(-q[1],L[0])),C[2]))),-R[3])),d(T(d(T(d(M(R[1],C[0]),M(-C[1],R[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-R[2]),T(d(M(L[1],R[0]),M(-R[1],L[0])),C[2]))),q[3]),T(d(T(d(M(R[1],q[0]),M(-q[1],R[0])),L[2]),d(T(d(M(L[1],q[0]),M(-q[1],L[0])),-R[2]),T(d(M(L[1],R[0]),M(-R[1],L[0])),q[2]))),-C[3]))),d(d(T(d(T(d(M(R[1],C[0]),M(-C[1],R[0])),D[2]),d(T(d(M(D[1],C[0]),M(-C[1],D[0])),-R[2]),T(d(M(D[1],R[0]),M(-R[1],D[0])),C[2]))),L[3]),T(d(T(d(M(R[1],C[0]),M(-C[1],R[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-R[2]),T(d(M(L[1],R[0]),M(-R[1],L[0])),C[2]))),-D[3])),d(T(d(T(d(M(D[1],C[0]),M(-C[1],D[0])),L[2]),d(T(d(M(L[1],C[0]),M(-C[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),C[2]))),R[3]),T(d(T(d(M(D[1],R[0]),M(-R[1],D[0])),L[2]),d(T(d(M(L[1],R[0]),M(-R[1],L[0])),-D[2]),T(d(M(L[1],D[0]),M(-D[1],L[0])),R[2]))),-C[3])))),U=S(F,N);return U[U.length-1]}}function m(d){var M=d===3?b:d===4?y:x;return M(s,o,l,u)}var _=m(3),g=m(4),A=[function(){return 0},function(){return 0},function(M,T){return T[0]-M[0]},function(M,T,S){var E=(M[1]-S[1])*(T[0]-S[0]),L=(M[0]-S[0])*(T[1]-S[1]),D=E-L,R;if(E>0){if(L<=0)return D;R=E+L}else if(E<0){if(L>=0)return D;R=-(E+L)}else return D;var q=h*R;return D>=q||D<=-q?D:_(M,T,S)},function(M,T,S,E){var L=M[0]-E[0],D=T[0]-E[0],R=S[0]-E[0],q=M[1]-E[1],C=T[1]-E[1],F=S[1]-E[1],N=M[2]-E[2],U=T[2]-E[2],V=S[2]-E[2],Y=D*F,K=R*C,B=R*q,z=L*F,j=L*C,ae=D*q,ee=N*(Y-K)+U*(B-z)+V*(j-ae),ve=(Math.abs(Y)+Math.abs(K))*Math.abs(N)+(Math.abs(B)+Math.abs(z))*Math.abs(U)+(Math.abs(j)+Math.abs(ae))*Math.abs(V),fe=v*ve;return ee>fe||-ee>fe?ee:g(M,T,S,E)}];function w(d){var M=A[d.length];return M||(M=A[d.length]=m(d.length)),M.apply(void 0,d)}function k(d,M,T,S,E,L,D){return function(q,C,F,N,U){switch(arguments.length){case 0:case 1:return 0;case 2:return S(q,C);case 3:return E(q,C,F);case 4:return L(q,C,F,N);case 5:return D(q,C,F,N,U)}for(var V=new Array(arguments.length),Y=0;Y<arguments.length;++Y)V[Y]=arguments[Y];return d(V)}}function p(){for(;A.length<=f;)A.push(m(A.length));i.exports=k.apply(void 0,[w].concat(A));for(var d=0;d<=f;++d)i.exports[d]=A[d]}p()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],285:[function(n,i,a){"use strict";var o=n("robust-sum"),s=n("robust-scale");i.exports=l;function l(u,f){if(u.length===1)return s(f,u[0]);if(f.length===1)return s(u,f[0]);if(u.length===0||f.length===0)return[0];var c=[0];if(u.length<f.length)for(var h=0;h<u.length;++h)c=o(c,s(f,u[h]));else for(var h=0;h<f.length;++h)c=o(c,s(u,f[h]));return c}},{"robust-scale":286,"robust-sum":289}],286:[function(n,i,a){"use strict";var o=n("two-product"),s=n("two-sum");i.exports=l;function l(u,f){var c=u.length;if(c===1){var h=o(u[0],f);return h[0]?h:[h[1]]}var v=new Array(2*c),b=[.1,.1],y=[.1,.1],x=0;o(u[0],f,b),b[0]&&(v[x++]=b[0]);for(var m=1;m<c;++m){o(u[m],f,y);var _=b[1];s(_,y[0],b),b[0]&&(v[x++]=b[0]);var g=y[1],A=b[1],w=g+A,k=w-g,p=A-k;b[1]=w,p&&(v[x++]=p)}return b[1]&&(v[x++]=b[1]),x===0&&(v[x++]=0),v.length=x,v}},{"two-product":306,"two-sum":307}],287:[function(n,i,a){"use strict";i.exports=l;var o=n("robust-orientation")[3];function s(u,f,c,h){for(var v=0;v<2;++v){var b=u[v],y=f[v],x=Math.min(b,y),m=Math.max(b,y),_=c[v],g=h[v],A=Math.min(_,g),w=Math.max(_,g);if(w<x||m<A)return!1}return!0}function l(u,f,c,h){var v=o(u,c,h),b=o(f,c,h);if(v>0&&b>0||v<0&&b<0)return!1;var y=o(c,u,f),x=o(h,u,f);return y>0&&x>0||y<0&&x<0?!1:v===0&&b===0&&y===0&&x===0?s(u,f,c,h):!0}},{"robust-orientation":284}],288:[function(n,i,a){"use strict";i.exports=s;function o(l,u){var f=l+u,c=f-l,h=f-c,v=u-c,b=l-h,y=b+v;return y?[y,f]:[f]}function s(l,u){var f=l.length|0,c=u.length|0;if(f===1&&c===1)return o(l[0],-u[0]);var h=f+c,v=new Array(h),b=0,y=0,x=0,m=Math.abs,_=l[y],g=m(_),A=-u[x],w=m(A),k,p;g<w?(p=_,y+=1,y<f&&(_=l[y],g=m(_))):(p=A,x+=1,x<c&&(A=-u[x],w=m(A))),y<f&&g<w||x>=c?(k=_,y+=1,y<f&&(_=l[y],g=m(_))):(k=A,x+=1,x<c&&(A=-u[x],w=m(A)));for(var d=k+p,M=d-k,T=p-M,S=T,E=d,L,D,R,q,C;y<f&&x<c;)g<w?(k=_,y+=1,y<f&&(_=l[y],g=m(_))):(k=A,x+=1,x<c&&(A=-u[x],w=m(A))),p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L;for(;y<f;)k=_,p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L,y+=1,y<f&&(_=l[y]);for(;x<c;)k=A,p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L,x+=1,x<c&&(A=-u[x]);return S&&(v[b++]=S),E&&(v[b++]=E),b||(v[b++]=0),v.length=b,v}},{}],289:[function(n,i,a){"use strict";i.exports=s;function o(l,u){var f=l+u,c=f-l,h=f-c,v=u-c,b=l-h,y=b+v;return y?[y,f]:[f]}function s(l,u){var f=l.length|0,c=u.length|0;if(f===1&&c===1)return o(l[0],u[0]);var h=f+c,v=new Array(h),b=0,y=0,x=0,m=Math.abs,_=l[y],g=m(_),A=u[x],w=m(A),k,p;g<w?(p=_,y+=1,y<f&&(_=l[y],g=m(_))):(p=A,x+=1,x<c&&(A=u[x],w=m(A))),y<f&&g<w||x>=c?(k=_,y+=1,y<f&&(_=l[y],g=m(_))):(k=A,x+=1,x<c&&(A=u[x],w=m(A)));for(var d=k+p,M=d-k,T=p-M,S=T,E=d,L,D,R,q,C;y<f&&x<c;)g<w?(k=_,y+=1,y<f&&(_=l[y],g=m(_))):(k=A,x+=1,x<c&&(A=u[x],w=m(A))),p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L;for(;y<f;)k=_,p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L,y+=1,y<f&&(_=l[y]);for(;x<c;)k=A,p=S,d=k+p,M=d-k,T=p-M,T&&(v[b++]=T),L=E+d,D=L-E,R=L-D,q=d-D,C=E-R,S=C+q,E=L,x+=1,x<c&&(A=u[x]);return S&&(v[b++]=S),E&&(v[b++]=E),b||(v[b++]=0),v.length=b,v}},{}],290:[function(n,i,a){"use strict";i.exports=l;var o=n("boundary-cells"),s=n("reduce-simplicial-complex");function l(u){return s(o(u))}},{"boundary-cells":34,"reduce-simplicial-complex":276}],291:[function(n,i,a){"use strict";i.exports=x;var o=n("ndarray"),s=n("typedarray-pool"),l=n("ndarray-sort"),u=n("./lib/codegen");function f(m){for(var _=m.length,g=0,A=0;A<_;++A)g=Math.max(g,m[A].length)|0;return g-1}function c(m,_){for(var g=m.length,A=s.mallocUint8(g),w=0;w<g;++w)A[w]=m[w]<_|0;return A}function h(m,_){for(var g=m.length,A=_*(_+1)/2*g|0,w=s.mallocUint32(A*2),k=0,p=0;p<g;++p)for(var d=m[p],_=d.length,M=0;M<_;++M)for(var T=0;T<M;++T){var S=d[T],E=d[M];w[k++]=Math.min(S,E)|0,w[k++]=Math.max(S,E)|0}var L=k/2|0;l(o(w,[L,2]));for(var D=2,p=2;p<k;p+=2)w[p-2]===w[p]&&w[p-1]===w[p+1]||(w[D++]=w[p],w[D++]=w[p+1]);return o(w,[D/2|0,2])}function v(m,_,g,A){for(var w=m.data,k=m.shape[0],p=s.mallocDouble(k),d=0,M=0;M<k;++M){var T=w[2*M],S=w[2*M+1];if(g[T]!==g[S]){var E=_[T],L=_[S];w[2*d]=T,w[2*d+1]=S,p[d++]=(L-A)/(L-E)}}return m.shape[0]=d,o(p,[d])}function b(m,_){var g=s.mallocInt32(_*2),A=m.shape[0],w=m.data;g[0]=0;for(var k=0,p=0;p<A;++p){var d=w[2*p];if(d!==k){for(g[2*k+1]=p;++k<d;)g[2*k]=p,g[2*k+1]=p;g[2*k]=p}}for(g[2*k+1]=A;++k<_;)g[2*k]=g[2*k+1]=A;return g}function y(m){for(var _=m.shape[0]|0,g=m.data,A=new Array(_),w=0;w<_;++w)A[w]=[g[2*w],g[2*w+1]];return A}function x(m,_,g,A){g=g||0,typeof A>"u"&&(A=f(m));var w=m.length;if(w===0||A<1)return{cells:[],vertexIds:[],vertexWeights:[]};var k=c(_,+g),p=h(m,A),d=v(p,_,k,+g),M=b(p,_.length|0),T=u(A)(m,p.data,M,k),S=y(p),E=[].slice.call(d.data,0,d.shape[0]);return s.free(k),s.free(p.data),s.free(d.data),s.free(M),{cells:T,vertexIds:S,vertexWeights:E}}},{"./lib/codegen":292,ndarray:259,"ndarray-sort":258,"typedarray-pool":308}],292:[function(n,i,a){"use strict";i.exports=s;var o=[function(){function u(c,h,v,b){for(var y=Math.min(v,b)|0,x=Math.max(v,b)|0,m=c[2*y],_=c[2*y+1];m<_;){var g=m+_>>1,A=h[2*g+1];if(A===x)return g;x<A?_=g:m=g+1}return m}function f(c,h,v,b){for(var y=c.length,x=[],m=0;m<y;++m)var _=c[m],g=_.length;return x}return f},function(){function u(c,h,v,b){for(var y=Math.min(v,b)|0,x=Math.max(v,b)|0,m=c[2*y],_=c[2*y+1];m<_;){var g=m+_>>1,A=h[2*g+1];if(A===x)return g;x<A?_=g:m=g+1}return m}function f(c,h,v,b){for(var y=c.length,x=[],m=0;m<y;++m){var _=c[m],g=_.length;if(g===2){var A=(b[_[0]]<<0)+(b[_[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[1])]);break;case 2:x.push([u(v,h,_[1],_[0])]);break;case 3:break}}}return x}return f},function(){function u(c,h,v,b){for(var y=Math.min(v,b)|0,x=Math.max(v,b)|0,m=c[2*y],_=c[2*y+1];m<_;){var g=m+_>>1,A=h[2*g+1];if(A===x)return g;x<A?_=g:m=g+1}return m}function f(c,h,v,b){for(var y=c.length,x=[],m=0;m<y;++m){var _=c[m],g=_.length;if(g===3){var A=(b[_[0]]<<0)+(b[_[1]]<<1)+(b[_[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[2]),u(v,h,_[0],_[1])]);break;case 2:x.push([u(v,h,_[1],_[0]),u(v,h,_[1],_[2])]);break;case 3:x.push([u(v,h,_[0],_[2]),u(v,h,_[1],_[2])]);break;case 4:x.push([u(v,h,_[2],_[1]),u(v,h,_[2],_[0])]);break;case 5:x.push([u(v,h,_[2],_[1]),u(v,h,_[0],_[1])]);break;case 6:x.push([u(v,h,_[1],_[0]),u(v,h,_[2],_[0])]);break;case 7:break}}else if(g===2){var A=(b[_[0]]<<0)+(b[_[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[1])]);break;case 2:x.push([u(v,h,_[1],_[0])]);break;case 3:break}}}return x}return f},function(){function u(c,h,v,b){for(var y=Math.min(v,b)|0,x=Math.max(v,b)|0,m=c[2*y],_=c[2*y+1];m<_;){var g=m+_>>1,A=h[2*g+1];if(A===x)return g;x<A?_=g:m=g+1}return m}function f(c,h,v,b){for(var y=c.length,x=[],m=0;m<y;++m){var _=c[m],g=_.length;if(g===4){var A=(b[_[0]]<<0)+(b[_[1]]<<1)+(b[_[2]]<<2)+(b[_[3]]<<3);if(A===0||A===15)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[1]),u(v,h,_[0],_[2]),u(v,h,_[0],_[3])]);break;case 2:x.push([u(v,h,_[1],_[2]),u(v,h,_[1],_[0]),u(v,h,_[1],_[3])]);break;case 3:x.push([u(v,h,_[1],_[2]),u(v,h,_[0],_[2]),u(v,h,_[0],_[3])],[u(v,h,_[1],_[3]),u(v,h,_[1],_[2]),u(v,h,_[0],_[3])]);break;case 4:x.push([u(v,h,_[2],_[0]),u(v,h,_[2],_[1]),u(v,h,_[2],_[3])]);break;case 5:x.push([u(v,h,_[0],_[1]),u(v,h,_[2],_[1]),u(v,h,_[0],_[3])],[u(v,h,_[2],_[1]),u(v,h,_[2],_[3]),u(v,h,_[0],_[3])]);break;case 6:x.push([u(v,h,_[2],_[0]),u(v,h,_[1],_[0]),u(v,h,_[1],_[3])],[u(v,h,_[2],_[3]),u(v,h,_[2],_[0]),u(v,h,_[1],_[3])]);break;case 7:x.push([u(v,h,_[0],_[3]),u(v,h,_[1],_[3]),u(v,h,_[2],_[3])]);break;case 8:x.push([u(v,h,_[3],_[1]),u(v,h,_[3],_[0]),u(v,h,_[3],_[2])]);break;case 9:x.push([u(v,h,_[3],_[1]),u(v,h,_[0],_[1]),u(v,h,_[0],_[2])],[u(v,h,_[3],_[2]),u(v,h,_[3],_[1]),u(v,h,_[0],_[2])]);break;case 10:x.push([u(v,h,_[1],_[0]),u(v,h,_[3],_[0]),u(v,h,_[1],_[2])],[u(v,h,_[3],_[0]),u(v,h,_[3],_[2]),u(v,h,_[1],_[2])]);break;case 11:x.push([u(v,h,_[1],_[2]),u(v,h,_[0],_[2]),u(v,h,_[3],_[2])]);break;case 12:x.push([u(v,h,_[3],_[0]),u(v,h,_[2],_[0]),u(v,h,_[2],_[1])],[u(v,h,_[3],_[1]),u(v,h,_[3],_[0]),u(v,h,_[2],_[1])]);break;case 13:x.push([u(v,h,_[0],_[1]),u(v,h,_[2],_[1]),u(v,h,_[3],_[1])]);break;case 14:x.push([u(v,h,_[2],_[0]),u(v,h,_[1],_[0]),u(v,h,_[3],_[0])]);break;case 15:break}}else if(g===3){var A=(b[_[0]]<<0)+(b[_[1]]<<1)+(b[_[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[2]),u(v,h,_[0],_[1])]);break;case 2:x.push([u(v,h,_[1],_[0]),u(v,h,_[1],_[2])]);break;case 3:x.push([u(v,h,_[0],_[2]),u(v,h,_[1],_[2])]);break;case 4:x.push([u(v,h,_[2],_[1]),u(v,h,_[2],_[0])]);break;case 5:x.push([u(v,h,_[2],_[1]),u(v,h,_[0],_[1])]);break;case 6:x.push([u(v,h,_[1],_[0]),u(v,h,_[2],_[0])]);break;case 7:break}}else if(g===2){var A=(b[_[0]]<<0)+(b[_[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:x.push([u(v,h,_[0],_[1])]);break;case 2:x.push([u(v,h,_[1],_[0])]);break;case 3:break}}}return x}return f}];function s(l){return o[l]()}},{}],293:[function(n,i,a){"use strict";var o=n("bit-twiddle"),s=n("union-find");function l(d){for(var M=0,T=Math.max,S=0,E=d.length;S<E;++S)M=T(M,d[S].length);return M-1}a.dimension=l;function u(d){for(var M=-1,T=Math.max,S=0,E=d.length;S<E;++S)for(var L=d[S],D=0,R=L.length;D<R;++D)M=T(M,L[D]);return M+1}a.countVertices=u;function f(d){for(var M=new Array(d.length),T=0,S=d.length;T<S;++T)M[T]=d[T].slice(0);return M}a.cloneCells=f;function c(d,M){var T=d.length,S=d.length-M.length,E=Math.min;if(S)return S;switch(T){case 0:return 0;case 1:return d[0]-M[0];case 2:var C=d[0]+d[1]-M[0]-M[1];return C||E(d[0],d[1])-E(M[0],M[1]);case 3:var L=d[0]+d[1],D=M[0]+M[1];if(C=L+d[2]-(D+M[2]),C)return C;var R=E(d[0],d[1]),q=E(M[0],M[1]),C=E(R,d[2])-E(q,M[2]);return C||E(R+d[2],L)-E(q+M[2],D);default:var F=d.slice(0);F.sort();var N=M.slice(0);N.sort();for(var U=0;U<T;++U)if(S=F[U]-N[U],S)return S;return 0}}a.compareCells=c;function h(d,M){return c(d[0],M[0])}function v(d,M){if(M){for(var T=d.length,S=new Array(T),E=0;E<T;++E)S[E]=[d[E],M[E]];S.sort(h);for(var E=0;E<T;++E)d[E]=S[E][0],M[E]=S[E][1];return d}else return d.sort(c),d}a.normalize=v;function b(d){if(d.length===0)return[];for(var M=1,T=d.length,S=1;S<T;++S){var E=d[S];if(c(E,d[S-1])){if(S===M){M++;continue}d[M++]=E}}return d.length=M,d}a.unique=b;function y(d,M){for(var T=0,S=d.length-1,E=-1;T<=S;){var L=T+S>>1,D=c(d[L],M);D<=0?(D===0&&(E=L),T=L+1):D>0&&(S=L-1)}return E}a.findCell=y;function x(d,M){for(var T=new Array(d.length),S=0,E=T.length;S<E;++S)T[S]=[];for(var L=[],S=0,D=M.length;S<D;++S)for(var R=M[S],q=R.length,C=1,F=1<<q;C<F;++C){L.length=o.popCount(C);for(var N=0,U=0;U<q;++U)C&1<<U&&(L[N++]=R[U]);var V=y(d,L);if(!(V<0))for(;T[V++].push(S),!(V>=d.length||c(d[V],L)!==0););}return T}a.incidence=x;function m(d,M){if(!M)return x(b(g(d,0)),d,0);for(var T=new Array(M),S=0;S<M;++S)T[S]=[];for(var S=0,E=d.length;S<E;++S)for(var L=d[S],D=0,R=L.length;D<R;++D)T[L[D]].push(S);return T}a.dual=m;function _(d){for(var M=[],T=0,S=d.length;T<S;++T)for(var E=d[T],L=E.length|0,D=1,R=1<<L;D<R;++D){for(var q=[],C=0;C<L;++C)D>>>C&1&&q.push(E[C]);M.push(q)}return v(M)}a.explode=_;function g(d,M){if(M<0)return[];for(var T=[],S=(1<<M+1)-1,E=0;E<d.length;++E)for(var L=d[E],D=S;D<1<<L.length;D=o.nextCombination(D)){for(var R=new Array(M+1),q=0,C=0;C<L.length;++C)D&1<<C&&(R[q++]=L[C]);T.push(R)}return v(T)}a.skeleton=g;function A(d){for(var M=[],T=0,S=d.length;T<S;++T)for(var E=d[T],L=0,D=E.length;L<D;++L){for(var R=new Array(E.length-1),q=0,C=0;q<D;++q)q!==L&&(R[C++]=E[q]);M.push(R)}return v(M)}a.boundary=A;function w(d,M){for(var T=new s(M),S=0;S<d.length;++S)for(var E=d[S],L=0;L<E.length;++L)for(var D=L+1;D<E.length;++D)T.link(E[L],E[D]);for(var R=[],q=T.ranks,S=0;S<q.length;++S)q[S]=-1;for(var S=0;S<d.length;++S){var C=T.find(d[S][0]);q[C]<0?(q[C]=R.length,R.push([d[S].slice(0)])):R[q[C]].push(d[S].slice(0))}return R}function k(d){for(var M=b(v(g(d,0))),T=new s(M.length),S=0;S<d.length;++S)for(var E=d[S],L=0;L<E.length;++L)for(var D=y(M,[E[L]]),R=L+1;R<E.length;++R)T.link(D,y(M,[E[R]]));for(var q=[],C=T.ranks,S=0;S<C.length;++S)C[S]=-1;for(var S=0;S<d.length;++S){var F=T.find(y(M,[d[S][0]]));C[F]<0?(C[F]=q.length,q.push([d[S].slice(0)])):q[C[F]].push(d[S].slice(0))}return q}function p(d,M){return M?w(d,M):k(d)}a.connectedComponents=p},{"bit-twiddle":32,"union-find":309}],294:[function(n,i,a){arguments[4][32][0].apply(a,arguments)},{dup:32}],295:[function(n,i,a){arguments[4][293][0].apply(a,arguments)},{"bit-twiddle":294,dup:293,"union-find":296}],296:[function(n,i,a){"use strict";i.exports=o;function o(s){this.roots=new Array(s),this.ranks=new Array(s);for(var l=0;l<s;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},o.prototype.find=function(s){for(var l=this.roots;l[s]!==s;){var u=l[s];l[s]=l[u],s=u}return s},o.prototype.link=function(s,l){var u=this.find(s),f=this.find(l);if(u!==f){var c=this.ranks,h=this.roots,v=c[u],b=c[f];v<b?h[u]=f:b<v?h[f]=u:(h[f]=u,++c[u])}}},{}],297:[function(n,i,a){"use strict";i.exports=u;var o=n("robust-orientation"),s=n("simplicial-complex");function l(f,c,h){var v=Math.abs(o(f,c,h)),b=Math.sqrt(Math.pow(c[0]-h[0],2)+Math.pow(c[1]-h[1],2));return v/b}function u(f,c,h){for(var v=c.length,b=f.length,y=new Array(v),x=new Array(v),m=new Array(v),_=new Array(v),g=0;g<v;++g)y[g]=x[g]=-1,m[g]=1/0,_[g]=!1;for(var g=0;g<b;++g){var A=f[g];if(A.length!==2)throw new Error("Input must be a graph");var w=A[1],k=A[0];x[k]!==-1?x[k]=-2:x[k]=w,y[w]!==-1?y[w]=-2:y[w]=k}function p(z){if(_[z])return 1/0;var j=y[z],ae=x[z];return j<0||ae<0?1/0:l(c[z],c[j],c[ae])}function d(z,j){var ae=q[z],ee=q[j];q[z]=ee,q[j]=ae,C[ae]=j,C[ee]=z}function M(z){return m[q[z]]}function T(z){return z&1?z-1>>1:(z>>1)-1}function S(z){for(var j=M(z);;){var ae=j,ee=2*z+1,ve=2*(z+1),fe=z;if(ee<N){var se=M(ee);se<ae&&(fe=ee,ae=se)}if(ve<N){var G=M(ve);G<ae&&(fe=ve)}if(fe===z)return z;d(z,fe),z=fe}}function E(z){for(var j=M(z);z>0;){var ae=T(z);if(ae>=0){var ee=M(ae);if(j<ee){d(z,ae),z=ae;continue}}return z}}function L(){if(N>0){var z=q[0];return d(0,N-1),N-=1,S(0),z}return-1}function D(z,j){var ae=q[z];return m[ae]===j?z:(m[ae]=-1/0,E(z),L(),m[ae]=j,N+=1,E(N-1))}function R(z){if(!_[z]){_[z]=!0;var j=y[z],ae=x[z];y[ae]>=0&&(y[ae]=j),x[j]>=0&&(x[j]=ae),C[j]>=0&&D(C[j],p(j)),C[ae]>=0&&D(C[ae],p(ae))}}for(var q=[],C=new Array(v),g=0;g<v;++g){var F=m[g]=p(g);F<1/0?(C[g]=q.length,q.push(g)):C[g]=-1}for(var N=q.length,g=N>>1;g>=0;--g)S(g);for(;;){var U=L();if(U<0||m[U]>h)break;R(U)}for(var V=[],g=0;g<v;++g)_[g]||(C[g]=V.length,V.push(c[g].slice()));var Y=V.length;function K(z,j){if(z[j]<0)return j;var ae=j,ee=j;do{var ve=z[ee];if(!_[ee]||ve<0||ve===ee||(ee=ve,ve=z[ee],!_[ee]||ve<0||ve===ee))break;ee=ve,ae=z[ae]}while(ae!==ee);for(var fe=j;fe!==ee;fe=z[fe])z[fe]=ee;return ee}var B=[];return f.forEach(function(z){var j=K(y,z[0]),ae=K(x,z[1]);if(j>=0&&ae>=0&&j!==ae){var ee=C[j],ve=C[ae];ee!==ve&&B.push([ee,ve])}}),s.unique(s.normalize(B)),{positions:V,edges:B}}},{"robust-orientation":284,"simplicial-complex":295}],298:[function(n,i,a){"use strict";i.exports=l;var o=n("robust-orientation");function s(u,f){var c,h;if(f[0][0]<f[1][0])c=f[0],h=f[1];else if(f[0][0]>f[1][0])c=f[1],h=f[0];else{var v=Math.min(u[0][1],u[1][1]),b=Math.max(u[0][1],u[1][1]),y=Math.min(f[0][1],f[1][1]),x=Math.max(f[0][1],f[1][1]);return b<y?b-y:v>x?v-x:b-x}var m,_;u[0][1]<u[1][1]?(m=u[0],_=u[1]):(m=u[1],_=u[0]);var g=o(h,c,m);return g||(g=o(h,c,_),g)?g:_-h}function l(u,f){var c,h;if(f[0][0]<f[1][0])c=f[0],h=f[1];else if(f[0][0]>f[1][0])c=f[1],h=f[0];else return s(f,u);var v,b;if(u[0][0]<u[1][0])v=u[0],b=u[1];else if(u[0][0]>u[1][0])v=u[1],b=u[0];else return-s(u,f);var y=o(c,h,b),x=o(c,h,v);if(y<0){if(x<=0)return y}else if(y>0){if(x>=0)return y}else if(x)return x;if(y=o(b,v,h),x=o(b,v,c),y<0){if(x<=0)return y}else if(y>0){if(x>=0)return y}else if(x)return x;return h[0]-b[0]}},{"robust-orientation":284}],299:[function(n,i,a){"use strict";i.exports=x;var o=n("binary-search-bounds"),s=n("functional-red-black-tree"),l=n("robust-orientation"),u=n("./lib/order-segments");function f(m,_,g){this.slabs=m,this.coordinates=_,this.horizontal=g}var c=f.prototype;function h(m,_){return m.y-_}function v(m,_){for(var g=null;m;){var A=m.key,w,k;A[0][0]<A[1][0]?(w=A[0],k=A[1]):(w=A[1],k=A[0]);var p=l(w,k,_);if(p<0)m=m.left;else if(p>0)if(_[0]!==A[1][0])g=m,m=m.right;else{var d=v(m.right,_);if(d)return d;m=m.left}else{if(_[0]!==A[1][0])return m;var d=v(m.right,_);if(d)return d;m=m.left}}return g}c.castUp=function(m){var _=o.le(this.coordinates,m[0]);if(_<0)return-1;var g=this.slabs[_],A=v(this.slabs[_],m),w=-1;if(A&&(w=A.value),this.coordinates[_]===m[0]){var k=null;if(A&&(k=A.key),_>0){var p=v(this.slabs[_-1],m);p&&(k?u(p.key,k)>0&&(k=p.key,w=p.value):(w=p.value,k=p.key))}var d=this.horizontal[_];if(d.length>0){var M=o.ge(d,m[1],h);if(M<d.length){var T=d[M];if(m[1]===T.y){if(T.closed)return T.index;for(;M<d.length-1&&d[M+1].y===m[1];)if(M=M+1,T=d[M],T.closed)return T.index;if(T.y===m[1]&&!T.start){if(M=M+1,M>=d.length)return w;T=d[M]}}if(T.start)if(k){var S=l(k[0],k[1],[m[0],T.y]);k[0][0]>k[1][0]&&(S=-S),S>0&&(w=T.index)}else w=T.index;else T.y!==m[1]&&(w=T.index)}}}return w};function b(m,_,g,A){this.y=m,this.index=_,this.start=g,this.closed=A}function y(m,_,g,A){this.x=m,this.segment=_,this.create=g,this.index=A}function x(m){for(var _=m.length,g=2*_,A=new Array(g),w=0;w<_;++w){var k=m[w],p=k[0][0]<k[1][0];A[2*w]=new y(k[0][0],k,p,w),A[2*w+1]=new y(k[1][0],k,!p,w)}A.sort(function(q,C){var F=q.x-C.x;return F||(F=q.create-C.create,F)?F:Math.min(q.segment[0][1],q.segment[1][1])-Math.min(C.segment[0][1],C.segment[1][1])});for(var d=s(u),M=[],T=[],S=[],E=-1/0,w=0;w<g;){for(var L=A[w].x,D=[];w<g;){var R=A[w];if(R.x!==L)break;w+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(D.push(new b(R.segment[0][1],R.index,!0,!0)),D.push(new b(R.segment[1][1],R.index,!1,!1))):(D.push(new b(R.segment[1][1],R.index,!0,!1)),D.push(new b(R.segment[0][1],R.index,!1,!0)))):R.create?d=d.insert(R.segment,R.index):d=d.remove(R.segment)}M.push(d.root),T.push(L),S.push(D)}return new f(M,T,S)}},{"./lib/order-segments":298,"binary-search-bounds":31,"functional-red-black-tree":69,"robust-orientation":284}],300:[function(n,i,a){"use strict";var o=n("robust-dot-product"),s=n("robust-sum");i.exports=f,i.exports.positive=c,i.exports.negative=h;function l(v,b){var y=s(o(v,b),[b[b.length-1]]);return y[y.length-1]}function u(v,b,y,x){var m=x-b,_=-b/m;_<0?_=0:_>1&&(_=1);for(var g=1-_,A=v.length,w=new Array(A),k=0;k<A;++k)w[k]=_*v[k]+g*y[k];return w}function f(v,b){for(var y=[],x=[],m=l(v[v.length-1],b),_=v[v.length-1],g=v[0],A=0;A<v.length;++A,_=g){g=v[A];var w=l(g,b);if(m<0&&w>0||m>0&&w<0){var k=u(_,w,g,m);y.push(k),x.push(k.slice())}w<0?x.push(g.slice()):w>0?y.push(g.slice()):(y.push(g.slice()),x.push(g.slice())),m=w}return{positive:y,negative:x}}function c(v,b){for(var y=[],x=l(v[v.length-1],b),m=v[v.length-1],_=v[0],g=0;g<v.length;++g,m=_){_=v[g];var A=l(_,b);(x<0&&A>0||x>0&&A<0)&&y.push(u(m,A,_,x)),A>=0&&y.push(_.slice()),x=A}return y}function h(v,b){for(var y=[],x=l(v[v.length-1],b),m=v[v.length-1],_=v[0],g=0;g<v.length;++g,m=_){_=v[g];var A=l(_,b);(x<0&&A>0||x>0&&A<0)&&y.push(u(m,A,_,x)),A<=0&&y.push(_.slice()),x=A}return y}},{"robust-dot-product":281,"robust-sum":289}],301:[function(n,i,a){(function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(h){return u(c(h),arguments)}function l(h,v){return s.apply(null,[h].concat(v||[]))}function u(h,v){var b=1,y=h.length,x,m="",_,g,A,w,k,p,d,M;for(_=0;_<y;_++)if(typeof h[_]=="string")m+=h[_];else if(typeof h[_]=="object"){if(A=h[_],A.keys)for(x=v[b],g=0;g<A.keys.length;g++){if(x==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',A.keys[g],A.keys[g-1]));x=x[A.keys[g]]}else A.param_no?x=v[A.param_no]:x=v[b++];if(o.not_type.test(A.type)&&o.not_primitive.test(A.type)&&x instanceof Function&&(x=x()),o.numeric_arg.test(A.type)&&typeof x!="number"&&isNaN(x))throw new TypeError(s("[sprintf] expecting number but found %T",x));switch(o.number.test(A.type)&&(d=x>=0),A.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,A.width?parseInt(A.width):0);break;case"e":x=A.precision?parseFloat(x).toExponential(A.precision):parseFloat(x).toExponential();break;case"f":x=A.precision?parseFloat(x).toFixed(A.precision):parseFloat(x);break;case"g":x=A.precision?String(Number(x.toPrecision(A.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=A.precision?x.substring(0,A.precision):x;break;case"t":x=String(!!x),x=A.precision?x.substring(0,A.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=A.precision?x.substring(0,A.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=A.precision?x.substring(0,A.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase();break}o.json.test(A.type)?m+=x:(o.number.test(A.type)&&(!d||A.sign)?(M=d?"+":"-",x=x.toString().replace(o.sign,"")):M="",k=A.pad_char?A.pad_char==="0"?"0":A.pad_char.charAt(1):" ",p=A.width-(M+x).length,w=A.width&&p>0?k.repeat(p):"",m+=A.align?M+x+w:k==="0"?M+w+x:w+M+x)}return m}var f=Object.create(null);function c(h){if(f[h])return f[h];for(var v=h,b,y=[],x=0;v;){if((b=o.text.exec(v))!==null)y.push(b[0]);else if((b=o.modulo.exec(v))!==null)y.push("%");else if((b=o.placeholder.exec(v))!==null){if(b[2]){x|=1;var m=[],_=b[2],g=[];if((g=o.key.exec(_))!==null)for(m.push(g[1]);(_=_.substring(g[0].length))!=="";)if((g=o.key_access.exec(_))!==null)m.push(g[1]);else if((g=o.index_access.exec(_))!==null)m.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");b[2]=m}else x|=2;if(x===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:b[0],param_no:b[1],keys:b[2],sign:b[3],pad_char:b[4],align:b[5],width:b[6],precision:b[7],type:b[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");v=v.substring(b[0].length)}return f[h]=y}typeof a<"u"&&(a.sprintf=s,a.vsprintf=l),typeof window<"u"&&(window.sprintf=s,window.vsprintf=l,typeof e=="function"&&e.amd&&e(function(){return{sprintf:s,vsprintf:l}}))})()},{}],302:[function(n,i,a){"use strict";i.exports=h;var o=n("ndarray-extract-contour"),s=n("zero-crossings"),l={"2d":function(v,b,y){var x=v({order:b,scalarArguments:3,getters:y==="generic"?[0]:void 0,phase:function(_,g,A,w){return _>w|0},vertex:function(_,g,A,w,k,p,d,M,T,S,E,L,D){var R=(d<<0)+(M<<1)+(T<<2)+(S<<3)|0;if(!(R===0||R===15))switch(R){case 0:E.push([_-.5,g-.5]);break;case 1:E.push([_-.25-.25*(w+A-2*D)/(A-w),g-.25-.25*(k+A-2*D)/(A-k)]);break;case 2:E.push([_-.75-.25*(-w-A+2*D)/(w-A),g-.25-.25*(p+w-2*D)/(w-p)]);break;case 3:E.push([_-.5,g-.5-.5*(k+A+p+w-4*D)/(A-k+w-p)]);break;case 4:E.push([_-.25-.25*(p+k-2*D)/(k-p),g-.75-.25*(-k-A+2*D)/(k-A)]);break;case 5:E.push([_-.5-.5*(w+A+p+k-4*D)/(A-w+k-p),g-.5]);break;case 6:E.push([_-.5-.25*(-w-A+p+k)/(w-A+k-p),g-.5-.25*(-k-A+p+w)/(k-A+w-p)]);break;case 7:E.push([_-.75-.25*(p+k-2*D)/(k-p),g-.75-.25*(p+w-2*D)/(w-p)]);break;case 8:E.push([_-.75-.25*(-p-k+2*D)/(p-k),g-.75-.25*(-p-w+2*D)/(p-w)]);break;case 9:E.push([_-.5-.25*(w+A+-p-k)/(A-w+p-k),g-.5-.25*(k+A+-p-w)/(A-k+p-w)]);break;case 10:E.push([_-.5-.5*(-w-A+-p-k+4*D)/(w-A+p-k),g-.5]);break;case 11:E.push([_-.25-.25*(-p-k+2*D)/(p-k),g-.75-.25*(k+A-2*D)/(A-k)]);break;case 12:E.push([_-.5,g-.5-.5*(-k-A+-p-w+4*D)/(k-A+p-w)]);break;case 13:E.push([_-.75-.25*(w+A-2*D)/(A-w),g-.25-.25*(-p-w+2*D)/(p-w)]);break;case 14:E.push([_-.25-.25*(-w-A+2*D)/(w-A),g-.25-.25*(-k-A+2*D)/(k-A)]);break;case 15:E.push([_-.5,g-.5]);break}},cell:function(_,g,A,w,k,p,d,M,T){k?M.push([_,g]):M.push([g,_])}});return function(m,_){var g=[],A=[];return x(m,g,A,_),{positions:g,cells:A}}}};function u(v,b){var y=v.length+"d",x=l[y];if(x)return x(o,v,b)}function f(v,b){for(var y=s(v,b),x=y.length,m=new Array(x),_=new Array(x),g=0;g<x;++g)m[g]=[y[g]],_[g]=[g];return{positions:m,cells:_}}var c={};function h(v,m){if(v.dimension<=0)return{positions:[],cells:[]};if(v.dimension===1)return f(v,m);var y=v.order.join()+"-"+v.dtype,x=c[y],m=+m||0;return x||(x=c[y]=u(v.order,v.dtype)),x(v,m)}},{"ndarray-extract-contour":251,"zero-crossings":318}],303:[function(n,i,a){(function(o){(function(){"use strict";i.exports=c;var s=n("vectorize-text"),l=window||o.global||{},u=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function f(h){for(var v=h.cells,b=h.positions,y=new Float32Array(v.length*6),x=0,m=0,_=0;_<v.length;++_)for(var g=v[_],A=0;A<3;++A){var w=b[g[A]];y[x++]=w[0],y[x++]=w[1]+1.4,m=Math.max(w[0],m)}return{data:y,shape:m}}function c(h,v,y){var y=y||{},x=u[h];x||(x=u[h]={" ":{data:new Float32Array(0),shape:.2}});var m=x[v];if(!m)if(v.length<=1||!/\d/.test(v))m=x[v]=f(s(v,{triangles:!0,font:h,textAlign:y.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=v.split(/(\d|\s)/),g=new Array(_.length),A=0,w=0,k=0;k<_.length;++k)g[k]=c(h,_[k]),A+=g[k].data.length,w+=g[k].shape,k>0&&(w+=.02);for(var p=new Float32Array(A),d=0,M=-.5*w,k=0;k<g.length;++k){for(var T=g[k].data,S=0;S<T.length;S+=2)p[d++]=T[S]+M,p[d++]=T[S+1];M+=g[k].shape+.02}m=x[v]={data:p,shape:w}}return m}}).call(this)}).call(this,n("_process"))},{_process:5,"vectorize-text":311}],304:[function(n,i,a){"use strict";var o=n("parse-unit");i.exports=f;var s=96;function l(c,h){var v=o(getComputedStyle(c).getPropertyValue(h));return v[0]*f(v[1],c)}function u(c,h){var v=document.createElement("div");v.style["font-size"]="128"+c,h.appendChild(v);var b=l(v,"font-size")/128;return h.removeChild(v),b}function f(c,h){switch(h=h||document.body,c=(c||"px").trim().toLowerCase(),(h===window||h===document)&&(h=document.body),c){case"%":return h.clientHeight/100;case"ch":case"ex":return u(c,h);case"em":return l(h,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},{"parse-unit":265}],305:[function(n,i,a){"use strict";i.exports=_;var o=n("filtered-vector"),s=n("gl-mat4/invert"),l=n("gl-mat4/rotate"),u=n("gl-vec3/cross"),f=n("gl-vec3/normalize"),c=n("gl-vec3/dot");function h(g,A,w){return Math.sqrt(Math.pow(g,2)+Math.pow(A,2)+Math.pow(w,2))}function v(g){return Math.min(1,Math.max(-1,g))}function b(g){var A=Math.abs(g[0]),w=Math.abs(g[1]),k=Math.abs(g[2]),p=[0,0,0];A>Math.max(w,k)?p[2]=1:w>Math.max(A,k)?p[0]=1:p[1]=1;for(var d=0,M=0,T=0;T<3;++T)d+=g[T]*g[T],M+=p[T]*g[T];for(var T=0;T<3;++T)p[T]-=M/d*g[T];return f(p,p),p}function y(g,A,w,k,p,d,M,T){this.center=o(w),this.up=o(k),this.right=o(p),this.radius=o([d]),this.angle=o([M,T]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(g,A),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var S=0;S<16;++S)this.computedMatrix[S]=.5;this.recalcMatrix(0)}var x=y.prototype;x.setDistanceLimits=function(g,A){g>0?g=Math.log(g):g=-1/0,A>0?A=Math.log(A):A=1/0,A=Math.max(A,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=A},x.getDistanceLimits=function(g){var A=this.radius.bounds[0];return g?(g[0]=Math.exp(A[0][0]),g[1]=Math.exp(A[1][0]),g):[Math.exp(A[0][0]),Math.exp(A[1][0])]},x.recalcMatrix=function(g){this.center.curve(g),this.up.curve(g),this.right.curve(g),this.radius.curve(g),this.angle.curve(g);for(var A=this.computedUp,w=this.computedRight,k=0,p=0,d=0;d<3;++d)p+=A[d]*w[d],k+=A[d]*A[d];for(var M=Math.sqrt(k),T=0,d=0;d<3;++d)w[d]-=A[d]*p/k,T+=w[d]*w[d],A[d]/=M;for(var S=Math.sqrt(T),d=0;d<3;++d)w[d]/=S;var E=this.computedToward;u(E,A,w),f(E,E);for(var L=Math.exp(this.computedRadius[0]),D=this.computedAngle[0],R=this.computedAngle[1],q=Math.cos(D),C=Math.sin(D),F=Math.cos(R),N=Math.sin(R),U=this.computedCenter,V=q*F,Y=C*F,K=N,B=-q*N,z=-C*N,j=F,ae=this.computedEye,ee=this.computedMatrix,d=0;d<3;++d){var ve=V*w[d]+Y*E[d]+K*A[d];ee[4*d+1]=B*w[d]+z*E[d]+j*A[d],ee[4*d+2]=ve,ee[4*d+3]=0}var fe=ee[1],se=ee[5],G=ee[9],Z=ee[2],X=ee[6],ge=ee[10],qe=se*ge-G*X,Pe=G*Z-fe*ge,Oe=fe*X-se*Z,de=h(qe,Pe,Oe);qe/=de,Pe/=de,Oe/=de,ee[0]=qe,ee[4]=Pe,ee[8]=Oe;for(var d=0;d<3;++d)ae[d]=U[d]+ee[2+4*d]*L;for(var d=0;d<3;++d){for(var T=0,_e=0;_e<3;++_e)T+=ee[d+4*_e]*ae[_e];ee[12+d]=-T}ee[15]=1},x.getMatrix=function(g,A){this.recalcMatrix(g);var w=this.computedMatrix;if(A){for(var k=0;k<16;++k)A[k]=w[k];return A}return w};var m=[0,0,0];x.rotate=function(g,A,w,k){if(this.angle.move(g,A,w),k){this.recalcMatrix(g);var p=this.computedMatrix;m[0]=p[2],m[1]=p[6],m[2]=p[10];for(var d=this.computedUp,M=this.computedRight,T=this.computedToward,S=0;S<3;++S)p[4*S]=d[S],p[4*S+1]=M[S],p[4*S+2]=T[S];l(p,p,k,m);for(var S=0;S<3;++S)d[S]=p[4*S],M[S]=p[4*S+1];this.up.set(g,d[0],d[1],d[2]),this.right.set(g,M[0],M[1],M[2])}},x.pan=function(g,A,w,k){A=A||0,w=w||0,k=k||0,this.recalcMatrix(g);var p=this.computedMatrix,d=Math.exp(this.computedRadius[0]),M=p[1],T=p[5],S=p[9],E=h(M,T,S);M/=E,T/=E,S/=E;var L=p[0],D=p[4],R=p[8],q=L*M+D*T+R*S;L-=M*q,D-=T*q,R-=S*q;var C=h(L,D,R);L/=C,D/=C,R/=C;var F=L*A+M*w,N=D*A+T*w,U=R*A+S*w;this.center.move(g,F,N,U);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+k),this.radius.set(g,Math.log(V))},x.translate=function(g,A,w,k){this.center.move(g,A||0,w||0,k||0)},x.setMatrix=function(g,A,w,k){var p=1;typeof w=="number"&&(p=w|0),(p<0||p>3)&&(p=1);var d=(p+2)%3,M=(p+1)%3;A||(this.recalcMatrix(g),A=this.computedMatrix);var T=A[p],S=A[p+4],E=A[p+8];if(k){var D=Math.abs(T),R=Math.abs(S),q=Math.abs(E),C=Math.max(D,R,q);D===C?(T=T<0?-1:1,S=E=0):q===C?(E=E<0?-1:1,T=S=0):(S=S<0?-1:1,T=E=0)}else{var L=h(T,S,E);T/=L,S/=L,E/=L}var F=A[d],N=A[d+4],U=A[d+8],V=F*T+N*S+U*E;F-=T*V,N-=S*V,U-=E*V;var Y=h(F,N,U);F/=Y,N/=Y,U/=Y;var K=S*U-E*N,B=E*F-T*U,z=T*N-S*F,j=h(K,B,z);K/=j,B/=j,z/=j,this.center.jump(g,Fe,He,te),this.radius.idle(g),this.up.jump(g,T,S,E),this.right.jump(g,F,N,U);var ae,ee;if(p===2){var ve=A[1],fe=A[5],se=A[9],G=ve*F+fe*N+se*U,Z=ve*K+fe*B+se*z;Pe<0?ae=-Math.PI/2:ae=Math.PI/2,ee=Math.atan2(Z,G)}else{var X=A[2],ge=A[6],qe=A[10],Pe=X*T+ge*S+qe*E,Oe=X*F+ge*N+qe*U,de=X*K+ge*B+qe*z;ae=Math.asin(v(Pe)),ee=Math.atan2(de,Oe)}this.angle.jump(g,ee,ae),this.recalcMatrix(g);var _e=A[2],ce=A[6],J=A[10],ne=this.computedMatrix;s(ne,A);var be=ne[15],Fe=ne[12]/be,He=ne[13]/be,te=ne[14]/be,ye=Math.exp(this.computedRadius[0]);this.center.jump(g,Fe-_e*ye,He-ce*ye,te-J*ye)},x.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},x.idle=function(g){this.center.idle(g),this.up.idle(g),this.right.idle(g),this.radius.idle(g),this.angle.idle(g)},x.flush=function(g){this.center.flush(g),this.up.flush(g),this.right.flush(g),this.radius.flush(g),this.angle.flush(g)},x.setDistance=function(g,A){A>0&&this.radius.set(g,Math.log(A))},x.lookAt=function(g,A,w,k){this.recalcMatrix(g),A=A||this.computedEye,w=w||this.computedCenter,k=k||this.computedUp;var p=k[0],d=k[1],M=k[2],T=h(p,d,M);if(!(T<1e-6)){p/=T,d/=T,M/=T;var S=A[0]-w[0],E=A[1]-w[1],L=A[2]-w[2],D=h(S,E,L);if(!(D<1e-6)){S/=D,E/=D,L/=D;var R=this.computedRight,q=R[0],C=R[1],F=R[2],N=p*q+d*C+M*F;q-=N*p,C-=N*d,F-=N*M;var U=h(q,C,F);if(!(U<.01&&(q=d*L-M*E,C=M*S-p*L,F=p*E-d*S,U=h(q,C,F),U<1e-6))){q/=U,C/=U,F/=U,this.up.set(g,p,d,M),this.right.set(g,q,C,F),this.center.set(g,w[0],w[1],w[2]),this.radius.set(g,Math.log(D));var V=d*F-M*C,Y=M*q-p*F,K=p*C-d*q,B=h(V,Y,K);V/=B,Y/=B,K/=B;var z=p*S+d*E+M*L,j=q*S+C*E+F*L,ae=V*S+Y*E+K*L,ee=Math.asin(v(z)),ve=Math.atan2(ae,j),fe=this.angle._state,se=fe[fe.length-1],G=fe[fe.length-2];se=se%(2*Math.PI);var Z=Math.abs(se+2*Math.PI-ve),X=Math.abs(se-ve),ge=Math.abs(se-2*Math.PI-ve);Z<X&&(se+=2*Math.PI),ge<X&&(se-=2*Math.PI),this.angle.jump(this.angle.lastT(),se,G),this.angle.set(g,ve,ee)}}}};function _(g){g=g||{};var A=g.center||[0,0,0],w=g.up||[0,1,0],k=g.right||b(w),p=g.radius||1,d=g.theta||0,M=g.phi||0;if(A=[].slice.call(A,0,3),w=[].slice.call(w,0,3),f(w,w),k=[].slice.call(k,0,3),f(k,k),"eye"in g){var T=g.eye,S=[T[0]-A[0],T[1]-A[1],T[2]-A[2]];u(k,S,w),h(k[0],k[1],k[2])<1e-6?k=b(w):f(k,k),p=h(S[0],S[1],S[2]);var E=c(w,S)/p,L=c(k,S)/p;M=Math.acos(E),d=Math.acos(L)}return p=Math.log(p),new y(g.zoomMin,g.zoomMax,A,w,k,p,d,M)}},{"filtered-vector":68,"gl-mat4/invert":98,"gl-mat4/rotate":103,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/normalize":179}],306:[function(n,i,a){"use strict";i.exports=s;var o=+(Math.pow(2,27)+1);function s(l,u,f){var c=l*u,h=o*l,v=h-l,b=h-v,y=l-b,x=o*u,m=x-u,_=x-m,g=u-_,A=c-b*_,w=A-y*_,k=w-b*g,p=y*g-k;return f?(f[0]=p,f[1]=c,f):[p,c]}},{}],307:[function(n,i,a){"use strict";i.exports=o;function o(s,l,u){var f=s+l,c=f-s,h=f-c,v=l-c,b=s-h;return u?(u[0]=b+v,u[1]=f,u):[b+v,f]}},{}],308:[function(n,i,a){(function(o){(function(){"use strict";var s=n("bit-twiddle"),l=n("dup"),u=n("buffer").Buffer;o.__TYPEDARRAY_POOL||(o.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var f=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",v=o.__TYPEDARRAY_POOL;v.UINT8C||(v.UINT8C=l([32,0])),v.BIGUINT64||(v.BIGUINT64=l([32,0])),v.BIGINT64||(v.BIGINT64=l([32,0])),v.BUFFER||(v.BUFFER=l([32,0]));var b=v.DATA,y=v.BUFFER;a.free=function(C){if(u.isBuffer(C))y[s.log2(C.length)].push(C);else{if(Object.prototype.toString.call(C)!=="[object ArrayBuffer]"&&(C=C.buffer),!C)return;var F=C.length||C.byteLength,N=s.log2(F)|0;b[N].push(C)}};function x(q){if(q){var C=q.length||q.byteLength,F=s.log2(C);b[F].push(q)}}function m(q){x(q.buffer)}a.freeUint8=a.freeUint16=a.freeUint32=a.freeBigUint64=a.freeInt8=a.freeInt16=a.freeInt32=a.freeBigInt64=a.freeFloat32=a.freeFloat=a.freeFloat64=a.freeDouble=a.freeUint8Clamped=a.freeDataView=m,a.freeArrayBuffer=x,a.freeBuffer=function(C){y[s.log2(C.length)].push(C)},a.malloc=function(C,F){if(F===void 0||F==="arraybuffer")return _(C);switch(F){case"uint8":return g(C);case"uint16":return A(C);case"uint32":return w(C);case"int8":return k(C);case"int16":return p(C);case"int32":return d(C);case"float":case"float32":return M(C);case"double":case"float64":return T(C);case"uint8_clamped":return S(C);case"bigint64":return L(C);case"biguint64":return E(C);case"buffer":return R(C);case"data":case"dataview":return D(C);default:return null}return null};function _(C){var C=s.nextPow2(C),F=s.log2(C),N=b[F];return N.length>0?N.pop():new ArrayBuffer(C)}a.mallocArrayBuffer=_;function g(q){return new Uint8Array(_(q),0,q)}a.mallocUint8=g;function A(q){return new Uint16Array(_(2*q),0,q)}a.mallocUint16=A;function w(q){return new Uint32Array(_(4*q),0,q)}a.mallocUint32=w;function k(q){return new Int8Array(_(q),0,q)}a.mallocInt8=k;function p(q){return new Int16Array(_(2*q),0,q)}a.mallocInt16=p;function d(q){return new Int32Array(_(4*q),0,q)}a.mallocInt32=d;function M(q){return new Float32Array(_(4*q),0,q)}a.mallocFloat32=a.mallocFloat=M;function T(q){return new Float64Array(_(8*q),0,q)}a.mallocFloat64=a.mallocDouble=T;function S(q){return f?new Uint8ClampedArray(_(q),0,q):g(q)}a.mallocUint8Clamped=S;function E(q){return c?new BigUint64Array(_(8*q),0,q):null}a.mallocBigUint64=E;function L(q){return h?new BigInt64Array(_(8*q),0,q):null}a.mallocBigInt64=L;function D(q){return new DataView(_(q),0,q)}a.mallocDataView=D;function R(q){q=s.nextPow2(q);var C=s.log2(q),F=y[C];return F.length>0?F.pop():new u(q)}a.mallocBuffer=R,a.clearCache=function(){for(var C=0;C<32;++C)v.UINT8[C].length=0,v.UINT16[C].length=0,v.UINT32[C].length=0,v.INT8[C].length=0,v.INT16[C].length=0,v.INT32[C].length=0,v.FLOAT[C].length=0,v.DOUBLE[C].length=0,v.BIGUINT64[C].length=0,v.BIGINT64[C].length=0,v.UINT8C[C].length=0,b[C].length=0,y[C].length=0}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"bit-twiddle":32,buffer:3,dup:65}],309:[function(n,i,a){"use strict";i.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var u=0;u<l;++u)this.roots[u]=u,this.ranks[u]=0}var s=o.prototype;Object.defineProperty(s,"length",{get:function(){return this.roots.length}}),s.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},s.find=function(l){for(var u=l,f=this.roots;f[l]!==l;)l=f[l];for(;f[u]!==l;){var c=f[u];f[u]=l,u=c}return l},s.link=function(l,u){var f=this.find(l),c=this.find(u);if(f!==c){var h=this.ranks,v=this.roots,b=h[f],y=h[c];b<y?v[f]=c:y<b?v[c]=f:(v[c]=f,++h[f])}}},{}],310:[function(n,i,a){"use strict";function o(u,f){for(var c=1,h=u.length,v=u[0],b=u[0],y=1;y<h;++y)if(b=v,v=u[y],f(v,b)){if(y===c){c++;continue}u[c++]=v}return u.length=c,u}function s(u){for(var f=1,c=u.length,h=u[0],v=u[0],b=1;b<c;++b,v=h)if(v=h,h=u[b],h!==v){if(b===f){f++;continue}u[f++]=h}return u.length=f,u}function l(u,f,c){return u.length===0?u:f?(c||u.sort(f),o(u,f)):(c||u.sort(),s(u))}i.exports=l},{}],311:[function(n,i,a){"use strict";i.exports=u;var o=n("./lib/vtext"),s=null,l=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,l=s.getContext("2d"));function u(f,c){return(typeof c!="object"||c===null)&&(c={}),o(f,c.canvas||s,c.context||l,c)}},{"./lib/vtext":312}],312:[function(n,i,a){i.exports=E,i.exports.processPixels=S;var o=n("surface-nets"),s=n("ndarray"),l=n("simplify-planar-graph"),u=n("clean-pslg"),f=n("cdt2d"),c=n("planar-graph-to-polyline"),h="b",v="b|",b="i",y="i|",x="sup",m="+",_="+1",g="sub",A="-",w="-1";function k(L,D,R,q){for(var C="<"+L+">",F="</"+L+">",N=C.length,U=F.length,V=D[0]===m||D[0]===A,Y=0,K=-U;Y>-1&&(Y=R.indexOf(C,Y),!(Y===-1||(K=R.indexOf(F,Y+N),K===-1)||K<=Y));){for(var B=Y;B<K+U;++B)if(B<Y+N||B>=K)q[B]=null,R=R.substr(0,B)+" "+R.substr(B+1);else if(q[B]!==null){var z=q[B].indexOf(D[0]);z===-1?q[B]+=D:V&&(q[B]=q[B].substr(0,z+1)+(1+parseInt(q[B][z+1]))+q[B].substr(z+2))}var j=Y+N,ae=R.substr(j,K-j),ee=ae.indexOf(C);ee!==-1?Y=ee:Y=K+U}return q}function p(L,D,R){for(var q=D.textAlign||"start",C=D.textBaseline||"alphabetic",F=[1<<30,1<<30],N=[0,0],U=L.length,V=0;V<U;++V)for(var Y=L[V],K=0;K<2;++K)F[K]=Math.min(F[K],Y[K])|0,N[K]=Math.max(N[K],Y[K])|0;var B=0;switch(q){case"center":B=-.5*(F[0]+N[0]);break;case"right":case"end":B=-N[0];break;case"left":case"start":B=-F[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+q+"'")}var z=0;switch(C){case"hanging":case"top":z=-F[1];break;case"middle":z=-.5*(F[1]+N[1]);break;case"alphabetic":case"ideographic":z=-3*R;break;case"bottom":z=-N[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+C+"'")}var j=1/R;return"lineHeight"in D?j*=+D.lineHeight:"width"in D?j=D.width/(N[0]-F[0]):"height"in D&&(j=D.height/(N[1]-F[1])),L.map(function(ae){return[j*(ae[0]+B),j*(ae[1]+z)]})}function d(L,D,R,q,C,F){R=R.replace(/\n/g,""),F.breaklines===!0?R=R.replace(/\<br\>/g,`
`):R=R.replace(/\<br\>/g," ");var N="",U=[];for(se=0;se<R.length;++se)U[se]=N;F.bolds===!0&&(U=k(h,v,R,U)),F.italics===!0&&(U=k(b,y,R,U)),F.superscripts===!0&&(U=k(x,_,R,U)),F.subscripts===!0&&(U=k(g,w,R,U));var V=[],Y="";for(se=0;se<R.length;++se)U[se]!==null&&(Y+=R[se],V.push(U[se]));var K=Y.split(`
`),B=K.length,z=Math.round(C*q),j=q,ae=q*2,ee=0,ve=B*z+ae;L.height<ve&&(L.height=ve),D.fillStyle="#000",D.fillRect(0,0,L.width,L.height),D.fillStyle="#fff";var fe,se,G,Z,X,ge=0,qe="";function Pe(){if(qe!==""){var He=D.measureText(qe).width;D.fillText(qe,j+G,ae+Z),G+=He}}function Oe(){return""+Math.round(X)+"px "}function de(He,te){var ye=""+D.font;if(F.subscripts===!0){var Te=He.indexOf(A),Ce=te.indexOf(A),De=Te>-1?parseInt(He[1+Te]):0,oe=Ce>-1?parseInt(te[1+Ce]):0;De!==oe&&(ye=ye.replace(Oe(),"?px "),X*=Math.pow(.75,oe-De),ye=ye.replace("?px ",Oe())),Z+=.25*z*(oe-De)}if(F.superscripts===!0){var pe=He.indexOf(m),Le=te.indexOf(m),Ue=pe>-1?parseInt(He[1+pe]):0,et=Le>-1?parseInt(te[1+Le]):0;Ue!==et&&(ye=ye.replace(Oe(),"?px "),X*=Math.pow(.75,et-Ue),ye=ye.replace("?px ",Oe())),Z-=.25*z*(et-Ue)}if(F.bolds===!0){var Qe=He.indexOf(v)>-1,dt=te.indexOf(v)>-1;!Qe&&dt&&(ht?ye=ye.replace("italic ","italic bold "):ye="bold "+ye),Qe&&!dt&&(ye=ye.replace("bold ",""))}if(F.italics===!0){var ht=He.indexOf(y)>-1,_t=te.indexOf(y)>-1;!ht&&_t&&(ye="italic "+ye),ht&&!_t&&(ye=ye.replace("italic ",""))}D.font=ye}for(fe=0;fe<B;++fe){var _e=K[fe]+`
`;for(G=0,Z=fe*z,X=q,qe="",se=0;se<_e.length;++se){var ce=se+ge<V.length?V[se+ge]:V[V.length-1];N===ce?qe+=_e[se]:(Pe(),qe=_e[se],ce!==void 0&&(de(N,ce),N=ce))}Pe(),ge+=_e.length;var J=Math.round(G+2*j)|0;ee<J&&(ee=J)}var ne=ee,be=ae+z*B,Fe=s(D.getImageData(0,0,ne,be).data,[be,ne,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function M(L,D){var R=o(L,128);return D?l(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function T(L,D,R,q){var C=M(L,q),F=p(C.positions,D,R),N=C.edges,U=D.orientation==="ccw";if(u(F,N),D.polygons||D.polygon||D.polyline){for(var V=c(N,F),Y=new Array(V.length),K=0;K<V.length;++K){for(var B=V[K],z=new Array(B.length),j=0;j<B.length;++j){for(var ae=B[j],ee=new Array(ae.length),ve=0;ve<ae.length;++ve)ee[ve]=F[ae[ve]].slice();U&&ee.reverse(),z[j]=ee}Y[K]=z}return Y}else return D.triangles||D.triangulate||D.triangle?{cells:f(F,N,{delaunay:!1,exterior:!1,interior:!0}),positions:F}:{edges:N,positions:F}}function S(L,D,R){try{return T(L,D,R,!0)}catch{}try{return T(L,D,R,!1)}catch{}return D.polygons||D.polyline||D.polygon?[]:D.triangles||D.triangulate||D.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function E(L,D,R,q){var C=64,F=1.25,N={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};q&&(q.size&&q.size>0&&(C=q.size),q.lineSpacing&&q.lineSpacing>0&&(F=q.lineSpacing),q.styletags&&q.styletags.breaklines&&(N.breaklines=!!q.styletags.breaklines),q.styletags&&q.styletags.bolds&&(N.bolds=!!q.styletags.bolds),q.styletags&&q.styletags.italics&&(N.italics=!!q.styletags.italics),q.styletags&&q.styletags.subscripts&&(N.subscripts=!!q.styletags.subscripts),q.styletags&&q.styletags.superscripts&&(N.superscripts=!!q.styletags.superscripts)),R.font=[q.fontStyle,q.fontVariant,q.fontWeight,C+"px",q.font].filter(function(V){return V}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr";var U=d(D,R,L,C,F,N);return S(U,q,C)}},{cdt2d:42,"clean-pslg":50,ndarray:259,"planar-graph-to-polyline":268,"simplify-planar-graph":297,"surface-nets":302}],313:[function(n,i,a){(function(){"use strict";if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function s(E){E.permitHostObjects___&&E.permitHostObjects___(s)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=s);var l=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var f=new u,c=Object.freeze({});if(f.set(c,1),f.get(c)!==1)l=!0;else{i.exports=WeakMap;return}}}var h=Object.prototype.hasOwnProperty,v=Object.getOwnPropertyNames,b=Object.defineProperty,y=Object.isExtensible,x="weakmap:",m=x+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var _=new ArrayBuffer(25),g=new Uint8Array(_);crypto.getRandomValues(g),m=x+"rand:"+Array.prototype.map.call(g,function(E){return(E%36).toString(36)}).join("")+"___"}function A(E){return!(E.substr(0,x.length)==x&&E.substr(E.length-3)==="___")}if(b(Object,"getOwnPropertyNames",{value:function(L){return v(L).filter(A)}}),"getPropertyNames"in Object){var w=Object.getPropertyNames;b(Object,"getPropertyNames",{value:function(L){return w(L).filter(A)}})}function k(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var L=E[m];if(L&&L.key===E)return L;if(y(E)){L={key:E};try{return b(E,m,{value:L,writable:!1,enumerable:!1,configurable:!1}),L}catch{return}}}(function(){var E=Object.freeze;b(Object,"freeze",{value:function(q){return k(q),E(q)}});var L=Object.seal;b(Object,"seal",{value:function(q){return k(q),L(q)}});var D=Object.preventExtensions;b(Object,"preventExtensions",{value:function(q){return k(q),D(q)}})})();function p(E){return E.prototype=null,Object.freeze(E)}var d=!1;function M(){!d&&typeof console<"u"&&(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var T=0,S=function(){this instanceof S||M();var E=[],L=[],D=T++;function R(N,U){var V,Y=k(N);return Y?D in Y?Y[D]:U:(V=E.indexOf(N),V>=0?L[V]:U)}function q(N){var U=k(N);return U?D in U:E.indexOf(N)>=0}function C(N,U){var V,Y=k(N);return Y?Y[D]=U:(V=E.indexOf(N),V>=0?L[V]=U:(V=E.length,L[V]=U,E[V]=N)),this}function F(N){var U=k(N),V,Y;return U?D in U&&delete U[D]:(V=E.indexOf(N),V<0?!1:(Y=E.length-1,E[V]=void 0,L[V]=L[Y],E[V]=E[Y],E.length=Y,L.length=Y,!0))}return Object.create(S.prototype,{get___:{value:p(R)},has___:{value:p(q)},set___:{value:p(C)},delete___:{value:p(F)}})};S.prototype=Object.create(Object.prototype,{get:{value:function(L,D){return this.get___(L,D)},writable:!0,configurable:!0},has:{value:function(L){return this.has___(L)},writable:!0,configurable:!0},set:{value:function(L,D){return this.set___(L,D)},writable:!0,configurable:!0},delete:{value:function(L){return this.delete___(L)},writable:!0,configurable:!0}}),typeof u=="function"?function(){l&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof S||M();var L=new u,D=void 0,R=!1;function q(U,V){return D?L.has(U)?L.get(U):D.get___(U,V):L.get(U,V)}function C(U){return L.has(U)||(D?D.has___(U):!1)}var F;l?F=function(U,V){return L.set(U,V),L.has(U)||(D||(D=new S),D.set(U,V)),this}:F=function(U,V){if(R)try{L.set(U,V)}catch{D||(D=new S),D.set___(U,V)}else L.set(U,V);return this};function N(U){var V=!!L.delete(U);return D&&D.delete___(U)||V}return Object.create(S.prototype,{get___:{value:p(q)},has___:{value:p(C)},set___:{value:p(F)},delete___:{value:p(N)},permitHostObjects___:{value:p(function(U){if(U===s)R=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=S.prototype,i.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),i.exports=S)})()},{}],314:[function(n,i,a){var o=n("./hidden-store.js");i.exports=s;function s(){var l={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(l);return f&&f.identity===l?f:o(u,l)}}},{"./hidden-store.js":315}],315:[function(n,i,a){i.exports=o;function o(s,l){var u={identity:l},f=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(c){return c!==l?f.apply(this,arguments):u},writable:!0}),u}},{}],316:[function(n,i,a){var o=n("./create-store.js");i.exports=s;function s(){var l=o();return{get:function(u,f){var c=l(u);return c.hasOwnProperty("value")?c.value:f},set:function(u,f){return l(u).value=f,this},has:function(u){return"value"in l(u)},delete:function(u){return delete l(u).value}}}},{"./create-store.js":314}],317:[function(n,i,a){"use strict";function o(){return function(h,v,b,y,x,m){var _=h[0],g=b[0],A=[0],w=g;y|=0;var k=0,p=g;for(k=0;k<_;++k){{var d=v[y]-m,M=v[y+w]-m;d>=0!=M>=0&&x.push(A[0]+.5+.5*(d+M)/(d-M))}y+=p,++A[0]}}}function s(){return o()}var l=s;function u(h){var v={};return function(y,x,m){var _=y.dtype,g=y.order,A=[_,g.join()].join(),w=v[A];return w||(v[A]=w=h([_,g])),w(y.shape.slice(0),y.data,y.stride,y.offset|0,x,m)}}function f(h){return u(l.bind(void 0,h))}function c(h){return f({funcName:h.funcName})}i.exports=c({funcName:"zeroCrossings"})},{}],318:[function(n,i,a){"use strict";i.exports=s;var o=n("./lib/zc-core");function s(l,u){var f=[];return u=+u||0,o(l.hi(l.shape[0]-1),f,u),f}},{"./lib/zc-core":317}]},{},[6])(6)})});var kpe=$((c6t,Mpe)=>{"use strict";Mpe.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Epe=$((h6t,Spe)=>{"use strict";var qst=Object.prototype.toString;Spe.exports=function(e){var t;return qst.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))}});var Cpe=$((v6t,Lpe)=>{"use strict";Lpe.exports=function(){for(var t=0;t<arguments.length;t++)if(typeof arguments[t]<"u")return arguments[t]}});var Ipe=$((d6t,Rpe)=>{"use strict";var Dpe=kpe(),Rst=Epe(),ig=Cpe();Rpe.exports=Ist;var qpe={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Ist(e){var t,r=[],n=1,i;if(typeof e=="string")if(Dpe[e])r=Dpe[e].slice(),i="rgb";else if(e==="transparent")n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var a=e.slice(1),o=a.length,s=o<=4;n=1,s?(r=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],o===4&&(n=parseInt(a[3]+a[3],16)/255)):(r=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],o===8&&(n=parseInt(a[6]+a[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var l=t[1],u=l==="rgb",a=l.replace(/a$/,"");i=a;var o=a==="cmyk"?4:a==="gray"?1:3;r=t[2].trim().split(/\s*,\s*/).map(function(v,b){if(/%$/.test(v))return b===o?parseFloat(v)/100:a==="rgb"?parseFloat(v)*255/100:parseFloat(v);if(a[b]==="h"){if(/deg$/.test(v))return parseFloat(v);if(qpe[v]!==void 0)return qpe[v]}return parseFloat(v)}),l===a&&r.push(1),n=u||r[o]===void 0?1:r[o],r=r.slice(0,o)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(r=e.match(/([0-9]+)/g).map(function(c){return parseFloat(c)}),i=e.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(e))i="rgb",r=[e>>>16,(e&65280)>>>8,e&255];else if(Rst(e)){var f=ig(e.r,e.red,e.R,null);f!==null?(i="rgb",r=[f,ig(e.g,e.green,e.G),ig(e.b,e.blue,e.B)]):(i="hsl",r=[ig(e.h,e.hue,e.H),ig(e.s,e.saturation,e.S),ig(e.l,e.lightness,e.L,e.b,e.brightness)]),n=ig(e.a,e.alpha,e.opacity,1),e.opacity!=null&&(n/=100)}else(Array.isArray(e)||global.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(r=[e[0],e[1],e[2]],i="rgb",n=e.length===4?e[3]:1);return{space:i,values:r,alpha:n}}});var Fpe=$((p6t,Ppe)=>{"use strict";Ppe.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}});var zpe=$((g6t,Npe)=>{"use strict";var Pst=Fpe();Npe.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i,a,o,s,l;if(r===0)return l=n*255,[l,l,l];n<.5?a=n*(1+r):a=n+r-n*r,i=2*n-a,s=[0,0,0];for(var u=0;u<3;u++)o=t+1/3*-(u-1),o<0?o++:o>1&&o--,6*o<1?l=i+(a-i)*6*o:2*o<1?l=a:3*o<2?l=i+(a-i)*(2/3-o)*6:l=i,s[u]=l*255;return s}};Pst.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=a-i,s,l,u;return a===i?s=0:t===a?s=(r-n)/o:r===a?s=2+(n-t)/o:n===a&&(s=4+(t-r)/o),s=Math.min(s*60,360),s<0&&(s+=360),u=(i+a)/2,a===i?l=0:u<=.5?l=o/(a+i):l=o/(2-a-i),[s,l*100,u*100]}});var yR=$((m6t,Ope)=>{Ope.exports=Fst;function Fst(e,t,r){return t<r?e<t?t:e>r?r:e:e<r?r:e>t?t:e}});var Hpe=$((y6t,Bpe)=>{"use strict";var Nst=Ipe(),zst=zpe(),$M=yR();Bpe.exports=function(t){var r,n,i,a=Nst(t);return a.space?(r=Array(3),r[0]=$M(a.values[0],0,255),r[1]=$M(a.values[1],0,255),r[2]=$M(a.values[2],0,255),a.space[0]==="h"&&(r=zst.rgb(r)),r.push($M(a.alpha,0,1)),r):[]}});var jpe=$((x6t,Upe)=>{Upe.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var xR=$((b6t,Vpe)=>{"use strict";var Ost=Hpe(),KM=yR(),Bst=jpe();Vpe.exports=function(t,r){(r==="float"||!r)&&(r="array"),r==="uint"&&(r="uint8"),r==="uint_clamped"&&(r="uint8_clamped");var n=Bst(r),i=new n(4),a=r!=="uint8"&&r!=="uint8_clamped";return(!t.length||typeof t=="string")&&(t=Ost(t),t[0]/=255,t[1]/=255,t[2]/=255),Hst(t)?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]!=null?t[3]:255,a&&(i[0]/=255,i[1]/=255,i[2]/=255,i[3]/=255),i):(a?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]!=null?t[3]:1):(i[0]=KM(Math.floor(t[0]*255),0,255),i[1]=KM(Math.floor(t[1]*255),0,255),i[2]=KM(Math.floor(t[2]*255),0,255),i[3]=t[3]==null?255:KM(Math.floor(t[3]*255),0,255)),i)};function Hst(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var ic=$((w6t,Gpe)=>{"use strict";var Ust=xR();function jst(e){return e?Ust(e):[0,0,0,1]}Gpe.exports=jst});var s0=$((_6t,Jpe)=>{"use strict";var $pe=mn(),Vst=Ko(),JM=xR(),QM=Wa(),Gst=Ro().defaultLine,Ype=wd().isArrayOrTypedArray,bR=JM(Gst),Kpe=1;function Wpe(e,t){var r=e;return r[3]*=t,r}function Xpe(e){if($pe(e))return bR;var t=JM(e);return t.length?t:bR}function Zpe(e){return $pe(e)?e:Kpe}function Yst(e,t,r){var n=e.color,i=Ype(n),a=Ype(t),o=QM.extractOpts(e),s=[],l,u,f,c,h;if(o.colorscale!==void 0?l=QM.makeColorScaleFuncFromTrace(e):l=Xpe,i?u=function(b,y){return b[y]===void 0?bR:JM(l(b[y]))}:u=Xpe,a?f=function(b,y){return b[y]===void 0?Kpe:Zpe(b[y])}:f=Zpe,i||a)for(var v=0;v<r;v++)c=u(n,v),h=f(t,v),s[v]=Wpe(c,h);else s=Wpe(JM(n),t);return s}function Wst(e){var t=QM.extractOpts(e),r=t.colorscale;return t.reversescale&&(r=QM.flipScale(t.colorscale)),r.map(function(n){var i=n[0],a=Vst(n[1]),o=a.toRgb();return{index:i,rgb:[o.r,o.g,o.b,o.a]}})}Jpe.exports={formatColor:Yst,parseColorScale:Wst}});var wR=$((T6t,Qpe)=>{"use strict";Qpe.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var ek=$((A6t,ege)=>{"use strict";ege.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var rge=$((M6t,tge)=>{"use strict";var Xst=Ir();function _R(e,t,r,n){if(!t||!t.visible)return null;for(var i=Xst.getComponentMethod("errorbars","makeComputeError")(t),a=new Array(e.length),o=0;o<e.length;o++){var s=i(+e[o],o);if(n.type==="log"){var l=n.c2l(e[o]),u=e[o]-s[0],f=e[o]+s[1];if(a[o]=[(n.c2l(u,!0)-l)*r,(n.c2l(f,!0)-l)*r],u>0){var c=n.c2l(u);n._lowerLogErrorBound||(n._lowerLogErrorBound=c),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,c)}}else a[o]=[-s[0]*r,s[1]*r]}return a}function Zst(e){for(var t=0;t<e.length;t++)if(e[t])return e[t].length;return 0}function $st(e,t,r){var n=[_R(e.x,e.error_x,t[0],r.xaxis),_R(e.y,e.error_y,t[1],r.yaxis),_R(e.z,e.error_z,t[2],r.zaxis)],i=Zst(n);if(i===0)return null;for(var a=new Array(i),o=0;o<i;o++){for(var s=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(n[l])for(var u=0;u<2;u++)s[u][l]=n[l][o][u];a[o]=s}return a}tge.exports=$st});var cge=$((k6t,fge)=>{"use strict";var Kst=$a().gl_line3d,nge=$a().gl_scatter3d,Jst=$a().gl_error3d,Qst=$a().gl_mesh3d,elt=$a().delaunay_triangulate,ag=pt(),lge=ic(),tk=s0().formatColor,tlt=nL(),TR=wR(),rlt=ek(),nlt=tn(),ilt=Pf().appendArrayPointValue,alt=rge();function uge(e,t){this.scene=e,this.uid=t,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var MR=uge.prototype;MR.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var t=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[t]||this.textLabels[t]===0)&&(e.textLabel=this.textLabels[t]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}};function olt(e,t,r){var n=(r+1)%3,i=(r+2)%3,a=[],o=[],s;for(s=0;s<e.length;++s){var l=e[s];isNaN(l[n])||!isFinite(l[n])||isNaN(l[i])||!isFinite(l[i])||(a.push([l[n],l[i]]),o.push(s))}var u=elt(a);for(s=0;s<u.length;++s)for(var f=u[s],c=0;c<f.length;++c)f[c]=o[f[c]];return{positions:e,cells:u,meshColor:t}}function slt(e){for(var t=[0,0,0],r=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],i=0;i<3;i++){var a=e[i];a&&a.copy_zstyle!==!1&&e[2].visible!==!1&&(a=e[2]),!(!a||!a.visible)&&(t[i]=a.width/2,r[i]=lge(a.color),n[i]=a.thickness)}return{capSize:t,color:r,lineWidth:n}}function ige(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function age(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function llt(e){var t=0,r=0,n=[t,r];if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=[t,r],e[i]&&(n[i][0]=ige(e[i]),n[i][1]=age(e[i]));else n[0]=ige(e),n[1]=age(e);return n}function ult(e,t){return t(e*4)}function flt(e){return rlt[e]}function AR(e,t,r,n,i){var a=null;if(ag.isArrayOrTypedArray(e)){a=[];for(var o=0;o<t;o++)e[o]===void 0?a[o]=n:a[o]=r(e[o],i)}else a=r(e,ag.identity);return a}function clt(e,t){var r=[],n=e.fullSceneLayout,i=e.dataScale,a=n.xaxis,o=n.yaxis,s=n.zaxis,l=t.marker,u=t.line,f=t.x||[],c=t.y||[],h=t.z||[],v=f.length,b=t.xcalendar,y=t.ycalendar,x=t.zcalendar,m,_,g,A,w,k;for(w=0;w<v;w++)m=a.d2l(f[w],0,b)*i[0],_=o.d2l(c[w],0,y)*i[1],g=s.d2l(h[w],0,x)*i[2],r[w]=[m,_,g];if(Array.isArray(t.text))k=t.text;else if(t.text!==void 0)for(k=new Array(v),w=0;w<v;w++)k[w]=t.text;function p(Y,K){var B=n[Y];return nlt.tickText(B,B.d2l(K),!0).text}var d=t.texttemplate;if(d){var M=e.fullLayout,T=M._d3locale,S=Array.isArray(d),E=S?Math.min(d.length,v):v,L=S?function(Y){return d[Y]}:function(){return d};for(k=new Array(E),w=0;w<E;w++){var D={x:f[w],y:c[w],z:h[w]},R={xLabel:p("xaxis",f[w]),yLabel:p("yaxis",c[w]),zLabel:p("zaxis",h[w])},q={};ilt(q,t,w);var C=t._meta||{};k[w]=ag.texttemplateString(L(w),R,T,q,D,C)}}if(A={position:r,mode:t.mode,text:k},"line"in t&&(A.lineColor=tk(u,1,v),A.lineWidth=u.width,A.lineDashes=u.dash),"marker"in t){var F=tlt(t);A.scatterColor=tk(l,1,v),A.scatterSize=AR(l.size,v,ult,20,F),A.scatterMarker=AR(l.symbol,v,flt,"\u25CF"),A.scatterLineWidth=l.line.width,A.scatterLineColor=tk(l.line,1,v),A.scatterAngle=0}"textposition"in t&&(A.textOffset=llt(t.textposition),A.textColor=tk(t.textfont,1,v),A.textSize=AR(t.textfont.size,v,ag.identity,12),A.textFont=t.textfont.family,A.textAngle=0);var N=["x","y","z"];for(A.project=[!1,!1,!1],A.projectScale=[1,1,1],A.projectOpacity=[1,1,1],w=0;w<3;++w){var U=t.projection[N[w]];(A.project[w]=U.show)&&(A.projectOpacity[w]=U.opacity,A.projectScale[w]=U.scale)}A.errorBounds=alt(t,i,n);var V=slt([t.error_x,t.error_y,t.error_z]);return A.errorColor=V.color,A.errorLineWidth=V.lineWidth,A.errorCapSize=V.capSize,A.delaunayAxis=t.surfaceaxis,A.delaunayColor=lge(t.surfacecolor),A}function oge(e){if(ag.isArrayOrTypedArray(e)){var t=e[0];return ag.isArrayOrTypedArray(t)&&(e=t),"rgb("+e.slice(0,3).map(function(r){return Math.round(r*255)})+")"}return null}function sge(e){return ag.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?oge(e):e.map(oge):null}MR.update=function(e){var t=this.scene.glplot.gl,r,n,i,a,o=TR.solid;this.data=e;var s=clt(this.scene,e);"mode"in s&&(this.mode=s.mode),"lineDashes"in s&&s.lineDashes in TR&&(o=TR[s.lineDashes]),this.color=sge(s.scatterColor)||sge(s.lineColor),this.dataPoints=s.position,r={gl:this.scene.glplot.gl,position:s.position,color:s.lineColor,lineWidth:s.lineWidth||1,dashes:o[0],dashScale:o[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(r):(this.linePlot=Kst(r),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var l=e.opacity;if(e.marker&&e.marker.opacity&&(l*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:s.position,color:s.scatterColor,size:s.scatterSize,glyph:s.scatterMarker,opacity:l,orthographic:!0,lineWidth:s.scatterLineWidth,lineColor:s.scatterLineColor,project:s.project,projectScale:s.projectScale,projectOpacity:s.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=nge(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),a={gl:this.scene.glplot.gl,position:s.position,glyph:s.text,color:s.textColor,size:s.textSize,angle:s.textAngle,alignment:s.textOffset,font:s.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(a):(this.textMarkers=nge(a),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),i={gl:this.scene.glplot.gl,position:s.position,color:s.errorColor,error:s.errorBounds,lineWidth:s.errorLineWidth,capSize:s.errorCapSize,opacity:e.opacity},this.errorBars?s.errorBounds?this.errorBars.update(i):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):s.errorBounds&&(this.errorBars=Jst(i),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),s.delaunayAxis>=0){var u=olt(s.position,s.delaunayColor,s.delaunayAxis);u.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(u):(u.gl=t,this.delaunayMesh=Qst(u),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};MR.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function hlt(e,t){var r=new uge(e,t.uid);return r.update(t),r}fge.exports=hlt});var CR=$((S6t,dge)=>{"use strict";var oc=Ps(),LR=Ma(),kR=Ha().axisHoverFormat,vlt=Yn().hovertemplateAttrs,dlt=Yn().texttemplateAttrs,hge=aa(),plt=wR(),glt=ek(),ac=ln().extendFlat,mlt=Fa().overrideAll,vge=_x(),ylt=oc.line,og=oc.marker,xlt=og.line,blt=ac({width:ylt.width,dash:{valType:"enumerated",values:vge(plt),dflt:"solid",description:"Sets the dash style of the lines."}},LR("line"));function SR(e){return{show:{valType:"boolean",dflt:!1,description:["Sets whether or not projections are shown along the",e,"axis."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",min:0,max:10,dflt:2/3,description:["Sets the scale factor determining the size of the","projection marker points."].join(" ")}}}var ER=dge.exports=mlt({x:oc.x,y:oc.y,z:{valType:"data_array",description:"Sets the z coordinates."},text:ac({},oc.text,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:dlt({},{}),hovertext:ac({},oc.hovertext,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertemplate:vlt(),xhoverformat:kR("x"),yhoverformat:kR("y"),zhoverformat:kR("z"),mode:ac({},oc.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1,description:["If *-1*, the scatter points are not fill with a surface","If *0*, *1*, *2*, the scatter points are filled with","a Delaunay surface about the x, y, z respectively."].join(" ")},surfacecolor:{valType:"color",description:"Sets the surface fill color."},projection:{x:SR("x"),y:SR("y"),z:SR("z")},connectgaps:oc.connectgaps,line:blt,marker:ac({symbol:{valType:"enumerated",values:vge(glt),dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:ac({},og.size,{dflt:8}),sizeref:og.sizeref,sizemin:og.sizemin,sizemode:og.sizemode,opacity:ac({},og.opacity,{arrayOk:!1,description:["Sets the marker opacity.","Note that the marker opacity for scatter3d traces","must be a scalar value for performance reasons.","To set a blending opacity value","(i.e. which is not transparent), set *marker.color*","to an rgba color and use its alpha channel."].join(" ")}),colorbar:og.colorbar,line:ac({width:ac({},xlt.width,{arrayOk:!1})},LR("marker.line"))},LR("marker")),textposition:ac({},oc.textposition,{dflt:"top center"}),textfont:{color:oc.textfont.color,size:oc.textfont.size,family:ac({},oc.textfont.family,{arrayOk:!1})},opacity:hge.opacity,hoverinfo:ac({},hge.hoverinfo)},"calc","nested");ER.x.editType=ER.y.editType=ER.z.editType="calc+clearAxisTypes"});var mge=$((E6t,gge)=>{"use strict";var pge=Ir(),wlt=pt(),DR=ts(),_lt=Cp(),Tlt=Dp(),Alt=qp(),Mlt=CR();gge.exports=function(t,r,n,i){function a(v,b){return wlt.coerce(t,r,Mlt,v,b)}var o=klt(t,r,a,i);if(!o){r.visible=!1;return}a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),a("mode"),DR.hasLines(r)&&(a("connectgaps"),Tlt(t,r,n,i,a)),DR.hasMarkers(r)&&_lt(t,r,n,i,a,{noSelect:!0}),DR.hasText(r)&&(a("texttemplate"),Alt(t,r,i,a,{noSelect:!0}));var s=(r.line||{}).color,l=(r.marker||{}).color;a("surfaceaxis")>=0&&a("surfacecolor",s||l);for(var u=["x","y","z"],f=0;f<3;++f){var c="projection."+u[f];a(c+".show")&&(a(c+".opacity"),a(c+".scale"))}var h=pge.getComponentMethod("errorbars","supplyDefaults");h(t,r,s||l||n,{axis:"z"}),h(t,r,s||l||n,{axis:"y",inherit:"z"}),h(t,r,s||l||n,{axis:"x",inherit:"z"})};function klt(e,t,r,n){var i=0,a=r("x"),o=r("y"),s=r("z"),l=pge.getComponentMethod("calendars","handleTraceDefaults");return l(e,t,["x","y","z"],n),a&&o&&s&&(i=Math.min(a.length,o.length,s.length),t._length=t._xlength=t._ylength=t._zlength=i),i}});var qR=$((L6t,yge)=>{"use strict";var Slt=Cv(),Elt=Rp();yge.exports=function(t,r){var n=[{x:!1,y:!1,trace:r,t:{}}];return Slt(n,r),Elt(t,r),n}});var bge=$((C6t,xge)=>{xge.exports=Llt;function Llt(e,t){if(typeof e!="string")throw new TypeError("must specify type string");if(t=t||{},typeof document>"u"&&!t.canvas)return null;var r=t.canvas||document.createElement("canvas");typeof t.width=="number"&&(r.width=t.width),typeof t.height=="number"&&(r.height=t.height);var n=t,i;try{var a=[e];e.indexOf("webgl")===0&&a.push("experimental-"+e);for(var o=0;o<a.length;o++)if(i=r.getContext(a[o],n),i)return i}catch{i=null}return i||null}});var RR=$((D6t,wge)=>{var Clt=bge();wge.exports=function(t){return Clt("webgl",t)}});var IR=$((q6t,Tge)=>{"use strict";var _ge=Rr(),Dlt=function(){};Tge.exports=function(t){for(var r in t)typeof t[r]=="function"&&(t[r]=Dlt);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=_ge.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=_ge.lightLine,n.style["z-index"]=30;var i=document.createElement("p");return i.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",i.style.position="relative",i.style.top="50%",i.style.left="50%",i.style.height="30%",i.style.width="50%",i.style.margin="-15% 0 0 -25%",n.appendChild(i),t.container.appendChild(n),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var kge=$((R6t,Mge)=>{"use strict";var sg=ic(),qlt=pt(),Rlt=["xaxis","yaxis","zaxis"];function Age(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var Ilt=Age.prototype;Ilt.merge=function(e,t){for(var r=this,n=0;n<3;++n){var i=t[Rlt[n]];if(!i.visible){r.tickEnable[n]=!1,r.labelEnable[n]=!1,r.lineEnable[n]=!1,r.lineTickEnable[n]=!1,r.gridEnable[n]=!1,r.zeroEnable[n]=!1,r.backgroundEnable[n]=!1;continue}r.labels[n]=e._meta?qlt.templateString(i.title.text,e._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(r.labelColor[n]=sg(i.title.font.color)),i.title.font.family&&(r.labelFont[n]=i.title.font.family),i.title.font.size&&(r.labelSize[n]=i.title.font.size)),"showline"in i&&(r.lineEnable[n]=i.showline),"linecolor"in i&&(r.lineColor[n]=sg(i.linecolor)),"linewidth"in i&&(r.lineWidth[n]=i.linewidth),"showgrid"in i&&(r.gridEnable[n]=i.showgrid),"gridcolor"in i&&(r.gridColor[n]=sg(i.gridcolor)),"gridwidth"in i&&(r.gridWidth[n]=i.gridwidth),i.type==="log"?r.zeroEnable[n]=!1:"zeroline"in i&&(r.zeroEnable[n]=i.zeroline),"zerolinecolor"in i&&(r.zeroLineColor[n]=sg(i.zerolinecolor)),"zerolinewidth"in i&&(r.zeroLineWidth[n]=i.zerolinewidth),"ticks"in i&&i.ticks?r.lineTickEnable[n]=!0:r.lineTickEnable[n]=!1,"ticklen"in i&&(r.lineTickLength[n]=r._defaultLineTickLength[n]=i.ticklen),"tickcolor"in i&&(r.lineTickColor[n]=sg(i.tickcolor)),"tickwidth"in i&&(r.lineTickWidth[n]=i.tickwidth),"tickangle"in i&&(r.tickAngle[n]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(r.tickEnable[n]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(r.tickColor[n]=sg(i.tickfont.color)),i.tickfont.family&&(r.tickFont[n]=i.tickfont.family),i.tickfont.size&&(r.tickSize[n]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(r.lineTickMirror[n]=!0,r.lineMirror[n]=!0):i.mirror===!0?(r.lineTickMirror[n]=!1,r.lineMirror[n]=!0):(r.lineTickMirror[n]=!1,r.lineMirror[n]=!1):r.lineMirror[n]=!1,"showbackground"in i&&i.showbackground!==!1?(r.backgroundEnable[n]=!0,r.backgroundColor[n]=sg(i.backgroundcolor)):r.backgroundEnable[n]=!1}};function Plt(e,t){var r=new Age;return r.merge(e,t),r}Mge.exports=Plt});var Lge=$((I6t,Ege)=>{"use strict";var Flt=ic(),Nlt=["xaxis","yaxis","zaxis"];function Sge(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var zlt=Sge.prototype;zlt.merge=function(e){for(var t=0;t<3;++t){var r=e[Nlt[t]];if(!r.visible){this.enabled[t]=!1,this.drawSides[t]=!1;continue}this.enabled[t]=r.showspikes,this.colors[t]=Flt(r.spikecolor),this.drawSides[t]=r.spikesides,this.lineWidth[t]=r.spikethickness}};function Olt(e){var t=new Sge;return t.merge(e),t}Ege.exports=Olt});var qge=$((P6t,Dge)=>{"use strict";Dge.exports=Vlt;var Cge=tn(),Blt=pt(),Hlt=["xaxis","yaxis","zaxis"],Ult=[0,0,0];function jlt(e){for(var t=new Array(3),r=0;r<3;++r){for(var n=e[r],i=new Array(n.length),a=0;a<n.length;++a)i[a]=n[a].x;t[r]=i}return t}function Vlt(e){for(var t=e.axesOptions,r=e.glplot.axesPixels,n=e.fullSceneLayout,i=[[],[],[]],a=0;a<3;++a){var o=n[Hlt[a]];if(o._length=(r[a].hi-r[a].lo)*r[a].pixelsPerDataUnit/e.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))i[a]=[];else{o._input_range=o.range.slice(),o.range[0]=r[a].lo/e.dataScale[a],o.range[1]=r[a].hi/e.dataScale[a],o._m=1/(e.dataScale[a]*r[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var s=o.tickmode;if(o.tickmode==="auto"){o.tickmode="linear";var l=o.nticks||Blt.constrain(o._length/40,4,9);Cge.autoTicks(o,Math.abs(o.range[1]-o.range[0])/l)}for(var u=Cge.calcTicks(o,{msUTC:!0}),f=0;f<u.length;++f)u[f].x=u[f].x*e.dataScale[a],o.type==="date"&&(u[f].text=u[f].text.replace(/\<br\>/g," "));i[a]=u,o.tickmode=s}}t.ticks=i;for(var a=0;a<3;++a){Ult[a]=.5*(e.glplot.bounds[0][a]+e.glplot.bounds[1][a]);for(var f=0;f<2;++f)t.bounds[f][a]=e.glplot.bounds[f][a]}e.contourLevels=jlt(i)}});var zge=$((F6t,Nge)=>{"use strict";var Pge=$a().gl_plot3d,Glt=Pge.createCamera,Rge=Pge.createScene,Ylt=RR(),Wlt=jx(),ik=Ir(),Jl=pt(),nk=Jl.preserveDrawingBuffer(),ak=tn(),eh=lo(),Xlt=ic(),Zlt=IR(),$lt=sD(),Klt=kge(),Jlt=Lge(),Qlt=qge(),j2,rk;function Fge(e,t){var r=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",r.appendChild(i),this.svgContainer=i,r.id=e.id,r.style.position="absolute",r.style.top=r.style.left="0px",r.style.width=r.style.height="100%",n.appendChild(r),this.fullLayout=t,this.id=e.id||"scene",this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=Klt(t,t[this.id]),this.spikeOptions=Jlt(t[this.id]),this.container=r,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=ik.getComponentMethod("annotations3d","convert"),this.drawAnnotations=ik.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var il=Fge.prototype;il.prepareOptions=function(){var e=this,t={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:nk,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!rk&&(j2=document.createElement("canvas"),rk=Ylt({canvas:j2,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!rk))throw new Error("error creating static canvas/context for image server");t.gl=rk,t.canvas=j2}return t};var Ige=!0;il.tryCreatePlot=function(){var e=this,t=e.prepareOptions(),r=!0;try{e.glplot=Rge(t)}catch{if(e.staticMode||!Ige||nk)r=!1;else{Jl.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{nk=t.glOptions.preserveDrawingBuffer=!0,e.glplot=Rge(t)}catch{nk=t.glOptions.preserveDrawingBuffer=!1,r=!1}}}return Ige=!1,r};il.initializeGLCamera=function(){var e=this,t=e.fullSceneLayout.camera,r=t.projection.type==="orthographic";e.camera=Glt(e.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:r,zoomMin:.01,zoomMax:100,mode:"orbit"})};il.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var t=e.tryCreatePlot();if(!t)return Zlt(e);e.traces={},e.make4thDimension();var r=e.graphDiv,n=r.layout,i=function(){var o={};return e.isCameraChanged(n)&&(o[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(o[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=o[e.id+".aspectmode"]="manual")),o},a=function(o){if(o.fullSceneLayout.dragmode!==!1){var s=i();o.saveLayout(n),o.graphDiv.emit("plotly_relayout",s)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){a(e)}),e.glplot.canvas.addEventListener("wheel",function(o){if(r._context._scrollZoom.gl3d){if(e.camera._ortho){var s=o.deltaX>o.deltaY?1.1:.9090909090909091,l=e.glplot.getAspectratio();e.glplot.setAspectratio({x:s*l.x,y:s*l.y,z:s*l.z})}a(e)}},Wlt?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var o=i();e.graphDiv.emit("plotly_relayouting",o)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(o){r&&r.emit&&r.emit("plotly_webglcontextlost",{event:o,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};il.render=function(){var e=this,t=e.graphDiv,r,n=e.svgContainer,i=e.container.getBoundingClientRect();t._fullLayout._calcInverseTransform(t);var a=t._fullLayout._invScaleX,o=t._fullLayout._invScaleY,s=i.width*a,l=i.height*o;n.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),n.setAttributeNS(null,"width",s),n.setAttributeNS(null,"height",l),Qlt(e),e.glplot.axes.update(e.axesOptions);for(var u=Object.keys(e.traces),f=null,c=e.glplot.selection,h=0;h<u.length;++h)r=e.traces[u[h]],r.data.hoverinfo!=="skip"&&r.handlePick(c)&&(f=r),r.setContourLevels&&r.setContourLevels();function v(T,S,E){var L=e.fullSceneLayout[T+"axis"];return L.type!=="log"&&(S=L.d2l(S)),ak.hoverLabelText(L,S,E)}if(f!==null){var b=$lt(e.glplot.cameraParams,c.dataCoordinate);r=f.data;var y=t._fullData[r.index],x=c.index,m={xLabel:v("x",c.traceCoordinate[0],r.xhoverformat),yLabel:v("y",c.traceCoordinate[1],r.yhoverformat),zLabel:v("z",c.traceCoordinate[2],r.zhoverformat)},_=eh.castHoverinfo(y,e.fullLayout,x),g=(_||"").split("+"),A=_&&_==="all";!y.hovertemplate&&!A&&(g.indexOf("x")===-1&&(m.xLabel=void 0),g.indexOf("y")===-1&&(m.yLabel=void 0),g.indexOf("z")===-1&&(m.zLabel=void 0),g.indexOf("text")===-1&&(c.textLabel=void 0),g.indexOf("name")===-1&&(f.name=void 0));var w,k=[];r.type==="cone"||r.type==="streamtube"?(m.uLabel=v("x",c.traceCoordinate[3],r.uhoverformat),(A||g.indexOf("u")!==-1)&&k.push("u: "+m.uLabel),m.vLabel=v("y",c.traceCoordinate[4],r.vhoverformat),(A||g.indexOf("v")!==-1)&&k.push("v: "+m.vLabel),m.wLabel=v("z",c.traceCoordinate[5],r.whoverformat),(A||g.indexOf("w")!==-1)&&k.push("w: "+m.wLabel),m.normLabel=c.traceCoordinate[6].toPrecision(3),(A||g.indexOf("norm")!==-1)&&k.push("norm: "+m.normLabel),r.type==="streamtube"&&(m.divergenceLabel=c.traceCoordinate[7].toPrecision(3),(A||g.indexOf("divergence")!==-1)&&k.push("divergence: "+m.divergenceLabel)),c.textLabel&&k.push(c.textLabel),w=k.join("<br>")):r.type==="isosurface"||r.type==="volume"?(m.valueLabel=ak.hoverLabelText(e._mockAxis,e._mockAxis.d2l(c.traceCoordinate[3]),r.valuehoverformat),k.push("value: "+m.valueLabel),c.textLabel&&k.push(c.textLabel),w=k.join("<br>")):w=c.textLabel;var p={x:c.traceCoordinate[0],y:c.traceCoordinate[1],z:c.traceCoordinate[2],data:y._input,fullData:y,curveNumber:y.index,pointNumber:x};eh.appendArrayPointValue(p,y,x),r._module.eventData&&(p=y._module.eventData(p,c,y,{},x));var d={points:[p]};if(e.fullSceneLayout.hovermode){var M=[];eh.loneHover({trace:y,x:(.5+.5*b[0]/b[3])*s,y:(.5-.5*b[1]/b[3])*l,xLabel:m.xLabel,yLabel:m.yLabel,zLabel:m.zLabel,text:w,name:f.name,color:eh.castHoverOption(y,x,"bgcolor")||f.color,borderColor:eh.castHoverOption(y,x,"bordercolor"),fontFamily:eh.castHoverOption(y,x,"font.family"),fontSize:eh.castHoverOption(y,x,"font.size"),fontColor:eh.castHoverOption(y,x,"font.color"),nameLength:eh.castHoverOption(y,x,"namelength"),textAlign:eh.castHoverOption(y,x,"align"),hovertemplate:Jl.castOption(y,x,"hovertemplate"),hovertemplateLabels:Jl.extendFlat({},p,m),eventData:[p]},{container:n,gd:t,inOut_bbox:M}),p.bbox=M[0]}c.buttons&&c.distance<5?t.emit("plotly_click",d):t.emit("plotly_hover",d),this.oldEventData=d}else eh.loneUnhover(n),this.oldEventData&&t.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};il.recoverContext=function(){var e=this;e.glplot.dispose();var t=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(t);return}if(!e.initializeGLPlot()){Jl.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(t)};var V2=["xaxis","yaxis","zaxis"];function eut(e,t,r){for(var n=e.fullSceneLayout,i=0;i<3;i++){var a=V2[i],o=a.charAt(0),s=n[a],l=t[o],u=t[o+"calendar"],f=t["_"+o+"length"];if(!Jl.isArrayOrTypedArray(l))r[0][i]=Math.min(r[0][i],0),r[1][i]=Math.max(r[1][i],f-1);else for(var c,h=0;h<(f||l.length);h++)if(Jl.isArrayOrTypedArray(l[h]))for(var v=0;v<l[h].length;++v)c=s.d2l(l[h][v],0,u),!isNaN(c)&&isFinite(c)&&(r[0][i]=Math.min(r[0][i],c),r[1][i]=Math.max(r[1][i],c));else c=s.d2l(l[h],0,u),!isNaN(c)&&isFinite(c)&&(r[0][i]=Math.min(r[0][i],c),r[1][i]=Math.max(r[1][i],c))}}function tut(e,t){for(var r=e.fullSceneLayout,n=r.annotations||[],i=0;i<3;i++)for(var a=V2[i],o=a.charAt(0),s=r[a],l=0;l<n.length;l++){var u=n[l];if(u.visible){var f=s.r2l(u[o]);!isNaN(f)&&isFinite(f)&&(t[0][i]=Math.min(t[0][i],f),t[1][i]=Math.max(t[1][i],f))}}}il.plot=function(e,t,r){var n=this;if(n.plotArgs=[e,t,r],n.glplot.contextLost)return;var i,a,o,s,l,u,f=t[n.id],c=r[n.id];n.fullLayout=t,n.fullSceneLayout=f,n.axesOptions.merge(t,f),n.spikeOptions.merge(f),n.setViewport(f),n.updateFx(f.dragmode,f.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(Xlt(f.bgcolor)),n.setConvert(l),e?Array.isArray(e)||(e=[e]):e=[];var h=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<e.length;++o)i=e[o],!(i.visible!==!0||i._length===0)&&eut(this,i,h);tut(this,h);var v=[1,1,1];for(s=0;s<3;++s)h[1][s]===h[0][s]?v[s]=1:v[s]=1/(h[1][s]-h[0][s]);for(n.dataScale=v,n.convertAnnotations(this),o=0;o<e.length;++o)i=e[o],!(i.visible!==!0||i._length===0)&&(a=n.traces[i.uid],a?a.data.type===i.type?a.update(i):(a.dispose(),a=i._module.plot(this,i),n.traces[i.uid]=a):(a=i._module.plot(this,i),n.traces[i.uid]=a),a.name=i.name);var b=Object.keys(n.traces);e:for(o=0;o<b.length;++o){for(s=0;s<e.length;++s)if(e[s].uid===b[o]&&e[s].visible===!0&&e[s]._length!==0)continue e;a=n.traces[b[o]],a.dispose(),delete n.traces[b[o]]}n.glplot.objects.sort(function(V,Y){return V._trace.data.index-Y._trace.data.index});var y=[[0,0,0],[0,0,0]],x=[],m={};for(o=0;o<3;++o){if(l=f[V2[o]],u=l.type,u in m?(m[u].acc*=v[o],m[u].count+=1):m[u]={acc:v[o],count:1},l.autorange){y[0][o]=1/0,y[1][o]=-1/0;var _=n.glplot.objects,g=n.fullSceneLayout.annotations||[],A=l._name.charAt(0);for(s=0;s<_.length;s++){var w=_[s],k=w.bounds,p=w._trace.data._pad||0;w.constructor.name==="ErrorBars"&&l._lowerLogErrorBound?y[0][o]=Math.min(y[0][o],l._lowerLogErrorBound):y[0][o]=Math.min(y[0][o],k[0][o]/v[o]-p),y[1][o]=Math.max(y[1][o],k[1][o]/v[o]+p)}for(s=0;s<g.length;s++){var d=g[s];if(d.visible){var M=l.r2l(d[A]);y[0][o]=Math.min(y[0][o],M),y[1][o]=Math.max(y[1][o],M)}}if("rangemode"in l&&l.rangemode==="tozero"&&(y[0][o]=Math.min(y[0][o],0),y[1][o]=Math.max(y[1][o],0)),y[0][o]>y[1][o])y[0][o]=-1,y[1][o]=1;else{var T=y[1][o]-y[0][o];y[0][o]-=T/32,y[1][o]+=T/32}if(l.autorange==="reversed"){var S=y[0][o];y[0][o]=y[1][o],y[1][o]=S}}else{var E=l.range;y[0][o]=l.r2l(E[0]),y[1][o]=l.r2l(E[1])}y[0][o]===y[1][o]&&(y[0][o]-=1,y[1][o]+=1),x[o]=y[1][o]-y[0][o],n.glplot.setBounds(o,{min:y[0][o]*v[o],max:y[1][o]*v[o]})}var L,D=f.aspectmode;if(D==="cube")L=[1,1,1];else if(D==="manual"){var R=f.aspectratio;L=[R.x,R.y,R.z]}else if(D==="auto"||D==="data"){var q=[1,1,1];for(o=0;o<3;++o){l=f[V2[o]],u=l.type;var C=m[u];q[o]=Math.pow(C.acc,1/C.count)/v[o]}D==="data"||Math.max.apply(null,q)/Math.min.apply(null,q)<=4?L=q:L=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=c.aspectratio.x=L[0],f.aspectratio.y=c.aspectratio.y=L[1],f.aspectratio.z=c.aspectratio.z=L[2],n.glplot.setAspectratio(f.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=f.aspectmode);var F=f.domain||null,N=t._size||null;if(F&&N){var U=n.container.style;U.position="absolute",U.left=N.l+F.x[0]*N.w+"px",U.top=N.t+(1-F.y[1])*N.h+"px",U.width=N.w*(F.x[1]-F.x[0])+"px",U.height=N.h*(F.y[1]-F.y[0])+"px"}n.glplot.redraw()};il.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function rut(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function nut(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}il.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),nut(e.camera)};il.setViewport=function(e){var t=this,r=e.camera;t.camera.lookAt.apply(this,rut(r)),t.glplot.setAspectratio(e.aspectratio);var n=r.projection.type==="orthographic",i=t.camera._ortho;n!==i&&(t.glplot.redraw(),t.glplot.clearRGBA(),t.glplot.dispose(),t.initializeGLPlot())};il.isCameraChanged=function(e){var t=this,r=t.getCamera(),n=Jl.nestedProperty(e,t.id+".camera"),i=n.get();function a(u,f,c,h){var v=["up","center","eye"],b=["x","y","z"];return f[v[c]]&&u[v[c]][b[h]]===f[v[c]][b[h]]}var o=!1;if(i===void 0)o=!0;else{for(var s=0;s<3;s++)for(var l=0;l<3;l++)if(!a(r,i,s,l)){o=!0;break}(!i.projection||r.projection&&r.projection.type!==i.projection.type)&&(o=!0)}return o};il.isAspectChanged=function(e){var t=this,r=t.glplot.getAspectratio(),n=Jl.nestedProperty(e,t.id+".aspectratio"),i=n.get();return i===void 0||i.x!==r.x||i.y!==r.y||i.z!==r.z};il.saveLayout=function(e){var t=this,r=t.fullLayout,n,i,a,o,s,l,u=t.isCameraChanged(e),f=t.isAspectChanged(e),c=u||f;if(c){var h={};if(u&&(n=t.getCamera(),i=Jl.nestedProperty(e,t.id+".camera"),a=i.get(),h[t.id+".camera"]=a),f&&(o=t.glplot.getAspectratio(),s=Jl.nestedProperty(e,t.id+".aspectratio"),l=s.get(),h[t.id+".aspectratio"]=l),ik.call("_storeDirectGUIEdit",e,r._preGUI,h),u){i.set(n);var v=Jl.nestedProperty(r,t.id+".camera");v.set(n)}if(f){s.set(o);var b=Jl.nestedProperty(r,t.id+".aspectratio");b.set(o),t.glplot.redraw()}}return c};il.updateFx=function(e,t){var r=this,n=r.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var i=r.graphDiv,a=i._fullLayout,o=r.fullSceneLayout.camera,s=o.up.x,l=o.up.y,u=o.up.z;if(u/Math.sqrt(s*s+l*l+u*u)<.999){var f=r.id+".camera.up",c={x:0,y:0,z:1},h={};h[f]=c;var v=i.layout;ik.call("_storeDirectGUIEdit",v,a._preGUI,h),o.up=c,Jl.nestedProperty(v,f).set(c)}}else n.keyBindingMode=e;r.fullSceneLayout.hovermode=t};function iut(e,t,r){for(var n=0,i=r-1;n<i;++n,--i)for(var a=0;a<t;++a)for(var o=0;o<4;++o){var s=4*(t*n+a)+o,l=4*(t*i+a)+o,u=e[s];e[s]=e[l],e[l]=u}}function aut(e,t,r){for(var n=0;n<r;++n)for(var i=0;i<t;++i){var a=4*(t*n+i),o=e[a+3];if(o>0)for(var s=255/o,l=0;l<3;++l)e[a+l]=Math.min(s*e[a+l],255)}}il.toImage=function(e){var t=this;e||(e="png"),t.staticMode&&t.container.appendChild(j2),t.glplot.redraw();var r=t.glplot.gl,n=r.drawingBufferWidth,i=r.drawingBufferHeight;r.bindFramebuffer(r.FRAMEBUFFER,null);var a=new Uint8Array(n*i*4);r.readPixels(0,0,n,i,r.RGBA,r.UNSIGNED_BYTE,a),iut(a,n,i),aut(a,n,i);var o=document.createElement("canvas");o.width=n,o.height=i;var s=o.getContext("2d",{willReadFrequently:!0}),l=s.createImageData(n,i);l.data.set(a),s.putImageData(l,0,0);var u;switch(e){case"jpeg":u=o.toDataURL("image/jpeg");break;case"webp":u=o.toDataURL("image/webp");break;default:u=o.toDataURL("image/png")}return t.staticMode&&t.container.removeChild(j2),u};il.setConvert=function(){for(var e=this,t=0;t<3;t++){var r=e.fullSceneLayout[V2[t]];ak.setConvert(r,e.fullLayout),r.setScale=Jl.noop}};il.make4thDimension=function(){var e=this,t=e.graphDiv,r=t._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},ak.setConvert(e._mockAxis,r)};Nge.exports=Fge});var Bge=$((N6t,Oge)=>{"use strict";Oge.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}}});var FR=$((z6t,Hge)=>{"use strict";var out=Rr(),Un=xl(),PR=ln().extendFlat,sut=Fa().overrideAll;Hge.exports=sut({visible:Un.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:out.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:Un.color,categoryorder:Un.categoryorder,categoryarray:Un.categoryarray,title:{text:Un.title.text,font:Un.title.font},type:PR({},Un.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Un.autotypenumbers,autorange:Un.autorange,rangemode:Un.rangemode,range:PR({},Un.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:Un.tickmode,nticks:Un.nticks,tick0:Un.tick0,dtick:Un.dtick,tickvals:Un.tickvals,ticktext:Un.ticktext,ticks:Un.ticks,mirror:Un.mirror,ticklen:Un.ticklen,tickwidth:Un.tickwidth,tickcolor:Un.tickcolor,showticklabels:Un.showticklabels,tickfont:Un.tickfont,tickangle:Un.tickangle,tickprefix:Un.tickprefix,showtickprefix:Un.showtickprefix,ticksuffix:Un.ticksuffix,showticksuffix:Un.showticksuffix,showexponent:Un.showexponent,exponentformat:Un.exponentformat,minexponent:Un.minexponent,separatethousands:Un.separatethousands,tickformat:Un.tickformat,tickformatstops:Un.tickformatstops,hoverformat:Un.hoverformat,showline:Un.showline,linecolor:Un.linecolor,linewidth:Un.linewidth,showgrid:Un.showgrid,gridcolor:PR({},Un.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:Un.gridwidth,zeroline:Un.zeroline,zerolinecolor:Un.zerolinecolor,zerolinewidth:Un.zerolinewidth,_deprecated:{title:Un._deprecated.title,titlefont:Un._deprecated.titlefont}},"plot","from-root")});var BR=$((O6t,Uge)=>{"use strict";var NR=FR(),lut=Ua().attributes,zR=ln().extendFlat,uut=pt().counterRegex;function OR(e,t,r){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:t,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}Uge.exports={_arrayAttrRegexps:[uut("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:zR(OR(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:zR(OR(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:zR(OR(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:lut({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:NR,yaxis:NR,zaxis:NR,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera",description:"Obsolete. Use `camera` instead."}}}});var Yge=$((B6t,Gge)=>{"use strict";var fut=Ko().mix,jge=pt(),cut=bi(),hut=FR(),vut=Y6(),dut=Hb(),Vge=["xaxis","yaxis","zaxis"],put=100*(204-68)/(255-68);Gge.exports=function(t,r,n){var i,a;function o(u,f){return jge.coerce(i,a,hut,u,f)}for(var s=0;s<Vge.length;s++){var l=Vge[s];i=t[l]||{},a=cut.newContainer(r,l),a._id=l[0]+n.scene,a._name=l,vut(i,a,o,n),dut(i,a,o,{font:n.font,letter:l[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),o("gridcolor",fut(a.color,n.bgColor,put).toRgbString()),o("title.text",l[0]),a.setScale=jge.noop,o("showspikes")&&(o("spikesides"),o("spikethickness"),o("spikecolor",a.color)),o("showaxeslabels"),o("showbackground")&&o("backgroundcolor")}}});var $ge=$((H6t,Zge)=>{"use strict";var gut=pt(),mut=Rr(),yut=Ir(),xut=E2(),but=Yge(),Wge=BR(),wut=Au().getSubplotData,Xge="gl3d";Zge.exports=function(t,r,n){var i=r._basePlotModules.length>1;function a(o){if(!i){var s=gut.validate(t[o],Wge[o]);if(s)return t[o]}}xut(t,r,n,{type:Xge,attributes:Wge,handleDefaults:_ut,fullLayout:r,font:r.font,fullData:n,getDfltFromLayout:a,autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})};function _ut(e,t,r,n){for(var i=r("bgcolor"),a=mut.combine(i,n.paper_bgcolor),o=["up","center","eye"],s=0;s<o.length;s++)r("camera."+o[s]+".x"),r("camera."+o[s]+".y"),r("camera."+o[s]+".z");r("camera.projection.type");var l=!!r("aspectratio.x")&&!!r("aspectratio.y")&&!!r("aspectratio.z"),u=l?"manual":"auto",f=r("aspectmode",u);l||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},f==="manual"&&(t.aspectmode="auto"),e.aspectmode=t.aspectmode);var c=wut(n.fullData,Xge,n.id);but(e,t,{font:n.font,scene:n.id,data:c,bgColor:a,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),yut.getComponentMethod("annotations3d","handleDefaults")(e,t,n);var h=n.getDfltFromLayout("dragmode");if(h!==!1&&!h)if(h="orbit",e.camera&&e.camera.up){var v=e.camera.up.x,b=e.camera.up.y,y=e.camera.up.z;y!==0&&(!v||!b||!y||y/Math.sqrt(v*v+b*b+y*y)>.999)&&(h="turntable")}else h="turntable";r("dragmode",h),r("hovermode",n.getDfltFromLayout("hovermode"))}});var l0=$(Ql=>{"use strict";var Tut=Fa().overrideAll,Aut=dv(),Mut=zge(),kut=Au().getSubplotData,Sut=pt(),Eut=kh(),ny="gl3d",HR="scene";Ql.name=ny;Ql.attr=HR;Ql.idRoot=HR;Ql.idRegex=Ql.attrRegex=Sut.counterRegex("scene");Ql.attributes=Bge();Ql.layoutAttributes=BR();Ql.baseLayoutAttrOverrides=Tut({hoverlabel:Aut.hoverlabel},"plot","nested");Ql.supplyLayoutDefaults=$ge();Ql.plot=function(t){for(var r=t._fullLayout,n=t._fullData,i=r._subplots[ny],a=0;a<i.length;a++){var o=i[a],s=kut(n,ny,o),l=r[o],u=l.camera,f=l._scene;f||(f=new Mut({id:o,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio,camera:u},r),l._scene=f),f.viewInitial||(f.viewInitial={up:{x:u.up.x,y:u.up.y,z:u.up.z},eye:{x:u.eye.x,y:u.eye.y,z:u.eye.z},center:{x:u.center.x,y:u.center.y,z:u.center.z}}),f.plot(s,r,t.layout)}};Ql.clean=function(e,t,r,n){for(var i=n._subplots[ny]||[],a=0;a<i.length;a++){var o=i[a];!t[o]&&n[o]._scene&&(n[o]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+o).remove())}};Ql.toSVG=function(e){for(var t=e._fullLayout,r=t._subplots[ny],n=t._size,i=0;i<r.length;i++){var a=t[r[i]],o=a.domain,s=a._scene,l=s.toImage("png"),u=t._glimages.append("svg:image");u.attr({xmlns:Eut.svg,"xlink:href":l,x:n.l+n.w*o.x[0],y:n.t+n.h*(1-o.y[1]),width:n.w*(o.x[1]-o.x[0]),height:n.h*(o.y[1]-o.y[0]),preserveAspectRatio:"none"}),s.destroy()}};Ql.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var r=t.substr(5);return r==="1"&&(r=""),HR+r}};Ql.updateFx=function(e){for(var t=e._fullLayout,r=t._subplots[ny],n=0;n<r.length;n++){var i=t[r[n]]._scene;i.updateFx(t.dragmode,t.hovermode)}}});var Jge=$((j6t,Kge)=>{"use strict";Kge.exports={plot:cge(),attributes:CR(),markerSymbols:ek(),supplyDefaults:mge(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:qR(),moduleType:"trace",name:"scatter3d",basePlotModule:l0(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_3d",description:["The data visualized as scatter point or lines in 3D dimension","is set in `x`, `y`, `z`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","Projections are achieved via `projection`.","Surface fills are achieved via `surfaceaxis`."].join(" ")}}});var e1e=$((V6t,Qge)=>{"use strict";Qge.exports=Jge()});var G2=$((G6t,n1e)=>{"use strict";var t1e=Rr(),ok=Ma(),UR=Ha().axisHoverFormat,Lut=Yn().hovertemplateAttrs,r1e=aa(),iy=ln().extendFlat,Cut=Fa().overrideAll;function jR(e){return{valType:"boolean",dflt:!1,description:["Determines whether or not these contour lines are projected","on the",e,"plane.","If `highlight` is set to *true* (the default), the projected","lines are shown on hover.","If `show` is set to *true*, the projected lines are shown","in permanence."].join(" ")}}function VR(e){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not contour lines about the",e,"dimension are drawn."].join(" ")},start:{valType:"number",dflt:null,editType:"plot",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,editType:"plot",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,editType:"plot",description:["Sets the step between each contour level.","Must be positive."].join(" ")},project:{x:jR("x"),y:jR("y"),z:jR("z")},color:{valType:"color",dflt:t1e.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",dflt:!1,description:["An alternate to *color*.","Determines whether or not the contour lines are colored using","the trace *colorscale*."].join(" ")},width:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",dflt:!0,description:["Determines whether or not contour lines about the",e,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",dflt:t1e.defaultLine,description:"Sets the color of the highlighted contour lines."},highlightwidth:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var sk=n1e.exports=Cut(iy({z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with each z value.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:Lut(),xhoverformat:UR("x"),yhoverformat:UR("y"),zhoverformat:UR("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in."].join(" ")},surfacecolor:{valType:"data_array",description:["Sets the surface color values,","used for setting a color scale independent of `z`."].join(" ")}},ok("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:VR("x"),y:VR("y"),z:VR("z")},hidesurface:{valType:"boolean",dflt:!1,description:["Determines whether or not a surface is drawn.","For example, set `hidesurface` to *false*","`contours.x.show` to *true* and","`contours.y.show` to *true* to draw a wire frame plot."].join(" ")},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",min:-1e5,max:1e5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},specular:{valType:"number",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",min:0,max:5,dflt:.2,description:["Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective","when viewing it from the edge of the paper (almost 90 degrees), causing shine."].join(" ")}},opacity:{valType:"number",min:0,max:1,dflt:1,description:["Sets the opacity of the surface.","Please note that in the case of using high `opacity` values for example a value","greater than or equal to 0.5 on two surfaces (and 0.25 with four surfaces), an","overlay of multiple transparent surfaces may not perfectly be sorted in depth by the","webgl API. This behavior may be improved in the near future and is subject to change."].join(" ")},opacityscale:{valType:"any",editType:"calc",description:["Sets the opacityscale.","The opacityscale must be an array containing","arrays mapping a normalized value to an opacity value.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 1], [0.5, 0.2], [1, 1]]` means that higher/lower values would have","higher opacity values and those in the middle would be more transparent","Alternatively, `opacityscale` may be a palette name string","of the following list: 'min', 'max', 'extremes' and 'uniform'.","The default is 'uniform'."].join(" ")},_deprecated:{zauto:iy({},ok.zauto,{description:"Obsolete. Use `cauto` instead."}),zmin:iy({},ok.zmin,{description:"Obsolete. Use `cmin` instead."}),zmax:iy({},ok.zmax,{description:"Obsolete. Use `cmax` instead."})},hoverinfo:iy({},r1e.hoverinfo),showlegend:iy({},r1e.showlegend,{dflt:!1})}),"calc","nested");sk.x.editType=sk.y.editType=sk.z.editType="calc+clearAxisTypes";sk.transforms=void 0});var WR=$((Y6t,o1e)=>{"use strict";var Dut=Ir(),i1e=pt(),qut=$s(),Rut=G2(),GR=.1;function Iut(e,t){for(var r=[],n=32,i=0;i<n;i++){var a=i/(n-1),o=t+(1-t)*(1-Math.pow(Math.sin(e*a*Math.PI),2));r.push([a,Math.max(0,Math.min(1,o))])}return r}function Put(e){var t=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var r=0;r<e.length;r++){var n=e[r];if(n.length!==2||+n[0]<t)return!1;t=+n[0]}return!0}function Fut(e,t,r,n){var i,a;function o(x,m){return i1e.coerce(e,t,Rut,x,m)}var s=o("x"),l=o("y"),u=o("z");if(!u||!u.length||s&&s.length<1||l&&l.length<1){t.visible=!1;return}t._xlength=Array.isArray(s)&&i1e.isArrayOrTypedArray(s[0])?u.length:u[0].length,t._ylength=u.length;var f=Dut.getComponentMethod("calendars","handleTraceDefaults");f(e,t,["x","y","z"],n),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(x){o(x)});var c=o("surfacecolor"),h=["x","y","z"];for(i=0;i<3;++i){var v="contours."+h[i],b=o(v+".show"),y=o(v+".highlight");if(b||y)for(a=0;a<3;++a)o(v+".project."+h[a]);b&&(o(v+".color"),o(v+".width"),o(v+".usecolormap")),y&&(o(v+".highlightcolor"),o(v+".highlightwidth")),o(v+".start"),o(v+".end"),o(v+".size")}c||(YR(e,"zmin","cmin"),YR(e,"zmax","cmax"),YR(e,"zauto","cauto")),qut(e,t,n,o,{prefix:"",cLetter:"c"}),a1e(e,t,n,o),t._length=null}function a1e(e,t,r,n){var i=n("opacityscale");i==="max"?t.opacityscale=[[0,GR],[1,1]]:i==="min"?t.opacityscale=[[0,1],[1,GR]]:i==="extremes"?t.opacityscale=Iut(1,GR):Put(i)||(t.opacityscale=void 0)}function YR(e,t,r){t in e&&!(r in e)&&(e[r]=e[t])}o1e.exports={supplyDefaults:Fut,opacityscaleDefaults:a1e}});var u1e=$((W6t,l1e)=>{"use strict";var s1e=ku();l1e.exports=function(t,r){r.surfacecolor?s1e(t,r,{vals:r.surfacecolor,containerStr:"",cLetter:"c"}):s1e(t,r,{vals:r.z,containerStr:"",cLetter:"c"})}});var p1e=$((X6t,d1e)=>{"use strict";var Nut=$a().gl_surface3d,ay=$a().ndarray,zut=$a().ndarray_linear_interpolate.d2,Out=nM(),But=iM(),lk=pt().isArrayOrTypedArray,Hut=s0().parseColorScale,f1e=ic(),Uut=Wa().extractOpts;function h1e(e,t,r){this.scene=e,this.uid=r,this.surface=t,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var th=h1e.prototype;th.getXat=function(e,t,r,n){var i=lk(this.data.x)?lk(this.data.x[0])?this.data.x[t][e]:this.data.x[e]:e;return r===void 0?i:n.d2l(i,0,r)};th.getYat=function(e,t,r,n){var i=lk(this.data.y)?lk(this.data.y[0])?this.data.y[t][e]:this.data.y[t]:t;return r===void 0?i:n.d2l(i,0,r)};th.getZat=function(e,t,r,n){var i=this.data.z[t][e];return i===null&&this.data.connectgaps&&this.data._interpolatedZ&&(i=this.data._interpolatedZ[t][e]),r===void 0?i:n.d2l(i,0,r)};th.handlePick=function(e){if(e.object===this.surface){var t=(e.data.index[0]-1)/this.dataScaleX-1,r=(e.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(t),this.data.z[0].length-1),0),i=Math.max(Math.min(Math.round(r),this.data._ylength-1),0);e.index=[n,i],e.traceCoordinate=[this.getXat(n,i),this.getYat(n,i),this.getZat(n,i)],e.dataCoordinate=[this.getXat(n,i,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,i,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,i,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var a=0;a<3;a++){var o=e.dataCoordinate[a];o!=null&&(e.dataCoordinate[a]*=this.scene.dataScale[a])}var s=this.data.hovertext||this.data.text;return Array.isArray(s)&&s[i]&&s[i][n]!==void 0?e.textLabel=s[i][n]:s?e.textLabel=s:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function jut(e){var t=e[0].rgb,r=e[e.length-1].rgb;return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}var oy=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function Vut(e,t){if(e<t)return 0;for(var r=0;Math.floor(e%t)===0;)e/=t,r++;return r}function XR(e){for(var t=[],r=0;r<oy.length;r++){var n=oy[r];t.push(Vut(e,n))}return t}function Gut(e){for(var t=XR(e),r=e,n=0;n<oy.length;n++)if(t[n]>0){r=oy[n];break}return r}function Yut(e,t){if(!(e<1||t<1)){for(var r=XR(e),n=XR(t),i=1,a=0;a<oy.length;a++)i*=Math.pow(oy[a],Math.max(r[a],n[a]));return i}}function Wut(e){if(e.length!==0){for(var t=1,r=0;r<e.length;r++)t=Yut(t,e[r]);return t}}th.calcXnums=function(e){var t,r=[];for(t=1;t<e;t++){var n=this.getXat(t-1,0),i=this.getXat(t,0);i!==n&&n!==void 0&&n!==null&&i!==void 0&&i!==null?r[t-1]=Math.abs(i-n):r[t-1]=0}var a=0;for(t=1;t<e;t++)a+=r[t-1];for(t=1;t<e;t++)r[t-1]===0?r[t-1]=1:r[t-1]=Math.round(a/r[t-1]);return r};th.calcYnums=function(e){var t,r=[];for(t=1;t<e;t++){var n=this.getYat(0,t-1),i=this.getYat(0,t);i!==n&&n!==void 0&&n!==null&&i!==void 0&&i!==null?r[t-1]=Math.abs(i-n):r[t-1]=0}var a=0;for(t=1;t<e;t++)a+=r[t-1];for(t=1;t<e;t++)r[t-1]===0?r[t-1]=1:r[t-1]=Math.round(a/r[t-1]);return r};var v1e=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],c1e=v1e[9],uk=v1e[13];th.estimateScale=function(e,t){for(var r=t===0?this.calcXnums(e):this.calcYnums(e),n=1+Wut(r);n<c1e;)n*=2;for(;n>uk;)n--,n/=Gut(n),n++,n<c1e&&(n=uk);var i=Math.round(n/e);return i>1?i:1};function Xut(e,t,r){var n=r[8]+r[2]*t[0]+r[5]*t[1];return e[0]=(r[6]+r[0]*t[0]+r[3]*t[1])/n,e[1]=(r[7]+r[1]*t[0]+r[4]*t[1])/n,e}function Zut(e,t,r){return $ut(e,t,Xut,r),e}function $ut(e,t,r,n){for(var i=[0,0],a=e.shape[0],o=e.shape[1],s=0;s<a;s++)for(var l=0;l<o;l++)r(i,[s,l],n),e.set(s,l,zut(t,i[0],i[1]));return e}th.refineCoords=function(e){for(var t=this.dataScaleX,r=this.dataScaleY,n=e[0].shape[0],i=e[0].shape[1],a=Math.floor(e[0].shape[0]*t+1)|0,o=Math.floor(e[0].shape[1]*r+1)|0,s=1+n+1,l=1+i+1,u=ay(new Float32Array(s*l),[s,l]),f=[1/t,0,0,0,1/r,0,0,0,1],c=0;c<e.length;++c){this.surface.padField(u,e[c]);var h=ay(new Float32Array(a*o),[a,o]);Zut(h,u,f),e[c]=h}};function Kut(e,t){for(var r=!1,n=0;n<e.length;n++)if(t===e[n]){r=!0;break}r===!1&&e.push(t)}th.setContourLevels=function(){var e=[[],[],[]],t=[!1,!1,!1],r=!1,n,i,a;for(n=0;n<3;++n)if(this.showContour[n]&&(r=!0,this.contourSize[n]>0&&this.contourStart[n]!==null&&this.contourEnd[n]!==null&&this.contourEnd[n]>this.contourStart[n]))for(t[n]=!0,i=this.contourStart[n];i<this.contourEnd[n];i+=this.contourSize[n])a=i*this.scene.dataScale[n],Kut(e[n],a);if(r){var o=[[],[],[]];for(n=0;n<3;++n)this.showContour[n]&&(o[n]=t[n]?e[n]:this.scene.contourLevels[n]);this.surface.update({levels:o})}};th.update=function(e){var t=this.scene,r=t.fullSceneLayout,n=this.surface,i=Hut(e),a=t.dataScale,o=e.z[0].length,s=e._ylength,l=t.contourLevels;this.data=e;var u,f,c,h,v=[];for(u=0;u<3;u++)for(v[u]=[],f=0;f<o;f++)v[u][f]=[];for(f=0;f<o;f++)for(c=0;c<s;c++)v[0][f][c]=this.getXat(f,c,e.xcalendar,r.xaxis),v[1][f][c]=this.getYat(f,c,e.ycalendar,r.yaxis),v[2][f][c]=this.getZat(f,c,e.zcalendar,r.zaxis);if(e.connectgaps)for(e._emptypoints=But(v[2]),Out(v[2],e._emptypoints),e._interpolatedZ=[],f=0;f<o;f++)for(e._interpolatedZ[f]=[],c=0;c<s;c++)e._interpolatedZ[f][c]=v[2][f][c];for(u=0;u<3;u++)for(f=0;f<o;f++)for(c=0;c<s;c++)h=v[u][f][c],h==null?v[u][f][c]=NaN:h=v[u][f][c]*=a[u];for(u=0;u<3;u++)for(f=0;f<o;f++)for(c=0;c<s;c++)h=v[u][f][c],h!=null&&(this.minValues[u]>h&&(this.minValues[u]=h),this.maxValues[u]<h&&(this.maxValues[u]=h));for(u=0;u<3;u++)this.objectOffset[u]=.5*(this.minValues[u]+this.maxValues[u]);for(u=0;u<3;u++)for(f=0;f<o;f++)for(c=0;c<s;c++)h=v[u][f][c],h!=null&&(v[u][f][c]-=this.objectOffset[u]);var b=[ay(new Float32Array(o*s),[o,s]),ay(new Float32Array(o*s),[o,s]),ay(new Float32Array(o*s),[o,s])];for(u=0;u<3;u++)for(f=0;f<o;f++)for(c=0;c<s;c++)b[u].set(f,c,v[u][f][c]);v=[];var y={colormap:i,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},x=Uut(e);if(y.intensityBounds=[x.min,x.max],e.surfacecolor){var m=ay(new Float32Array(o*s),[o,s]);for(f=0;f<o;f++)for(c=0;c<s;c++)m.set(f,c,e.surfacecolor[c][f]);b.push(m)}else y.intensityBounds[0]*=a[2],y.intensityBounds[1]*=a[2];(uk<b[0].shape[0]||uk<b[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(b[0].shape[0],0),this.dataScaleY=this.estimateScale(b[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(b)),e.surfacecolor&&(y.intensity=b.pop());var _=[!0,!0,!0],g=["x","y","z"];for(u=0;u<3;++u){var A=e.contours[g[u]];_[u]=A.highlight,y.showContour[u]=A.show||A.highlight,y.showContour[u]&&(y.contourProject[u]=[A.project.x,A.project.y,A.project.z],A.show?(this.showContour[u]=!0,y.levels[u]=l[u],n.highlightColor[u]=y.contourColor[u]=f1e(A.color),A.usecolormap?n.highlightTint[u]=y.contourTint[u]=0:n.highlightTint[u]=y.contourTint[u]=1,y.contourWidth[u]=A.width,this.contourStart[u]=A.start,this.contourEnd[u]=A.end,this.contourSize[u]=A.size):(this.showContour[u]=!1,this.contourStart[u]=null,this.contourEnd[u]=null,this.contourSize[u]=0),A.highlight&&(y.dynamicColor[u]=f1e(A.highlightcolor),y.dynamicWidth[u]=A.highlightwidth))}jut(i)&&(y.vertexColor=!0),y.objectOffset=this.objectOffset,y.coords=b,n.update(y),n.visible=e.visible,n.enableDynamic=_,n.enableHighlight=_,n.snapToData=!0,"lighting"in e&&(n.ambientLight=e.lighting.ambient,n.diffuseLight=e.lighting.diffuse,n.specularLight=e.lighting.specular,n.roughness=e.lighting.roughness,n.fresnel=e.lighting.fresnel),"lightposition"in e&&(n.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])};th.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function Jut(e,t){var r=e.glplot.gl,n=Nut({gl:r}),i=new h1e(e,n,t.uid);return n._trace=i,i.update(t),e.glplot.add(n),i}d1e.exports=Jut});var m1e=$((Z6t,g1e)=>{"use strict";g1e.exports={attributes:G2(),supplyDefaults:WR().supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:u1e(),plot:p1e(),moduleType:"trace",name:"surface",basePlotModule:l0(),categories:["gl3d","2dMap","showLegend"],meta:{description:["The data the describes the coordinates of the surface is set in `z`.","Data in `z` should be a {2D array}.","Coordinates in `x` and `y` can either be 1D {arrays}","or {2D arrays} (e.g. to graph parametric surfaces).","If not provided in `x` and `y`, the x and y coordinates are assumed","to be linear starting at 0 with a unit step.","The color scale corresponds to the `z` values by default.","For custom color scales, use `surfacecolor` which should be a {2D array},","where its bounds can be controlled using `cmin` and `cmax`."].join(" ")}}});var x1e=$(($6t,y1e)=>{"use strict";y1e.exports=m1e()});var sy=$((K6t,w1e)=>{"use strict";var Qut=Ma(),ZR=Ha().axisHoverFormat,eft=Yn().hovertemplateAttrs,u0=G2(),b1e=aa(),f0=ln().extendFlat;w1e.exports=f0({x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},i:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a","point in space, which is the first vertex of a triangle."].join(" ")},j:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}` ","together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a","point in space, which is the second vertex of a triangle."].join(" ")},k:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet ","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a","point in space, which is the third vertex of a triangle."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:eft({editType:"calc"}),xhoverformat:ZR("x"),yhoverformat:ZR("y"),zhoverformat:ZR("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc",description:["Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the","Delaunay triangulation.","It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate","Delaunay triangulation."].join(" ")},alphahull:{valType:"number",dflt:-1,editType:"calc",description:["Determines how the mesh surface triangles are derived from the set of","vertices (points) represented by the `x`, `y` and `z` arrays, if","the `i`, `j`, `k` arrays are not supplied.","For general use of `mesh3d` it is preferred that `i`, `j`, `k` are","supplied.","If *-1*, Delaunay triangulation is used, which is mainly suitable if the","mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`.","In case the `delaunayaxis` intersects the mesh surface at more than one point","it will result triangles that are very long in the dimension of `delaunayaxis`.","If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value","signals the use of the alpha-shape algorithm, _and_ its value","acts as the parameter for the mesh fitting.","If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies","or if the intention is to enclose the `x`, `y` and `z` point set into a convex","hull."].join(" ")},intensity:{valType:"data_array",editType:"calc",description:["Sets the intensity values for vertices or cells","as defined by `intensitymode`.","It can be used for plotting fields on meshes."].join(" ")},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc",description:["Determines the source of `intensity` values."].join(" ")},color:{valType:"color",editType:"calc",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",editType:"calc",description:["Sets the color of each vertex","Overrides *color*. While Red, green and blue colors","are in the range of 0 and 255; in the case of having","vertex color data in RGBA format, the alpha color","should be normalized to be between 0 and 1."].join(" ")},facecolor:{valType:"data_array",editType:"calc",description:["Sets the color of each face","Overrides *color* and *vertexcolor*."].join(" ")},transforms:void 0},Qut("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:u0.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not normal smoothing is applied to the meshes,","creating meshes with an angular, low-poly look via flat reflections."].join(" ")},contour:{show:f0({},u0.contours.x.show,{description:["Sets whether or not dynamic contours are shown on hover"].join(" ")}),color:u0.contours.x.color,width:u0.contours.x.width,editType:"calc"},lightposition:{x:f0({},u0.lightposition.x,{dflt:1e5}),y:f0({},u0.lightposition.y,{dflt:1e5}),z:f0({},u0.lightposition.z,{dflt:0}),editType:"calc"},lighting:f0({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},u0.lighting),hoverinfo:f0({},b1e.hoverinfo,{editType:"calc"}),showlegend:f0({},b1e.showlegend,{dflt:!1})})});var ck=$((J6t,T1e)=>{"use strict";var tft=Ma(),fk=Ha().axisHoverFormat,rft=Yn().hovertemplateAttrs,Y2=sy(),_1e=aa(),$R=ln().extendFlat,nft=Fa().overrideAll;function KR(e){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not slice planes about the",e,"dimension are drawn."].join(" ")},locations:{valType:"data_array",dflt:[],description:["Specifies the location(s) of slices on the axis.","When not specified slices would be created for","all points of the axis",e,"except start and end."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `slices`. The default fill value of the","`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}function JR(e){return{show:{valType:"boolean",dflt:!0,description:["Sets the fill ratio of the `slices`. The default fill value of the",e,"`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `caps`. The default fill value of the","`caps` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}var lg=T1e.exports=nft($R({x:{valType:"data_array",description:["Sets the X coordinates of the vertices on X axis."].join(" ")},y:{valType:"data_array",description:["Sets the Y coordinates of the vertices on Y axis."].join(" ")},z:{valType:"data_array",description:["Sets the Z coordinates of the vertices on Z axis."].join(" ")},value:{valType:"data_array",description:["Sets the 4th dimension (value) of the vertices."].join(" ")},isomin:{valType:"number",description:["Sets the minimum boundary for iso-surface plot."].join(" ")},isomax:{valType:"number",description:["Sets the maximum boundary for iso-surface plot."].join(" ")},surface:{show:{valType:"boolean",dflt:!0,description:["Hides/displays surfaces between minimum and maximum iso-values."].join(" ")},count:{valType:"integer",dflt:2,min:1,description:["Sets the number of iso-surfaces between minimum and maximum iso-values.","By default this value is 2 meaning that only minimum and maximum surfaces","would be drawn."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the iso-surface. The default fill value of the","surface is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all",description:["Sets the surface pattern of the iso-surface 3-D sections. The default pattern of","the surface is `all` meaning that the rest of surface elements would be shaded.","The check options (either 1 or 2) could be used to draw half of the squares","on the surface. Using various combinations of capital `A`, `B`, `C`, `D` and `E`","may also be used to reduce the number of triangles on the iso-surfaces and","creating other patterns of interest."].join(" ")}},spaceframe:{show:{valType:"boolean",dflt:!1,description:["Displays/hides tetrahedron shapes between minimum and","maximum iso-values. Often useful when either caps or","surfaces are disabled or filled with values less than 1."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:.15,description:["Sets the fill ratio of the `spaceframe` elements. The default fill value","is 0.15 meaning that only 15% of the area of every faces of tetras would be","shaded. Applying a greater `fill` ratio would allow the creation of stronger","elements or could be sued to have entirely closed areas (in case of using 1)."].join(" ")}},slices:{x:KR("x"),y:KR("y"),z:KR("z")},caps:{x:JR("x"),y:JR("y"),z:JR("z")},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:rft(),xhoverformat:fk("x"),yhoverformat:fk("y"),zhoverformat:fk("z"),valuehoverformat:fk("value",1),showlegend:$R({},_1e.showlegend,{dflt:!1})},tft("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:Y2.opacity,lightposition:Y2.lightposition,lighting:Y2.lighting,flatshading:Y2.flatshading,contour:Y2.contour,hoverinfo:$R({},_1e.hoverinfo)}),"calc","nested");lg.flatshading.dflt=!0;lg.lighting.facenormalsepsilon.dflt=0;lg.x.editType=lg.y.editType=lg.z.editType=lg.value.editType="calc+clearAxisTypes";lg.transforms=void 0});var QR=$((Q6t,M1e)=>{"use strict";var ift=pt(),aft=Ir(),oft=ck(),sft=$s();function lft(e,t,r,n){function i(a,o){return ift.coerce(e,t,oft,a,o)}A1e(e,t,r,n,i)}function A1e(e,t,r,n,i){var a=i("isomin"),o=i("isomax");o!=null&&a!==void 0&&a!==null&&a>o&&(t.isomin=null,t.isomax=null);var s=i("x"),l=i("y"),u=i("z"),f=i("value");if(!s||!s.length||!l||!l.length||!u||!u.length||!f||!f.length){t.visible=!1;return}var c=aft.getComponentMethod("calendars","handleTraceDefaults");c(e,t,["x","y","z"],n),i("valuehoverformat"),["x","y","z"].forEach(function(y){i(y+"hoverformat");var x="caps."+y,m=i(x+".show");m&&i(x+".fill");var _="slices."+y,g=i(_+".show");g&&(i(_+".fill"),i(_+".locations"))});var h=i("spaceframe.show");h&&i("spaceframe.fill");var v=i("surface.show");v&&(i("surface.count"),i("surface.fill"),i("surface.pattern"));var b=i("contour.show");b&&(i("contour.color"),i("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(y){i(y)}),sft(e,t,n,i,{prefix:"",cLetter:"c"}),t._length=null}M1e.exports={supplyDefaults:lft,supplyIsoDefaults:A1e}});var hk=$((eDt,S1e)=>{"use strict";var tI=pt(),uft=ku();function fft(e,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=Uh(t.u,t._len),t._v=Uh(t.v,t._len),t._w=Uh(t.w,t._len),t._x=Uh(t.x,t._len),t._y=Uh(t.y,t._len),t._z=Uh(t.z,t._len);var r=k1e(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var n=0,i,a,o;t.starts&&(i=Uh(t.starts.x||[]),a=Uh(t.starts.y||[]),o=Uh(t.starts.z||[]),n=Math.min(i.length,a.length,o.length)),t._startsX=i||[],t._startsY=a||[],t._startsZ=o||[];var s=0,l=1/0,u;for(u=0;u<t._len;u++){var f=t._u[u],c=t._v[u],h=t._w[u],v=Math.sqrt(f*f+c*c+h*h);s=Math.max(s,v),l=Math.min(l,v)}for(uft(e,t,{vals:[l,s],containerStr:"",cLetter:"c"}),u=0;u<n;u++){var b=i[u];r.xMax=Math.max(r.xMax,b),r.xMin=Math.min(r.xMin,b);var y=a[u];r.yMax=Math.max(r.yMax,y),r.yMin=Math.min(r.yMin,y);var x=o[u];r.zMax=Math.max(r.zMax,x),r.zMin=Math.min(r.zMin,x)}t._slen=n,t._normMax=s,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function k1e(e){var t=e._x,r=e._y,n=e._z,i=e._len,a,o,s,l=-1/0,u=1/0,f=-1/0,c=1/0,h=-1/0,v=1/0,b="",y,x,m,_,g,A,w,k,p;for(i&&(_=t[0],A=r[0],k=n[0]),i>1&&(g=t[i-1],w=r[i-1],p=n[i-1]),a=0;a<i;a++)l=Math.max(l,t[a]),u=Math.min(u,t[a]),f=Math.max(f,r[a]),c=Math.min(c,r[a]),h=Math.max(h,n[a]),v=Math.min(v,n[a]),!y&&t[a]!==_&&(y=!0,b+="x"),!x&&r[a]!==A&&(x=!0,b+="y"),!m&&n[a]!==k&&(m=!0,b+="z");y||(b+="x"),x||(b+="y"),m||(b+="z");var d=eI(e._x),M=eI(e._y),T=eI(e._z);b=b.replace("x",(_>g?"-":"+")+"x"),b=b.replace("y",(A>w?"-":"+")+"y"),b=b.replace("z",(k>p?"-":"+")+"z");var S=function(){i=0,d=[],M=[],T=[]};(!i||i<d.length*M.length*T.length)&&S();var E=function(fe){return fe==="x"?t:fe==="y"?r:n},L=function(fe){return fe==="x"?d:fe==="y"?M:T},D=function(fe){return fe[i-1]<fe[0]?-1:1},R=E(b[1]),q=E(b[3]),C=E(b[5]),F=L(b[1]).length,N=L(b[3]).length,U=L(b[5]).length,V=!1,Y=function(fe,se,G){return F*(N*fe+se)+G},K=D(E(b[1])),B=D(E(b[3])),z=D(E(b[5]));for(a=0;a<U-1;a++){for(o=0;o<N-1;o++){for(s=0;s<F-1;s++){var j=Y(a,o,s),ae=Y(a,o,s+1),ee=Y(a,o+1,s),ve=Y(a+1,o,s);if((!(R[j]*K<R[ae]*K)||!(q[j]*B<q[ee]*B)||!(C[j]*z<C[ve]*z))&&(V=!0),V)break}if(V)break}if(V)break}return V&&(tI.warn("Encountered arbitrary coordinates! Unable to input data grid."),S()),{xMin:u,yMin:c,zMin:v,xMax:l,yMax:f,zMax:h,Xs:d,Ys:M,Zs:T,len:i,fill:b}}function eI(e){return tI.distinctVals(e).vals}function Uh(e,t){if(t===void 0&&(t=e.length),tI.isTypedArray(e))return e.subarray(0,t);for(var r=[],n=0;n<t;n++)r[n]=+e[n];return r}S1e.exports={calc:fft,filter:Uh,processGrid:k1e}});var rI=$((tDt,E1e)=>{"use strict";var cft=ku(),hft=hk().processGrid,vk=hk().filter;E1e.exports=function(t,r){r._len=Math.min(r.x.length,r.y.length,r.z.length,r.value.length),r._x=vk(r.x,r._len),r._y=vk(r.y,r._len),r._z=vk(r.z,r._len),r._value=vk(r.value,r._len);var n=hft(r);r._gridFill=n.fill,r._Xs=n.Xs,r._Ys=n.Ys,r._Zs=n.Zs,r._len=n.len;for(var i=1/0,a=-1/0,o=0;o<r._len;o++){var s=r._value[o];i=Math.min(i,s),a=Math.max(a,s)}r._minValues=i,r._maxValues=a,r._vMin=r.isomin===void 0||r.isomin===null?i:r.isomin,r._vMax=r.isomax===void 0||r.isomin===null?a:r.isomax,cft(t,r,{vals:[r._vMin,r._vMax],containerStr:"",cLetter:"c"})}});var ly=$((rDt,L1e)=>{"use strict";L1e.exports=function(t,r,n,i){i=i||t.length;for(var a=new Array(i),o=0;o<i;o++)a[o]=[t[o],r[o],n[o]];return a}});var dk=$((nDt,R1e)=>{"use strict";var vft=$a().gl_mesh3d,dft=s0().parseColorScale,pft=ic(),gft=Wa().extractOpts,C1e=ly(),W2=function(e,t){for(var r=t.length-1;r>0;r--){var n=Math.min(t[r],t[r-1]),i=Math.max(t[r],t[r-1]);if(i>n&&n<e&&e<=i)return{id:r,distRatio:(i-e)/(i-n)}}return{id:0,distRatio:0}};function D1e(e,t,r){this.scene=e,this.uid=r,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var nI=D1e.prototype;nI.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,r=this.data._meshX[t],n=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=W2(r,this.data._Xs).id,l=W2(n,this.data._Ys).id,u=W2(i,this.data._Zs).id,f=e.index=u+o*l+o*a*s;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var c=this.data.hovertext||this.data.text;return Array.isArray(c)&&c[f]!==void 0?e.textLabel=c[f]:c&&(e.textLabel=c),!0}};nI.update=function(e){var t=this.scene,r=t.fullSceneLayout;this.data=q1e(e);function n(l,u,f,c){return u.map(function(h){return l.d2l(h,0,c)*f})}var i=C1e(n(r.xaxis,e._meshX,t.dataScale[0],e.xcalendar),n(r.yaxis,e._meshY,t.dataScale[1],e.ycalendar),n(r.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),a=C1e(e._meshI,e._meshJ,e._meshK),o={positions:i,cells:a,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:pft(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},s=gft(e);o.vertexIntensity=e._meshIntensity,o.vertexIntensityBounds=[s.min,s.max],o.colormap=dft(e),this.mesh.update(o)};nI.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var mft=["xyz","xzy","yxz","yzx","zxy","zyx"];function q1e(e){e._meshI=[],e._meshJ=[],e._meshK=[];var t=e.surface.show,r=e.spaceframe.show,n=e.surface.fill,i=e.spaceframe.fill,a=!1,o=!1,s=0,l,u,f=e._Xs,c=e._Ys,h=e._Zs,v=f.length,b=c.length,y=h.length,x=mft.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(Te,Ce,De){switch(x){case 5:return De+y*Ce+y*b*Te;case 4:return De+y*Te+y*v*Ce;case 3:return Ce+b*De+b*y*Te;case 2:return Ce+b*Te+b*v*De;case 1:return Te+v*De+v*y*Ce;default:return Te+v*Ce+v*b*De}},_=e._minValues,g=e._maxValues,A=e._vMin,w=e._vMax,k,p,d,M;function T(Te,Ce,De){for(var oe=M.length,pe=u;pe<oe;pe++)if(Te===k[pe]&&Ce===p[pe]&&De===d[pe])return pe;return-1}function S(){u=l}function E(){k=[],p=[],d=[],M=[],l=0,S()}function L(Te,Ce,De,oe){return k.push(Te),p.push(Ce),d.push(De),M.push(oe),l++,l-1}function D(Te,Ce,De){return e._meshI.push(Te),e._meshJ.push(Ce),e._meshK.push(De),s++,s-1}function R(Te,Ce,De){for(var oe=[],pe=0;pe<Te.length;pe++)oe[pe]=(Te[pe]+Ce[pe]+De[pe])/3;return oe}function q(Te,Ce,De){for(var oe=[],pe=0;pe<Te.length;pe++)oe[pe]=Te[pe]*(1-De)+De*Ce[pe];return oe}var C;function F(Te){C=Te}function N(Te,Ce){var De=Te[0],oe=Te[1],pe=Te[2],Le=R(De,oe,pe),Ue=Math.sqrt(1-C),et=q(Le,De,Ue),Qe=q(Le,oe,Ue),dt=q(Le,pe,Ue),ht=Ce[0],_t=Ce[1],kt=Ce[2];return{xyzv:[[De,oe,Qe],[Qe,et,De],[oe,pe,dt],[dt,Qe,oe],[pe,De,et],[et,dt,pe]],abc:[[ht,_t,-1],[-1,-1,ht],[_t,kt,-1],[-1,-1,_t],[kt,ht,-1],[-1,-1,kt]]}}function U(Te,Ce){return Te==="all"||Te===null?!0:Te.indexOf(Ce)>-1}function V(Te,Ce){return Te===null?Ce:Te}function Y(Te,Ce,De){S();var oe=[Ce],pe=[De];if(C>=1)oe=[Ce],pe=[De];else if(C>0){var Le=N(Ce,De);oe=Le.xyzv,pe=Le.abc}for(var Ue=0;Ue<oe.length;Ue++){Ce=oe[Ue],De=pe[Ue];for(var et=[],Qe=0;Qe<3;Qe++){var dt=Ce[Qe][0],ht=Ce[Qe][1],_t=Ce[Qe][2],kt=Ce[Qe][3],St=De[Qe]>-1?De[Qe]:T(dt,ht,_t);St>-1?et[Qe]=St:et[Qe]=L(dt,ht,_t,V(Te,kt))}D(et[0],et[1],et[2])}}function K(Te,Ce,De){var oe=function(pe,Le,Ue){Y(Te,[Ce[pe],Ce[Le],Ce[Ue]],[De[pe],De[Le],De[Ue]])};oe(0,1,2),oe(2,3,0)}function B(Te,Ce,De){var oe=function(pe,Le,Ue){Y(Te,[Ce[pe],Ce[Le],Ce[Ue]],[De[pe],De[Le],De[Ue]])};oe(0,1,2),oe(3,0,1),oe(2,3,0),oe(1,2,3)}function z(Te,Ce,De,oe){var pe=Te[3];pe<De&&(pe=De),pe>oe&&(pe=oe);for(var Le=(Te[3]-pe)/(Te[3]-Ce[3]+1e-9),Ue=[],et=0;et<4;et++)Ue[et]=(1-Le)*Te[et]+Le*Ce[et];return Ue}function j(Te,Ce,De){return Te>=Ce&&Te<=De}function ae(Te){var Ce=.001*(w-A);return Te>=A-Ce&&Te<=w+Ce}function ee(Te){for(var Ce=[],De=0;De<4;De++){var oe=Te[De];Ce.push([e._x[oe],e._y[oe],e._z[oe],e._value[oe]])}return Ce}var ve=3;function fe(Te,Ce,De,oe,pe,Le){Le||(Le=1),De=[-1,-1,-1];var Ue=!1,et=[j(Ce[0][3],oe,pe),j(Ce[1][3],oe,pe),j(Ce[2][3],oe,pe)];if(!et[0]&&!et[1]&&!et[2])return!1;var Qe=function(ht,_t,kt){return ae(_t[0][3])&&ae(_t[1][3])&&ae(_t[2][3])?(Y(ht,_t,kt),!0):Le<ve?fe(ht,_t,kt,A,w,++Le):!1};if(et[0]&&et[1]&&et[2])return Qe(Te,Ce,De)||Ue;var dt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ht){if(et[ht[0]]&&et[ht[1]]&&!et[ht[2]]){var _t=Ce[ht[0]],kt=Ce[ht[1]],St=Ce[ht[2]],Ot=z(St,_t,oe,pe),je=z(St,kt,oe,pe);Ue=Qe(Te,[je,Ot,_t],[-1,-1,De[ht[0]]])||Ue,Ue=Qe(Te,[_t,kt,je],[De[ht[0]],De[ht[1]],-1])||Ue,dt=!0}}),dt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ht){if(et[ht[0]]&&!et[ht[1]]&&!et[ht[2]]){var _t=Ce[ht[0]],kt=Ce[ht[1]],St=Ce[ht[2]],Ot=z(kt,_t,oe,pe),je=z(St,_t,oe,pe);Ue=Qe(Te,[je,Ot,_t],[-1,-1,De[ht[0]]])||Ue,dt=!0}}),Ue}function se(Te,Ce,De,oe){var pe=!1,Le=ee(Ce),Ue=[j(Le[0][3],De,oe),j(Le[1][3],De,oe),j(Le[2][3],De,oe),j(Le[3][3],De,oe)];if(!Ue[0]&&!Ue[1]&&!Ue[2]&&!Ue[3])return pe;if(Ue[0]&&Ue[1]&&Ue[2]&&Ue[3])return o&&(pe=B(Te,Le,Ce)||pe),pe;var et=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Qe){if(Ue[Qe[0]]&&Ue[Qe[1]]&&Ue[Qe[2]]&&!Ue[Qe[3]]){var dt=Le[Qe[0]],ht=Le[Qe[1]],_t=Le[Qe[2]],kt=Le[Qe[3]];if(o)pe=Y(Te,[dt,ht,_t],[Ce[Qe[0]],Ce[Qe[1]],Ce[Qe[2]]])||pe;else{var St=z(kt,dt,De,oe),Ot=z(kt,ht,De,oe),je=z(kt,_t,De,oe);pe=Y(null,[St,Ot,je],[-1,-1,-1])||pe}et=!0}}),et||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Qe){if(Ue[Qe[0]]&&Ue[Qe[1]]&&!Ue[Qe[2]]&&!Ue[Qe[3]]){var dt=Le[Qe[0]],ht=Le[Qe[1]],_t=Le[Qe[2]],kt=Le[Qe[3]],St=z(_t,dt,De,oe),Ot=z(_t,ht,De,oe),je=z(kt,ht,De,oe),Ve=z(kt,dt,De,oe);o?(pe=Y(Te,[dt,Ve,St],[Ce[Qe[0]],-1,-1])||pe,pe=Y(Te,[ht,Ot,je],[Ce[Qe[1]],-1,-1])||pe):pe=K(null,[St,Ot,je,Ve],[-1,-1,-1,-1])||pe,et=!0}}),et)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Qe){if(Ue[Qe[0]]&&!Ue[Qe[1]]&&!Ue[Qe[2]]&&!Ue[Qe[3]]){var dt=Le[Qe[0]],ht=Le[Qe[1]],_t=Le[Qe[2]],kt=Le[Qe[3]],St=z(ht,dt,De,oe),Ot=z(_t,dt,De,oe),je=z(kt,dt,De,oe);o?(pe=Y(Te,[dt,St,Ot],[Ce[Qe[0]],-1,-1])||pe,pe=Y(Te,[dt,Ot,je],[Ce[Qe[0]],-1,-1])||pe,pe=Y(Te,[dt,je,St],[Ce[Qe[0]],-1,-1])||pe):pe=Y(null,[St,Ot,je],[-1,-1,-1])||pe,et=!0}}),pe}function G(Te,Ce,De,oe,pe,Le,Ue,et,Qe,dt,ht){var _t=!1;return a&&(U(Te,"A")&&(_t=se(null,[Ce,De,oe,Le],dt,ht)||_t),U(Te,"B")&&(_t=se(null,[De,oe,pe,Qe],dt,ht)||_t),U(Te,"C")&&(_t=se(null,[De,Le,Ue,Qe],dt,ht)||_t),U(Te,"D")&&(_t=se(null,[oe,Le,et,Qe],dt,ht)||_t),U(Te,"E")&&(_t=se(null,[De,oe,Le,Qe],dt,ht)||_t)),o&&(_t=se(Te,[De,oe,Le,Qe],dt,ht)||_t),_t}function Z(Te,Ce,De,oe,pe,Le,Ue,et){return[et[0]===!0?!0:fe(Te,ee([Ce,De,oe]),[Ce,De,oe],Le,Ue),et[1]===!0?!0:fe(Te,ee([oe,pe,Ce]),[oe,pe,Ce],Le,Ue)]}function X(Te,Ce,De,oe,pe,Le,Ue,et,Qe){return et?Z(Te,Ce,De,pe,oe,Le,Ue,Qe):Z(Te,De,pe,oe,Ce,Le,Ue,Qe)}function ge(Te,Ce,De,oe,pe,Le,Ue){var et=!1,Qe,dt,ht,_t,kt=function(){et=fe(Te,[Qe,dt,ht],[-1,-1,-1],pe,Le)||et,et=fe(Te,[ht,_t,Qe],[-1,-1,-1],pe,Le)||et},St=Ue[0],Ot=Ue[1],je=Ue[2];return St&&(Qe=q(ee([m(Ce,De-0,oe-0)])[0],ee([m(Ce-1,De-0,oe-0)])[0],St),dt=q(ee([m(Ce,De-0,oe-1)])[0],ee([m(Ce-1,De-0,oe-1)])[0],St),ht=q(ee([m(Ce,De-1,oe-1)])[0],ee([m(Ce-1,De-1,oe-1)])[0],St),_t=q(ee([m(Ce,De-1,oe-0)])[0],ee([m(Ce-1,De-1,oe-0)])[0],St),kt()),Ot&&(Qe=q(ee([m(Ce-0,De,oe-0)])[0],ee([m(Ce-0,De-1,oe-0)])[0],Ot),dt=q(ee([m(Ce-0,De,oe-1)])[0],ee([m(Ce-0,De-1,oe-1)])[0],Ot),ht=q(ee([m(Ce-1,De,oe-1)])[0],ee([m(Ce-1,De-1,oe-1)])[0],Ot),_t=q(ee([m(Ce-1,De,oe-0)])[0],ee([m(Ce-1,De-1,oe-0)])[0],Ot),kt()),je&&(Qe=q(ee([m(Ce-0,De-0,oe)])[0],ee([m(Ce-0,De-0,oe-1)])[0],je),dt=q(ee([m(Ce-0,De-1,oe)])[0],ee([m(Ce-0,De-1,oe-1)])[0],je),ht=q(ee([m(Ce-1,De-1,oe)])[0],ee([m(Ce-1,De-1,oe-1)])[0],je),_t=q(ee([m(Ce-1,De-0,oe)])[0],ee([m(Ce-1,De-0,oe-1)])[0],je),kt()),et}function qe(Te,Ce,De,oe,pe,Le,Ue,et,Qe,dt,ht,_t){var kt=Te;return _t?(a&&Te==="even"&&(kt=null),G(kt,Ce,De,oe,pe,Le,Ue,et,Qe,dt,ht)):(a&&Te==="odd"&&(kt=null),G(kt,Qe,et,Ue,Le,pe,oe,De,Ce,dt,ht))}function Pe(Te,Ce,De,oe,pe){for(var Le=[],Ue=0,et=0;et<Ce.length;et++)for(var Qe=Ce[et],dt=1;dt<y;dt++)for(var ht=1;ht<b;ht++)Le.push(X(Te,m(Qe,ht-1,dt-1),m(Qe,ht-1,dt),m(Qe,ht,dt-1),m(Qe,ht,dt),De,oe,(Qe+ht+dt)%2,pe&&pe[Ue]?pe[Ue]:[])),Ue++;return Le}function Oe(Te,Ce,De,oe,pe){for(var Le=[],Ue=0,et=0;et<Ce.length;et++)for(var Qe=Ce[et],dt=1;dt<v;dt++)for(var ht=1;ht<y;ht++)Le.push(X(Te,m(dt-1,Qe,ht-1),m(dt,Qe,ht-1),m(dt-1,Qe,ht),m(dt,Qe,ht),De,oe,(dt+Qe+ht)%2,pe&&pe[Ue]?pe[Ue]:[])),Ue++;return Le}function de(Te,Ce,De,oe,pe){for(var Le=[],Ue=0,et=0;et<Ce.length;et++)for(var Qe=Ce[et],dt=1;dt<b;dt++)for(var ht=1;ht<v;ht++)Le.push(X(Te,m(ht-1,dt-1,Qe),m(ht-1,dt,Qe),m(ht,dt-1,Qe),m(ht,dt,Qe),De,oe,(ht+dt+Qe)%2,pe&&pe[Ue]?pe[Ue]:[])),Ue++;return Le}function _e(Te,Ce,De){for(var oe=1;oe<y;oe++)for(var pe=1;pe<b;pe++)for(var Le=1;Le<v;Le++)qe(Te,m(Le-1,pe-1,oe-1),m(Le-1,pe-1,oe),m(Le-1,pe,oe-1),m(Le-1,pe,oe),m(Le,pe-1,oe-1),m(Le,pe-1,oe),m(Le,pe,oe-1),m(Le,pe,oe),Ce,De,(Le+pe+oe)%2)}function ce(Te,Ce,De){o=!0,_e(Te,Ce,De),o=!1}function J(Te,Ce,De){a=!0,_e(Te,Ce,De),a=!1}function ne(Te,Ce,De,oe,pe,Le){for(var Ue=[],et=0,Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],ht=1;ht<y;ht++)for(var _t=1;_t<b;_t++)Ue.push(ge(Te,dt,_t,ht,De,oe,pe[Qe],Le&&Le[et]?Le[et]:[])),et++;return Ue}function be(Te,Ce,De,oe,pe,Le){for(var Ue=[],et=0,Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],ht=1;ht<v;ht++)for(var _t=1;_t<y;_t++)Ue.push(ge(Te,ht,dt,_t,De,oe,pe[Qe],Le&&Le[et]?Le[et]:[])),et++;return Ue}function Fe(Te,Ce,De,oe,pe,Le){for(var Ue=[],et=0,Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],ht=1;ht<b;ht++)for(var _t=1;_t<v;_t++)Ue.push(ge(Te,_t,ht,dt,De,oe,pe[Qe],Le&&Le[et]?Le[et]:[])),et++;return Ue}function He(Te,Ce){for(var De=[],oe=Te;oe<Ce;oe++)De.push(oe);return De}function te(){for(var Te=0;Te<v;Te++)for(var Ce=0;Ce<b;Ce++)for(var De=0;De<y;De++){var oe=m(Te,Ce,De);L(e._x[oe],e._y[oe],e._z[oe],e._value[oe])}}function ye(){E(),te();var Te=null;if(r&&i&&(F(i),ce(Te,A,w)),t&&n){F(n);for(var Ce=e.surface.pattern,De=e.surface.count,oe=0;oe<De;oe++){var pe=De===1?.5:oe/(De-1),Le=(1-pe)*A+pe*w,Ue=Math.abs(Le-_),et=Math.abs(Le-g),Qe=Ue>et?[_,Le]:[Le,g];J(Ce,Qe[0],Qe[1])}}var dt=[[Math.min(A,g),Math.max(A,g)],[Math.min(_,w),Math.max(_,w)]];["x","y","z"].forEach(function(ht){for(var _t=[],kt=0;kt<dt.length;kt++){var St=0,Ot=dt[kt][0],je=dt[kt][1],Ve=e.slices[ht];if(Ve.show&&Ve.fill){F(Ve.fill);var Je=[],nt=[],Be=[];if(Ve.locations.length)for(var tt=0;tt<Ve.locations.length;tt++){var ot=W2(Ve.locations[tt],ht==="x"?f:ht==="y"?c:h);ot.distRatio===0?Je.push(ot.id):ot.id>0&&(nt.push(ot.id),ht==="x"?Be.push([ot.distRatio,0,0]):ht==="y"?Be.push([0,ot.distRatio,0]):Be.push([0,0,ot.distRatio]))}else ht==="x"?Je=He(1,v-1):ht==="y"?Je=He(1,b-1):Je=He(1,y-1);nt.length>0&&(ht==="x"?_t[St]=ne(Te,nt,Ot,je,Be,_t[St]):ht==="y"?_t[St]=be(Te,nt,Ot,je,Be,_t[St]):_t[St]=Fe(Te,nt,Ot,je,Be,_t[St]),St++),Je.length>0&&(ht==="x"?_t[St]=Pe(Te,Je,Ot,je,_t[St]):ht==="y"?_t[St]=Oe(Te,Je,Ot,je,_t[St]):_t[St]=de(Te,Je,Ot,je,_t[St]),St++)}var yt=e.caps[ht];yt.show&&yt.fill&&(F(yt.fill),ht==="x"?_t[St]=Pe(Te,[0,v-1],Ot,je,_t[St]):ht==="y"?_t[St]=Oe(Te,[0,b-1],Ot,je,_t[St]):_t[St]=de(Te,[0,y-1],Ot,je,_t[St]),St++)}}),s===0&&E(),e._meshX=k,e._meshY=p,e._meshZ=d,e._meshIntensity=M,e._Xs=f,e._Ys=c,e._Zs=h}return ye(),e}function yft(e,t){var r=e.glplot.gl,n=vft({gl:r}),i=new D1e(e,n,t.uid);return n._trace=i,i.update(t),e.glplot.add(n),i}R1e.exports={findNearestOnAxis:W2,generateIsoMeshes:q1e,createIsosurfaceTrace:yft}});var P1e=$((iDt,I1e)=>{"use strict";I1e.exports={attributes:ck(),supplyDefaults:QR().supplyDefaults,calc:rI(),colorbar:{min:"cmin",max:"cmax"},plot:dk().createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:l0(),categories:["gl3d","showLegend"],meta:{description:["Draws isosurfaces between iso-min and iso-max values with coordinates given by","four 1-dimensional arrays containing the `value`, `x`, `y` and `z` of every vertex","of a uniform or non-uniform 3-D grid. Horizontal or vertical slices, caps as well as","spaceframe between iso-min and iso-max values could also be drawn using this trace."].join(" ")}}});var N1e=$((aDt,F1e)=>{"use strict";F1e.exports=P1e()});var aI=$((oDt,O1e)=>{"use strict";var xft=Ma(),ko=ck(),bft=G2(),z1e=aa(),iI=ln().extendFlat,wft=Fa().overrideAll,X2=O1e.exports=wft(iI({x:ko.x,y:ko.y,z:ko.z,value:ko.value,isomin:ko.isomin,isomax:ko.isomax,surface:ko.surface,spaceframe:{show:{valType:"boolean",dflt:!1,description:["Displays/hides tetrahedron shapes between minimum and","maximum iso-values. Often useful when either caps or","surfaces are disabled or filled with values less than 1."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `spaceframe` elements. The default fill value","is 1 meaning that they are entirely shaded. Applying a `fill` ratio less","than one would allow the creation of openings parallel to the edges."].join(" ")}},slices:ko.slices,caps:ko.caps,text:ko.text,hovertext:ko.hovertext,xhoverformat:ko.xhoverformat,yhoverformat:ko.yhoverformat,zhoverformat:ko.zhoverformat,valuehoverformat:ko.valuehoverformat,hovertemplate:ko.hovertemplate},xft("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:ko.colorbar,opacity:ko.opacity,opacityscale:bft.opacityscale,lightposition:ko.lightposition,lighting:ko.lighting,flatshading:ko.flatshading,contour:ko.contour,hoverinfo:iI({},z1e.hoverinfo),showlegend:iI({},z1e.showlegend,{dflt:!1})}),"calc","nested");X2.x.editType=X2.y.editType=X2.z.editType=X2.value.editType="calc+clearAxisTypes";X2.transforms=void 0});var H1e=$((sDt,B1e)=>{"use strict";var _ft=pt(),Tft=aI(),Aft=QR().supplyIsoDefaults,Mft=WR().opacityscaleDefaults;B1e.exports=function(t,r,n,i){function a(o,s){return _ft.coerce(t,r,Tft,o,s)}Aft(t,r,n,i,a),Mft(t,r,i,a)}});var G1e=$((lDt,V1e)=>{"use strict";var kft=$a().gl_mesh3d,Sft=s0().parseColorScale,Eft=ic(),Lft=Wa().extractOpts,U1e=ly(),oI=dk().findNearestOnAxis,Cft=dk().generateIsoMeshes;function j1e(e,t,r){this.scene=e,this.uid=r,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var sI=j1e.prototype;sI.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,r=this.data._meshX[t],n=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=oI(r,this.data._Xs).id,l=oI(n,this.data._Ys).id,u=oI(i,this.data._Zs).id,f=e.index=u+o*l+o*a*s;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var c=this.data.hovertext||this.data.text;return Array.isArray(c)&&c[f]!==void 0?e.textLabel=c[f]:c&&(e.textLabel=c),!0}};sI.update=function(e){var t=this.scene,r=t.fullSceneLayout;this.data=Cft(e);function n(l,u,f,c){return u.map(function(h){return l.d2l(h,0,c)*f})}var i=U1e(n(r.xaxis,e._meshX,t.dataScale[0],e.xcalendar),n(r.yaxis,e._meshY,t.dataScale[1],e.ycalendar),n(r.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),a=U1e(e._meshI,e._meshJ,e._meshK),o={positions:i,cells:a,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:Eft(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},s=Lft(e);o.vertexIntensity=e._meshIntensity,o.vertexIntensityBounds=[s.min,s.max],o.colormap=Sft(e),this.mesh.update(o)};sI.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Dft(e,t){var r=e.glplot.gl,n=kft({gl:r}),i=new j1e(e,n,t.uid);return n._trace=i,i.update(t),e.glplot.add(n),i}V1e.exports=Dft});var W1e=$((uDt,Y1e)=>{"use strict";Y1e.exports={attributes:aI(),supplyDefaults:H1e(),calc:rI(),colorbar:{min:"cmin",max:"cmax"},plot:G1e(),moduleType:"trace",name:"volume",basePlotModule:l0(),categories:["gl3d","showLegend"],meta:{description:["Draws volume trace between iso-min and iso-max values with coordinates given by","four 1-dimensional arrays containing the `value`, `x`, `y` and `z` of every vertex","of a uniform or non-uniform 3-D grid. Horizontal or vertical slices, caps as well as","spaceframe between iso-min and iso-max values could also be drawn using this trace."].join(" ")}}});var Z1e=$((fDt,X1e)=>{"use strict";X1e.exports=W1e()});var J1e=$((cDt,K1e)=>{"use strict";var qft=Ir(),$1e=pt(),Rft=$s(),Ift=sy();K1e.exports=function(t,r,n,i){function a(f,c){return $1e.coerce(t,r,Ift,f,c)}function o(f){var c=f.map(function(h){var v=a(h);return v&&$1e.isArrayOrTypedArray(v)?v:null});return c.every(function(h){return h&&h.length===c[0].length})&&c}var s=o(["x","y","z"]);if(!s){r.visible=!1;return}if(o(["i","j","k"]),r.i&&(!r.j||!r.k)||r.j&&(!r.k||!r.i)||r.k&&(!r.i||!r.j)){r.visible=!1;return}var l=qft.getComponentMethod("calendars","handleTraceDefaults");l(t,r,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){a(f)});var u=a("contour.show");u&&(a("contour.color"),a("contour.width")),"intensity"in t?(a("intensity"),a("intensitymode"),Rft(t,r,i,a,{prefix:"",cLetter:"c"})):(r.showscale=!1,"facecolor"in t?a("facecolor"):"vertexcolor"in t?a("vertexcolor"):a("color",n)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),r._length=null}});var eme=$((hDt,Q1e)=>{"use strict";var Pft=ku();Q1e.exports=function(t,r){r.intensity&&Pft(t,r,{vals:r.intensity,containerStr:"",cLetter:"c"})}});var ame=$((vDt,ime)=>{"use strict";var Fft=$a().gl_mesh3d,Nft=$a().delaunay_triangulate,zft=$a().alpha_shape,Oft=$a().convex_hull,Bft=s0().parseColorScale,cI=ic(),Hft=Wa().extractOpts,tme=ly();function nme(e,t,r){this.scene=e,this.uid=r,this.mesh=t,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var hI=nme.prototype;hI.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]];var r=this.data.hovertext||this.data.text;return Array.isArray(r)&&r[t]!==void 0?e.textLabel=r[t]:r&&(e.textLabel=r),!0}};function rme(e){for(var t=[],r=e.length,n=0;n<r;n++)t[n]=cI(e[n]);return t}function lI(e,t,r,n){for(var i=[],a=t.length,o=0;o<a;o++)i[o]=e.d2l(t[o],0,n)*r;return i}function uI(e){for(var t=[],r=e.length,n=0;n<r;n++)t[n]=Math.round(e[n]);return t}function Uft(e,t){for(var r=["x","y","z"].indexOf(e),n=[],i=t.length,a=0;a<i;a++)n[a]=[t[a][(r+1)%3],t[a][(r+2)%3]];return Nft(n)}function fI(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]<=-.5||e[n]>=t-.5)return!1;return!0}hI.update=function(e){var t=this.scene,r=t.fullSceneLayout;this.data=e;var n=e.x.length,i=tme(lI(r.xaxis,e.x,t.dataScale[0],e.xcalendar),lI(r.yaxis,e.y,t.dataScale[1],e.ycalendar),lI(r.zaxis,e.z,t.dataScale[2],e.zcalendar)),a;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!fI(e.i,n)||!fI(e.j,n)||!fI(e.k,n))return;a=tme(uI(e.i),uI(e.j),uI(e.k))}else e.alphahull===0?a=Oft(i):e.alphahull>0?a=zft(e.alphahull,i):a=Uft(e.delaunayaxis,i);var o={positions:i,cells:a,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:cI(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var s=Hft(e);this.color="#fff";var l=e.intensitymode;o[l+"Intensity"]=e.intensity,o[l+"IntensityBounds"]=[s.min,s.max],o.colormap=Bft(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],o.vertexColors=rme(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],o.cellColors=rme(e.facecolor)):(this.color=e.color,o.meshColor=cI(e.color));this.mesh.update(o)};hI.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function jft(e,t){var r=e.glplot.gl,n=Fft({gl:r}),i=new nme(e,n,t.uid);return n._trace=i,i.update(t),e.glplot.add(n),i}ime.exports=jft});var sme=$((dDt,ome)=>{"use strict";ome.exports={attributes:sy(),supplyDefaults:J1e(),calc:eme(),colorbar:{min:"cmin",max:"cmax"},plot:ame(),moduleType:"trace",name:"mesh3d",basePlotModule:l0(),categories:["gl3d","showLegend"],meta:{description:["Draws sets of triangles with coordinates given by","three 1-dimensional arrays in `x`, `y`, `z` and","(1) a sets of `i`, `j`, `k` indices","(2) Delaunay triangulation or","(3) the Alpha-shape algorithm or","(4) the Convex-hull algorithm"].join(" ")}}});var ume=$((pDt,lme)=>{"use strict";lme.exports=sme()});var dI=$((gDt,cme)=>{"use strict";var Vft=Ma(),uy=Ha().axisHoverFormat,Gft=Yn().hovertemplateAttrs,Yft=sy(),fme=aa(),vI=ln().extendFlat,Z2={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x coordinates of the vector field","and of the displayed cones."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the y coordinates of the vector field","and of the displayed cones."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the z coordinates of the vector field","and of the displayed cones."].join(" ")},u:{valType:"data_array",editType:"calc",description:"Sets the x components of the vector field."},v:{valType:"data_array",editType:"calc",description:"Sets the y components of the vector field."},w:{valType:"data_array",editType:"calc",description:"Sets the z components of the vector field."},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled",description:["Determines whether `sizeref` is set as a *scaled* (i.e unitless) scalar","(normalized by the max u/v/w norm in the vector field) or as","*absolute* value (in the same units as the vector field)."].join(" ")},sizeref:{valType:"number",editType:"calc",min:0,description:["Adjusts the cone size scaling.","The size of the cones is determined by their u/v/w norm multiplied a factor and `sizeref`.",'This factor (computed internally) corresponds to the minimum "time" to travel across',"two successive x/y/z positions at the average velocity of those two successive positions.","All cones in a given trace use the same factor.","With `sizemode` set to *scaled*, `sizeref` is unitless, its default value is *0.5*","With `sizemode` set to *absolute*, `sizeref` has the same units as the u/v/w vector field,","its the default value is half the sample's maximum vector norm."].join(" ")},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm",description:["Sets the cones' anchor with respect to their x/y/z positions.","Note that *cm* denote the cone's center of mass which corresponds to","1/4 from the tail to tip."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the cones.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:Gft({editType:"calc"},{keys:["norm"]}),uhoverformat:uy("u",1),vhoverformat:uy("v",1),whoverformat:uy("w",1),xhoverformat:uy("x"),yhoverformat:uy("y"),zhoverformat:uy("z"),showlegend:vI({},fme.showlegend,{dflt:!1})};vI(Z2,Vft("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var Wft=["opacity","lightposition","lighting"];Wft.forEach(function(e){Z2[e]=Yft[e]});Z2.hoverinfo=vI({},fme.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"});Z2.transforms=void 0;cme.exports=Z2});var vme=$((mDt,hme)=>{"use strict";var Xft=pt(),Zft=$s(),$ft=dI();hme.exports=function(t,r,n,i){function a(h,v){return Xft.coerce(t,r,$ft,h,v)}var o=a("u"),s=a("v"),l=a("w"),u=a("x"),f=a("y"),c=a("z");if(!o||!o.length||!s||!s.length||!l||!l.length||!u||!u.length||!f||!f.length||!c||!c.length){r.visible=!1;return}a("sizeref"),a("sizemode"),a("anchor"),a("lighting.ambient"),a("lighting.diffuse"),a("lighting.specular"),a("lighting.roughness"),a("lighting.fresnel"),a("lightposition.x"),a("lightposition.y"),a("lightposition.z"),Zft(t,r,i,a,{prefix:"",cLetter:"c"}),a("text"),a("hovertext"),a("hovertemplate"),a("uhoverformat"),a("vhoverformat"),a("whoverformat"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),r._length=null}});var pme=$((yDt,dme)=>{"use strict";var Kft=ku();dme.exports=function(t,r){for(var n=r.u,i=r.v,a=r.w,o=Math.min(r.x.length,r.y.length,r.z.length,n.length,i.length,a.length),s=-1/0,l=1/0,u=0;u<o;u++){var f=n[u],c=i[u],h=a[u],v=Math.sqrt(f*f+c*c+h*h);s=Math.max(s,v),l=Math.min(l,v)}r._len=o,r._normMax=s,Kft(t,r,{vals:[l,s],containerStr:"",cLetter:"c"})}});var bme=$((xDt,xme)=>{"use strict";var Jft=$a().gl_cone3d,Qft=$a().gl_cone3d.createConeMesh,ect=pt().simpleMap,tct=s0().parseColorScale,rct=Wa().extractOpts,gme=ly();function mme(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var pI=mme.prototype;pI.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,r=this.data.x[t],n=this.data.y[t],i=this.data.z[t],a=this.data.u[t],o=this.data.v[t],s=this.data.w[t];e.traceCoordinate=[r,n,i,a,o,s,Math.sqrt(a*a+o*o+s*s)];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&l[t]!==void 0?e.textLabel=l[t]:l&&(e.textLabel=l),!0}};var nct={xaxis:0,yaxis:1,zaxis:2},ict={tip:1,tail:0,cm:.25,center:.5},act={tip:1,tail:1,cm:.75,center:.5};function yme(e,t){var r=e.fullSceneLayout,n=e.dataScale,i={};function a(u,f){var c=r[f],h=n[nct[f]];return ect(u,function(v){return c.d2l(v)*h})}i.vectors=gme(a(t.u,"xaxis"),a(t.v,"yaxis"),a(t.w,"zaxis"),t._len),i.positions=gme(a(t.x,"xaxis"),a(t.y,"yaxis"),a(t.z,"zaxis"),t._len);var o=rct(t);i.colormap=tct(t),i.vertexIntensityBounds=[o.min/t._normMax,o.max/t._normMax],i.coneOffset=ict[t.anchor],t.sizemode==="scaled"?i.coneSize=t.sizeref||.5:i.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var s=Jft(i),l=t.lightposition;return s.lightPosition=[l.x,l.y,l.z],s.ambient=t.lighting.ambient,s.diffuse=t.lighting.diffuse,s.specular=t.lighting.specular,s.roughness=t.lighting.roughness,s.fresnel=t.lighting.fresnel,s.opacity=t.opacity,t._pad=act[t.anchor]*s.vectorScale*s.coneScale*t._normMax,s}pI.update=function(e){this.data=e;var t=yme(this.scene,e);this.mesh.update(t)};pI.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function oct(e,t){var r=e.glplot.gl,n=yme(e,t),i=Qft(r,n),a=new mme(e,t.uid);return a.mesh=i,a.data=t,i._trace=a,e.glplot.add(i),a}xme.exports=oct});var _me=$((bDt,wme)=>{"use strict";wme.exports={moduleType:"trace",name:"cone",basePlotModule:l0(),categories:["gl3d","showLegend"],attributes:dI(),supplyDefaults:vme(),colorbar:{min:"cmin",max:"cmax"},calc:pme(),plot:bme(),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{description:["Use cone traces to visualize vector fields.","","Specify a vector field using 6 1D arrays,","3 position arrays `x`, `y` and `z`","and 3 vector component arrays `u`, `v`, `w`.","The cones are drawn exactly at the positions given","by `x`, `y` and `z`."].join(" ")}}});var Ame=$((wDt,Tme)=>{"use strict";Tme.exports=_me()});var mI=$((_Dt,kme)=>{"use strict";var sct=Ma(),fy=Ha().axisHoverFormat,lct=Yn().hovertemplateAttrs,uct=sy(),Mme=aa(),gI=ln().extendFlat,$2={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the x coordinates of the vector field."},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the y coordinates of the vector field."},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the z coordinates of the vector field."},u:{valType:"data_array",editType:"calc",description:"Sets the x components of the vector field."},v:{valType:"data_array",editType:"calc",description:"Sets the y components of the vector field."},w:{valType:"data_array",editType:"calc",description:"Sets the z components of the vector field."},starts:{x:{valType:"data_array",editType:"calc",description:["Sets the x components of the starting position of the streamtubes"].join(" ")},y:{valType:"data_array",editType:"calc",description:["Sets the y components of the starting position of the streamtubes"].join(" ")},z:{valType:"data_array",editType:"calc",description:["Sets the z components of the starting position of the streamtubes"].join(" ")},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc",description:["The maximum number of displayed segments in a streamtube."].join(" ")},sizeref:{valType:"number",editType:"calc",min:0,dflt:1,description:["The scaling factor for the streamtubes.","The default is 1, which avoids two max divergence tubes from touching","at adjacent starting positions."].join(" ")},text:{valType:"string",dflt:"",editType:"calc",description:["Sets a text element associated with this trace.","If trace `hoverinfo` contains a *text* flag,","this text element will be seen in all hover labels.","Note that streamtube traces do not support array `text` values."].join(" ")},hovertext:{valType:"string",dflt:"",editType:"calc",description:"Same as `text`."},hovertemplate:lct({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:fy("u",1),vhoverformat:fy("v",1),whoverformat:fy("w",1),xhoverformat:fy("x"),yhoverformat:fy("y"),zhoverformat:fy("z"),showlegend:gI({},Mme.showlegend,{dflt:!1})};gI($2,sct("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var fct=["opacity","lightposition","lighting"];fct.forEach(function(e){$2[e]=uct[e]});$2.hoverinfo=gI({},Mme.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"});$2.transforms=void 0;kme.exports=$2});var Eme=$((TDt,Sme)=>{"use strict";var cct=pt(),hct=$s(),vct=mI();Sme.exports=function(t,r,n,i){function a(h,v){return cct.coerce(t,r,vct,h,v)}var o=a("u"),s=a("v"),l=a("w"),u=a("x"),f=a("y"),c=a("z");if(!o||!o.length||!s||!s.length||!l||!l.length||!u||!u.length||!f||!f.length||!c||!c.length){r.visible=!1;return}a("starts.x"),a("starts.y"),a("starts.z"),a("maxdisplayed"),a("sizeref"),a("lighting.ambient"),a("lighting.diffuse"),a("lighting.specular"),a("lighting.roughness"),a("lighting.fresnel"),a("lightposition.x"),a("lightposition.y"),a("lightposition.z"),hct(t,r,i,a,{prefix:"",cLetter:"c"}),a("text"),a("hovertext"),a("hovertemplate"),a("uhoverformat"),a("vhoverformat"),a("whoverformat"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),r._length=null}});var Fme=$((ADt,Pme)=>{"use strict";var Dme=$a().gl_streamtube3d,dct=Dme.createTubeMesh,pct=pt(),gct=s0().parseColorScale,mct=Wa().extractOpts,Lme=ly(),qme={xaxis:0,yaxis:1,zaxis:2};function Rme(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var xI=Rme.prototype;xI.handlePick=function(e){var t=this.scene.fullSceneLayout,r=this.scene.dataScale;function n(o,s){var l=t[s],u=r[qme[s]];return l.l2c(o)/u}if(e.object===this.mesh){var i=e.data.position,a=e.data.velocity;return e.traceCoordinate=[n(i[0],"xaxis"),n(i[1],"yaxis"),n(i[2],"zaxis"),n(a[0],"xaxis"),n(a[1],"yaxis"),n(a[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function Cme(e){var t=e.length,r;return t>2?r=e.slice(1,t-1):t===2?r=[(e[0]+e[1])/2]:r=e,r}function yI(e){var t=e.length;return t===1?[.5,.5]:[e[1]-e[0],e[t-1]-e[t-2]]}function Ime(e,t){var r=e.fullSceneLayout,n=e.dataScale,i=t._len,a={};function o(E,L){var D=r[L],R=n[qme[L]];return pct.simpleMap(E,function(q){return D.d2l(q)*R})}if(a.vectors=Lme(o(t._u,"xaxis"),o(t._v,"yaxis"),o(t._w,"zaxis"),i),!i)return{positions:[],cells:[]};var s=o(t._Xs,"xaxis"),l=o(t._Ys,"yaxis"),u=o(t._Zs,"zaxis");a.meshgrid=[s,l,u],a.gridFill=t._gridFill;var f=t._slen;if(f)a.startingPositions=Lme(o(t._startsX,"xaxis"),o(t._startsY,"yaxis"),o(t._startsZ,"zaxis"));else{for(var c=l[0],h=Cme(s),v=Cme(u),b=new Array(h.length*v.length),y=0,x=0;x<h.length;x++)for(var m=0;m<v.length;m++)b[y++]=[h[x],c,v[m]];a.startingPositions=b}a.colormap=gct(t),a.tubeSize=t.sizeref,a.maxLength=t.maxdisplayed;var _=o(t._xbnds,"xaxis"),g=o(t._ybnds,"yaxis"),A=o(t._zbnds,"zaxis"),w=yI(s),k=yI(l),p=yI(u),d=[[_[0]-w[0],g[0]-k[0],A[0]-p[0]],[_[1]+w[1],g[1]+k[1],A[1]+p[1]]],M=Dme(a,d),T=mct(t);M.vertexIntensityBounds=[T.min/t._normMax,T.max/t._normMax];var S=t.lightposition;return M.lightPosition=[S.x,S.y,S.z],M.ambient=t.lighting.ambient,M.diffuse=t.lighting.diffuse,M.specular=t.lighting.specular,M.roughness=t.lighting.roughness,M.fresnel=t.lighting.fresnel,M.opacity=t.opacity,t._pad=M.tubeScale*t.sizeref*2,M}xI.update=function(e){this.data=e;var t=Ime(this.scene,e);this.mesh.update(t)};xI.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function yct(e,t){var r=e.glplot.gl,n=Ime(e,t),i=dct(r,n),a=new Rme(e,t.uid);return a.mesh=i,a.data=t,i._trace=a,e.glplot.add(i),a}Pme.exports=yct});var zme=$((MDt,Nme)=>{"use strict";Nme.exports={moduleType:"trace",name:"streamtube",basePlotModule:l0(),categories:["gl3d","showLegend"],attributes:mI(),supplyDefaults:Eme(),colorbar:{min:"cmin",max:"cmax"},calc:hk().calc,plot:Fme(),eventData:function(e,t){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=t.traceCoordinate[3],e.tubev=t.traceCoordinate[4],e.tubew=t.traceCoordinate[5],e.norm=t.traceCoordinate[6],e.divergence=t.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{description:["Use a streamtube trace to visualize flow in a vector field.","","Specify a vector field using 6 1D arrays of equal length,","3 position arrays `x`, `y` and `z`","and 3 vector component arrays `u`, `v`, and `w`.","","By default, the tubes' starting positions will be cut from the vector field's","x-z plane at its minimum y value.","To specify your own starting position, use attributes `starts.x`, `starts.y`","and `starts.z`.","The color is encoded by the norm of (u, v, w), and the local radius","by the divergence of (u, v, w)."].join(" ")}}});var Bme=$((kDt,Ome)=>{"use strict";Ome.exports=zme()});var K2=$((SDt,jme)=>{"use strict";var xct=Yn().hovertemplateAttrs,bct=Yn().texttemplateAttrs,rh=Ps(),wct=aa(),Hme=Ma(),_ct=Ul().dash,cy=ln().extendFlat,Tct=Fa().overrideAll,Gv=rh.marker,Ume=rh.line,Act=Gv.line;jme.exports=Tct({lon:{valType:"data_array",description:"Sets the longitude coordinates (in degrees East)."},lat:{valType:"data_array",description:"Sets the latitude coordinates (in degrees North)."},locations:{valType:"data_array",description:["Sets the coordinates via location IDs or names.","Coordinates correspond to the centroid of each location given.","See `locationmode` for more info."].join(" ")},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3",description:["Determines the set of locations used to match entries in `locations`","to regions on the map.","Values *ISO-3*, *USA-states*, *country names* correspond to features on","the base map and value *geojson-id* corresponds to features from a custom","GeoJSON linked to the `geojson` attribute."].join(" ")},geojson:{valType:"any",editType:"calc",description:["Sets optional GeoJSON data associated with this trace.","If not given, the features on the base map are used when `locations` is set.","It can be set as a valid GeoJSON object or as a URL string.","Note that we only accept GeoJSONs of type *FeatureCollection* or *Feature*","with geometries of type *Polygon* or *MultiPolygon*."].join(" ")},featureidkey:{valType:"string",editType:"calc",dflt:"id",description:["Sets the key in GeoJSON features which is used as id to match the items","included in the `locations` array.","Only has an effect when `geojson` is set.","Support nested property, for example *properties.name*."].join(" ")},mode:cy({},rh.mode,{dflt:"markers"}),text:cy({},rh.text,{description:["Sets text elements associated with each (lon,lat) pair","or item in `locations`.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) or `locations` coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:bct({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:cy({},rh.hovertext,{description:["Sets hover text elements associated with each (lon,lat) pair","or item in `locations`.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) or `locations` coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),textfont:rh.textfont,textposition:rh.textposition,line:{color:Ume.color,width:Ume.width,dash:_ct},connectgaps:rh.connectgaps,marker:cy({symbol:Gv.symbol,opacity:Gv.opacity,size:Gv.size,sizeref:Gv.sizeref,sizemin:Gv.sizemin,sizemode:Gv.sizemode,colorbar:Gv.colorbar,line:cy({width:Act.width},Hme("marker.line")),gradient:Gv.gradient},Hme("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape."].join(" ")},fillcolor:rh.fillcolor,selected:rh.selected,unselected:rh.unselected,hoverinfo:cy({},wct.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:xct()},"calc","nested")});var Gme=$((EDt,Vme)=>{"use strict";var bI=pt(),wI=ts(),Mct=Cp(),kct=Dp(),Sct=qp(),Ect=nm(),Lct=K2();Vme.exports=function(t,r,n,i){function a(v,b){return bI.coerce(t,r,Lct,v,b)}var o=a("locations"),s;if(o&&o.length){var l=a("geojson"),u;(typeof l=="string"&&l!==""||bI.isPlainObject(l))&&(u="geojson-id");var f=a("locationmode",u);f==="geojson-id"&&a("featureidkey"),s=o.length}else{var c=a("lon")||[],h=a("lat")||[];s=Math.min(c.length,h.length)}if(!s){r.visible=!1;return}r._length=s,a("text"),a("hovertext"),a("hovertemplate"),a("mode"),wI.hasLines(r)&&(kct(t,r,n,i,a),a("connectgaps")),wI.hasMarkers(r)&&Mct(t,r,n,i,a,{gradient:!0}),wI.hasText(r)&&(a("texttemplate"),Sct(t,r,i,a)),a("fill"),r.fill!=="none"&&Ect(t,r,n,a),bI.coerceSelectionMarkerOpacity(r,a)}});var Xme=$((LDt,Wme)=>{"use strict";var Yme=tn();Wme.exports=function(t,r,n){var i={},a=n[r.geo]._subplot,o=a.mockAxis,s=t.lonlat;return i.lonLabel=Yme.tickText(o,o.c2l(s[0]),!0).text,i.latLabel=Yme.tickText(o,o.c2l(s[1]),!0).text,i}});var Qme=$((CDt,Jme)=>{"use strict";var _I=mn(),Zme=Zn().BADNUM,Cct=Rp(),Dct=Cv(),qct=jc(),$me=pt()._;function Kme(e){return e&&typeof e=="string"}Jme.exports=function(t,r){var n=Array.isArray(r.locations),i=n?r.locations.length:r._length,a=new Array(i),o;r.geojson?o=function(h){return Kme(h)||_I(h)}:o=Kme;for(var s=0;s<i;s++){var l=a[s]={};if(n){var u=r.locations[s];l.loc=o(u)?u:null}else{var f=r.lon[s],c=r.lat[s];_I(f)&&_I(c)?l.lonlat=[+f,+c]:l.lonlat=[Zme,Zme]}}return Dct(a,r),Cct(t,r),qct(a,r),i&&(a[0].t={labels:{lat:$me(t,"lat:")+" ",lon:$me(t,"lon:")+" "}}),a}});var J2=$(al=>{"use strict";al.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"};al.axesNames=["lonaxis","lataxis"];al.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360};al.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180};al.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}};al.clipPad=.001;al.precision=.1;al.landColor="#F0DC82";al.waterColor="#3399FF";al.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"};al.sphereSVG={type:"Sphere"};al.fillLayers={ocean:1,land:1,lakes:1};al.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1};al.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"];al.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"];al.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}});var TI=$((pk,eye)=>{(function(e,t){typeof pk=="object"&&typeof eye<"u"?t(pk):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.topojson=e.topojson||{}))})(pk,function(e){"use strict";function t(g){return g}function r(g){if(g==null)return t;var A,w,k=g.scale[0],p=g.scale[1],d=g.translate[0],M=g.translate[1];return function(T,S){S||(A=w=0);var E=2,L=T.length,D=new Array(L);for(D[0]=(A+=T[0])*k+d,D[1]=(w+=T[1])*p+M;E<L;)D[E]=T[E],++E;return D}}function n(g){var A=r(g.transform),w,k=1/0,p=k,d=-k,M=-k;function T(E){E=A(E),E[0]<k&&(k=E[0]),E[0]>d&&(d=E[0]),E[1]<p&&(p=E[1]),E[1]>M&&(M=E[1])}function S(E){switch(E.type){case"GeometryCollection":E.geometries.forEach(S);break;case"Point":T(E.coordinates);break;case"MultiPoint":E.coordinates.forEach(T);break}}g.arcs.forEach(function(E){for(var L=-1,D=E.length,R;++L<D;)R=A(E[L],L),R[0]<k&&(k=R[0]),R[0]>d&&(d=R[0]),R[1]<p&&(p=R[1]),R[1]>M&&(M=R[1])});for(w in g.objects)S(g.objects[w]);return[k,p,d,M]}function i(g,A){for(var w,k=g.length,p=k-A;p<--k;)w=g[p],g[p++]=g[k],g[k]=w}function a(g,A){return typeof A=="string"&&(A=g.objects[A]),A.type==="GeometryCollection"?{type:"FeatureCollection",features:A.geometries.map(function(w){return o(g,w)})}:o(g,A)}function o(g,A){var w=A.id,k=A.bbox,p=A.properties==null?{}:A.properties,d=s(g,A);return w==null&&k==null?{type:"Feature",properties:p,geometry:d}:k==null?{type:"Feature",id:w,properties:p,geometry:d}:{type:"Feature",id:w,bbox:k,properties:p,geometry:d}}function s(g,A){var w=r(g.transform),k=g.arcs;function p(L,D){D.length&&D.pop();for(var R=k[L<0?~L:L],q=0,C=R.length;q<C;++q)D.push(w(R[q],q));L<0&&i(D,C)}function d(L){return w(L)}function M(L){for(var D=[],R=0,q=L.length;R<q;++R)p(L[R],D);return D.length<2&&D.push(D[0]),D}function T(L){for(var D=M(L);D.length<4;)D.push(D[0]);return D}function S(L){return L.map(T)}function E(L){var D=L.type,R;switch(D){case"GeometryCollection":return{type:D,geometries:L.geometries.map(E)};case"Point":R=d(L.coordinates);break;case"MultiPoint":R=L.coordinates.map(d);break;case"LineString":R=M(L.arcs);break;case"MultiLineString":R=L.arcs.map(M);break;case"Polygon":R=S(L.arcs);break;case"MultiPolygon":R=L.arcs.map(S);break;default:return null}return{type:D,coordinates:R}}return E(A)}function l(g,A){var w={},k={},p={},d=[],M=-1;A.forEach(function(E,L){var D=g.arcs[E<0?~E:E],R;D.length<3&&!D[1][0]&&!D[1][1]&&(R=A[++M],A[M]=E,A[L]=R)}),A.forEach(function(E){var L=T(E),D=L[0],R=L[1],q,C;if(q=p[D])if(delete p[q.end],q.push(E),q.end=R,C=k[R]){delete k[C.start];var F=C===q?q:q.concat(C);k[F.start=q.start]=p[F.end=C.end]=F}else k[q.start]=p[q.end]=q;else if(q=k[R])if(delete k[q.start],q.unshift(E),q.start=D,C=p[D]){delete p[C.end];var N=C===q?q:C.concat(q);k[N.start=C.start]=p[N.end=q.end]=N}else k[q.start]=p[q.end]=q;else q=[E],k[q.start=D]=p[q.end=R]=q});function T(E){var L=g.arcs[E<0?~E:E],D=L[0],R;return g.transform?(R=[0,0],L.forEach(function(q){R[0]+=q[0],R[1]+=q[1]})):R=L[L.length-1],E<0?[R,D]:[D,R]}function S(E,L){for(var D in E){var R=E[D];delete L[R.start],delete R.start,delete R.end,R.forEach(function(q){w[q<0?~q:q]=1}),d.push(R)}}return S(p,k),S(k,p),A.forEach(function(E){w[E<0?~E:E]||d.push([E])}),d}function u(g){return s(g,f.apply(this,arguments))}function f(g,A,w){var k,p,d;if(arguments.length>1)k=c(g,A,w);else for(p=0,k=new Array(d=g.arcs.length);p<d;++p)k[p]=p;return{type:"MultiLineString",arcs:l(g,k)}}function c(g,A,w){var k=[],p=[],d;function M(D){var R=D<0?~D:D;(p[R]||(p[R]=[])).push({i:D,g:d})}function T(D){D.forEach(M)}function S(D){D.forEach(T)}function E(D){D.forEach(S)}function L(D){switch(d=D,D.type){case"GeometryCollection":D.geometries.forEach(L);break;case"LineString":T(D.arcs);break;case"MultiLineString":case"Polygon":S(D.arcs);break;case"MultiPolygon":E(D.arcs);break}}return L(A),p.forEach(w==null?function(D){k.push(D[0].i)}:function(D){w(D[0].g,D[D.length-1].g)&&k.push(D[0].i)}),k}function h(g){for(var A=-1,w=g.length,k,p=g[w-1],d=0;++A<w;)k=p,p=g[A],d+=k[0]*p[1]-k[1]*p[0];return Math.abs(d)}function v(g){return s(g,b.apply(this,arguments))}function b(g,A){var w={},k=[],p=[];A.forEach(d);function d(S){switch(S.type){case"GeometryCollection":S.geometries.forEach(d);break;case"Polygon":M(S.arcs);break;case"MultiPolygon":S.arcs.forEach(M);break}}function M(S){S.forEach(function(E){E.forEach(function(L){(w[L=L<0?~L:L]||(w[L]=[])).push(S)})}),k.push(S)}function T(S){return h(s(g,{type:"Polygon",arcs:[S]}).coordinates[0])}return k.forEach(function(S){if(!S._){var E=[],L=[S];for(S._=1,p.push(E);S=L.pop();)E.push(S),S.forEach(function(D){D.forEach(function(R){w[R<0?~R:R].forEach(function(q){q._||(q._=1,L.push(q))})})})}}),k.forEach(function(S){delete S._}),{type:"MultiPolygon",arcs:p.map(function(S){var E=[],L;if(S.forEach(function(F){F.forEach(function(N){N.forEach(function(U){w[U<0?~U:U].length<2&&E.push(U)})})}),E=l(g,E),(L=E.length)>1)for(var D=1,R=T(E[0]),q,C;D<L;++D)(q=T(E[D]))>R&&(C=E[0],E[0]=E[D],E[D]=C,R=q);return E}).filter(function(S){return S.length>0})}}function y(g,A){for(var w=0,k=g.length;w<k;){var p=w+k>>>1;g[p]<A?w=p+1:k=p}return w}function x(g){var A={},w=g.map(function(){return[]});function k(F,N){F.forEach(function(U){U<0&&(U=~U);var V=A[U];V?V.push(N):A[U]=[N]})}function p(F,N){F.forEach(function(U){k(U,N)})}function d(F,N){F.type==="GeometryCollection"?F.geometries.forEach(function(U){d(U,N)}):F.type in M&&M[F.type](F.arcs,N)}var M={LineString:k,MultiLineString:p,Polygon:p,MultiPolygon:function(F,N){F.forEach(function(U){p(U,N)})}};g.forEach(d);for(var T in A)for(var S=A[T],E=S.length,L=0;L<E;++L)for(var D=L+1;D<E;++D){var R=S[L],q=S[D],C;(C=w[R])[T=y(C,q)]!==q&&C.splice(T,0,q),(C=w[q])[T=y(C,R)]!==R&&C.splice(T,0,R)}return w}function m(g){if(g==null)return t;var A,w,k=g.scale[0],p=g.scale[1],d=g.translate[0],M=g.translate[1];return function(T,S){S||(A=w=0);var E=2,L=T.length,D=new Array(L),R=Math.round((T[0]-d)/k),q=Math.round((T[1]-M)/p);for(D[0]=R-A,A=R,D[1]=q-w,w=q;E<L;)D[E]=T[E],++E;return D}}function _(g,A){if(g.transform)throw new Error("already quantized");if(!A||!A.scale){if(!((M=Math.floor(A))>=2))throw new Error("n must be \u22652");S=g.bbox||n(g);var w=S[0],k=S[1],p=S[2],d=S[3],M;A={scale:[p-w?(p-w)/(M-1):1,d-k?(d-k)/(M-1):1],translate:[w,k]}}else S=g.bbox;var T=m(A),S,E,L=g.objects,D={};function R(F){return T(F)}function q(F){var N;switch(F.type){case"GeometryCollection":N={type:"GeometryCollection",geometries:F.geometries.map(q)};break;case"Point":N={type:"Point",coordinates:R(F.coordinates)};break;case"MultiPoint":N={type:"MultiPoint",coordinates:F.coordinates.map(R)};break;default:return F}return F.id!=null&&(N.id=F.id),F.bbox!=null&&(N.bbox=F.bbox),F.properties!=null&&(N.properties=F.properties),N}function C(F){var N=0,U=1,V=F.length,Y,K=new Array(V);for(K[0]=T(F[0],0);++N<V;)((Y=T(F[N],N))[0]||Y[1])&&(K[U++]=Y);return U===1&&(K[U++]=[0,0]),K.length=U,K}for(E in L)D[E]=q(L[E]);return{type:"Topology",bbox:S,transform:A,objects:D,arcs:g.arcs.map(C)}}e.bbox=n,e.feature=a,e.merge=v,e.mergeArcs=b,e.mesh=u,e.meshArcs=f,e.neighbors=x,e.quantize=_,e.transform=r,e.untransform=m,Object.defineProperty(e,"__esModule",{value:!0})})});var gk=$((qDt,tye)=>{"use strict";var AI=tye.exports={},Rct=J2().locationmodeToLayer,Ict=TI().feature;AI.getTopojsonName=function(e){return[e.scope.replace(/ /g,"-"),"_",e.resolution.toString(),"m"].join("")};AI.getTopojsonPath=function(e,t){return e+t+".json"};AI.getTopojsonFeatures=function(e,t){var r=Rct[e.locationmode],n=t.objects[r];return Ict(t,n).features}});var rye=$(Q2=>{"use strict";var Pct=Zn().BADNUM;Q2.calcTraceToLineCoords=function(e){for(var t=e[0].trace,r=t.connectgaps,n=[],i=[],a=0;a<e.length;a++){var o=e[a],s=o.lonlat;s[0]!==Pct?i.push(s):!r&&i.length>0&&(n.push(i),i=[])}return i.length>0&&n.push(i),n};Q2.makeLine=function(e){return e.length===1?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e}};Q2.makePolygon=function(e){if(e.length===1)return{type:"Polygon",coordinates:e};for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=[e[r]];return{type:"MultiPolygon",coordinates:t}};Q2.makeBlank=function(){return{type:"Point",coordinates:[]}}});var iye=$((IDt,nye)=>{nye.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}});var LI=$(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.earthRadius=63710088e-1;Dn.factors={centimeters:Dn.earthRadius*100,centimetres:Dn.earthRadius*100,degrees:Dn.earthRadius/111325,feet:Dn.earthRadius*3.28084,inches:Dn.earthRadius*39.37,kilometers:Dn.earthRadius/1e3,kilometres:Dn.earthRadius/1e3,meters:Dn.earthRadius,metres:Dn.earthRadius,miles:Dn.earthRadius/1609.344,millimeters:Dn.earthRadius*1e3,millimetres:Dn.earthRadius*1e3,nauticalmiles:Dn.earthRadius/1852,radians:1,yards:Dn.earthRadius*1.0936};Dn.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Dn.earthRadius,yards:1.0936133};Dn.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function c0(e,t,r){r===void 0&&(r={});var n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}Dn.feature=c0;function Fct(e,t,r){switch(r===void 0&&(r={}),e){case"Point":return MI(t).geometry;case"LineString":return SI(t).geometry;case"Polygon":return kI(t).geometry;case"MultiPoint":return oye(t).geometry;case"MultiLineString":return aye(t).geometry;case"MultiPolygon":return sye(t).geometry;default:throw new Error(e+" is invalid")}}Dn.geometry=Fct;function MI(e,t,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!mk(e[0])||!mk(e[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:e};return c0(n,t,r)}Dn.point=MI;function Nct(e,t,r){return r===void 0&&(r={}),yk(e.map(function(n){return MI(n,t)}),r)}Dn.points=Nct;function kI(e,t,r){r===void 0&&(r={});for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return c0(s,t,r)}Dn.polygon=kI;function zct(e,t,r){return r===void 0&&(r={}),yk(e.map(function(n){return kI(n,t)}),r)}Dn.polygons=zct;function SI(e,t,r){if(r===void 0&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return c0(n,t,r)}Dn.lineString=SI;function Oct(e,t,r){return r===void 0&&(r={}),yk(e.map(function(n){return SI(n,t)}),r)}Dn.lineStrings=Oct;function yk(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}Dn.featureCollection=yk;function aye(e,t,r){r===void 0&&(r={});var n={type:"MultiLineString",coordinates:e};return c0(n,t,r)}Dn.multiLineString=aye;function oye(e,t,r){r===void 0&&(r={});var n={type:"MultiPoint",coordinates:e};return c0(n,t,r)}Dn.multiPoint=oye;function sye(e,t,r){r===void 0&&(r={});var n={type:"MultiPolygon",coordinates:e};return c0(n,t,r)}Dn.multiPolygon=sye;function Bct(e,t,r){r===void 0&&(r={});var n={type:"GeometryCollection",geometries:e};return c0(n,t,r)}Dn.geometryCollection=Bct;function Hct(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}Dn.round=Hct;function lye(e,t){t===void 0&&(t="kilometers");var r=Dn.factors[t];if(!r)throw new Error(t+" units is invalid");return e*r}Dn.radiansToLength=lye;function EI(e,t){t===void 0&&(t="kilometers");var r=Dn.factors[t];if(!r)throw new Error(t+" units is invalid");return e/r}Dn.lengthToRadians=EI;function Uct(e,t){return uye(EI(e,t))}Dn.lengthToDegrees=Uct;function jct(e){var t=e%360;return t<0&&(t+=360),t}Dn.bearingToAzimuth=jct;function uye(e){var t=e%(2*Math.PI);return t*180/Math.PI}Dn.radiansToDegrees=uye;function Vct(e){var t=e%360;return t*Math.PI/180}Dn.degreesToRadians=Vct;function Gct(e,t,r){if(t===void 0&&(t="kilometers"),r===void 0&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return lye(EI(e,t),r)}Dn.convertLength=Gct;function Yct(e,t,r){if(t===void 0&&(t="meters"),r===void 0&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=Dn.areaFactors[t];if(!n)throw new Error("invalid original units");var i=Dn.areaFactors[r];if(!i)throw new Error("invalid final units");return e/n*i}Dn.convertArea=Yct;function mk(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}Dn.isNumber=mk;function Wct(e){return!!e&&e.constructor===Object}Dn.isObject=Wct;function Xct(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!mk(t))throw new Error("bbox must only contain numbers")})}Dn.validateBBox=Xct;function Zct(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}Dn.validateId=Zct});var bk=$(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var Cl=LI();function ew(e,t,r){if(e!==null)for(var n,i,a,o,s,l,u,f=0,c=0,h,v=e.type,b=v==="FeatureCollection",y=v==="Feature",x=b?e.features.length:1,m=0;m<x;m++){u=b?e.features[m].geometry:y?e.geometry:e,h=u?u.type==="GeometryCollection":!1,s=h?u.geometries.length:1;for(var _=0;_<s;_++){var g=0,A=0;if(o=h?u.geometries[_]:u,o!==null){l=o.coordinates;var w=o.type;switch(f=r&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(t(l,c,m,g,A)===!1)return!1;c++,g++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(t(l[n],c,m,g,A)===!1)return!1;c++,w==="MultiPoint"&&g++}w==="LineString"&&g++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-f;i++){if(t(l[n][i],c,m,g,A)===!1)return!1;c++}w==="MultiLineString"&&g++,w==="Polygon"&&A++}w==="Polygon"&&g++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(A=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-f;a++){if(t(l[n][i][a],c,m,g,A)===!1)return!1;c++}A++}g++}break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(ew(o.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $ct(e,t,r,n){var i=r;return ew(e,function(a,o,s,l,u){o===0&&r===void 0?i=a:i=t(i,a,o,s,l,u)},n),i}function fye(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}function Kct(e,t,r){var n=r;return fye(e,function(i,a){a===0&&r===void 0?n=i:n=t(n,i,a)}),n}function cye(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function Jct(e,t,r){var n=r;return cye(e,function(i,a){a===0&&r===void 0?n=i:n=t(n,i,a)}),n}function Qct(e){var t=[];return ew(e,function(r){t.push(r)}),t}function CI(e,t){var r,n,i,a,o,s,l,u,f,c,h=0,v=e.type==="FeatureCollection",b=e.type==="Feature",y=v?e.features.length:1;for(r=0;r<y;r++){for(s=v?e.features[r].geometry:b?e.geometry:e,u=v?e.features[r].properties:b?e.properties:{},f=v?e.features[r].bbox:b?e.bbox:void 0,c=v?e.features[r].id:b?e.id:void 0,l=s?s.type==="GeometryCollection":!1,o=l?s.geometries.length:1,i=0;i<o;i++){if(a=l?s.geometries[i]:s,a===null){if(t(null,h,u,f,c)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(a,h,u,f,c)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<a.geometries.length;n++)if(t(a.geometries[n],h,u,f,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function eht(e,t,r){var n=r;return CI(e,function(i,a,o,s,l){a===0&&r===void 0?n=i:n=t(n,i,a,o,s,l)}),n}function xk(e,t){CI(e,function(r,n,i,a,o){var s=r===null?null:r.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return t(Cl.feature(r,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var l;switch(s){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var u=0;u<r.coordinates.length;u++){var f=r.coordinates[u],c={type:l,coordinates:f};if(t(Cl.feature(c,i),n,u)===!1)return!1}})}function tht(e,t,r){var n=r;return xk(e,function(i,a,o){a===0&&o===0&&r===void 0?n=i:n=t(n,i,a,o)}),n}function hye(e,t){xk(e,function(r,n,i){var a=0;if(r.geometry){var o=r.geometry.type;if(!(o==="Point"||o==="MultiPoint")){var s,l=0,u=0,f=0;if(ew(r,function(c,h,v,b,y){if(s===void 0||n>l||b>u||y>f){s=c,l=n,u=b,f=y,a=0;return}var x=Cl.lineString([s,c],r.properties);if(t(x,n,i,y,a)===!1)return!1;a++,s=c})===!1)return!1}}})}function rht(e,t,r){var n=r,i=!1;return hye(e,function(a,o,s,l,u){i===!1&&r===void 0?n=a:n=t(n,a,o,s,l,u),i=!0}),n}function vye(e,t){if(!e)throw new Error("geojson is required");xk(e,function(r,n,i){if(r.geometry!==null){var a=r.geometry.type,o=r.geometry.coordinates;switch(a){case"LineString":if(t(r,n,i,0,0)===!1)return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(t(Cl.lineString(o[s],r.properties),n,i,s)===!1)return!1;break}}})}function nht(e,t,r){var n=r;return vye(e,function(i,a,o,s){a===0&&r===void 0?n=i:n=t(n,i,a,o,s)}),n}function iht(e,t){if(t=t||{},!Cl.isObject(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,o=t.properties,s;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),o=o||e.features[r].properties,s=e.features[r].geometry;break;case"Feature":o=o||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var l=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),Cl.lineString([l[a],l[a+1]],o,t);case"Polygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a-1),Cl.lineString([l[i][a],l[i][a+1]],o,t);case"MultiLineString":return n<0&&(n=l.length+n),a<0&&(a=l[n].length+a-1),Cl.lineString([l[n][a],l[n][a+1]],o,t);case"MultiPolygon":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),a<0&&(a=l[n][i].length-a-1),Cl.lineString([l[n][i][a],l[n][i][a+1]],o,t)}throw new Error("geojson is invalid")}function aht(e,t){if(t=t||{},!Cl.isObject(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,o=t.properties,s;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),o=o||e.features[r].properties,s=e.features[r].geometry;break;case"Feature":o=o||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var l=s.coordinates;switch(s.type){case"Point":return Cl.point(l,o,t);case"MultiPoint":return n<0&&(n=l.length+n),Cl.point(l[n],o,t);case"LineString":return a<0&&(a=l.length+a),Cl.point(l[a],o,t);case"Polygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),Cl.point(l[i][a],o,t);case"MultiLineString":return n<0&&(n=l.length+n),a<0&&(a=l[n].length+a),Cl.point(l[n][a],o,t);case"MultiPolygon":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),a<0&&(a=l[n][i].length-a),Cl.point(l[n][i][a],o,t)}throw new Error("geojson is invalid")}ys.coordAll=Qct;ys.coordEach=ew;ys.coordReduce=$ct;ys.featureEach=cye;ys.featureReduce=Jct;ys.findPoint=aht;ys.findSegment=iht;ys.flattenEach=xk;ys.flattenReduce=tht;ys.geomEach=CI;ys.geomReduce=eht;ys.lineEach=vye;ys.lineReduce=nht;ys.propEach=fye;ys.propReduce=Kct;ys.segmentEach=hye;ys.segmentReduce=rht});var mye=$(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});var oht=bk(),dye=6378137;function sht(e){return oht.geomReduce(e,function(t,r){return t+lht(r)},0)}qI.default=sht;function lht(e){var t=0,r;switch(e.type){case"Polygon":return pye(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=pye(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function pye(e){var t=0;if(e&&e.length>0){t+=Math.abs(gye(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(gye(e[r]))}return t}function gye(e){var t,r,n,i,a,o,s,l=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,a=u-1,o=0):s===u-1?(i=u-1,a=0,o=1):(i=s,a=s+1,o=s+2),t=e[i],r=e[a],n=e[o],l+=(DI(n[0])-DI(t[0]))*Math.sin(DI(r[1]));l=l*dye*dye/2}return l}function DI(e){return e*Math.PI/180}});var yye=$(RI=>{"use strict";Object.defineProperty(RI,"__esModule",{value:!0});var uht=bk(),fht=LI();function cht(e,t){t===void 0&&(t={});var r=0,n=0,i=0;return uht.coordEach(e,function(a){r+=a[0],n+=a[1],i++},!0),fht.point([r/i,n/i],t.properties)}RI.default=cht});var xye=$(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0});var hht=bk();function II(e){var t=[1/0,1/0,-1/0,-1/0];return hht.coordEach(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}II.default=II;PI.default=II});var _k=$((BDt,Aye)=>{"use strict";var vht=Nr(),_ye=iye(),dht=mye(),pht=yye(),ght=xye(),bye=wx(),hy=_d(),mht=G0(),yht=cx(),wk=lb(),wye=Object.keys(_ye),xht={"ISO-3":bye,"USA-states":bye,"country names":bht};function bht(e){for(var t=0;t<wye.length;t++){var r=wye[t],n=new RegExp(_ye[r]);if(n.test(e.trim().toLowerCase()))return r}return hy.log("Unrecognized country name: "+e+"."),!1}function wht(e,t,r){if(!t||typeof t!="string")return!1;var n=xht[e](t),i,a,o;if(n){if(e==="USA-states")for(i=[],o=0;o<r.length;o++)a=r[o],a.properties&&a.properties.gu&&a.properties.gu==="USA"&&i.push(a);else i=r;for(o=0;o<i.length;o++)if(a=i[o],a.id===n)return a;hy.log(["Location with id",n,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function _ht(e){var t=e.geometry,r=t.coordinates,n=e.id,i=[],a,o,s,l;function u(f){for(var c=0;c<f.length-1;c++)if(f[c][0]>0&&f[c+1][0]<0)return c;return null}switch(n==="RUS"||n==="FJI"?a=function(f){var c;if(u(f)===null)c=f;else for(c=new Array(f.length),l=0;l<f.length;l++)c[l]=[f[l][0]<0?f[l][0]+360:f[l][0],f[l][1]];i.push(wk.tester(c))}:n==="ATA"?a=function(f){var c=u(f);if(c===null)return i.push(wk.tester(f));var h=new Array(f.length+1),v=0;for(l=0;l<f.length;l++)l>c?h[v++]=[f[l][0]+360,f[l][1]]:l===c?(h[v++]=f[l],h[v++]=[f[l][0],-90]):h[v++]=f[l];var b=wk.tester(h);b.pts.pop(),i.push(b)}:a=function(f){i.push(wk.tester(f))},t.type){case"MultiPolygon":for(o=0;o<r.length;o++)for(s=0;s<r[o].length;s++)a(r[o][s]);break;case"Polygon":for(o=0;o<r.length;o++)a(r[o]);break}return i}function Tye(e){var t=e.geojson,r=window.PlotlyGeoAssets||{},n=typeof t=="string"?r[t]:t;return mht(n)?n:(hy.error("Oops ... something went wrong when fetching "+t),!1)}function Tht(e){var t=e[0].trace,r=Tye(t);if(!r)return!1;var n={},i=[],a;for(a=0;a<t._length;a++){var o=e[a];(o.loc||o.loc===0)&&(n[o.loc]=o)}function s(f){var c=yht(f,t.featureidkey||"id").get(),h=n[c];if(h){var v=f.geometry;if(v.type==="Polygon"||v.type==="MultiPolygon"){var b={type:"Feature",id:c,geometry:v,properties:{}};b.properties.ct=Aht(b),h.fIn=f,h.fOut=b,i.push(b)}else hy.log(["Location",h.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete n[c]}switch(r.type){case"FeatureCollection":var l=r.features;for(a=0;a<l.length;a++)s(l[a]);break;case"Feature":s(r);break;default:return hy.warn(["Invalid GeoJSON type",(r.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var u in n)hy.log(["Location *"+u+"*","does not have a matching feature with id-key","*"+t.featureidkey+"*."].join(" "));return i}function Aht(e){var t=e.geometry,r;if(t.type==="MultiPolygon")for(var n=t.coordinates,i=0,a=0;a<n.length;a++){var o={type:"Polygon",coordinates:n[a]},s=dht.default(o);s>i&&(i=s,r=o)}else r=t;return pht.default(r).geometry.coordinates}function Mht(e){var t=window.PlotlyGeoAssets||{},r=[];function n(l){return new Promise(function(u,f){vht.json(l,function(c,h){if(c){delete t[l];var v=c.status===404?'GeoJSON at URL "'+l+'" does not exist.':"Unexpected error while fetching from "+l;return f(new Error(v))}return t[l]=h,u(h)})})}function i(l){return new Promise(function(u,f){var c=0,h=setInterval(function(){if(t[l]&&t[l]!=="pending")return clearInterval(h),u(t[l]);if(c>100)return clearInterval(h),f("Unexpected error while fetching from "+l);c++},50)})}for(var a=0;a<e.length;a++){var o=e[a][0].trace,s=o.geojson;typeof s=="string"&&(t[s]?t[s]==="pending"&&r.push(i(s)):(t[s]="pending",r.push(n(s))))}return r}function kht(e){return ght.default(e)}Aye.exports={locationToFeature:wht,feature2polygons:_ht,getTraceGeojson:Tye,extractTraceFeature:Tht,fetchTraceGeoData:Mht,computeBbox:kht}});var FI=$((HDt,Sye)=>{"use strict";var Sht=Nr(),Eht=un(),Mye=Rr(),kye=gf(),Lht=kye.stylePoints,Cht=kye.styleText;Sye.exports=function(t,r){r&&Dht(t,r)};function Dht(e,t){var r=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),Lht(n,r,e),Cht(n,r,e),n.selectAll("path.js-line").style("fill","none").each(function(i){var a=Sht.select(this),o=i.trace,s=o.line||{};a.call(Mye.stroke,s.color).call(Eht.dashLine,s.dash||"",s.width||0),o.fill!=="none"&&a.call(Mye.fill,o.fillcolor)})}});var HI=$((UDt,Cye)=>{"use strict";var Eye=Nr(),NI=pt(),qht=gk().getTopojsonFeatures,zI=rye(),Tk=_k(),Lye=Pc().findExtremes,BI=Zn().BADNUM,Rht=Ip().calcMarkerSize,OI=ts(),Iht=FI();function Pht(e,t,r){var n=t.layers.frontplot.select(".scatterlayer"),i=NI.makeTraceGroups(n,r,"trace scattergeo");function a(o,s){o.lonlat[0]===BI&&Eye.select(s).remove()}i.selectAll("*").remove(),i.each(function(o){var s=Eye.select(this),l=o[0].trace;if(OI.hasLines(l)||l.fill!=="none"){var u=zI.calcTraceToLineCoords(o),f=l.fill!=="none"?zI.makePolygon(u):zI.makeLine(u);s.selectAll("path.js-line").data([{geojson:f,trace:l}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}OI.hasMarkers(l)&&s.selectAll("path.point").data(NI.identity).enter().append("path").classed("point",!0).each(function(c){a(c,this)}),OI.hasText(l)&&s.selectAll("g").data(NI.identity).enter().append("g").append("text").each(function(c){a(c,this)}),Iht(e,o)})}function Fht(e,t){var r=e[0].trace,n=t[r.geo],i=n._subplot,a=r._length,o,s;if(Array.isArray(r.locations)){var l=r.locationmode,u=l==="geojson-id"?Tk.extractTraceFeature(e):qht(r,i.topojson);for(o=0;o<a;o++){s=e[o];var f=l==="geojson-id"?s.fOut:Tk.locationToFeature(l,s.loc,u);s.lonlat=f?f.properties.ct:[BI,BI]}}var c={padded:!0},h,v;if(n.fitbounds==="geojson"&&r.locationmode==="geojson-id"){var b=Tk.computeBbox(Tk.getTraceGeojson(r));h=[b[0],b[2]],v=[b[1],b[3]]}else{for(h=new Array(a),v=new Array(a),o=0;o<a;o++)s=e[o],h[o]=s.lonlat[0],v[o]=s.lonlat[1];c.ppad=Rht(r,a)}r._extremes.lon=Lye(n.lonaxis._ax,h,c),r._extremes.lat=Lye(n.lataxis._ax,v,c)}Cye.exports={calcGeoJSON:Fht,plot:Pht}});var qye=$((jDt,Dye)=>{"use strict";var Nht=lo(),zht=Zn().BADNUM,Oht=eA(),Bht=pt().fillText,Hht=K2();Dye.exports=function(t,r,n){var i=t.cd,a=i[0].trace,o=t.xa,s=t.ya,l=t.subplot,u=l.projection.isLonLatOverEdges,f=l.project;function c(_){var g=_.lonlat;if(g[0]===zht||u(g))return 1/0;var A=f(g),w=f([r,n]),k=Math.abs(A[0]-w[0]),p=Math.abs(A[1]-w[1]),d=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(k*k+p*p)-d,1-3/d)}if(Nht.getClosest(i,c,t),t.index!==!1){var h=i[t.index],v=h.lonlat,b=[o.c2p(v),s.c2p(v)],y=h.mrc||1;t.x0=b[0]-y,t.x1=b[0]+y,t.y0=b[1]-y,t.y1=b[1]+y,t.loc=h.loc,t.lon=v[0],t.lat=v[1];var x={};x[a.geo]={_subplot:l};var m=a._module.formatLabels(h,a,x);return t.lonLabel=m.lonLabel,t.latLabel=m.latLabel,t.color=Oht(a,h),t.extraText=Uht(a,h,t,i[0].t.labels),t.hovertemplate=a.hovertemplate,[t]}};function Uht(e,t,r,n){if(e.hovertemplate)return;var i=t.hi||e.hoverinfo,a=i==="all"?Hht.hoverinfo.flags:i.split("+"),o=a.indexOf("location")!==-1&&Array.isArray(e.locations),s=a.indexOf("lon")!==-1,l=a.indexOf("lat")!==-1,u=a.indexOf("text")!==-1,f=[];function c(h){return h+"\xB0"}return o?f.push(t.loc):s&&l?f.push("("+c(r.latLabel)+", "+c(r.lonLabel)+")"):s?f.push(n.lon+c(r.lonLabel)):l&&f.push(n.lat+c(r.latLabel)),u&&Bht(t,e,f),f.join("<br>")}});var Iye=$((VDt,Rye)=>{"use strict";Rye.exports=function(t,r,n,i,a){t.lon=r.lon,t.lat=r.lat,t.location=r.loc?r.loc:null;var o=i[a];return o.fIn&&o.fIn.properties&&(t.properties=o.fIn.properties),t}});var Nye=$((GDt,Fye)=>{"use strict";var Pye=ts(),jht=Zn().BADNUM;Fye.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=[],s=n[0].trace,l,u,f,c,h,v=!Pye.hasMarkers(s)&&!Pye.hasText(s);if(v)return[];if(r===!1)for(h=0;h<n.length;h++)n[h].selected=0;else for(h=0;h<n.length;h++)l=n[h],u=l.lonlat,u[0]!==jht&&(f=i.c2p(u),c=a.c2p(u),r.contains([f,c],null,h,t)?(o.push({pointNumber:h,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0);return o}});var tw=$((Ak,zye)=>{(function(e,t){typeof Ak=="object"&&typeof zye<"u"?t(Ak):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Ak,function(e){"use strict";function t(ee,ve){return ee<ve?-1:ee>ve?1:ee>=ve?0:NaN}function r(ee){return ee.length===1&&(ee=n(ee)),{left:function(ve,fe,se,G){for(se==null&&(se=0),G==null&&(G=ve.length);se<G;){var Z=se+G>>>1;ee(ve[Z],fe)<0?se=Z+1:G=Z}return se},right:function(ve,fe,se,G){for(se==null&&(se=0),G==null&&(G=ve.length);se<G;){var Z=se+G>>>1;ee(ve[Z],fe)>0?G=Z:se=Z+1}return se}}}function n(ee){return function(ve,fe){return t(ee(ve),fe)}}var i=r(t),a=i.right,o=i.left;function s(ee,ve){ve==null&&(ve=l);for(var fe=0,se=ee.length-1,G=ee[0],Z=new Array(se<0?0:se);fe<se;)Z[fe]=ve(G,G=ee[++fe]);return Z}function l(ee,ve){return[ee,ve]}function u(ee,ve,fe){var se=ee.length,G=ve.length,Z=new Array(se*G),X,ge,qe,Pe;for(fe==null&&(fe=l),X=qe=0;X<se;++X)for(Pe=ee[X],ge=0;ge<G;++ge,++qe)Z[qe]=fe(Pe,ve[ge]);return Z}function f(ee,ve){return ve<ee?-1:ve>ee?1:ve>=ee?0:NaN}function c(ee){return ee===null?NaN:+ee}function h(ee,ve){var fe=ee.length,se=0,G=-1,Z=0,X,ge,qe=0;if(ve==null)for(;++G<fe;)isNaN(X=c(ee[G]))||(ge=X-Z,Z+=ge/++se,qe+=ge*(X-Z));else for(;++G<fe;)isNaN(X=c(ve(ee[G],G,ee)))||(ge=X-Z,Z+=ge/++se,qe+=ge*(X-Z));if(se>1)return qe/(se-1)}function v(ee,ve){var fe=h(ee,ve);return fe&&Math.sqrt(fe)}function b(ee,ve){var fe=ee.length,se=-1,G,Z,X;if(ve==null){for(;++se<fe;)if((G=ee[se])!=null&&G>=G)for(Z=X=G;++se<fe;)(G=ee[se])!=null&&(Z>G&&(Z=G),X<G&&(X=G))}else for(;++se<fe;)if((G=ve(ee[se],se,ee))!=null&&G>=G)for(Z=X=G;++se<fe;)(G=ve(ee[se],se,ee))!=null&&(Z>G&&(Z=G),X<G&&(X=G));return[Z,X]}var y=Array.prototype,x=y.slice,m=y.map;function _(ee){return function(){return ee}}function g(ee){return ee}function A(ee,ve,fe){ee=+ee,ve=+ve,fe=(G=arguments.length)<2?(ve=ee,ee=0,1):G<3?1:+fe;for(var se=-1,G=Math.max(0,Math.ceil((ve-ee)/fe))|0,Z=new Array(G);++se<G;)Z[se]=ee+se*fe;return Z}var w=Math.sqrt(50),k=Math.sqrt(10),p=Math.sqrt(2);function d(ee,ve,fe){var se,G=-1,Z,X,ge;if(ve=+ve,ee=+ee,fe=+fe,ee===ve&&fe>0)return[ee];if((se=ve<ee)&&(Z=ee,ee=ve,ve=Z),(ge=M(ee,ve,fe))===0||!isFinite(ge))return[];if(ge>0)for(ee=Math.ceil(ee/ge),ve=Math.floor(ve/ge),X=new Array(Z=Math.ceil(ve-ee+1));++G<Z;)X[G]=(ee+G)*ge;else for(ee=Math.floor(ee*ge),ve=Math.ceil(ve*ge),X=new Array(Z=Math.ceil(ee-ve+1));++G<Z;)X[G]=(ee-G)/ge;return se&&X.reverse(),X}function M(ee,ve,fe){var se=(ve-ee)/Math.max(0,fe),G=Math.floor(Math.log(se)/Math.LN10),Z=se/Math.pow(10,G);return G>=0?(Z>=w?10:Z>=k?5:Z>=p?2:1)*Math.pow(10,G):-Math.pow(10,-G)/(Z>=w?10:Z>=k?5:Z>=p?2:1)}function T(ee,ve,fe){var se=Math.abs(ve-ee)/Math.max(0,fe),G=Math.pow(10,Math.floor(Math.log(se)/Math.LN10)),Z=se/G;return Z>=w?G*=10:Z>=k?G*=5:Z>=p&&(G*=2),ve<ee?-G:G}function S(ee){return Math.ceil(Math.log(ee.length)/Math.LN2)+1}function E(){var ee=g,ve=b,fe=S;function se(G){var Z,X=G.length,ge,qe=new Array(X);for(Z=0;Z<X;++Z)qe[Z]=ee(G[Z],Z,G);var Pe=ve(qe),Oe=Pe[0],de=Pe[1],_e=fe(qe,Oe,de);Array.isArray(_e)||(_e=T(Oe,de,_e),_e=A(Math.ceil(Oe/_e)*_e,de,_e));for(var ce=_e.length;_e[0]<=Oe;)_e.shift(),--ce;for(;_e[ce-1]>de;)_e.pop(),--ce;var J=new Array(ce+1),ne;for(Z=0;Z<=ce;++Z)ne=J[Z]=[],ne.x0=Z>0?_e[Z-1]:Oe,ne.x1=Z<ce?_e[Z]:de;for(Z=0;Z<X;++Z)ge=qe[Z],Oe<=ge&&ge<=de&&J[a(_e,ge,0,ce)].push(G[Z]);return J}return se.value=function(G){return arguments.length?(ee=typeof G=="function"?G:_(G),se):ee},se.domain=function(G){return arguments.length?(ve=typeof G=="function"?G:_([G[0],G[1]]),se):ve},se.thresholds=function(G){return arguments.length?(fe=typeof G=="function"?G:Array.isArray(G)?_(x.call(G)):_(G),se):fe},se}function L(ee,ve,fe){if(fe==null&&(fe=c),!!(se=ee.length)){if((ve=+ve)<=0||se<2)return+fe(ee[0],0,ee);if(ve>=1)return+fe(ee[se-1],se-1,ee);var se,G=(se-1)*ve,Z=Math.floor(G),X=+fe(ee[Z],Z,ee),ge=+fe(ee[Z+1],Z+1,ee);return X+(ge-X)*(G-Z)}}function D(ee,ve,fe){return ee=m.call(ee,c).sort(t),Math.ceil((fe-ve)/(2*(L(ee,.75)-L(ee,.25))*Math.pow(ee.length,-1/3)))}function R(ee,ve,fe){return Math.ceil((fe-ve)/(3.5*v(ee)*Math.pow(ee.length,-1/3)))}function q(ee,ve){var fe=ee.length,se=-1,G,Z;if(ve==null){for(;++se<fe;)if((G=ee[se])!=null&&G>=G)for(Z=G;++se<fe;)(G=ee[se])!=null&&G>Z&&(Z=G)}else for(;++se<fe;)if((G=ve(ee[se],se,ee))!=null&&G>=G)for(Z=G;++se<fe;)(G=ve(ee[se],se,ee))!=null&&G>Z&&(Z=G);return Z}function C(ee,ve){var fe=ee.length,se=fe,G=-1,Z,X=0;if(ve==null)for(;++G<fe;)isNaN(Z=c(ee[G]))?--se:X+=Z;else for(;++G<fe;)isNaN(Z=c(ve(ee[G],G,ee)))?--se:X+=Z;if(se)return X/se}function F(ee,ve){var fe=ee.length,se=-1,G,Z=[];if(ve==null)for(;++se<fe;)isNaN(G=c(ee[se]))||Z.push(G);else for(;++se<fe;)isNaN(G=c(ve(ee[se],se,ee)))||Z.push(G);return L(Z.sort(t),.5)}function N(ee){for(var ve=ee.length,fe,se=-1,G=0,Z,X;++se<ve;)G+=ee[se].length;for(Z=new Array(G);--ve>=0;)for(X=ee[ve],fe=X.length;--fe>=0;)Z[--G]=X[fe];return Z}function U(ee,ve){var fe=ee.length,se=-1,G,Z;if(ve==null){for(;++se<fe;)if((G=ee[se])!=null&&G>=G)for(Z=G;++se<fe;)(G=ee[se])!=null&&Z>G&&(Z=G)}else for(;++se<fe;)if((G=ve(ee[se],se,ee))!=null&&G>=G)for(Z=G;++se<fe;)(G=ve(ee[se],se,ee))!=null&&Z>G&&(Z=G);return Z}function V(ee,ve){for(var fe=ve.length,se=new Array(fe);fe--;)se[fe]=ee[ve[fe]];return se}function Y(ee,ve){if(fe=ee.length){var fe,se=0,G=0,Z,X=ee[G];for(ve==null&&(ve=t);++se<fe;)(ve(Z=ee[se],X)<0||ve(X,X)!==0)&&(X=Z,G=se);if(ve(X,X)===0)return G}}function K(ee,ve,fe){for(var se=(fe??ee.length)-(ve=ve==null?0:+ve),G,Z;se;)Z=Math.random()*se--|0,G=ee[se+ve],ee[se+ve]=ee[Z+ve],ee[Z+ve]=G;return ee}function B(ee,ve){var fe=ee.length,se=-1,G,Z=0;if(ve==null)for(;++se<fe;)(G=+ee[se])&&(Z+=G);else for(;++se<fe;)(G=+ve(ee[se],se,ee))&&(Z+=G);return Z}function z(ee){if(!(Z=ee.length))return[];for(var ve=-1,fe=U(ee,j),se=new Array(fe);++ve<fe;)for(var G=-1,Z,X=se[ve]=new Array(Z);++G<Z;)X[G]=ee[G][ve];return se}function j(ee){return ee.length}function ae(){return z(arguments)}e.bisect=a,e.bisectRight=a,e.bisectLeft=o,e.ascending=t,e.bisector=r,e.cross=u,e.descending=f,e.deviation=v,e.extent=b,e.histogram=E,e.thresholdFreedmanDiaconis=D,e.thresholdScott=R,e.thresholdSturges=S,e.max=q,e.mean=C,e.median=F,e.merge=N,e.min=U,e.pairs=s,e.permute=V,e.quantile=L,e.range=A,e.scan=Y,e.shuffle=K,e.sum=B,e.ticks=d,e.tickIncrement=M,e.tickStep=T,e.transpose=z,e.variance=h,e.zip=ae,Object.defineProperty(e,"__esModule",{value:!0})})});var UI=$((Mk,Oye)=>{(function(e,t){typeof Mk=="object"&&typeof Oye<"u"?t(Mk,tw()):typeof define=="function"&&define.amd?define(["exports","d3-array"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(Mk,function(e,t){"use strict";function r(){return new n}function n(){this.reset()}n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(Ae){a(i,Ae,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new n;function a(Ae,ze,rt){var Ze=Ae.s=ze+rt,mt=Ze-ze,It=Ze-mt;Ae.t=ze-It+(rt-mt)}var o=1e-6,s=1e-12,l=Math.PI,u=l/2,f=l/4,c=l*2,h=180/l,v=l/180,b=Math.abs,y=Math.atan,x=Math.atan2,m=Math.cos,_=Math.ceil,g=Math.exp,A=Math.log,w=Math.pow,k=Math.sin,p=Math.sign||function(Ae){return Ae>0?1:Ae<0?-1:0},d=Math.sqrt,M=Math.tan;function T(Ae){return Ae>1?0:Ae<-1?l:Math.acos(Ae)}function S(Ae){return Ae>1?u:Ae<-1?-u:Math.asin(Ae)}function E(Ae){return(Ae=k(Ae/2))*Ae}function L(){}function D(Ae,ze){Ae&&q.hasOwnProperty(Ae.type)&&q[Ae.type](Ae,ze)}var R={Feature:function(Ae,ze){D(Ae.geometry,ze)},FeatureCollection:function(Ae,ze){for(var rt=Ae.features,Ze=-1,mt=rt.length;++Ze<mt;)D(rt[Ze].geometry,ze)}},q={Sphere:function(Ae,ze){ze.sphere()},Point:function(Ae,ze){Ae=Ae.coordinates,ze.point(Ae[0],Ae[1],Ae[2])},MultiPoint:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)Ae=rt[Ze],ze.point(Ae[0],Ae[1],Ae[2])},LineString:function(Ae,ze){C(Ae.coordinates,ze,0)},MultiLineString:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)C(rt[Ze],ze,0)},Polygon:function(Ae,ze){F(Ae.coordinates,ze)},MultiPolygon:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)F(rt[Ze],ze)},GeometryCollection:function(Ae,ze){for(var rt=Ae.geometries,Ze=-1,mt=rt.length;++Ze<mt;)D(rt[Ze],ze)}};function C(Ae,ze,rt){var Ze=-1,mt=Ae.length-rt,It;for(ze.lineStart();++Ze<mt;)It=Ae[Ze],ze.point(It[0],It[1],It[2]);ze.lineEnd()}function F(Ae,ze){var rt=-1,Ze=Ae.length;for(ze.polygonStart();++rt<Ze;)C(Ae[rt],ze,1);ze.polygonEnd()}function N(Ae,ze){Ae&&R.hasOwnProperty(Ae.type)?R[Ae.type](Ae,ze):D(Ae,ze)}var U=r(),V=r(),Y,K,B,z,j,ae={point:L,lineStart:L,lineEnd:L,polygonStart:function(){U.reset(),ae.lineStart=ee,ae.lineEnd=ve},polygonEnd:function(){var Ae=+U;V.add(Ae<0?c+Ae:Ae),this.lineStart=this.lineEnd=this.point=L},sphere:function(){V.add(c)}};function ee(){ae.point=fe}function ve(){se(Y,K)}function fe(Ae,ze){ae.point=se,Y=Ae,K=ze,Ae*=v,ze*=v,B=Ae,z=m(ze=ze/2+f),j=k(ze)}function se(Ae,ze){Ae*=v,ze*=v,ze=ze/2+f;var rt=Ae-B,Ze=rt>=0?1:-1,mt=Ze*rt,It=m(ze),Ut=k(ze),Xt=j*Ut,$t=z*It+Xt*m(mt),ar=Xt*Ze*k(mt);U.add(x(ar,$t)),B=Ae,z=It,j=Ut}function G(Ae){return V.reset(),N(Ae,ae),V*2}function Z(Ae){return[x(Ae[1],Ae[0]),S(Ae[2])]}function X(Ae){var ze=Ae[0],rt=Ae[1],Ze=m(rt);return[Ze*m(ze),Ze*k(ze),k(rt)]}function ge(Ae,ze){return Ae[0]*ze[0]+Ae[1]*ze[1]+Ae[2]*ze[2]}function qe(Ae,ze){return[Ae[1]*ze[2]-Ae[2]*ze[1],Ae[2]*ze[0]-Ae[0]*ze[2],Ae[0]*ze[1]-Ae[1]*ze[0]]}function Pe(Ae,ze){Ae[0]+=ze[0],Ae[1]+=ze[1],Ae[2]+=ze[2]}function Oe(Ae,ze){return[Ae[0]*ze,Ae[1]*ze,Ae[2]*ze]}function de(Ae){var ze=d(Ae[0]*Ae[0]+Ae[1]*Ae[1]+Ae[2]*Ae[2]);Ae[0]/=ze,Ae[1]/=ze,Ae[2]/=ze}var _e,ce,J,ne,be,Fe,He,te,ye=r(),Te,Ce,De={point:oe,lineStart:Le,lineEnd:Ue,polygonStart:function(){De.point=et,De.lineStart=Qe,De.lineEnd=dt,ye.reset(),ae.polygonStart()},polygonEnd:function(){ae.polygonEnd(),De.point=oe,De.lineStart=Le,De.lineEnd=Ue,U<0?(_e=-(J=180),ce=-(ne=90)):ye>o?ne=90:ye<-o&&(ce=-90),Ce[0]=_e,Ce[1]=J},sphere:function(){_e=-(J=180),ce=-(ne=90)}};function oe(Ae,ze){Te.push(Ce=[_e=Ae,J=Ae]),ze<ce&&(ce=ze),ze>ne&&(ne=ze)}function pe(Ae,ze){var rt=X([Ae*v,ze*v]);if(te){var Ze=qe(te,rt),mt=[Ze[1],-Ze[0],0],It=qe(mt,Ze);de(It),It=Z(It);var Ut=Ae-be,Xt=Ut>0?1:-1,$t=It[0]*h*Xt,ar,jt=b(Ut)>180;jt^(Xt*be<$t&&$t<Xt*Ae)?(ar=It[1]*h,ar>ne&&(ne=ar)):($t=($t+360)%360-180,jt^(Xt*be<$t&&$t<Xt*Ae)?(ar=-It[1]*h,ar<ce&&(ce=ar)):(ze<ce&&(ce=ze),ze>ne&&(ne=ze))),jt?Ae<be?ht(_e,Ae)>ht(_e,J)&&(J=Ae):ht(Ae,J)>ht(_e,J)&&(_e=Ae):J>=_e?(Ae<_e&&(_e=Ae),Ae>J&&(J=Ae)):Ae>be?ht(_e,Ae)>ht(_e,J)&&(J=Ae):ht(Ae,J)>ht(_e,J)&&(_e=Ae)}else Te.push(Ce=[_e=Ae,J=Ae]);ze<ce&&(ce=ze),ze>ne&&(ne=ze),te=rt,be=Ae}function Le(){De.point=pe}function Ue(){Ce[0]=_e,Ce[1]=J,De.point=oe,te=null}function et(Ae,ze){if(te){var rt=Ae-be;ye.add(b(rt)>180?rt+(rt>0?360:-360):rt)}else Fe=Ae,He=ze;ae.point(Ae,ze),pe(Ae,ze)}function Qe(){ae.lineStart()}function dt(){et(Fe,He),ae.lineEnd(),b(ye)>o&&(_e=-(J=180)),Ce[0]=_e,Ce[1]=J,te=null}function ht(Ae,ze){return(ze-=Ae)<0?ze+360:ze}function _t(Ae,ze){return Ae[0]-ze[0]}function kt(Ae,ze){return Ae[0]<=Ae[1]?Ae[0]<=ze&&ze<=Ae[1]:ze<Ae[0]||Ae[1]<ze}function St(Ae){var ze,rt,Ze,mt,It,Ut,Xt;if(ne=J=-(_e=ce=1/0),Te=[],N(Ae,De),rt=Te.length){for(Te.sort(_t),ze=1,Ze=Te[0],It=[Ze];ze<rt;++ze)mt=Te[ze],kt(Ze,mt[0])||kt(Ze,mt[1])?(ht(Ze[0],mt[1])>ht(Ze[0],Ze[1])&&(Ze[1]=mt[1]),ht(mt[0],Ze[1])>ht(Ze[0],Ze[1])&&(Ze[0]=mt[0])):It.push(Ze=mt);for(Ut=-1/0,rt=It.length-1,ze=0,Ze=It[rt];ze<=rt;Ze=mt,++ze)mt=It[ze],(Xt=ht(Ze[1],mt[0]))>Ut&&(Ut=Xt,_e=mt[0],J=Ze[1])}return Te=Ce=null,_e===1/0||ce===1/0?[[NaN,NaN],[NaN,NaN]]:[[_e,ce],[J,ne]]}var Ot,je,Ve,Je,nt,Be,tt,ot,yt,Ht,Lt,tr,rr,Ct,Zt,Sr,gr={sphere:L,point:Lr,lineStart:Or,lineEnd:Kr,polygonStart:function(){gr.lineStart=Qr,gr.lineEnd=kn},polygonEnd:function(){gr.lineStart=Or,gr.lineEnd=Kr}};function Lr(Ae,ze){Ae*=v,ze*=v;var rt=m(ze);en(rt*m(Ae),rt*k(Ae),k(ze))}function en(Ae,ze,rt){++Ot,Ve+=(Ae-Ve)/Ot,Je+=(ze-Je)/Ot,nt+=(rt-nt)/Ot}function Or(){gr.point=vn}function vn(Ae,ze){Ae*=v,ze*=v;var rt=m(ze);Ct=rt*m(Ae),Zt=rt*k(Ae),Sr=k(ze),gr.point=qn,en(Ct,Zt,Sr)}function qn(Ae,ze){Ae*=v,ze*=v;var rt=m(ze),Ze=rt*m(Ae),mt=rt*k(Ae),It=k(ze),Ut=x(d((Ut=Zt*It-Sr*mt)*Ut+(Ut=Sr*Ze-Ct*It)*Ut+(Ut=Ct*mt-Zt*Ze)*Ut),Ct*Ze+Zt*mt+Sr*It);je+=Ut,Be+=Ut*(Ct+(Ct=Ze)),tt+=Ut*(Zt+(Zt=mt)),ot+=Ut*(Sr+(Sr=It)),en(Ct,Zt,Sr)}function Kr(){gr.point=Lr}function Qr(){gr.point=Vn}function kn(){Tn(tr,rr),gr.point=Lr}function Vn(Ae,ze){tr=Ae,rr=ze,Ae*=v,ze*=v,gr.point=Tn;var rt=m(ze);Ct=rt*m(Ae),Zt=rt*k(Ae),Sr=k(ze),en(Ct,Zt,Sr)}function Tn(Ae,ze){Ae*=v,ze*=v;var rt=m(ze),Ze=rt*m(Ae),mt=rt*k(Ae),It=k(ze),Ut=Zt*It-Sr*mt,Xt=Sr*Ze-Ct*It,$t=Ct*mt-Zt*Ze,ar=d(Ut*Ut+Xt*Xt+$t*$t),jt=S(ar),er=ar&&-jt/ar;yt+=er*Ut,Ht+=er*Xt,Lt+=er*$t,je+=jt,Be+=jt*(Ct+(Ct=Ze)),tt+=jt*(Zt+(Zt=mt)),ot+=jt*(Sr+(Sr=It)),en(Ct,Zt,Sr)}function Nn(Ae){Ot=je=Ve=Je=nt=Be=tt=ot=yt=Ht=Lt=0,N(Ae,gr);var ze=yt,rt=Ht,Ze=Lt,mt=ze*ze+rt*rt+Ze*Ze;return mt<s&&(ze=Be,rt=tt,Ze=ot,je<o&&(ze=Ve,rt=Je,Ze=nt),mt=ze*ze+rt*rt+Ze*Ze,mt<s)?[NaN,NaN]:[x(rt,ze)*h,S(Ze/d(mt))*h]}function ci(Ae){return function(){return Ae}}function On(Ae,ze){function rt(Ze,mt){return Ze=Ae(Ze,mt),ze(Ze[0],Ze[1])}return Ae.invert&&ze.invert&&(rt.invert=function(Ze,mt){return Ze=ze.invert(Ze,mt),Ze&&Ae.invert(Ze[0],Ze[1])}),rt}function Sn(Ae,ze){return[b(Ae)>l?Ae+Math.round(-Ae/c)*c:Ae,ze]}Sn.invert=Sn;function _i(Ae,ze,rt){return(Ae%=c)?ze||rt?On(Yi(Ae),xn(ze,rt)):Yi(Ae):ze||rt?xn(ze,rt):Sn}function ua(Ae){return function(ze,rt){return ze+=Ae,[ze>l?ze-c:ze<-l?ze+c:ze,rt]}}function Yi(Ae){var ze=ua(Ae);return ze.invert=ua(-Ae),ze}function xn(Ae,ze){var rt=m(Ae),Ze=k(Ae),mt=m(ze),It=k(ze);function Ut(Xt,$t){var ar=m($t),jt=m(Xt)*ar,er=k(Xt)*ar,Kt=k($t),ur=Kt*rt+jt*Ze;return[x(er*mt-ur*It,jt*rt-Kt*Ze),S(ur*mt+er*It)]}return Ut.invert=function(Xt,$t){var ar=m($t),jt=m(Xt)*ar,er=k(Xt)*ar,Kt=k($t),ur=Kt*mt-er*It;return[x(er*mt+Kt*It,jt*rt+ur*Ze),S(ur*rt-jt*Ze)]},Ut}function ia(Ae){Ae=_i(Ae[0]*v,Ae[1]*v,Ae.length>2?Ae[2]*v:0);function ze(rt){return rt=Ae(rt[0]*v,rt[1]*v),rt[0]*=h,rt[1]*=h,rt}return ze.invert=function(rt){return rt=Ae.invert(rt[0]*v,rt[1]*v),rt[0]*=h,rt[1]*=h,rt},ze}function ti(Ae,ze,rt,Ze,mt,It){if(rt){var Ut=m(ze),Xt=k(ze),$t=Ze*rt;mt==null?(mt=ze+Ze*c,It=ze-$t/2):(mt=co(Ut,mt),It=co(Ut,It),(Ze>0?mt<It:mt>It)&&(mt+=Ze*c));for(var ar,jt=mt;Ze>0?jt>It:jt<It;jt-=$t)ar=Z([Ut,-Xt*m(jt),-Xt*k(jt)]),Ae.point(ar[0],ar[1])}}function co(Ae,ze){ze=X(ze),ze[0]-=Ae,de(ze);var rt=T(-ze[1]);return((-ze[2]<0?-rt:rt)+c-o)%c}function fa(){var Ae=ci([0,0]),ze=ci(90),rt=ci(6),Ze,mt,It={point:Ut};function Ut($t,ar){Ze.push($t=mt($t,ar)),$t[0]*=h,$t[1]*=h}function Xt(){var $t=Ae.apply(this,arguments),ar=ze.apply(this,arguments)*v,jt=rt.apply(this,arguments)*v;return Ze=[],mt=_i(-$t[0]*v,-$t[1]*v,0).invert,ti(It,ar,jt,1),$t={type:"Polygon",coordinates:[Ze]},Ze=mt=null,$t}return Xt.center=function($t){return arguments.length?(Ae=typeof $t=="function"?$t:ci([+$t[0],+$t[1]]),Xt):Ae},Xt.radius=function($t){return arguments.length?(ze=typeof $t=="function"?$t:ci(+$t),Xt):ze},Xt.precision=function($t){return arguments.length?(rt=typeof $t=="function"?$t:ci(+$t),Xt):rt},Xt}function Ea(){var Ae=[],ze;return{point:function(rt,Ze,mt){ze.push([rt,Ze,mt])},lineStart:function(){Ae.push(ze=[])},lineEnd:L,rejoin:function(){Ae.length>1&&Ae.push(Ae.pop().concat(Ae.shift()))},result:function(){var rt=Ae;return Ae=[],ze=null,rt}}}function Qn(Ae,ze){return b(Ae[0]-ze[0])<o&&b(Ae[1]-ze[1])<o}function Ki(Ae,ze,rt,Ze){this.x=Ae,this.z=ze,this.o=rt,this.e=Ze,this.v=!1,this.n=this.p=null}function ho(Ae,ze,rt,Ze,mt){var It=[],Ut=[],Xt,$t;if(Ae.forEach(function(vr){if(!((Yr=vr.length-1)<=0)){var Yr,Br=vr[0],Jr=vr[Yr],Zr;if(Qn(Br,Jr)){if(!Br[2]&&!Jr[2]){for(mt.lineStart(),Xt=0;Xt<Yr;++Xt)mt.point((Br=vr[Xt])[0],Br[1]);mt.lineEnd();return}Jr[0]+=2*o}It.push(Zr=new Ki(Br,vr,null,!0)),Ut.push(Zr.o=new Ki(Br,null,Zr,!1)),It.push(Zr=new Ki(Jr,vr,null,!1)),Ut.push(Zr.o=new Ki(Jr,null,Zr,!0))}}),!!It.length){for(Ut.sort(ze),ja(It),ja(Ut),Xt=0,$t=Ut.length;Xt<$t;++Xt)Ut[Xt].e=rt=!rt;for(var ar=It[0],jt,er;;){for(var Kt=ar,ur=!0;Kt.v;)if((Kt=Kt.n)===ar)return;jt=Kt.z,mt.lineStart();do{if(Kt.v=Kt.o.v=!0,Kt.e){if(ur)for(Xt=0,$t=jt.length;Xt<$t;++Xt)mt.point((er=jt[Xt])[0],er[1]);else Ze(Kt.x,Kt.n.x,1,mt);Kt=Kt.n}else{if(ur)for(jt=Kt.p.z,Xt=jt.length-1;Xt>=0;--Xt)mt.point((er=jt[Xt])[0],er[1]);else Ze(Kt.x,Kt.p.x,-1,mt);Kt=Kt.p}Kt=Kt.o,jt=Kt.z,ur=!ur}while(!Kt.v);mt.lineEnd()}}}function ja(Ae){if(ze=Ae.length){for(var ze,rt=0,Ze=Ae[0],mt;++rt<ze;)Ze.n=mt=Ae[rt],mt.p=Ze,Ze=mt;Ze.n=mt=Ae[0],mt.p=Ze}}var Ji=r();function au(Ae){return b(Ae[0])<=l?Ae[0]:p(Ae[0])*((b(Ae[0])+l)%c-l)}function Rl(Ae,ze){var rt=au(ze),Ze=ze[1],mt=k(Ze),It=[k(rt),-m(rt),0],Ut=0,Xt=0;Ji.reset(),mt===1?Ze=u+o:mt===-1&&(Ze=-u-o);for(var $t=0,ar=Ae.length;$t<ar;++$t)if(er=(jt=Ae[$t]).length)for(var jt,er,Kt=jt[er-1],ur=au(Kt),vr=Kt[1]/2+f,Yr=k(vr),Br=m(vr),Jr=0;Jr<er;++Jr,ur=mr,Yr=We,Br=on,Kt=Zr){var Zr=jt[Jr],mr=au(Zr),Ar=Zr[1]/2+f,We=k(Ar),on=m(Ar),Gn=mr-ur,zn=Gn>=0?1:-1,Wr=zn*Gn,Oi=Wr>l,Hn=Yr*We;if(Ji.add(x(Hn*zn*k(Wr),Br*on+Hn*m(Wr))),Ut+=Oi?Gn+zn*c:Gn,Oi^ur>=rt^mr>=rt){var to=qe(X(Kt),X(Zr));de(to);var Bi=qe(It,to);de(Bi);var Hi=(Oi^Gn>=0?-1:1)*S(Bi[2]);(Ze>Hi||Ze===Hi&&(to[0]||to[1]))&&(Xt+=Oi^Gn>=0?1:-1)}}return(Ut<-o||Ut<o&&Ji<-o)^Xt&1}function ou(Ae,ze,rt,Ze){return function(mt){var It=ze(mt),Ut=Ea(),Xt=ze(Ut),$t=!1,ar,jt,er,Kt={point:ur,lineStart:Yr,lineEnd:Br,polygonStart:function(){Kt.point=Jr,Kt.lineStart=Zr,Kt.lineEnd=mr,jt=[],ar=[]},polygonEnd:function(){Kt.point=ur,Kt.lineStart=Yr,Kt.lineEnd=Br,jt=t.merge(jt);var Ar=Rl(ar,Ze);jt.length?($t||(mt.polygonStart(),$t=!0),ho(jt,st,Ar,rt,mt)):Ar&&($t||(mt.polygonStart(),$t=!0),mt.lineStart(),rt(null,null,1,mt),mt.lineEnd()),$t&&(mt.polygonEnd(),$t=!1),jt=ar=null},sphere:function(){mt.polygonStart(),mt.lineStart(),rt(null,null,1,mt),mt.lineEnd(),mt.polygonEnd()}};function ur(Ar,We){Ae(Ar,We)&&mt.point(Ar,We)}function vr(Ar,We){It.point(Ar,We)}function Yr(){Kt.point=vr,It.lineStart()}function Br(){Kt.point=ur,It.lineEnd()}function Jr(Ar,We){er.push([Ar,We]),Xt.point(Ar,We)}function Zr(){Xt.lineStart(),er=[]}function mr(){Jr(er[0][0],er[0][1]),Xt.lineEnd();var Ar=Xt.clean(),We=Ut.result(),on,Gn=We.length,zn,Wr,Oi;if(er.pop(),ar.push(er),er=null,!!Gn){if(Ar&1){if(Wr=We[0],(zn=Wr.length-1)>0){for($t||(mt.polygonStart(),$t=!0),mt.lineStart(),on=0;on<zn;++on)mt.point((Oi=Wr[on])[0],Oi[1]);mt.lineEnd()}return}Gn>1&&Ar&2&&We.push(We.pop().concat(We.shift())),jt.push(We.filter(Ie))}}return Kt}}function Ie(Ae){return Ae.length>1}function st(Ae,ze){return((Ae=Ae.x)[0]<0?Ae[1]-u-o:u-Ae[1])-((ze=ze.x)[0]<0?ze[1]-u-o:u-ze[1])}var lt=ou(function(){return!0},xt,At,[-l,-u]);function xt(Ae){var ze=NaN,rt=NaN,Ze=NaN,mt;return{lineStart:function(){Ae.lineStart(),mt=1},point:function(It,Ut){var Xt=It>0?l:-l,$t=b(It-ze);b($t-l)<o?(Ae.point(ze,rt=(rt+Ut)/2>0?u:-u),Ae.point(Ze,rt),Ae.lineEnd(),Ae.lineStart(),Ae.point(Xt,rt),Ae.point(It,rt),mt=0):Ze!==Xt&&$t>=l&&(b(ze-Ze)<o&&(ze-=Ze*o),b(It-Xt)<o&&(It-=Xt*o),rt=Vt(ze,rt,It,Ut),Ae.point(Ze,rt),Ae.lineEnd(),Ae.lineStart(),Ae.point(Xt,rt),mt=0),Ae.point(ze=It,rt=Ut),Ze=Xt},lineEnd:function(){Ae.lineEnd(),ze=rt=NaN},clean:function(){return 2-mt}}}function Vt(Ae,ze,rt,Ze){var mt,It,Ut=k(Ae-rt);return b(Ut)>o?y((k(ze)*(It=m(Ze))*k(rt)-k(Ze)*(mt=m(ze))*k(Ae))/(mt*It*Ut)):(ze+Ze)/2}function At(Ae,ze,rt,Ze){var mt;if(Ae==null)mt=rt*u,Ze.point(-l,mt),Ze.point(0,mt),Ze.point(l,mt),Ze.point(l,0),Ze.point(l,-mt),Ze.point(0,-mt),Ze.point(-l,-mt),Ze.point(-l,0),Ze.point(-l,mt);else if(b(Ae[0]-ze[0])>o){var It=Ae[0]<ze[0]?l:-l;mt=rt*It/2,Ze.point(-It,mt),Ze.point(0,mt),Ze.point(It,mt)}else Ze.point(ze[0],ze[1])}function nr(Ae){var ze=m(Ae),rt=6*v,Ze=ze>0,mt=b(ze)>o;function It(jt,er,Kt,ur){ti(ur,Ae,rt,Kt,jt,er)}function Ut(jt,er){return m(jt)*m(er)>ze}function Xt(jt){var er,Kt,ur,vr,Yr;return{lineStart:function(){vr=ur=!1,Yr=1},point:function(Br,Jr){var Zr=[Br,Jr],mr,Ar=Ut(Br,Jr),We=Ze?Ar?0:ar(Br,Jr):Ar?ar(Br+(Br<0?l:-l),Jr):0;if(!er&&(vr=ur=Ar)&&jt.lineStart(),Ar!==ur&&(mr=$t(er,Zr),(!mr||Qn(er,mr)||Qn(Zr,mr))&&(Zr[2]=1)),Ar!==ur)Yr=0,Ar?(jt.lineStart(),mr=$t(Zr,er),jt.point(mr[0],mr[1])):(mr=$t(er,Zr),jt.point(mr[0],mr[1],2),jt.lineEnd()),er=mr;else if(mt&&er&&Ze^Ar){var on;!(We&Kt)&&(on=$t(Zr,er,!0))&&(Yr=0,Ze?(jt.lineStart(),jt.point(on[0][0],on[0][1]),jt.point(on[1][0],on[1][1]),jt.lineEnd()):(jt.point(on[1][0],on[1][1]),jt.lineEnd(),jt.lineStart(),jt.point(on[0][0],on[0][1],3)))}Ar&&(!er||!Qn(er,Zr))&&jt.point(Zr[0],Zr[1]),er=Zr,ur=Ar,Kt=We},lineEnd:function(){ur&&jt.lineEnd(),er=null},clean:function(){return Yr|(vr&&ur)<<1}}}function $t(jt,er,Kt){var ur=X(jt),vr=X(er),Yr=[1,0,0],Br=qe(ur,vr),Jr=ge(Br,Br),Zr=Br[0],mr=Jr-Zr*Zr;if(!mr)return!Kt&&jt;var Ar=ze*Jr/mr,We=-ze*Zr/mr,on=qe(Yr,Br),Gn=Oe(Yr,Ar),zn=Oe(Br,We);Pe(Gn,zn);var Wr=on,Oi=ge(Gn,Wr),Hn=ge(Wr,Wr),to=Oi*Oi-Hn*(ge(Gn,Gn)-1);if(!(to<0)){var Bi=d(to),Hi=Oe(Wr,(-Oi-Bi)/Hn);if(Pe(Hi,Gn),Hi=Z(Hi),!Kt)return Hi;var Cr=jt[0],ei=er[0],Ia=jt[1],go=er[1],Pa;ei<Cr&&(Pa=Cr,Cr=ei,ei=Pa);var Nl=ei-Cr,pl=b(Nl-l)<o,rf=pl||Nl<o;if(!pl&&go<Ia&&(Pa=Ia,Ia=go,go=Pa),rf?pl?Ia+go>0^Hi[1]<(b(Hi[0]-Cr)<o?Ia:go):Ia<=Hi[1]&&Hi[1]<=go:Nl>l^(Cr<=Hi[0]&&Hi[0]<=ei)){var Ws=Oe(Wr,(-Oi+Bi)/Hn);return Pe(Ws,Gn),[Hi,Z(Ws)]}}}function ar(jt,er){var Kt=Ze?Ae:l-Ae,ur=0;return jt<-Kt?ur|=1:jt>Kt&&(ur|=2),er<-Kt?ur|=4:er>Kt&&(ur|=8),ur}return ou(Ut,Xt,It,Ze?[0,-Ae]:[-l,Ae-l])}function Pt(Ae,ze,rt,Ze,mt,It){var Ut=Ae[0],Xt=Ae[1],$t=ze[0],ar=ze[1],jt=0,er=1,Kt=$t-Ut,ur=ar-Xt,vr;if(vr=rt-Ut,!(!Kt&&vr>0)){if(vr/=Kt,Kt<0){if(vr<jt)return;vr<er&&(er=vr)}else if(Kt>0){if(vr>er)return;vr>jt&&(jt=vr)}if(vr=mt-Ut,!(!Kt&&vr<0)){if(vr/=Kt,Kt<0){if(vr>er)return;vr>jt&&(jt=vr)}else if(Kt>0){if(vr<jt)return;vr<er&&(er=vr)}if(vr=Ze-Xt,!(!ur&&vr>0)){if(vr/=ur,ur<0){if(vr<jt)return;vr<er&&(er=vr)}else if(ur>0){if(vr>er)return;vr>jt&&(jt=vr)}if(vr=It-Xt,!(!ur&&vr<0)){if(vr/=ur,ur<0){if(vr>er)return;vr>jt&&(jt=vr)}else if(ur>0){if(vr<jt)return;vr<er&&(er=vr)}return jt>0&&(Ae[0]=Ut+jt*Kt,Ae[1]=Xt+jt*ur),er<1&&(ze[0]=Ut+er*Kt,ze[1]=Xt+er*ur),!0}}}}}var ir=1e9,wr=-ir;function Mr(Ae,ze,rt,Ze){function mt(ar,jt){return Ae<=ar&&ar<=rt&&ze<=jt&&jt<=Ze}function It(ar,jt,er,Kt){var ur=0,vr=0;if(ar==null||(ur=Ut(ar,er))!==(vr=Ut(jt,er))||$t(ar,jt)<0^er>0)do Kt.point(ur===0||ur===3?Ae:rt,ur>1?Ze:ze);while((ur=(ur+er+4)%4)!==vr);else Kt.point(jt[0],jt[1])}function Ut(ar,jt){return b(ar[0]-Ae)<o?jt>0?0:3:b(ar[0]-rt)<o?jt>0?2:1:b(ar[1]-ze)<o?jt>0?1:0:jt>0?3:2}function Xt(ar,jt){return $t(ar.x,jt.x)}function $t(ar,jt){var er=Ut(ar,1),Kt=Ut(jt,1);return er!==Kt?er-Kt:er===0?jt[1]-ar[1]:er===1?ar[0]-jt[0]:er===2?ar[1]-jt[1]:jt[0]-ar[0]}return function(ar){var jt=ar,er=Ea(),Kt,ur,vr,Yr,Br,Jr,Zr,mr,Ar,We,on,Gn={point:zn,lineStart:to,lineEnd:Bi,polygonStart:Oi,polygonEnd:Hn};function zn(Cr,ei){mt(Cr,ei)&&jt.point(Cr,ei)}function Wr(){for(var Cr=0,ei=0,Ia=ur.length;ei<Ia;++ei)for(var go=ur[ei],Pa=1,Nl=go.length,pl=go[0],rf,Ws,nf=pl[0],Yo=pl[1];Pa<Nl;++Pa)rf=nf,Ws=Yo,pl=go[Pa],nf=pl[0],Yo=pl[1],Ws<=Ze?Yo>Ze&&(nf-rf)*(Ze-Ws)>(Yo-Ws)*(Ae-rf)&&++Cr:Yo<=Ze&&(nf-rf)*(Ze-Ws)<(Yo-Ws)*(Ae-rf)&&--Cr;return Cr}function Oi(){jt=er,Kt=[],ur=[],on=!0}function Hn(){var Cr=Wr(),ei=on&&Cr,Ia=(Kt=t.merge(Kt)).length;(ei||Ia)&&(ar.polygonStart(),ei&&(ar.lineStart(),It(null,null,1,ar),ar.lineEnd()),Ia&&ho(Kt,Xt,Cr,It,ar),ar.polygonEnd()),jt=ar,Kt=ur=vr=null}function to(){Gn.point=Hi,ur&&ur.push(vr=[]),We=!0,Ar=!1,Zr=mr=NaN}function Bi(){Kt&&(Hi(Yr,Br),Jr&&Ar&&er.rejoin(),Kt.push(er.result())),Gn.point=zn,Ar&&jt.lineEnd()}function Hi(Cr,ei){var Ia=mt(Cr,ei);if(ur&&vr.push([Cr,ei]),We)Yr=Cr,Br=ei,Jr=Ia,We=!1,Ia&&(jt.lineStart(),jt.point(Cr,ei));else if(Ia&&Ar)jt.point(Cr,ei);else{var go=[Zr=Math.max(wr,Math.min(ir,Zr)),mr=Math.max(wr,Math.min(ir,mr))],Pa=[Cr=Math.max(wr,Math.min(ir,Cr)),ei=Math.max(wr,Math.min(ir,ei))];Pt(go,Pa,Ae,ze,rt,Ze)?(Ar||(jt.lineStart(),jt.point(go[0],go[1])),jt.point(Pa[0],Pa[1]),Ia||jt.lineEnd(),on=!1):Ia&&(jt.lineStart(),jt.point(Cr,ei),on=!1)}Zr=Cr,mr=ei,Ar=Ia}return Gn}}function Vr(){var Ae=0,ze=0,rt=960,Ze=500,mt,It,Ut;return Ut={stream:function(Xt){return mt&&It===Xt?mt:mt=Mr(Ae,ze,rt,Ze)(It=Xt)},extent:function(Xt){return arguments.length?(Ae=+Xt[0][0],ze=+Xt[0][1],rt=+Xt[1][0],Ze=+Xt[1][1],mt=It=null,Ut):[[Ae,ze],[rt,Ze]]}}}var sn=r(),Xn,wn,oi,Bn={sphere:L,point:L,lineStart:Wi,lineEnd:L,polygonStart:L,polygonEnd:L};function Wi(){Bn.point=Qi,Bn.lineEnd=Xi}function Xi(){Bn.point=Bn.lineEnd=L}function Qi(Ae,ze){Ae*=v,ze*=v,Xn=Ae,wn=k(ze),oi=m(ze),Bn.point=ya}function ya(Ae,ze){Ae*=v,ze*=v;var rt=k(ze),Ze=m(ze),mt=b(Ae-Xn),It=m(mt),Ut=k(mt),Xt=Ze*Ut,$t=oi*rt-wn*Ze*It,ar=wn*rt+oi*Ze*It;sn.add(x(d(Xt*Xt+$t*$t),ar)),Xn=Ae,wn=rt,oi=Ze}function La(Ae){return sn.reset(),N(Ae,Bn),+sn}var Ca=[null,null],Bo={type:"LineString",coordinates:Ca};function vo(Ae,ze){return Ca[0]=Ae,Ca[1]=ze,La(Bo)}var xa={Feature:function(Ae,ze){return En(Ae.geometry,ze)},FeatureCollection:function(Ae,ze){for(var rt=Ae.features,Ze=-1,mt=rt.length;++Ze<mt;)if(En(rt[Ze].geometry,ze))return!0;return!1}},Da={Sphere:function(){return!0},Point:function(Ae,ze){return Gr(Ae.coordinates,ze)},MultiPoint:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)if(Gr(rt[Ze],ze))return!0;return!1},LineString:function(Ae,ze){return si(Ae.coordinates,ze)},MultiLineString:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)if(si(rt[Ze],ze))return!0;return!1},Polygon:function(Ae,ze){return Ho(Ae.coordinates,ze)},MultiPolygon:function(Ae,ze){for(var rt=Ae.coordinates,Ze=-1,mt=rt.length;++Ze<mt;)if(Ho(rt[Ze],ze))return!0;return!1},GeometryCollection:function(Ae,ze){for(var rt=Ae.geometries,Ze=-1,mt=rt.length;++Ze<mt;)if(En(rt[Ze],ze))return!0;return!1}};function En(Ae,ze){return Ae&&Da.hasOwnProperty(Ae.type)?Da[Ae.type](Ae,ze):!1}function Gr(Ae,ze){return vo(Ae,ze)===0}function si(Ae,ze){for(var rt,Ze,mt,It=0,Ut=Ae.length;It<Ut;It++){if(Ze=vo(Ae[It],ze),Ze===0||It>0&&(mt=vo(Ae[It],Ae[It-1]),mt>0&&rt<=mt&&Ze<=mt&&(rt+Ze-mt)*(1-Math.pow((rt-Ze)/mt,2))<s*mt))return!0;rt=Ze}return!1}function Ho(Ae,ze){return!!Rl(Ae.map(Bs),Il(ze))}function Bs(Ae){return Ae=Ae.map(Il),Ae.pop(),Ae}function Il(Ae){return[Ae[0]*v,Ae[1]*v]}function _s(Ae,ze){return(Ae&&xa.hasOwnProperty(Ae.type)?xa[Ae.type]:En)(Ae,ze)}function Uo(Ae,ze,rt){var Ze=t.range(Ae,ze-o,rt).concat(ze);return function(mt){return Ze.map(function(It){return[mt,It]})}}function Hs(Ae,ze,rt){var Ze=t.range(Ae,ze-o,rt).concat(ze);return function(mt){return Ze.map(function(It){return[It,mt]})}}function Uu(){var Ae,ze,rt,Ze,mt,It,Ut,Xt,$t=10,ar=$t,jt=90,er=360,Kt,ur,vr,Yr,Br=2.5;function Jr(){return{type:"MultiLineString",coordinates:Zr()}}function Zr(){return t.range(_(Ze/jt)*jt,rt,jt).map(vr).concat(t.range(_(Xt/er)*er,Ut,er).map(Yr)).concat(t.range(_(ze/$t)*$t,Ae,$t).filter(function(mr){return b(mr%jt)>o}).map(Kt)).concat(t.range(_(It/ar)*ar,mt,ar).filter(function(mr){return b(mr%er)>o}).map(ur))}return Jr.lines=function(){return Zr().map(function(mr){return{type:"LineString",coordinates:mr}})},Jr.outline=function(){return{type:"Polygon",coordinates:[vr(Ze).concat(Yr(Ut).slice(1),vr(rt).reverse().slice(1),Yr(Xt).reverse().slice(1))]}},Jr.extent=function(mr){return arguments.length?Jr.extentMajor(mr).extentMinor(mr):Jr.extentMinor()},Jr.extentMajor=function(mr){return arguments.length?(Ze=+mr[0][0],rt=+mr[1][0],Xt=+mr[0][1],Ut=+mr[1][1],Ze>rt&&(mr=Ze,Ze=rt,rt=mr),Xt>Ut&&(mr=Xt,Xt=Ut,Ut=mr),Jr.precision(Br)):[[Ze,Xt],[rt,Ut]]},Jr.extentMinor=function(mr){return arguments.length?(ze=+mr[0][0],Ae=+mr[1][0],It=+mr[0][1],mt=+mr[1][1],ze>Ae&&(mr=ze,ze=Ae,Ae=mr),It>mt&&(mr=It,It=mt,mt=mr),Jr.precision(Br)):[[ze,It],[Ae,mt]]},Jr.step=function(mr){return arguments.length?Jr.stepMajor(mr).stepMinor(mr):Jr.stepMinor()},Jr.stepMajor=function(mr){return arguments.length?(jt=+mr[0],er=+mr[1],Jr):[jt,er]},Jr.stepMinor=function(mr){return arguments.length?($t=+mr[0],ar=+mr[1],Jr):[$t,ar]},Jr.precision=function(mr){return arguments.length?(Br=+mr,Kt=Uo(It,mt,90),ur=Hs(ze,Ae,Br),vr=Uo(Xt,Ut,90),Yr=Hs(Ze,rt,Br),Jr):Br},Jr.extentMajor([[-180,-90+o],[180,90-o]]).extentMinor([[-180,-80-o],[180,80+o]])}function Ni(){return Uu()()}function ju(Ae,ze){var rt=Ae[0]*v,Ze=Ae[1]*v,mt=ze[0]*v,It=ze[1]*v,Ut=m(Ze),Xt=k(Ze),$t=m(It),ar=k(It),jt=Ut*m(rt),er=Ut*k(rt),Kt=$t*m(mt),ur=$t*k(mt),vr=2*S(d(E(It-Ze)+Ut*$t*E(mt-rt))),Yr=k(vr),Br=vr?function(Jr){var Zr=k(Jr*=vr)/Yr,mr=k(vr-Jr)/Yr,Ar=mr*jt+Zr*Kt,We=mr*er+Zr*ur,on=mr*Xt+Zr*ar;return[x(We,Ar)*h,x(on,d(Ar*Ar+We*We))*h]}:function(){return[rt*h,Ze*h]};return Br.distance=vr,Br}function Qa(Ae){return Ae}var jo=r(),Ts=r(),eo,us,fs,Vu,Vo={point:L,lineStart:L,lineEnd:L,polygonStart:function(){Vo.lineStart=id,Vo.lineEnd=R0},polygonEnd:function(){Vo.lineStart=Vo.lineEnd=Vo.point=L,jo.add(b(Ts)),Ts.reset()},result:function(){var Ae=jo/2;return jo.reset(),Ae}};function id(){Vo.point=ul}function ul(Ae,ze){Vo.point=Va,eo=fs=Ae,us=Vu=ze}function Va(Ae,ze){Ts.add(Vu*Ae-fs*ze),fs=Ae,Vu=ze}function R0(){Va(eo,us)}var qa=1/0,Gu=qa,su=-qa,Go=su,Us={point:Yu,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L,result:function(){var Ae=[[qa,Gu],[su,Go]];return su=Go=-(Gu=qa=1/0),Ae}};function Yu(Ae,ze){Ae<qa&&(qa=Ae),Ae>su&&(su=Ae),ze<Gu&&(Gu=ze),ze>Go&&(Go=ze)}var zi=0,As=0,Wu=0,Xu=0,lu=0,Af=0,ah=0,oh=0,Ms=0,Zu,Pl,cs,za,po={point:js,lineStart:$u,lineEnd:pc,polygonStart:function(){po.lineStart=sh,po.lineEnd=I0},polygonEnd:function(){po.point=js,po.lineStart=$u,po.lineEnd=pc},result:function(){var Ae=Ms?[ah/Ms,oh/Ms]:Af?[Xu/Af,lu/Af]:Wu?[zi/Wu,As/Wu]:[NaN,NaN];return zi=As=Wu=Xu=lu=Af=ah=oh=Ms=0,Ae}};function js(Ae,ze){zi+=Ae,As+=ze,++Wu}function $u(){po.point=uu}function uu(Ae,ze){po.point=Mf,js(cs=Ae,za=ze)}function Mf(Ae,ze){var rt=Ae-cs,Ze=ze-za,mt=d(rt*rt+Ze*Ze);Xu+=mt*(cs+Ae)/2,lu+=mt*(za+ze)/2,Af+=mt,js(cs=Ae,za=ze)}function pc(){po.point=js}function sh(){po.point=ad}function I0(){Eo(Zu,Pl)}function ad(Ae,ze){po.point=Eo,js(Zu=cs=Ae,Pl=za=ze)}function Eo(Ae,ze){var rt=Ae-cs,Ze=ze-za,mt=d(rt*rt+Ze*Ze);Xu+=mt*(cs+Ae)/2,lu+=mt*(za+ze)/2,Af+=mt,mt=za*Ae-cs*ze,ah+=mt*(cs+Ae),oh+=mt*(za+ze),Ms+=mt*3,js(cs=Ae,za=ze)}function gc(Ae){this._context=Ae}gc.prototype={_radius:4.5,pointRadius:function(Ae){return this._radius=Ae,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ae,ze){switch(this._point){case 0:{this._context.moveTo(Ae,ze),this._point=1;break}case 1:{this._context.lineTo(Ae,ze);break}default:{this._context.moveTo(Ae+this._radius,ze),this._context.arc(Ae,ze,this._radius,0,c);break}}},result:L};var Ku=r(),lh,Kh,od,mc,yc,fl={point:L,lineStart:function(){fl.point=uh},lineEnd:function(){lh&&cl(Kh,od),fl.point=L},polygonStart:function(){lh=!0},polygonEnd:function(){lh=null},result:function(){var Ae=+Ku;return Ku.reset(),Ae}};function uh(Ae,ze){fl.point=cl,Kh=mc=Ae,od=yc=ze}function cl(Ae,ze){mc-=Ae,yc-=ze,Ku.add(d(mc*mc+yc*yc)),mc=Ae,yc=ze}function fh(){this._string=[]}fh.prototype={_radius:4.5,_circle:sd(4.5),pointRadius:function(Ae){return(Ae=+Ae)!==this._radius&&(this._radius=Ae,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ae,ze){switch(this._point){case 0:{this._string.push("M",Ae,",",ze),this._point=1;break}case 1:{this._string.push("L",Ae,",",ze);break}default:{this._circle==null&&(this._circle=sd(this._radius)),this._string.push("M",Ae,",",ze,this._circle);break}}},result:function(){if(this._string.length){var Ae=this._string.join("");return this._string=[],Ae}else return null}};function sd(Ae){return"m0,"+Ae+"a"+Ae+","+Ae+" 0 1,1 0,"+-2*Ae+"a"+Ae+","+Ae+" 0 1,1 0,"+2*Ae+"z"}function xc(Ae,ze){var rt=4.5,Ze,mt;function It(Ut){return Ut&&(typeof rt=="function"&&mt.pointRadius(+rt.apply(this,arguments)),N(Ut,Ze(mt))),mt.result()}return It.area=function(Ut){return N(Ut,Ze(Vo)),Vo.result()},It.measure=function(Ut){return N(Ut,Ze(fl)),fl.result()},It.bounds=function(Ut){return N(Ut,Ze(Us)),Us.result()},It.centroid=function(Ut){return N(Ut,Ze(po)),po.result()},It.projection=function(Ut){return arguments.length?(Ze=Ut==null?(Ae=null,Qa):(Ae=Ut).stream,It):Ae},It.context=function(Ut){return arguments.length?(mt=Ut==null?(ze=null,new fh):new gc(ze=Ut),typeof rt!="function"&&mt.pointRadius(rt),It):ze},It.pointRadius=function(Ut){return arguments.length?(rt=typeof Ut=="function"?Ut:(mt.pointRadius(+Ut),+Ut),It):rt},It.projection(Ae).context(ze)}function ld(Ae){return{stream:Lo(Ae)}}function Lo(Ae){return function(ze){var rt=new Ju;for(var Ze in Ae)rt[Ze]=Ae[Ze];return rt.stream=ze,rt}}function Ju(){}Ju.prototype={constructor:Ju,point:function(Ae,ze){this.stream.point(Ae,ze)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function kf(Ae,ze,rt){var Ze=Ae.clipExtent&&Ae.clipExtent();return Ae.scale(150).translate([0,0]),Ze!=null&&Ae.clipExtent(null),N(rt,Ae.stream(Us)),ze(Us.result()),Ze!=null&&Ae.clipExtent(Ze),Ae}function bc(Ae,ze,rt){return kf(Ae,function(Ze){var mt=ze[1][0]-ze[0][0],It=ze[1][1]-ze[0][1],Ut=Math.min(mt/(Ze[1][0]-Ze[0][0]),It/(Ze[1][1]-Ze[0][1])),Xt=+ze[0][0]+(mt-Ut*(Ze[1][0]+Ze[0][0]))/2,$t=+ze[0][1]+(It-Ut*(Ze[1][1]+Ze[0][1]))/2;Ae.scale(150*Ut).translate([Xt,$t])},rt)}function wc(Ae,ze,rt){return bc(Ae,[[0,0],ze],rt)}function fu(Ae,ze,rt){return kf(Ae,function(Ze){var mt=+ze,It=mt/(Ze[1][0]-Ze[0][0]),Ut=(mt-It*(Ze[1][0]+Ze[0][0]))/2,Xt=-It*Ze[0][1];Ae.scale(150*It).translate([Ut,Xt])},rt)}function Ga(Ae,ze,rt){return kf(Ae,function(Ze){var mt=+ze,It=mt/(Ze[1][1]-Ze[0][1]),Ut=-It*Ze[0][0],Xt=(mt-It*(Ze[1][1]+Ze[0][1]))/2;Ae.scale(150*It).translate([Ut,Xt])},rt)}var Jh=16,Qh=m(30*v);function ud(Ae,ze){return+ze?ch(Ae,ze):ev(Ae)}function ev(Ae){return Lo({point:function(ze,rt){ze=Ae(ze,rt),this.stream.point(ze[0],ze[1])}})}function ch(Ae,ze){function rt(Ze,mt,It,Ut,Xt,$t,ar,jt,er,Kt,ur,vr,Yr,Br){var Jr=ar-Ze,Zr=jt-mt,mr=Jr*Jr+Zr*Zr;if(mr>4*ze&&Yr--){var Ar=Ut+Kt,We=Xt+ur,on=$t+vr,Gn=d(Ar*Ar+We*We+on*on),zn=S(on/=Gn),Wr=b(b(on)-1)<o||b(It-er)<o?(It+er)/2:x(We,Ar),Oi=Ae(Wr,zn),Hn=Oi[0],to=Oi[1],Bi=Hn-Ze,Hi=to-mt,Cr=Zr*Bi-Jr*Hi;(Cr*Cr/mr>ze||b((Jr*Bi+Zr*Hi)/mr-.5)>.3||Ut*Kt+Xt*ur+$t*vr<Qh)&&(rt(Ze,mt,It,Ut,Xt,$t,Hn,to,Wr,Ar/=Gn,We/=Gn,on,Yr,Br),Br.point(Hn,to),rt(Hn,to,Wr,Ar,We,on,ar,jt,er,Kt,ur,vr,Yr,Br))}}return function(Ze){var mt,It,Ut,Xt,$t,ar,jt,er,Kt,ur,vr,Yr,Br={point:Jr,lineStart:Zr,lineEnd:Ar,polygonStart:function(){Ze.polygonStart(),Br.lineStart=We},polygonEnd:function(){Ze.polygonEnd(),Br.lineStart=Zr}};function Jr(zn,Wr){zn=Ae(zn,Wr),Ze.point(zn[0],zn[1])}function Zr(){er=NaN,Br.point=mr,Ze.lineStart()}function mr(zn,Wr){var Oi=X([zn,Wr]),Hn=Ae(zn,Wr);rt(er,Kt,jt,ur,vr,Yr,er=Hn[0],Kt=Hn[1],jt=zn,ur=Oi[0],vr=Oi[1],Yr=Oi[2],Jh,Ze),Ze.point(er,Kt)}function Ar(){Br.point=Jr,Ze.lineEnd()}function We(){Zr(),Br.point=on,Br.lineEnd=Gn}function on(zn,Wr){mr(mt=zn,Wr),It=er,Ut=Kt,Xt=ur,$t=vr,ar=Yr,Br.point=mr}function Gn(){rt(er,Kt,jt,ur,vr,Yr,It,Ut,mt,Xt,$t,ar,Jh,Ze),Br.lineEnd=Ar,Ar()}return Br}}var tv=Lo({point:function(Ae,ze){this.stream.point(Ae*v,ze*v)}});function hl(Ae){return Lo({point:function(ze,rt){var Ze=Ae(ze,rt);return this.stream.point(Ze[0],Ze[1])}})}function Gt(Ae,ze,rt,Ze,mt){function It(Ut,Xt){return Ut*=Ze,Xt*=mt,[ze+Ae*Ut,rt-Ae*Xt]}return It.invert=function(Ut,Xt){return[(Ut-ze)/Ae*Ze,(rt-Xt)/Ae*mt]},It}function lr(Ae,ze,rt,Ze,mt,It){var Ut=m(It),Xt=k(It),$t=Ut*Ae,ar=Xt*Ae,jt=Ut/Ae,er=Xt/Ae,Kt=(Xt*rt-Ut*ze)/Ae,ur=(Xt*ze+Ut*rt)/Ae;function vr(Yr,Br){return Yr*=Ze,Br*=mt,[$t*Yr-ar*Br+ze,rt-ar*Yr-$t*Br]}return vr.invert=function(Yr,Br){return[Ze*(jt*Yr-er*Br+Kt),mt*(ur-er*Yr-jt*Br)]},vr}function Jt(Ae){return Xr(function(){return Ae})()}function Xr(Ae){var ze,rt=150,Ze=480,mt=250,It=0,Ut=0,Xt=0,$t=0,ar=0,jt,er=0,Kt=1,ur=1,vr=null,Yr=lt,Br=null,Jr,Zr,mr,Ar=Qa,We=.5,on,Gn,zn,Wr,Oi;function Hn(Cr){return zn(Cr[0]*v,Cr[1]*v)}function to(Cr){return Cr=zn.invert(Cr[0],Cr[1]),Cr&&[Cr[0]*h,Cr[1]*h]}Hn.stream=function(Cr){return Wr&&Oi===Cr?Wr:Wr=tv(hl(jt)(Yr(on(Ar(Oi=Cr)))))},Hn.preclip=function(Cr){return arguments.length?(Yr=Cr,vr=void 0,Hi()):Yr},Hn.postclip=function(Cr){return arguments.length?(Ar=Cr,Br=Jr=Zr=mr=null,Hi()):Ar},Hn.clipAngle=function(Cr){return arguments.length?(Yr=+Cr?nr(vr=Cr*v):(vr=null,lt),Hi()):vr*h},Hn.clipExtent=function(Cr){return arguments.length?(Ar=Cr==null?(Br=Jr=Zr=mr=null,Qa):Mr(Br=+Cr[0][0],Jr=+Cr[0][1],Zr=+Cr[1][0],mr=+Cr[1][1]),Hi()):Br==null?null:[[Br,Jr],[Zr,mr]]},Hn.scale=function(Cr){return arguments.length?(rt=+Cr,Bi()):rt},Hn.translate=function(Cr){return arguments.length?(Ze=+Cr[0],mt=+Cr[1],Bi()):[Ze,mt]},Hn.center=function(Cr){return arguments.length?(It=Cr[0]%360*v,Ut=Cr[1]%360*v,Bi()):[It*h,Ut*h]},Hn.rotate=function(Cr){return arguments.length?(Xt=Cr[0]%360*v,$t=Cr[1]%360*v,ar=Cr.length>2?Cr[2]%360*v:0,Bi()):[Xt*h,$t*h,ar*h]},Hn.angle=function(Cr){return arguments.length?(er=Cr%360*v,Bi()):er*h},Hn.reflectX=function(Cr){return arguments.length?(Kt=Cr?-1:1,Bi()):Kt<0},Hn.reflectY=function(Cr){return arguments.length?(ur=Cr?-1:1,Bi()):ur<0},Hn.precision=function(Cr){return arguments.length?(on=ud(Gn,We=Cr*Cr),Hi()):d(We)},Hn.fitExtent=function(Cr,ei){return bc(Hn,Cr,ei)},Hn.fitSize=function(Cr,ei){return wc(Hn,Cr,ei)},Hn.fitWidth=function(Cr,ei){return fu(Hn,Cr,ei)},Hn.fitHeight=function(Cr,ei){return Ga(Hn,Cr,ei)};function Bi(){var Cr=lr(rt,0,0,Kt,ur,er).apply(null,ze(It,Ut)),ei=(er?lr:Gt)(rt,Ze-Cr[0],mt-Cr[1],Kt,ur,er);return jt=_i(Xt,$t,ar),Gn=On(ze,ei),zn=On(jt,Gn),on=ud(Gn,We),Hi()}function Hi(){return Wr=Oi=null,Hn}return function(){return ze=Ae.apply(this,arguments),Hn.invert=ze.invert&&to,Bi()}}function bn(Ae){var ze=0,rt=l/3,Ze=Xr(Ae),mt=Ze(ze,rt);return mt.parallels=function(It){return arguments.length?Ze(ze=It[0]*v,rt=It[1]*v):[ze*h,rt*h]},mt}function hi(Ae){var ze=m(Ae);function rt(Ze,mt){return[Ze*ze,k(mt)/ze]}return rt.invert=function(Ze,mt){return[Ze/ze,S(mt*ze)]},rt}function Ra(Ae,ze){var rt=k(Ae),Ze=(rt+k(ze))/2;if(b(Ze)<o)return hi(Ae);var mt=1+rt*(2*Ze-rt),It=d(mt)/Ze;function Ut(Xt,$t){var ar=d(mt-2*Ze*k($t))/Ze;return[ar*k(Xt*=Ze),It-ar*m(Xt)]}return Ut.invert=function(Xt,$t){var ar=It-$t,jt=x(Xt,b(ar))*p(ar);return ar*Ze<0&&(jt-=l*p(Xt)*p(ar)),[jt/Ze,S((mt-(Xt*Xt+ar*ar)*Ze*Ze)/(2*Ze))]},Ut}function vi(){return bn(Ra).scale(155.424).center([0,33.6442])}function hh(){return vi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function P0(Ae){var ze=Ae.length;return{point:function(rt,Ze){for(var mt=-1;++mt<ze;)Ae[mt].point(rt,Ze)},sphere:function(){for(var rt=-1;++rt<ze;)Ae[rt].sphere()},lineStart:function(){for(var rt=-1;++rt<ze;)Ae[rt].lineStart()},lineEnd:function(){for(var rt=-1;++rt<ze;)Ae[rt].lineEnd()},polygonStart:function(){for(var rt=-1;++rt<ze;)Ae[rt].polygonStart()},polygonEnd:function(){for(var rt=-1;++rt<ze;)Ae[rt].polygonEnd()}}}function ks(){var Ae,ze,rt=hh(),Ze,mt=vi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),It,Ut=vi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Xt,$t,ar={point:function(Kt,ur){$t=[Kt,ur]}};function jt(Kt){var ur=Kt[0],vr=Kt[1];return $t=null,Ze.point(ur,vr),$t||(It.point(ur,vr),$t)||(Xt.point(ur,vr),$t)}jt.invert=function(Kt){var ur=rt.scale(),vr=rt.translate(),Yr=(Kt[0]-vr[0])/ur,Br=(Kt[1]-vr[1])/ur;return(Br>=.12&&Br<.234&&Yr>=-.425&&Yr<-.214?mt:Br>=.166&&Br<.234&&Yr>=-.214&&Yr<-.115?Ut:rt).invert(Kt)},jt.stream=function(Kt){return Ae&&ze===Kt?Ae:Ae=P0([rt.stream(ze=Kt),mt.stream(Kt),Ut.stream(Kt)])},jt.precision=function(Kt){return arguments.length?(rt.precision(Kt),mt.precision(Kt),Ut.precision(Kt),er()):rt.precision()},jt.scale=function(Kt){return arguments.length?(rt.scale(Kt),mt.scale(Kt*.35),Ut.scale(Kt),jt.translate(rt.translate())):rt.scale()},jt.translate=function(Kt){if(!arguments.length)return rt.translate();var ur=rt.scale(),vr=+Kt[0],Yr=+Kt[1];return Ze=rt.translate(Kt).clipExtent([[vr-.455*ur,Yr-.238*ur],[vr+.455*ur,Yr+.238*ur]]).stream(ar),It=mt.translate([vr-.307*ur,Yr+.201*ur]).clipExtent([[vr-.425*ur+o,Yr+.12*ur+o],[vr-.214*ur-o,Yr+.234*ur-o]]).stream(ar),Xt=Ut.translate([vr-.205*ur,Yr+.212*ur]).clipExtent([[vr-.214*ur+o,Yr+.166*ur+o],[vr-.115*ur-o,Yr+.234*ur-o]]).stream(ar),er()},jt.fitExtent=function(Kt,ur){return bc(jt,Kt,ur)},jt.fitSize=function(Kt,ur){return wc(jt,Kt,ur)},jt.fitWidth=function(Kt,ur){return fu(jt,Kt,ur)},jt.fitHeight=function(Kt,ur){return Ga(jt,Kt,ur)};function er(){return Ae=ze=null,jt}return jt.scale(1070)}function Ss(Ae){return function(ze,rt){var Ze=m(ze),mt=m(rt),It=Ae(Ze*mt);return[It*mt*k(ze),It*k(rt)]}}function vl(Ae){return function(ze,rt){var Ze=d(ze*ze+rt*rt),mt=Ae(Ze),It=k(mt),Ut=m(mt);return[x(ze*It,Ze*Ut),S(Ze&&rt*It/Ze)]}}var Ya=Ss(function(Ae){return d(2/(1+Ae))});Ya.invert=vl(function(Ae){return 2*S(Ae/2)});function vh(){return Jt(Ya).scale(124.75).clipAngle(180-.001)}var Fl=Ss(function(Ae){return(Ae=T(Ae))&&Ae/k(Ae)});Fl.invert=vl(function(Ae){return Ae});function ki(){return Jt(Fl).scale(79.4188).clipAngle(180-.001)}function Es(Ae,ze){return[Ae,A(M((u+ze)/2))]}Es.invert=function(Ae,ze){return[Ae,2*y(g(ze))-u]};function rv(){return _c(Es).scale(961/c)}function _c(Ae){var ze=Jt(Ae),rt=ze.center,Ze=ze.scale,mt=ze.translate,It=ze.clipExtent,Ut=null,Xt,$t,ar;ze.scale=function(er){return arguments.length?(Ze(er),jt()):Ze()},ze.translate=function(er){return arguments.length?(mt(er),jt()):mt()},ze.center=function(er){return arguments.length?(rt(er),jt()):rt()},ze.clipExtent=function(er){return arguments.length?(er==null?Ut=Xt=$t=ar=null:(Ut=+er[0][0],Xt=+er[0][1],$t=+er[1][0],ar=+er[1][1]),jt()):Ut==null?null:[[Ut,Xt],[$t,ar]]};function jt(){var er=l*Ze(),Kt=ze(ia(ze.rotate()).invert([0,0]));return It(Ut==null?[[Kt[0]-er,Kt[1]-er],[Kt[0]+er,Kt[1]+er]]:Ae===Es?[[Math.max(Kt[0]-er,Ut),Xt],[Math.min(Kt[0]+er,$t),ar]]:[[Ut,Math.max(Kt[1]-er,Xt)],[$t,Math.min(Kt[1]+er,ar)]])}return jt()}function Tc(Ae){return M((u+Ae)/2)}function fd(Ae,ze){var rt=m(Ae),Ze=Ae===ze?k(Ae):A(rt/m(ze))/A(Tc(ze)/Tc(Ae)),mt=rt*w(Tc(Ae),Ze)/Ze;if(!Ze)return Es;function It(Ut,Xt){mt>0?Xt<-u+o&&(Xt=-u+o):Xt>u-o&&(Xt=u-o);var $t=mt/w(Tc(Xt),Ze);return[$t*k(Ze*Ut),mt-$t*m(Ze*Ut)]}return It.invert=function(Ut,Xt){var $t=mt-Xt,ar=p(Ze)*d(Ut*Ut+$t*$t),jt=x(Ut,b($t))*p($t);return $t*Ze<0&&(jt-=l*p(Ut)*p($t)),[jt/Ze,2*y(w(mt/ar,1/Ze))-u]},It}function dh(){return bn(fd).scale(109.5).parallels([30,30])}function cu(Ae,ze){return[Ae,ze]}cu.invert=cu;function Vs(){return Jt(cu).scale(152.63)}function hu(Ae,ze){var rt=m(Ae),Ze=Ae===ze?k(Ae):(rt-m(ze))/(ze-Ae),mt=rt/Ze+Ae;if(b(Ze)<o)return cu;function It(Ut,Xt){var $t=mt-Xt,ar=Ze*Ut;return[$t*k(ar),mt-$t*m(ar)]}return It.invert=function(Ut,Xt){var $t=mt-Xt,ar=x(Ut,b($t))*p($t);return $t*Ze<0&&(ar-=l*p(Ut)*p($t)),[ar/Ze,mt-p(Ze)*d(Ut*Ut+$t*$t)]},It}function cd(){return bn(hu).scale(131.154).center([0,13.9389])}var vu=1.340264,du=-.081106,Sf=893e-6,dl=.003796,Qu=d(3)/2,pu=12;function Gs(Ae,ze){var rt=S(Qu*k(ze)),Ze=rt*rt,mt=Ze*Ze*Ze;return[Ae*m(rt)/(Qu*(vu+3*du*Ze+mt*(7*Sf+9*dl*Ze))),rt*(vu+du*Ze+mt*(Sf+dl*Ze))]}Gs.invert=function(Ae,ze){for(var rt=ze,Ze=rt*rt,mt=Ze*Ze*Ze,It=0,Ut,Xt,$t;It<pu&&(Xt=rt*(vu+du*Ze+mt*(Sf+dl*Ze))-ze,$t=vu+3*du*Ze+mt*(7*Sf+9*dl*Ze),rt-=Ut=Xt/$t,Ze=rt*rt,mt=Ze*Ze*Ze,!(b(Ut)<s));++It);return[Qu*Ae*(vu+3*du*Ze+mt*(7*Sf+9*dl*Ze))/m(rt),S(k(rt)/Qu)]};function Ac(){return Jt(Gs).scale(177.158)}function ph(Ae,ze){var rt=m(ze),Ze=m(Ae)*rt;return[rt*k(Ae)/Ze,k(ze)/Ze]}ph.invert=vl(y);function hd(){return Jt(ph).scale(144.049).clipAngle(60)}function vd(){var Ae=1,ze=0,rt=0,Ze=1,mt=1,It=0,Ut,Xt,$t=null,ar,jt,er,Kt=1,ur=1,vr=Lo({point:function(Ar,We){var on=mr([Ar,We]);this.stream.point(on[0],on[1])}}),Yr=Qa,Br,Jr;function Zr(){return Kt=Ae*Ze,ur=Ae*mt,Br=Jr=null,mr}function mr(Ar){var We=Ar[0]*Kt,on=Ar[1]*ur;if(It){var Gn=on*Ut-We*Xt;We=We*Ut+on*Xt,on=Gn}return[We+ze,on+rt]}return mr.invert=function(Ar){var We=Ar[0]-ze,on=Ar[1]-rt;if(It){var Gn=on*Ut+We*Xt;We=We*Ut-on*Xt,on=Gn}return[We/Kt,on/ur]},mr.stream=function(Ar){return Br&&Jr===Ar?Br:Br=vr(Yr(Jr=Ar))},mr.postclip=function(Ar){return arguments.length?(Yr=Ar,$t=ar=jt=er=null,Zr()):Yr},mr.clipExtent=function(Ar){return arguments.length?(Yr=Ar==null?($t=ar=jt=er=null,Qa):Mr($t=+Ar[0][0],ar=+Ar[0][1],jt=+Ar[1][0],er=+Ar[1][1]),Zr()):$t==null?null:[[$t,ar],[jt,er]]},mr.scale=function(Ar){return arguments.length?(Ae=+Ar,Zr()):Ae},mr.translate=function(Ar){return arguments.length?(ze=+Ar[0],rt=+Ar[1],Zr()):[ze,rt]},mr.angle=function(Ar){return arguments.length?(It=Ar%360*v,Xt=k(It),Ut=m(It),Zr()):It*h},mr.reflectX=function(Ar){return arguments.length?(Ze=Ar?-1:1,Zr()):Ze<0},mr.reflectY=function(Ar){return arguments.length?(mt=Ar?-1:1,Zr()):mt<0},mr.fitExtent=function(Ar,We){return bc(mr,Ar,We)},mr.fitSize=function(Ar,We){return wc(mr,Ar,We)},mr.fitWidth=function(Ar,We){return fu(mr,Ar,We)},mr.fitHeight=function(Ar,We){return Ga(mr,Ar,We)},mr}function Ef(Ae,ze){var rt=ze*ze,Ze=rt*rt;return[Ae*(.8707-.131979*rt+Ze*(-.013791+Ze*(.003971*rt-.001529*Ze))),ze*(1.007226+rt*(.015085+Ze*(-.044475+.028874*rt-.005916*Ze)))]}Ef.invert=function(Ae,ze){var rt=ze,Ze=25,mt;do{var It=rt*rt,Ut=It*It;rt-=mt=(rt*(1.007226+It*(.015085+Ut*(-.044475+.028874*It-.005916*Ut)))-ze)/(1.007226+It*(.015085*3+Ut*(-.044475*7+.028874*9*It-.005916*11*Ut)))}while(b(mt)>o&&--Ze>0);return[Ae/(.8707+(It=rt*rt)*(-.131979+It*(-.013791+It*It*It*(.003971-.001529*It)))),rt]};function ef(){return Jt(Ef).scale(175.295)}function ba(Ae,ze){return[m(ze)*k(Ae),k(ze)]}ba.invert=vl(S);function Ys(){return Jt(ba).scale(249.5).clipAngle(90+o)}function tf(Ae,ze){var rt=m(ze),Ze=1+m(Ae)*rt;return[rt*k(Ae)/Ze,k(ze)/Ze]}tf.invert=vl(function(Ae){return 2*y(Ae)});function gh(){return Jt(tf).scale(250).clipAngle(142)}function Mc(Ae,ze){return[A(M((u+ze)/2)),-Ae]}Mc.invert=function(Ae,ze){return[-ze,2*y(g(Ae))-u]};function wa(){var Ae=_c(Mc),ze=Ae.center,rt=Ae.rotate;return Ae.center=function(Ze){return arguments.length?ze([-Ze[1],Ze[0]]):(Ze=ze(),[Ze[1],-Ze[0]])},Ae.rotate=function(Ze){return arguments.length?rt([Ze[0],Ze[1],Ze.length>2?Ze[2]+90:90]):(Ze=rt(),[Ze[0],Ze[1],Ze[2]-90])},rt([0,0,90]).scale(159.155)}e.geoAlbers=hh,e.geoAlbersUsa=ks,e.geoArea=G,e.geoAzimuthalEqualArea=vh,e.geoAzimuthalEqualAreaRaw=Ya,e.geoAzimuthalEquidistant=ki,e.geoAzimuthalEquidistantRaw=Fl,e.geoBounds=St,e.geoCentroid=Nn,e.geoCircle=fa,e.geoClipAntimeridian=lt,e.geoClipCircle=nr,e.geoClipExtent=Vr,e.geoClipRectangle=Mr,e.geoConicConformal=dh,e.geoConicConformalRaw=fd,e.geoConicEqualArea=vi,e.geoConicEqualAreaRaw=Ra,e.geoConicEquidistant=cd,e.geoConicEquidistantRaw=hu,e.geoContains=_s,e.geoDistance=vo,e.geoEqualEarth=Ac,e.geoEqualEarthRaw=Gs,e.geoEquirectangular=Vs,e.geoEquirectangularRaw=cu,e.geoGnomonic=hd,e.geoGnomonicRaw=ph,e.geoGraticule=Uu,e.geoGraticule10=Ni,e.geoIdentity=vd,e.geoInterpolate=ju,e.geoLength=La,e.geoMercator=rv,e.geoMercatorRaw=Es,e.geoNaturalEarth1=ef,e.geoNaturalEarth1Raw=Ef,e.geoOrthographic=Ys,e.geoOrthographicRaw=ba,e.geoPath=xc,e.geoProjection=Jt,e.geoProjectionMutator=Xr,e.geoRotation=ia,e.geoStereographic=gh,e.geoStereographicRaw=tf,e.geoStream=N,e.geoTransform=ld,e.geoTransverseMercator=wa,e.geoTransverseMercatorRaw=Mc,Object.defineProperty(e,"__esModule",{value:!0})})});var Hye=$((kk,Bye)=>{(function(e,t){typeof kk=="object"&&typeof Bye<"u"?t(kk,UI(),tw()):typeof define=="function"&&define.amd?define(["exports","d3-geo","d3-array"],t):t(e.d3=e.d3||{},e.d3,e.d3)})(kk,function(e,t,r){"use strict";var n=Math.abs,i=Math.atan,a=Math.atan2,o=Math.cos,s=Math.exp,l=Math.floor,u=Math.log,f=Math.max,c=Math.min,h=Math.pow,v=Math.round,b=Math.sign||function(Q){return Q>0?1:Q<0?-1:0},y=Math.sin,x=Math.tan,m=1e-6,_=1e-12,g=Math.PI,A=g/2,w=g/4,k=Math.SQRT1_2,p=R(2),d=R(g),M=g*2,T=180/g,S=g/180;function E(Q){return Q?Q/Math.sin(Q):1}function L(Q){return Q>1?A:Q<-1?-A:Math.asin(Q)}function D(Q){return Q>1?0:Q<-1?g:Math.acos(Q)}function R(Q){return Q>0?Math.sqrt(Q):0}function q(Q){return Q=s(2*Q),(Q-1)/(Q+1)}function C(Q){return(s(Q)-s(-Q))/2}function F(Q){return(s(Q)+s(-Q))/2}function N(Q){return u(Q+R(Q*Q+1))}function U(Q){return u(Q+R(Q*Q-1))}function V(Q){var le=x(Q/2),me=2*u(o(Q/2))/(le*le);function xe(Se,ke){var Re=o(Se),$e=o(ke),it=y(ke),Ke=$e*Re,at=-((1-Ke?u((1+Ke)/2)/(1-Ke):-.5)+me/(1+Ke));return[at*$e*y(Se),at*it]}return xe.invert=function(Se,ke){var Re=R(Se*Se+ke*ke),$e=-Q/2,it=50,Ke;if(!Re)return[0,0];do{var at=$e/2,gt=o(at),wt=y(at),Rt=wt/gt,Yt=-u(n(gt));$e-=Ke=(2/Rt*Yt-me*Rt-Re)/(-Yt/(wt*wt)+1-me/(2*gt*gt))*(gt<0?.7:1)}while(n(Ke)>m&&--it>0);var Qt=y($e);return[a(Se*Qt,Re*o($e)),L(ke*Qt/Re)]},xe}function Y(){var Q=A,le=t.geoProjectionMutator(V),me=le(Q);return me.radius=function(xe){return arguments.length?le(Q=xe*S):Q*T},me.scale(179.976).clipAngle(147)}function K(Q,le){var me=o(le),xe=E(D(me*o(Q/=2)));return[2*me*y(Q)*xe,y(le)*xe]}K.invert=function(Q,le){if(!(Q*Q+4*le*le>g*g+m)){var me=Q,xe=le,Se=25;do{var ke=y(me),Re=y(me/2),$e=o(me/2),it=y(xe),Ke=o(xe),at=y(2*xe),gt=it*it,wt=Ke*Ke,Rt=Re*Re,Yt=1-wt*$e*$e,Qt=Yt?D(Ke*$e)*R(hr=1/Yt):hr=0,hr,qr=2*Qt*Ke*Re-Q,zr=Qt*it-le,rn=hr*(wt*Rt+Qt*Ke*$e*gt),an=hr*(.5*ke*at-Qt*2*it*Re),nn=hr*.25*(at*Re-Qt*it*wt*ke),xi=hr*(gt*$e+Qt*Rt*Ke),Pi=an*nn-xi*rn;if(!Pi)break;var Ln=(zr*an-qr*xi)/Pi,ca=(qr*nn-zr*rn)/Pi;me-=Ln,xe-=ca}while((n(Ln)>m||n(ca)>m)&&--Se>0);return[me,xe]}};function B(){return t.geoProjection(K).scale(152.63)}function z(Q){var le=y(Q),me=o(Q),xe=Q>=0?1:-1,Se=x(xe*Q),ke=(1+le-me)/2;function Re($e,it){var Ke=o(it),at=o($e/=2);return[(1+Ke)*y($e),(xe*it>-a(at,Se)-.001?0:-xe*10)+ke+y(it)*me-(1+Ke)*le*at]}return Re.invert=function($e,it){var Ke=0,at=0,gt=50;do{var wt=o(Ke),Rt=y(Ke),Yt=o(at),Qt=y(at),hr=1+Yt,qr=hr*Rt-$e,zr=ke+Qt*me-hr*le*wt-it,rn=hr*wt/2,an=-Rt*Qt,nn=le*hr*Rt/2,xi=me*Yt+le*wt*Qt,Pi=an*nn-xi*rn,Ln=(zr*an-qr*xi)/Pi/2,ca=(qr*nn-zr*rn)/Pi;n(ca)>2&&(ca/=2),Ke-=Ln,at-=ca}while((n(Ln)>m||n(ca)>m)&&--gt>0);return xe*at>-a(o(Ke),Se)-.001?[Ke*2,at]:null},Re}function j(){var Q=20*S,le=Q>=0?1:-1,me=x(le*Q),xe=t.geoProjectionMutator(z),Se=xe(Q),ke=Se.stream;return Se.parallel=function(Re){return arguments.length?(me=x((le=(Q=Re*S)>=0?1:-1)*Q),xe(Q)):Q*T},Se.stream=function(Re){var $e=Se.rotate(),it=ke(Re),Ke=(Se.rotate([0,0]),ke(Re)),at=Se.precision();return Se.rotate($e),it.sphere=function(){Ke.polygonStart(),Ke.lineStart();for(var gt=le*-180;le*gt<180;gt+=le*90)Ke.point(gt,le*90);if(Q)for(;le*(gt-=3*le*at)>=-180;)Ke.point(gt,le*-a(o(gt*S/2),me)*T);Ke.lineEnd(),Ke.polygonEnd()},it},Se.scale(218.695).center([0,28.0974])}function ae(Q,le){var me=x(le/2),xe=R(1-me*me),Se=1+xe*o(Q/=2),ke=y(Q)*xe/Se,Re=me/Se,$e=ke*ke,it=Re*Re;return[4/3*ke*(3+$e-3*it),4/3*Re*(3+3*$e-it)]}ae.invert=function(Q,le){if(Q*=3/8,le*=3/8,!Q&&n(le)>1)return null;var me=Q*Q,xe=le*le,Se=1+me+xe,ke=R((Se-R(Se*Se-4*le*le))/2),Re=L(ke)/3,$e=ke?U(n(le/ke))/3:N(n(Q))/3,it=o(Re),Ke=F($e),at=Ke*Ke-it*it;return[b(Q)*2*a(C($e)*it,.25-at),b(le)*2*a(Ke*y(Re),.25+at)]};function ee(){return t.geoProjection(ae).scale(66.1603)}var ve=R(8),fe=u(1+p);function se(Q,le){var me=n(le);return me<w?[Q,u(x(w+le/2))]:[Q*o(me)*(2*p-1/y(me)),b(le)*(2*p*(me-w)-u(x(me/2)))]}se.invert=function(Q,le){if((ke=n(le))<fe)return[Q,2*i(s(le))-A];var me=w,xe=25,Se,ke;do{var Re=o(me/2),$e=x(me/2);me-=Se=(ve*(me-w)-u($e)-ke)/(ve-Re*Re/(2*$e))}while(n(Se)>_&&--xe>0);return[Q/(o(me)*(ve-1/y(me))),b(le)*me]};function G(){return t.geoProjection(se).scale(112.314)}function Z(Q){var le=2*g/Q;function me(xe,Se){var ke=t.geoAzimuthalEquidistantRaw(xe,Se);if(n(xe)>A){var Re=a(ke[1],ke[0]),$e=R(ke[0]*ke[0]+ke[1]*ke[1]),it=le*v((Re-A)/le)+A,Ke=a(y(Re-=it),2-o(Re));Re=it+L(g/$e*y(Ke))-Ke,ke[0]=$e*o(Re),ke[1]=$e*y(Re)}return ke}return me.invert=function(xe,Se){var ke=R(xe*xe+Se*Se);if(ke>A){var Re=a(Se,xe),$e=le*v((Re-A)/le)+A,it=Re>$e?-1:1,Ke=ke*o($e-Re),at=1/x(it*D((Ke-g)/R(g*(g-2*Ke)+ke*ke)));Re=$e+2*i((at+it*R(at*at-3))/3),xe=ke*o(Re),Se=ke*y(Re)}return t.geoAzimuthalEquidistantRaw.invert(xe,Se)},me}function X(){var Q=5,le=t.geoProjectionMutator(Z),me=le(Q),xe=me.stream,Se=.01,ke=-o(Se*S),Re=y(Se*S);return me.lobes=function($e){return arguments.length?le(Q=+$e):Q},me.stream=function($e){var it=me.rotate(),Ke=xe($e),at=(me.rotate([0,0]),xe($e));return me.rotate(it),Ke.sphere=function(){at.polygonStart(),at.lineStart();for(var gt=0,wt=360/Q,Rt=2*g/Q,Yt=90-180/Q,Qt=A;gt<Q;++gt,Yt-=wt,Qt-=Rt)at.point(a(Re*o(Qt),ke)*T,L(Re*y(Qt))*T),Yt<-90?(at.point(-90,-180-Yt-Se),at.point(-90,-180-Yt+Se)):(at.point(90,Yt+Se),at.point(90,Yt-Se));at.lineEnd(),at.polygonEnd()},Ke},me.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function ge(Q,le){if(arguments.length<2&&(le=Q),le===1)return t.geoAzimuthalEqualAreaRaw;if(le===1/0)return qe;function me(xe,Se){var ke=t.geoAzimuthalEqualAreaRaw(xe/le,Se);return ke[0]*=Q,ke}return me.invert=function(xe,Se){var ke=t.geoAzimuthalEqualAreaRaw.invert(xe/Q,Se);return ke[0]*=le,ke},me}function qe(Q,le){return[Q*o(le)/o(le/=2),2*y(le)]}qe.invert=function(Q,le){var me=2*L(le/2);return[Q*o(me/2)/o(me),me]};function Pe(){var Q=2,le=t.geoProjectionMutator(ge),me=le(Q);return me.coefficient=function(xe){return arguments.length?le(Q=+xe):Q},me.scale(169.529)}function Oe(Q,le,me){var xe=100,Se,ke,Re;me=me===void 0?0:+me,le=+le;do ke=Q(me),Re=Q(me+m),ke===Re&&(Re=ke+m),me-=Se=-1*m*(ke-le)/(ke-Re);while(xe-- >0&&n(Se)>m);return xe<0?NaN:me}function de(Q,le,me){return le===void 0&&(le=40),me===void 0&&(me=_),function(xe,Se,ke,Re){var $e,it,Ke;ke=ke===void 0?0:+ke,Re=Re===void 0?0:+Re;for(var at=0;at<le;at++){var gt=Q(ke,Re),wt=gt[0]-xe,Rt=gt[1]-Se;if(n(wt)<me&&n(Rt)<me)break;var Yt=wt*wt+Rt*Rt;if(Yt>$e){ke-=it/=2,Re-=Ke/=2;continue}$e=Yt;var Qt=(ke>0?-1:1)*me,hr=(Re>0?-1:1)*me,qr=Q(ke+Qt,Re),zr=Q(ke,Re+hr),rn=(qr[0]-gt[0])/Qt,an=(qr[1]-gt[1])/Qt,nn=(zr[0]-gt[0])/hr,xi=(zr[1]-gt[1])/hr,Pi=xi*rn-an*nn,Ln=(n(Pi)<.5?.5:1)/Pi;if(it=(Rt*nn-wt*xi)*Ln,Ke=(wt*an-Rt*rn)*Ln,ke+=it,Re+=Ke,n(it)<me&&n(Ke)<me)break}return[ke,Re]}}function _e(){var Q=ge(1.68,2),le=1.4,me=12;function xe(Se,ke){if(Se+ke<-le){var Re=(Se-ke+1.6)*(Se+ke+le)/8;Se+=Re,ke-=.8*Re*y(ke+g/2)}var $e=Q(Se,ke),it=(1-o(Se*ke))/me;return $e[1]<0&&($e[0]*=1+it),$e[1]>0&&($e[1]*=1+it/1.5*$e[0]*$e[0]),$e}return xe.invert=de(xe),xe}function ce(){return t.geoProjection(_e()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function J(Q,le){var me=Q*y(le),xe=30,Se;do le-=Se=(le+y(le)-me)/(1+o(le));while(n(Se)>m&&--xe>0);return le/2}function ne(Q,le,me){function xe(Se,ke){return[Q*Se*o(ke=J(me,ke)),le*y(ke)]}return xe.invert=function(Se,ke){return ke=L(ke/le),[Se/(Q*o(ke)),L((2*ke+y(2*ke))/me)]},xe}var be=ne(p/A,p,g);function Fe(){return t.geoProjection(be).scale(169.529)}var He=2.00276,te=1.11072;function ye(Q,le){var me=J(g,le);return[He*Q/(1/o(le)+te/o(me)),(le+p*y(me))/He]}ye.invert=function(Q,le){var me=He*le,xe=le<0?-w:w,Se=25,ke,Re;do Re=me-p*y(xe),xe-=ke=(y(2*xe)+2*xe-g*y(Re))/(2*o(2*xe)+2+g*o(Re)*p*o(xe));while(n(ke)>m&&--Se>0);return Re=me-p*y(xe),[Q*(1/o(Re)+te/o(xe))/He,Re]};function Te(){return t.geoProjection(ye).scale(160.857)}function Ce(Q){var le=0,me=t.geoProjectionMutator(Q),xe=me(le);return xe.parallel=function(Se){return arguments.length?me(le=Se*S):le*T},xe}function De(Q,le){return[Q*o(le),le]}De.invert=function(Q,le){return[Q/o(le),le]};function oe(){return t.geoProjection(De).scale(152.63)}function pe(Q){if(!Q)return De;var le=1/x(Q);function me(xe,Se){var ke=le+Q-Se,Re=ke&&xe*o(Se)/ke;return[ke*y(Re),le-ke*o(Re)]}return me.invert=function(xe,Se){var ke=R(xe*xe+(Se=le-Se)*Se),Re=le+Q-ke;return[ke/o(Re)*a(xe,Se),Re]},me}function Le(){return Ce(pe).scale(123.082).center([0,26.1441]).parallel(45)}function Ue(Q){function le(me,xe){var Se=A-xe,ke=Se&&me*Q*y(Se)/Se;return[Se*y(ke)/Q,A-Se*o(ke)]}return le.invert=function(me,xe){var Se=me*Q,ke=A-xe,Re=R(Se*Se+ke*ke),$e=a(Se,ke);return[(Re?Re/y(Re):1)*$e/Q,A-Re]},le}function et(){var Q=.5,le=t.geoProjectionMutator(Ue),me=le(Q);return me.fraction=function(xe){return arguments.length?le(Q=+xe):Q},me.scale(158.837)}var Qe=ne(1,4/g,g);function dt(){return t.geoProjection(Qe).scale(152.63)}function ht(Q,le,me,xe,Se,ke){var Re=o(ke),$e;if(n(Q)>1||n(ke)>1)$e=D(me*Se+le*xe*Re);else{var it=y(Q/2),Ke=y(ke/2);$e=2*L(R(it*it+le*xe*Ke*Ke))}return n($e)>m?[$e,a(xe*y(ke),le*Se-me*xe*Re)]:[0,0]}function _t(Q,le,me){return D((Q*Q+le*le-me*me)/(2*Q*le))}function kt(Q){return Q-2*g*l((Q+g)/(2*g))}function St(Q,le,me){for(var xe=[[Q[0],Q[1],y(Q[1]),o(Q[1])],[le[0],le[1],y(le[1]),o(le[1])],[me[0],me[1],y(me[1]),o(me[1])]],Se=xe[2],ke,Re=0;Re<3;++Re,Se=ke)ke=xe[Re],Se.v=ht(ke[1]-Se[1],Se[3],Se[2],ke[3],ke[2],ke[0]-Se[0]),Se.point=[0,0];var $e=_t(xe[0].v[0],xe[2].v[0],xe[1].v[0]),it=_t(xe[0].v[0],xe[1].v[0],xe[2].v[0]),Ke=g-$e;xe[2].point[1]=0,xe[0].point[0]=-(xe[1].point[0]=xe[0].v[0]/2);var at=[xe[2].point[0]=xe[0].point[0]+xe[2].v[0]*o($e),2*(xe[0].point[1]=xe[1].point[1]=xe[2].v[0]*y($e))];function gt(wt,Rt){var Yt=y(Rt),Qt=o(Rt),hr=new Array(3),qr;for(qr=0;qr<3;++qr){var zr=xe[qr];if(hr[qr]=ht(Rt-zr[1],zr[3],zr[2],Qt,Yt,wt-zr[0]),!hr[qr][0])return zr.point;hr[qr][1]=kt(hr[qr][1]-zr.v[1])}var rn=at.slice();for(qr=0;qr<3;++qr){var an=qr==2?0:qr+1,nn=_t(xe[qr].v[0],hr[qr][0],hr[an][0]);hr[qr][1]<0&&(nn=-nn),qr?qr==1?(nn=it-nn,rn[0]-=hr[qr][0]*o(nn),rn[1]-=hr[qr][0]*y(nn)):(nn=Ke-nn,rn[0]+=hr[qr][0]*o(nn),rn[1]+=hr[qr][0]*y(nn)):(rn[0]+=hr[qr][0]*o(nn),rn[1]-=hr[qr][0]*y(nn))}return rn[0]/=3,rn[1]/=3,rn}return gt}function Ot(Q){return Q[0]*=S,Q[1]*=S,Q}function je(){return Ve([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ve(Q,le,me){var xe=t.geoCentroid({type:"MultiPoint",coordinates:[Q,le,me]}),Se=[-xe[0],-xe[1]],ke=t.geoRotation(Se),Re=St(Ot(ke(Q)),Ot(ke(le)),Ot(ke(me)));Re.invert=de(Re);var $e=t.geoProjection(Re).rotate(Se),it=$e.center;return delete $e.rotate,$e.center=function(Ke){return arguments.length?it(ke(Ke)):ke.invert(it())},$e.clipAngle(90)}function Je(Q,le){var me=R(1-y(le));return[2/d*Q*me,d*(1-me)]}Je.invert=function(Q,le){var me=(me=le/d-1)*me;return[me>0?Q*R(g/me)/2:0,L(1-me)]};function nt(){return t.geoProjection(Je).scale(95.6464).center([0,30])}function Be(Q){var le=x(Q);function me(xe,Se){return[xe,(xe?xe/y(xe):1)*(y(Se)*o(xe)-le*o(Se))]}return me.invert=le?function(xe,Se){xe&&(Se*=y(xe)/xe);var ke=o(xe);return[xe,2*a(R(ke*ke+le*le-Se*Se)-ke,le-Se)]}:function(xe,Se){return[xe,L(xe?Se*x(xe)/xe:Se)]},me}function tt(){return Ce(Be).scale(249.828).clipAngle(90)}var ot=R(3);function yt(Q,le){return[ot*Q*(2*o(2*le/3)-1)/d,ot*d*y(le/3)]}yt.invert=function(Q,le){var me=3*L(le/(ot*d));return[d*Q/(ot*(2*o(2*me/3)-1)),me]};function Ht(){return t.geoProjection(yt).scale(156.19)}function Lt(Q){var le=o(Q);function me(xe,Se){return[xe*le,y(Se)/le]}return me.invert=function(xe,Se){return[xe/le,L(Se*le)]},me}function tr(){return Ce(Lt).parallel(38.58).scale(195.044)}function rr(Q){var le=o(Q);function me(xe,Se){return[xe*le,(1+le)*x(Se/2)]}return me.invert=function(xe,Se){return[xe/le,i(Se/(1+le))*2]},me}function Ct(){return Ce(rr).scale(124.75)}function Zt(Q,le){var me=R(8/(3*g));return[me*Q*(1-n(le)/g),me*le]}Zt.invert=function(Q,le){var me=R(8/(3*g)),xe=le/me;return[Q/(me*(1-n(xe)/g)),xe]};function Sr(){return t.geoProjection(Zt).scale(165.664)}function gr(Q,le){var me=R(4-3*y(n(le)));return[2/R(6*g)*Q*me,b(le)*R(2*g/3)*(2-me)]}gr.invert=function(Q,le){var me=2-n(le)/R(2*g/3);return[Q*R(6*g)/(2*me),b(le)*L((4-me*me)/3)]};function Lr(){return t.geoProjection(gr).scale(165.664)}function en(Q,le){var me=R(g*(4+g));return[2/me*Q*(1+R(1-4*le*le/(g*g))),4/me*le]}en.invert=function(Q,le){var me=R(g*(4+g))/2;return[Q*me/(1+R(1-le*le*(4+g)/(4*g))),le*me/2]};function Or(){return t.geoProjection(en).scale(180.739)}function vn(Q,le){var me=(2+A)*y(le);le/=2;for(var xe=0,Se=1/0;xe<10&&n(Se)>m;xe++){var ke=o(le);le-=Se=(le+y(le)*(ke+2)-me)/(2*ke*(1+ke))}return[2/R(g*(4+g))*Q*(1+o(le)),2*R(g/(4+g))*y(le)]}vn.invert=function(Q,le){var me=le*R((4+g)/g)/2,xe=L(me),Se=o(xe);return[Q/(2/R(g*(4+g))*(1+Se)),L((xe+me*(Se+2))/(2+A))]};function qn(){return t.geoProjection(vn).scale(180.739)}function Kr(Q,le){return[Q*(1+o(le))/R(2+g),2*le/R(2+g)]}Kr.invert=function(Q,le){var me=R(2+g),xe=le*me/2;return[me*Q/(1+o(xe)),xe]};function Qr(){return t.geoProjection(Kr).scale(173.044)}function kn(Q,le){for(var me=(1+A)*y(le),xe=0,Se=1/0;xe<10&&n(Se)>m;xe++)le-=Se=(le+y(le)-me)/(1+o(le));return me=R(2+g),[Q*(1+o(le))/me,2*le/me]}kn.invert=function(Q,le){var me=1+A,xe=R(me/2);return[Q*2*xe/(1+o(le*=xe)),L((le+y(le))/me)]};function Vn(){return t.geoProjection(kn).scale(173.044)}var Tn=3+2*p;function Nn(Q,le){var me=y(Q/=2),xe=o(Q),Se=R(o(le)),ke=o(le/=2),Re=y(le)/(ke+p*xe*Se),$e=R(2/(1+Re*Re)),it=R((p*ke+(xe+me)*Se)/(p*ke+(xe-me)*Se));return[Tn*($e*(it-1/it)-2*u(it)),Tn*($e*Re*(it+1/it)-2*i(Re))]}Nn.invert=function(Q,le){if(!(ke=ae.invert(Q/1.2,le*1.065)))return null;var me=ke[0],xe=ke[1],Se=20,ke;Q/=Tn,le/=Tn;do{var Re=me/2,$e=xe/2,it=y(Re),Ke=o(Re),at=y($e),gt=o($e),wt=o(xe),Rt=R(wt),Yt=at/(gt+p*Ke*Rt),Qt=Yt*Yt,hr=R(2/(1+Qt)),qr=p*gt+(Ke+it)*Rt,zr=p*gt+(Ke-it)*Rt,rn=qr/zr,an=R(rn),nn=an-1/an,xi=an+1/an,Pi=hr*nn-2*u(an)-Q,Ln=hr*Yt*xi-2*i(Yt)-le,ca=at&&k*Rt*it*Qt/at,Si=(p*Ke*gt+Rt)/(2*(gt+p*Ke*Rt)*(gt+p*Ke*Rt)*Rt),hs=-.5*Yt*hr*hr*hr,af=hs*ca,kc=hs*Si,Xo=(Xo=2*gt+p*Rt*(Ke-it))*Xo*an,mo=(p*Ke*gt*Rt+wt)/Xo,zl=-(p*it*at)/(Rt*Xo),Xs=nn*af-2*mo/an+hr*(mo+mo/rn),gu=nn*kc-2*zl/an+hr*(zl+zl/rn),of=Yt*xi*af-2*ca/(1+Qt)+hr*xi*ca+hr*Yt*(mo-mo/rn),Lf=Yt*xi*kc-2*Si/(1+Qt)+hr*xi*Si+hr*Yt*(zl-zl/rn),Cs=gu*of-Lf*Xs;if(!Cs)break;var Sc=(Ln*gu-Pi*Lf)/Cs,av=(Pi*of-Ln*Xs)/Cs;me-=Sc,xe=f(-A,c(A,xe-av))}while((n(Sc)>m||n(av)>m)&&--Se>0);return n(n(xe)-A)<m?[0,xe]:Se&&[me,xe]};function ci(){return t.geoProjection(Nn).scale(62.5271)}var On=o(35*S);function Sn(Q,le){var me=x(le/2);return[Q*On*R(1-me*me),(1+On)*me]}Sn.invert=function(Q,le){var me=le/(1+On);return[Q&&Q/(On*R(1-me*me)),2*i(me)]};function _i(){return t.geoProjection(Sn).scale(137.152)}function ua(Q,le){var me=le/2,xe=o(me);return[2*Q/d*o(le)*xe*xe,d*x(me)]}ua.invert=function(Q,le){var me=i(le/d),xe=o(me),Se=2*me;return[Q*d/2/(o(Se)*xe*xe),Se]};function Yi(){return t.geoProjection(ua).scale(135.264)}function xn(Q){var le=1-Q,me=ke(g,0)[0]-ke(-g,0)[0],xe=ke(0,A)[1]-ke(0,-A)[1],Se=R(2*xe/me);function ke(it,Ke){var at=o(Ke),gt=y(Ke);return[at/(le+Q*at)*it,le*Ke+Q*gt]}function Re(it,Ke){var at=ke(it,Ke);return[at[0]*Se,at[1]/Se]}function $e(it){return Re(0,it)[1]}return Re.invert=function(it,Ke){var at=Oe($e,Ke),gt=it/Se*(Q+le/o(at));return[gt,at]},Re}function ia(){var Q=.5,le=t.geoProjectionMutator(xn),me=le(Q);return me.alpha=function(xe){return arguments.length?le(Q=+xe):Q},me.scale(168.725)}function ti(Q){return[Q[0]/2,L(x(Q[1]/2*S))*T]}function co(Q){return[Q[0]*2,2*i(y(Q[1]*S))*T]}function fa(Q){Q==null&&(Q=t.geoOrthographic);var le=Q(),me=t.geoEquirectangular().scale(T).precision(0).clipAngle(null).translate([0,0]);function xe(ke){return le(ti(ke))}le.invert&&(xe.invert=function(ke){return co(le.invert(ke))}),xe.stream=function(ke){var Re=le.stream(ke),$e=me.stream({point:function(it,Ke){Re.point(it/2,L(x(-Ke/2*S))*T)},lineStart:function(){Re.lineStart()},lineEnd:function(){Re.lineEnd()},polygonStart:function(){Re.polygonStart()},polygonEnd:function(){Re.polygonEnd()}});return $e.sphere=Re.sphere,$e};function Se(ke){xe[ke]=function(){return arguments.length?(le[ke].apply(le,arguments),xe):le[ke]()}}return xe.rotate=function(ke){return arguments.length?(me.rotate(ke),xe):me.rotate()},xe.center=function(ke){return arguments.length?(le.center(ti(ke)),xe):co(le.center())},Se("angle"),Se("clipAngle"),Se("clipExtent"),Se("fitExtent"),Se("fitHeight"),Se("fitSize"),Se("fitWidth"),Se("scale"),Se("translate"),Se("precision"),xe.scale(249.5)}function Ea(Q,le){var me=2*g/le,xe=Q*Q;function Se(ke,Re){var $e=t.geoAzimuthalEquidistantRaw(ke,Re),it=$e[0],Ke=$e[1],at=it*it+Ke*Ke;if(at>xe){var gt=R(at),wt=a(Ke,it),Rt=me*v(wt/me),Yt=wt-Rt,Qt=Q*o(Yt),hr=(Q*y(Yt)-Yt*y(Qt))/(A-Qt),qr=Qn(Yt,hr),zr=(g-Q)/Ki(qr,Qt,g);it=gt;var rn=50,an;do it-=an=(Q+Ki(qr,Qt,it)*zr-gt)/(qr(it)*zr);while(n(an)>m&&--rn>0);Ke=Yt*y(it),it<A&&(Ke-=hr*(it-A));var nn=y(Rt),xi=o(Rt);$e[0]=it*xi-Ke*nn,$e[1]=it*nn+Ke*xi}return $e}return Se.invert=function(ke,Re){var $e=ke*ke+Re*Re;if($e>xe){var it=R($e),Ke=a(Re,ke),at=me*v(Ke/me),gt=Ke-at;ke=it*o(gt),Re=it*y(gt);for(var wt=ke-A,Rt=y(ke),Yt=Re/Rt,Qt=ke<A?1/0:0,hr=10;;){var qr=Q*y(Yt),zr=Q*o(Yt),rn=y(zr),an=A-zr,nn=(qr-Yt*rn)/an,xi=Qn(Yt,nn);if(n(Qt)<_||!--hr)break;Yt-=Qt=(Yt*Rt-nn*wt-Re)/(Rt-wt*2*(an*(zr+Yt*qr*o(zr)-rn)-qr*(qr-Yt*rn))/(an*an))}it=Q+Ki(xi,zr,ke)*(g-Q)/Ki(xi,zr,g),Ke=at+Yt,ke=it*o(Ke),Re=it*y(Ke)}return t.geoAzimuthalEquidistantRaw.invert(ke,Re)},Se}function Qn(Q,le){return function(me){var xe=Q*o(me);return me<A&&(xe-=le),R(1+xe*xe)}}function Ki(Q,le,me){for(var xe=50,Se=(me-le)/xe,ke=Q(le)+Q(me),Re=1,$e=le;Re<xe;++Re)ke+=2*Q($e+=Se);return ke*.5*Se}function ho(){var Q=6,le=30*S,me=o(le),xe=y(le),Se=t.geoProjectionMutator(Ea),ke=Se(le,Q),Re=ke.stream,$e=.01,it=-o($e*S),Ke=y($e*S);return ke.radius=function(at){return arguments.length?(me=o(le=at*S),xe=y(le),Se(le,Q)):le*T},ke.lobes=function(at){return arguments.length?Se(le,Q=+at):Q},ke.stream=function(at){var gt=ke.rotate(),wt=Re(at),Rt=(ke.rotate([0,0]),Re(at));return ke.rotate(gt),wt.sphere=function(){Rt.polygonStart(),Rt.lineStart();for(var Yt=0,Qt=2*g/Q,hr=0;Yt<Q;++Yt,hr-=Qt)Rt.point(a(Ke*o(hr),it)*T,L(Ke*y(hr))*T),Rt.point(a(xe*o(hr-Qt/2),me)*T,L(xe*y(hr-Qt/2))*T);Rt.lineEnd(),Rt.polygonEnd()},wt},ke.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function ja(Q,le,me,xe,Se,ke,Re,$e){arguments.length<8&&($e=0);function it(Ke,at){if(!at)return[Q*Ke/g,0];var gt=at*at,wt=Q+gt*(le+gt*(me+gt*xe)),Rt=at*(Se-1+gt*(ke-$e+gt*Re)),Yt=(wt*wt+Rt*Rt)/(2*Rt),Qt=Ke*L(wt/Yt)/g;return[Yt*y(Qt),at*(1+gt*$e)+Yt*(1-o(Qt))]}return it.invert=function(Ke,at){var gt=g*Ke/Q,wt=at,Rt,Yt,Qt=50;do{var hr=wt*wt,qr=Q+hr*(le+hr*(me+hr*xe)),zr=wt*(Se-1+hr*(ke-$e+hr*Re)),rn=qr*qr+zr*zr,an=2*zr,nn=rn/an,xi=nn*nn,Pi=L(qr/nn)/g,Ln=gt*Pi,ca=qr*qr,Si=(2*le+hr*(4*me+hr*6*xe))*wt,hs=Se+hr*(3*ke+hr*5*Re),af=2*(qr*Si+zr*(hs-1)),kc=2*(hs-1),Xo=(af*an-rn*kc)/(an*an),mo=o(Ln),zl=y(Ln),Xs=nn*mo,gu=nn*zl,of=gt/g*(1/R(1-ca/xi))*(Si*nn-qr*Xo)/xi,Lf=gu-Ke,Cs=wt*(1+hr*$e)+nn-Xs-at,Sc=Xo*zl+Xs*of,av=Xs*Pi,P=1+Xo-(Xo*mo-gu*of),H=gu*Pi,W=Sc*H-P*av;if(!W)break;gt-=Rt=(Cs*Sc-Lf*P)/W,wt-=Yt=(Lf*H-Cs*av)/W}while((n(Rt)>m||n(Yt)>m)&&--Qt>0);return[gt,wt]},it}var Ji=ja(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function au(){return t.geoProjection(Ji).scale(149.995)}var Rl=ja(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function ou(){return t.geoProjection(Rl).scale(153.93)}var Ie=ja(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function st(){return t.geoProjection(Ie).scale(130.945)}function lt(Q,le){var me=Q*Q,xe=le*le;return[Q*(1-.162388*xe)*(.87-952426e-9*me*me),le*(1+xe/12)]}lt.invert=function(Q,le){var me=Q,xe=le,Se=50,ke;do{var Re=xe*xe;xe-=ke=(xe*(1+Re/12)-le)/(1+Re/4)}while(n(ke)>m&&--Se>0);Se=50,Q/=1-.162388*Re;do{var $e=($e=me*me)*$e;me-=ke=(me*(.87-952426e-9*$e)-Q)/(.87-.00476213*$e)}while(n(ke)>m&&--Se>0);return[me,xe]};function xt(){return t.geoProjection(lt).scale(131.747)}var Vt=ja(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function At(){return t.geoProjection(Vt).scale(131.087)}function nr(Q){var le=Q(A,0)[0]-Q(-A,0)[0];function me(xe,Se){var ke=xe>0?-.5:.5,Re=Q(xe+ke*g,Se);return Re[0]-=ke*le,Re}return Q.invert&&(me.invert=function(xe,Se){var ke=xe>0?-.5:.5,Re=Q.invert(xe+ke*le,Se),$e=Re[0]-ke*g;return $e<-g?$e+=2*g:$e>g&&($e-=2*g),Re[0]=$e,Re}),me}function Pt(Q,le){var me=b(Q),xe=b(le),Se=o(le),ke=o(Q)*Se,Re=y(Q)*Se,$e=y(xe*le);Q=n(a(Re,$e)),le=L(ke),n(Q-A)>m&&(Q%=A);var it=ir(Q>g/4?A-Q:Q,le);return Q>g/4&&($e=it[0],it[0]=-it[1],it[1]=-$e),it[0]*=me,it[1]*=-xe,it}Pt.invert=function(Q,le){n(Q)>1&&(Q=b(Q)*2-Q),n(le)>1&&(le=b(le)*2-le);var me=b(Q),xe=b(le),Se=-me*Q,ke=-xe*le,Re=ke/Se<1,$e=wr(Re?ke:Se,Re?Se:ke),it=$e[0],Ke=$e[1],at=o(Ke);return Re&&(it=-A-it),[me*(a(y(it)*at,-y(Ke))+g),xe*L(o(it)*at)]};function ir(Q,le){if(le===A)return[0,0];var me=y(le),xe=me*me,Se=xe*xe,ke=1+Se,Re=1+3*Se,$e=1-Se,it=L(1/R(ke)),Ke=$e+xe*ke*it,at=(1-me)/Ke,gt=R(at),wt=at*ke,Rt=R(wt),Yt=gt*$e,Qt,hr;if(Q===0)return[0,-(Yt+xe*Rt)];var qr=o(le),zr=1/qr,rn=2*me*qr,an=(-3*xe+it*Re)*rn,nn=(-Ke*qr-(1-me)*an)/(Ke*Ke),xi=.5*nn/gt,Pi=$e*xi-2*xe*gt*rn,Ln=xe*ke*nn+at*Re*rn,ca=-zr*rn,Si=-zr*Ln,hs=-2*zr*Pi,af=4*Q/g,kc;if(Q>.222*g||le<g/4&&Q>.175*g){if(Qt=(Yt+xe*R(wt*(1+Se)-Yt*Yt))/(1+Se),Q>g/4)return[Qt,Qt];var Xo=Qt,mo=.5*Qt;Qt=.5*(mo+Xo),hr=50;do{var zl=R(wt-Qt*Qt),Xs=Qt*(hs+ca*zl)+Si*L(Qt/Rt)-af;if(!Xs)break;Xs<0?mo=Qt:Xo=Qt,Qt=.5*(mo+Xo)}while(n(Xo-mo)>m&&--hr>0)}else{Qt=m,hr=25;do{var gu=Qt*Qt,of=R(wt-gu),Lf=hs+ca*of,Cs=Qt*Lf+Si*L(Qt/Rt)-af,Sc=Lf+(Si-ca*gu)/of;Qt-=kc=of?Cs/Sc:0}while(n(kc)>m&&--hr>0)}return[Qt,-Yt-xe*R(wt-Qt*Qt)]}function wr(Q,le){for(var me=0,xe=1,Se=.5,ke=50;;){var Re=Se*Se,$e=R(Se),it=L(1/R(1+Re)),Ke=1-Re+Se*(1+Re)*it,at=(1-$e)/Ke,gt=R(at),wt=at*(1+Re),Rt=gt*(1-Re),Yt=wt-Q*Q,Qt=R(Yt),hr=le+Rt+Se*Qt;if(n(xe-me)<_||--ke===0||hr===0)break;hr>0?me=Se:xe=Se,Se=.5*(me+xe)}if(!ke)return null;var qr=L($e),zr=o(qr),rn=1/zr,an=2*$e*zr,nn=(-3*Se+it*(1+3*Re))*an,xi=(-Ke*zr-(1-$e)*nn)/(Ke*Ke),Pi=.5*xi/gt,Ln=(1-Re)*Pi-2*Se*gt*an,ca=-2*rn*Ln,Si=-rn*an,hs=-rn*(Se*(1+Re)*xi+at*(1+3*Re)*an);return[g/4*(Q*(ca+Si*Qt)+hs*L(Q/R(wt))),qr]}function Mr(){return t.geoProjection(nr(Pt)).scale(239.75)}function Vr(Q,le,me){var xe,Se,ke;return Q?(xe=sn(Q,me),le?(Se=sn(le,1-me),ke=Se[1]*Se[1]+me*xe[0]*xe[0]*Se[0]*Se[0],[[xe[0]*Se[2]/ke,xe[1]*xe[2]*Se[0]*Se[1]/ke],[xe[1]*Se[1]/ke,-xe[0]*xe[2]*Se[0]*Se[2]/ke],[xe[2]*Se[1]*Se[2]/ke,-me*xe[0]*xe[1]*Se[0]/ke]]):[[xe[0],0],[xe[1],0],[xe[2],0]]):(Se=sn(le,1-me),[[0,Se[0]/Se[1]],[1/Se[1],0],[Se[2]/Se[1],0]])}function sn(Q,le){var me,xe,Se,ke,Re;if(le<m)return ke=y(Q),xe=o(Q),me=le*(Q-ke*xe)/4,[ke-me*xe,xe+me*ke,1-le*ke*ke/2,Q-me];if(le>=1-m)return me=(1-le)/4,xe=F(Q),ke=q(Q),Se=1/xe,Re=xe*C(Q),[ke+me*(Re-Q)/(xe*xe),Se-me*ke*Se*(Re-Q),Se+me*ke*Se*(Re+Q),2*i(s(Q))-A+me*(Re-Q)/xe];var $e=[1,0,0,0,0,0,0,0,0],it=[R(le),0,0,0,0,0,0,0,0],Ke=0;for(xe=R(1-le),Re=1;n(it[Ke]/$e[Ke])>m&&Ke<8;)me=$e[Ke++],it[Ke]=(me-xe)/2,$e[Ke]=(me+xe)/2,xe=R(me*xe),Re*=2;Se=Re*$e[Ke]*Q;do ke=it[Ke]*y(xe=Se)/$e[Ke],Se=(L(ke)+Se)/2;while(--Ke);return[y(Se),ke=o(Se),ke/o(Se-xe),Se]}function Xn(Q,le,me){var xe=n(Q),Se=n(le),ke=C(Se);if(xe){var Re=1/y(xe),$e=1/(x(xe)*x(xe)),it=-($e+me*(ke*ke*Re*Re)-1+me),Ke=(me-1)*$e,at=(-it+R(it*it-4*Ke))/2;return[wn(i(1/R(at)),me)*b(Q),wn(i(R((at/$e-1)/me)),1-me)*b(le)]}return[0,wn(i(ke),1-me)*b(le)]}function wn(Q,le){if(!le)return Q;if(le===1)return u(x(Q/2+w));for(var me=1,xe=R(1-le),Se=R(le),ke=0;n(Se)>m;ke++){if(Q%g){var Re=i(xe*x(Q)/me);Re<0&&(Re+=g),Q+=Re+~~(Q/g)*g}else Q+=Q;Se=(me+xe)/2,xe=R(me*xe),Se=((me=Se)-xe)/2}return Q/(h(2,ke)*me)}function oi(Q,le){var me=(p-1)/(p+1),xe=R(1-me*me),Se=wn(A,xe*xe),ke=-1,Re=u(x(g/4+n(le)/2)),$e=s(ke*Re)/R(me),it=Bn($e*o(ke*Q),$e*y(ke*Q)),Ke=Xn(it[0],it[1],xe*xe);return[-Ke[1],(le>=0?1:-1)*(.5*Se-Ke[0])]}function Bn(Q,le){var me=Q*Q,xe=le+1,Se=1-me-le*le;return[.5*((Q>=0?A:-A)-a(Se,2*Q)),-.25*u(Se*Se+4*me)+.5*u(xe*xe+me)]}function Wi(Q,le){var me=le[0]*le[0]+le[1]*le[1];return[(Q[0]*le[0]+Q[1]*le[1])/me,(Q[1]*le[0]-Q[0]*le[1])/me]}oi.invert=function(Q,le){var me=(p-1)/(p+1),xe=R(1-me*me),Se=wn(A,xe*xe),ke=-1,Re=Vr(.5*Se-le,-Q,xe*xe),$e=Wi(Re[0],Re[1]),it=a($e[1],$e[0])/ke;return[it,2*i(s(.5/ke*u(me*$e[0]*$e[0]+me*$e[1]*$e[1])))-A]};function Xi(){return t.geoProjection(nr(oi)).scale(151.496)}function Qi(Q){var le=y(Q),me=o(Q),xe=ya(Q);xe.invert=ya(-Q);function Se(ke,Re){var $e=xe(ke,Re);ke=$e[0],Re=$e[1];var it=y(Re),Ke=o(Re),at=o(ke),gt=D(le*it+me*Ke*at),wt=y(gt),Rt=n(wt)>m?gt/wt:1;return[Rt*me*y(ke),(n(ke)>A?Rt:-Rt)*(le*Ke-me*it*at)]}return Se.invert=function(ke,Re){var $e=R(ke*ke+Re*Re),it=-y($e),Ke=o($e),at=$e*Ke,gt=-Re*it,wt=$e*le,Rt=R(at*at+gt*gt-wt*wt),Yt=a(at*wt+gt*Rt,gt*wt-at*Rt),Qt=($e>A?-1:1)*a(ke*it,$e*o(Yt)*Ke+Re*y(Yt)*it);return xe.invert(Qt,Yt)},Se}function ya(Q){var le=y(Q),me=o(Q);return function(xe,Se){var ke=o(Se),Re=o(xe)*ke,$e=y(xe)*ke,it=y(Se);return[a($e,Re*me-it*le),L(it*me+Re*le)]}}function La(){var Q=0,le=t.geoProjectionMutator(Qi),me=le(Q),xe=me.rotate,Se=me.stream,ke=t.geoCircle();return me.parallel=function(Re){if(!arguments.length)return Q*T;var $e=me.rotate();return le(Q=Re*S).rotate($e)},me.rotate=function(Re){return arguments.length?(xe.call(me,[Re[0],Re[1]-Q*T]),ke.center([-Re[0],-Re[1]]),me):(Re=xe.call(me),Re[1]+=Q*T,Re)},me.stream=function(Re){return Re=Se(Re),Re.sphere=function(){Re.polygonStart();var $e=.01,it=ke.radius(90-$e)().coordinates[0],Ke=it.length-1,at=-1,gt;for(Re.lineStart();++at<Ke;)Re.point((gt=it[at])[0],gt[1]);for(Re.lineEnd(),it=ke.radius(90+$e)().coordinates[0],Ke=it.length-1,Re.lineStart();--at>=0;)Re.point((gt=it[at])[0],gt[1]);Re.lineEnd(),Re.polygonEnd()},Re},me.scale(79.4187).parallel(45).clipAngle(180-.001)}var Ca=3,Bo=L(1-1/Ca)*T,vo=Lt(0);function xa(Q){var le=Bo*S,me=Je(g,le)[0]-Je(-g,le)[0],xe=vo(0,le)[1],Se=Je(0,le)[1],ke=d-Se,Re=M/Q,$e=4/M,it=xe+ke*ke*4/M;function Ke(at,gt){var wt,Rt=n(gt);if(Rt>le){var Yt=c(Q-1,f(0,l((at+g)/Re)));at+=g*(Q-1)/Q-Yt*Re,wt=Je(at,Rt),wt[0]=wt[0]*M/me-M*(Q-1)/(2*Q)+Yt*M/Q,wt[1]=xe+(wt[1]-Se)*4*ke/M,gt<0&&(wt[1]=-wt[1])}else wt=vo(at,gt);return wt[0]*=$e,wt[1]/=it,wt}return Ke.invert=function(at,gt){at/=$e,gt*=it;var wt=n(gt);if(wt>xe){var Rt=c(Q-1,f(0,l((at+g)/Re)));at=(at+g*(Q-1)/Q-Rt*Re)*me/M;var Yt=Je.invert(at,.25*(wt-xe)*M/ke+Se);return Yt[0]-=g*(Q-1)/Q-Rt*Re,gt<0&&(Yt[1]=-Yt[1]),Yt}return vo.invert(at,gt)},Ke}function Da(Q,le){return[Q,le&1?90-m:Bo]}function En(Q,le){return[Q,le&1?-90+m:-Bo]}function Gr(Q){return[Q[0]*(1-m),Q[1]]}function si(Q){var le=[].concat(r.range(-180,180+Q/2,Q).map(Da),r.range(180,-180-Q/2,-Q).map(En));return{type:"Polygon",coordinates:[Q===180?le.map(Gr):le]}}function Ho(){var Q=4,le=t.geoProjectionMutator(xa),me=le(Q),xe=me.stream;return me.lobes=function(Se){return arguments.length?le(Q=+Se):Q},me.stream=function(Se){var ke=me.rotate(),Re=xe(Se),$e=(me.rotate([0,0]),xe(Se));return me.rotate(ke),Re.sphere=function(){t.geoStream(si(180/Q),$e)},Re},me.scale(239.75)}function Bs(Q){var le=1+Q,me=y(1/le),xe=L(me),Se=2*R(g/(ke=g+4*xe*le)),ke,Re=.5*Se*(le+R(Q*(2+Q))),$e=Q*Q,it=le*le;function Ke(at,gt){var wt=1-y(gt),Rt,Yt;if(wt&&wt<2){var Qt=A-gt,hr=25,qr;do{var zr=y(Qt),rn=o(Qt),an=xe+a(zr,le-rn),nn=1+it-2*le*rn;Qt-=qr=(Qt-$e*xe-le*zr+nn*an-.5*wt*ke)/(2*le*zr*an)}while(n(qr)>_&&--hr>0);Rt=Se*R(nn),Yt=at*an/g}else Rt=Se*(Q+wt),Yt=at*xe/g;return[Rt*y(Yt),Re-Rt*o(Yt)]}return Ke.invert=function(at,gt){var wt=at*at+(gt-=Re)*gt,Rt=(1+it-wt/(Se*Se))/(2*le),Yt=D(Rt),Qt=y(Yt),hr=xe+a(Qt,le-Rt);return[L(at/R(wt))*g/hr,L(1-2*(Yt-$e*xe-le*Qt+(1+it-2*le*Rt)*hr)/ke)]},Ke}function Il(){var Q=1,le=t.geoProjectionMutator(Bs),me=le(Q);return me.ratio=function(xe){return arguments.length?le(Q=+xe):Q},me.scale(167.774).center([0,18.67])}var _s=.7109889596207567,Uo=.0528035274542;function Hs(Q,le){return le>-_s?(Q=be(Q,le),Q[1]+=Uo,Q):De(Q,le)}Hs.invert=function(Q,le){return le>-_s?be.invert(Q,le-Uo):De.invert(Q,le)};function Uu(){return t.geoProjection(Hs).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Ni(Q,le){return n(le)>_s?(Q=be(Q,le),Q[1]-=le>0?Uo:-Uo,Q):De(Q,le)}Ni.invert=function(Q,le){return n(le)>_s?be.invert(Q,le+(le>0?Uo:-Uo)):De.invert(Q,le)};function ju(){return t.geoProjection(Ni).scale(152.63)}function Qa(Q,le,me,xe){var Se=R(4*g/(2*me+(1+Q-le/2)*y(2*me)+(Q+le)/2*y(4*me)+le/2*y(6*me))),ke=R(xe*y(me)*R((1+Q*o(2*me)+le*o(4*me))/(1+Q+le))),Re=me*it(1);function $e(gt){return R(1+Q*o(2*gt)+le*o(4*gt))}function it(gt){var wt=gt*me;return(2*wt+(1+Q-le/2)*y(2*wt)+(Q+le)/2*y(4*wt)+le/2*y(6*wt))/me}function Ke(gt){return $e(gt)*y(gt)}var at=function(gt,wt){var Rt=me*Oe(it,Re*y(wt)/me,wt/g);isNaN(Rt)&&(Rt=me*b(wt));var Yt=Se*$e(Rt);return[Yt*ke*gt/g*o(Rt),Yt/ke*y(Rt)]};return at.invert=function(gt,wt){var Rt=Oe(Ke,wt*ke/Se);return[gt*g/(o(Rt)*Se*ke*$e(Rt)),L(me*it(Rt/me)/Re)]},me===0&&(Se=R(xe/g),at=function(gt,wt){return[gt*Se,y(wt)/Se]},at.invert=function(gt,wt){return[gt/Se,L(wt*Se)]}),at}function jo(){var Q=1,le=0,me=45*S,xe=2,Se=t.geoProjectionMutator(Qa),ke=Se(Q,le,me,xe);return ke.a=function(Re){return arguments.length?Se(Q=+Re,le,me,xe):Q},ke.b=function(Re){return arguments.length?Se(Q,le=+Re,me,xe):le},ke.psiMax=function(Re){return arguments.length?Se(Q,le,me=+Re*S,xe):me*T},ke.ratio=function(Re){return arguments.length?Se(Q,le,me,xe=+Re):xe},ke.scale(180.739)}function Ts(Q,le,me,xe,Se,ke,Re,$e,it,Ke,at){if(at.nanEncountered)return NaN;var gt,wt,Rt,Yt,Qt,hr,qr,zr,rn,an;if(gt=me-le,wt=Q(le+gt*.25),Rt=Q(me-gt*.25),isNaN(wt)){at.nanEncountered=!0;return}if(isNaN(Rt)){at.nanEncountered=!0;return}return Yt=gt*(xe+4*wt+Se)/12,Qt=gt*(Se+4*Rt+ke)/12,hr=Yt+Qt,an=(hr-Re)/15,Ke>it?(at.maxDepthCount++,hr+an):Math.abs(an)<$e?hr+an:(qr=le+gt*.5,zr=Ts(Q,le,qr,xe,wt,Se,Yt,$e*.5,it,Ke+1,at),isNaN(zr)?(at.nanEncountered=!0,NaN):(rn=Ts(Q,qr,me,Se,Rt,ke,Qt,$e*.5,it,Ke+1,at),isNaN(rn)?(at.nanEncountered=!0,NaN):zr+rn))}function eo(Q,le,me,xe,Se){var ke={maxDepthCount:0,nanEncountered:!1};xe===void 0&&(xe=1e-8),Se===void 0&&(Se=20);var Re=Q(le),$e=Q(.5*(le+me)),it=Q(me),Ke=(Re+4*$e+it)*(me-le)/6,at=Ts(Q,le,me,Re,$e,it,Ke,xe,Se,1,ke);return at}function us(Q,le,me){function xe(Rt){return Q+(1-Q)*h(1-h(Rt,le),1/le)}function Se(Rt){return eo(xe,0,Rt,1e-4)}for(var ke=1/Se(1),Re=1e3,$e=(1+1e-8)*ke,it=[],Ke=0;Ke<=Re;Ke++)it.push(Se(Ke/Re)*$e);function at(Rt){var Yt=0,Qt=Re,hr=Re>>1;do it[hr]>Rt?Qt=hr:Yt=hr,hr=Yt+Qt>>1;while(hr>Yt);var qr=it[hr+1]-it[hr];return qr&&(qr=(Rt-it[hr+1])/qr),(hr+1+qr)/Re}var gt=2*at(1)/g*ke/me,wt=function(Rt,Yt){var Qt=at(n(y(Yt))),hr=xe(Qt)*Rt;return Qt/=gt,[hr,Yt>=0?Qt:-Qt]};return wt.invert=function(Rt,Yt){var Qt;return Yt*=gt,n(Yt)<1&&(Qt=b(Yt)*L(Se(n(Yt))*ke)),[Rt/xe(n(Yt)),Qt]},wt}function fs(){var Q=0,le=2.5,me=1.183136,xe=t.geoProjectionMutator(us),Se=xe(Q,le,me);return Se.alpha=function(ke){return arguments.length?xe(Q=+ke,le,me):Q},Se.k=function(ke){return arguments.length?xe(Q,le=+ke,me):le},Se.gamma=function(ke){return arguments.length?xe(Q,le,me=+ke):me},Se.scale(152.63)}function Vu(Q,le){return n(Q[0]-le[0])<m&&n(Q[1]-le[1])<m}function Vo(Q,le){for(var me=-1,xe=Q.length,Se=Q[0],ke,Re,$e,it=[];++me<xe;){ke=Q[me],Re=(ke[0]-Se[0])/le,$e=(ke[1]-Se[1])/le;for(var Ke=0;Ke<le;++Ke)it.push([Se[0]+Ke*Re,Se[1]+Ke*$e]);Se=ke}return it.push(ke),it}function id(Q){var le=[],me,xe,Se,ke,Re,$e,it,Ke=Q[0].length;for(it=0;it<Ke;++it)me=Q[0][it],xe=me[0][0],Se=me[0][1],ke=me[1][1],Re=me[2][0],$e=me[2][1],le.push(Vo([[xe+m,Se+m],[xe+m,ke-m],[Re-m,ke-m],[Re-m,$e+m]],30));for(it=Q[1].length-1;it>=0;--it)me=Q[1][it],xe=me[0][0],Se=me[0][1],ke=me[1][1],Re=me[2][0],$e=me[2][1],le.push(Vo([[Re-m,$e-m],[Re-m,ke+m],[xe+m,ke+m],[xe+m,Se-m]],30));return{type:"Polygon",coordinates:[r.merge(le)]}}function ul(Q,le,me){var xe,Se;function ke(it,Ke){for(var at=Ke<0?-1:1,gt=le[+(Ke<0)],wt=0,Rt=gt.length-1;wt<Rt&&it>gt[wt][2][0];++wt);var Yt=Q(it-gt[wt][1][0],Ke);return Yt[0]+=Q(gt[wt][1][0],at*Ke>at*gt[wt][0][1]?gt[wt][0][1]:Ke)[0],Yt}me?ke.invert=me(ke):Q.invert&&(ke.invert=function(it,Ke){for(var at=Se[+(Ke<0)],gt=le[+(Ke<0)],wt=0,Rt=at.length;wt<Rt;++wt){var Yt=at[wt];if(Yt[0][0]<=it&&it<Yt[1][0]&&Yt[0][1]<=Ke&&Ke<Yt[1][1]){var Qt=Q.invert(it-Q(gt[wt][1][0],0)[0],Ke);return Qt[0]+=gt[wt][1][0],Vu(ke(Qt[0],Qt[1]),[it,Ke])?Qt:null}}});var Re=t.geoProjection(ke),$e=Re.stream;return Re.stream=function(it){var Ke=Re.rotate(),at=$e(it),gt=(Re.rotate([0,0]),$e(it));return Re.rotate(Ke),at.sphere=function(){t.geoStream(xe,gt)},at},Re.lobes=function(it){return arguments.length?(xe=id(it),le=it.map(function(Ke){return Ke.map(function(at){return[[at[0][0]*S,at[0][1]*S],[at[1][0]*S,at[1][1]*S],[at[2][0]*S,at[2][1]*S]]})}),Se=le.map(function(Ke){return Ke.map(function(at){var gt=Q(at[0][0],at[0][1])[0],wt=Q(at[2][0],at[2][1])[0],Rt=Q(at[1][0],at[0][1])[1],Yt=Q(at[1][0],at[1][1])[1],Qt;return Rt>Yt&&(Qt=Rt,Rt=Yt,Yt=Qt),[[gt,Rt],[wt,Yt]]})}),Re):le.map(function(Ke){return Ke.map(function(at){return[[at[0][0]*T,at[0][1]*T],[at[1][0]*T,at[1][1]*T],[at[2][0]*T,at[2][1]*T]]})})},le!=null&&Re.lobes(le),Re}var Va=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function R0(){return ul(ye,Va).scale(160.857)}var qa=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Gu(){return ul(Ni,qa).scale(152.63)}var su=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Go(){return ul(be,su).scale(169.529)}var Us=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Yu(){return ul(be,Us).scale(169.529).rotate([20,0])}var zi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function As(){return ul(Hs,zi,de).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Wu=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Xu(){return ul(De,Wu).scale(152.63).rotate([-20,0])}function lu(Q,le){return[3/M*Q*R(g*g/3-le*le),le]}lu.invert=function(Q,le){return[M/3*Q/R(g*g/3-le*le),le]};function Af(){return t.geoProjection(lu).scale(158.837)}function ah(Q){function le(me,xe){if(n(n(xe)-A)<m)return[0,xe<0?-2:2];var Se=y(xe),ke=h((1+Se)/(1-Se),Q/2),Re=.5*(ke+1/ke)+o(me*=Q);return[2*y(me)/Re,(ke-1/ke)/Re]}return le.invert=function(me,xe){var Se=n(xe);if(n(Se-2)<m)return me?null:[0,b(xe)*A];if(Se>2)return null;me/=2,xe/=2;var ke=me*me,Re=xe*xe,$e=2*xe/(1+ke+Re);return $e=h((1+$e)/(1-$e),1/Q),[a(2*me,1-ke-Re)/Q,L(($e-1)/($e+1))]},le}function oh(){var Q=.5,le=t.geoProjectionMutator(ah),me=le(Q);return me.spacing=function(xe){return arguments.length?le(Q=+xe):Q},me.scale(124.75)}var Ms=g/p;function Zu(Q,le){return[Q*(1+R(o(le)))/2,le/(o(le/2)*o(Q/6))]}Zu.invert=function(Q,le){var me=n(Q),xe=n(le),Se=m,ke=A;xe<Ms?ke*=xe/Ms:Se+=6*D(Ms/xe);for(var Re=0;Re<25;Re++){var $e=y(ke),it=R(o(ke)),Ke=y(ke/2),at=o(ke/2),gt=y(Se/6),wt=o(Se/6),Rt=.5*Se*(1+it)-me,Yt=ke/(at*wt)-xe,Qt=it?-.25*Se*$e/it:0,hr=.5*(1+it),qr=(1+.5*ke*Ke/at)/(at*wt),zr=ke/at*(gt/6)/(wt*wt),rn=Qt*zr-qr*hr,an=(Rt*zr-Yt*hr)/rn,nn=(Yt*Qt-Rt*qr)/rn;if(ke-=an,Se-=nn,n(an)<m&&n(nn)<m)break}return[Q<0?-Se:Se,le<0?-ke:ke]};function Pl(){return t.geoProjection(Zu).scale(97.2672)}function cs(Q,le){var me=Q*Q,xe=le*le;return[Q*(.975534+xe*(-.119161+me*-.0143059+xe*-.0547009)),le*(1.00384+me*(.0802894+xe*-.02855+me*199025e-9)+xe*(.0998909+xe*-.0491032))]}cs.invert=function(Q,le){var me=b(Q)*g,xe=le/2,Se=50;do{var ke=me*me,Re=xe*xe,$e=me*xe,it=me*(.975534+Re*(-.119161+ke*-.0143059+Re*-.0547009))-Q,Ke=xe*(1.00384+ke*(.0802894+Re*-.02855+ke*199025e-9)+Re*(.0998909+Re*-.0491032))-le,at=.975534-Re*(.119161+3*ke*.0143059+Re*.0547009),gt=-$e*(2*.119161+4*.0547009*Re+2*.0143059*ke),wt=$e*(2*.0802894+4*199025e-9*ke+2*-.02855*Re),Rt=1.00384+ke*(.0802894+199025e-9*ke)+Re*(3*(.0998909-.02855*ke)-5*.0491032*Re),Yt=gt*wt-Rt*at,Qt=(Ke*gt-it*Rt)/Yt,hr=(it*wt-Ke*at)/Yt;me-=Qt,xe-=hr}while((n(Qt)>m||n(hr)>m)&&--Se>0);return Se&&[me,xe]};function za(){return t.geoProjection(cs).scale(139.98)}function po(Q,le){return[y(Q)/o(le),x(le)*o(Q)]}po.invert=function(Q,le){var me=Q*Q,xe=le*le,Se=xe+1,ke=me+Se,Re=Q?k*R((ke-R(ke*ke-4*me))/me):1/R(Se);return[L(Q*Re),b(le)*D(Re)]};function js(){return t.geoProjection(po).scale(144.049).clipAngle(90-.001)}function $u(Q){var le=o(Q),me=x(w+Q/2);function xe(Se,ke){var Re=ke-Q,$e=n(Re)<m?Se*le:n($e=w+ke/2)<m||n(n($e)-A)<m?0:Se*Re/u(x($e)/me);return[$e,Re]}return xe.invert=function(Se,ke){var Re,$e=ke+Q;return[n(ke)<m?Se/le:n(Re=w+$e/2)<m||n(n(Re)-A)<m?0:Se*u(x(Re)/me)/ke,$e]},xe}function uu(){return Ce($u).parallel(40).scale(158.837)}function Mf(Q,le){return[Q,1.25*u(x(w+.4*le))]}Mf.invert=function(Q,le){return[Q,2.5*i(s(.8*le))-.625*g]};function pc(){return t.geoProjection(Mf).scale(108.318)}function sh(Q){var le=Q.length-1;function me(xe,Se){for(var ke=o(Se),Re=2/(1+ke*o(xe)),$e=Re*ke*y(xe),it=Re*y(Se),Ke=le,at=Q[Ke],gt=at[0],wt=at[1],Rt;--Ke>=0;)at=Q[Ke],gt=at[0]+$e*(Rt=gt)-it*wt,wt=at[1]+$e*wt+it*Rt;return gt=$e*(Rt=gt)-it*wt,wt=$e*wt+it*Rt,[gt,wt]}return me.invert=function(xe,Se){var ke=20,Re=xe,$e=Se;do{for(var it=le,Ke=Q[it],at=Ke[0],gt=Ke[1],wt=0,Rt=0,Yt;--it>=0;)Ke=Q[it],wt=at+Re*(Yt=wt)-$e*Rt,Rt=gt+Re*Rt+$e*Yt,at=Ke[0]+Re*(Yt=at)-$e*gt,gt=Ke[1]+Re*gt+$e*Yt;wt=at+Re*(Yt=wt)-$e*Rt,Rt=gt+Re*Rt+$e*Yt,at=Re*(Yt=at)-$e*gt-xe,gt=Re*gt+$e*Yt-Se;var Qt=wt*wt+Rt*Rt,hr,qr;Re-=hr=(at*wt+gt*Rt)/Qt,$e-=qr=(gt*wt-at*Rt)/Qt}while(n(hr)+n(qr)>m*m&&--ke>0);if(ke){var zr=R(Re*Re+$e*$e),rn=2*i(zr*.5),an=y(rn);return[a(Re*an,zr*o(rn)),zr?L($e*an/zr):0]}},me}var I0=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ad=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Eo=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],gc=[[.9245,0],[0,0],[.01943,0]],Ku=[[.721316,0],[0,0],[-.00881625,-.00617325]];function lh(){return fl(I0,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Kh(){return fl(ad,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function od(){return fl(Eo,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function mc(){return fl(gc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function yc(){return fl(Ku,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function fl(Q,le){var me=t.geoProjection(sh(Q)).rotate(le).clipAngle(90),xe=t.geoRotation(le),Se=me.center;return delete me.rotate,me.center=function(ke){return arguments.length?Se(xe(ke)):xe.invert(Se())},me}var uh=R(6),cl=R(7);function fh(Q,le){var me=L(7*y(le)/(3*uh));return[uh*Q*(2*o(2*me/3)-1)/cl,9*y(me/3)/cl]}fh.invert=function(Q,le){var me=3*L(le*cl/9);return[Q*cl/(uh*(2*o(2*me/3)-1)),L(y(me)*3*uh/7)]};function sd(){return t.geoProjection(fh).scale(164.859)}function xc(Q,le){for(var me=(1+k)*y(le),xe=le,Se=0,ke;Se<25&&(xe-=ke=(y(xe/2)+y(xe)-me)/(.5*o(xe/2)+o(xe)),!(n(ke)<m));Se++);return[Q*(1+2*o(xe)/o(xe/2))/(3*p),2*R(3)*y(xe/2)/R(2+p)]}xc.invert=function(Q,le){var me=le*R(2+p)/(2*R(3)),xe=2*L(me);return[3*p*Q/(1+2*o(xe)/o(xe/2)),L((me+y(xe))/(1+k))]};function ld(){return t.geoProjection(xc).scale(188.209)}function Lo(Q,le){for(var me=R(6/(4+g)),xe=(1+g/4)*y(le),Se=le/2,ke=0,Re;ke<25&&(Se-=Re=(Se/2+y(Se)-xe)/(.5+o(Se)),!(n(Re)<m));ke++);return[me*(.5+o(Se))*Q/1.5,me*Se]}Lo.invert=function(Q,le){var me=R(6/(4+g)),xe=le/me;return n(n(xe)-A)<m&&(xe=xe<0?-A:A),[1.5*Q/(me*(.5+o(xe))),L((xe/2+y(xe))/(1+g/4))]};function Ju(){return t.geoProjection(Lo).scale(166.518)}function kf(Q,le){var me=le*le,xe=me*me,Se=me*xe;return[Q*(.84719-.13063*me+Se*Se*(-.04515+.05494*me-.02326*xe+.00331*Se)),le*(1.01183+xe*xe*(-.02625+.01926*me-.00396*xe))]}kf.invert=function(Q,le){var me=le,xe=25,Se,ke,Re,$e;do ke=me*me,Re=ke*ke,me-=Se=(me*(1.01183+Re*Re*(-.02625+.01926*ke-.00396*Re))-le)/(1.01183+Re*Re*(9*-.02625+11*.01926*ke+13*-.00396*Re));while(n(Se)>_&&--xe>0);return ke=me*me,Re=ke*ke,$e=ke*Re,[Q/(.84719-.13063*ke+$e*$e*(-.04515+.05494*ke-.02326*Re+.00331*$e)),me]};function bc(){return t.geoProjection(kf).scale(175.295)}function wc(Q,le){return[Q*(1+o(le))/2,2*(le-x(le/2))]}wc.invert=function(Q,le){for(var me=le/2,xe=0,Se=1/0;xe<10&&n(Se)>m;++xe){var ke=o(le/2);le-=Se=(le-x(le/2)-me)/(1-.5/(ke*ke))}return[2*Q/(1+o(le)),le]};function fu(){return t.geoProjection(wc).scale(152.63)}var Ga=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Jh(){return ul(ge(1/0),Ga).rotate([20,0]).scale(152.63)}function Qh(Q,le){var me=y(le),xe=o(le),Se=b(Q);if(Q===0||n(le)===A)return[0,le];if(le===0)return[Q,0];if(n(Q)===A)return[Q*xe,A*me];var ke=g/(2*Q)-2*Q/g,Re=2*le/g,$e=(1-Re*Re)/(me-Re),it=ke*ke,Ke=$e*$e,at=1+it/Ke,gt=1+Ke/it,wt=(ke*me/$e-ke/2)/at,Rt=(Ke*me/it+$e/2)/gt,Yt=wt*wt+xe*xe/at,Qt=Rt*Rt-(Ke*me*me/it+$e*me-1)/gt;return[A*(wt+R(Yt)*Se),A*(Rt+R(Qt<0?0:Qt)*b(-le*ke)*Se)]}Qh.invert=function(Q,le){Q/=A,le/=A;var me=Q*Q,xe=le*le,Se=me+xe,ke=g*g;return[Q?(Se-1+R((1-Se)*(1-Se)+4*me))/(2*Q)*A:0,Oe(function(Re){return Se*(g*y(Re)-2*Re)*g+4*Re*Re*(le-y(Re))+2*g*Re-ke*le},0)]};function ud(){return t.geoProjection(Qh).scale(127.267)}var ev=1.0148,ch=.23185,tv=-.14499,hl=.02406,Gt=ev,lr=5*ch,Jt=7*tv,Xr=9*hl,bn=1.790857183;function hi(Q,le){var me=le*le;return[Q,le*(ev+me*me*(ch+me*(tv+hl*me)))]}hi.invert=function(Q,le){le>bn?le=bn:le<-bn&&(le=-bn);var me=le,xe;do{var Se=me*me;me-=xe=(me*(ev+Se*Se*(ch+Se*(tv+hl*Se)))-le)/(Gt+Se*Se*(lr+Se*(Jt+Xr*Se)))}while(n(xe)>m);return[Q,me]};function Ra(){return t.geoProjection(hi).scale(139.319)}function vi(Q,le){if(n(le)<m)return[Q,0];var me=x(le),xe=Q*y(le);return[y(xe)/me,le+(1-o(xe))/me]}vi.invert=function(Q,le){if(n(le)<m)return[Q,0];var me=Q*Q+le*le,xe=le*.5,Se=10,ke;do{var Re=x(xe),$e=1/o(xe),it=me-2*le*xe+xe*xe;xe-=ke=(Re*it+2*(xe-le))/(2+it*$e*$e+2*(xe-le)*Re)}while(n(ke)>m&&--Se>0);return Re=x(xe),[(n(le)<n(xe+1/Re)?L(Q*Re):b(le)*b(Q)*(D(n(Q*Re))+A))/y(xe),xe]};function hh(){return t.geoProjection(vi).scale(103.74)}function P0(Q,le){var me=vl(Q[1],Q[0]),xe=vl(le[1],le[0]),Se=vh(me,xe),ke=Ya(me)/Ya(xe);return Ss([1,0,Q[0][0],0,1,Q[0][1]],Ss([ke,0,0,0,ke,0],Ss([o(Se),y(Se),0,-y(Se),o(Se),0],[1,0,-le[0][0],0,1,-le[0][1]])))}function ks(Q){var le=1/(Q[0]*Q[4]-Q[1]*Q[3]);return[le*Q[4],-le*Q[1],le*(Q[1]*Q[5]-Q[2]*Q[4]),-le*Q[3],le*Q[0],le*(Q[2]*Q[3]-Q[0]*Q[5])]}function Ss(Q,le){return[Q[0]*le[0]+Q[1]*le[3],Q[0]*le[1]+Q[1]*le[4],Q[0]*le[2]+Q[1]*le[5]+Q[2],Q[3]*le[0]+Q[4]*le[3],Q[3]*le[1]+Q[4]*le[4],Q[3]*le[2]+Q[4]*le[5]+Q[5]]}function vl(Q,le){return[Q[0]-le[0],Q[1]-le[1]]}function Ya(Q){return R(Q[0]*Q[0]+Q[1]*Q[1])}function vh(Q,le){return a(Q[0]*le[1]-Q[1]*le[0],Q[0]*le[0]+Q[1]*le[1])}function Fl(Q,le,me){xe(Q,{transform:null});function xe(Ke,at){if(Ke.edges=_c(Ke.face),at.face){var gt=Ke.shared=rv(Ke.face,at.face),wt=P0(gt.map(at.project),gt.map(Ke.project));Ke.transform=at.transform?Ss(at.transform,wt):wt;for(var Rt=at.edges,Yt=0,Qt=Rt.length;Yt<Qt;++Yt)Es(gt[0],Rt[Yt][1])&&Es(gt[1],Rt[Yt][0])&&(Rt[Yt]=Ke),Es(gt[0],Rt[Yt][0])&&Es(gt[1],Rt[Yt][1])&&(Rt[Yt]=Ke);for(Rt=Ke.edges,Yt=0,Qt=Rt.length;Yt<Qt;++Yt)Es(gt[0],Rt[Yt][0])&&Es(gt[1],Rt[Yt][1])&&(Rt[Yt]=at),Es(gt[0],Rt[Yt][1])&&Es(gt[1],Rt[Yt][0])&&(Rt[Yt]=at)}else Ke.transform=at.transform;return Ke.children&&Ke.children.forEach(function(hr){xe(hr,Ke)}),Ke}function Se(Ke,at){var gt=le(Ke,at),wt=gt.project([Ke*T,at*T]),Rt;return(Rt=gt.transform)?[Rt[0]*wt[0]+Rt[1]*wt[1]+Rt[2],-(Rt[3]*wt[0]+Rt[4]*wt[1]+Rt[5])]:(wt[1]=-wt[1],wt)}Tc(Q)&&(Se.invert=function(Ke,at){var gt=ke(Q,[Ke,-at]);return gt&&(gt[0]*=S,gt[1]*=S,gt)});function ke(Ke,at){var gt=Ke.project.invert,wt=Ke.transform,Rt=at;if(wt&&(wt=ks(wt),Rt=[wt[0]*Rt[0]+wt[1]*Rt[1]+wt[2],wt[3]*Rt[0]+wt[4]*Rt[1]+wt[5]]),gt&&Ke===Re(Yt=gt(Rt)))return Yt;for(var Yt,Qt=Ke.children,hr=0,qr=Qt&&Qt.length;hr<qr;++hr)if(Yt=ke(Qt[hr],at))return Yt}function Re(Ke){return le(Ke[0]*S,Ke[1]*S)}var $e=t.geoProjection(Se),it=$e.stream;return $e.stream=function(Ke){var at=$e.rotate(),gt=it(Ke),wt=($e.rotate([0,0]),it(Ke));return $e.rotate(at),gt.sphere=function(){wt.polygonStart(),wt.lineStart(),ki(wt,Q),wt.lineEnd(),wt.polygonEnd()},gt},$e.angle(me==null?-30:me*T)}function ki(Q,le,me){var xe,Se=le.edges,ke=Se.length,Re,$e={type:"MultiPoint",coordinates:le.face},it=le.face.filter(function(Qt){return n(Qt[1])!==90}),Ke=t.geoBounds({type:"MultiPoint",coordinates:it}),at=!1,gt=-1,wt=Ke[1][0]-Ke[0][0],Rt=wt===180||wt===360?[(Ke[0][0]+Ke[1][0])/2,(Ke[0][1]+Ke[1][1])/2]:t.geoCentroid($e);if(me)for(;++gt<ke&&Se[gt]!==me;);++gt;for(var Yt=0;Yt<ke;++Yt)Re=Se[(Yt+gt)%ke],Array.isArray(Re)?(at||(Q.point((xe=t.geoInterpolate(Re[0],Rt)(m))[0],xe[1]),at=!0),Q.point((xe=t.geoInterpolate(Re[1],Rt)(m))[0],xe[1])):(at=!1,Re!==me&&ki(Q,Re,le))}function Es(Q,le){return Q&&le&&Q[0]===le[0]&&Q[1]===le[1]}function rv(Q,le){for(var me,xe,Se=Q.length,ke=null,Re=0;Re<Se;++Re){me=Q[Re];for(var $e=le.length;--$e>=0;)if(xe=le[$e],me[0]===xe[0]&&me[1]===xe[1]){if(ke)return[ke,me];ke=me}}}function _c(Q){for(var le=Q.length,me=[],xe=Q[le-1],Se=0;Se<le;++Se)me.push([xe,xe=Q[Se]]);return me}function Tc(Q){return Q.project.invert||Q.children&&Q.children.some(Tc)}var fd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],dh=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Q){return Q.map(function(le){return fd[le]})});function cu(Q){Q=Q||function(me){var xe=t.geoCentroid({type:"MultiPoint",coordinates:me});return t.geoGnomonic().scale(1).translate([0,0]).rotate([-xe[0],-xe[1]])};var le=dh.map(function(me){return{face:me,project:Q(me)}});return[-1,0,0,1,0,1,4,5].forEach(function(me,xe){var Se=le[me];Se&&(Se.children||(Se.children=[])).push(le[xe])}),Fl(le[0],function(me,xe){return le[me<-g/2?xe<0?6:4:me<0?xe<0?2:0:me<g/2?xe<0?3:1:xe<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Vs=2/R(3);function hu(Q,le){var me=Je(Q,le);return[me[0]*Vs,me[1]]}hu.invert=function(Q,le){return Je.invert(Q/Vs,le)};function cd(Q){Q=Q||function(me){var xe=t.geoCentroid({type:"MultiPoint",coordinates:me});return t.geoProjection(hu).translate([0,0]).scale(1).rotate(xe[1]>0?[-xe[0],0]:[180-xe[0],180])};var le=dh.map(function(me){return{face:me,project:Q(me)}});return[-1,0,0,1,0,1,4,5].forEach(function(me,xe){var Se=le[me];Se&&(Se.children||(Se.children=[])).push(le[xe])}),Fl(le[0],function(me,xe){return le[me<-g/2?xe<0?6:4:me<0?xe<0?2:0:me<g/2?xe<0?3:1:xe<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function vu(Q){Q=Q||function(Re){var $e=Re.length===6?t.geoCentroid({type:"MultiPoint",coordinates:Re}):Re[0];return t.geoGnomonic().scale(1).translate([0,0]).rotate([-$e[0],-$e[1]])};var le=dh.map(function(Re){for(var $e=Re.map(Qu),it=$e.length,Ke=$e[it-1],at,gt=[],wt=0;wt<it;++wt)at=$e[wt],gt.push(dl([Ke[0]*.9486832980505138+at[0]*.31622776601683794,Ke[1]*.9486832980505138+at[1]*.31622776601683794,Ke[2]*.9486832980505138+at[2]*.31622776601683794]),dl([at[0]*.9486832980505138+Ke[0]*.31622776601683794,at[1]*.9486832980505138+Ke[1]*.31622776601683794,at[2]*.9486832980505138+Ke[2]*.31622776601683794])),Ke=at;return gt}),me=[],xe=[-1,0,0,1,0,1,4,5];le.forEach(function(Re,$e){for(var it=dh[$e],Ke=it.length,at=me[$e]=[],gt=0;gt<Ke;++gt)le.push([it[gt],Re[(gt*2+2)%(2*Ke)],Re[(gt*2+1)%(2*Ke)]]),xe.push($e),at.push(Sf(Qu(Re[(gt*2+2)%(2*Ke)]),Qu(Re[(gt*2+1)%(2*Ke)])))});var Se=le.map(function(Re){return{project:Q(Re),face:Re}});xe.forEach(function(Re,$e){var it=Se[Re];it&&(it.children||(it.children=[])).push(Se[$e])});function ke(Re,$e){var it=o($e),Ke=[it*o(Re),it*y(Re),y($e)],at=Re<-g/2?$e<0?6:4:Re<0?$e<0?2:0:Re<g/2?$e<0?3:1:$e<0?7:5,gt=me[at];return Se[du(gt[0],Ke)<0?8+3*at:du(gt[1],Ke)<0?8+3*at+1:du(gt[2],Ke)<0?8+3*at+2:at]}return Fl(Se[0],ke).angle(-30).scale(110.625).center([0,45])}function du(Q,le){for(var me=0,xe=Q.length,Se=0;me<xe;++me)Se+=Q[me]*le[me];return Se}function Sf(Q,le){return[Q[1]*le[2]-Q[2]*le[1],Q[2]*le[0]-Q[0]*le[2],Q[0]*le[1]-Q[1]*le[0]]}function dl(Q){return[a(Q[1],Q[0])*T,L(f(-1,c(1,Q[2])))*T]}function Qu(Q){var le=Q[0]*S,me=Q[1]*S,xe=o(me);return[xe*o(le),xe*y(le),y(me)]}function pu(){}function Gs(Q){if((me=Q.length)<4)return!1;for(var le=0,me,xe=Q[me-1][1]*Q[0][0]-Q[me-1][0]*Q[0][1];++le<me;)xe+=Q[le-1][1]*Q[le][0]-Q[le-1][0]*Q[le][1];return xe<=0}function Ac(Q,le){for(var me=le[0],xe=le[1],Se=!1,ke=0,Re=Q.length,$e=Re-1;ke<Re;$e=ke++){var it=Q[ke],Ke=it[0],at=it[1],gt=Q[$e],wt=gt[0],Rt=gt[1];at>xe^Rt>xe&&me<(wt-Ke)*(xe-at)/(Rt-at)+Ke&&(Se=!Se)}return Se}function ph(Q,le){var me=le.stream,xe;if(!me)throw new Error("invalid projection");switch(Q&&Q.type){case"Feature":xe=vd;break;case"FeatureCollection":xe=hd;break;default:xe=ef;break}return xe(Q,me)}function hd(Q,le){return{type:"FeatureCollection",features:Q.features.map(function(me){return vd(me,le)})}}function vd(Q,le){return{type:"Feature",id:Q.id,properties:Q.properties,geometry:ef(Q.geometry,le)}}function Ef(Q,le){return{type:"GeometryCollection",geometries:Q.geometries.map(function(me){return ef(me,le)})}}function ef(Q,le){if(!Q)return null;if(Q.type==="GeometryCollection")return Ef(Q,le);var me;switch(Q.type){case"Point":me=tf;break;case"MultiPoint":me=tf;break;case"LineString":me=gh;break;case"MultiLineString":me=gh;break;case"Polygon":me=Mc;break;case"MultiPolygon":me=Mc;break;case"Sphere":me=Mc;break;default:return null}return t.geoStream(Q,le(me)),me.result()}var ba=[],Ys=[],tf={point:function(Q,le){ba.push([Q,le])},result:function(){var Q=ba.length?ba.length<2?{type:"Point",coordinates:ba[0]}:{type:"MultiPoint",coordinates:ba}:null;return ba=[],Q}},gh={lineStart:pu,point:function(Q,le){ba.push([Q,le])},lineEnd:function(){ba.length&&(Ys.push(ba),ba=[])},result:function(){var Q=Ys.length?Ys.length<2?{type:"LineString",coordinates:Ys[0]}:{type:"MultiLineString",coordinates:Ys}:null;return Ys=[],Q}},Mc={polygonStart:pu,lineStart:pu,point:function(Q,le){ba.push([Q,le])},lineEnd:function(){var Q=ba.length;if(Q){do ba.push(ba[0].slice());while(++Q<4);Ys.push(ba),ba=[]}},polygonEnd:pu,result:function(){if(!Ys.length)return null;var Q=[],le=[];return Ys.forEach(function(me){Gs(me)?Q.push([me]):le.push(me)}),le.forEach(function(me){var xe=me[0];Q.some(function(Se){if(Ac(Se[0],xe))return Se.push(me),!0})||Q.push([me])}),Ys=[],Q.length?Q.length>1?{type:"MultiPolygon",coordinates:Q}:{type:"Polygon",coordinates:Q[0]}:null}};function wa(Q){var le=Q(A,0)[0]-Q(-A,0)[0];function me(xe,Se){var ke=n(xe)<A,Re=Q(ke?xe:xe>0?xe-g:xe+g,Se),$e=(Re[0]-Re[1])*k,it=(Re[0]+Re[1])*k;if(ke)return[$e,it];var Ke=le*k,at=$e>0^it>0?-1:1;return[at*$e-b(it)*Ke,at*it-b($e)*Ke]}return Q.invert&&(me.invert=function(xe,Se){var ke=(xe+Se)*k,Re=(Se-xe)*k,$e=n(ke)<.5*le&&n(Re)<.5*le;if(!$e){var it=le*k,Ke=ke>0^Re>0?-1:1,at=-Ke*xe+(Re>0?1:-1)*it,gt=-Ke*Se+(ke>0?1:-1)*it;ke=(-at-gt)*k,Re=(at-gt)*k}var wt=Q.invert(ke,Re);return $e||(wt[0]+=ke>0?g:-g),wt}),t.geoProjection(me).rotate([-90,-90,45]).clipAngle(180-.001)}function Ae(){return wa(Pt).scale(176.423)}function ze(){return wa(oi).scale(111.48)}function rt(Q,le){if(!(0<=(le=+le)&&le<=20))throw new Error("invalid digits");function me(Ke){var at=Ke.length,gt=2,wt=new Array(at);for(wt[0]=+Ke[0].toFixed(le),wt[1]=+Ke[1].toFixed(le);gt<at;)wt[gt]=Ke[gt],++gt;return wt}function xe(Ke){return Ke.map(me)}function Se(Ke){for(var at=me(Ke[0]),gt=[at],wt=1;wt<Ke.length;wt++){var Rt=me(Ke[wt]);(Rt.length>2||Rt[0]!=at[0]||Rt[1]!=at[1])&&(gt.push(Rt),at=Rt)}return gt.length===1&&Ke.length>1&&gt.push(me(Ke[Ke.length-1])),gt}function ke(Ke){return Ke.map(Se)}function Re(Ke){if(Ke==null)return Ke;var at;switch(Ke.type){case"GeometryCollection":at={type:"GeometryCollection",geometries:Ke.geometries.map(Re)};break;case"Point":at={type:"Point",coordinates:me(Ke.coordinates)};break;case"MultiPoint":at={type:Ke.type,coordinates:xe(Ke.coordinates)};break;case"LineString":at={type:Ke.type,coordinates:Se(Ke.coordinates)};break;case"MultiLineString":case"Polygon":at={type:Ke.type,coordinates:ke(Ke.coordinates)};break;case"MultiPolygon":at={type:"MultiPolygon",coordinates:Ke.coordinates.map(ke)};break;default:return Ke}return Ke.bbox!=null&&(at.bbox=Ke.bbox),at}function $e(Ke){var at={type:"Feature",properties:Ke.properties,geometry:Re(Ke.geometry)};return Ke.id!=null&&(at.id=Ke.id),Ke.bbox!=null&&(at.bbox=Ke.bbox),at}if(Q!=null)switch(Q.type){case"Feature":return $e(Q);case"FeatureCollection":{var it={type:"FeatureCollection",features:Q.features.map($e)};return Q.bbox!=null&&(it.bbox=Q.bbox),it}default:return Re(Q)}return Q}function Ze(Q){var le=y(Q);function me(xe,Se){var ke=le?x(xe*le/2)/le:xe/2;if(!Se)return[2*ke,-Q];var Re=2*i(ke*y(Se)),$e=1/x(Se);return[y(Re)*$e,Se+(1-o(Re))*$e-Q]}return me.invert=function(xe,Se){if(n(Se+=Q)<m)return[le?2*i(le*xe/2)/le:xe,0];var ke=xe*xe+Se*Se,Re=0,$e=10,it;do{var Ke=x(Re),at=1/o(Re),gt=ke-2*Se*Re+Re*Re;Re-=it=(Ke*gt+2*(Re-Se))/(2+gt*at*at+2*(Re-Se)*Ke)}while(n(it)>m&&--$e>0);var wt=xe*(Ke=x(Re)),Rt=x(n(Se)<n(Re+1/Ke)?L(wt)*.5:D(wt)*.5+g/4)/y(Re);return[le?2*i(le*Rt)/le:2*Rt,Re]},me}function mt(){return Ce(Ze).scale(131.215)}var It=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];It.forEach(function(Q){Q[1]*=1.0144});function Ut(Q,le){var me=c(18,n(le)*36/g),xe=l(me),Se=me-xe,ke=(gt=It[xe])[0],Re=gt[1],$e=(gt=It[++xe])[0],it=gt[1],Ke=(gt=It[c(19,++xe)])[0],at=gt[1],gt;return[Q*($e+Se*(Ke-ke)/2+Se*Se*(Ke-2*$e+ke)/2),(le>0?A:-A)*(it+Se*(at-Re)/2+Se*Se*(at-2*it+Re)/2)]}Ut.invert=function(Q,le){var me=le/A,xe=me*90,Se=c(18,n(xe/5)),ke=f(0,l(Se));do{var Re=It[ke][1],$e=It[ke+1][1],it=It[c(19,ke+2)][1],Ke=it-Re,at=it-2*$e+Re,gt=2*(n(me)-$e)/Ke,wt=at/Ke,Rt=gt*(1-wt*gt*(1-2*wt*gt));if(Rt>=0||ke===1){xe=(le>=0?5:-5)*(Rt+Se);var Yt=50,Qt;do Se=c(18,n(xe)/5),ke=l(Se),Rt=Se-ke,Re=It[ke][1],$e=It[ke+1][1],it=It[c(19,ke+2)][1],xe-=(Qt=(le>=0?A:-A)*($e+Rt*(it-Re)/2+Rt*Rt*(it-2*$e+Re)/2)-le)*T;while(n(Qt)>_&&--Yt>0);break}}while(--ke>=0);var hr=It[ke][0],qr=It[ke+1][0],zr=It[c(19,ke+2)][0];return[Q/(qr+Rt*(zr-hr)/2+Rt*Rt*(zr-2*qr+hr)/2),xe*S]};function Xt(){return t.geoProjection(Ut).scale(152.63)}function $t(Q){function le(me,xe){var Se=o(xe),ke=(Q-1)/(Q-Se*o(me));return[ke*Se*y(me),ke*y(xe)]}return le.invert=function(me,xe){var Se=me*me+xe*xe,ke=R(Se),Re=(Q-R(1-Se*(Q+1)/(Q-1)))/((Q-1)/ke+ke/(Q-1));return[a(me*Re,ke*R(1-Re*Re)),ke?L(xe*Re/ke):0]},le}function ar(Q,le){var me=$t(Q);if(!le)return me;var xe=o(le),Se=y(le);function ke(Re,$e){var it=me(Re,$e),Ke=it[1],at=Ke*Se/(Q-1)+xe;return[it[0]*xe/at,Ke/at]}return ke.invert=function(Re,$e){var it=(Q-1)/(Q-1-$e*Se);return me.invert(it*Re,it*$e*xe)},ke}function jt(){var Q=2,le=0,me=t.geoProjectionMutator(ar),xe=me(Q,le);return xe.distance=function(Se){return arguments.length?me(Q=+Se,le):Q},xe.tilt=function(Se){return arguments.length?me(Q,le=Se*S):le*T},xe.scale(432.147).clipAngle(D(1/Q)*T-1e-6)}var er=1e-4,Kt=1e4,ur=-180,vr=ur+er,Yr=180,Br=Yr-er,Jr=-90,Zr=Jr+er,mr=90,Ar=mr-er;function We(Q){return Q.length>0}function on(Q){return Math.floor(Q*Kt)/Kt}function Gn(Q){return Q===Jr||Q===mr?[0,Q]:[ur,on(Q)]}function zn(Q){var le=Q[0],me=Q[1],xe=!1;return le<=vr?(le=ur,xe=!0):le>=Br&&(le=Yr,xe=!0),me<=Zr?(me=Jr,xe=!0):me>=Ar&&(me=mr,xe=!0),xe?[le,me]:Q}function Wr(Q){return Q.map(zn)}function Oi(Q,le,me){for(var xe=0,Se=Q.length;xe<Se;++xe){var ke=Q[xe].slice();me.push({index:-1,polygon:le,ring:ke});for(var Re=0,$e=ke.length;Re<$e;++Re){var it=ke[Re],Ke=it[0],at=it[1];if(Ke<=vr||Ke>=Br||at<=Zr||at>=Ar){ke[Re]=zn(it);for(var gt=Re+1;gt<$e;++gt){var wt=ke[gt],Rt=wt[0],Yt=wt[1];if(Rt>vr&&Rt<Br&&Yt>Zr&&Yt<Ar)break}if(gt===Re+1)continue;if(Re){var Qt={index:-1,polygon:le,ring:ke.slice(0,Re+1)};Qt.ring[Qt.ring.length-1]=Gn(at),me[me.length-1]=Qt}else me.pop();if(gt>=$e)break;me.push({index:-1,polygon:le,ring:ke=ke.slice(gt-1)}),ke[0]=Gn(ke[0][1]),Re=-1,$e=ke.length}}}}function Hn(Q){var le,me=Q.length,xe={},Se={},ke,Re,$e,it,Ke;for(le=0;le<me;++le){if(ke=Q[le],Re=ke.ring[0],it=ke.ring[ke.ring.length-1],Re[0]===it[0]&&Re[1]===it[1]){ke.polygon.push(ke.ring),Q[le]=null;continue}ke.index=le,xe[Re]=Se[it]=ke}for(le=0;le<me;++le)if(ke=Q[le],ke){if(Re=ke.ring[0],it=ke.ring[ke.ring.length-1],$e=Se[Re],Ke=xe[it],delete xe[Re],delete Se[it],Re[0]===it[0]&&Re[1]===it[1]){ke.polygon.push(ke.ring);continue}$e?(delete Se[Re],delete xe[$e.ring[0]],$e.ring.pop(),Q[$e.index]=null,ke={index:-1,polygon:$e.polygon,ring:$e.ring.concat(ke.ring)},$e===Ke?ke.polygon.push(ke.ring):(ke.index=me++,Q.push(xe[ke.ring[0]]=Se[ke.ring[ke.ring.length-1]]=ke))):Ke?(delete xe[it],delete Se[Ke.ring[Ke.ring.length-1]],ke.ring.pop(),ke={index:me++,polygon:Ke.polygon,ring:ke.ring.concat(Ke.ring)},Q[Ke.index]=null,Q.push(xe[ke.ring[0]]=Se[ke.ring[ke.ring.length-1]]=ke)):(ke.ring.push(ke.ring[0]),ke.polygon.push(ke.ring))}}function to(Q){var le={type:"Feature",geometry:Bi(Q.geometry)};return Q.id!=null&&(le.id=Q.id),Q.bbox!=null&&(le.bbox=Q.bbox),Q.properties!=null&&(le.properties=Q.properties),le}function Bi(Q){if(Q==null)return Q;var le,me,xe,Se;switch(Q.type){case"GeometryCollection":le={type:"GeometryCollection",geometries:Q.geometries.map(Bi)};break;case"Point":le={type:"Point",coordinates:zn(Q.coordinates)};break;case"MultiPoint":case"LineString":le={type:Q.type,coordinates:Wr(Q.coordinates)};break;case"MultiLineString":le={type:"MultiLineString",coordinates:Q.coordinates.map(Wr)};break;case"Polygon":{var ke=[];Oi(Q.coordinates,ke,me=[]),Hn(me),le={type:"Polygon",coordinates:ke};break}case"MultiPolygon":{me=[],xe=-1,Se=Q.coordinates.length;for(var Re=new Array(Se);++xe<Se;)Oi(Q.coordinates[xe],Re[xe]=[],me);Hn(me),le={type:"MultiPolygon",coordinates:Re.filter(We)};break}default:return Q}return Q.bbox!=null&&(le.bbox=Q.bbox),le}function Hi(Q){if(Q==null)return Q;switch(Q.type){case"Feature":return to(Q);case"FeatureCollection":{var le={type:"FeatureCollection",features:Q.features.map(to)};return Q.bbox!=null&&(le.bbox=Q.bbox),le}default:return Bi(Q)}}function Cr(Q,le){var me=x(le/2),xe=y(w*me);return[Q*(.74482-.34588*xe*xe),1.70711*me]}Cr.invert=function(Q,le){var me=le/1.70711,xe=y(w*me);return[Q/(.74482-.34588*xe*xe),2*i(me)]};function ei(){return t.geoProjection(Cr).scale(146.153)}function Ia(Q,le,me){var xe=t.geoInterpolate(le,me),Se=xe(.5),ke=t.geoRotation([-Se[0],-Se[1]])(le),Re=xe.distance/2,$e=-L(y(ke[1]*S)/y(Re)),it=[-Se[0],-Se[1],-(ke[0]>0?g-$e:$e)*T],Ke=t.geoProjection(Q(Re)).rotate(it),at=t.geoRotation(it),gt=Ke.center;return delete Ke.rotate,Ke.center=function(wt){return arguments.length?gt(at(wt)):at.invert(gt())},Ke.clipAngle(90)}function go(Q){var le=o(Q);function me(xe,Se){var ke=t.geoGnomonicRaw(xe,Se);return ke[0]*=le,ke}return me.invert=function(xe,Se){return t.geoGnomonicRaw.invert(xe/le,Se)},me}function Pa(){return Nl([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Nl(Q,le){return Ia(go,Q,le)}function pl(Q){if(!(Q*=2))return t.geoAzimuthalEquidistantRaw;var le=-Q/2,me=-le,xe=Q*Q,Se=x(me),ke=.5/y(me);function Re($e,it){var Ke=D(o(it)*o($e-le)),at=D(o(it)*o($e-me)),gt=it<0?-1:1;return Ke*=Ke,at*=at,[(Ke-at)/(2*Q),gt*R(4*xe*at-(xe-Ke+at)*(xe-Ke+at))/(2*Q)]}return Re.invert=function($e,it){var Ke=it*it,at=o(R(Ke+(wt=$e+le)*wt)),gt=o(R(Ke+(wt=$e+me)*wt)),wt,Rt;return[a(Rt=at-gt,wt=(at+gt)*Se),(it<0?-1:1)*D(R(wt*wt+Rt*Rt)*ke)]},Re}function rf(){return Ws([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ws(Q,le){return Ia(pl,Q,le)}function nf(Q,le){if(n(le)<m)return[Q,0];var me=n(le/A),xe=L(me);if(n(Q)<m||n(n(le)-A)<m)return[0,b(le)*g*x(xe/2)];var Se=o(xe),ke=n(g/Q-Q/g)/2,Re=ke*ke,$e=Se/(me+Se-1),it=$e*(2/me-1),Ke=it*it,at=Ke+Re,gt=$e-Ke,wt=Re+$e;return[b(Q)*g*(ke*gt+R(Re*gt*gt-at*($e*$e-Ke)))/at,b(le)*g*(it*wt-ke*R((Re+1)*at-wt*wt))/at]}nf.invert=function(Q,le){if(n(le)<m)return[Q,0];if(n(Q)<m)return[0,A*y(2*i(le/g))];var me=(Q/=g)*Q,xe=(le/=g)*le,Se=me+xe,ke=Se*Se,Re=-n(le)*(1+Se),$e=Re-2*xe+me,it=-2*Re+1+2*xe+ke,Ke=xe/it+(2*$e*$e*$e/(it*it*it)-9*Re*$e/(it*it))/27,at=(Re-$e*$e/(3*it))/it,gt=2*R(-at/3),wt=D(3*Ke/(at*gt))/3;return[g*(Se-1+R(1+2*(me-xe)+ke))/(2*Q),b(le)*g*(-gt*o(wt+g/3)-$e/(3*it))]};function Yo(){return t.geoProjection(nf).scale(79.4183)}function mh(Q,le){if(n(le)<m)return[Q,0];var me=n(le/A),xe=L(me);if(n(Q)<m||n(n(le)-A)<m)return[0,b(le)*g*x(xe/2)];var Se=o(xe),ke=n(g/Q-Q/g)/2,Re=ke*ke,$e=Se*(R(1+Re)-ke*Se)/(1+Re*me*me);return[b(Q)*g*$e,b(le)*g*R(1-$e*(2*ke+$e))]}mh.invert=function(Q,le){if(!Q)return[0,A*y(2*i(le/g))];var me=n(Q/g),xe=(1-me*me-(le/=g)*le)/(2*me),Se=xe*xe,ke=R(Se+1);return[b(Q)*g*(ke-xe),b(le)*A*y(2*a(R((1-2*xe*me)*(xe+ke)-me),R(ke+xe+me)))]};function dd(){return t.geoProjection(mh).scale(79.4183)}function pd(Q,le){if(n(le)<m)return[Q,0];var me=le/A,xe=L(me);if(n(Q)<m||n(n(le)-A)<m)return[0,g*x(xe/2)];var Se=(g/Q-Q/g)/2,ke=me/(1+o(xe));return[g*(b(Q)*R(Se*Se+1-ke*ke)-Se),g*ke]}pd.invert=function(Q,le){if(!le)return[Q,0];var me=le/g,xe=(g*g*(1-me*me)-Q*Q)/(2*g*Q);return[Q?g*(b(Q)*R(xe*xe+1)-xe):0,A*y(2*i(me))]};function Xg(){return t.geoProjection(pd).scale(79.4183)}function nv(Q,le){if(!le)return[Q,0];var me=n(le);if(!Q||me===A)return[0,le];var xe=me/A,Se=xe*xe,ke=(8*xe-Se*(Se+2)-5)/(2*Se*(xe-1)),Re=ke*ke,$e=xe*ke,it=Se+Re+2*$e,Ke=xe+3*ke,at=Q/A,gt=at+1/at,wt=b(n(Q)-A)*R(gt*gt-4),Rt=wt*wt,Yt=it*(Se+Re*Rt-1)+(1-Se)*(Se*(Ke*Ke+4*Re)+12*$e*Re+4*Re*Re),Qt=(wt*(it+Re-1)+2*R(Yt))/(4*it+Rt);return[b(Q)*A*Qt,b(le)*A*R(1+wt*n(Qt)-Qt*Qt)]}nv.invert=function(Q,le){var me;if(!Q||!le)return[Q,le];le/=g;var xe=b(Q)*Q/A,Se=(xe*xe-1+4*le*le)/n(xe),ke=Se*Se,Re=2*le,$e=50;do{var it=Re*Re,Ke=(8*Re-it*(it+2)-5)/(2*it*(Re-1)),at=(3*Re-it*Re-10)/(2*it*Re),gt=Ke*Ke,wt=Re*Ke,Rt=Re+Ke,Yt=Rt*Rt,Qt=Re+3*Ke,hr=Yt*(it+gt*ke-1)+(1-it)*(it*(Qt*Qt+4*gt)+gt*(12*wt+4*gt)),qr=-2*Rt*(4*wt*gt+(1-4*it+3*it*it)*(1+at)+gt*(-6+14*it-ke+(-8+8*it-2*ke)*at)+wt*(-8+12*it+(-10+10*it-ke)*at)),zr=R(hr),rn=Se*(Yt+gt-1)+2*zr-xe*(4*Yt+ke),an=Se*(2*Ke*at+2*Rt*(1+at))+qr/zr-8*Rt*(Se*(-1+gt+Yt)+2*zr)*(1+at)/(ke+4*Yt);Re-=me=rn/an}while(me>m&&--$e>0);return[b(Q)*(R(Se*Se+4)+Se)*g/4,A*Re]};function Co(){return t.geoProjection(nv).scale(127.16)}function Zg(Q,le,me,xe,Se){function ke(Re,$e){var it=me*y(xe*$e),Ke=R(1-it*it),at=R(2/(1+Ke*o(Re*=Se)));return[Q*Ke*at*y(Re),le*it*at]}return ke.invert=function(Re,$e){var it=Re/Q,Ke=$e/le,at=R(it*it+Ke*Ke),gt=2*L(at/2);return[a(Re*x(gt),Q*at)/Se,at&&L($e*y(gt)/(le*me*at))/xe]},ke}function $g(Q,le,me,xe){var Se=g/3;Q=f(Q,m),le=f(le,m),Q=c(Q,A),le=c(le,g-m),me=f(me,0),me=c(me,100-m),xe=f(xe,m);var ke=me/100+1,Re=xe/100,$e=D(ke*o(Se))/Se,it=y(Q)/y($e*A),Ke=le/g,at=R(Re*y(Q/2)/y(le/2)),gt=at/R(Ke*it*$e),wt=1/(at*R(Ke*it*$e));return Zg(gt,wt,it,$e,Ke)}function Ls(){var Q=65*S,le=60*S,me=20,xe=200,Se=t.geoProjectionMutator($g),ke=Se(Q,le,me,xe);return ke.poleline=function(Re){return arguments.length?Se(Q=+Re*S,le,me,xe):Q*T},ke.parallels=function(Re){return arguments.length?Se(Q,le=+Re*S,me,xe):le*T},ke.inflation=function(Re){return arguments.length?Se(Q,le,me=+Re,xe):me},ke.ratio=function(Re){return arguments.length?Se(Q,le,me,xe=+Re):xe},ke.scale(163.775)}function F0(){return Ls().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Kg=4*g+3*R(3),Jg=2*R(2*g*R(3)/Kg),Qg=ne(Jg*R(3)/g,Jg,Kg/6);function gd(){return t.geoProjection(Qg).scale(176.84)}function yh(Q,le){return[Q*R(1-3*le*le/(g*g)),le]}yh.invert=function(Q,le){return[Q/R(1-3*le*le/(g*g)),le]};function N0(){return t.geoProjection(yh).scale(152.63)}function z0(Q,le){var me=o(le),xe=o(Q)*me,Se=1-xe,ke=o(Q=a(y(Q)*me,-y(le))),Re=y(Q);return me=R(1-xe*xe),[Re*me-ke*Se,-ke*me-Re*Se]}z0.invert=function(Q,le){var me=(Q*Q+le*le)/-2,xe=R(-me*(2+me)),Se=le*me+Q*xe,ke=Q*me-le*xe,Re=R(ke*ke+Se*Se);return[a(xe*Se,Re*(1+me)),Re?-L(xe*ke/Re):0]};function Xy(){return t.geoProjection(z0).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function iv(Q,le){var me=K(Q,le);return[(me[0]+Q/A)/2,(me[1]+le)/2]}iv.invert=function(Q,le){var me=Q,xe=le,Se=25;do{var ke=o(xe),Re=y(xe),$e=y(2*xe),it=Re*Re,Ke=ke*ke,at=y(me),gt=o(me/2),wt=y(me/2),Rt=wt*wt,Yt=1-Ke*gt*gt,Qt=Yt?D(ke*gt)*R(hr=1/Yt):hr=0,hr,qr=.5*(2*Qt*ke*wt+me/A)-Q,zr=.5*(Qt*Re+xe)-le,rn=.5*hr*(Ke*Rt+Qt*ke*gt*it)+.5/A,an=hr*(at*$e/4-Qt*Re*wt),nn=.125*hr*($e*wt-Qt*Re*Ke*at),xi=.5*hr*(it*gt+Qt*Rt*ke)+.5,Pi=an*nn-xi*rn,Ln=(zr*an-qr*xi)/Pi,ca=(qr*nn-zr*rn)/Pi;me-=Ln,xe-=ca}while((n(Ln)>m||n(ca)>m)&&--Se>0);return[me,xe]};function Wo(){return t.geoProjection(iv).scale(158.837)}e.geoNaturalEarth=t.geoNaturalEarth1,e.geoNaturalEarthRaw=t.geoNaturalEarth1Raw,e.geoAiry=Y,e.geoAiryRaw=V,e.geoAitoff=B,e.geoAitoffRaw=K,e.geoArmadillo=j,e.geoArmadilloRaw=z,e.geoAugust=ee,e.geoAugustRaw=ae,e.geoBaker=G,e.geoBakerRaw=se,e.geoBerghaus=X,e.geoBerghausRaw=Z,e.geoBertin1953=ce,e.geoBertin1953Raw=_e,e.geoBoggs=Te,e.geoBoggsRaw=ye,e.geoBonne=Le,e.geoBonneRaw=pe,e.geoBottomley=et,e.geoBottomleyRaw=Ue,e.geoBromley=dt,e.geoBromleyRaw=Qe,e.geoChamberlin=Ve,e.geoChamberlinRaw=St,e.geoChamberlinAfrica=je,e.geoCollignon=nt,e.geoCollignonRaw=Je,e.geoCraig=tt,e.geoCraigRaw=Be,e.geoCraster=Ht,e.geoCrasterRaw=yt,e.geoCylindricalEqualArea=tr,e.geoCylindricalEqualAreaRaw=Lt,e.geoCylindricalStereographic=Ct,e.geoCylindricalStereographicRaw=rr,e.geoEckert1=Sr,e.geoEckert1Raw=Zt,e.geoEckert2=Lr,e.geoEckert2Raw=gr,e.geoEckert3=Or,e.geoEckert3Raw=en,e.geoEckert4=qn,e.geoEckert4Raw=vn,e.geoEckert5=Qr,e.geoEckert5Raw=Kr,e.geoEckert6=Vn,e.geoEckert6Raw=kn,e.geoEisenlohr=ci,e.geoEisenlohrRaw=Nn,e.geoFahey=_i,e.geoFaheyRaw=Sn,e.geoFoucaut=Yi,e.geoFoucautRaw=ua,e.geoFoucautSinusoidal=ia,e.geoFoucautSinusoidalRaw=xn,e.geoGilbert=fa,e.geoGingery=ho,e.geoGingeryRaw=Ea,e.geoGinzburg4=au,e.geoGinzburg4Raw=Ji,e.geoGinzburg5=ou,e.geoGinzburg5Raw=Rl,e.geoGinzburg6=st,e.geoGinzburg6Raw=Ie,e.geoGinzburg8=xt,e.geoGinzburg8Raw=lt,e.geoGinzburg9=At,e.geoGinzburg9Raw=Vt,e.geoGringorten=Mr,e.geoGringortenRaw=Pt,e.geoGuyou=Xi,e.geoGuyouRaw=oi,e.geoHammer=Pe,e.geoHammerRaw=ge,e.geoHammerRetroazimuthal=La,e.geoHammerRetroazimuthalRaw=Qi,e.geoHealpix=Ho,e.geoHealpixRaw=xa,e.geoHill=Il,e.geoHillRaw=Bs,e.geoHomolosine=ju,e.geoHomolosineRaw=Ni,e.geoHufnagel=jo,e.geoHufnagelRaw=Qa,e.geoHyperelliptical=fs,e.geoHyperellipticalRaw=us,e.geoInterrupt=ul,e.geoInterruptedBoggs=R0,e.geoInterruptedHomolosine=Gu,e.geoInterruptedMollweide=Go,e.geoInterruptedMollweideHemispheres=Yu,e.geoInterruptedSinuMollweide=As,e.geoInterruptedSinusoidal=Xu,e.geoKavrayskiy7=Af,e.geoKavrayskiy7Raw=lu,e.geoLagrange=oh,e.geoLagrangeRaw=ah,e.geoLarrivee=Pl,e.geoLarriveeRaw=Zu,e.geoLaskowski=za,e.geoLaskowskiRaw=cs,e.geoLittrow=js,e.geoLittrowRaw=po,e.geoLoximuthal=uu,e.geoLoximuthalRaw=$u,e.geoMiller=pc,e.geoMillerRaw=Mf,e.geoModifiedStereographic=fl,e.geoModifiedStereographicRaw=sh,e.geoModifiedStereographicAlaska=lh,e.geoModifiedStereographicGs48=Kh,e.geoModifiedStereographicGs50=od,e.geoModifiedStereographicMiller=mc,e.geoModifiedStereographicLee=yc,e.geoMollweide=Fe,e.geoMollweideRaw=be,e.geoMtFlatPolarParabolic=sd,e.geoMtFlatPolarParabolicRaw=fh,e.geoMtFlatPolarQuartic=ld,e.geoMtFlatPolarQuarticRaw=xc,e.geoMtFlatPolarSinusoidal=Ju,e.geoMtFlatPolarSinusoidalRaw=Lo,e.geoNaturalEarth2=bc,e.geoNaturalEarth2Raw=kf,e.geoNellHammer=fu,e.geoNellHammerRaw=wc,e.geoInterruptedQuarticAuthalic=Jh,e.geoNicolosi=ud,e.geoNicolosiRaw=Qh,e.geoPatterson=Ra,e.geoPattersonRaw=hi,e.geoPolyconic=hh,e.geoPolyconicRaw=vi,e.geoPolyhedral=Fl,e.geoPolyhedralButterfly=cu,e.geoPolyhedralCollignon=cd,e.geoPolyhedralWaterman=vu,e.geoProject=ph,e.geoGringortenQuincuncial=Ae,e.geoPeirceQuincuncial=ze,e.geoPierceQuincuncial=ze,e.geoQuantize=rt,e.geoQuincuncial=wa,e.geoRectangularPolyconic=mt,e.geoRectangularPolyconicRaw=Ze,e.geoRobinson=Xt,e.geoRobinsonRaw=Ut,e.geoSatellite=jt,e.geoSatelliteRaw=ar,e.geoSinuMollweide=Uu,e.geoSinuMollweideRaw=Hs,e.geoSinusoidal=oe,e.geoSinusoidalRaw=De,e.geoStitch=Hi,e.geoTimes=ei,e.geoTimesRaw=Cr,e.geoTwoPointAzimuthal=Nl,e.geoTwoPointAzimuthalRaw=go,e.geoTwoPointAzimuthalUsa=Pa,e.geoTwoPointEquidistant=Ws,e.geoTwoPointEquidistantRaw=pl,e.geoTwoPointEquidistantUsa=rf,e.geoVanDerGrinten=Yo,e.geoVanDerGrintenRaw=nf,e.geoVanDerGrinten2=dd,e.geoVanDerGrinten2Raw=mh,e.geoVanDerGrinten3=Xg,e.geoVanDerGrinten3Raw=pd,e.geoVanDerGrinten4=Co,e.geoVanDerGrinten4Raw=nv,e.geoWagner=Ls,e.geoWagner7=F0,e.geoWagnerRaw=$g,e.geoWagner4=gd,e.geoWagner4Raw=Qg,e.geoWagner6=N0,e.geoWagner6Raw=yh,e.geoWiechel=Xy,e.geoWiechelRaw=z0,e.geoWinkel3=Wo,e.geoWinkel3Raw=iv,Object.defineProperty(e,"__esModule",{value:!0})})});var Yye=$((YDt,Gye)=>{"use strict";var zo=Nr(),jI=pt(),Vht=Ir(),vy=Math.PI/180,ug=180/Math.PI,GI={cursor:"pointer"},YI={cursor:"auto"};function Ght(e,t){var r=e.projection,n;return t._isScoped?n=Yht:t._isClipped?n=Xht:n=Wht,n(e,r)}Gye.exports=Ght;function WI(e,t){return zo.behavior.zoom().translate(t.translate()).scale(t.scale())}function XI(e,t,r){var n=e.id,i=e.graphDiv,a=i.layout,o=a[n],s=i._fullLayout,l=s[n],u={},f={};function c(h,v){u[n+"."+h]=jI.nestedProperty(o,h).get(),Vht.call("_storeDirectGUIEdit",a,s._preGUI,u);var b=jI.nestedProperty(l,h);b.get()!==v&&(b.set(v),jI.nestedProperty(o,h).set(v),f[n+"."+h]=v)}r(c),c("projection.scale",t.scale()/e.fitScale),c("fitbounds",!1),i.emit("plotly_relayout",f)}function Yht(e,t){var r=WI(e,t);function n(){zo.select(this).style(GI)}function i(){t.scale(zo.event.scale).translate(zo.event.translate),e.render();var s=t.invert(e.midPt);e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":s[0],"geo.center.lat":s[1]})}function a(s){var l=t.invert(e.midPt);s("center.lon",l[0]),s("center.lat",l[1])}function o(){zo.select(this).style(YI),XI(e,t,a)}return r.on("zoomstart",n).on("zoom",i).on("zoomend",o),r}function Wht(e,t){var r=WI(e,t),n=2,i,a,o,s,l,u,f,c,h;function v(g){return t.invert(g)}function b(g){var A=v(g);if(!A)return!0;var w=t(A);return Math.abs(w[0]-g[0])>n||Math.abs(w[1]-g[1])>n}function y(){zo.select(this).style(GI),i=zo.mouse(this),a=t.rotate(),o=t.translate(),s=a,l=v(i)}function x(){if(u=zo.mouse(this),b(i)){r.scale(t.scale()),r.translate(t.translate());return}t.scale(zo.event.scale),t.translate([o[0],zo.event.translate[1]]),l?v(u)&&(c=v(u),f=[s[0]+(c[0]-l[0]),a[1],a[2]],t.rotate(f),s=f):(i=u,l=v(i)),h=!0,e.render();var g=t.rotate(),A=t.invert(e.midPt);e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":A[0],"geo.center.lat":A[1],"geo.projection.rotation.lon":-g[0]})}function m(){zo.select(this).style(YI),h&&XI(e,t,_)}function _(g){var A=t.rotate(),w=t.invert(e.midPt);g("projection.rotation.lon",-A[0]),g("center.lon",w[0]),g("center.lat",w[1])}return r.on("zoomstart",y).on("zoom",x).on("zoomend",m),r}function Xht(e,t){var r={r:t.rotate(),k:t.scale()},n=WI(e,t),i=rvt(n,"zoomstart","zoom","zoomend"),a=0,o=n.on,s;n.on("zoomstart",function(){zo.select(this).style(GI);var h=zo.mouse(this),v=t.rotate(),b=v,y=t.translate(),x=Zht(v);s=Sk(t,h),o.call(n,"zoom",function(){var m=zo.mouse(this);if(t.scale(r.k=zo.event.scale),!s)h=m,s=Sk(t,h);else if(Sk(t,m)){t.rotate(v).translate(y);var _=Sk(t,m),g=Kht(s,_),A=Qht($ht(x,g)),w=r.r=Jht(A,s,b);(!isFinite(w[0])||!isFinite(w[1])||!isFinite(w[2]))&&(w=b),t.rotate(w),b=w}u(i.of(this,arguments))}),l(i.of(this,arguments))}).on("zoomend",function(){zo.select(this).style(YI),o.call(n,"zoom",null),f(i.of(this,arguments)),XI(e,t,c)}).on("zoom.redraw",function(){e.render();var h=t.rotate();e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.projection.rotation.lon":-h[0],"geo.projection.rotation.lat":-h[1]})});function l(h){a++||h({type:"zoomstart"})}function u(h){h({type:"zoom"})}function f(h){--a||h({type:"zoomend"})}function c(h){var v=t.rotate();h("projection.rotation.lon",-v[0]),h("projection.rotation.lat",-v[1])}return zo.rebind(n,i,"on")}function Sk(e,t){var r=e.invert(t);return r&&isFinite(r[0])&&isFinite(r[1])&&evt(r)}function Zht(e){var t=.5*e[0]*vy,r=.5*e[1]*vy,n=.5*e[2]*vy,i=Math.sin(t),a=Math.cos(t),o=Math.sin(r),s=Math.cos(r),l=Math.sin(n),u=Math.cos(n);return[a*s*u+i*o*l,i*s*u-a*o*l,a*o*u+i*s*l,a*s*l-i*o*u]}function $ht(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],o=t[0],s=t[1],l=t[2],u=t[3];return[r*o-n*s-i*l-a*u,r*s+n*o+i*u-a*l,r*l-n*u+i*o+a*s,r*u+n*l-i*s+a*o]}function Kht(e,t){if(!(!e||!t)){var r=tvt(e,t),n=Math.sqrt(Vye(r,r)),i=.5*Math.acos(Math.max(-1,Math.min(1,Vye(e,t)))),a=Math.sin(i)/n;return n&&[Math.cos(i),r[2]*a,-r[1]*a,r[0]*a]}}function Jht(e,t,r){var n=VI(t,2,e[0]);n=VI(n,1,e[1]),n=VI(n,0,e[2]-r[2]);var i=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=n[2],f=Math.atan2(a,i)*ug,c=Math.sqrt(i*i+a*a),h,v;Math.abs(l)>c?(v=(l>0?90:-90)-f,h=0):(v=Math.asin(l/c)*ug-f,h=Math.sqrt(c*c-l*l));var b=180-v-2*f,y=(Math.atan2(u,s)-Math.atan2(o,h))*ug,x=(Math.atan2(u,s)-Math.atan2(o,-h))*ug,m=Uye(r[0],r[1],v,y),_=Uye(r[0],r[1],b,x);return m<=_?[v,y,r[2]]:[b,x,r[2]]}function Uye(e,t,r,n){var i=jye(r-e),a=jye(n-t);return Math.sqrt(i*i+a*a)}function jye(e){return(e%360+540)%360-180}function VI(e,t,r){var n=r*vy,i=e.slice(),a=t===0?1:0,o=t===2?1:2,s=Math.cos(n),l=Math.sin(n);return i[a]=e[a]*s-e[o]*l,i[o]=e[o]*s+e[a]*l,i}function Qht(e){return[Math.atan2(2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[1]*e[1]+e[2]*e[2]))*ug,Math.asin(Math.max(-1,Math.min(1,2*(e[0]*e[2]-e[3]*e[1]))))*ug,Math.atan2(2*(e[0]*e[3]+e[1]*e[2]),1-2*(e[2]*e[2]+e[3]*e[3]))*ug]}function evt(e){var t=e[0]*vy,r=e[1]*vy,n=Math.cos(r);return[n*Math.cos(t),n*Math.sin(t),Math.sin(r)]}function Vye(e,t){for(var r=0,n=0,i=e.length;n<i;++n)r+=e[n]*t[n];return r}function tvt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function rvt(e){for(var t=0,r=arguments.length,n=[];++t<r;)n.push(arguments[t]);var i=zo.dispatch.apply(null,n);return i.of=function(a,o){return function(s){var l;try{l=s.sourceEvent=zo.event,s.target=e,zo.event=s,i[s.type].apply(a,o)}finally{zo.event=l}}},i}});var Qye=$((WDt,Jye)=>{"use strict";var Yv=Nr(),KI=UI(),nvt=KI.geoPath,ivt=KI.geoDistance,avt=Hye(),ovt=Ir(),nw=pt(),svt=nw.strTranslate,Ek=Rr(),rw=un(),Wye=lo(),lvt=Zi(),$I=tn(),Xye=Pc().getAutoRange,ZI=Gl(),uvt=Qs().prepSelect,fvt=Qs().clearOutline,cvt=Qs().selectOnClick,hvt=Yye(),eu=J2(),vvt=_k(),$ye=gk(),dvt=TI().feature;function Kye(e){this.id=e.id,this.graphDiv=e.graphDiv,this.container=e.container,this.topojsonURL=e.topojsonURL,this.isStatic=e.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var jh=Kye.prototype;Jye.exports=function(t){return new Kye(t)};jh.plot=function(e,t,r){var n=this,i=t[this.id],a=[],o=!1;for(var s in eu.layerNameToAdjective)if(s!=="frame"&&i["show"+s]){o=!0;break}for(var l=0;l<e.length;l++)if(e[0][0].trace.locationmode){o=!0;break}if(o){var u=$ye.getTopojsonName(i);(n.topojson===null||u!==n.topojsonName)&&(n.topojsonName=u,PlotlyGeoAssets.topojson[n.topojsonName]===void 0&&a.push(n.fetchTopojson()))}a=a.concat(vvt.fetchTraceGeoData(e)),r.push(new Promise(function(f,c){Promise.all(a).then(function(){n.topojson=PlotlyGeoAssets.topojson[n.topojsonName],n.update(e,t),f()}).catch(c)}))};jh.fetchTopojson=function(){var e=this,t=$ye.getTopojsonPath(e.topojsonURL,e.topojsonName);return new Promise(function(r,n){Yv.json(t,function(i,a){if(i)return i.status===404?n(new Error(["plotly.js could not find topojson file at",t+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):n(new Error(["unexpected error while fetching topojson file at",t].join(" ")));PlotlyGeoAssets.topojson[e.topojsonName]=a,r()})})};jh.update=function(e,t){var r=t[this.id];this.hasChoropleth=!1;for(var n=0;n<e.length;n++){var i=e[n],a=i[0].trace;a.type==="choropleth"&&(this.hasChoropleth=!0),a.visible===!0&&a._length>0&&a._module.calcGeoJSON(i,t)}var o=this.updateProjection(e,t);if(!o){(!this.viewInitial||this.scope!==r.scope)&&this.saveViewInitial(r),this.scope=r.scope,this.updateBaseLayers(t,r),this.updateDims(t,r),this.updateFx(t,r),lvt.generalUpdatePerTraceModule(this.graphDiv,this,e,r);var s=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=s.selectAll(".point"),this.dataPoints.text=s.selectAll("text"),this.dataPaths.line=s.selectAll(".js-line");var l=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=l.selectAll("path"),this.render()}};jh.updateProjection=function(e,t){var r=this.graphDiv,n=t[this.id],i=t._size,a=n.domain,o=n.projection,s=n.lonaxis,l=n.lataxis,u=s._ax,f=l._ax,c=this.projection=pvt(n),h=[[i.l+i.w*a.x[0],i.t+i.h*(1-a.y[1])],[i.l+i.w*a.x[1],i.t+i.h*(1-a.y[0])]],v=n.center||{},b=o.rotation||{},y=s.range||[],x=l.range||[];if(n.fitbounds){u._length=h[1][0]-h[0][0],f._length=h[1][1]-h[0][1],u.range=Xye(r,u),f.range=Xye(r,f);var m=(u.range[0]+u.range[1])/2,_=(f.range[0]+f.range[1])/2;if(n._isScoped)v={lon:m,lat:_};else if(n._isClipped){v={lon:m,lat:_},b={lon:m,lat:_,roll:b.roll};var g=o.type,A=eu.lonaxisSpan[g]/2||180,w=eu.lataxisSpan[g]/2||90;y=[m-A,m+A],x=[_-w,_+w]}else v={lon:m,lat:_},b={lon:m,lat:b.lat,roll:b.roll}}c.center([v.lon-b.lon,v.lat-b.lat]).rotate([-b.lon,-b.lat,b.roll]).parallels(o.parallels);var k=Zye(y,x);c.fitExtent(h,k);var p=this.bounds=c.getBounds(k),d=this.fitScale=c.scale(),M=c.translate();if(n.fitbounds){var T=c.getBounds(Zye(u.range,f.range)),S=Math.min((p[1][0]-p[0][0])/(T[1][0]-T[0][0]),(p[1][1]-p[0][1])/(T[1][1]-T[0][1]));isFinite(S)?c.scale(S*d):nw.warn("Something went wrong during"+this.id+"fitbounds computations.")}else c.scale(o.scale*d);var E=this.midPt=[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2];if(c.translate([M[0]+(E[0]-M[0]),M[1]+(E[1]-M[1])]).clipExtent(p),n._isAlbersUsa){var L=c([v.lon,v.lat]),D=c.translate();c.translate([D[0]-(L[0]-D[0]),D[1]-(L[1]-D[1])])}};jh.updateBaseLayers=function(e,t){var r=this,n=r.topojson,i=r.layers,a=r.basePaths;function o(h){return h==="lonaxis"||h==="lataxis"}function s(h){return Boolean(eu.lineLayers[h])}function l(h){return Boolean(eu.fillLayers[h])}var u=this.hasChoropleth?eu.layersForChoropleth:eu.layers,f=u.filter(function(h){return s(h)||l(h)?t["show"+h]:o(h)?t[h].showgrid:!0}),c=r.framework.selectAll(".layer").data(f,String);c.exit().each(function(h){delete i[h],delete a[h],Yv.select(this).remove()}),c.enter().append("g").attr("class",function(h){return"layer "+h}).each(function(h){var v=i[h]=Yv.select(this);h==="bg"?r.bgRect=v.append("rect").style("pointer-events","all"):o(h)?a[h]=v.append("path").style("fill","none"):h==="backplot"?v.append("g").classed("choroplethlayer",!0):h==="frontplot"?v.append("g").classed("scatterlayer",!0):s(h)?a[h]=v.append("path").style("fill","none").style("stroke-miterlimit",2):l(h)&&(a[h]=v.append("path").style("stroke","none"))}),c.order(),c.each(function(h){var v=a[h],b=eu.layerNameToAdjective[h];h==="frame"?v.datum(eu.sphereSVG):s(h)||l(h)?v.datum(dvt(n,n.objects[h])):o(h)&&v.datum(gvt(h,t,e)).call(Ek.stroke,t[h].gridcolor).call(rw.dashLine,t[h].griddash,t[h].gridwidth),s(h)?v.call(Ek.stroke,t[b+"color"]).call(rw.dashLine,"",t[b+"width"]):l(h)&&v.call(Ek.fill,t[b+"color"])})};jh.updateDims=function(e,t){var r=this.bounds,n=(t.framewidth||0)/2,i=r[0][0]-n,a=r[0][1]-n,o=r[1][0]-i+n,s=r[1][1]-a+n;rw.setRect(this.clipRect,i,a,o,s),this.bgRect.call(rw.setRect,i,a,o,s).call(Ek.fill,t.bgcolor),this.xaxis._offset=i,this.xaxis._length=o,this.yaxis._offset=a,this.yaxis._length=s};jh.updateFx=function(e,t){var r=this,n=r.graphDiv,i=r.bgRect,a=e.dragmode,o=e.clickmode;if(r.isStatic)return;function s(){var c=r.viewInitial,h={};for(var v in c)h[r.id+"."+v]=c[v];ovt.call("_guiRelayout",n,h),n.emit("plotly_doubleclick",null)}function l(c){return r.projection.invert([c[0]+r.xaxis._offset,c[1]+r.yaxis._offset])}var u=function(c,h){if(h.isRect){var v=c.range={};v[r.id]=[l([h.xmin,h.ymin]),l([h.xmax,h.ymax])]}else{var b=c.lassoPoints={};b[r.id]=h.map(l)}},f={element:r.bgRect.node(),gd:n,plotinfo:{id:r.id,xaxis:r.xaxis,yaxis:r.yaxis,fillRangeItems:u},xaxes:[r.xaxis],yaxes:[r.yaxis],subplot:r.id,clickFn:function(c){c===2&&fvt(n)}};a==="pan"?(i.node().onmousedown=null,i.call(hvt(r,t)),i.on("dblclick.zoom",s),n._context._scrollZoom.geo||i.on("wheel.zoom",null)):(a==="select"||a==="lasso")&&(i.on(".zoom",null),f.prepFn=function(c,h,v){uvt(c,h,v,f,a)},ZI.init(f)),i.on("mousemove",function(){var c=r.projection.invert(nw.getPositionFromD3Event());if(!c)return ZI.unhover(n,Yv.event);r.xaxis.p2c=function(){return c[0]},r.yaxis.p2c=function(){return c[1]},Wye.hover(n,Yv.event,r.id)}),i.on("mouseout",function(){n._dragging||ZI.unhover(n,Yv.event)}),i.on("click",function(){a!=="select"&&a!=="lasso"&&(o.indexOf("select")>-1&&cvt(Yv.event,n,[r.xaxis],[r.yaxis],r.id,f),o.indexOf("event")>-1&&Wye.click(n,Yv.event))})};jh.makeFramework=function(){var e=this,t=e.graphDiv,r=t._fullLayout,n="clip"+r._uid+e.id;e.clipDef=r._clips.append("clipPath").attr("id",n),e.clipRect=e.clipDef.append("rect"),e.framework=Yv.select(e.container).append("g").attr("class","geo "+e.id).call(rw.setClipUrl,n,t),e.project=function(i){var a=e.projection(i);return a?[a[0]-e.xaxis._offset,a[1]-e.yaxis._offset]:[null,null]},e.xaxis={_id:"x",c2p:function(i){return e.project(i)[0]}},e.yaxis={_id:"y",c2p:function(i){return e.project(i)[1]}},e.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},$I.setConvert(e.mockAxis,r)};jh.saveViewInitial=function(e){var t=e.center||{},r=e.projection,n=r.rotation||{};this.viewInitial={fitbounds:e.fitbounds,"projection.scale":r.scale};var i;e._isScoped?i={"center.lon":t.lon,"center.lat":t.lat}:e._isClipped?i={"projection.rotation.lon":n.lon,"projection.rotation.lat":n.lat}:i={"center.lon":t.lon,"center.lat":t.lat,"projection.rotation.lon":n.lon},nw.extendFlat(this.viewInitial,i)};jh.render=function(){var e=this.projection,t=e.getPath(),r;function n(a){var o=e(a.lonlat);return o?svt(o[0],o[1]):null}function i(a){return e.isLonLatOverEdges(a.lonlat)?"none":null}for(r in this.basePaths)this.basePaths[r].attr("d",t);for(r in this.dataPaths)this.dataPaths[r].attr("d",function(a){return t(a.geojson)});for(r in this.dataPoints)this.dataPoints[r].attr("display",i).attr("transform",n)};function pvt(e){var t=e.projection,r=t.type,n=eu.projNames[r];n="geo"+nw.titleCase(n);for(var i=KI[n]||avt[n],a=i(),o=e._isSatellite?Math.acos(1/t.distance)*180/Math.PI:e._isClipped?eu.lonaxisSpan[r]/2:null,s=["center","rotate","parallels","clipExtent"],l=function(c){return c?a:[]},u=0;u<s.length;u++){var f=s[u];typeof a[f]!="function"&&(a[f]=l)}return a.isLonLatOverEdges=function(c){if(a(c)===null)return!0;if(o){var h=a.rotate(),v=ivt(c,[-h[0],-h[1]]),b=o*Math.PI/180;return v>b}else return!1},a.getPath=function(){return nvt().projection(a)},a.getBounds=function(c){return a.getPath().bounds(c)},a.precision(eu.precision),e._isSatellite&&a.tilt(t.tilt).distance(t.distance),o&&a.clipAngle(o-eu.clipPad),a}function gvt(e,t,r){var n=1e-6,i=2.5,a=t[e],o=eu.scopeDefaults[t.scope],s,l,u;e==="lonaxis"?(s=o.lonaxisRange,l=o.lataxisRange,u=function(_,g){return[_,g]}):e==="lataxis"&&(s=o.lataxisRange,l=o.lonaxisRange,u=function(_,g){return[g,_]});var f={type:"linear",range:[s[0],s[1]-n],tick0:a.tick0,dtick:a.dtick};$I.setConvert(f,r);var c=$I.calcTicks(f);!t.isScoped&&e==="lonaxis"&&c.pop();for(var h=c.length,v=new Array(h),b=0;b<h;b++)for(var y=c[b].x,x=v[b]=[],m=l[0];m<l[1]+i;m+=i)x.push(u(y,m));return{type:"MultiLineString",coordinates:v}}function Zye(e,t){var r=eu.clipPad,n=e[0]+r,i=e[1]-r,a=t[0]+r,o=t[1]-r;n>0&&i<0&&(i+=360);var s=(i-n)/4;return{type:"Polygon",coordinates:[[[n,a],[n,o],[n+s,o],[n+2*s,o],[n+3*s,o],[i,o],[i,a],[i-s,a],[i-2*s,a],[i-3*s,a],[n,a]]]}}});var JI=$((XDt,rxe)=>{"use strict";var py=Ro(),mvt=Ua().attributes,yvt=Ul().dash,dy=J2(),xvt=Fa().overrideAll,exe=_x(),txe={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}],description:["Sets the range of this axis (in degrees),","sets the map's clipped coordinates."].join(" ")},showgrid:{valType:"boolean",dflt:!1,description:"Sets whether or not graticule are shown on the map."},tick0:{valType:"number",dflt:0,description:["Sets the graticule's starting tick longitude/latitude."].join(" ")},dtick:{valType:"number",description:["Sets the graticule's longitude/latitude tick step."].join(" ")},gridcolor:{valType:"color",dflt:py.lightLine,description:["Sets the graticule's stroke color."].join(" ")},gridwidth:{valType:"number",min:0,dflt:1,description:["Sets the graticule's stroke width (in px)."].join(" ")},griddash:yvt},bvt=rxe.exports=xvt({domain:mvt({name:"geo"},{description:["Note that geo subplots are constrained by domain.","In general, when `projection.scale` is set to 1.","a map will fit either its x or y domain, but not both."].join(" ")}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot",description:["Determines if this subplot's view settings are auto-computed to fit trace data.","On scoped maps, setting `fitbounds` leads to `center.lon` and `center.lat` getting auto-filled.","On maps with a non-clipped projection, setting `fitbounds` leads to `center.lon`, `center.lat`,","and `projection.rotation.lon` getting auto-filled.","On maps with a clipped projection, setting `fitbounds` leads to `center.lon`, `center.lat`,","`projection.rotation.lon`, `projection.rotation.lat`, `lonaxis.range` and `lonaxis.range`","getting auto-filled.","If *locations*, only the trace's visible locations are considered in the `fitbounds` computations.","If *geojson*, the entire trace input `geojson` (if provided) is considered in the `fitbounds` computations,","Defaults to *false*."].join(" ")},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0,description:["Sets the resolution of the base layers.","The values have units of km/mm","e.g. 110 corresponds to a scale ratio of 1:110,000,000."].join(" ")},scope:{valType:"enumerated",values:exe(dy.scopeDefaults),dflt:"world",description:"Set the scope of the map."},projection:{type:{valType:"enumerated",values:exe(dy.projNames),description:"Sets the projection type."},rotation:{lon:{valType:"number",description:["Rotates the map along parallels","(in degrees East).","Defaults to the center of the `lonaxis.range` values."].join(" ")},lat:{valType:"number",description:["Rotates the map along meridians","(in degrees North)."].join(" ")},roll:{valType:"number",description:["Roll the map (in degrees)","For example, a roll of *180* makes the map appear upside down."].join(" ")}},tilt:{valType:"number",dflt:0,description:["For satellite projection type only.","Sets the tilt angle of perspective projection."].join(" ")},distance:{valType:"number",min:1.001,dflt:2,description:["For satellite projection type only.","Sets the distance from the center of the sphere to the point of view","as a proportion of the sphere\u2019s radius."].join(" ")},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}],description:["For conic projection types only.","Sets the parallels (tangent, secant)","where the cone intersects the sphere."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Zooms in or out on the map view.","A scale of *1* corresponds to the largest zoom level","that fits the map's lon and lat ranges. "].join(" ")}},center:{lon:{valType:"number",description:["Sets the longitude of the map's center.","By default, the map's longitude center lies at the middle of the longitude range","for scoped projection and above `projection.rotation.lon` otherwise."].join(" ")},lat:{valType:"number",description:["Sets the latitude of the map's center.","For all projection types, the map's latitude center lies","at the middle of the latitude range by default."].join(" ")}},visible:{valType:"boolean",dflt:!0,description:"Sets the default visibility of the base layers."},showcoastlines:{valType:"boolean",description:"Sets whether or not the coastlines are drawn."},coastlinecolor:{valType:"color",dflt:py.defaultLine,description:"Sets the coastline color."},coastlinewidth:{valType:"number",min:0,dflt:1,description:"Sets the coastline stroke width (in px)."},showland:{valType:"boolean",dflt:!1,description:"Sets whether or not land masses are filled in color."},landcolor:{valType:"color",dflt:dy.landColor,description:"Sets the land mass color."},showocean:{valType:"boolean",dflt:!1,description:"Sets whether or not oceans are filled in color."},oceancolor:{valType:"color",dflt:dy.waterColor,description:"Sets the ocean color"},showlakes:{valType:"boolean",dflt:!1,description:"Sets whether or not lakes are drawn."},lakecolor:{valType:"color",dflt:dy.waterColor,description:"Sets the color of the lakes."},showrivers:{valType:"boolean",dflt:!1,description:"Sets whether or not rivers are drawn."},rivercolor:{valType:"color",dflt:dy.waterColor,description:"Sets color of the rivers."},riverwidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the rivers."},showcountries:{valType:"boolean",description:"Sets whether or not country boundaries are drawn."},countrycolor:{valType:"color",dflt:py.defaultLine,description:"Sets line color of the country boundaries."},countrywidth:{valType:"number",min:0,dflt:1,description:"Sets line width (in px) of the country boundaries."},showsubunits:{valType:"boolean",description:["Sets whether or not boundaries of subunits within countries","(e.g. states, provinces) are drawn."].join(" ")},subunitcolor:{valType:"color",dflt:py.defaultLine,description:"Sets the color of the subunits boundaries."},subunitwidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the subunits boundaries."},showframe:{valType:"boolean",description:"Sets whether or not a frame is drawn around the map."},framecolor:{valType:"color",dflt:py.defaultLine,description:"Sets the color the frame."},framewidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the frame."},bgcolor:{valType:"color",dflt:py.background,description:"Set the background color of the map"},lonaxis:txe,lataxis:txe},"plot","from-root");bvt.uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in the view","(projection and center). Defaults to `layout.uirevision`."].join(" ")}});var axe=$((ZDt,ixe)=>{"use strict";var Lk=pt(),wvt=E2(),_vt=Au().getSubplotData,Ck=J2(),Tvt=JI(),nxe=Ck.axesNames;ixe.exports=function(t,r,n){wvt(t,r,n,{type:"geo",attributes:Tvt,handleDefaults:Avt,fullData:n,partition:"y"})};function Avt(e,t,r,n){var i=_vt(n.fullData,"geo",n.id),a=i.map(function(V){return V._expandedIndex}),o=r("resolution"),s=r("scope"),l=Ck.scopeDefaults[s],u=r("projection.type",l.projType),f=t._isAlbersUsa=u==="albers usa";f&&(s=t.scope="usa");var c=t._isScoped=s!=="world",h=t._isSatellite=u==="satellite",v=t._isConic=u.indexOf("conic")!==-1||u==="albers",b=t._isClipped=!!Ck.lonaxisSpan[u];if(e.visible===!1){var y=Lk.extendDeep({},t._template);y.showcoastlines=!1,y.showcountries=!1,y.showframe=!1,y.showlakes=!1,y.showland=!1,y.showocean=!1,y.showrivers=!1,y.showsubunits=!1,y.lonaxis&&(y.lonaxis.showgrid=!1),y.lataxis&&(y.lataxis.showgrid=!1),t._template=y}for(var x=r("visible"),m,_=0;_<nxe.length;_++){var g=nxe[_],A=[30,10][_],w;if(c)w=l[g+"Range"];else{var k=Ck[g+"Span"],p=(k[u]||k["*"])/2,d=r("projection.rotation."+g.substr(0,3),l.projRotate[_]);w=[d-p,d+p]}var M=r(g+".range",w);r(g+".tick0"),r(g+".dtick",A),m=r(g+".showgrid",x?void 0:!1),m&&(r(g+".gridcolor"),r(g+".gridwidth"),r(g+".griddash")),t[g]._ax={type:"linear",_id:g.slice(0,3),_traceIndices:a,setScale:Lk.identity,c2l:Lk.identity,r2l:Lk.identity,autorange:!0,range:M.slice(),_m:1,_input:{}}}var T=t.lonaxis.range,S=t.lataxis.range,E=T[0],L=T[1];E>0&&L<0&&(L+=360);var D=(E+L)/2,R;if(!f){var q=c?l.projRotate:[D,0,0];R=r("projection.rotation.lon",q[0]),r("projection.rotation.lat",q[1]),r("projection.rotation.roll",q[2]),m=r("showcoastlines",!c&&x),m&&(r("coastlinecolor"),r("coastlinewidth")),m=r("showocean",x?void 0:!1),m&&r("oceancolor")}var C,F;if(f?(C=-96.6,F=38.7):(C=c?D:R,F=(S[0]+S[1])/2),r("center.lon",C),r("center.lat",F),h&&(r("projection.tilt"),r("projection.distance")),v){var N=l.projParallels||[0,60];r("projection.parallels",N)}r("projection.scale"),m=r("showland",x?void 0:!1),m&&r("landcolor"),m=r("showlakes",x?void 0:!1),m&&r("lakecolor"),m=r("showrivers",x?void 0:!1),m&&(r("rivercolor"),r("riverwidth")),m=r("showcountries",c&&s!=="usa"&&x),m&&(r("countrycolor"),r("countrywidth")),(s==="usa"||s==="north america"&&o===50)&&(r("showsubunits",x),r("subunitcolor"),r("subunitwidth")),c||(m=r("showframe",x),m&&(r("framecolor"),r("framewidth"))),r("bgcolor");var U=r("fitbounds");U&&(delete t.projection.scale,c?(delete t.center.lon,delete t.center.lat):b?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}});var QI=$(($Dt,lxe)=>{"use strict";var Mvt=Au().getSubplotCalcData,kvt=pt().counterRegex,Svt=Qye(),Vh="geo",oxe=kvt(Vh),sxe={};sxe[Vh]={valType:"subplotid",dflt:Vh,editType:"calc",description:["Sets a reference between this trace's geospatial coordinates and","a geographic map.","If *geo* (the default value), the geospatial coordinates refer to","`layout.geo`.","If *geo2*, the geospatial coordinates refer to `layout.geo2`,","and so on."].join(" ")};function Evt(e){for(var t=e._fullLayout,r=e.calcdata,n=t._subplots[Vh],i=0;i<n.length;i++){var a=n[i],o=Mvt(r,Vh,a),s=t[a],l=s._subplot;l||(l=Svt({id:a,graphDiv:e,container:t._geolayer.node(),topojsonURL:e._context.topojsonURL,staticPlot:e._context.staticPlot}),t[a]._subplot=l),l.plot(o,t,e._promises)}}function Lvt(e,t,r,n){for(var i=n._subplots[Vh]||[],a=0;a<i.length;a++){var o=i[a],s=n[o]._subplot;!t[o]&&s&&(s.framework.remove(),s.clipDef.remove())}}function Cvt(e){for(var t=e._fullLayout,r=t._subplots[Vh],n=0;n<r.length;n++){var i=t[r[n]],a=i._subplot;a.updateFx(t,i)}}lxe.exports={attr:Vh,name:Vh,idRoot:Vh,idRegex:oxe,attrRegex:oxe,attributes:sxe,layoutAttributes:JI(),supplyLayoutDefaults:axe(),plot:Evt,updateFx:Cvt,clean:Lvt}});var fxe=$((KDt,uxe)=>{"use strict";uxe.exports={attributes:K2(),supplyDefaults:Gme(),colorbar:Zf(),formatLabels:Xme(),calc:Qme(),calcGeoJSON:HI().calcGeoJSON,plot:HI().plot,style:FI(),styleOnSelect:gf().styleOnSelect,hoverPoints:qye(),eventData:Iye(),selectPoints:Nye(),moduleType:"trace",name:"scattergeo",basePlotModule:QI(),categories:["geo","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_geo",description:["The data visualized as scatter point or lines on a geographic map","is provided either by longitude/latitude pairs in `lon` and `lat`","respectively or by geographic location IDs or names in `locations`."].join(" ")}}});var hxe=$((JDt,cxe)=>{"use strict";cxe.exports=fxe()});var Dk=$((QDt,pxe)=>{"use strict";var Dvt=Yn().hovertemplateAttrs,v0=K2(),qvt=Ma(),vxe=aa(),Rvt=Ro().defaultLine,h0=ln().extendFlat,dxe=v0.marker.line;pxe.exports=h0({locations:{valType:"data_array",editType:"calc",description:["Sets the coordinates via location IDs or names.","See `locationmode` for more info."].join(" ")},locationmode:v0.locationmode,z:{valType:"data_array",editType:"calc",description:"Sets the color values."},geojson:h0({},v0.geojson,{description:["Sets optional GeoJSON data associated with this trace.","If not given, the features on the base map are used.","It can be set as a valid GeoJSON object or as a URL string.","Note that we only accept GeoJSONs of type *FeatureCollection* or *Feature*","with geometries of type *Polygon* or *MultiPolygon*."].join(" ")}),featureidkey:v0.featureidkey,text:h0({},v0.text,{description:"Sets the text elements associated with each location."}),hovertext:h0({},v0.hovertext,{description:"Same as `text`."}),marker:{line:{color:h0({},dxe.color,{dflt:Rvt}),width:h0({},dxe.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the locations."},editType:"calc"},selected:{marker:{opacity:v0.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:v0.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h0({},vxe.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:Dvt(),showlegend:h0({},vxe.showlegend,{dflt:!1})},qvt("",{cLetter:"z",editTypeOverride:"calc"}))});var mxe=$((eqt,gxe)=>{"use strict";var qk=pt(),Ivt=$s(),Pvt=Dk();gxe.exports=function(t,r,n,i){function a(h,v){return qk.coerce(t,r,Pvt,h,v)}var o=a("locations"),s=a("z");if(!(o&&o.length&&qk.isArrayOrTypedArray(s)&&s.length)){r.visible=!1;return}r._length=Math.min(o.length,s.length);var l=a("geojson"),u;(typeof l=="string"&&l!==""||qk.isPlainObject(l))&&(u="geojson-id");var f=a("locationmode",u);f==="geojson-id"&&a("featureidkey"),a("text"),a("hovertext"),a("hovertemplate");var c=a("marker.line.width");c&&a("marker.line.color"),a("marker.opacity"),Ivt(t,r,i,a,{prefix:"",cLetter:"z"}),qk.coerceSelectionMarkerOpacity(r,a)}});var wxe=$((tqt,bxe)=>{"use strict";var yxe=mn(),Fvt=Zn().BADNUM,Nvt=ku(),zvt=Cv(),Ovt=jc();function xxe(e){return e&&typeof e=="string"}bxe.exports=function(t,r){var n=r._length,i=new Array(n),a;r.geojson?a=function(f){return xxe(f)||yxe(f)}:a=xxe;for(var o=0;o<n;o++){var s=i[o]={},l=r.locations[o],u=r.z[o];a(l)&&yxe(u)?(s.loc=l,s.z=u):(s.loc=null,s.z=Fvt),s.index=o}return zvt(i,r),Nvt(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),Ovt(i,r),i}});var Rk=$((rqt,Txe)=>{"use strict";var Bvt=Nr(),Hvt=Rr(),eP=un(),Uvt=Wa();function jvt(e,t){t&&_xe(e,t)}function _xe(e,t){var r=t[0].trace,n=t[0].node3,i=n.selectAll(".choroplethlocation"),a=r.marker||{},o=a.line||{},s=Uvt.makeColorScaleFuncFromTrace(r);i.each(function(l){Bvt.select(this).attr("fill",s(l.z)).call(Hvt.stroke,l.mlc||o.color).call(eP.dashLine,"",l.mlw||o.width||0).style("opacity",a.opacity)}),eP.selectedPointStyle(i,r,e)}function Vvt(e,t){var r=t[0].node3,n=t[0].trace;n.selectedpoints?eP.selectedPointStyle(r.selectAll(".choroplethlocation"),n,e):_xe(e,t)}Txe.exports={style:jvt,styleOnSelect:Vvt}});var tP=$((nqt,kxe)=>{"use strict";var Gvt=Nr(),Axe=pt(),gy=_k(),Yvt=gk().getTopojsonFeatures,Mxe=Pc().findExtremes,Wvt=Rk().style;function Xvt(e,t,r){var n=t.layers.backplot.select(".choroplethlayer");Axe.makeTraceGroups(n,r,"trace choropleth").each(function(i){var a=Gvt.select(this),o=a.selectAll("path.choroplethlocation").data(Axe.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),Wvt(e,i)})}function Zvt(e,t){for(var r=e[0].trace,n=t[r.geo],i=n._subplot,a=r.locationmode,o=r._length,s=a==="geojson-id"?gy.extractTraceFeature(e):Yvt(r,i.topojson),l=[],u=[],f=0;f<o;f++){var c=e[f],h=a==="geojson-id"?c.fOut:gy.locationToFeature(a,c.loc,s);if(h){c.geojson=h,c.ct=h.properties.ct,c._polygons=gy.feature2polygons(h);var v=gy.computeBbox(h);l.push(v[0],v[2]),u.push(v[1],v[3])}else c.geojson=null}if(n.fitbounds==="geojson"&&a==="geojson-id"){var b=gy.computeBbox(gy.getTraceGeojson(r));l=[b[0],b[2]],u=[b[1],b[3]]}var y={padded:!0};r._extremes.lon=Mxe(n.lonaxis._ax,l,y),r._extremes.lat=Mxe(n.lataxis._ax,u,y)}kxe.exports={calcGeoJSON:Zvt,plot:Xvt}});var Exe=$((iqt,Sxe)=>{"use strict";var $vt=tn(),Kvt=Dk(),Jvt=pt().fillText;Sxe.exports=function(t,r,n){var i=t.cd,a=i[0].trace,o=t.subplot,s,l,u,f,c=[r,n],h=[r+360,n];for(l=0;l<i.length;l++)if(s=i[l],f=!1,s._polygons){for(u=0;u<s._polygons.length;u++)s._polygons[u].contains(c)&&(f=!f),s._polygons[u].contains(h)&&(f=!f);if(f)break}if(!(!f||!s))return t.x0=t.x1=t.xa.c2p(s.ct),t.y0=t.y1=t.ya.c2p(s.ct),t.index=s.index,t.location=s.loc,t.z=s.z,t.zLabel=$vt.tickText(o.mockAxis,o.mockAxis.c2l(s.z),"hover").text,t.hovertemplate=s.hovertemplate,Qvt(t,a,s),[t]};function Qvt(e,t,r){if(!t.hovertemplate){var n=r.hi||t.hoverinfo,i=String(r.loc),a=n==="all"?Kvt.hoverinfo.flags:n.split("+"),o=a.indexOf("name")!==-1,s=a.indexOf("location")!==-1,l=a.indexOf("z")!==-1,u=a.indexOf("text")!==-1,f=!o&&s,c=[];f?e.nameOverride=i:(o&&(e.nameOverride=t.name),s&&c.push(i)),l&&c.push(e.zLabel),u&&Jvt(r,t,c),e.extraText=c.join("<br>")}}});var Cxe=$((aqt,Lxe)=>{"use strict";Lxe.exports=function(t,r,n,i,a){t.location=r.location,t.z=r.z;var o=i[a];return o.fIn&&o.fIn.properties&&(t.properties=o.fIn.properties),t.ct=o.ct,t}});var qxe=$((oqt,Dxe)=>{"use strict";Dxe.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=[],s,l,u,f,c;if(r===!1)for(s=0;s<n.length;s++)n[s].selected=0;else for(s=0;s<n.length;s++)l=n[s],u=l.ct,u&&(f=i.c2p(u),c=a.c2p(u),r.contains([f,c],null,s,t)?(o.push({pointNumber:s,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0);return o}});var Ixe=$((sqt,Rxe)=>{"use strict";Rxe.exports={attributes:Dk(),supplyDefaults:mxe(),colorbar:g2(),calc:wxe(),calcGeoJSON:tP().calcGeoJSON,plot:tP().plot,style:Rk().style,styleOnSelect:Rk().styleOnSelect,hoverPoints:Exe(),eventData:Cxe(),selectPoints:qxe(),moduleType:"trace",name:"choropleth",basePlotModule:QI(),categories:["geo","noOpacity","showLegend"],meta:{description:["The data that describes the choropleth value-to-color mapping","is set in `z`.","The geographic locations corresponding to each value in `z`","are set in `locations`."].join(" ")}}});var Fxe=$((lqt,Pxe)=>{"use strict";Pxe.exports=Ixe()});var nP=$((uqt,Nxe)=>{"use strict";var rP=Ps();Nxe.exports={x:rP.x,y:rP.y,xy:{valType:"data_array",editType:"calc",description:["Faster alternative to specifying `x` and `y` separately.","If supplied, it must be a typed `Float32Array` array that","represents points such that `xy[i * 2] = x[i]` and `xy[i * 2 + 1] = y[i]`"].join(" ")},indices:{valType:"data_array",editType:"calc",description:["A sequential value, 0..n, supply it to avoid creating this array inside plotting.","If specified, it must be a typed `Int32Array` array.","Its length must be equal to or greater than the number of points.","For the best performance and memory use, create one large `indices` typed array","that is guaranteed to be at least as long as the largest number of points during","use, and reuse it on each `Plotly.restyle()` call."].join(" ")},xbounds:{valType:"data_array",editType:"calc",description:["Specify `xbounds` in the shape of `[xMin, xMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `ybounds` for the performance benefits."].join(" ")},ybounds:{valType:"data_array",editType:"calc",description:["Specify `ybounds` in the shape of `[yMin, yMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `xbounds` for the performance benefits."].join(" ")},text:rP.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc",description:["Sets the marker fill color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc",description:["Sets the marker opacity. The default value is `1` (fully opaque).","If the markers are not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning.","Opacity fades the color even if `blend` is left on `false` even if there","is no translucency effect in that case."].join(" ")},blend:{valType:"boolean",dflt:null,editType:"calc",description:["Determines if colors are blended together for a translucency effect","in case `opacity` is specified as a value less then `1`.","Setting `blend` to `true` reduces zoom/pan","speed if used with large numbers of points."].join(" ")},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc",description:["Sets the minimum size (in px) of the rendered marker points, effective when","the `pointcloud` shows a million or more points."].join(" ")},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc",description:["Sets the maximum size (in px) of the rendered marker points.","Effective when the `pointcloud` shows only few points."].join(" ")},border:{color:{valType:"color",arrayOk:!1,editType:"calc",description:["Sets the stroke color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join(" ")},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Specifies what fraction of the marker area is covered with the","border."].join(" ")},editType:"calc"},editType:"calc"},transforms:void 0}});var Oxe=$((fqt,zxe)=>{"use strict";var edt=pt(),tdt=nP();zxe.exports=function(t,r,n){function i(a,o){return edt.coerce(t,r,tdt,a,o)}i("x"),i("y"),i("xbounds"),i("ybounds"),t.xy&&t.xy instanceof Float32Array&&(r.xy=t.xy),t.indices&&t.indices instanceof Int32Array&&(r.indices=t.indices),i("text"),i("marker.color",n),i("marker.opacity"),i("marker.blend"),i("marker.sizemin"),i("marker.sizemax"),i("marker.border.color",n),i("marker.border.arearatio"),r._length=null}});var Vxe=$((cqt,jxe)=>{"use strict";var rdt=$a().gl_pointcloud2d,Bxe=ic(),Hxe=Pc().findExtremes,ndt=eA();function Uxe(e,t){this.scene=e,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=rdt(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var Ik=Uxe.prototype;Ik.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[t*2],this.pickXYData[t*2+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}};Ik.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=ndt(e,{})};Ik.updateFast=function(e){var t=this.xData=this.pickXData=e.x,r=this.yData=this.pickYData=e.y,n=this.pickXYData=e.xy,i=e.xbounds&&e.ybounds,a=e.indices,o,s,l,u=this.bounds,f,c,h;if(n){if(l=n,o=n.length>>>1,i)u[0]=e.xbounds[0],u[2]=e.xbounds[1],u[1]=e.ybounds[0],u[3]=e.ybounds[1];else for(h=0;h<o;h++)f=l[h*2],c=l[h*2+1],f<u[0]&&(u[0]=f),f>u[2]&&(u[2]=f),c<u[1]&&(u[1]=c),c>u[3]&&(u[3]=c);if(a)s=a;else for(s=new Int32Array(o),h=0;h<o;h++)s[h]=h}else for(o=t.length,l=new Float32Array(2*o),s=new Int32Array(o),h=0;h<o;h++)f=t[h],c=r[h],s[h]=h,l[h*2]=f,l[h*2+1]=c,f<u[0]&&(u[0]=f),f>u[2]&&(u[2]=f),c<u[1]&&(u[1]=c),c>u[3]&&(u[3]=c);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=l;var v=Bxe(e.marker.color),b=Bxe(e.marker.border.color),y=e.opacity*e.marker.opacity;v[3]*=y,this.pointcloudOptions.color=v;var x=e.marker.blend;if(x===null){var m=100;x=t.length<m||r.length<m}this.pointcloudOptions.blend=x,b[3]*=y,this.pointcloudOptions.borderColor=b;var _=e.marker.sizemin,g=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=_,this.pointcloudOptions.sizeMax=g,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var A=this.scene.xaxis,w=this.scene.yaxis,k=g/2||.5;e._extremes[A._id]=Hxe(A,[u[0],u[2]],{ppad:k}),e._extremes[w._id]=Hxe(w,[u[1],u[3]],{ppad:k})};Ik.dispose=function(){this.pointcloud.dispose()};function idt(e,t){var r=new Uxe(e,t.uid);return r.update(t),r}jxe.exports=idt});var Wxe=$((hqt,Yxe)=>{"use strict";var adt=tn(),fg=ic();function Gxe(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var cg=Gxe.prototype,odt=["xaxis","yaxis"];cg.merge=function(e){this.titleEnable=!1,this.backgroundColor=fg(e.plot_bgcolor);var t,r,n,i,a,o,s,l,u,f,c;for(f=0;f<2;++f){t=odt[f];var h=t.charAt(0);for(r=e[this.scene[t]._name],n=r.title.text===this.scene.fullLayout._dfltTitle[h]?"":r.title.text,c=0;c<=2;c+=2)this.labelEnable[f+c]=!1,this.labels[f+c]=n,this.labelColor[f+c]=fg(r.title.font.color),this.labelFont[f+c]=r.title.font.family,this.labelSize[f+c]=r.title.font.size,this.labelPad[f+c]=this.getLabelPad(t,r),this.tickEnable[f+c]=!1,this.tickColor[f+c]=fg((r.tickfont||{}).color),this.tickAngle[f+c]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[f+c]=this.getTickPad(r),this.tickMarkLength[f+c]=0,this.tickMarkWidth[f+c]=r.tickwidth||0,this.tickMarkColor[f+c]=fg(r.tickcolor),this.borderLineEnable[f+c]=!1,this.borderLineColor[f+c]=fg(r.linecolor),this.borderLineWidth[f+c]=r.linewidth||0;s=this.hasSharedAxis(r),a=this.hasAxisInDfltPos(t,r)&&!s,o=this.hasAxisInAltrPos(t,r)&&!s,i=r.mirror||!1,l=s?String(i).indexOf("all")!==-1:!!i,u=s?i==="allticks":String(i).indexOf("ticks")!==-1,a?this.labelEnable[f]=!0:o&&(this.labelEnable[f+2]=!0),a?this.tickEnable[f]=r.showticklabels:o&&(this.tickEnable[f+2]=r.showticklabels),(a||l)&&(this.borderLineEnable[f]=r.showline),(o||l)&&(this.borderLineEnable[f+2]=r.showline),(a||u)&&(this.tickMarkLength[f]=this.getTickMarkLength(r)),(o||u)&&(this.tickMarkLength[f+2]=this.getTickMarkLength(r)),this.gridLineEnable[f]=r.showgrid,this.gridLineColor[f]=fg(r.gridcolor),this.gridLineWidth[f]=r.gridwidth,this.zeroLineEnable[f]=r.zeroline,this.zeroLineColor[f]=fg(r.zerolinecolor),this.zeroLineWidth[f]=r.zerolinewidth}};cg.hasSharedAxis=function(e){var t=this.scene,r=t.fullLayout._subplots.gl2d,n=adt.findSubplotsWithAxis(r,e);return n.indexOf(t.id)!==0};cg.hasAxisInDfltPos=function(e,t){var r=t.side;if(e==="xaxis")return r==="bottom";if(e==="yaxis")return r==="left"};cg.hasAxisInAltrPos=function(e,t){var r=t.side;if(e==="xaxis")return r==="top";if(e==="yaxis")return r==="right"};cg.getLabelPad=function(e,t){var r=1.5,n=t.title.font.size,i=t.showticklabels;if(e==="xaxis")return t.side==="top"?-10+n*(r+(i?1:0)):-10+n*(r+(i?.5:0));if(e==="yaxis")return t.side==="right"?10+n*(r+(i?1:.5)):10+n*(r+(i?.5:0))};cg.getTickPad=function(e){return e.ticks==="outside"?10+e.ticklen:15};cg.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return e.ticks==="inside"?-t:t};function sdt(e){return new Gxe(e)}Yxe.exports=sdt});var Xxe=$(iw=>{"use strict";function ldt(e){if(typeof e=="object"){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(t===2)return 4;if(t===3)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(t===1)return 4;if(t===2)return 2;if(t>=0)return 1<<t}}return 0}iw.buttons=ldt;function iP(e){return e.target||e.srcElement||window}iw.element=iP;function udt(e){if(typeof e=="object"){if("offsetX"in e)return e.offsetX;var t=iP(e),r=t.getBoundingClientRect();return e.clientX-r.left}return 0}iw.x=udt;function fdt(e){if(typeof e=="object"){if("offsetY"in e)return e.offsetY;var t=iP(e),r=t.getBoundingClientRect();return e.clientY-r.top}return 0}iw.y=fdt});var $xe=$((dqt,Zxe)=>{"use strict";Zxe.exports=cdt;var aw=Xxe();function cdt(e,t){t||(t=e,e=window);var r=0,n=0,i=0,a={shift:!1,alt:!1,control:!1,meta:!1},o=!1;function s(_){var g=!1;return"altKey"in _&&(g=g||_.altKey!==a.alt,a.alt=!!_.altKey),"shiftKey"in _&&(g=g||_.shiftKey!==a.shift,a.shift=!!_.shiftKey),"ctrlKey"in _&&(g=g||_.ctrlKey!==a.control,a.control=!!_.ctrlKey),"metaKey"in _&&(g=g||_.metaKey!==a.meta,a.meta=!!_.metaKey),g}function l(_,g){var A=aw.x(g),w=aw.y(g);"buttons"in g&&(_=g.buttons|0),(_!==r||A!==n||w!==i||s(g))&&(r=_|0,n=A||0,i=w||0,t&&t(r,n,i,a))}function u(_){l(0,_)}function f(){(r||n||i||a.shift||a.alt||a.meta||a.control)&&(n=i=0,r=0,a.shift=a.alt=a.control=a.meta=!1,t&&t(0,0,0,a))}function c(_){s(_)&&t&&t(r,n,i,a)}function h(_){aw.buttons(_)===0?l(0,_):l(r,_)}function v(_){l(r|aw.buttons(_),_)}function b(_){l(r&~aw.buttons(_),_)}function y(){o||(o=!0,e.addEventListener("mousemove",h),e.addEventListener("mousedown",v),e.addEventListener("mouseup",b),e.addEventListener("mouseleave",u),e.addEventListener("mouseenter",u),e.addEventListener("mouseout",u),e.addEventListener("mouseover",u),e.addEventListener("blur",f),e.addEventListener("keyup",c),e.addEventListener("keydown",c),e.addEventListener("keypress",c),e!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}function x(){o&&(o=!1,e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",v),e.removeEventListener("mouseup",b),e.removeEventListener("mouseleave",u),e.removeEventListener("mouseenter",u),e.removeEventListener("mouseout",u),e.removeEventListener("mouseover",u),e.removeEventListener("blur",f),e.removeEventListener("keyup",c),e.removeEventListener("keydown",c),e.removeEventListener("keypress",c),e!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))}y();var m={element:e};return Object.defineProperties(m,{enabled:{get:function(){return o},set:function(_){_?y():x()},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return n},enumerable:!0},y:{get:function(){return i},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),m}});var Jxe=$((pqt,Kxe)=>{Kxe.exports=function(t,r){r||(r=[0,""]),t=String(t);var n=parseFloat(t,10);return r[0]=n,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}});var tbe=$((gqt,ebe)=>{"use strict";var hdt=Jxe();ebe.exports=Qxe;var ow=96;function aP(e,t){var r=hdt(getComputedStyle(e).getPropertyValue(t));return r[0]*Qxe(r[1],e)}function vdt(e,t){var r=document.createElement("div");r.style["font-size"]="128"+e,t.appendChild(r);var n=aP(r,"font-size")/128;return t.removeChild(r),n}function Qxe(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),(t===window||t===document)&&(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return vdt(e,t);case"em":return aP(t,"font-size");case"rem":return aP(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return ow;case"cm":return ow/2.54;case"mm":return ow/25.4;case"pt":return ow/72;case"pc":return ow/6}return 1}});var nbe=$((mqt,rbe)=>{"use strict";var ddt=tbe();rbe.exports=pdt;function pdt(e,t,r){typeof e=="function"&&(r=!!t,t=e,e=window);var n=ddt("ex",e),i=function(a){r&&a.preventDefault();var o=a.deltaX||0,s=a.deltaY||0,l=a.deltaZ||0,u=a.deltaMode,f=1;switch(u){case 1:f=n;break;case 2:f=window.innerHeight;break}if(o*=f,s*=f,l*=f,o||s||l)return t(o,s,l,a)};return e.addEventListener("wheel",i),i}});var sbe=$((yqt,obe)=>{"use strict";var gdt=$xe(),mdt=nbe(),ibe=PL(),abe=Qo(),oP=jx();obe.exports=xdt;function ydt(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function xdt(e){var t=e.mouseContainer,r=e.glplot,n=new ydt(t,r);function i(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function a(){for(var s=e.graphDiv._fullLayout._axisConstraintGroups,l=e.xaxis._id,u=e.yaxis._id,f=0;f<s.length;f++)if(s[f][l]!==-1){if(s[f][u]!==-1)return!0;break}return!1}n.mouseListener=gdt(t,o),t.addEventListener("touchstart",function(s){var l=ibe(s.changedTouches[0],t);o(0,l[0],l[1]),o(1,l[0],l[1]),s.preventDefault()},oP?{passive:!1}:!1),t.addEventListener("touchmove",function(s){s.preventDefault();var l=ibe(s.changedTouches[0],t);o(1,l[0],l[1]),s.preventDefault()},oP?{passive:!1}:!1),t.addEventListener("touchend",function(s){o(0,n.lastPos[0],n.lastPos[1]),s.preventDefault()},oP?{passive:!1}:!1);function o(s,l,u){var f=e.calcDataBox(),c=r.viewBox,h=n.lastPos[0],v=n.lastPos[1],b=abe.MINDRAG*r.pixelRatio,y=abe.MINZOOM*r.pixelRatio,x,m;l*=r.pixelRatio,u*=r.pixelRatio,u=c[3]-c[1]-u;function _(d,M,T){var S=Math.min(M,T),E=Math.max(M,T);S!==E?(f[d]=S,f[d+2]=E,n.dataBox=f,e.setRanges(f)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(e.fullLayout.dragmode){case"zoom":if(s){var g=l/(c[2]-c[0])*(f[2]-f[0])+f[0],A=u/(c[3]-c[1])*(f[3]-f[1])+f[1];n.boxInited||(n.boxStart[0]=g,n.boxStart[1]=A,n.dragStart[0]=l,n.dragStart[1]=u),n.boxEnd[0]=g,n.boxEnd[1]=A,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-l)<y,k=Math.abs(n.dragStart[1]-u)<y;if(a()&&!(w&&k)){x=n.boxEnd[0]-n.boxStart[0],m=n.boxEnd[1]-n.boxStart[1];var p=(f[3]-f[1])/(f[2]-f[0]);Math.abs(x*p)>Math.abs(m)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*p*(m>=0?1:-1),n.boxEnd[1]<f[1]?(n.boxEnd[1]=f[1],n.boxEnd[0]=n.boxStart[0]+(f[1]-n.boxStart[1])/Math.abs(p)):n.boxEnd[1]>f[3]&&(n.boxEnd[1]=f[3],n.boxEnd[0]=n.boxStart[0]+(f[3]-n.boxStart[1])/Math.abs(p))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(m)/p*(x>=0?1:-1),n.boxEnd[0]<f[0]?(n.boxEnd[0]=f[0],n.boxEnd[1]=n.boxStart[1]+(f[0]-n.boxStart[0])*Math.abs(p)):n.boxEnd[0]>f[2]&&(n.boxEnd[0]=f[2],n.boxEnd[1]=n.boxStart[1]+(f[2]-n.boxStart[0])*Math.abs(p)))}else w&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],m=n.boxStart[1]!==n.boxEnd[1],x||m?(x&&(_(0,n.boxStart[0],n.boxEnd[0]),e.xaxis.autorange=!1),m&&(_(1,n.boxStart[1],n.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,s?(n.panning||(n.dragStart[0]=l,n.dragStart[1]=u),Math.abs(n.dragStart[0]-l)<b&&(l=n.dragStart[0]),Math.abs(n.dragStart[1]-u)<b&&(u=n.dragStart[1]),x=(h-l)*(f[2]-f[0])/(r.viewBox[2]-r.viewBox[0]),m=(v-u)*(f[3]-f[1])/(r.viewBox[3]-r.viewBox[1]),f[0]+=x,f[2]+=x,f[1]+=m,f[3]+=m,e.setRanges(f),n.panning=!0,n.lastInputTime=Date.now(),i(),e.cameraChanged(),e.handleAnnotations()):n.panning&&(n.panning=!1,e.relayoutCallback());break}n.lastPos[0]=l,n.lastPos[1]=u}return n.wheelListener=mdt(t,function(s,l){if(!e.scrollZoom)return!1;var u=e.calcDataBox(),f=r.viewBox,c=n.lastPos[0],h=n.lastPos[1],v=Math.exp(5*l/(f[3]-f[1])),b=c/(f[2]-f[0])*(u[2]-u[0])+u[0],y=h/(f[3]-f[1])*(u[3]-u[1])+u[1];return u[0]=(u[0]-b)*v+b,u[2]=(u[2]-b)*v+b,u[1]=(u[1]-y)*v+y,u[3]=(u[3]-y)*v+y,e.setRanges(u),n.lastInputTime=Date.now(),i(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),n}});var pbe=$((xqt,dbe)=>{"use strict";var fbe=Ir(),sP=tn(),nh=lo(),bdt=$a().gl_plot2d,wdt=$a().gl_spikes2d,_dt=$a().gl_select_box,lbe=RR(),Tdt=Wxe(),Adt=sbe(),Mdt=IR(),cbe=Nd(),kdt=cbe.enforce,ube=cbe.clean,Sdt=Pc().doAutoRange,hbe=Pd(),Edt=hbe.drawMode,Ldt=hbe.selectMode,Cdt=["xaxis","yaxis"],sw,Pk,Ddt=Qo().SUBPLOT_PATTERN;function vbe(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(t),this.makeFramework(),!this.stopped&&(this.glplotOptions=Tdt(this),this.glplotOptions.merge(t),this.glplot=bdt(this.glplotOptions),this.camera=Adt(this),this.traces={},this.spikes=wdt(this.glplot),this.selectBox=_dt(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}dbe.exports=vbe;var Ns=vbe.prototype;Ns.makeFramework=function(){if(this.staticPlot){if(!Pk&&(sw=document.createElement("canvas"),Pk=lbe({canvas:sw,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!Pk))throw new Error("Error creating static canvas/context for image server");this.canvas=sw,this.gl=Pk}else{var e=this.container.querySelector(".gl-canvas-focus"),t=lbe({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!t){Mdt(this),this.stopped=!0;return}this.canvas=e,this.gl=t}var r=this.canvas;r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style["pointer-events"]="none",this.updateSize(r);var n=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",n.style["z-index"]=20,n.style["pointer-events"]="none";var i=this.mouseContainer=document.createElement("div");i.style.position="absolute",i.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var a=this.container;a.appendChild(n),a.appendChild(i);var o=this;i.addEventListener("mouseout",function(){o.isMouseOver=!1,o.unhover()}),i.addEventListener("mouseover",function(){o.isMouseOver=!0})};Ns.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(sw),this.updateSize(this.canvas);var t=this.glplot.gl,r=t.drawingBufferWidth,n=t.drawingBufferHeight;t.clearColor(1,1,1,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new Uint8Array(r*n*4);t.readPixels(0,0,r,n,t.RGBA,t.UNSIGNED_BYTE,i);for(var a=0,o=n-1;a<o;++a,--o)for(var s=0;s<r;++s)for(var l=0;l<4;++l){var u=i[4*(r*a+s)+l];i[4*(r*a+s)+l]=i[4*(r*o+s)+l],i[4*(r*o+s)+l]=u}var f=document.createElement("canvas");f.width=r,f.height=n;var c=f.getContext("2d",{willReadFrequently:!0}),h=c.createImageData(r,n);h.data.set(i),c.putImageData(h,0,0);var v;switch(e){case"jpeg":v=f.toDataURL("image/jpeg");break;case"webp":v=f.toDataURL("image/webp");break;default:v=f.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(sw),v};Ns.updateSize=function(e){e||(e=this.canvas);var t=this.pixelRatio,r=this.fullLayout,n=r.width,i=r.height,a=Math.ceil(t*n)|0,o=Math.ceil(t*i)|0;return(e.width!==a||e.height!==o)&&(e.width=a,e.height=o),e};Ns.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[sP.calcTicks(this.xaxis),sP.calcTicks(this.yaxis)],t=0;t<2;++t)for(var r=0;r<e[t].length;++r)e[t][r].text=e[t][r].text+"";return e};function qdt(e,t){for(var r=0;r<2;++r){var n=e[r],i=t[r];if(n.length!==i.length)return!0;for(var a=0;a<n.length;++a)if(n[a].x!==i[a].x)return!0}return!1}Ns.updateRefs=function(e){this.fullLayout=e;var t=this.id.match(Ddt),r="xaxis"+t[1],n="yaxis"+t[2];this.xaxis=this.fullLayout[r],this.yaxis=this.fullLayout[n]};Ns.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,r=this.yaxis,n=e.layout,i={},a=i[t._name+".range"]=t.range.slice(),o=i[r._name+".range"]=r.range.slice();i[t._name+".autorange"]=t.autorange,i[r._name+".autorange"]=r.autorange,fbe.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i);var s=n[t._name];s.range=a,s.autorange=t.autorange;var l=n[r._name];l.range=o,l.autorange=r.autorange,i.lastInputTime=this.camera.lastInputTime,e.emit("plotly_relayout",i)};Ns.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks(),r=this.glplotOptions.ticks;qdt(t,r)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())};Ns.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,r=0;r<t.length;r++){var n=t[r];n.xref===this.xaxis._id&&n.yref===this.yaxis._id&&fbe.getComponentMethod("annotations","drawOne")(e,r)}};Ns.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map(function(t){e[t].dispose(),delete e[t]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}};Ns.plot=function(e,t,r){var n=this.glplot;this.updateRefs(r),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,t),this.updateFx(r.dragmode);var i=r.width,a=r.height;this.updateSize(this.canvas);var o=this.glplotOptions;o.merge(r),o.screenBox=[0,0,i,a];var s={_fullLayout:{_axisConstraintGroups:r._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:r._size}};ube(s,this.xaxis),ube(s,this.yaxis);var l=r._size,u=this.xaxis.domain,f=this.yaxis.domain;o.viewBox=[l.l+u[0]*l.w,l.b+f[0]*l.h,i-l.r-(1-u[1])*l.w,a-l.t-(1-f[1])*l.h],this.mouseContainer.style.width=l.w*(u[1]-u[0])+"px",this.mouseContainer.style.height=l.h*(f[1]-f[0])+"px",this.mouseContainer.height=l.h*(f[1]-f[0]),this.mouseContainer.style.left=l.l+u[0]*l.w+"px",this.mouseContainer.style.top=l.t+(1-f[1])*l.h+"px";var c,h;for(h=0;h<2;++h)c=this[Cdt[h]],c._length=o.viewBox[h+2]-o.viewBox[h],Sdt(this.graphDiv,c),c.setScale();kdt(s),o.ticks=this.computeTickMarks(),o.dataBox=this.calcDataBox(),o.merge(r),n.update(o),this.glplot.draw()};Ns.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,r=e.range,n=t.range,i=e.r2l,a=t.r2l;return[i(r[0]),a(n[0]),i(r[1]),a(n[1])]};Ns.setRanges=function(e){var t=this.xaxis,r=this.yaxis,n=t.l2r,i=r.l2r;t.range=[n(e[0]),n(e[2])],r.range=[i(e[1]),i(e[3])]};Ns.updateTraces=function(e,t){var r=Object.keys(this.traces),n,i,a;this.fullData=e;e:for(n=0;n<r.length;n++){var o=r[n],s=this.traces[o];for(i=0;i<e.length;i++)if(a=e[i],a.uid===o&&a.type===s.type)continue e;s.dispose(),delete this.traces[o]}for(n=0;n<e.length;n++){a=e[n];var l=t[n],u=this.traces[a.uid];u?u.update(a,l):(u=a._module.plot(this,a,l),this.traces[a.uid]=u)}this.glplot.objects.sort(function(f,c){return f._trace.index-c._trace.index})};Ns.updateFx=function(e){Ldt(e)||Edt(e)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),e==="pan"?this.mouseContainer.style.cursor="move":e==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null};Ns.emitPointAction=function(e,t){for(var r=e.trace.uid,n=e.pointIndex,i,a=0;a<this.fullData.length;a++)this.fullData[a].uid===r&&(i=this.fullData[a]);var o={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:i.index,pointNumber:n,data:i._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};nh.appendArrayPointValue(o,i,n),this.graphDiv.emit(t,{points:[o]})};Ns.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,r=t.mouseListener,n=this.lastButtonState===1&&r.buttons===0,i=this.fullLayout;this.lastButtonState=r.buttons,this.cameraChanged();var a=r.x*e.pixelRatio,o=this.canvas.height-e.pixelRatio*r.y,s;if(t.boxEnabled&&i.dragmode==="zoom"){this.selectBox.enabled=!0;for(var l=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],u=0;u<2;u++)t.boxStart[u]===t.boxEnd[u]&&(l[u]=e.dataBox[u],l[u+2]=e.dataBox[u+2]);e.setDirty()}else if(!t.panning&&this.isMouseOver){this.selectBox.enabled=!1;var f=i._size,c=this.xaxis.domain,h=this.yaxis.domain;s=e.pick(a/e.pixelRatio+f.l+c[0]*f.w,o/e.pixelRatio-(f.t+(1-h[1])*f.h));var v=s&&s.object._trace.handlePick(s);if(v&&n&&this.emitPointAction(v,"plotly_click"),s&&s.object._trace.hoverinfo!=="skip"&&i.hovermode&&v&&(!this.lastPickResult||this.lastPickResult.traceUid!==v.trace.uid||this.lastPickResult.dataCoord[0]!==v.dataCoord[0]||this.lastPickResult.dataCoord[1]!==v.dataCoord[1])){var b=v;this.lastPickResult={traceUid:v.trace?v.trace.uid:null,dataCoord:v.dataCoord.slice()},this.spikes.update({center:s.dataCoord}),b.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(s.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(s.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(v,"plotly_hover");var y=this.fullData[b.trace.index]||{},x=b.pointIndex,m=nh.castHoverinfo(y,i,x);if(m&&m!=="all"){var _=m.split("+");_.indexOf("x")===-1&&(b.traceCoord[0]=void 0),_.indexOf("y")===-1&&(b.traceCoord[1]=void 0),_.indexOf("z")===-1&&(b.traceCoord[2]=void 0),_.indexOf("text")===-1&&(b.textLabel=void 0),_.indexOf("name")===-1&&(b.name=void 0)}nh.loneHover({x:b.screenCoord[0],y:b.screenCoord[1],xLabel:this.hoverFormatter("xaxis",b.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",b.traceCoord[1]),zLabel:b.traceCoord[2],text:b.textLabel,name:b.name,color:nh.castHoverOption(y,x,"bgcolor")||b.color,borderColor:nh.castHoverOption(y,x,"bordercolor"),fontFamily:nh.castHoverOption(y,x,"font.family"),fontSize:nh.castHoverOption(y,x,"font.size"),fontColor:nh.castHoverOption(y,x,"font.color"),nameLength:nh.castHoverOption(y,x,"namelength"),textAlign:nh.castHoverOption(y,x,"align")},{container:this.svgContainer,gd:this.graphDiv})}}s||this.unhover(),e.draw()}};Ns.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),nh.loneUnhover(this.svgContainer))};Ns.hoverFormatter=function(e,t){if(t!==void 0){var r=this[e];return sP.tickText(r,r.c2l(t),"hover").text}}});var lP=$(tu=>{"use strict";var gbe=Fa().overrideAll,Rdt=pbe(),Idt=Z0(),Pdt=kh(),mbe=Qo(),Fk=as(),Fdt=dv(),ybe=Au().getSubplotData;tu.name="gl2d";tu.attr=["xaxis","yaxis"];tu.idRoot=["x","y"];tu.idRegex=mbe.idRegex;tu.attrRegex=mbe.attrRegex;tu.attributes=V6();tu.supplyLayoutDefaults=function(e,t,r){t._has("cartesian")||Fk.supplyLayoutDefaults(e,t,r)};tu.layoutAttrOverrides=gbe(Fk.layoutAttributes,"plot","from-root");tu.baseLayoutAttrOverrides=gbe({plot_bgcolor:Idt.plot_bgcolor,hoverlabel:Fdt.hoverlabel},"plot","nested");tu.plot=function(t){for(var r=t._fullLayout,n=t._fullData,i=r._subplots.gl2d,a=0;a<i.length;a++){var o=i[a],s=r._plots[o],l=ybe(n,"gl2d",o),u=s._scene2d;u===void 0&&(u=new Rdt({id:o,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},r),s._scene2d=u),u.plot(l,t.calcdata,r,t.layout)}};tu.clean=function(e,t,r,n){for(var i=n._subplots.gl2d||[],a=0;a<i.length;a++){var o=i[a],s=n._plots[o];if(s._scene2d){var l=ybe(e,"gl2d",o);l.length===0&&(s._scene2d.destroy(),delete n._plots[o])}}Fk.clean.apply(this,arguments)};tu.drawFramework=function(e){e._context.staticPlot||Fk.drawFramework(e)};tu.toSVG=function(e){for(var t=e._fullLayout,r=t._subplots.gl2d,n=0;n<r.length;n++){var i=t._plots[r[n]],a=i._scene2d,o=a.toImage("png"),s=t._glimages.append("svg:image");s.attr({xmlns:Pdt.svg,"xlink:href":o,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),a.destroy()}};tu.updateFx=function(e){for(var t=e._fullLayout,r=t._subplots.gl2d,n=0;n<r.length;n++){var i=t._plots[r[n]]._scene2d;i.updateFx(t.dragmode)}}});var bbe=$((wqt,xbe)=>{"use strict";var Ndt=["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" ");xbe.exports={attributes:nP(),supplyDefaults:Oxe(),calc:qR(),plot:Vxe(),moduleType:"trace",name:"pointcloud",basePlotModule:lP(),categories:["gl","gl2d","showLegend"],meta:{description:[Ndt,"The data visualized as a point cloud set in `x` and `y`","using the WebGl plotting engine."].join(" ")}}});var _be=$((_qt,wbe)=>{"use strict";wbe.exports=bbe()});var fP=$((Tqt,Abe)=>{"use strict";var zdt=Yp(),Odt=Ma(),Bdt=ln().extendFlat,Hdt=Fa().overrideAll,Tbe=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],zk={};for(Nk=0;Nk<Tbe.length;Nk++)uP=Tbe[Nk],zk[uP]=zdt[uP];var uP,Nk;zk.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc",description:"Picks a smoothing algorithm use to smooth `z` data."};Bdt(zk,Odt("",{cLetter:"z",autoColorDflt:!1}));Abe.exports=Hdt(zk,"calc","nested")});var kbe=$((Aqt,Mbe)=>{"use strict";var Udt=pt(),jdt=v2(),Vdt=$s(),Gdt=fP();Mbe.exports=function(t,r,n,i){function a(s,l){return Udt.coerce(t,r,Gdt,s,l)}var o=jdt(t,r,a,i);if(!o){r.visible=!1;return}a("text"),a("zsmooth"),Vdt(t,r,i,a,{prefix:"",cLetter:"z"})}});var Cbe=$((Mqt,Lbe)=>{"use strict";var Ydt=$a().gl_heatmap2d,Sbe=tn(),Wdt=ic();function Ebe(e,t){this.scene=e,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=Ydt(e.glplot,this.options),this.heatmap._trace=this}var cP=Ebe.prototype;cP.handlePick=function(e){var t=this.options,r=t.shape,n=e.pointId,i=n%r[0],a=Math.floor(n/r[0]),o=n;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[i],t.y[a],t.z[o]],textLabel:this.textLabels[n],name:this.name,pointIndex:[a,i],hoverinfo:this.hoverinfo}};cP.update=function(e,t){var r=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var n=r.z;this.options.z=[].concat.apply([],n);var i=n[0].length,a=n.length;this.options.shape=[i,a],this.options.x=r.x,this.options.y=r.y,this.options.zsmooth=e.zsmooth;var o=Xdt(e);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var s=this.scene.xaxis,l=this.scene.yaxis,u,f;e.zsmooth===!1&&(u={ppad:r.x[1]-r.x[0]},f={ppad:r.y[1]-r.y[0]}),e._extremes[s._id]=Sbe.findExtremes(s,r.x,u),e._extremes[l._id]=Sbe.findExtremes(l,r.y,f)};cP.dispose=function(){this.heatmap.dispose()};function Xdt(e){for(var t=e.colorscale,r=e.zmin,n=e.zmax,i=t.length,a=new Array(i),o=new Array(4*i),s=0;s<i;s++){var l=t[s],u=Wdt(l[1]);a[s]=r+l[0]*(n-r);for(var f=0;f<4;f++)o[4*s+f]=u[f]}return{colorLevels:a,colorValues:o}}function Zdt(e,t,r){var n=new Ebe(e,t.uid);return n.update(t,r),n}Lbe.exports=Zdt});var qbe=$((kqt,Dbe)=>{"use strict";var $dt=["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" ");Dbe.exports={attributes:fP(),supplyDefaults:kbe(),colorbar:g2(),calc:p2(),plot:Cbe(),moduleType:"trace",name:"heatmapgl",basePlotModule:lP(),categories:["gl","gl2d","2dMap"],meta:{description:[$dt,"WebGL version of the heatmap trace type."].join(" ")}}});var Ibe=$((Sqt,Rbe)=>{"use strict";Rbe.exports=qbe()});var hP=$((Eqt,zbe)=>{"use strict";var Fbe=ln().extendFlat,Kdt=aa(),Pbe=Ba(),Jdt=Ma(),Nbe=Yn().hovertemplateAttrs,Qdt=Ua().attributes,e0t=Fbe({editType:"calc"},Jdt("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot",description:["Sets the shape of the paths.","If `linear`, paths are composed of straight lines.","If `hspline`, paths are composed of horizontal curved splines"].join(" ")},hovertemplate:Nbe({editType:"plot",arrayOk:!1},{keys:["count","probability"],description:["This value here applies when hovering over lines."].join(" ")})});zbe.exports={domain:Qdt({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:Fbe({},Kdt.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot",description:["Sets the hover interaction mode for the parcats diagram.","If `category`, hover interaction take place per category.","If `color`, hover interactions take place per color per category.","If `dimension`, hover interactions take place across all categories per dimension."].join(" ")},hovertemplate:Nbe({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"],description:["This value here applies when hovering over dimensions.","Note that `*categorycount`, *colorcount* and *bandcolorcount*","are only available when `hoveron` contains the *color* flag"].join(" ")}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot",description:["Sets the drag interaction mode for categories and dimensions.","If `perpendicular`, the categories can only move along a line perpendicular to the paths.","If `freeform`, the categories can freely move on the plane.","If `fixed`, the categories and dimensions are stationary."].join(" ")},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot",description:"Sort paths so that like colors are bundled together within each category."},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot",description:["Sets the path sorting algorithm.","If `forward`, sort paths based on dimension categories from left to right.","If `backward`, sort paths based on dimensions categories from right to left."].join(" ")},labelfont:Pbe({editType:"calc",description:"Sets the font for the `dimension` labels."}),tickfont:Pbe({editType:"calc",description:"Sets the font for the `category` labels."}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc",description:"The shown name of the dimension."},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the categories in the dimension.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories in this dimension appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},ticktext:{valType:"data_array",editType:"calc",description:["Sets alternative tick labels for the categories in this dimension.","Only has an effect if `categoryorder` is set to *array*.","Should be an array the same length as `categoryarray`","Used with `categoryorder`."].join(" ")},values:{valType:"data_array",dflt:[],editType:"calc",description:["Dimension values. `values[n]` represents the category value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated)."].join(" ")},displayindex:{valType:"integer",editType:"calc",description:["The display index of dimension, from left to right, zero indexed, defaults to dimension","index."].join(" ")},editType:"calc",description:"The dimensions (variables) of the parallel categories diagram.",visible:{valType:"boolean",dflt:!0,editType:"calc",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."}},line:e0t,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc",description:["The number of observations represented by each state. Defaults to 1 so that each state represents","one observation"].join(" ")},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}});var Bbe=$((Lqt,Obe)=>{"use strict";Obe.exports=function(e,t,r,n){n||(n=1/0);var i,a;for(i=0;i<t.length;i++)a=t[i],a.visible&&(n=Math.min(n,a[r].length));for(n===1/0&&(n=0),e._length=n,i=0;i<t.length;i++)a=t[i],a.visible&&(a._length=n);return n}});var jbe=$((Cqt,Ube)=>{"use strict";var lw=pt(),t0t=jl().hasColorscale,r0t=$s(),n0t=Ua().defaults,i0t=Mu(),Hbe=hP(),a0t=Bbe();function o0t(e,t,r,n,i){i("line.shape"),i("line.hovertemplate");var a=i("line.color",n.colorway[0]);if(t0t(e,"line")&&lw.isArrayOrTypedArray(a)){if(a.length)return i("line.colorscale"),r0t(e,t,n,i,{prefix:"line.",cLetter:"c"}),a.length;t.line.color=r}return 1/0}function s0t(e,t){function r(u,f){return lw.coerce(e,t,Hbe.dimensions,u,f)}var n=r("values"),i=r("visible");if(n&&n.length||(i=t.visible=!1),i){r("label"),r("displayindex",t._index);var a=e.categoryarray,o=Array.isArray(a)&&a.length>0,s;o&&(s="array");var l=r("categoryorder",s);l==="array"?(r("categoryarray"),r("ticktext")):(delete e.categoryarray,delete e.ticktext),!o&&l==="array"&&(t.categoryorder="trace")}}Ube.exports=function(t,r,n,i){function a(f,c){return lw.coerce(t,r,Hbe,f,c)}var o=i0t(t,r,{name:"dimensions",handleItemDefaults:s0t}),s=o0t(t,r,n,i,a);n0t(r,i,a),(!Array.isArray(o)||!o.length)&&(r.visible=!1),a0t(r,o,"values",s),a("hoveron"),a("hovertemplate"),a("arrangement"),a("bundlecolors"),a("sortpaths"),a("counts");var l={family:i.font.family,size:Math.round(i.font.size),color:i.font.color};lw.coerceFont(a,"labelfont",l);var u={family:i.font.family,size:Math.round(i.font.size/1.2),color:i.font.color};lw.coerceFont(a,"tickfont",u)}});var my=$((Dqt,Gbe)=>{"use strict";var l0t=wx();function Vbe(e){return[e]}Gbe.exports={keyFun:function(e){return e.key},repeat:Vbe,descend:l0t,wrap:Vbe,unwrap:function(e){return e[0]}}});var Wbe=$((qqt,Ybe)=>{"use strict";var u0t=my().wrap,f0t=jl().hasColorscale,c0t=ku(),h0t=gE(),v0t=un(),uw=pt(),d0t=mn();Ybe.exports=function(t,r){var n=uw.filterVisible(r.dimensions);if(n.length===0)return[];var i=n.map(function(M){var T;if(M.categoryorder==="trace")T=null;else if(M.categoryorder==="array")T=M.categoryarray;else{T=h0t(M.values);for(var S=!0,E=0;E<T.length;E++)if(!d0t(T[E])){S=!1;break}T.sort(S?uw.sorterAsc:void 0),M.categoryorder==="category descending"&&(T=T.reverse())}return w0t(M.values,T)}),a,o,s;uw.isArrayOrTypedArray(r.counts)?a=r.counts:a=[r.counts],_0t(n),n.forEach(function(M,T){T0t(M,i[T])});var l=r.line,u;l?(f0t(r,"line")&&c0t(t,r,{vals:r.line.color,containerStr:"line",cLetter:"c"}),u=v0t.tryColorscale(l)):u=uw.identity;function f(M){var T,S;return uw.isArrayOrTypedArray(l.color)?(T=l.color[M%l.color.length],S=T):T=l.color,{color:u(T),rawColor:S}}var c=n[0].values.length,h={},v=i.map(function(M){return M.inds});s=0;var b,y;for(b=0;b<c;b++){var x=[];for(y=0;y<v.length;y++)x.push(v[y][b]);o=a[b%a.length],s+=o;var m=f(b),_=x+"-"+m.rawColor;h[_]===void 0&&(h[_]=x0t(x,m.color,m.rawColor)),b0t(h[_],b,o)}var g=n.map(function(M,T){return g0t(T,M._index,M._displayindex,M.label,s)});for(b=0;b<c;b++)for(o=a[b%a.length],y=0;y<g.length;y++){var A=g[y].containerInd,w=i[y].inds[b],k=g[y].categories;if(k[w]===void 0){var p=r.dimensions[A]._categoryarray[w],d=r.dimensions[A]._ticktext[w];k[w]=m0t(y,w,p,d)}y0t(k[w],b,o)}return u0t(p0t(g,h,s))};function p0t(e,t,r){var n=e.map(function(i){return i.categories.length}).reduce(function(i,a){return Math.max(i,a)});return{dimensions:e,paths:t,trace:void 0,maxCats:n,count:r}}function g0t(e,t,r,n,i){return{dimensionInd:e,containerInd:t,displayInd:r,dimensionLabel:n,count:i,categories:[],dragX:null}}function m0t(e,t,r,n){return{dimensionInd:e,categoryInd:t,categoryValue:r,displayInd:t,categoryLabel:n,valueInds:[],count:0,dragY:null}}function y0t(e,t,r){e.valueInds.push(t),e.count+=r}function x0t(e,t,r){return{categoryInds:e,color:t,rawColor:r,valueInds:[],count:0}}function b0t(e,t,r){e.valueInds.push(t),e.count+=r}function w0t(e,t){t==null?t=[]:t=t.map(function(u){return u});var r={},n={},i=[];t.forEach(function(u,f){r[u]=0,n[u]=f});for(var a=0;a<e.length;a++){var o=e[a],s;r[o]===void 0?(r[o]=1,s=t.push(o)-1,n[o]=s):(r[o]++,s=n[o]),i.push(s)}var l=t.map(function(u){return r[u]});return{uniqueValues:t,uniqueCounts:l,inds:i}}function _0t(e){var t=e.map(function(n){return n.displayindex}),r;if(A0t(t))for(r=0;r<e.length;r++)e[r]._displayindex=e[r].displayindex;else for(r=0;r<e.length;r++)e[r]._displayindex=r}function T0t(e,t){e._categoryarray=t.uniqueValues,e.ticktext===null||e.ticktext===void 0?e._ticktext=[]:e._ticktext=e.ticktext.slice();for(var r=e._ticktext.length;r<t.uniqueValues.length;r++)e._ticktext.push(t.uniqueValues[r])}function A0t(e){for(var t=new Array(e.length),r=0;r<e.length;r++){if(e[r]<0||e[r]>=e.length||t[e[r]]!==void 0)return!1;t[e[r]]=!0}return!0}});var n2e=$((Rqt,r2e)=>{"use strict";var ai=Nr(),M0t=$p().interpolateNumber,k0t=YT(),hw=lo(),d0=pt(),fw=d0.strTranslate,Xbe=un(),vP=Ko(),Zbe=Ta();function S0t(e,t,r,n){var i=e.map(U0t.bind(0,t,r)),a=n.selectAll("g.parcatslayer").data([null]);a.enter().append("g").attr("class","parcatslayer").style("pointer-events","all");var o=a.selectAll("g.trace.parcats").data(i,Wv),s=o.enter().append("g").attr("class","trace parcats");o.attr("transform",function(_){return fw(_.x,_.y)}),s.append("g").attr("class","paths");var l=o.select("g.paths"),u=l.selectAll("path.path").data(function(_){return _.paths},Wv);u.attr("fill",function(_){return _.model.color});var f=u.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(_){return _.model.color}).attr("fill-opacity",0);gP(f),u.attr("d",function(_){return _.svgD}),f.empty()||u.sort(dP),u.exit().remove(),u.on("mouseover",E0t).on("mouseout",L0t).on("click",C0t),s.append("g").attr("class","dimensions");var c=o.select("g.dimensions"),h=c.selectAll("g.dimension").data(function(_){return _.dimensions},Wv);h.enter().append("g").attr("class","dimension"),h.attr("transform",function(_){return fw(_.x,0)}),h.exit().remove();var v=h.selectAll("g.category").data(function(_){return _.categories},Wv),b=v.enter().append("g").attr("class","category");v.attr("transform",function(_){return fw(0,_.y)}),b.append("rect").attr("class","catrect").attr("pointer-events","none"),v.select("rect.catrect").attr("fill","none").attr("width",function(_){return _.width}).attr("height",function(_){return _.height}),Kbe(b);var y=v.selectAll("rect.bandrect").data(function(_){return _.bands},Wv);y.each(function(){d0.raiseToTop(this)}),y.attr("fill",function(_){return _.color});var x=y.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(_){return _.color}).attr("fill-opacity",0);y.attr("fill",function(_){return _.color}).attr("width",function(_){return _.width}).attr("height",function(_){return _.height}).attr("y",function(_){return _.y}).attr("cursor",function(_){return _.parcatsViewModel.arrangement==="fixed"?"default":_.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),yP(x),y.exit().remove(),b.append("text").attr("class","catlabel").attr("pointer-events","none");var m=t._fullLayout.paper_bgcolor;v.select("text.catlabel").attr("text-anchor",function(_){return cw(_)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",Zbe.makeTextShadow(m)).style("fill","rgb(0, 0, 0)").attr("x",function(_){return cw(_)?_.width+5:-5}).attr("y",function(_){return _.height/2}).text(function(_){return _.model.categoryLabel}).each(function(_){Xbe.font(ai.select(this),_.parcatsViewModel.categorylabelfont),Zbe.convertToTspans(ai.select(this),t)}),b.append("text").attr("class","dimlabel"),v.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(_){return _.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(_){return _.width/2}).attr("y",-5).text(function(_,g){return g===0?_.parcatsViewModel.model.dimensions[_.model.dimensionInd].dimensionLabel:null}).each(function(_){Xbe.font(ai.select(this),_.parcatsViewModel.labelfont)}),v.selectAll("rect.bandrect").on("mouseover",N0t).on("mouseout",z0t),v.exit().remove(),h.call(ai.behavior.drag().origin(function(_){return{x:_.x,y:0}}).on("dragstart",O0t).on("drag",B0t).on("dragend",H0t)),o.each(function(_){_.traceSelection=ai.select(this),_.pathSelection=ai.select(this).selectAll("g.paths").selectAll("path.path"),_.dimensionSelection=ai.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),o.exit().remove()}r2e.exports=function(e,t,r,n){S0t(r,e,n,t)};function Wv(e){return e.key}function cw(e){var t=e.parcatsViewModel.dimensions.length,r=e.parcatsViewModel.dimensions[t-1].model.dimensionInd;return e.model.dimensionInd===r}function dP(e,t){return e.model.rawColor>t.model.rawColor?1:e.model.rawColor<t.model.rawColor?-1:0}function E0t(e){if(!e.parcatsViewModel.dragDimension&&e.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){d0.raiseToTop(this),mP(ai.select(this));var t=vw(e),r=pP(e);if(e.parcatsViewModel.graphDiv.emit("plotly_hover",{points:t,event:ai.event,constraints:r}),e.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var n=ai.mouse(this)[0],i=e.parcatsViewModel.graphDiv,a=e.parcatsViewModel.trace,o=i._fullLayout,s=o._paperdiv.node().getBoundingClientRect(),l=e.parcatsViewModel.graphDiv.getBoundingClientRect(),u,f,c;for(c=0;c<e.leftXs.length-1;c++)if(e.leftXs[c]+e.dimWidths[c]-2<=n&&n<=e.leftXs[c+1]+2){var h=e.parcatsViewModel.dimensions[c],v=e.parcatsViewModel.dimensions[c+1];u=(h.x+h.width+v.x)/2,f=(e.topYs[c]+e.topYs[c+1]+e.height)/2;break}var b=e.parcatsViewModel.x+u,y=e.parcatsViewModel.y+f,x=vP.mostReadable(e.model.color,["black","white"]),m=e.model.count,_=m/e.parcatsViewModel.model.count,g={countLabel:m,probabilityLabel:_.toFixed(3)},A=[];e.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&A.push(["Count:",g.countLabel].join(" ")),e.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&A.push(["P:",g.probabilityLabel].join(" "));var w=A.join("<br>"),k=ai.mouse(i)[0];hw.loneHover({trace:a,x:b-s.left+l.left,y:y-s.top+l.top,text:w,color:e.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:x,idealAlign:k<b?"right":"left",hovertemplate:(a.line||{}).hovertemplate,hovertemplateLabels:g,eventData:[{data:a._input,fullData:a,count:m,probability:_}]},{container:o._hoverlayer.node(),outerContainer:o._paper.node(),gd:i})}}}function L0t(e){if(!e.parcatsViewModel.dragDimension&&(gP(ai.select(this)),hw.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),e.parcatsViewModel.pathSelection.sort(dP),e.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var t=vw(e),r=pP(e);e.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:t,event:ai.event,constraints:r})}}function vw(e){for(var t=[],r=Qbe(e.parcatsViewModel),n=0;n<e.model.valueInds.length;n++){var i=e.model.valueInds[n];t.push({curveNumber:r,pointNumber:i})}return t}function pP(e){for(var t={},r=e.parcatsViewModel.model.dimensions,n=0;n<r.length;n++){var i=r[n],a=i.categories[e.model.categoryInds[n]];t[i.containerInd]=a.categoryValue}return e.model.rawColor!==void 0&&(t.color=e.model.rawColor),t}function C0t(e){if(e.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var t=vw(e),r=pP(e);e.parcatsViewModel.graphDiv.emit("plotly_click",{points:t,event:ai.event,constraints:r})}}function gP(e){e.attr("fill",function(t){return t.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function mP(e){e.attr("fill-opacity",.8).attr("stroke",function(t){return vP.mostReadable(t.model.color,["black","white"])}).attr("stroke-width",.3)}function D0t(e){e.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function Kbe(e){e.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function q0t(e){e.attr("stroke","black").attr("stroke-width",1.5)}function yP(e){e.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function Ok(e){var t=e.parcatsViewModel.pathSelection,r=e.categoryViewModel.model.dimensionInd,n=e.categoryViewModel.model.categoryInd;return t.filter(function(i){return i.model.categoryInds[r]===n&&i.model.color===e.color})}function R0t(e){var t=ai.select(e.parentNode).selectAll("rect.bandrect");t.each(function(r){var n=Ok(r);mP(n),n.each(function(){d0.raiseToTop(this)})}),D0t(ai.select(e.parentNode))}function I0t(e){var t=ai.select(e).datum(),r=Ok(t);mP(r),r.each(function(){d0.raiseToTop(this)}),ai.select(e.parentNode).selectAll("rect.bandrect").filter(function(n){return n.color===t.color}).each(function(){d0.raiseToTop(this),q0t(ai.select(this))})}function xP(e,t,r){var n=ai.select(e).datum(),i=n.categoryViewModel.model,a=n.parcatsViewModel.graphDiv,o=ai.select(e.parentNode).selectAll("rect.bandrect"),s=[];o.each(function(u){var f=Ok(u);f.each(function(c){Array.prototype.push.apply(s,vw(c))})});var l={};l[i.dimensionInd]=i.categoryValue,a.emit(t,{points:s,event:r,constraints:l})}function bP(e,t,r){var n=ai.select(e).datum(),i=n.categoryViewModel.model,a=n.parcatsViewModel.graphDiv,o=Ok(n),s=[];o.each(function(u){Array.prototype.push.apply(s,vw(u))});var l={};l[i.dimensionInd]=i.categoryValue,n.rawColor!==void 0&&(l.color=n.rawColor),a.emit(t,{points:s,event:r,constraints:l})}function Jbe(e,t,r){e._fullLayout._calcInverseTransform(e);var n=e._fullLayout._invScaleX,i=e._fullLayout._invScaleY,a=ai.select(r.parentNode).select("rect.catrect"),o=a.node().getBoundingClientRect(),s=a.datum(),l=s.parcatsViewModel,u=l.model.dimensions[s.model.dimensionInd],f=l.trace,c=o.top+o.height/2,h,v;l.dimensions.length>1&&u.displayInd===l.dimensions.length-1?(h=o.left,v="left"):(h=o.left+o.width,v="right");var b=s.model.count,y=s.model.categoryLabel,x=b/s.parcatsViewModel.model.count,m={countLabel:b,categoryLabel:y,probabilityLabel:x.toFixed(3)},_=[];s.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&_.push(["Count:",m.countLabel].join(" ")),s.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&_.push(["P("+m.categoryLabel+"):",m.probabilityLabel].join(" "));var g=_.join("<br>");return{trace:f,x:n*(h-t.left),y:i*(c-t.top),text:g,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:v,hovertemplate:f.hovertemplate,hovertemplateLabels:m,eventData:[{data:f._input,fullData:f,count:b,category:y,probability:x}]}}function P0t(e,t,r){var n=[];return ai.select(r.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var i=this;n.push(Jbe(e,t,i))}),n}function F0t(e,t,r){e._fullLayout._calcInverseTransform(e);var n=e._fullLayout._invScaleX,i=e._fullLayout._invScaleY,a=r.getBoundingClientRect(),o=ai.select(r).datum(),s=o.categoryViewModel,l=s.parcatsViewModel,u=l.model.dimensions[s.model.dimensionInd],f=l.trace,c=a.y+a.height/2,h,v;l.dimensions.length>1&&u.displayInd===l.dimensions.length-1?(h=a.left,v="left"):(h=a.left+a.width,v="right");var b=s.model.categoryLabel,y=o.parcatsViewModel.model.count,x=0;o.categoryViewModel.bands.forEach(function(T){T.color===o.color&&(x+=T.count)});var m=s.model.count,_=0;l.pathSelection.each(function(T){T.model.color===o.color&&(_+=T.model.count)});var g=x/y,A=x/_,w=x/m,k={countLabel:y,categoryLabel:b,probabilityLabel:g.toFixed(3)},p=[];s.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&p.push(["Count:",k.countLabel].join(" ")),s.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(p.push("P(color \u2229 "+b+"): "+k.probabilityLabel),p.push("P("+b+" | color): "+A.toFixed(3)),p.push("P(color | "+b+"): "+w.toFixed(3)));var d=p.join("<br>"),M=vP.mostReadable(o.color,["black","white"]);return{trace:f,x:n*(h-t.left),y:i*(c-t.top),text:d,color:o.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:M,fontSize:10,idealAlign:v,hovertemplate:f.hovertemplate,hovertemplateLabels:k,eventData:[{data:f._input,fullData:f,category:b,count:y,probability:g,categorycount:m,colorcount:_,bandcolorcount:x}]}}function N0t(e){if(!e.parcatsViewModel.dragDimension&&e.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var t=ai.mouse(this)[1];if(t<-1)return;var r=e.parcatsViewModel.graphDiv,n=r._fullLayout,i=n._paperdiv.node().getBoundingClientRect(),a=e.parcatsViewModel.hoveron,o=this;if(a==="color"?(I0t(o),bP(o,"plotly_hover",ai.event)):(R0t(o),xP(o,"plotly_hover",ai.event)),e.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var s;a==="category"?s=Jbe(r,i,o):a==="color"?s=F0t(r,i,o):a==="dimension"&&(s=P0t(r,i,o)),s&&hw.loneHover(s,{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:r})}}}function z0t(e){var t=e.parcatsViewModel;if(!t.dragDimension&&(gP(t.pathSelection),Kbe(t.dimensionSelection.selectAll("g.category")),yP(t.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),hw.loneUnhover(t.graphDiv._fullLayout._hoverlayer.node()),t.pathSelection.sort(dP),t.hoverinfoItems.indexOf("skip")===-1)){var r=e.parcatsViewModel.hoveron,n=this;r==="color"?bP(n,"plotly_unhover",ai.event):xP(n,"plotly_unhover",ai.event)}}function O0t(e){e.parcatsViewModel.arrangement!=="fixed"&&(e.dragDimensionDisplayInd=e.model.displayInd,e.initialDragDimensionDisplayInds=e.parcatsViewModel.model.dimensions.map(function(t){return t.displayInd}),e.dragHasMoved=!1,e.dragCategoryDisplayInd=null,ai.select(this).selectAll("g.category").select("rect.catrect").each(function(t){var r=ai.mouse(this)[0],n=ai.mouse(this)[1];-2<=r&&r<=t.width+2&&-2<=n&&n<=t.height+2&&(e.dragCategoryDisplayInd=t.model.displayInd,e.initialDragCategoryDisplayInds=e.model.categories.map(function(i){return i.displayInd}),t.model.dragY=t.y,d0.raiseToTop(this.parentNode),ai.select(this.parentNode).selectAll("rect.bandrect").each(function(i){i.y<n&&n<=i.y+i.height&&(e.potentialClickBand=this)}))}),e.parcatsViewModel.dragDimension=e,hw.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function B0t(e){if(e.parcatsViewModel.arrangement!=="fixed"&&(e.dragHasMoved=!0,e.dragDimensionDisplayInd!==null)){var t=e.dragDimensionDisplayInd,r=t-1,n=t+1,i=e.parcatsViewModel.dimensions[t];if(e.dragCategoryDisplayInd!==null){var a=i.categories[e.dragCategoryDisplayInd];a.model.dragY+=ai.event.dy;var o=a.model.dragY,s=a.model.displayInd,l=i.categories,u=l[s-1],f=l[s+1];u!==void 0&&o<u.y+u.height/2&&(a.model.displayInd=u.model.displayInd,u.model.displayInd=s),f!==void 0&&o+a.height>f.y+f.height/2&&(a.model.displayInd=f.model.displayInd,f.model.displayInd=s),e.dragCategoryDisplayInd=a.model.displayInd}if(e.dragCategoryDisplayInd===null||e.parcatsViewModel.arrangement==="freeform"){i.model.dragX=ai.event.x;var c=e.parcatsViewModel.dimensions[r],h=e.parcatsViewModel.dimensions[n];c!==void 0&&i.model.dragX<c.x+c.width&&(i.model.displayInd=c.model.displayInd,c.model.displayInd=t),h!==void 0&&i.model.dragX+i.width>h.x&&(i.model.displayInd=h.model.displayInd,h.model.displayInd=e.dragDimensionDisplayInd),e.dragDimensionDisplayInd=i.model.displayInd}_P(e.parcatsViewModel),wP(e.parcatsViewModel),t2e(e.parcatsViewModel),e2e(e.parcatsViewModel)}}function H0t(e){if(e.parcatsViewModel.arrangement!=="fixed"&&e.dragDimensionDisplayInd!==null){ai.select(this).selectAll("text").attr("font-weight","normal");var t={},r=Qbe(e.parcatsViewModel),n=e.parcatsViewModel.model.dimensions.map(function(h){return h.displayInd}),i=e.initialDragDimensionDisplayInds.some(function(h,v){return h!==n[v]});i&&n.forEach(function(h,v){var b=e.parcatsViewModel.model.dimensions[v].containerInd;t["dimensions["+b+"].displayindex"]=h});var a=!1;if(e.dragCategoryDisplayInd!==null){var o=e.model.categories.map(function(h){return h.displayInd});if(a=e.initialDragCategoryDisplayInds.some(function(h,v){return h!==o[v]}),a){var s=e.model.categories.slice().sort(function(h,v){return h.displayInd-v.displayInd}),l=s.map(function(h){return h.categoryValue}),u=s.map(function(h){return h.categoryLabel});t["dimensions["+e.model.containerInd+"].categoryarray"]=[l],t["dimensions["+e.model.containerInd+"].ticktext"]=[u],t["dimensions["+e.model.containerInd+"].categoryorder"]="array"}}if(e.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!e.dragHasMoved&&e.potentialClickBand&&(e.parcatsViewModel.hoveron==="color"?bP(e.potentialClickBand,"plotly_click",ai.event.sourceEvent):xP(e.potentialClickBand,"plotly_click",ai.event.sourceEvent)),e.model.dragX=null,e.dragCategoryDisplayInd!==null){var f=e.parcatsViewModel.dimensions[e.dragDimensionDisplayInd].categories[e.dragCategoryDisplayInd];f.model.dragY=null,e.dragCategoryDisplayInd=null}e.dragDimensionDisplayInd=null,e.parcatsViewModel.dragDimension=null,e.dragHasMoved=null,e.potentialClickBand=null,_P(e.parcatsViewModel),wP(e.parcatsViewModel);var c=ai.transition().duration(300).ease("cubic-in-out");c.each(function(){t2e(e.parcatsViewModel,!0),e2e(e.parcatsViewModel,!0)}).each("end",function(){(i||a)&&k0t.restyle(e.parcatsViewModel.graphDiv,t,[r])})}}function Qbe(e){for(var t,r=e.graphDiv._fullData,n=0;n<r.length;n++)if(e.key===r[n].uid){t=n;break}return t}function e2e(e,t){t===void 0&&(t=!1);function r(n){return t?n.transition():n}e.pathSelection.data(function(n){return n.paths},Wv),r(e.pathSelection).attr("d",function(n){return n.svgD})}function t2e(e,t){t===void 0&&(t=!1);function r(l){return t?l.transition():l}e.dimensionSelection.data(function(l){return l.dimensions},Wv);var n=e.dimensionSelection.selectAll("g.category").data(function(l){return l.categories},Wv);r(e.dimensionSelection).attr("transform",function(l){return fw(l.x,0)}),r(n).attr("transform",function(l){return fw(0,l.y)});var i=n.select(".dimlabel");i.text(function(l,u){return u===0?l.parcatsViewModel.model.dimensions[l.model.dimensionInd].dimensionLabel:null});var a=n.select(".catlabel");a.attr("text-anchor",function(l){return cw(l)?"start":"end"}).attr("x",function(l){return cw(l)?l.width+5:-5}).each(function(l){var u,f;cw(l)?(u=l.width+5,f="start"):(u=-5,f="end"),ai.select(this).selectAll("tspan").attr("x",u).attr("text-anchor",f)});var o=n.selectAll("rect.bandrect").data(function(l){return l.bands},Wv),s=o.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(l){return l.color}).attr("fill-opacity",0);o.attr("fill",function(l){return l.color}).attr("width",function(l){return l.width}).attr("height",function(l){return l.height}).attr("y",function(l){return l.y}),yP(s),o.each(function(){d0.raiseToTop(this)}),o.exit().remove()}function U0t(e,t,r){var n=r[0],i=t.margin||{l:80,r:80,t:100,b:80},a=n.trace,o=a.domain,s=t.width,l=t.height,u=Math.floor(s*(o.x[1]-o.x[0])),f=Math.floor(l*(o.y[1]-o.y[0])),c=o.x[0]*s+i.l,h=t.height-o.y[1]*t.height+i.t,v=a.line.shape,b;a.hoverinfo==="all"?b=["count","probability"]:b=(a.hoverinfo||"").split("+");var y={trace:a,key:a.uid,model:n,x:c,y:h,width:u,height:f,hoveron:a.hoveron,hoverinfoItems:b,arrangement:a.arrangement,bundlecolors:a.bundlecolors,sortpaths:a.sortpaths,labelfont:a.labelfont,categorylabelfont:a.tickfont,pathShape:v,dragDimension:null,margin:i,paths:[],dimensions:[],graphDiv:e,traceSelection:null,pathSelection:null,dimensionSelection:null};return n.dimensions&&(_P(y),wP(y)),y}function $be(e,t,r,n,i){var a=[],o=[],s,l;for(l=0;l<r.length-1;l++)s=M0t(r[l]+e[l],e[l+1]),a.push(s(i)),o.push(s(1-i));var u="M "+e[0]+","+t[0];for(u+="l"+r[0]+",0 ",l=1;l<r.length;l++)u+="C"+a[l-1]+","+t[l-1]+" "+o[l-1]+","+t[l]+" "+e[l]+","+t[l],u+="l"+r[l]+",0 ";for(u+="l0,"+n+" ",u+="l -"+r[r.length-1]+",0 ",l=r.length-2;l>=0;l--)u+="C"+o[l]+","+(t[l+1]+n)+" "+a[l]+","+(t[l]+n)+" "+(e[l]+r[l])+","+(t[l]+n),u+="l-"+r[l]+",0 ";return u+="Z",u}function wP(e){var t=e.dimensions,r=e.model,n=t.map(function(L){return L.categories.map(function(D){return D.y})}),i=e.model.dimensions.map(function(L){return L.categories.map(function(D){return D.displayInd})}),a=e.model.dimensions.map(function(L){return L.displayInd}),o=e.dimensions.map(function(L){return L.model.dimensionInd}),s=t.map(function(L){return L.x}),l=t.map(function(L){return L.width}),u=[];for(var f in r.paths)r.paths.hasOwnProperty(f)&&u.push(r.paths[f]);function c(L){var D=L.categoryInds.map(function(q,C){return i[C][q]}),R=o.map(function(q){return D[q]});return R}u.sort(function(L,D){var R=c(L),q=c(D);return e.sortpaths==="backward"&&(R.reverse(),q.reverse()),R.push(L.valueInds[0]),q.push(D.valueInds[0]),e.bundlecolors&&(R.unshift(L.rawColor),q.unshift(D.rawColor)),R<q?-1:R>q?1:0});for(var h=new Array(u.length),v=t[0].model.count,b=t[0].categories.map(function(L){return L.height}).reduce(function(L,D){return L+D}),y=0;y<u.length;y++){var x=u[y],m;v>0?m=b*(x.count/v):m=0;for(var _=new Array(n.length),g=0;g<x.categoryInds.length;g++){var A=x.categoryInds[g],w=i[g][A],k=a[g];_[k]=n[k][w],n[k][w]+=m;var p=e.dimensions[k].categories[w],d=p.bands.length,M=p.bands[d-1];if(M===void 0||x.rawColor!==M.rawColor){var T=M===void 0?0:M.y+M.height;p.bands.push({key:T,color:x.color,rawColor:x.rawColor,height:m,width:p.width,count:x.count,y:T,categoryViewModel:p,parcatsViewModel:e})}else{var S=p.bands[d-1];S.height+=m,S.count+=x.count}}var E;e.pathShape==="hspline"?E=$be(s,_,l,m,.5):E=$be(s,_,l,m,0),h[y]={key:x.valueInds[0],model:x,height:m,leftXs:s,topYs:_,dimWidths:l,svgD:E,parcatsViewModel:e}}e.paths=h}function _P(e){var t=e.model.dimensions.map(function(o){return{displayInd:o.displayInd,dimensionInd:o.dimensionInd}});t.sort(function(o,s){return o.displayInd-s.displayInd});var r=[];for(var n in t){var i=t[n].dimensionInd,a=e.model.dimensions[i];r.push(j0t(e,a))}e.dimensions=r}function j0t(e,t){var r=40,n=16,i=e.model.dimensions.length,a=t.displayInd,o,s,l;i>1?o=(e.width-2*r-n)/(i-1):o=0,s=r,l=s+o*a;var u=[],f=e.model.maxCats,c=t.categories.length,h=8,v=t.count,b=e.height-h*(f-1),y,x,m,_,g,A=(f-c)*h/2,w=t.categories.map(function(k){return{displayInd:k.displayInd,categoryInd:k.categoryInd}});for(w.sort(function(k,p){return k.displayInd-p.displayInd}),g=0;g<c;g++)_=w[g].categoryInd,x=t.categories[_],v>0?y=x.count/v*b:y=0,m={key:x.valueInds[0],model:x,width:n,height:y,y:x.dragY!==null?x.dragY:A,bands:[],parcatsViewModel:e},A=A+y+h,u.push(m);return{key:t.dimensionInd,x:t.dragX!==null?t.dragX:l,y:0,width:n,model:t,categories:u,parcatsViewModel:e,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}});var TP=$((Iqt,i2e)=>{"use strict";var V0t=n2e();i2e.exports=function(t,r,n,i){var a=t._fullLayout,o=a._paper,s=a._size;V0t(t,o,r,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},n,i)}});var o2e=$(Bk=>{"use strict";var G0t=Au().getModuleCalcData,Y0t=TP(),a2e="parcats";Bk.name=a2e;Bk.plot=function(e,t,r,n){var i=G0t(e.calcdata,a2e);if(i.length){var a=i[0];Y0t(e,a,r,n)}};Bk.clean=function(e,t,r,n){var i=n._has&&n._has("parcats"),a=t._has&&t._has("parcats");i&&!a&&n._paperdiv.selectAll(".parcats").remove()}});var l2e=$((Fqt,s2e)=>{"use strict";s2e.exports={attributes:hP(),supplyDefaults:jbe(),calc:Wbe(),plot:TP(),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:o2e(),categories:["noOpacity"],meta:{description:["Parallel categories diagram for multidimensional categorical data."].join(" ")}}});var f2e=$((Nqt,u2e)=>{"use strict";u2e.exports=l2e()});var MP=$((zqt,d2e)=>{"use strict";var W0t=Ba(),X0t=aa(),c2e=Ro(),AP=m1(),Z0t=Ua().attributes,h2e=Yn().hovertemplateAttrs,$0t=Ma(),K0t=bi().templatedArray,J0t=Ha().descriptionOnlyNumbers,v2e=ln().extendFlat,Q0t=Fa().overrideAll,ept=d2e.exports=Q0t({hoverinfo:v2e({},X0t.hoverinfo,{flags:[],arrayOk:!1,description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired.","Note that this attribute is superseded by `node.hoverinfo` and `node.hoverinfo`","for nodes and links respectively."].join(" ")}),hoverlabel:AP.hoverlabel,domain:Z0t({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h",description:"Sets the orientation of the Sankey diagram."},valueformat:{valType:"string",dflt:".3s",description:J0t("value")},valuesuffix:{valType:"string",dflt:"",description:["Adds a unit to follow the value in the hover tooltip. Add a space if a separation","is necessary from the value."].join(" ")},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap",description:["If value is `snap` (the default), the node arrangement is assisted by automatic snapping of elements to","preserve space between nodes specified via `nodepad`.","If value is `perpendicular`, the nodes can only move along a line perpendicular to the flow.","If value is `freeform`, the nodes can freely move on the plane.","If value is `fixed`, the nodes are stationary."].join(" ")},textfont:W0t({description:"Sets the font for node labels"}),customdata:void 0,node:{label:{valType:"data_array",dflt:[],description:"The shown name of the node."},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"},description:["Groups of nodes.","Each group is defined by an array with the indices of the nodes it contains.","Multiple groups can be specified."].join(" ")},x:{valType:"data_array",dflt:[],description:"The normalized horizontal position of the node."},y:{valType:"data_array",dflt:[],description:"The normalized vertical position of the node."},color:{valType:"color",arrayOk:!0,description:["Sets the `node` color. It can be a single value, or an array for specifying color for each `node`.","If `node.color` is omitted, then the default `Plotly` color palette will be cycled through","to have a variety of colors. These defaults are not fully opaque, to allow some visibility of","what is beneath the node."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data to each node."].join(" ")},line:{color:{valType:"color",dflt:c2e.defaultLine,arrayOk:!0,description:["Sets the color of the `line` around each `node`."].join(" ")},width:{valType:"number",min:0,dflt:.5,arrayOk:!0,description:["Sets the width (in px) of the `line` around each `node`."].join(" ")}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20,description:"Sets the padding (in px) between the `nodes`."},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20,description:"Sets the thickness (in px) of the `nodes`."},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all",description:["Determines which trace information appear when hovering nodes.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:AP.hoverlabel,hovertemplate:h2e({},{description:"Variables `sourceLinks` and `targetLinks` are arrays of link objects.",keys:["value","label"]}),description:"The nodes of the Sankey plot."},link:{arrowlen:{valType:"number",min:0,dflt:0,description:["Sets the length (in px) of the links arrow, if 0 no arrow will be drawn."].join(" ")},label:{valType:"data_array",dflt:[],description:"The shown name of the link."},color:{valType:"color",arrayOk:!0,description:["Sets the `link` color. It can be a single value, or an array for specifying color for each `link`.","If `link.color` is omitted, then by default, a translucent grey link will be used."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data to each link."].join(" ")},line:{color:{valType:"color",dflt:c2e.defaultLine,arrayOk:!0,description:["Sets the color of the `line` around each `link`."].join(" ")},width:{valType:"number",min:0,dflt:0,arrayOk:!0,description:["Sets the width (in px) of the `line` around each `link`."].join(" ")}},source:{valType:"data_array",dflt:[],description:"An integer number `[0..nodes.length - 1]` that represents the source node."},target:{valType:"data_array",dflt:[],description:"An integer number `[0..nodes.length - 1]` that represents the target node."},value:{valType:"data_array",dflt:[],description:"A numeric value representing the flow volume value."},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all",description:["Determines which trace information appear when hovering links.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:AP.hoverlabel,hovertemplate:h2e({},{description:"Variables `source` and `target` are node objects.",keys:["value","label"]}),colorscales:K0t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",description:"The label of the links to color based on their concentration within a flow.",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1,description:"Sets the upper bound of the color domain."},cmin:{valType:"number",editType:"calc",dflt:0,description:"Sets the lower bound of the color domain."},colorscale:v2e($0t().colorscale,{dflt:[[0,"white"],[1,"black"]]})}),description:"The links of the Sankey plot."}},"calc","nested");ept.transforms=void 0});var y2e=$((Oqt,m2e)=>{"use strict";var p0=pt(),Hk=MP(),tpt=Rr(),rpt=Ko(),npt=Ua().defaults,p2e=Gx(),g2e=bi(),ipt=Mu();m2e.exports=function(t,r,n,i){function a(m,_){return p0.coerce(t,r,Hk,m,_)}var o=p0.extendDeep(i.hoverlabel,t.hoverlabel),s=t.node,l=g2e.newContainer(r,"node");function u(m,_){return p0.coerce(s,l,Hk.node,m,_)}u("label"),u("groups"),u("x"),u("y"),u("pad"),u("thickness"),u("line.color"),u("line.width"),u("hoverinfo",t.hoverinfo),p2e(s,l,u,o),u("hovertemplate");var f=i.colorway,c=function(m){return f[m%f.length]};u("color",l.label.map(function(m,_){return tpt.addOpacity(c(_),.8)})),u("customdata");var h=t.link||{},v=g2e.newContainer(r,"link");function b(m,_){return p0.coerce(h,v,Hk.link,m,_)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",t.hoverinfo),p2e(h,v,b,o),b("hovertemplate");var y=rpt(i.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",p0.repeat(y,v.value.length)),b("customdata"),ipt(h,v,{name:"colorscales",handleItemDefaults:apt}),npt(r,i,a),a("orientation"),a("valueformat"),a("valuesuffix");var x;l.x.length&&l.y.length&&(x="freeform"),a("arrangement",x),p0.coerceFont(a,"textfont",p0.extendFlat({},i.font)),r._length=null};function apt(e,t){function r(n,i){return p0.coerce(e,t,Hk.link.colorscales,n,i)}r("label"),r("cmin"),r("cmax"),r("colorscale")}});var kP=$((Bqt,x2e)=>{"use strict";x2e.exports=opt;function opt(e){for(var t=e.length,r=new Array(t),n=new Array(t),i=new Array(t),a=new Array(t),o=new Array(t),s=new Array(t),l=0;l<t;++l)r[l]=-1,n[l]=0,i[l]=!1,a[l]=0,o[l]=-1,s[l]=[];var u=0,f=[],c=[];function h(x){var m=[x],_=[x];for(r[x]=n[x]=u,i[x]=!0,u+=1;_.length>0;){x=_[_.length-1];var g=e[x];if(a[x]<g.length){for(var A=a[x];A<g.length;++A){var w=g[A];if(r[w]<0){r[w]=n[w]=u,i[w]=!0,u+=1,m.push(w),_.push(w);break}else i[w]&&(n[x]=Math.min(n[x],n[w])|0);o[w]>=0&&s[x].push(o[w])}a[x]=A}else{if(n[x]===r[x]){for(var k=[],p=[],d=0,A=m.length-1;A>=0;--A){var M=m[A];if(i[M]=!1,k.push(M),p.push(s[M]),d+=s[M].length,o[M]=f.length,M===x){m.length=A;break}}f.push(k);for(var T=new Array(d),A=0;A<p.length;A++)for(var S=0;S<p[A].length;S++)T[--d]=p[A][S];c.push(T)}_.pop()}}}for(var l=0;l<t;++l)r[l]<0&&h(l);for(var v,l=0;l<c.length;l++){var b=c[l];if(b.length!==0){b.sort(function(m,_){return m-_}),v=[b[0]];for(var y=1;y<b.length;y++)b[y]!==b[y-1]&&v.push(b[y]);c[l]=v}}return{components:f,adjacencyList:c}}});var T2e=$((Hqt,_2e)=>{"use strict";var spt=kP(),yy=pt(),lpt=my().wrap,Uk=yy.isArrayOrTypedArray,b2e=yy.isIndex,w2e=Wa();function upt(e){var t=e.node,r=e.link,n=[],i=Uk(r.color),a=Uk(r.customdata),o={},s={},l=r.colorscales.length,u;for(u=0;u<l;u++){var f=r.colorscales[u],c=w2e.extractScale(f,{cLetter:"c"}),h=w2e.makeColorScaleFunc(c);s[f.label]=h}var v=0;for(u=0;u<r.value.length;u++)r.source[u]>v&&(v=r.source[u]),r.target[u]>v&&(v=r.target[u]);var b=v+1;e.node._count=b;var y,x=e.node.groups,m={};for(u=0;u<x.length;u++){var _=x[u];for(y=0;y<_.length;y++){var g=_[y],A=b+u;m.hasOwnProperty(g)?yy.warn("Node "+g+" is already part of a group."):m[g]=A}}var w={source:[],target:[]};for(u=0;u<r.value.length;u++){var k=r.value[u],p=r.source[u],d=r.target[u];if(k>0&&b2e(p,b)&&b2e(d,b)&&!(m.hasOwnProperty(p)&&m.hasOwnProperty(d)&&m[p]===m[d])){m.hasOwnProperty(d)&&(d=m[d]),m.hasOwnProperty(p)&&(p=m[p]),p=+p,d=+d,o[p]=o[d]=!0;var M="";r.label&&r.label[u]&&(M=r.label[u]);var T=null;M&&s.hasOwnProperty(M)&&(T=s[M]),n.push({pointNumber:u,label:M,color:i?r.color[u]:r.color,customdata:a?r.customdata[u]:r.customdata,concentrationscale:T,source:p,target:d,value:+k}),w.source.push(p),w.target.push(d)}}var S=b+x.length,E=Uk(t.color),L=Uk(t.customdata),D=[];for(u=0;u<S;u++)if(o[u]){var R=t.label[u];D.push({group:u>b-1,childrenNodes:[],pointNumber:u,label:R,color:E?t.color[u]:t.color,customdata:L?t.customdata[u]:t.customdata})}var q=!1;return fpt(S,w.source,w.target)&&(q=!0),{circular:q,links:n,nodes:D,groups:x,groupLookup:m}}function fpt(e,t,r){for(var n=yy.init2dArray(e,0),i=0;i<Math.min(t.length,r.length);i++)if(yy.isIndex(t[i],e)&&yy.isIndex(r[i],e)){if(t[i]===r[i])return!0;n[t[i]].push(r[i])}var a=spt(n);return a.components.some(function(o){return o.length>1})}_2e.exports=function(t,r){var n=upt(r);return lpt({circular:n.circular,_nodes:n.nodes,_links:n.links,_groups:n.groups,_groupLookup:n.groupLookup})}});var M2e=$((jk,A2e)=>{(function(e,t){typeof jk=="object"&&typeof A2e<"u"?t(jk):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(jk,function(e){"use strict";function t(p){var d=+this._x.call(null,p),M=+this._y.call(null,p);return r(this.cover(d,M),d,M,p)}function r(p,d,M,T){if(isNaN(d)||isNaN(M))return p;var S,E=p._root,L={data:T},D=p._x0,R=p._y0,q=p._x1,C=p._y1,F,N,U,V,Y,K,B,z;if(!E)return p._root=L,p;for(;E.length;)if((Y=d>=(F=(D+q)/2))?D=F:q=F,(K=M>=(N=(R+C)/2))?R=N:C=N,S=E,!(E=E[B=K<<1|Y]))return S[B]=L,p;if(U=+p._x.call(null,E.data),V=+p._y.call(null,E.data),d===U&&M===V)return L.next=E,S?S[B]=L:p._root=L,p;do S=S?S[B]=new Array(4):p._root=new Array(4),(Y=d>=(F=(D+q)/2))?D=F:q=F,(K=M>=(N=(R+C)/2))?R=N:C=N;while((B=K<<1|Y)===(z=(V>=N)<<1|U>=F));return S[z]=E,S[B]=L,p}function n(p){var d,M,T=p.length,S,E,L=new Array(T),D=new Array(T),R=1/0,q=1/0,C=-1/0,F=-1/0;for(M=0;M<T;++M)isNaN(S=+this._x.call(null,d=p[M]))||isNaN(E=+this._y.call(null,d))||(L[M]=S,D[M]=E,S<R&&(R=S),S>C&&(C=S),E<q&&(q=E),E>F&&(F=E));if(R>C||q>F)return this;for(this.cover(R,q).cover(C,F),M=0;M<T;++M)r(this,L[M],D[M],p[M]);return this}function i(p,d){if(isNaN(p=+p)||isNaN(d=+d))return this;var M=this._x0,T=this._y0,S=this._x1,E=this._y1;if(isNaN(M))S=(M=Math.floor(p))+1,E=(T=Math.floor(d))+1;else{for(var L=S-M,D=this._root,R,q;M>p||p>=S||T>d||d>=E;)switch(q=(d<T)<<1|p<M,R=new Array(4),R[q]=D,D=R,L*=2,q){case 0:S=M+L,E=T+L;break;case 1:M=S-L,E=T+L;break;case 2:S=M+L,T=E-L;break;case 3:M=S-L,T=E-L;break}this._root&&this._root.length&&(this._root=D)}return this._x0=M,this._y0=T,this._x1=S,this._y1=E,this}function a(){var p=[];return this.visit(function(d){if(!d.length)do p.push(d.data);while(d=d.next)}),p}function o(p){return arguments.length?this.cover(+p[0][0],+p[0][1]).cover(+p[1][0],+p[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(p,d,M,T,S){this.node=p,this.x0=d,this.y0=M,this.x1=T,this.y1=S}function l(p,d,M){var T,S=this._x0,E=this._y0,L,D,R,q,C=this._x1,F=this._y1,N=[],U=this._root,V,Y;for(U&&N.push(new s(U,S,E,C,F)),M==null?M=1/0:(S=p-M,E=d-M,C=p+M,F=d+M,M*=M);V=N.pop();)if(!(!(U=V.node)||(L=V.x0)>C||(D=V.y0)>F||(R=V.x1)<S||(q=V.y1)<E))if(U.length){var K=(L+R)/2,B=(D+q)/2;N.push(new s(U[3],K,B,R,q),new s(U[2],L,B,K,q),new s(U[1],K,D,R,B),new s(U[0],L,D,K,B)),(Y=(d>=B)<<1|p>=K)&&(V=N[N.length-1],N[N.length-1]=N[N.length-1-Y],N[N.length-1-Y]=V)}else{var z=p-+this._x.call(null,U.data),j=d-+this._y.call(null,U.data),ae=z*z+j*j;if(ae<M){var ee=Math.sqrt(M=ae);S=p-ee,E=d-ee,C=p+ee,F=d+ee,T=U.data}}return T}function u(p){if(isNaN(C=+this._x.call(null,p))||isNaN(F=+this._y.call(null,p)))return this;var d,M=this._root,T,S,E,L=this._x0,D=this._y0,R=this._x1,q=this._y1,C,F,N,U,V,Y,K,B;if(!M)return this;if(M.length)for(;;){if((V=C>=(N=(L+R)/2))?L=N:R=N,(Y=F>=(U=(D+q)/2))?D=U:q=U,d=M,!(M=M[K=Y<<1|V]))return this;if(!M.length)break;(d[K+1&3]||d[K+2&3]||d[K+3&3])&&(T=d,B=K)}for(;M.data!==p;)if(S=M,!(M=M.next))return this;return(E=M.next)&&delete M.next,S?(E?S.next=E:delete S.next,this):d?(E?d[K]=E:delete d[K],(M=d[0]||d[1]||d[2]||d[3])&&M===(d[3]||d[2]||d[1]||d[0])&&!M.length&&(T?T[B]=M:this._root=M),this):(this._root=E,this)}function f(p){for(var d=0,M=p.length;d<M;++d)this.remove(p[d]);return this}function c(){return this._root}function h(){var p=0;return this.visit(function(d){if(!d.length)do++p;while(d=d.next)}),p}function v(p){var d=[],M,T=this._root,S,E,L,D,R;for(T&&d.push(new s(T,this._x0,this._y0,this._x1,this._y1));M=d.pop();)if(!p(T=M.node,E=M.x0,L=M.y0,D=M.x1,R=M.y1)&&T.length){var q=(E+D)/2,C=(L+R)/2;(S=T[3])&&d.push(new s(S,q,C,D,R)),(S=T[2])&&d.push(new s(S,E,C,q,R)),(S=T[1])&&d.push(new s(S,q,L,D,C)),(S=T[0])&&d.push(new s(S,E,L,q,C))}return this}function b(p){var d=[],M=[],T;for(this._root&&d.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));T=d.pop();){var S=T.node;if(S.length){var E,L=T.x0,D=T.y0,R=T.x1,q=T.y1,C=(L+R)/2,F=(D+q)/2;(E=S[0])&&d.push(new s(E,L,D,C,F)),(E=S[1])&&d.push(new s(E,C,D,R,F)),(E=S[2])&&d.push(new s(E,L,F,C,q)),(E=S[3])&&d.push(new s(E,C,F,R,q))}M.push(T)}for(;T=M.pop();)p(T.node,T.x0,T.y0,T.x1,T.y1);return this}function y(p){return p[0]}function x(p){return arguments.length?(this._x=p,this):this._x}function m(p){return p[1]}function _(p){return arguments.length?(this._y=p,this):this._y}function g(p,d,M){var T=new A(d??y,M??m,NaN,NaN,NaN,NaN);return p==null?T:T.addAll(p)}function A(p,d,M,T,S,E){this._x=p,this._y=d,this._x0=M,this._y0=T,this._x1=S,this._y1=E,this._root=void 0}function w(p){for(var d={data:p.data},M=d;p=p.next;)M=M.next={data:p.data};return d}var k=g.prototype=A.prototype;k.copy=function(){var p=new A(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,M,T;if(!d)return p;if(!d.length)return p._root=w(d),p;for(M=[{source:d,target:p._root=new Array(4)}];d=M.pop();)for(var S=0;S<4;++S)(T=d.source[S])&&(T.length?M.push({source:T,target:d.target[S]=new Array(4)}):d.target[S]=w(T));return p},k.add=t,k.addAll=n,k.cover=i,k.data=a,k.extent=o,k.find=l,k.remove=u,k.removeAll=f,k.root=c,k.size=h,k.visit=v,k.visitAfter=b,k.x=x,k.y=_,e.quadtree=g,Object.defineProperty(e,"__esModule",{value:!0})})});var Gk=$((Vk,k2e)=>{(function(e,t){typeof Vk=="object"&&typeof k2e<"u"?t(Vk):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Vk,function(e){"use strict";var t="$";function r(){}r.prototype=n.prototype={constructor:r,has:function(y){return t+y in this},get:function(y){return this[t+y]},set:function(y,x){return this[t+y]=x,this},remove:function(y){var x=t+y;return x in this&&delete this[x]},clear:function(){for(var y in this)y[0]===t&&delete this[y]},keys:function(){var y=[];for(var x in this)x[0]===t&&y.push(x.slice(1));return y},values:function(){var y=[];for(var x in this)x[0]===t&&y.push(this[x]);return y},entries:function(){var y=[];for(var x in this)x[0]===t&&y.push({key:x.slice(1),value:this[x]});return y},size:function(){var y=0;for(var x in this)x[0]===t&&++y;return y},empty:function(){for(var y in this)if(y[0]===t)return!1;return!0},each:function(y){for(var x in this)x[0]===t&&y(this[x],x.slice(1),this)}};function n(y,x){var m=new r;if(y instanceof r)y.each(function(k,p){m.set(p,k)});else if(Array.isArray(y)){var _=-1,g=y.length,A;if(x==null)for(;++_<g;)m.set(_,y[_]);else for(;++_<g;)m.set(x(A=y[_],_,y),A)}else if(y)for(var w in y)m.set(w,y[w]);return m}function i(){var y=[],x=[],m,_,g;function A(k,p,d,M){if(p>=y.length)return m!=null&&k.sort(m),_!=null?_(k):k;for(var T=-1,S=k.length,E=y[p++],L,D,R=n(),q,C=d();++T<S;)(q=R.get(L=E(D=k[T])+""))?q.push(D):R.set(L,[D]);return R.each(function(F,N){M(C,N,A(F,p,d,M))}),C}function w(k,p){if(++p>y.length)return k;var d,M=x[p-1];return _!=null&&p>=y.length?d=k.entries():(d=[],k.each(function(T,S){d.push({key:S,values:w(T,p)})})),M!=null?d.sort(function(T,S){return M(T.key,S.key)}):d}return g={object:function(k){return A(k,0,a,o)},map:function(k){return A(k,0,s,l)},entries:function(k){return w(A(k,0,s,l),0)},key:function(k){return y.push(k),g},sortKeys:function(k){return x[y.length-1]=k,g},sortValues:function(k){return m=k,g},rollup:function(k){return _=k,g}}}function a(){return{}}function o(y,x,m){y[x]=m}function s(){return n()}function l(y,x,m){y.set(x,m)}function u(){}var f=n.prototype;u.prototype=c.prototype={constructor:u,has:f.has,add:function(y){return y+="",this[t+y]=y,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};function c(y,x){var m=new u;if(y instanceof u)y.each(function(A){m.add(A)});else if(y){var _=-1,g=y.length;if(x==null)for(;++_<g;)m.add(y[_]);else for(;++_<g;)m.add(x(y[_],_,y))}return m}function h(y){var x=[];for(var m in y)x.push(m);return x}function v(y){var x=[];for(var m in y)x.push(y[m]);return x}function b(y){var x=[];for(var m in y)x.push({key:m,value:y[m]});return x}e.nest=i,e.set=c,e.map=n,e.keys=h,e.values=v,e.entries=b,Object.defineProperty(e,"__esModule",{value:!0})})});var E2e=$((Yk,S2e)=>{(function(e,t){typeof Yk=="object"&&typeof S2e<"u"?t(Yk):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Yk,function(e){"use strict";var t={value:function(){}};function r(){for(var s=0,l=arguments.length,u={},f;s<l;++s){if(!(f=arguments[s]+"")||f in u||/[\s.]/.test(f))throw new Error("illegal type: "+f);u[f]=[]}return new n(u)}function n(s){this._=s}function i(s,l){return s.trim().split(/^|\s+/).map(function(u){var f="",c=u.indexOf(".");if(c>=0&&(f=u.slice(c+1),u=u.slice(0,c)),u&&!l.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:f}})}n.prototype=r.prototype={constructor:n,on:function(s,l){var u=this._,f=i(s+"",u),c,h=-1,v=f.length;if(arguments.length<2){for(;++h<v;)if((c=(s=f[h]).type)&&(c=a(u[c],s.name)))return c;return}if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++h<v;)if(c=(s=f[h]).type)u[c]=o(u[c],s.name,l);else if(l==null)for(c in u)u[c]=o(u[c],s.name,null);return this},copy:function(){var s={},l=this._;for(var u in l)s[u]=l[u].slice();return new n(s)},call:function(s,l){if((c=arguments.length-2)>0)for(var u=new Array(c),f=0,c,h;f<c;++f)u[f]=arguments[f+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(h=this._[s],f=0,c=h.length;f<c;++f)h[f].value.apply(l,u)},apply:function(s,l,u){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var f=this._[s],c=0,h=f.length;c<h;++c)f[c].value.apply(l,u)}};function a(s,l){for(var u=0,f=s.length,c;u<f;++u)if((c=s[u]).name===l)return c.value}function o(s,l,u){for(var f=0,c=s.length;f<c;++f)if(s[f].name===l){s[f]=t,s=s.slice(0,f).concat(s.slice(f+1));break}return u!=null&&s.push({name:l,value:u}),s}e.dispatch=r,Object.defineProperty(e,"__esModule",{value:!0})})});var C2e=$((Wk,L2e)=>{(function(e,t){typeof Wk=="object"&&typeof L2e<"u"?t(Wk):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Wk,function(e){"use strict";var t=0,r=0,n=0,i=1e3,a,o,s=0,l=0,u=0,f=typeof performance=="object"&&performance.now?performance:Date,c=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(p){setTimeout(p,17)};function h(){return l||(c(v),l=f.now()+u)}function v(){l=0}function b(){this._call=this._time=this._next=null}b.prototype=y.prototype={constructor:b,restart:function(p,d,M){if(typeof p!="function")throw new TypeError("callback is not a function");M=(M==null?h():+M)+(d==null?0:+d),!this._next&&o!==this&&(o?o._next=this:a=this,o=this),this._call=p,this._time=M,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}};function y(p,d,M){var T=new b;return T.restart(p,d,M),T}function x(){h(),++t;for(var p=a,d;p;)(d=l-p._time)>=0&&p._call.call(null,d),p=p._next;--t}function m(){l=(s=f.now())+u,t=r=0;try{x()}finally{t=0,g(),l=0}}function _(){var p=f.now(),d=p-s;d>i&&(u-=d,s=p)}function g(){for(var p,d=a,M,T=1/0;d;)d._call?(T>d._time&&(T=d._time),p=d,d=d._next):(M=d._next,d._next=null,d=p?p._next=M:a=M);o=p,A(T)}function A(p){if(!t){r&&(r=clearTimeout(r));var d=p-l;d>24?(p<1/0&&(r=setTimeout(m,p-f.now()-u)),n&&(n=clearInterval(n))):(n||(s=f.now(),n=setInterval(_,i)),t=1,c(m))}}function w(p,d,M){var T=new b;return d=d==null?0:+d,T.restart(function(S){T.stop(),p(S+d)},d,M),T}function k(p,d,M){var T=new b,S=d;return d==null?(T.restart(p,d,M),T):(d=+d,M=M==null?h():+M,T.restart(function E(L){L+=S,T.restart(E,S+=d,M),p(L)},d,M),T)}e.interval=k,e.now=h,e.timeout=w,e.timer=y,e.timerFlush=x,Object.defineProperty(e,"__esModule",{value:!0})})});var q2e=$((Xk,D2e)=>{(function(e,t){typeof Xk=="object"&&typeof D2e<"u"?t(Xk,M2e(),Gk(),E2e(),C2e()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(Xk,function(e,t,r,n,i){"use strict";function a(p,d){var M;p==null&&(p=0),d==null&&(d=0);function T(){var S,E=M.length,L,D=0,R=0;for(S=0;S<E;++S)L=M[S],D+=L.x,R+=L.y;for(D=D/E-p,R=R/E-d,S=0;S<E;++S)L=M[S],L.x-=D,L.y-=R}return T.initialize=function(S){M=S},T.x=function(S){return arguments.length?(p=+S,T):p},T.y=function(S){return arguments.length?(d=+S,T):d},T}function o(p){return function(){return p}}function s(){return(Math.random()-.5)*1e-6}function l(p){return p.x+p.vx}function u(p){return p.y+p.vy}function f(p){var d,M,T=1,S=1;typeof p!="function"&&(p=o(p==null?1:+p));function E(){for(var R,q=d.length,C,F,N,U,V,Y,K=0;K<S;++K)for(C=t.quadtree(d,l,u).visitAfter(L),R=0;R<q;++R)F=d[R],V=M[F.index],Y=V*V,N=F.x+F.vx,U=F.y+F.vy,C.visit(B);function B(z,j,ae,ee,ve){var fe=z.data,se=z.r,G=V+se;if(fe){if(fe.index>F.index){var Z=N-fe.x-fe.vx,X=U-fe.y-fe.vy,ge=Z*Z+X*X;ge<G*G&&(Z===0&&(Z=s(),ge+=Z*Z),X===0&&(X=s(),ge+=X*X),ge=(G-(ge=Math.sqrt(ge)))/ge*T,F.vx+=(Z*=ge)*(G=(se*=se)/(Y+se)),F.vy+=(X*=ge)*G,fe.vx-=Z*(G=1-G),fe.vy-=X*G)}return}return j>N+G||ee<N-G||ae>U+G||ve<U-G}}function L(R){if(R.data)return R.r=M[R.data.index];for(var q=R.r=0;q<4;++q)R[q]&&R[q].r>R.r&&(R.r=R[q].r)}function D(){if(d){var R,q=d.length,C;for(M=new Array(q),R=0;R<q;++R)C=d[R],M[C.index]=+p(C,R,d)}}return E.initialize=function(R){d=R,D()},E.iterations=function(R){return arguments.length?(S=+R,E):S},E.strength=function(R){return arguments.length?(T=+R,E):T},E.radius=function(R){return arguments.length?(p=typeof R=="function"?R:o(+R),D(),E):p},E}function c(p){return p.index}function h(p,d){var M=p.get(d);if(!M)throw new Error("missing: "+d);return M}function v(p){var d=c,M=C,T,S=o(30),E,L,D,R,q=1;p==null&&(p=[]);function C(Y){return 1/Math.min(D[Y.source.index],D[Y.target.index])}function F(Y){for(var K=0,B=p.length;K<q;++K)for(var z=0,j,ae,ee,ve,fe,se,G;z<B;++z)j=p[z],ae=j.source,ee=j.target,ve=ee.x+ee.vx-ae.x-ae.vx||s(),fe=ee.y+ee.vy-ae.y-ae.vy||s(),se=Math.sqrt(ve*ve+fe*fe),se=(se-E[z])/se*Y*T[z],ve*=se,fe*=se,ee.vx-=ve*(G=R[z]),ee.vy-=fe*G,ae.vx+=ve*(G=1-G),ae.vy+=fe*G}function N(){if(L){var Y,K=L.length,B=p.length,z=r.map(L,d),j;for(Y=0,D=new Array(K);Y<B;++Y)j=p[Y],j.index=Y,typeof j.source!="object"&&(j.source=h(z,j.source)),typeof j.target!="object"&&(j.target=h(z,j.target)),D[j.source.index]=(D[j.source.index]||0)+1,D[j.target.index]=(D[j.target.index]||0)+1;for(Y=0,R=new Array(B);Y<B;++Y)j=p[Y],R[Y]=D[j.source.index]/(D[j.source.index]+D[j.target.index]);T=new Array(B),U(),E=new Array(B),V()}}function U(){if(L)for(var Y=0,K=p.length;Y<K;++Y)T[Y]=+M(p[Y],Y,p)}function V(){if(L)for(var Y=0,K=p.length;Y<K;++Y)E[Y]=+S(p[Y],Y,p)}return F.initialize=function(Y){L=Y,N()},F.links=function(Y){return arguments.length?(p=Y,N(),F):p},F.id=function(Y){return arguments.length?(d=Y,F):d},F.iterations=function(Y){return arguments.length?(q=+Y,F):q},F.strength=function(Y){return arguments.length?(M=typeof Y=="function"?Y:o(+Y),U(),F):M},F.distance=function(Y){return arguments.length?(S=typeof Y=="function"?Y:o(+Y),V(),F):S},F}function b(p){return p.x}function y(p){return p.y}var x=10,m=Math.PI*(3-Math.sqrt(5));function _(p){var d,M=1,T=.001,S=1-Math.pow(T,1/300),E=0,L=.6,D=r.map(),R=i.timer(C),q=n.dispatch("tick","end");p==null&&(p=[]);function C(){F(),q.call("tick",d),M<T&&(R.stop(),q.call("end",d))}function F(V){var Y,K=p.length,B;V===void 0&&(V=1);for(var z=0;z<V;++z)for(M+=(E-M)*S,D.each(function(j){j(M)}),Y=0;Y<K;++Y)B=p[Y],B.fx==null?B.x+=B.vx*=L:(B.x=B.fx,B.vx=0),B.fy==null?B.y+=B.vy*=L:(B.y=B.fy,B.vy=0);return d}function N(){for(var V=0,Y=p.length,K;V<Y;++V){if(K=p[V],K.index=V,K.fx!=null&&(K.x=K.fx),K.fy!=null&&(K.y=K.fy),isNaN(K.x)||isNaN(K.y)){var B=x*Math.sqrt(V),z=V*m;K.x=B*Math.cos(z),K.y=B*Math.sin(z)}(isNaN(K.vx)||isNaN(K.vy))&&(K.vx=K.vy=0)}}function U(V){return V.initialize&&V.initialize(p),V}return N(),d={tick:F,restart:function(){return R.restart(C),d},stop:function(){return R.stop(),d},nodes:function(V){return arguments.length?(p=V,N(),D.each(U),d):p},alpha:function(V){return arguments.length?(M=+V,d):M},alphaMin:function(V){return arguments.length?(T=+V,d):T},alphaDecay:function(V){return arguments.length?(S=+V,d):+S},alphaTarget:function(V){return arguments.length?(E=+V,d):E},velocityDecay:function(V){return arguments.length?(L=1-V,d):1-L},force:function(V,Y){return arguments.length>1?(Y==null?D.remove(V):D.set(V,U(Y)),d):D.get(V)},find:function(V,Y,K){var B=0,z=p.length,j,ae,ee,ve,fe;for(K==null?K=1/0:K*=K,B=0;B<z;++B)ve=p[B],j=V-ve.x,ae=Y-ve.y,ee=j*j+ae*ae,ee<K&&(fe=ve,K=ee);return fe},on:function(V,Y){return arguments.length>1?(q.on(V,Y),d):q.on(V)}}}function g(){var p,d,M,T=o(-30),S,E=1,L=1/0,D=.81;function R(N){var U,V=p.length,Y=t.quadtree(p,b,y).visitAfter(C);for(M=N,U=0;U<V;++U)d=p[U],Y.visit(F)}function q(){if(p){var N,U=p.length,V;for(S=new Array(U),N=0;N<U;++N)V=p[N],S[V.index]=+T(V,N,p)}}function C(N){var U=0,V,Y,K=0,B,z,j;if(N.length){for(B=z=j=0;j<4;++j)(V=N[j])&&(Y=Math.abs(V.value))&&(U+=V.value,K+=Y,B+=Y*V.x,z+=Y*V.y);N.x=B/K,N.y=z/K}else{V=N,V.x=V.data.x,V.y=V.data.y;do U+=S[V.data.index];while(V=V.next)}N.value=U}function F(N,U,V,Y){if(!N.value)return!0;var K=N.x-d.x,B=N.y-d.y,z=Y-U,j=K*K+B*B;if(z*z/D<j)return j<L&&(K===0&&(K=s(),j+=K*K),B===0&&(B=s(),j+=B*B),j<E&&(j=Math.sqrt(E*j)),d.vx+=K*N.value*M/j,d.vy+=B*N.value*M/j),!0;if(N.length||j>=L)return;(N.data!==d||N.next)&&(K===0&&(K=s(),j+=K*K),B===0&&(B=s(),j+=B*B),j<E&&(j=Math.sqrt(E*j)));do N.data!==d&&(z=S[N.data.index]*M/j,d.vx+=K*z,d.vy+=B*z);while(N=N.next)}return R.initialize=function(N){p=N,q()},R.strength=function(N){return arguments.length?(T=typeof N=="function"?N:o(+N),q(),R):T},R.distanceMin=function(N){return arguments.length?(E=N*N,R):Math.sqrt(E)},R.distanceMax=function(N){return arguments.length?(L=N*N,R):Math.sqrt(L)},R.theta=function(N){return arguments.length?(D=N*N,R):Math.sqrt(D)},R}function A(p,d,M){var T,S=o(.1),E,L;typeof p!="function"&&(p=o(+p)),d==null&&(d=0),M==null&&(M=0);function D(q){for(var C=0,F=T.length;C<F;++C){var N=T[C],U=N.x-d||1e-6,V=N.y-M||1e-6,Y=Math.sqrt(U*U+V*V),K=(L[C]-Y)*E[C]*q/Y;N.vx+=U*K,N.vy+=V*K}}function R(){if(T){var q,C=T.length;for(E=new Array(C),L=new Array(C),q=0;q<C;++q)L[q]=+p(T[q],q,T),E[q]=isNaN(L[q])?0:+S(T[q],q,T)}}return D.initialize=function(q){T=q,R()},D.strength=function(q){return arguments.length?(S=typeof q=="function"?q:o(+q),R(),D):S},D.radius=function(q){return arguments.length?(p=typeof q=="function"?q:o(+q),R(),D):p},D.x=function(q){return arguments.length?(d=+q,D):d},D.y=function(q){return arguments.length?(M=+q,D):M},D}function w(p){var d=o(.1),M,T,S;typeof p!="function"&&(p=o(p==null?0:+p));function E(D){for(var R=0,q=M.length,C;R<q;++R)C=M[R],C.vx+=(S[R]-C.x)*T[R]*D}function L(){if(M){var D,R=M.length;for(T=new Array(R),S=new Array(R),D=0;D<R;++D)T[D]=isNaN(S[D]=+p(M[D],D,M))?0:+d(M[D],D,M)}}return E.initialize=function(D){M=D,L()},E.strength=function(D){return arguments.length?(d=typeof D=="function"?D:o(+D),L(),E):d},E.x=function(D){return arguments.length?(p=typeof D=="function"?D:o(+D),L(),E):p},E}function k(p){var d=o(.1),M,T,S;typeof p!="function"&&(p=o(p==null?0:+p));function E(D){for(var R=0,q=M.length,C;R<q;++R)C=M[R],C.vy+=(S[R]-C.y)*T[R]*D}function L(){if(M){var D,R=M.length;for(T=new Array(R),S=new Array(R),D=0;D<R;++D)T[D]=isNaN(S[D]=+p(M[D],D,M))?0:+d(M[D],D,M)}}return E.initialize=function(D){M=D,L()},E.strength=function(D){return arguments.length?(d=typeof D=="function"?D:o(+D),L(),E):d},E.y=function(D){return arguments.length?(p=typeof D=="function"?D:o(+D),L(),E):p},E}e.forceCenter=a,e.forceCollide=f,e.forceLink=v,e.forceManyBody=g,e.forceRadial=A,e.forceSimulation=_,e.forceX=w,e.forceY=k,Object.defineProperty(e,"__esModule",{value:!0})})});var I2e=$((Zk,R2e)=>{(function(e,t){typeof Zk=="object"&&typeof R2e<"u"?t(Zk):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Zk,function(e){"use strict";var t=Math.PI,r=2*t,n=1e-6,i=r-n;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new a}a.prototype=o.prototype={constructor:a,moveTo:function(s,l){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+l)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(s,l){this._+="L"+(this._x1=+s)+","+(this._y1=+l)},quadraticCurveTo:function(s,l,u,f){this._+="Q"+ +s+","+ +l+","+(this._x1=+u)+","+(this._y1=+f)},bezierCurveTo:function(s,l,u,f,c,h){this._+="C"+ +s+","+ +l+","+ +u+","+ +f+","+(this._x1=+c)+","+(this._y1=+h)},arcTo:function(s,l,u,f,c){s=+s,l=+l,u=+u,f=+f,c=+c;var h=this._x1,v=this._y1,b=u-s,y=f-l,x=h-s,m=v-l,_=x*x+m*m;if(c<0)throw new Error("negative radius: "+c);if(this._x1===null)this._+="M"+(this._x1=s)+","+(this._y1=l);else if(_>n)if(!(Math.abs(m*b-y*x)>n)||!c)this._+="L"+(this._x1=s)+","+(this._y1=l);else{var g=u-h,A=f-v,w=b*b+y*y,k=g*g+A*A,p=Math.sqrt(w),d=Math.sqrt(_),M=c*Math.tan((t-Math.acos((w+_-k)/(2*p*d)))/2),T=M/d,S=M/p;Math.abs(T-1)>n&&(this._+="L"+(s+T*x)+","+(l+T*m)),this._+="A"+c+","+c+",0,0,"+ +(m*g>x*A)+","+(this._x1=s+S*b)+","+(this._y1=l+S*y)}},arc:function(s,l,u,f,c,h){s=+s,l=+l,u=+u,h=!!h;var v=u*Math.cos(f),b=u*Math.sin(f),y=s+v,x=l+b,m=1^h,_=h?f-c:c-f;if(u<0)throw new Error("negative radius: "+u);this._x1===null?this._+="M"+y+","+x:(Math.abs(this._x1-y)>n||Math.abs(this._y1-x)>n)&&(this._+="L"+y+","+x),u&&(_<0&&(_=_%r+r),_>i?this._+="A"+u+","+u+",0,1,"+m+","+(s-v)+","+(l-b)+"A"+u+","+u+",0,1,"+m+","+(this._x1=y)+","+(this._y1=x):_>n&&(this._+="A"+u+","+u+",0,"+ +(_>=t)+","+m+","+(this._x1=s+u*Math.cos(c))+","+(this._y1=l+u*Math.sin(c))))},rect:function(s,l,u,f){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+l)+"h"+ +u+"v"+ +f+"h"+-u+"Z"},toString:function(){return this._}},e.path=o,Object.defineProperty(e,"__esModule",{value:!0})})});var SP=$(($k,P2e)=>{(function(e,t){typeof $k=="object"&&typeof P2e<"u"?t($k,I2e()):typeof define=="function"&&define.amd?define(["exports","d3-path"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})($k,function(e,t){"use strict";function r(Ie){return function(){return Ie}}var n=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,l=Math.sin,u=Math.sqrt,f=1e-12,c=Math.PI,h=c/2,v=2*c;function b(Ie){return Ie>1?0:Ie<-1?c:Math.acos(Ie)}function y(Ie){return Ie>=1?h:Ie<=-1?-h:Math.asin(Ie)}function x(Ie){return Ie.innerRadius}function m(Ie){return Ie.outerRadius}function _(Ie){return Ie.startAngle}function g(Ie){return Ie.endAngle}function A(Ie){return Ie&&Ie.padAngle}function w(Ie,st,lt,xt,Vt,At,nr,Pt){var ir=lt-Ie,wr=xt-st,Mr=nr-Vt,Vr=Pt-At,sn=Vr*ir-Mr*wr;if(!(sn*sn<f))return sn=(Mr*(st-At)-Vr*(Ie-Vt))/sn,[Ie+sn*ir,st+sn*wr]}function k(Ie,st,lt,xt,Vt,At,nr){var Pt=Ie-lt,ir=st-xt,wr=(nr?At:-At)/u(Pt*Pt+ir*ir),Mr=wr*ir,Vr=-wr*Pt,sn=Ie+Mr,Xn=st+Vr,wn=lt+Mr,oi=xt+Vr,Bn=(sn+wn)/2,Wi=(Xn+oi)/2,Xi=wn-sn,Qi=oi-Xn,ya=Xi*Xi+Qi*Qi,La=Vt-At,Ca=sn*oi-wn*Xn,Bo=(Qi<0?-1:1)*u(o(0,La*La*ya-Ca*Ca)),vo=(Ca*Qi-Xi*Bo)/ya,xa=(-Ca*Xi-Qi*Bo)/ya,Da=(Ca*Qi+Xi*Bo)/ya,En=(-Ca*Xi+Qi*Bo)/ya,Gr=vo-Bn,si=xa-Wi,Ho=Da-Bn,Bs=En-Wi;return Gr*Gr+si*si>Ho*Ho+Bs*Bs&&(vo=Da,xa=En),{cx:vo,cy:xa,x01:-Mr,y01:-Vr,x11:vo*(Vt/La-1),y11:xa*(Vt/La-1)}}function p(){var Ie=x,st=m,lt=r(0),xt=null,Vt=_,At=g,nr=A,Pt=null;function ir(){var wr,Mr,Vr=+Ie.apply(this,arguments),sn=+st.apply(this,arguments),Xn=Vt.apply(this,arguments)-h,wn=At.apply(this,arguments)-h,oi=n(wn-Xn),Bn=wn>Xn;if(Pt||(Pt=wr=t.path()),sn<Vr&&(Mr=sn,sn=Vr,Vr=Mr),!(sn>f))Pt.moveTo(0,0);else if(oi>v-f)Pt.moveTo(sn*a(Xn),sn*l(Xn)),Pt.arc(0,0,sn,Xn,wn,!Bn),Vr>f&&(Pt.moveTo(Vr*a(wn),Vr*l(wn)),Pt.arc(0,0,Vr,wn,Xn,Bn));else{var Wi=Xn,Xi=wn,Qi=Xn,ya=wn,La=oi,Ca=oi,Bo=nr.apply(this,arguments)/2,vo=Bo>f&&(xt?+xt.apply(this,arguments):u(Vr*Vr+sn*sn)),xa=s(n(sn-Vr)/2,+lt.apply(this,arguments)),Da=xa,En=xa,Gr,si;if(vo>f){var Ho=y(vo/Vr*l(Bo)),Bs=y(vo/sn*l(Bo));(La-=Ho*2)>f?(Ho*=Bn?1:-1,Qi+=Ho,ya-=Ho):(La=0,Qi=ya=(Xn+wn)/2),(Ca-=Bs*2)>f?(Bs*=Bn?1:-1,Wi+=Bs,Xi-=Bs):(Ca=0,Wi=Xi=(Xn+wn)/2)}var Il=sn*a(Wi),_s=sn*l(Wi),Uo=Vr*a(ya),Hs=Vr*l(ya);if(xa>f){var Uu=sn*a(Xi),Ni=sn*l(Xi),ju=Vr*a(Qi),Qa=Vr*l(Qi),jo;if(oi<c&&(jo=w(Il,_s,ju,Qa,Uu,Ni,Uo,Hs))){var Ts=Il-jo[0],eo=_s-jo[1],us=Uu-jo[0],fs=Ni-jo[1],Vu=1/l(b((Ts*us+eo*fs)/(u(Ts*Ts+eo*eo)*u(us*us+fs*fs)))/2),Vo=u(jo[0]*jo[0]+jo[1]*jo[1]);Da=s(xa,(Vr-Vo)/(Vu-1)),En=s(xa,(sn-Vo)/(Vu+1))}}Ca>f?En>f?(Gr=k(ju,Qa,Il,_s,sn,En,Bn),si=k(Uu,Ni,Uo,Hs,sn,En,Bn),Pt.moveTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),En<xa?Pt.arc(Gr.cx,Gr.cy,En,i(Gr.y01,Gr.x01),i(si.y01,si.x01),!Bn):(Pt.arc(Gr.cx,Gr.cy,En,i(Gr.y01,Gr.x01),i(Gr.y11,Gr.x11),!Bn),Pt.arc(0,0,sn,i(Gr.cy+Gr.y11,Gr.cx+Gr.x11),i(si.cy+si.y11,si.cx+si.x11),!Bn),Pt.arc(si.cx,si.cy,En,i(si.y11,si.x11),i(si.y01,si.x01),!Bn))):(Pt.moveTo(Il,_s),Pt.arc(0,0,sn,Wi,Xi,!Bn)):Pt.moveTo(Il,_s),!(Vr>f)||!(La>f)?Pt.lineTo(Uo,Hs):Da>f?(Gr=k(Uo,Hs,Uu,Ni,Vr,-Da,Bn),si=k(Il,_s,ju,Qa,Vr,-Da,Bn),Pt.lineTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),Da<xa?Pt.arc(Gr.cx,Gr.cy,Da,i(Gr.y01,Gr.x01),i(si.y01,si.x01),!Bn):(Pt.arc(Gr.cx,Gr.cy,Da,i(Gr.y01,Gr.x01),i(Gr.y11,Gr.x11),!Bn),Pt.arc(0,0,Vr,i(Gr.cy+Gr.y11,Gr.cx+Gr.x11),i(si.cy+si.y11,si.cx+si.x11),Bn),Pt.arc(si.cx,si.cy,Da,i(si.y11,si.x11),i(si.y01,si.x01),!Bn))):Pt.arc(0,0,Vr,ya,Qi,Bn)}if(Pt.closePath(),wr)return Pt=null,wr+""||null}return ir.centroid=function(){var wr=(+Ie.apply(this,arguments)+ +st.apply(this,arguments))/2,Mr=(+Vt.apply(this,arguments)+ +At.apply(this,arguments))/2-c/2;return[a(Mr)*wr,l(Mr)*wr]},ir.innerRadius=function(wr){return arguments.length?(Ie=typeof wr=="function"?wr:r(+wr),ir):Ie},ir.outerRadius=function(wr){return arguments.length?(st=typeof wr=="function"?wr:r(+wr),ir):st},ir.cornerRadius=function(wr){return arguments.length?(lt=typeof wr=="function"?wr:r(+wr),ir):lt},ir.padRadius=function(wr){return arguments.length?(xt=wr==null?null:typeof wr=="function"?wr:r(+wr),ir):xt},ir.startAngle=function(wr){return arguments.length?(Vt=typeof wr=="function"?wr:r(+wr),ir):Vt},ir.endAngle=function(wr){return arguments.length?(At=typeof wr=="function"?wr:r(+wr),ir):At},ir.padAngle=function(wr){return arguments.length?(nr=typeof wr=="function"?wr:r(+wr),ir):nr},ir.context=function(wr){return arguments.length?(Pt=wr??null,ir):Pt},ir}function d(Ie){this._context=Ie}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2;default:this._context.lineTo(Ie,st);break}}};function M(Ie){return new d(Ie)}function T(Ie){return Ie[0]}function S(Ie){return Ie[1]}function E(){var Ie=T,st=S,lt=r(!0),xt=null,Vt=M,At=null;function nr(Pt){var ir,wr=Pt.length,Mr,Vr=!1,sn;for(xt==null&&(At=Vt(sn=t.path())),ir=0;ir<=wr;++ir)!(ir<wr&&lt(Mr=Pt[ir],ir,Pt))===Vr&&((Vr=!Vr)?At.lineStart():At.lineEnd()),Vr&&At.point(+Ie(Mr,ir,Pt),+st(Mr,ir,Pt));if(sn)return At=null,sn+""||null}return nr.x=function(Pt){return arguments.length?(Ie=typeof Pt=="function"?Pt:r(+Pt),nr):Ie},nr.y=function(Pt){return arguments.length?(st=typeof Pt=="function"?Pt:r(+Pt),nr):st},nr.defined=function(Pt){return arguments.length?(lt=typeof Pt=="function"?Pt:r(!!Pt),nr):lt},nr.curve=function(Pt){return arguments.length?(Vt=Pt,xt!=null&&(At=Vt(xt)),nr):Vt},nr.context=function(Pt){return arguments.length?(Pt==null?xt=At=null:At=Vt(xt=Pt),nr):xt},nr}function L(){var Ie=T,st=null,lt=r(0),xt=S,Vt=r(!0),At=null,nr=M,Pt=null;function ir(Mr){var Vr,sn,Xn,wn=Mr.length,oi,Bn=!1,Wi,Xi=new Array(wn),Qi=new Array(wn);for(At==null&&(Pt=nr(Wi=t.path())),Vr=0;Vr<=wn;++Vr){if(!(Vr<wn&&Vt(oi=Mr[Vr],Vr,Mr))===Bn)if(Bn=!Bn)sn=Vr,Pt.areaStart(),Pt.lineStart();else{for(Pt.lineEnd(),Pt.lineStart(),Xn=Vr-1;Xn>=sn;--Xn)Pt.point(Xi[Xn],Qi[Xn]);Pt.lineEnd(),Pt.areaEnd()}Bn&&(Xi[Vr]=+Ie(oi,Vr,Mr),Qi[Vr]=+lt(oi,Vr,Mr),Pt.point(st?+st(oi,Vr,Mr):Xi[Vr],xt?+xt(oi,Vr,Mr):Qi[Vr]))}if(Wi)return Pt=null,Wi+""||null}function wr(){return E().defined(Vt).curve(nr).context(At)}return ir.x=function(Mr){return arguments.length?(Ie=typeof Mr=="function"?Mr:r(+Mr),st=null,ir):Ie},ir.x0=function(Mr){return arguments.length?(Ie=typeof Mr=="function"?Mr:r(+Mr),ir):Ie},ir.x1=function(Mr){return arguments.length?(st=Mr==null?null:typeof Mr=="function"?Mr:r(+Mr),ir):st},ir.y=function(Mr){return arguments.length?(lt=typeof Mr=="function"?Mr:r(+Mr),xt=null,ir):lt},ir.y0=function(Mr){return arguments.length?(lt=typeof Mr=="function"?Mr:r(+Mr),ir):lt},ir.y1=function(Mr){return arguments.length?(xt=Mr==null?null:typeof Mr=="function"?Mr:r(+Mr),ir):xt},ir.lineX0=ir.lineY0=function(){return wr().x(Ie).y(lt)},ir.lineY1=function(){return wr().x(Ie).y(xt)},ir.lineX1=function(){return wr().x(st).y(lt)},ir.defined=function(Mr){return arguments.length?(Vt=typeof Mr=="function"?Mr:r(!!Mr),ir):Vt},ir.curve=function(Mr){return arguments.length?(nr=Mr,At!=null&&(Pt=nr(At)),ir):nr},ir.context=function(Mr){return arguments.length?(Mr==null?At=Pt=null:Pt=nr(At=Mr),ir):At},ir}function D(Ie,st){return st<Ie?-1:st>Ie?1:st>=Ie?0:NaN}function R(Ie){return Ie}function q(){var Ie=R,st=D,lt=null,xt=r(0),Vt=r(v),At=r(0);function nr(Pt){var ir,wr=Pt.length,Mr,Vr,sn=0,Xn=new Array(wr),wn=new Array(wr),oi=+xt.apply(this,arguments),Bn=Math.min(v,Math.max(-v,Vt.apply(this,arguments)-oi)),Wi,Xi=Math.min(Math.abs(Bn)/wr,At.apply(this,arguments)),Qi=Xi*(Bn<0?-1:1),ya;for(ir=0;ir<wr;++ir)(ya=wn[Xn[ir]=ir]=+Ie(Pt[ir],ir,Pt))>0&&(sn+=ya);for(st!=null?Xn.sort(function(La,Ca){return st(wn[La],wn[Ca])}):lt!=null&&Xn.sort(function(La,Ca){return lt(Pt[La],Pt[Ca])}),ir=0,Vr=sn?(Bn-wr*Qi)/sn:0;ir<wr;++ir,oi=Wi)Mr=Xn[ir],ya=wn[Mr],Wi=oi+(ya>0?ya*Vr:0)+Qi,wn[Mr]={data:Pt[Mr],index:ir,value:ya,startAngle:oi,endAngle:Wi,padAngle:Xi};return wn}return nr.value=function(Pt){return arguments.length?(Ie=typeof Pt=="function"?Pt:r(+Pt),nr):Ie},nr.sortValues=function(Pt){return arguments.length?(st=Pt,lt=null,nr):st},nr.sort=function(Pt){return arguments.length?(lt=Pt,st=null,nr):lt},nr.startAngle=function(Pt){return arguments.length?(xt=typeof Pt=="function"?Pt:r(+Pt),nr):xt},nr.endAngle=function(Pt){return arguments.length?(Vt=typeof Pt=="function"?Pt:r(+Pt),nr):Vt},nr.padAngle=function(Pt){return arguments.length?(At=typeof Pt=="function"?Pt:r(+Pt),nr):At},nr}var C=N(M);function F(Ie){this._curve=Ie}F.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Ie,st){this._curve.point(st*Math.sin(Ie),st*-Math.cos(Ie))}};function N(Ie){function st(lt){return new F(Ie(lt))}return st._curve=Ie,st}function U(Ie){var st=Ie.curve;return Ie.angle=Ie.x,delete Ie.x,Ie.radius=Ie.y,delete Ie.y,Ie.curve=function(lt){return arguments.length?st(N(lt)):st()._curve},Ie}function V(){return U(E().curve(C))}function Y(){var Ie=L().curve(C),st=Ie.curve,lt=Ie.lineX0,xt=Ie.lineX1,Vt=Ie.lineY0,At=Ie.lineY1;return Ie.angle=Ie.x,delete Ie.x,Ie.startAngle=Ie.x0,delete Ie.x0,Ie.endAngle=Ie.x1,delete Ie.x1,Ie.radius=Ie.y,delete Ie.y,Ie.innerRadius=Ie.y0,delete Ie.y0,Ie.outerRadius=Ie.y1,delete Ie.y1,Ie.lineStartAngle=function(){return U(lt())},delete Ie.lineX0,Ie.lineEndAngle=function(){return U(xt())},delete Ie.lineX1,Ie.lineInnerRadius=function(){return U(Vt())},delete Ie.lineY0,Ie.lineOuterRadius=function(){return U(At())},delete Ie.lineY1,Ie.curve=function(nr){return arguments.length?st(N(nr)):st()._curve},Ie}function K(Ie,st){return[(st=+st)*Math.cos(Ie-=Math.PI/2),st*Math.sin(Ie)]}var B=Array.prototype.slice;function z(Ie){return Ie.source}function j(Ie){return Ie.target}function ae(Ie){var st=z,lt=j,xt=T,Vt=S,At=null;function nr(){var Pt,ir=B.call(arguments),wr=st.apply(this,ir),Mr=lt.apply(this,ir);if(At||(At=Pt=t.path()),Ie(At,+xt.apply(this,(ir[0]=wr,ir)),+Vt.apply(this,ir),+xt.apply(this,(ir[0]=Mr,ir)),+Vt.apply(this,ir)),Pt)return At=null,Pt+""||null}return nr.source=function(Pt){return arguments.length?(st=Pt,nr):st},nr.target=function(Pt){return arguments.length?(lt=Pt,nr):lt},nr.x=function(Pt){return arguments.length?(xt=typeof Pt=="function"?Pt:r(+Pt),nr):xt},nr.y=function(Pt){return arguments.length?(Vt=typeof Pt=="function"?Pt:r(+Pt),nr):Vt},nr.context=function(Pt){return arguments.length?(At=Pt??null,nr):At},nr}function ee(Ie,st,lt,xt,Vt){Ie.moveTo(st,lt),Ie.bezierCurveTo(st=(st+xt)/2,lt,st,Vt,xt,Vt)}function ve(Ie,st,lt,xt,Vt){Ie.moveTo(st,lt),Ie.bezierCurveTo(st,lt=(lt+Vt)/2,xt,lt,xt,Vt)}function fe(Ie,st,lt,xt,Vt){var At=K(st,lt),nr=K(st,lt=(lt+Vt)/2),Pt=K(xt,lt),ir=K(xt,Vt);Ie.moveTo(At[0],At[1]),Ie.bezierCurveTo(nr[0],nr[1],Pt[0],Pt[1],ir[0],ir[1])}function se(){return ae(ee)}function G(){return ae(ve)}function Z(){var Ie=ae(fe);return Ie.angle=Ie.x,delete Ie.x,Ie.radius=Ie.y,delete Ie.y,Ie}var X={draw:function(Ie,st){var lt=Math.sqrt(st/c);Ie.moveTo(lt,0),Ie.arc(0,0,lt,0,v)}},ge={draw:function(Ie,st){var lt=Math.sqrt(st/5)/2;Ie.moveTo(-3*lt,-lt),Ie.lineTo(-lt,-lt),Ie.lineTo(-lt,-3*lt),Ie.lineTo(lt,-3*lt),Ie.lineTo(lt,-lt),Ie.lineTo(3*lt,-lt),Ie.lineTo(3*lt,lt),Ie.lineTo(lt,lt),Ie.lineTo(lt,3*lt),Ie.lineTo(-lt,3*lt),Ie.lineTo(-lt,lt),Ie.lineTo(-3*lt,lt),Ie.closePath()}},qe=Math.sqrt(1/3),Pe=qe*2,Oe={draw:function(Ie,st){var lt=Math.sqrt(st/Pe),xt=lt*qe;Ie.moveTo(0,-lt),Ie.lineTo(xt,0),Ie.lineTo(0,lt),Ie.lineTo(-xt,0),Ie.closePath()}},de=.8908130915292852,_e=Math.sin(c/10)/Math.sin(7*c/10),ce=Math.sin(v/10)*_e,J=-Math.cos(v/10)*_e,ne={draw:function(Ie,st){var lt=Math.sqrt(st*de),xt=ce*lt,Vt=J*lt;Ie.moveTo(0,-lt),Ie.lineTo(xt,Vt);for(var At=1;At<5;++At){var nr=v*At/5,Pt=Math.cos(nr),ir=Math.sin(nr);Ie.lineTo(ir*lt,-Pt*lt),Ie.lineTo(Pt*xt-ir*Vt,ir*xt+Pt*Vt)}Ie.closePath()}},be={draw:function(Ie,st){var lt=Math.sqrt(st),xt=-lt/2;Ie.rect(xt,xt,lt,lt)}},Fe=Math.sqrt(3),He={draw:function(Ie,st){var lt=-Math.sqrt(st/(Fe*3));Ie.moveTo(0,lt*2),Ie.lineTo(-Fe*lt,-lt),Ie.lineTo(Fe*lt,-lt),Ie.closePath()}},te=-.5,ye=Math.sqrt(3)/2,Te=1/Math.sqrt(12),Ce=(Te/2+1)*3,De={draw:function(Ie,st){var lt=Math.sqrt(st/Ce),xt=lt/2,Vt=lt*Te,At=xt,nr=lt*Te+lt,Pt=-At,ir=nr;Ie.moveTo(xt,Vt),Ie.lineTo(At,nr),Ie.lineTo(Pt,ir),Ie.lineTo(te*xt-ye*Vt,ye*xt+te*Vt),Ie.lineTo(te*At-ye*nr,ye*At+te*nr),Ie.lineTo(te*Pt-ye*ir,ye*Pt+te*ir),Ie.lineTo(te*xt+ye*Vt,te*Vt-ye*xt),Ie.lineTo(te*At+ye*nr,te*nr-ye*At),Ie.lineTo(te*Pt+ye*ir,te*ir-ye*Pt),Ie.closePath()}},oe=[X,ge,Oe,be,ne,He,De];function pe(){var Ie=r(X),st=r(64),lt=null;function xt(){var Vt;if(lt||(lt=Vt=t.path()),Ie.apply(this,arguments).draw(lt,+st.apply(this,arguments)),Vt)return lt=null,Vt+""||null}return xt.type=function(Vt){return arguments.length?(Ie=typeof Vt=="function"?Vt:r(Vt),xt):Ie},xt.size=function(Vt){return arguments.length?(st=typeof Vt=="function"?Vt:r(+Vt),xt):st},xt.context=function(Vt){return arguments.length?(lt=Vt??null,xt):lt},xt}function Le(){}function Ue(Ie,st,lt){Ie._context.bezierCurveTo((2*Ie._x0+Ie._x1)/3,(2*Ie._y0+Ie._y1)/3,(Ie._x0+2*Ie._x1)/3,(Ie._y0+2*Ie._y1)/3,(Ie._x0+4*Ie._x1+st)/6,(Ie._y0+4*Ie._y1+lt)/6)}function et(Ie){this._context=Ie}et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ue(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ue(this,Ie,st);break}this._x0=this._x1,this._x1=Ie,this._y0=this._y1,this._y1=st}};function Qe(Ie){return new et(Ie)}function dt(Ie){this._context=Ie}dt.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._x2=Ie,this._y2=st;break;case 1:this._point=2,this._x3=Ie,this._y3=st;break;case 2:this._point=3,this._x4=Ie,this._y4=st,this._context.moveTo((this._x0+4*this._x1+Ie)/6,(this._y0+4*this._y1+st)/6);break;default:Ue(this,Ie,st);break}this._x0=this._x1,this._x1=Ie,this._y0=this._y1,this._y1=st}};function ht(Ie){return new dt(Ie)}function _t(Ie){this._context=Ie}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var lt=(this._x0+4*this._x1+Ie)/6,xt=(this._y0+4*this._y1+st)/6;this._line?this._context.lineTo(lt,xt):this._context.moveTo(lt,xt);break;case 3:this._point=4;default:Ue(this,Ie,st);break}this._x0=this._x1,this._x1=Ie,this._y0=this._y1,this._y1=st}};function kt(Ie){return new _t(Ie)}function St(Ie,st){this._basis=new et(Ie),this._beta=st}St.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Ie=this._x,st=this._y,lt=Ie.length-1;if(lt>0)for(var xt=Ie[0],Vt=st[0],At=Ie[lt]-xt,nr=st[lt]-Vt,Pt=-1,ir;++Pt<=lt;)ir=Pt/lt,this._basis.point(this._beta*Ie[Pt]+(1-this._beta)*(xt+ir*At),this._beta*st[Pt]+(1-this._beta)*(Vt+ir*nr));this._x=this._y=null,this._basis.lineEnd()},point:function(Ie,st){this._x.push(+Ie),this._y.push(+st)}};var Ot=function Ie(st){function lt(xt){return st===1?new et(xt):new St(xt,st)}return lt.beta=function(xt){return Ie(+xt)},lt}(.85);function je(Ie,st,lt){Ie._context.bezierCurveTo(Ie._x1+Ie._k*(Ie._x2-Ie._x0),Ie._y1+Ie._k*(Ie._y2-Ie._y0),Ie._x2+Ie._k*(Ie._x1-st),Ie._y2+Ie._k*(Ie._y1-lt),Ie._x2,Ie._y2)}function Ve(Ie,st){this._context=Ie,this._k=(1-st)/6}Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:je(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2,this._x1=Ie,this._y1=st;break;case 2:this._point=3;default:je(this,Ie,st);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Je=function Ie(st){function lt(xt){return new Ve(xt,st)}return lt.tension=function(xt){return Ie(+xt)},lt}(0);function nt(Ie,st){this._context=Ie,this._k=(1-st)/6}nt.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._x3=Ie,this._y3=st;break;case 1:this._point=2,this._context.moveTo(this._x4=Ie,this._y4=st);break;case 2:this._point=3,this._x5=Ie,this._y5=st;break;default:je(this,Ie,st);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Be=function Ie(st){function lt(xt){return new nt(xt,st)}return lt.tension=function(xt){return Ie(+xt)},lt}(0);function tt(Ie,st){this._context=Ie,this._k=(1-st)/6}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:je(this,Ie,st);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var ot=function Ie(st){function lt(xt){return new tt(xt,st)}return lt.tension=function(xt){return Ie(+xt)},lt}(0);function yt(Ie,st,lt){var xt=Ie._x1,Vt=Ie._y1,At=Ie._x2,nr=Ie._y2;if(Ie._l01_a>f){var Pt=2*Ie._l01_2a+3*Ie._l01_a*Ie._l12_a+Ie._l12_2a,ir=3*Ie._l01_a*(Ie._l01_a+Ie._l12_a);xt=(xt*Pt-Ie._x0*Ie._l12_2a+Ie._x2*Ie._l01_2a)/ir,Vt=(Vt*Pt-Ie._y0*Ie._l12_2a+Ie._y2*Ie._l01_2a)/ir}if(Ie._l23_a>f){var wr=2*Ie._l23_2a+3*Ie._l23_a*Ie._l12_a+Ie._l12_2a,Mr=3*Ie._l23_a*(Ie._l23_a+Ie._l12_a);At=(At*wr+Ie._x1*Ie._l23_2a-st*Ie._l12_2a)/Mr,nr=(nr*wr+Ie._y1*Ie._l23_2a-lt*Ie._l12_2a)/Mr}Ie._context.bezierCurveTo(xt,Vt,At,nr,Ie._x2,Ie._y2)}function Ht(Ie,st){this._context=Ie,this._alpha=st}Ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){if(Ie=+Ie,st=+st,this._point){var lt=this._x2-Ie,xt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+xt*xt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2;break;case 2:this._point=3;default:yt(this,Ie,st);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Lt=function Ie(st){function lt(xt){return st?new Ht(xt,st):new Ve(xt,0)}return lt.alpha=function(xt){return Ie(+xt)},lt}(.5);function tr(Ie,st){this._context=Ie,this._alpha=st}tr.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Ie,st){if(Ie=+Ie,st=+st,this._point){var lt=this._x2-Ie,xt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+xt*xt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Ie,this._y3=st;break;case 1:this._point=2,this._context.moveTo(this._x4=Ie,this._y4=st);break;case 2:this._point=3,this._x5=Ie,this._y5=st;break;default:yt(this,Ie,st);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var rr=function Ie(st){function lt(xt){return st?new tr(xt,st):new nt(xt,0)}return lt.alpha=function(xt){return Ie(+xt)},lt}(.5);function Ct(Ie,st){this._context=Ie,this._alpha=st}Ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){if(Ie=+Ie,st=+st,this._point){var lt=this._x2-Ie,xt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+xt*xt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yt(this,Ie,st);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ie,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Zt=function Ie(st){function lt(xt){return st?new Ct(xt,st):new tt(xt,0)}return lt.alpha=function(xt){return Ie(+xt)},lt}(.5);function Sr(Ie){this._context=Ie}Sr.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ie,st){Ie=+Ie,st=+st,this._point?this._context.lineTo(Ie,st):(this._point=1,this._context.moveTo(Ie,st))}};function gr(Ie){return new Sr(Ie)}function Lr(Ie){return Ie<0?-1:1}function en(Ie,st,lt){var xt=Ie._x1-Ie._x0,Vt=st-Ie._x1,At=(Ie._y1-Ie._y0)/(xt||Vt<0&&-0),nr=(lt-Ie._y1)/(Vt||xt<0&&-0),Pt=(At*Vt+nr*xt)/(xt+Vt);return(Lr(At)+Lr(nr))*Math.min(Math.abs(At),Math.abs(nr),.5*Math.abs(Pt))||0}function Or(Ie,st){var lt=Ie._x1-Ie._x0;return lt?(3*(Ie._y1-Ie._y0)/lt-st)/2:st}function vn(Ie,st,lt){var xt=Ie._x0,Vt=Ie._y0,At=Ie._x1,nr=Ie._y1,Pt=(At-xt)/3;Ie._context.bezierCurveTo(xt+Pt,Vt+Pt*st,At-Pt,nr-Pt*lt,At,nr)}function qn(Ie){this._context=Ie}qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vn(this,this._t0,Or(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ie,st){var lt=NaN;if(Ie=+Ie,st=+st,!(Ie===this._x1&&st===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2;break;case 2:this._point=3,vn(this,Or(this,lt=en(this,Ie,st)),lt);break;default:vn(this,this._t0,lt=en(this,Ie,st));break}this._x0=this._x1,this._x1=Ie,this._y0=this._y1,this._y1=st,this._t0=lt}}};function Kr(Ie){this._context=new Qr(Ie)}(Kr.prototype=Object.create(qn.prototype)).point=function(Ie,st){qn.prototype.point.call(this,st,Ie)};function Qr(Ie){this._context=Ie}Qr.prototype={moveTo:function(Ie,st){this._context.moveTo(st,Ie)},closePath:function(){this._context.closePath()},lineTo:function(Ie,st){this._context.lineTo(st,Ie)},bezierCurveTo:function(Ie,st,lt,xt,Vt,At){this._context.bezierCurveTo(st,Ie,xt,lt,At,Vt)}};function kn(Ie){return new qn(Ie)}function Vn(Ie){return new Kr(Ie)}function Tn(Ie){this._context=Ie}Tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Ie=this._x,st=this._y,lt=Ie.length;if(lt)if(this._line?this._context.lineTo(Ie[0],st[0]):this._context.moveTo(Ie[0],st[0]),lt===2)this._context.lineTo(Ie[1],st[1]);else for(var xt=Nn(Ie),Vt=Nn(st),At=0,nr=1;nr<lt;++At,++nr)this._context.bezierCurveTo(xt[0][At],Vt[0][At],xt[1][At],Vt[1][At],Ie[nr],st[nr]);(this._line||this._line!==0&&lt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Ie,st){this._x.push(+Ie),this._y.push(+st)}};function Nn(Ie){var st,lt=Ie.length-1,xt,Vt=new Array(lt),At=new Array(lt),nr=new Array(lt);for(Vt[0]=0,At[0]=2,nr[0]=Ie[0]+2*Ie[1],st=1;st<lt-1;++st)Vt[st]=1,At[st]=4,nr[st]=4*Ie[st]+2*Ie[st+1];for(Vt[lt-1]=2,At[lt-1]=7,nr[lt-1]=8*Ie[lt-1]+Ie[lt],st=1;st<lt;++st)xt=Vt[st]/At[st-1],At[st]-=xt,nr[st]-=xt*nr[st-1];for(Vt[lt-1]=nr[lt-1]/At[lt-1],st=lt-2;st>=0;--st)Vt[st]=(nr[st]-Vt[st+1])/At[st];for(At[lt-1]=(Ie[lt]+Vt[lt-1])/2,st=0;st<lt-1;++st)At[st]=2*Ie[st+1]-Vt[st+1];return[Vt,At]}function ci(Ie){return new Tn(Ie)}function On(Ie,st){this._context=Ie,this._t=st}On.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ie,st){switch(Ie=+Ie,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ie,st):this._context.moveTo(Ie,st);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,st),this._context.lineTo(Ie,st);else{var lt=this._x*(1-this._t)+Ie*this._t;this._context.lineTo(lt,this._y),this._context.lineTo(lt,st)}break}}this._x=Ie,this._y=st}};function Sn(Ie){return new On(Ie,.5)}function _i(Ie){return new On(Ie,0)}function ua(Ie){return new On(Ie,1)}function Yi(Ie,st){if((nr=Ie.length)>1)for(var lt=1,xt,Vt,At=Ie[st[0]],nr,Pt=At.length;lt<nr;++lt)for(Vt=At,At=Ie[st[lt]],xt=0;xt<Pt;++xt)At[xt][1]+=At[xt][0]=isNaN(Vt[xt][1])?Vt[xt][0]:Vt[xt][1]}function xn(Ie){for(var st=Ie.length,lt=new Array(st);--st>=0;)lt[st]=st;return lt}function ia(Ie,st){return Ie[st]}function ti(){var Ie=r([]),st=xn,lt=Yi,xt=ia;function Vt(At){var nr=Ie.apply(this,arguments),Pt,ir=At.length,wr=nr.length,Mr=new Array(wr),Vr;for(Pt=0;Pt<wr;++Pt){for(var sn=nr[Pt],Xn=Mr[Pt]=new Array(ir),wn=0,oi;wn<ir;++wn)Xn[wn]=oi=[0,+xt(At[wn],sn,wn,At)],oi.data=At[wn];Xn.key=sn}for(Pt=0,Vr=st(Mr);Pt<wr;++Pt)Mr[Vr[Pt]].index=Pt;return lt(Mr,Vr),Mr}return Vt.keys=function(At){return arguments.length?(Ie=typeof At=="function"?At:r(B.call(At)),Vt):Ie},Vt.value=function(At){return arguments.length?(xt=typeof At=="function"?At:r(+At),Vt):xt},Vt.order=function(At){return arguments.length?(st=At==null?xn:typeof At=="function"?At:r(B.call(At)),Vt):st},Vt.offset=function(At){return arguments.length?(lt=At??Yi,Vt):lt},Vt}function co(Ie,st){if((xt=Ie.length)>0){for(var lt,xt,Vt=0,At=Ie[0].length,nr;Vt<At;++Vt){for(nr=lt=0;lt<xt;++lt)nr+=Ie[lt][Vt][1]||0;if(nr)for(lt=0;lt<xt;++lt)Ie[lt][Vt][1]/=nr}Yi(Ie,st)}}function fa(Ie,st){if((ir=Ie.length)>0)for(var lt,xt=0,Vt,At,nr,Pt,ir,wr=Ie[st[0]].length;xt<wr;++xt)for(nr=Pt=0,lt=0;lt<ir;++lt)(At=(Vt=Ie[st[lt]][xt])[1]-Vt[0])>0?(Vt[0]=nr,Vt[1]=nr+=At):At<0?(Vt[1]=Pt,Vt[0]=Pt+=At):(Vt[0]=0,Vt[1]=At)}function Ea(Ie,st){if((Vt=Ie.length)>0){for(var lt=0,xt=Ie[st[0]],Vt,At=xt.length;lt<At;++lt){for(var nr=0,Pt=0;nr<Vt;++nr)Pt+=Ie[nr][lt][1]||0;xt[lt][1]+=xt[lt][0]=-Pt/2}Yi(Ie,st)}}function Qn(Ie,st){if(!(!((nr=Ie.length)>0)||!((At=(Vt=Ie[st[0]]).length)>0))){for(var lt=0,xt=1,Vt,At,nr;xt<At;++xt){for(var Pt=0,ir=0,wr=0;Pt<nr;++Pt){for(var Mr=Ie[st[Pt]],Vr=Mr[xt][1]||0,sn=Mr[xt-1][1]||0,Xn=(Vr-sn)/2,wn=0;wn<Pt;++wn){var oi=Ie[st[wn]],Bn=oi[xt][1]||0,Wi=oi[xt-1][1]||0;Xn+=Bn-Wi}ir+=Vr,wr+=Xn*Vr}Vt[xt-1][1]+=Vt[xt-1][0]=lt,ir&&(lt-=wr/ir)}Vt[xt-1][1]+=Vt[xt-1][0]=lt,Yi(Ie,st)}}function Ki(Ie){var st=Ie.map(ho);return xn(Ie).sort(function(lt,xt){return st[lt]-st[xt]})}function ho(Ie){for(var st=-1,lt=0,xt=Ie.length,Vt,At=-1/0;++st<xt;)(Vt=+Ie[st][1])>At&&(At=Vt,lt=st);return lt}function ja(Ie){var st=Ie.map(Ji);return xn(Ie).sort(function(lt,xt){return st[lt]-st[xt]})}function Ji(Ie){for(var st=0,lt=-1,xt=Ie.length,Vt;++lt<xt;)(Vt=+Ie[lt][1])&&(st+=Vt);return st}function au(Ie){return ja(Ie).reverse()}function Rl(Ie){var st=Ie.length,lt,xt,Vt=Ie.map(Ji),At=Ki(Ie),nr=0,Pt=0,ir=[],wr=[];for(lt=0;lt<st;++lt)xt=At[lt],nr<Pt?(nr+=Vt[xt],ir.push(xt)):(Pt+=Vt[xt],wr.push(xt));return wr.reverse().concat(ir)}function ou(Ie){return xn(Ie).reverse()}e.arc=p,e.area=L,e.areaRadial=Y,e.curveBasis=Qe,e.curveBasisClosed=ht,e.curveBasisOpen=kt,e.curveBundle=Ot,e.curveCardinal=Je,e.curveCardinalClosed=Be,e.curveCardinalOpen=ot,e.curveCatmullRom=Lt,e.curveCatmullRomClosed=rr,e.curveCatmullRomOpen=Zt,e.curveLinear=M,e.curveLinearClosed=gr,e.curveMonotoneX=kn,e.curveMonotoneY=Vn,e.curveNatural=ci,e.curveStep=Sn,e.curveStepAfter=ua,e.curveStepBefore=_i,e.line=E,e.lineRadial=V,e.linkHorizontal=se,e.linkRadial=Z,e.linkVertical=G,e.pie=q,e.pointRadial=K,e.radialArea=Y,e.radialLine=V,e.stack=ti,e.stackOffsetDiverging=fa,e.stackOffsetExpand=co,e.stackOffsetNone=Yi,e.stackOffsetSilhouette=Ea,e.stackOffsetWiggle=Qn,e.stackOrderAppearance=Ki,e.stackOrderAscending=ja,e.stackOrderDescending=au,e.stackOrderInsideOut=Rl,e.stackOrderNone=xn,e.stackOrderReverse=ou,e.symbol=pe,e.symbolCircle=X,e.symbolCross=ge,e.symbolDiamond=Oe,e.symbolSquare=be,e.symbolStar=ne,e.symbolTriangle=He,e.symbolWye=De,e.symbols=oe,Object.defineProperty(e,"__esModule",{value:!0})})});var N2e=$((Kk,F2e)=>{(function(e,t){typeof Kk=="object"&&typeof F2e<"u"?t(Kk,tw(),Gk(),SP()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-collection","d3-shape"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3)})(Kk,function(e,t,r,n){"use strict";function i(M){return M.target.depth}function a(M){return M.depth}function o(M,T){return T-1-M.height}function s(M,T){return M.sourceLinks.length?M.depth:T-1}function l(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?t.min(M.sourceLinks,i)-1:0}function u(M){return function(){return M}}function f(M,T){return h(M.source,T.source)||M.index-T.index}function c(M,T){return h(M.target,T.target)||M.index-T.index}function h(M,T){return M.y0-T.y0}function v(M){return M.value}function b(M){return(M.y0+M.y1)/2}function y(M){return b(M.source)*M.value}function x(M){return b(M.target)*M.value}function m(M){return M.index}function _(M){return M.nodes}function g(M){return M.links}function A(M,T){var S=M.get(T);if(!S)throw new Error("missing: "+T);return S}var w=function(){var M=0,T=0,S=1,E=1,L=24,D=8,R=m,q=s,C=_,F=g,N=32,U=2/3;function V(){var ae={nodes:C.apply(null,arguments),links:F.apply(null,arguments)};return Y(ae),K(ae),B(ae),z(ae,N),j(ae),ae}V.update=function(ae){return j(ae),ae},V.nodeId=function(ae){return arguments.length?(R=typeof ae=="function"?ae:u(ae),V):R},V.nodeAlign=function(ae){return arguments.length?(q=typeof ae=="function"?ae:u(ae),V):q},V.nodeWidth=function(ae){return arguments.length?(L=+ae,V):L},V.nodePadding=function(ae){return arguments.length?(D=+ae,V):D},V.nodes=function(ae){return arguments.length?(C=typeof ae=="function"?ae:u(ae),V):C},V.links=function(ae){return arguments.length?(F=typeof ae=="function"?ae:u(ae),V):F},V.size=function(ae){return arguments.length?(M=T=0,S=+ae[0],E=+ae[1],V):[S-M,E-T]},V.extent=function(ae){return arguments.length?(M=+ae[0][0],S=+ae[1][0],T=+ae[0][1],E=+ae[1][1],V):[[M,T],[S,E]]},V.iterations=function(ae){return arguments.length?(N=+ae,V):N};function Y(ae){ae.nodes.forEach(function(ve,fe){ve.index=fe,ve.sourceLinks=[],ve.targetLinks=[]});var ee=r.map(ae.nodes,R);ae.links.forEach(function(ve,fe){ve.index=fe;var se=ve.source,G=ve.target;typeof se!="object"&&(se=ve.source=A(ee,se)),typeof G!="object"&&(G=ve.target=A(ee,G)),se.sourceLinks.push(ve),G.targetLinks.push(ve)})}function K(ae){ae.nodes.forEach(function(ee){ee.value=Math.max(t.sum(ee.sourceLinks,v),t.sum(ee.targetLinks,v))})}function B(ae){var ee,ve,fe;for(ee=ae.nodes,ve=[],fe=0;ee.length;++fe,ee=ve,ve=[])ee.forEach(function(G){G.depth=fe,G.sourceLinks.forEach(function(Z){ve.indexOf(Z.target)<0&&ve.push(Z.target)})});for(ee=ae.nodes,ve=[],fe=0;ee.length;++fe,ee=ve,ve=[])ee.forEach(function(G){G.height=fe,G.targetLinks.forEach(function(Z){ve.indexOf(Z.source)<0&&ve.push(Z.source)})});var se=(S-M-L)/(fe-1);ae.nodes.forEach(function(G){G.x1=(G.x0=M+Math.max(0,Math.min(fe-1,Math.floor(q.call(null,G,fe))))*se)+L})}function z(ae){var ee=r.nest().key(function(ge){return ge.x0}).sortKeys(t.ascending).entries(ae.nodes).map(function(ge){return ge.values});se(),X();for(var ve=1,fe=N;fe>0;--fe)Z(ve*=.99),X(),G(ve),X();function se(){var ge=t.max(ee,function(Oe){return Oe.length}),qe=U*(E-T)/(ge-1);D>qe&&(D=qe);var Pe=t.min(ee,function(Oe){return(E-T-(Oe.length-1)*D)/t.sum(Oe,v)});ee.forEach(function(Oe){Oe.forEach(function(de,_e){de.y1=(de.y0=_e)+de.value*Pe})}),ae.links.forEach(function(Oe){Oe.width=Oe.value*Pe})}function G(ge){ee.forEach(function(qe){qe.forEach(function(Pe){if(Pe.targetLinks.length){var Oe=(t.sum(Pe.targetLinks,y)/t.sum(Pe.targetLinks,v)-b(Pe))*ge;Pe.y0+=Oe,Pe.y1+=Oe}})})}function Z(ge){ee.slice().reverse().forEach(function(qe){qe.forEach(function(Pe){if(Pe.sourceLinks.length){var Oe=(t.sum(Pe.sourceLinks,x)/t.sum(Pe.sourceLinks,v)-b(Pe))*ge;Pe.y0+=Oe,Pe.y1+=Oe}})})}function X(){ee.forEach(function(ge){var qe,Pe,Oe=T,de=ge.length,_e;for(ge.sort(h),_e=0;_e<de;++_e)qe=ge[_e],Pe=Oe-qe.y0,Pe>0&&(qe.y0+=Pe,qe.y1+=Pe),Oe=qe.y1+D;if(Pe=Oe-D-E,Pe>0)for(Oe=qe.y0-=Pe,qe.y1-=Pe,_e=de-2;_e>=0;--_e)qe=ge[_e],Pe=qe.y1+D-Oe,Pe>0&&(qe.y0-=Pe,qe.y1-=Pe),Oe=qe.y0})}}function j(ae){ae.nodes.forEach(function(ee){ee.sourceLinks.sort(c),ee.targetLinks.sort(f)}),ae.nodes.forEach(function(ee){var ve=ee.y0,fe=ve;ee.sourceLinks.forEach(function(se){se.y0=ve+se.width/2,ve+=se.width}),ee.targetLinks.forEach(function(se){se.y1=fe+se.width/2,fe+=se.width})})}return V};function k(M){return[M.source.x1,M.y0]}function p(M){return[M.target.x0,M.y1]}var d=function(){return n.linkHorizontal().source(k).target(p)};e.sankey=w,e.sankeyCenter=l,e.sankeyLeft=a,e.sankeyRight=o,e.sankeyJustify=s,e.sankeyLinkHorizontal=d,Object.defineProperty(e,"__esModule",{value:!0})})});var O2e=$((Uqt,z2e)=>{var cpt=kP();z2e.exports=function(t,r){var n=[],i=[],a=[],o={},s=[],l;function u(g){a[g]=!1,o.hasOwnProperty(g)&&Object.keys(o[g]).forEach(function(A){delete o[g][A],a[A]&&u(A)})}function f(g){var A=!1;i.push(g),a[g]=!0;var w,k;for(w=0;w<s[g].length;w++)k=s[g][w],k===l?(c(l,i),A=!0):a[k]||(A=f(k));if(A)u(g);else for(w=0;w<s[g].length;w++){k=s[g][w];var p=o[k];p||(p={},o[k]=p),p[k]=!0}return i.pop(),A}function c(g,A){var w=[].concat(A).concat(g);r?r(w):n.push(w)}function h(g){for(var A=0;A<t.length;A++)(A<g||!t[A])&&(t[A]=[]),t[A]=t[A].filter(function(w){return w>=g})}function v(g){h(g);for(var A=t,w=cpt(A),k=w.components.filter(function(L){return L.length>1}),p=1/0,d,M=0;M<k.length;M++)for(var T=0;T<k[M].length;T++)k[M][T]<p&&(p=k[M][T],d=M);var S=k[d];if(!S)return!1;var E=t.map(function(L,D){return S.indexOf(D)===-1?[]:L.filter(function(R){return S.indexOf(R)!==-1})});return{leastVertex:p,adjList:E}}l=0;for(var b=t.length;l<b;){var y=v(l);if(l=y.leastVertex,s=y.adjList,s){for(var x=0;x<s.length;x++)for(var m=0;m<s[x].length;m++){var _=s[x][m];a[+_]=!1,o[_]={}}f(l),l=l+1}else l=b}if(!r)return n}});var H2e=$((Jk,B2e)=>{(function(e,t){typeof Jk=="object"&&typeof B2e<"u"?t(Jk,tw(),Gk(),SP(),O2e()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-collection","d3-shape","elementary-circuits-directed-graph"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,null)})(Jk,function(e,t,r,n,i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;function a(de){return de.target.depth}function o(de){return de.depth}function s(de,_e){return _e-1-de.height}function l(de,_e){return de.sourceLinks.length?de.depth:_e-1}function u(de){return de.targetLinks.length?de.depth:de.sourceLinks.length?t.min(de.sourceLinks,a)-1:0}function f(de){return function(){return de}}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de};function h(de,_e){return b(de.source,_e.source)||de.index-_e.index}function v(de,_e){return b(de.target,_e.target)||de.index-_e.index}function b(de,_e){return de.partOfCycle===_e.partOfCycle?de.y0-_e.y0:de.circularLinkType==="top"||_e.circularLinkType==="bottom"?-1:1}function y(de){return de.value}function x(de){return(de.y0+de.y1)/2}function m(de){return x(de.source)}function _(de){return x(de.target)}function g(de){return de.index}function A(de){return de.nodes}function w(de){return de.links}function k(de,_e){var ce=de.get(_e);if(!ce)throw new Error("missing: "+_e);return ce}function p(de,_e){return _e(de)}var d=25,M=10,T=.3;function S(){var de=0,_e=0,ce=1,J=1,ne=24,be,Fe=g,He=l,te=A,ye=w,Te=32,Ce=2,De,oe=null;function pe(){var kt={nodes:te.apply(null,arguments),links:ye.apply(null,arguments)};Le(kt),E(kt,Fe,oe),Ue(kt),dt(kt),L(kt,Fe),ht(kt,Te,Fe),_t(kt);for(var St=4,Ot=0;Ot<St;Ot++)Z(kt,J,Fe),X(kt,J,Fe),fe(kt,_e,J,Fe),Z(kt,J,Fe),X(kt,J,Fe);return Oe(kt,_e,J),N(kt,Ce,J,Fe),kt}pe.nodeId=function(kt){return arguments.length?(Fe=typeof kt=="function"?kt:f(kt),pe):Fe},pe.nodeAlign=function(kt){return arguments.length?(He=typeof kt=="function"?kt:f(kt),pe):He},pe.nodeWidth=function(kt){return arguments.length?(ne=+kt,pe):ne},pe.nodePadding=function(kt){return arguments.length?(be=+kt,pe):be},pe.nodes=function(kt){return arguments.length?(te=typeof kt=="function"?kt:f(kt),pe):te},pe.links=function(kt){return arguments.length?(ye=typeof kt=="function"?kt:f(kt),pe):ye},pe.size=function(kt){return arguments.length?(de=_e=0,ce=+kt[0],J=+kt[1],pe):[ce-de,J-_e]},pe.extent=function(kt){return arguments.length?(de=+kt[0][0],ce=+kt[1][0],_e=+kt[0][1],J=+kt[1][1],pe):[[de,_e],[ce,J]]},pe.iterations=function(kt){return arguments.length?(Te=+kt,pe):Te},pe.circularLinkGap=function(kt){return arguments.length?(Ce=+kt,pe):Ce},pe.nodePaddingRatio=function(kt){return arguments.length?(De=+kt,pe):De},pe.sortNodes=function(kt){return arguments.length?(oe=kt,pe):oe},pe.update=function(kt){return L(kt,Fe),_t(kt),kt.links.forEach(function(St){St.circular&&(St.circularLinkType=St.y0+St.y1<J?"top":"bottom",St.source.circularLinkType=St.circularLinkType,St.target.circularLinkType=St.circularLinkType)}),Z(kt,J,Fe,!1),X(kt,J,Fe),N(kt,Ce,J,Fe),kt};function Le(kt){kt.nodes.forEach(function(Ot,je){Ot.index=je,Ot.sourceLinks=[],Ot.targetLinks=[]});var St=r.map(kt.nodes,Fe);return kt.links.forEach(function(Ot,je){Ot.index=je;var Ve=Ot.source,Je=Ot.target;(typeof Ve>"u"?"undefined":c(Ve))!=="object"&&(Ve=Ot.source=k(St,Ve)),(typeof Je>"u"?"undefined":c(Je))!=="object"&&(Je=Ot.target=k(St,Je)),Ve.sourceLinks.push(Ot),Je.targetLinks.push(Ot)}),kt}function Ue(kt){kt.nodes.forEach(function(St){St.partOfCycle=!1,St.value=Math.max(t.sum(St.sourceLinks,y),t.sum(St.targetLinks,y)),St.sourceLinks.forEach(function(Ot){Ot.circular&&(St.partOfCycle=!0,St.circularLinkType=Ot.circularLinkType)}),St.targetLinks.forEach(function(Ot){Ot.circular&&(St.partOfCycle=!0,St.circularLinkType=Ot.circularLinkType)})})}function et(kt){var St=0,Ot=0,je=0,Ve=0,Je=t.max(kt.nodes,function(nt){return nt.column});return kt.links.forEach(function(nt){nt.circular&&(nt.circularLinkType=="top"?St=St+nt.width:Ot=Ot+nt.width,nt.target.column==0&&(Ve=Ve+nt.width),nt.source.column==Je&&(je=je+nt.width))}),St=St>0?St+d+M:St,Ot=Ot>0?Ot+d+M:Ot,je=je>0?je+d+M:je,Ve=Ve>0?Ve+d+M:Ve,{top:St,bottom:Ot,left:Ve,right:je}}function Qe(kt,St){var Ot=t.max(kt.nodes,function(ot){return ot.column}),je=ce-de,Ve=J-_e,Je=je+St.right+St.left,nt=Ve+St.top+St.bottom,Be=je/Je,tt=Ve/nt;return de=de*Be+St.left,ce=St.right==0?ce:ce*Be,_e=_e*tt+St.top,J=J*tt,kt.nodes.forEach(function(ot){ot.x0=de+ot.column*((ce-de-ne)/Ot),ot.x1=ot.x0+ne}),tt}function dt(kt){var St,Ot,je;for(St=kt.nodes,Ot=[],je=0;St.length;++je,St=Ot,Ot=[])St.forEach(function(Ve){Ve.depth=je,Ve.sourceLinks.forEach(function(Je){Ot.indexOf(Je.target)<0&&!Je.circular&&Ot.push(Je.target)})});for(St=kt.nodes,Ot=[],je=0;St.length;++je,St=Ot,Ot=[])St.forEach(function(Ve){Ve.height=je,Ve.targetLinks.forEach(function(Je){Ot.indexOf(Je.source)<0&&!Je.circular&&Ot.push(Je.source)})});kt.nodes.forEach(function(Ve){Ve.column=Math.floor(He.call(null,Ve,je))})}function ht(kt,St,Ot){var je=r.nest().key(function(ot){return ot.column}).sortKeys(t.ascending).entries(kt.nodes).map(function(ot){return ot.values});nt(Ot),tt();for(var Ve=1,Je=St;Je>0;--Je)Be(Ve*=.99,Ot),tt();function nt(ot){if(De){var yt=1/0;je.forEach(function(rr){var Ct=J*De/(rr.length+1);yt=Ct<yt?Ct:yt}),be=yt}var Ht=t.min(je,function(rr){return(J-_e-(rr.length-1)*be)/t.sum(rr,y)});Ht=Ht*T,kt.links.forEach(function(rr){rr.width=rr.value*Ht});var Lt=et(kt),tr=Qe(kt,Lt);Ht=Ht*tr,kt.links.forEach(function(rr){rr.width=rr.value*Ht}),je.forEach(function(rr){var Ct=rr.length;rr.forEach(function(Zt,Sr){Zt.depth==je.length-1&&Ct==1||Zt.depth==0&&Ct==1?(Zt.y0=J/2-Zt.value*Ht,Zt.y1=Zt.y0+Zt.value*Ht):Zt.partOfCycle?q(Zt,ot)==0?(Zt.y0=J/2+Sr,Zt.y1=Zt.y0+Zt.value*Ht):Zt.circularLinkType=="top"?(Zt.y0=_e+Sr,Zt.y1=Zt.y0+Zt.value*Ht):(Zt.y0=J-Zt.value*Ht-Sr,Zt.y1=Zt.y0+Zt.value*Ht):Lt.top==0||Lt.bottom==0?(Zt.y0=(J-_e)/Ct*Sr,Zt.y1=Zt.y0+Zt.value*Ht):(Zt.y0=(J-_e)/2-Ct/2+Sr,Zt.y1=Zt.y0+Zt.value*Ht)})})}function Be(ot,yt){var Ht=je.length;je.forEach(function(Lt){var tr=Lt.length,rr=Lt[0].depth;Lt.forEach(function(Ct){var Zt;if((Ct.sourceLinks.length||Ct.targetLinks.length)&&!(Ct.partOfCycle&&q(Ct,yt)>0))if(rr==0&&tr==1)Zt=Ct.y1-Ct.y0,Ct.y0=J/2-Zt/2,Ct.y1=J/2+Zt/2;else if(rr==Ht-1&&tr==1)Zt=Ct.y1-Ct.y0,Ct.y0=J/2-Zt/2,Ct.y1=J/2+Zt/2;else{var Sr=0,gr=t.mean(Ct.sourceLinks,_),Lr=t.mean(Ct.targetLinks,m);gr&&Lr?Sr=(gr+Lr)/2:Sr=gr||Lr;var en=(Sr-x(Ct))*ot;Ct.y0+=en,Ct.y1+=en}})})}function tt(){je.forEach(function(ot){var yt,Ht,Lt=_e,tr=ot.length,rr;for(ot.sort(b),rr=0;rr<tr;++rr)yt=ot[rr],Ht=Lt-yt.y0,Ht>0&&(yt.y0+=Ht,yt.y1+=Ht),Lt=yt.y1+be;if(Ht=Lt-be-J,Ht>0)for(Lt=yt.y0-=Ht,yt.y1-=Ht,rr=tr-2;rr>=0;--rr)yt=ot[rr],Ht=yt.y1+be-Lt,Ht>0&&(yt.y0-=Ht,yt.y1-=Ht),Lt=yt.y0})}}function _t(kt){kt.nodes.forEach(function(St){St.sourceLinks.sort(v),St.targetLinks.sort(h)}),kt.nodes.forEach(function(St){var Ot=St.y0,je=Ot,Ve=St.y1,Je=Ve;St.sourceLinks.forEach(function(nt){nt.circular?(nt.y0=Ve-nt.width/2,Ve=Ve-nt.width):(nt.y0=Ot+nt.width/2,Ot+=nt.width)}),St.targetLinks.forEach(function(nt){nt.circular?(nt.y1=Je-nt.width/2,Je=Je-nt.width):(nt.y1=je+nt.width/2,je+=nt.width)})})}return pe}function E(de,_e,ce){var J=0;if(ce===null){for(var ne=[],be=0;be<de.links.length;be++){var Fe=de.links[be],He=Fe.source.index,te=Fe.target.index;ne[He]||(ne[He]=[]),ne[te]||(ne[te]=[]),ne[He].indexOf(te)===-1&&ne[He].push(te)}var ye=i(ne);ye.sort(function(oe,pe){return oe.length-pe.length});var Te={};for(be=0;be<ye.length;be++){var Ce=ye[be],De=Ce.slice(-2);Te[De[0]]||(Te[De[0]]={}),Te[De[0]][De[1]]=!0}de.links.forEach(function(oe){var pe=oe.target.index,Le=oe.source.index;pe===Le||Te[Le]&&Te[Le][pe]?(oe.circular=!0,oe.circularLinkID=J,J=J+1):oe.circular=!1})}else de.links.forEach(function(oe){oe.source[ce]<oe.target[ce]?oe.circular=!1:(oe.circular=!0,oe.circularLinkID=J,J=J+1)})}function L(de,_e){var ce=0,J=0;de.links.forEach(function(ne){ne.circular&&(ne.source.circularLinkType||ne.target.circularLinkType?ne.circularLinkType=ne.source.circularLinkType?ne.source.circularLinkType:ne.target.circularLinkType:ne.circularLinkType=ce<J?"top":"bottom",ne.circularLinkType=="top"?ce=ce+1:J=J+1,de.nodes.forEach(function(be){(p(be,_e)==p(ne.source,_e)||p(be,_e)==p(ne.target,_e))&&(be.circularLinkType=ne.circularLinkType)}))}),de.links.forEach(function(ne){ne.circular&&(ne.source.circularLinkType==ne.target.circularLinkType&&(ne.circularLinkType=ne.source.circularLinkType),Pe(ne,_e)&&(ne.circularLinkType=ne.source.circularLinkType))})}function D(de){var _e=Math.abs(de.y1-de.y0),ce=Math.abs(de.target.x0-de.source.x1);return Math.atan(ce/_e)}function R(de,_e){return de.source.column<_e.target.column?!1:!(de.target.column>_e.source.column)}function q(de,_e){var ce=0;de.sourceLinks.forEach(function(ne){ce=ne.circular&&!Pe(ne,_e)?ce+1:ce});var J=0;return de.targetLinks.forEach(function(ne){J=ne.circular&&!Pe(ne,_e)?J+1:J}),ce+J}function C(de){var _e=de.source.sourceLinks,ce=0;_e.forEach(function(be){ce=be.circular?ce+1:ce});var J=de.target.targetLinks,ne=0;return J.forEach(function(be){ne=be.circular?ne+1:ne}),!(ce>1||ne>1)}function F(de,_e,ce){return de.sort(V),de.forEach(function(J,ne){var be=0;if(Pe(J,ce)&&C(J))J.circularPathData.verticalBuffer=be+J.width/2;else{var Fe=0;for(Fe;Fe<ne;Fe++)if(R(de[ne],de[Fe])){var He=de[Fe].circularPathData.verticalBuffer+de[Fe].width/2+_e;be=He>be?He:be}J.circularPathData.verticalBuffer=be+J.width/2}}),de}function N(de,_e,ce,J){var ne=5,be=t.min(de.links,function(te){return te.source.y0});de.links.forEach(function(te){te.circular&&(te.circularPathData={})});var Fe=de.links.filter(function(te){return te.circularLinkType=="top"});F(Fe,_e,J);var He=de.links.filter(function(te){return te.circularLinkType=="bottom"});F(He,_e,J),de.links.forEach(function(te){if(te.circular){if(te.circularPathData.arcRadius=te.width+M,te.circularPathData.leftNodeBuffer=ne,te.circularPathData.rightNodeBuffer=ne,te.circularPathData.sourceWidth=te.source.x1-te.source.x0,te.circularPathData.sourceX=te.source.x0+te.circularPathData.sourceWidth,te.circularPathData.targetX=te.target.x0,te.circularPathData.sourceY=te.y0,te.circularPathData.targetY=te.y1,Pe(te,J)&&C(te))te.circularPathData.leftSmallArcRadius=M+te.width/2,te.circularPathData.leftLargeArcRadius=M+te.width/2,te.circularPathData.rightSmallArcRadius=M+te.width/2,te.circularPathData.rightLargeArcRadius=M+te.width/2,te.circularLinkType=="bottom"?(te.circularPathData.verticalFullExtent=te.source.y1+d+te.circularPathData.verticalBuffer,te.circularPathData.verticalLeftInnerExtent=te.circularPathData.verticalFullExtent-te.circularPathData.leftLargeArcRadius,te.circularPathData.verticalRightInnerExtent=te.circularPathData.verticalFullExtent-te.circularPathData.rightLargeArcRadius):(te.circularPathData.verticalFullExtent=te.source.y0-d-te.circularPathData.verticalBuffer,te.circularPathData.verticalLeftInnerExtent=te.circularPathData.verticalFullExtent+te.circularPathData.leftLargeArcRadius,te.circularPathData.verticalRightInnerExtent=te.circularPathData.verticalFullExtent+te.circularPathData.rightLargeArcRadius);else{var ye=te.source.column,Te=te.circularLinkType,Ce=de.links.filter(function(pe){return pe.source.column==ye&&pe.circularLinkType==Te});te.circularLinkType=="bottom"?Ce.sort(K):Ce.sort(Y);var De=0;Ce.forEach(function(pe,Le){pe.circularLinkID==te.circularLinkID&&(te.circularPathData.leftSmallArcRadius=M+te.width/2+De,te.circularPathData.leftLargeArcRadius=M+te.width/2+Le*_e+De),De=De+pe.width}),ye=te.target.column,Ce=de.links.filter(function(pe){return pe.target.column==ye&&pe.circularLinkType==Te}),te.circularLinkType=="bottom"?Ce.sort(z):Ce.sort(B),De=0,Ce.forEach(function(pe,Le){pe.circularLinkID==te.circularLinkID&&(te.circularPathData.rightSmallArcRadius=M+te.width/2+De,te.circularPathData.rightLargeArcRadius=M+te.width/2+Le*_e+De),De=De+pe.width}),te.circularLinkType=="bottom"?(te.circularPathData.verticalFullExtent=Math.max(ce,te.source.y1,te.target.y1)+d+te.circularPathData.verticalBuffer,te.circularPathData.verticalLeftInnerExtent=te.circularPathData.verticalFullExtent-te.circularPathData.leftLargeArcRadius,te.circularPathData.verticalRightInnerExtent=te.circularPathData.verticalFullExtent-te.circularPathData.rightLargeArcRadius):(te.circularPathData.verticalFullExtent=be-d-te.circularPathData.verticalBuffer,te.circularPathData.verticalLeftInnerExtent=te.circularPathData.verticalFullExtent+te.circularPathData.leftLargeArcRadius,te.circularPathData.verticalRightInnerExtent=te.circularPathData.verticalFullExtent+te.circularPathData.rightLargeArcRadius)}te.circularPathData.leftInnerExtent=te.circularPathData.sourceX+te.circularPathData.leftNodeBuffer,te.circularPathData.rightInnerExtent=te.circularPathData.targetX-te.circularPathData.rightNodeBuffer,te.circularPathData.leftFullExtent=te.circularPathData.sourceX+te.circularPathData.leftLargeArcRadius+te.circularPathData.leftNodeBuffer,te.circularPathData.rightFullExtent=te.circularPathData.targetX-te.circularPathData.rightLargeArcRadius-te.circularPathData.rightNodeBuffer}if(te.circular)te.path=U(te);else{var oe=n.linkHorizontal().source(function(pe){var Le=pe.source.x0+(pe.source.x1-pe.source.x0),Ue=pe.y0;return[Le,Ue]}).target(function(pe){var Le=pe.target.x0,Ue=pe.y1;return[Le,Ue]});te.path=oe(te)}})}function U(de){var _e="";return de.circularLinkType=="top"?_e="M"+de.circularPathData.sourceX+" "+de.circularPathData.sourceY+" L"+de.circularPathData.leftInnerExtent+" "+de.circularPathData.sourceY+" A"+de.circularPathData.leftLargeArcRadius+" "+de.circularPathData.leftSmallArcRadius+" 0 0 0 "+de.circularPathData.leftFullExtent+" "+(de.circularPathData.sourceY-de.circularPathData.leftSmallArcRadius)+" L"+de.circularPathData.leftFullExtent+" "+de.circularPathData.verticalLeftInnerExtent+" A"+de.circularPathData.leftLargeArcRadius+" "+de.circularPathData.leftLargeArcRadius+" 0 0 0 "+de.circularPathData.leftInnerExtent+" "+de.circularPathData.verticalFullExtent+" L"+de.circularPathData.rightInnerExtent+" "+de.circularPathData.verticalFullExtent+" A"+de.circularPathData.rightLargeArcRadius+" "+de.circularPathData.rightLargeArcRadius+" 0 0 0 "+de.circularPathData.rightFullExtent+" "+de.circularPathData.verticalRightInnerExtent+" L"+de.circularPathData.rightFullExtent+" "+(de.circularPathData.targetY-de.circularPathData.rightSmallArcRadius)+" A"+de.circularPathData.rightLargeArcRadius+" "+de.circularPathData.rightSmallArcRadius+" 0 0 0 "+de.circularPathData.rightInnerExtent+" "+de.circularPathData.targetY+" L"+de.circularPathData.targetX+" "+de.circularPathData.targetY:_e="M"+de.circularPathData.sourceX+" "+de.circularPathData.sourceY+" L"+de.circularPathData.leftInnerExtent+" "+de.circularPathData.sourceY+" A"+de.circularPathData.leftLargeArcRadius+" "+de.circularPathData.leftSmallArcRadius+" 0 0 1 "+de.circularPathData.leftFullExtent+" "+(de.circularPathData.sourceY+de.circularPathData.leftSmallArcRadius)+" L"+de.circularPathData.leftFullExtent+" "+de.circularPathData.verticalLeftInnerExtent+" A"+de.circularPathData.leftLargeArcRadius+" "+de.circularPathData.leftLargeArcRadius+" 0 0 1 "+de.circularPathData.leftInnerExtent+" "+de.circularPathData.verticalFullExtent+" L"+de.circularPathData.rightInnerExtent+" "+de.circularPathData.verticalFullExtent+" A"+de.circularPathData.rightLargeArcRadius+" "+de.circularPathData.rightLargeArcRadius+" 0 0 1 "+de.circularPathData.rightFullExtent+" "+de.circularPathData.verticalRightInnerExtent+" L"+de.circularPathData.rightFullExtent+" "+(de.circularPathData.targetY+de.circularPathData.rightSmallArcRadius)+" A"+de.circularPathData.rightLargeArcRadius+" "+de.circularPathData.rightSmallArcRadius+" 0 0 1 "+de.circularPathData.rightInnerExtent+" "+de.circularPathData.targetY+" L"+de.circularPathData.targetX+" "+de.circularPathData.targetY,_e}function V(de,_e){return j(de)==j(_e)?de.circularLinkType=="bottom"?K(de,_e):Y(de,_e):j(_e)-j(de)}function Y(de,_e){return de.y0-_e.y0}function K(de,_e){return _e.y0-de.y0}function B(de,_e){return de.y1-_e.y1}function z(de,_e){return _e.y1-de.y1}function j(de){return de.target.column-de.source.column}function ae(de){return de.target.x0-de.source.x1}function ee(de,_e){var ce=D(de),J=ae(_e)/Math.tan(ce),ne=qe(de)=="up"?de.y1+J:de.y1-J;return ne}function ve(de,_e){var ce=D(de),J=ae(_e)/Math.tan(ce),ne=qe(de)=="up"?de.y1-J:de.y1+J;return ne}function fe(de,_e,ce,J){de.links.forEach(function(ne){if(!ne.circular&&ne.target.column-ne.source.column>1){var be=ne.source.column+1,Fe=ne.target.column-1,He=1,te=Fe-be+1;for(He=1;be<=Fe;be++,He++)de.nodes.forEach(function(ye){if(ye.column==be){var Te=He/(te+1),Ce=Math.pow(1-Te,3),De=3*Te*Math.pow(1-Te,2),oe=3*Math.pow(Te,2)*(1-Te),pe=Math.pow(Te,3),Le=Ce*ne.y0+De*ne.y0+oe*ne.y1+pe*ne.y1,Ue=Le-ne.width/2,et=Le+ne.width/2,Qe;Ue>ye.y0&&Ue<ye.y1?(Qe=ye.y1-Ue+10,Qe=ye.circularLinkType=="bottom"?Qe:-Qe,ye=G(ye,Qe,_e,ce),de.nodes.forEach(function(dt){p(dt,J)==p(ye,J)||dt.column!=ye.column||se(ye,dt)&&G(dt,Qe,_e,ce)})):et>ye.y0&&et<ye.y1?(Qe=et-ye.y0+10,ye=G(ye,Qe,_e,ce),de.nodes.forEach(function(dt){p(dt,J)==p(ye,J)||dt.column!=ye.column||dt.y0<ye.y1&&dt.y1>ye.y1&&G(dt,Qe,_e,ce)})):Ue<ye.y0&&et>ye.y1&&(Qe=et-ye.y0+10,ye=G(ye,Qe,_e,ce),de.nodes.forEach(function(dt){p(dt,J)==p(ye,J)||dt.column!=ye.column||dt.y0<ye.y1&&dt.y1>ye.y1&&G(dt,Qe,_e,ce)}))}})}})}function se(de,_e){return de.y0>_e.y0&&de.y0<_e.y1||de.y1>_e.y0&&de.y1<_e.y1?!0:de.y0<_e.y0&&de.y1>_e.y1}function G(de,_e,ce,J){return de.y0+_e>=ce&&de.y1+_e<=J&&(de.y0=de.y0+_e,de.y1=de.y1+_e,de.targetLinks.forEach(function(ne){ne.y1=ne.y1+_e}),de.sourceLinks.forEach(function(ne){ne.y0=ne.y0+_e})),de}function Z(de,_e,ce,J){de.nodes.forEach(function(ne){J&&ne.y+(ne.y1-ne.y0)>_e&&(ne.y=ne.y-(ne.y+(ne.y1-ne.y0)-_e));var be=de.links.filter(function(te){return p(te.source,ce)==p(ne,ce)}),Fe=be.length;Fe>1&&be.sort(function(te,ye){if(!te.circular&&!ye.circular){if(te.target.column==ye.target.column)return te.y1-ye.y1;if(ge(te,ye)){if(te.target.column>ye.target.column){var Te=ve(ye,te);return te.y1-Te}if(ye.target.column>te.target.column){var Ce=ve(te,ye);return Ce-ye.y1}}else return te.y1-ye.y1}if(te.circular&&!ye.circular)return te.circularLinkType=="top"?-1:1;if(ye.circular&&!te.circular)return ye.circularLinkType=="top"?1:-1;if(te.circular&&ye.circular)return te.circularLinkType===ye.circularLinkType&&te.circularLinkType=="top"?te.target.column===ye.target.column?te.target.y1-ye.target.y1:ye.target.column-te.target.column:te.circularLinkType===ye.circularLinkType&&te.circularLinkType=="bottom"?te.target.column===ye.target.column?ye.target.y1-te.target.y1:te.target.column-ye.target.column:te.circularLinkType=="top"?-1:1});var He=ne.y0;be.forEach(function(te){te.y0=He+te.width/2,He=He+te.width}),be.forEach(function(te,ye){if(te.circularLinkType=="bottom"){var Te=ye+1,Ce=0;for(Te;Te<Fe;Te++)Ce=Ce+be[Te].width;te.y0=ne.y1-Ce-te.width/2}})})}function X(de,_e,ce){de.nodes.forEach(function(J){var ne=de.links.filter(function(He){return p(He.target,ce)==p(J,ce)}),be=ne.length;be>1&&ne.sort(function(He,te){if(!He.circular&&!te.circular){if(He.source.column==te.source.column)return He.y0-te.y0;if(ge(He,te)){if(te.source.column<He.source.column){var ye=ee(te,He);return He.y0-ye}if(He.source.column<te.source.column){var Te=ee(He,te);return Te-te.y0}}else return He.y0-te.y0}if(He.circular&&!te.circular)return He.circularLinkType=="top"?-1:1;if(te.circular&&!He.circular)return te.circularLinkType=="top"?1:-1;if(He.circular&&te.circular)return He.circularLinkType===te.circularLinkType&&He.circularLinkType=="top"?He.source.column===te.source.column?He.source.y1-te.source.y1:He.source.column-te.source.column:He.circularLinkType===te.circularLinkType&&He.circularLinkType=="bottom"?He.source.column===te.source.column?He.source.y1-te.source.y1:te.source.column-He.source.column:He.circularLinkType=="top"?-1:1});var Fe=J.y0;ne.forEach(function(He){He.y1=Fe+He.width/2,Fe=Fe+He.width}),ne.forEach(function(He,te){if(He.circularLinkType=="bottom"){var ye=te+1,Te=0;for(ye;ye<be;ye++)Te=Te+ne[ye].width;He.y1=J.y1-Te-He.width/2}})})}function ge(de,_e){return qe(de)==qe(_e)}function qe(de){return de.y0-de.y1>0?"up":"down"}function Pe(de,_e){return p(de.source,_e)==p(de.target,_e)}function Oe(de,_e,ce){var J=de.nodes,ne=de.links,be=!1,Fe=!1;if(ne.forEach(function(De){De.circularLinkType=="top"?be=!0:De.circularLinkType=="bottom"&&(Fe=!0)}),be==!1||Fe==!1){var He=t.min(J,function(De){return De.y0}),te=t.max(J,function(De){return De.y1}),ye=te-He,Te=ce-_e,Ce=Te/ye;J.forEach(function(De){var oe=(De.y1-De.y0)*Ce;De.y0=(De.y0-He)*Ce,De.y1=De.y0+oe}),ne.forEach(function(De){De.y0=(De.y0-He)*Ce,De.y1=(De.y1-He)*Ce,De.width=De.width*Ce})}}e.sankeyCircular=S,e.sankeyCenter=u,e.sankeyLeft=o,e.sankeyRight=s,e.sankeyJustify=l,Object.defineProperty(e,"__esModule",{value:!0})})});var EP=$((jqt,U2e)=>{"use strict";U2e.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}});var ewe=$((Vqt,Q2e)=>{"use strict";var j2e=q2e(),hpt=$p().interpolateNumber,by=Nr(),vpt=N2e(),dpt=H2e(),Ui=EP(),pw=Ko(),xy=Rr(),ppt=un(),Xv=pt(),qP=Xv.strTranslate,gpt=Xv.strRotate,RP=my(),dw=RP.keyFun,Qk=RP.repeat,X2e=RP.unwrap,LP=Ta(),mpt=Ir(),Z2e=es(),ypt=Z2e.CAP_SHIFT,xpt=Z2e.LINE_SPACING,bpt=3;function wpt(e,t,r){var n=X2e(t),i=n.trace,a=i.domain,o=i.orientation==="h",s=i.node.pad,l=i.node.thickness,u=e.width*(a.x[1]-a.x[0]),f=e.height*(a.y[1]-a.y[0]),c=n._nodes,h=n._links,v=n.circular,b;v?b=dpt.sankeyCircular().circularLinkGap(0):b=vpt.sankey(),b.iterations(Ui.sankeyIterations).size(o?[u,f]:[f,u]).nodeWidth(l).nodePadding(s).nodeId(function(L){return L.pointNumber}).nodes(c).links(h);var y=b();b.nodePadding()<s&&Xv.warn("node.pad was reduced to ",b.nodePadding()," to fit within the figure.");var x,m,_;for(var g in n._groupLookup){var A=parseInt(n._groupLookup[g]),w;for(x=0;x<y.nodes.length;x++)if(y.nodes[x].pointNumber===A){w=y.nodes[x];break}if(w){var k={pointNumber:parseInt(g),x0:w.x0,x1:w.x1,y0:w.y0,y1:w.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};y.nodes.unshift(k),w.childrenNodes.unshift(k)}}function p(){for(x=0;x<y.nodes.length;x++){var L=y.nodes[x],D={},R,q;for(m=0;m<L.targetLinks.length;m++)q=L.targetLinks[m],R=q.source.pointNumber+":"+q.target.pointNumber,D.hasOwnProperty(R)||(D[R]=[]),D[R].push(q);var C=Object.keys(D);for(m=0;m<C.length;m++){R=C[m];var F=D[R],N=0,U={};for(_=0;_<F.length;_++)q=F[_],U[q.label]||(U[q.label]=0),U[q.label]+=q.value,N+=q.value;for(_=0;_<F.length;_++)q=F[_],q.flow={value:N,labelConcentration:U[q.label]/N,concentration:q.value/N,links:F},q.concentrationscale&&(q.color=pw(q.concentrationscale(q.flow.labelConcentration)))}var V=0;for(m=0;m<L.sourceLinks.length;m++)V+=L.sourceLinks[m].value;for(m=0;m<L.sourceLinks.length;m++)q=L.sourceLinks[m],q.concentrationOut=q.value/V;var Y=0;for(m=0;m<L.targetLinks.length;m++)Y+=L.targetLinks[m].value;for(m=0;m<L.targetLinks.length;m++)q=L.targetLinks[m],q.concenrationIn=q.value/Y}}p();function d(L){L.forEach(function(D){var R,q,C=0,F=D.length,N;for(D.sort(function(U,V){return U.y0-V.y0}),N=0;N<F;++N)R=D[N],R.y0>=C||(q=C-R.y0,q>1e-6&&(R.y0+=q,R.y1+=q)),C=R.y1+s})}function M(L){var D=L.map(function(V,Y){return{x0:V.x0,index:Y}}).sort(function(V,Y){return V.x0-Y.x0}),R=[],q=-1,C,F=-1/0,N;for(x=0;x<D.length;x++){var U=L[D[x].index];U.x0>F+l&&(q+=1,C=U.x0),F=U.x0,R[q]||(R[q]=[]),R[q].push(U),N=C-U.x0,U.x0+=N,U.x1+=N}return R}if(i.node.x.length&&i.node.y.length){for(x=0;x<Math.min(i.node.x.length,i.node.y.length,y.nodes.length);x++)if(i.node.x[x]&&i.node.y[x]){var T=[i.node.x[x]*u,i.node.y[x]*f];y.nodes[x].x0=T[0]-l/2,y.nodes[x].x1=T[0]+l/2;var S=y.nodes[x].y1-y.nodes[x].y0;y.nodes[x].y0=T[1]-S/2,y.nodes[x].y1=T[1]+S/2}if(i.arrangement==="snap"){c=y.nodes;var E=M(c);d(E)}b.update(y)}return{circular:v,key:r,trace:i,guid:Xv.randstr(),horizontal:o,width:u,height:f,nodePad:i.node.pad,nodeLineColor:i.node.line.color,nodeLineWidth:i.node.line.width,linkLineColor:i.link.line.color,linkLineWidth:i.link.line.width,linkArrowLength:i.link.arrowlen,valueFormat:i.valueformat,valueSuffix:i.valuesuffix,textFont:i.textfont,translateX:a.x[0]*e.width+e.margin.l,translateY:e.height-a.y[1]*e.height+e.margin.t,dragParallel:o?f:u,dragPerpendicular:o?u:f,arrangement:i.arrangement,sankey:b,graph:y,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _pt(e,t,r){var n=pw(t.color),i=t.source.label+"|"+t.target.label,a=i+"__"+r;return t.trace=e.trace,t.curveNumber=e.trace.index,{circular:e.circular,key:a,traceId:e.key,pointNumber:t.pointNumber,link:t,tinyColorHue:xy.tinyRGB(n),tinyColorAlpha:n.getAlpha(),linkPath:IP,linkLineColor:e.linkLineColor,linkLineWidth:e.linkLineWidth,linkArrowLength:e.linkArrowLength,valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,sankey:e.sankey,parent:e,interactionState:e.interactionState,flow:t.flow}}function Tpt(e,t){var r="",n=e.width/2,i=e.circularPathData;return e.circularLinkType==="top"?r="M "+(i.targetX-t)+" "+(i.targetY+n)+" L"+(i.rightInnerExtent-t)+" "+(i.targetY+n)+"A"+(i.rightLargeArcRadius+n)+" "+(i.rightSmallArcRadius+n)+" 0 0 1 "+(i.rightFullExtent-n-t)+" "+(i.targetY-i.rightSmallArcRadius)+"L"+(i.rightFullExtent-n-t)+" "+i.verticalRightInnerExtent+"A"+(i.rightLargeArcRadius+n)+" "+(i.rightLargeArcRadius+n)+" 0 0 1 "+(i.rightInnerExtent-t)+" "+(i.verticalFullExtent-n)+"L"+i.leftInnerExtent+" "+(i.verticalFullExtent-n)+"A"+(i.leftLargeArcRadius+n)+" "+(i.leftLargeArcRadius+n)+" 0 0 1 "+(i.leftFullExtent+n)+" "+i.verticalLeftInnerExtent+"L"+(i.leftFullExtent+n)+" "+(i.sourceY-i.leftSmallArcRadius)+"A"+(i.leftLargeArcRadius+n)+" "+(i.leftSmallArcRadius+n)+" 0 0 1 "+i.leftInnerExtent+" "+(i.sourceY+n)+"L"+i.sourceX+" "+(i.sourceY+n)+"L"+i.sourceX+" "+(i.sourceY-n)+"L"+i.leftInnerExtent+" "+(i.sourceY-n)+"A"+(i.leftLargeArcRadius-n)+" "+(i.leftSmallArcRadius-n)+" 0 0 0 "+(i.leftFullExtent-n)+" "+(i.sourceY-i.leftSmallArcRadius)+"L"+(i.leftFullExtent-n)+" "+i.verticalLeftInnerExtent+"A"+(i.leftLargeArcRadius-n)+" "+(i.leftLargeArcRadius-n)+" 0 0 0 "+i.leftInnerExtent+" "+(i.verticalFullExtent+n)+"L"+(i.rightInnerExtent-t)+" "+(i.verticalFullExtent+n)+"A"+(i.rightLargeArcRadius-n)+" "+(i.rightLargeArcRadius-n)+" 0 0 0 "+(i.rightFullExtent+n-t)+" "+i.verticalRightInnerExtent+"L"+(i.rightFullExtent+n-t)+" "+(i.targetY-i.rightSmallArcRadius)+"A"+(i.rightLargeArcRadius-n)+" "+(i.rightSmallArcRadius-n)+" 0 0 0 "+(i.rightInnerExtent-t)+" "+(i.targetY-n)+"L"+(i.targetX-t)+" "+(i.targetY-n)+(t>0?"L"+i.targetX+" "+i.targetY:"")+"Z":r="M "+(i.targetX-t)+" "+(i.targetY-n)+" L"+(i.rightInnerExtent-t)+" "+(i.targetY-n)+"A"+(i.rightLargeArcRadius+n)+" "+(i.rightSmallArcRadius+n)+" 0 0 0 "+(i.rightFullExtent-n-t)+" "+(i.targetY+i.rightSmallArcRadius)+"L"+(i.rightFullExtent-n-t)+" "+i.verticalRightInnerExtent+"A"+(i.rightLargeArcRadius+n)+" "+(i.rightLargeArcRadius+n)+" 0 0 0 "+(i.rightInnerExtent-t)+" "+(i.verticalFullExtent+n)+"L"+i.leftInnerExtent+" "+(i.verticalFullExtent+n)+"A"+(i.leftLargeArcRadius+n)+" "+(i.leftLargeArcRadius+n)+" 0 0 0 "+(i.leftFullExtent+n)+" "+i.verticalLeftInnerExtent+"L"+(i.leftFullExtent+n)+" "+(i.sourceY+i.leftSmallArcRadius)+"A"+(i.leftLargeArcRadius+n)+" "+(i.leftSmallArcRadius+n)+" 0 0 0 "+i.leftInnerExtent+" "+(i.sourceY-n)+"L"+i.sourceX+" "+(i.sourceY-n)+"L"+i.sourceX+" "+(i.sourceY+n)+"L"+i.leftInnerExtent+" "+(i.sourceY+n)+"A"+(i.leftLargeArcRadius-n)+" "+(i.leftSmallArcRadius-n)+" 0 0 1 "+(i.leftFullExtent-n)+" "+(i.sourceY+i.leftSmallArcRadius)+"L"+(i.leftFullExtent-n)+" "+i.verticalLeftInnerExtent+"A"+(i.leftLargeArcRadius-n)+" "+(i.leftLargeArcRadius-n)+" 0 0 1 "+i.leftInnerExtent+" "+(i.verticalFullExtent-n)+"L"+(i.rightInnerExtent-t)+" "+(i.verticalFullExtent-n)+"A"+(i.rightLargeArcRadius-n)+" "+(i.rightLargeArcRadius-n)+" 0 0 1 "+(i.rightFullExtent+n-t)+" "+i.verticalRightInnerExtent+"L"+(i.rightFullExtent+n-t)+" "+(i.targetY+i.rightSmallArcRadius)+"A"+(i.rightLargeArcRadius-n)+" "+(i.rightSmallArcRadius-n)+" 0 0 1 "+(i.rightInnerExtent-t)+" "+(i.targetY+n)+"L"+(i.targetX-t)+" "+(i.targetY+n)+(t>0?"L"+i.targetX+" "+i.targetY:"")+"Z",r}function IP(){var e=.5;function t(r){var n=r.linkArrowLength;if(r.link.circular)return Tpt(r.link,n);var i=Math.abs((r.link.target.x0-r.link.source.x1)/2);n>i&&(n=i);var a=r.link.source.x1,o=r.link.target.x0-n,s=hpt(a,o),l=s(e),u=s(1-e),f=r.link.y0-r.link.width/2,c=r.link.y0+r.link.width/2,h=r.link.y1-r.link.width/2,v=r.link.y1+r.link.width/2,b="M"+a+","+f,y="C"+l+","+f+" "+u+","+h+" "+o+","+h,x="C"+u+","+v+" "+l+","+c+" "+a+","+c,m=n>0?"L"+(o+n)+","+(h+r.link.width/2):"";return m+="L"+o+","+v,b+y+m+x+"Z"}return t}function Apt(e,t){var r=pw(t.color),n=Ui.nodePadAcross,i=e.nodePad/2;t.dx=t.x1-t.x0,t.dy=t.y1-t.y0;var a=t.dx,o=Math.max(.5,t.dy),s="node_"+t.pointNumber;return t.group&&(s=Xv.randstr()),t.trace=e.trace,t.curveNumber=e.trace.index,{index:t.pointNumber,key:s,partOfGroup:t.partOfGroup||!1,group:t.group,traceId:e.key,trace:e.trace,node:t,nodePad:e.nodePad,nodeLineColor:e.nodeLineColor,nodeLineWidth:e.nodeLineWidth,textFont:e.textFont,size:e.horizontal?e.height:e.width,visibleWidth:Math.ceil(a),visibleHeight:o,zoneX:-n,zoneY:-i,zoneWidth:a+2*n,zoneHeight:o+2*i,labelY:e.horizontal?t.dy/2+1:t.dx/2+1,left:t.originalLayer===1,sizeAcross:e.width,forceLayouts:e.forceLayouts,horizontal:e.horizontal,darkBackground:r.getBrightness()<=128,tinyColorHue:xy.tinyRGB(r),tinyColorAlpha:r.getAlpha(),valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,sankey:e.sankey,graph:e.graph,arrangement:e.arrangement,uniqueNodeLabelPathId:[e.guid,e.key,s].join("_"),interactionState:e.interactionState,figure:e}}function DP(e){e.attr("transform",function(t){return qP(t.node.x0.toFixed(3),t.node.y0.toFixed(3))})}function Mpt(e){e.call(DP)}function $2e(e,t){e.call(Mpt),t.attr("d",IP())}function V2e(e){e.attr("width",function(t){return t.node.x1-t.node.x0}).attr("height",function(t){return t.visibleHeight})}function CP(e){return e.link.width>1||e.linkLineWidth>0}function G2e(e){var t=qP(e.translateX,e.translateY);return t+(e.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function Y2e(e,t,r){e.on(".basic",null).on("mouseover.basic",function(n){!n.interactionState.dragInProgress&&!n.partOfGroup&&(r.hover(this,n,t),n.interactionState.hovered=[this,n])}).on("mousemove.basic",function(n){!n.interactionState.dragInProgress&&!n.partOfGroup&&(r.follow(this,n),n.interactionState.hovered=[this,n])}).on("mouseout.basic",function(n){!n.interactionState.dragInProgress&&!n.partOfGroup&&(r.unhover(this,n,t),n.interactionState.hovered=!1)}).on("click.basic",function(n){n.interactionState.hovered&&(r.unhover(this,n,t),n.interactionState.hovered=!1),!n.interactionState.dragInProgress&&!n.partOfGroup&&r.select(this,n,t)})}function kpt(e,t,r,n){var i=by.behavior.drag().origin(function(a){return{x:a.node.x0+a.visibleWidth/2,y:a.node.y0+a.visibleHeight/2}}).on("dragstart",function(a){if(a.arrangement!=="fixed"&&(Xv.ensureSingle(n._fullLayout._infolayer,"g","dragcover",function(s){n._fullLayout._dragCover=s}),Xv.raiseToTop(this),a.interactionState.dragInProgress=a.node,W2e(a.node),a.interactionState.hovered&&(r.nodeEvents.unhover.apply(0,a.interactionState.hovered),a.interactionState.hovered=!1),a.arrangement==="snap")){var o=a.traceId+"|"+a.key;a.forceLayouts[o]?a.forceLayouts[o].alpha(1):Spt(e,o,a,n),Ept(e,t,a,o,n)}}).on("drag",function(a){if(a.arrangement!=="fixed"){var o=by.event.x,s=by.event.y;a.arrangement==="snap"?(a.node.x0=o-a.visibleWidth/2,a.node.x1=o+a.visibleWidth/2,a.node.y0=s-a.visibleHeight/2,a.node.y1=s+a.visibleHeight/2):(a.arrangement==="freeform"&&(a.node.x0=o-a.visibleWidth/2,a.node.x1=o+a.visibleWidth/2),s=Math.max(0,Math.min(a.size-a.visibleHeight/2,s)),a.node.y0=s-a.visibleHeight/2,a.node.y1=s+a.visibleHeight/2),W2e(a.node),a.arrangement!=="snap"&&(a.sankey.update(a.graph),$2e(e.filter(J2e(a)),t))}}).on("dragend",function(a){if(a.arrangement!=="fixed"){a.interactionState.dragInProgress=!1;for(var o=0;o<a.node.childrenNodes.length;o++)a.node.childrenNodes[o].x=a.node.x,a.node.childrenNodes[o].y=a.node.y;a.arrangement!=="snap"&&K2e(a,n)}});e.on(".drag",null).call(i)}function Spt(e,t,r,n){Dpt(r.graph.nodes);var i=r.graph.nodes.filter(function(a){return a.originalX===r.node.originalX}).filter(function(a){return!a.partOfGroup});r.forceLayouts[t]=j2e.forceSimulation(i).alphaDecay(0).force("collide",j2e.forceCollide().radius(function(a){return a.dy/2+r.nodePad/2}).strength(1).iterations(Ui.forceIterations)).force("constrain",Lpt(e,t,i,r,n)).stop()}function Ept(e,t,r,n,i){window.requestAnimationFrame(function a(){var o;for(o=0;o<Ui.forceTicksPerFrame;o++)r.forceLayouts[n].tick();var s=r.graph.nodes;if(qpt(s),r.sankey.update(r.graph),$2e(e.filter(J2e(r)),t),r.forceLayouts[n].alpha()>0)window.requestAnimationFrame(a);else{var l=r.node.originalX;r.node.x0=l-r.visibleWidth/2,r.node.x1=l+r.visibleWidth/2,K2e(r,i)}})}function Lpt(e,t,r,n){return function(){for(var a=0,o=0;o<r.length;o++){var s=r[o];s===n.interactionState.dragInProgress?(s.x=s.lastDraggedX,s.y=s.lastDraggedY):(s.vx=(s.originalX-s.x)/Ui.forceTicksPerFrame,s.y=Math.min(n.size-s.dy/2,Math.max(s.dy/2,s.y))),a=Math.max(a,Math.abs(s.vx),Math.abs(s.vy))}!n.interactionState.dragInProgress&&a<.1&&n.forceLayouts[t].alpha()>0&&n.forceLayouts[t].alpha(0)}}function K2e(e,t){for(var r=[],n=[],i=0;i<e.graph.nodes.length;i++){var a=(e.graph.nodes[i].x0+e.graph.nodes[i].x1)/2,o=(e.graph.nodes[i].y0+e.graph.nodes[i].y1)/2;r.push(a/e.figure.width),n.push(o/e.figure.height)}mpt.call("_guiRestyle",t,{"node.x":[r],"node.y":[n]},e.trace.index).then(function(){t._fullLayout._dragCover&&t._fullLayout._dragCover.remove()})}function Cpt(e){var t=[],r;for(r=0;r<e.length;r++)e[r].originalX=(e[r].x0+e[r].x1)/2,e[r].originalY=(e[r].y0+e[r].y1)/2,t.indexOf(e[r].originalX)===-1&&t.push(e[r].originalX);for(t.sort(function(n,i){return n-i}),r=0;r<e.length;r++)e[r].originalLayerIndex=t.indexOf(e[r].originalX),e[r].originalLayer=e[r].originalLayerIndex/(t.length-1)}function W2e(e){e.lastDraggedX=e.x0+e.dx/2,e.lastDraggedY=e.y0+e.dy/2}function J2e(e){return function(t){return t.node.originalX===e.node.originalX}}function Dpt(e){for(var t=0;t<e.length;t++)e[t].y=(e[t].y0+e[t].y1)/2,e[t].x=(e[t].x0+e[t].x1)/2}function qpt(e){for(var t=0;t<e.length;t++)e[t].y0=e[t].y-e[t].dy/2,e[t].y1=e[t].y0+e[t].dy,e[t].x0=e[t].x-e[t].dx/2,e[t].x1=e[t].x0+e[t].dx}Q2e.exports=function(e,t,r,n,i){var a=!1;Xv.ensureSingle(e._fullLayout._infolayer,"g","first-render",function(){a=!0});var o=e._fullLayout._dragCover,s=r.filter(function(y){return X2e(y).trace.visible}).map(wpt.bind(null,n)),l=t.selectAll("."+Ui.cn.sankey).data(s,dw);l.exit().remove(),l.enter().append("g").classed(Ui.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events","auto").attr("transform",G2e),l.each(function(y,x){e._fullData[x]._sankey=y;var m="bgsankey-"+y.trace.uid+"-"+x;Xv.ensureSingle(e._fullLayout._draggers,"rect",m),e._fullData[x]._bgRect=by.select("."+m),e._fullData[x]._bgRect.style("pointer-events","all").attr("width",y.width).attr("height",y.height).attr("x",y.translateX).attr("y",y.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),l.transition().ease(Ui.ease).duration(Ui.duration).attr("transform",G2e);var u=l.selectAll("."+Ui.cn.sankeyLinks).data(Qk,dw);u.enter().append("g").classed(Ui.cn.sankeyLinks,!0).style("fill","none");var f=u.selectAll("."+Ui.cn.sankeyLink).data(function(y){var x=y.graph.links;return x.filter(function(m){return m.value}).map(_pt.bind(null,y))},dw);f.enter().append("path").classed(Ui.cn.sankeyLink,!0).call(Y2e,l,i.linkEvents),f.style("stroke",function(y){return CP(y)?xy.tinyRGB(pw(y.linkLineColor)):y.tinyColorHue}).style("stroke-opacity",function(y){return CP(y)?xy.opacity(y.linkLineColor):y.tinyColorAlpha}).style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}).style("stroke-width",function(y){return CP(y)?y.linkLineWidth:1}).attr("d",IP()),f.style("opacity",function(){return e._context.staticPlot||a||o?1:0}).transition().ease(Ui.ease).duration(Ui.duration).style("opacity",1),f.exit().transition().ease(Ui.ease).duration(Ui.duration).style("opacity",0).remove();var c=l.selectAll("."+Ui.cn.sankeyNodeSet).data(Qk,dw);c.enter().append("g").classed(Ui.cn.sankeyNodeSet,!0),c.style("cursor",function(y){switch(y.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var h=c.selectAll("."+Ui.cn.sankeyNode).data(function(y){var x=y.graph.nodes;return Cpt(x),x.map(Apt.bind(null,y))},dw);h.enter().append("g").classed(Ui.cn.sankeyNode,!0).call(DP).style("opacity",function(y){return(e._context.staticPlot||a)&&!y.partOfGroup?1:0}),h.call(Y2e,l,i.nodeEvents).call(kpt,f,i,e),h.transition().ease(Ui.ease).duration(Ui.duration).call(DP).style("opacity",function(y){return y.partOfGroup?0:1}),h.exit().transition().ease(Ui.ease).duration(Ui.duration).style("opacity",0).remove();var v=h.selectAll("."+Ui.cn.nodeRect).data(Qk);v.enter().append("rect").classed(Ui.cn.nodeRect,!0).call(V2e),v.style("stroke-width",function(y){return y.nodeLineWidth}).style("stroke",function(y){return xy.tinyRGB(pw(y.nodeLineColor))}).style("stroke-opacity",function(y){return xy.opacity(y.nodeLineColor)}).style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),v.transition().ease(Ui.ease).duration(Ui.duration).call(V2e);var b=h.selectAll("."+Ui.cn.nodeLabel).data(Qk);b.enter().append("text").classed(Ui.cn.nodeLabel,!0).style("cursor","default"),b.attr("data-notex",1).text(function(y){return y.node.label}).each(function(y){var x=by.select(this);ppt.font(x,y.textFont),LP.convertToTspans(x,e)}).style("text-shadow",LP.makeTextShadow(e._fullLayout.paper_bgcolor)).attr("text-anchor",function(y){return y.horizontal&&y.left?"end":"start"}).attr("transform",function(y){var x=by.select(this),m=LP.lineCount(x),_=y.textFont.size*((m-1)*xpt-ypt),g=y.nodeLineWidth/2+bpt,A=((y.horizontal?y.visibleHeight:y.visibleWidth)-_)/2;y.horizontal&&(y.left?g=-g:g+=y.visibleWidth);var w=y.horizontal?"":"scale(-1,1)"+gpt(90);return qP(y.horizontal?g:A,y.horizontal?A:g)+w}),b.transition().ease(Ui.ease).duration(Ui.duration)}});var NP=$((Gqt,uwe)=>{"use strict";var Dl=Nr(),FP=pt(),e5=FP.numberFormat,Rpt=ewe(),wy=lo(),Ipt=Rr(),g0=EP().cn,gw=FP._;function twe(e){return e!==""}function _y(e,t){return e.filter(function(r){return r.key===t.traceId})}function rwe(e,t){Dl.select(e).select("path").style("fill-opacity",t),Dl.select(e).select("rect").style("fill-opacity",t)}function nwe(e){Dl.select(e).select("text.name").style("fill","black")}function iwe(e){return function(t){return e.node.sourceLinks.indexOf(t.link)!==-1||e.node.targetLinks.indexOf(t.link)!==-1}}function awe(e){return function(t){return t.node.sourceLinks.indexOf(e.link)!==-1||t.node.targetLinks.indexOf(e.link)!==-1}}function owe(e,t,r){t&&r&&_y(r,t).selectAll("."+g0.sankeyLink).filter(iwe(t)).call(swe.bind(0,t,r,!1))}function PP(e,t,r){t&&r&&_y(r,t).selectAll("."+g0.sankeyLink).filter(iwe(t)).call(lwe.bind(0,t,r,!1))}function swe(e,t,r,n){var i=n.datum().link.label;n.style("fill-opacity",function(a){if(!a.link.concentrationscale)return .4}),i&&_y(t,e).selectAll("."+g0.sankeyLink).filter(function(a){return a.link.label===i}).style("fill-opacity",function(a){if(!a.link.concentrationscale)return .4}),r&&_y(t,e).selectAll("."+g0.sankeyNode).filter(awe(e)).call(owe)}function lwe(e,t,r,n){var i=n.datum().link.label;n.style("fill-opacity",function(a){return a.tinyColorAlpha}),i&&_y(t,e).selectAll("."+g0.sankeyLink).filter(function(a){return a.link.label===i}).style("fill-opacity",function(a){return a.tinyColorAlpha}),r&&_y(t,e).selectAll(g0.sankeyNode).filter(awe(e)).call(PP)}function Fu(e,t){var r=e.hoverlabel||{},n=FP.nestedProperty(r,t).get();return Array.isArray(n)?!1:n}uwe.exports=function(t,r){for(var n=t._fullLayout,i=n._paper,a=n._size,o=0;o<t._fullData.length;o++)if(t._fullData[o].visible&&t._fullData[o].type===g0.sankey&&!t._fullData[o]._viewInitial){var s=t._fullData[o].node;t._fullData[o]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var l=function(w,k){var p=k.link;p.originalEvent=Dl.event,t._hoverdata=[p],wy.click(t,{target:!0})},u=function(w,k,p){t._fullLayout.hovermode!==!1&&(Dl.select(w).call(swe.bind(0,k,p,!0)),k.link.trace.link.hoverinfo!=="skip"&&(k.link.fullData=k.link.trace,t.emit("plotly_hover",{event:Dl.event,points:[k.link]})))},f=gw(t,"source:")+" ",c=gw(t,"target:")+" ",h=gw(t,"concentration:")+" ",v=gw(t,"incoming flow count:")+" ",b=gw(t,"outgoing flow count:")+" ",y=function(w,k){if(t._fullLayout.hovermode===!1)return;var p=k.link.trace.link;if(p.hoverinfo==="none"||p.hoverinfo==="skip")return;var d=[];function M(q){var C,F;q.circular?(C=(q.circularPathData.leftInnerExtent+q.circularPathData.rightInnerExtent)/2,F=q.circularPathData.verticalFullExtent):(C=(q.source.x1+q.target.x0)/2,F=(q.y0+q.y1)/2);var N=[C,F];return q.trace.orientation==="v"&&N.reverse(),N[0]+=k.parent.translateX,N[1]+=k.parent.translateY,N}for(var T=0,S=0;S<k.flow.links.length;S++){var E=k.flow.links[S];if(!(t._fullLayout.hovermode==="closest"&&k.link.pointNumber!==E.pointNumber)){k.link.pointNumber===E.pointNumber&&(T=S),E.fullData=E.trace,p=k.link.trace.link;var L=M(E),D={valueLabel:e5(k.valueFormat)(E.value)+k.valueSuffix};d.push({x:L[0],y:L[1],name:D.valueLabel,text:[E.label||"",f+E.source.label,c+E.target.label,E.concentrationscale?h+e5("%0.2f")(E.flow.labelConcentration):""].filter(twe).join("<br>"),color:Fu(p,"bgcolor")||Ipt.addOpacity(E.color,1),borderColor:Fu(p,"bordercolor"),fontFamily:Fu(p,"font.family"),fontSize:Fu(p,"font.size"),fontColor:Fu(p,"font.color"),nameLength:Fu(p,"namelength"),textAlign:Fu(p,"align"),idealAlign:Dl.event.x<L[0]?"right":"left",hovertemplate:p.hovertemplate,hovertemplateLabels:D,eventData:[E]})}}var R=wy.loneHover(d,{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t,anchorIndex:T});R.each(function(){var q=this;k.link.concentrationscale||rwe(q,.65),nwe(q)})},x=function(w,k,p){t._fullLayout.hovermode!==!1&&(Dl.select(w).call(lwe.bind(0,k,p,!0)),k.link.trace.link.hoverinfo!=="skip"&&(k.link.fullData=k.link.trace,t.emit("plotly_unhover",{event:Dl.event,points:[k.link]})),wy.loneUnhover(n._hoverlayer.node()))},m=function(w,k,p){var d=k.node;d.originalEvent=Dl.event,t._hoverdata=[d],Dl.select(w).call(PP,k,p),wy.click(t,{target:!0})},_=function(w,k,p){t._fullLayout.hovermode!==!1&&(Dl.select(w).call(owe,k,p),k.node.trace.node.hoverinfo!=="skip"&&(k.node.fullData=k.node.trace,t.emit("plotly_hover",{event:Dl.event,points:[k.node]})))},g=function(w,k){if(t._fullLayout.hovermode!==!1){var p=k.node.trace.node;if(!(p.hoverinfo==="none"||p.hoverinfo==="skip")){var d=Dl.select(w).select("."+g0.nodeRect),M=t._fullLayout._paperdiv.node().getBoundingClientRect(),T=d.node().getBoundingClientRect(),S=T.left-2-M.left,E=T.right+2-M.left,L=T.top+T.height/4-M.top,D={valueLabel:e5(k.valueFormat)(k.node.value)+k.valueSuffix};k.node.fullData=k.node.trace,t._fullLayout._calcInverseTransform(t);var R=t._fullLayout._invScaleX,q=t._fullLayout._invScaleY,C=wy.loneHover({x0:R*S,x1:R*E,y:q*L,name:e5(k.valueFormat)(k.node.value)+k.valueSuffix,text:[k.node.label,v+k.node.targetLinks.length,b+k.node.sourceLinks.length].filter(twe).join("<br>"),color:Fu(p,"bgcolor")||k.tinyColorHue,borderColor:Fu(p,"bordercolor"),fontFamily:Fu(p,"font.family"),fontSize:Fu(p,"font.size"),fontColor:Fu(p,"font.color"),nameLength:Fu(p,"namelength"),textAlign:Fu(p,"align"),idealAlign:"left",hovertemplate:p.hovertemplate,hovertemplateLabels:D,eventData:[k.node]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t});rwe(C,.85),nwe(C)}}},A=function(w,k,p){t._fullLayout.hovermode!==!1&&(Dl.select(w).call(PP,k,p),k.node.trace.node.hoverinfo!=="skip"&&(k.node.fullData=k.node.trace,t.emit("plotly_unhover",{event:Dl.event,points:[k.node]})),wy.loneUnhover(n._hoverlayer.node()))};Rpt(t,i,r,{width:a.w,height:a.h,margin:{t:a.t,r:a.r,b:a.b,l:a.l}},{linkEvents:{hover:u,follow:y,unhover:x,select:l},nodeEvents:{hover:_,follow:g,unhover:A,select:m}})}});var fwe=$(hg=>{"use strict";var Ppt=Fa().overrideAll,Fpt=Au().getModuleCalcData,Npt=NP(),zpt=dv(),Opt=Fc(),Bpt=Gl(),Hpt=Qs().prepSelect,zP=pt(),Upt=Ir(),t5="sankey";hg.name=t5;hg.baseLayoutAttrOverrides=Ppt({hoverlabel:zpt.hoverlabel},"plot","nested");hg.plot=function(e){var t=Fpt(e.calcdata,t5)[0];Npt(e,t),hg.updateFx(e)};hg.clean=function(e,t,r,n){var i=n._has&&n._has(t5),a=t._has&&t._has(t5);i&&!a&&(n._paperdiv.selectAll(".sankey").remove(),n._paperdiv.selectAll(".bgsankey").remove())};hg.updateFx=function(e){for(var t=0;t<e._fullData.length;t++)jpt(e,t)};function jpt(e,t){var r=e._fullData[t],n=e._fullLayout,i=n.dragmode,a=n.dragmode==="pan"?"move":"crosshair",o=r._bgRect;if(o&&!(i==="pan"||i==="zoom")){Opt(o,a);var s={_id:"x",c2p:zP.identity,_offset:r._sankey.translateX,_length:r._sankey.width},l={_id:"y",c2p:zP.identity,_offset:r._sankey.translateY,_length:r._sankey.height},u={gd:e,element:o.node(),plotinfo:{id:t,xaxis:s,yaxis:l,fillRangeItems:zP.noop},subplot:t,xaxes:[s],yaxes:[l],doneFnCompleted:function(f){var c=e._fullData[t],h,v=c.node.groups.slice(),b=[];function y(g){for(var A=c._sankey.graph.nodes,w=0;w<A.length;w++)if(A[w].pointNumber===g)return A[w]}for(var x=0;x<f.length;x++){var m=y(f[x].pointNumber);if(m)if(m.group){for(var _=0;_<m.childrenNodes.length;_++)b.push(m.childrenNodes[_].pointNumber);v[m.pointNumber-c.node._count]=!1}else b.push(m.pointNumber)}h=v.filter(Boolean).concat([b]),Upt.call("_guiRestyle",e,{"node.groups":[h]},t)}};u.prepFn=function(f,c,h){Hpt(f,c,h,u,i)},Bpt.init(u)}}});var hwe=$((Wqt,cwe)=>{"use strict";cwe.exports=function(t,r){for(var n=t.cd,i=[],a=n[0].trace,o=a._sankey.graph.nodes,s=0;s<o.length;s++){var l=o[s];if(!l.partOfGroup){var u=[(l.x0+l.x1)/2,(l.y0+l.y1)/2];a.orientation==="v"&&u.reverse(),r&&r.contains(u,!1,s,t)&&i.push({pointNumber:l.pointNumber})}}return i}});var dwe=$((Xqt,vwe)=>{"use strict";vwe.exports={attributes:MP(),supplyDefaults:y2e(),calc:T2e(),plot:NP(),moduleType:"trace",name:"sankey",basePlotModule:fwe(),selectPoints:hwe(),categories:["noOpacity"],meta:{description:["Sankey plots for network flow data analysis.","The nodes are specified in `nodes` and the links between sources and targets in `links`.","The colors are set in `nodes[i].color` and `links[i].color`, otherwise defaults are used."].join(" ")}}});var gwe=$((Zqt,pwe)=>{"use strict";pwe.exports=dwe()});var ywe=$(Ty=>{"use strict";var mwe=Zi();Ty.name="indicator";Ty.plot=function(e,t,r,n){mwe.plotBasePlot(Ty.name,e,t,r,n)};Ty.clean=function(e,t,r,n){mwe.cleanBasePlot(Ty.name,e,t,r,n)}});var BP=$((Kqt,Awe)=>{"use strict";var m0=ln().extendFlat,bwe=ln().extendDeep,Vpt=Fa().overrideAll,wwe=Ba(),_we=Ro(),Gpt=Ua().attributes,Ka=xl(),Ypt=bi().templatedArray,r5=Um(),xwe=Ha().descriptionOnlyNumbers,OP=wwe({editType:"plot",colorEditType:"plot"}),mw={color:{valType:"color",editType:"plot",description:["Sets the background color of the arc."].join(" ")},line:{color:{valType:"color",dflt:_we.defaultLine,editType:"plot",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot",description:["Sets the thickness of the bar as a fraction of the total thickness of the gauge."].join(" ")},editType:"calc"},Twe={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot",description:["Sets the range of this axis."].join(" ")},Wpt=Ypt("step",bwe({},mw,{range:Twe}));Awe.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number",description:["Determines how the value is displayed on the graph.","`number` displays the value numerically in text.","`delta` displays the difference to a reference value in text.","Finally, `gauge` displays the value graphically on an axis."].join(" ")},value:{valType:"number",editType:"calc",anim:!0,description:["Sets the number to be displayed."].join(" ")},align:{valType:"enumerated",values:["left","center","right"],editType:"plot",description:["Sets the horizontal alignment of the `text` within the box.","Note that this attribute has no effect if an angular gauge is displayed:","in this case, it is always centered"].join(" ")},domain:Gpt({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot",description:["Sets the title of this indicator."].join(" ")},align:{valType:"enumerated",values:["left","center","right"],editType:"plot",description:["Sets the horizontal alignment of the title.","It defaults to `center` except for bullet charts","for which it defaults to right."].join(" ")},font:m0({},OP,{description:["Set the font used to display the title"].join(" ")}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:xwe("value")},font:m0({},OP,{description:["Set the font used to display main number"].join(" ")}),prefix:{valType:"string",dflt:"",editType:"plot",description:["Sets a prefix appearing before the number."].join(" ")},suffix:{valType:"string",dflt:"",editType:"plot",description:["Sets a suffix appearing next to the number."].join(" ")},editType:"plot"},delta:{reference:{valType:"number",editType:"calc",description:["Sets the reference value to compute the delta.","By default, it is set to the current value."].join(" ")},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot",description:["Sets the position of delta with respect to the number."].join(" ")},relative:{valType:"boolean",editType:"plot",dflt:!1,description:["Show relative change"].join(" ")},valueformat:{valType:"string",editType:"plot",description:xwe("value")},increasing:{symbol:{valType:"string",dflt:r5.INCREASING.SYMBOL,editType:"plot",description:["Sets the symbol to display for increasing value"].join(" ")},color:{valType:"color",dflt:r5.INCREASING.COLOR,editType:"plot",description:["Sets the color for increasing value."].join(" ")},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r5.DECREASING.SYMBOL,editType:"plot",description:["Sets the symbol to display for increasing value"].join(" ")},color:{valType:"color",dflt:r5.DECREASING.COLOR,editType:"plot",description:["Sets the color for increasing value."].join(" ")},editType:"plot"},font:m0({},OP,{description:["Set the font used to display the delta"].join(" ")}),prefix:{valType:"string",dflt:"",editType:"plot",description:["Sets a prefix appearing before the delta."].join(" ")},suffix:{valType:"string",dflt:"",editType:"plot",description:["Sets a suffix appearing next to the delta."].join(" ")},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"],description:["Set the shape of the gauge"].join(" ")},bar:bwe({},mw,{color:{dflt:"green"},description:["Set the appearance of the gauge's value"].join(" ")}),bgcolor:{valType:"color",editType:"plot",description:"Sets the gauge background color."},bordercolor:{valType:"color",dflt:_we.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the gauge."},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot",description:"Sets the width (in px) of the border enclosing the gauge."},axis:Vpt({range:Twe,visible:m0({},Ka.visible,{dflt:!0}),tickmode:Ka.tickmode,nticks:Ka.nticks,tick0:Ka.tick0,dtick:Ka.dtick,tickvals:Ka.tickvals,ticktext:Ka.ticktext,ticks:m0({},Ka.ticks,{dflt:"outside"}),ticklen:Ka.ticklen,tickwidth:Ka.tickwidth,tickcolor:Ka.tickcolor,ticklabelstep:Ka.ticklabelstep,showticklabels:Ka.showticklabels,tickfont:wwe({description:"Sets the color bar's tick label font"}),tickangle:Ka.tickangle,tickformat:Ka.tickformat,tickformatstops:Ka.tickformatstops,tickprefix:Ka.tickprefix,showtickprefix:Ka.showtickprefix,ticksuffix:Ka.ticksuffix,showticksuffix:Ka.showticksuffix,separatethousands:Ka.separatethousands,exponentformat:Ka.exponentformat,minexponent:Ka.minexponent,showexponent:Ka.showexponent,editType:"plot"},"plot"),steps:Wpt,threshold:{line:{color:m0({},mw.line.color,{description:["Sets the color of the threshold line."].join(" ")}),width:m0({},mw.line.width,{dflt:1,description:["Sets the width (in px) of the threshold line."].join(" ")}),editType:"plot"},thickness:m0({},mw.thickness,{dflt:.85,description:["Sets the thickness of the threshold line as a fraction of the thickness of the gauge."].join(" ")}),value:{valType:"number",editType:"calc",dflt:!1,description:["Sets a treshold value drawn as a line."].join(" ")},editType:"plot"},description:"The gauge of the Indicator plot.",editType:"plot"}}});var HP=$((Jqt,Mwe)=>{"use strict";Mwe.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}});var Ewe=$((Qqt,Swe)=>{"use strict";var i5=pt(),a5=BP(),Xpt=Ua().defaults,kwe=bi(),Zpt=Mu(),n5=HP(),$pt=ap(),Kpt=F1(),Jpt=op(),Qpt=sp();function egt(e,t,r,n){function i(g,A){return i5.coerce(e,t,a5,g,A)}Xpt(t,n,i),i("mode"),t._hasNumber=t.mode.indexOf("number")!==-1,t._hasDelta=t.mode.indexOf("delta")!==-1,t._hasGauge=t.mode.indexOf("gauge")!==-1;var a=i("value");t._range=[0,typeof a=="number"?1.5*a:1];var o=new Array(2),s;t._hasNumber&&(i("number.valueformat"),i("number.font.color",n.font.color),i("number.font.family",n.font.family),i("number.font.size"),t.number.font.size===void 0&&(t.number.font.size=n5.defaultNumberFontSize,o[0]=!0),i("number.prefix"),i("number.suffix"),s=t.number.font.size);var l;t._hasDelta&&(i("delta.font.color",n.font.color),i("delta.font.family",n.font.family),i("delta.font.size"),t.delta.font.size===void 0&&(t.delta.font.size=(t._hasNumber?.5:1)*(s||n5.defaultNumberFontSize),o[1]=!0),i("delta.reference",t.value),i("delta.relative"),i("delta.valueformat",t.delta.relative?"2%":""),i("delta.increasing.symbol"),i("delta.increasing.color"),i("delta.decreasing.symbol"),i("delta.decreasing.color"),i("delta.position"),i("delta.prefix"),i("delta.suffix"),l=t.delta.font.size),t._scaleNumbers=(!t._hasNumber||o[0])&&(!t._hasDelta||o[1])||!1,i("title.font.color",n.font.color),i("title.font.family",n.font.family),i("title.font.size",.25*(s||l||n5.defaultNumberFontSize)),i("title.text");var u,f,c,h;function v(g,A){return i5.coerce(u,f,a5.gauge,g,A)}function b(g,A){return i5.coerce(c,h,a5.gauge.axis,g,A)}if(t._hasGauge){u=e.gauge,u||(u={}),f=kwe.newContainer(t,"gauge"),v("shape");var y=t._isBullet=t.gauge.shape==="bullet";y||i("title.align","center");var x=t._isAngular=t.gauge.shape==="angular";x||i("align","center"),v("bgcolor",n.paper_bgcolor),v("borderwidth"),v("bordercolor"),v("bar.color"),v("bar.line.color"),v("bar.line.width");var m=n5.valueThickness*(t.gauge.shape==="bullet"?.5:1);v("bar.thickness",m),Zpt(u,f,{name:"steps",handleItemDefaults:tgt}),v("threshold.value"),v("threshold.thickness"),v("threshold.line.width"),v("threshold.line.color"),c={},u&&(c=u.axis||{}),h=kwe.newContainer(f,"axis"),b("visible"),t._range=b("range",t._range);var _={outerTicks:!0};$pt(c,h,b,"linear"),Qpt(c,h,b,"linear",_),Jpt(c,h,b,"linear",_),Kpt(c,h,b,_)}else i("title.align","center"),i("align","center"),t._isAngular=t._isBullet=!1;t._length=null}function tgt(e,t){function r(n,i){return i5.coerce(e,t,a5.gauge.steps,n,i)}r("color"),r("line.color"),r("line.width"),r("range"),r("thickness")}Swe.exports={supplyDefaults:egt}});var Cwe=$((e8t,Lwe)=>{"use strict";function rgt(e,t){var r=[],n=t.value;typeof t._lastValue!="number"&&(t._lastValue=t.value);var i=t._lastValue,a=i;return t._hasDelta&&typeof t.delta.reference=="number"&&(a=t.delta.reference),r[0]={y:n,lastY:i,delta:n-a,relativeDelta:(n-a)/a},r}Lwe.exports={calc:rgt}});var Fwe=$((t8t,Pwe)=>{"use strict";var mg=Nr(),ngt=$p().interpolate,Dwe=$p().interpolateNumber,y0=pt(),igt=y0.strScale,xw=y0.strTranslate,agt=y0.rad2deg,ogt=es().MID_SHIFT,gg=un(),vg=HP(),s5=Ta(),zs=tn(),sgt=Hb(),lgt=aA(),ugt=xl(),Ay=Rr(),UP={left:"start",center:"middle",right:"end"},dg={left:0,center:.5,right:1},qwe=/[yzafpnµmkMGTPEZY]/;function bw(e){return e&&e.duration>0}Pwe.exports=function(t,r,n,i){var a=t._fullLayout,o;bw(n)&&i&&(o=i()),y0.makeTraceGroups(a._indicatorlayer,r,"trace").each(function(s){var l=s[0],u=l.trace,f=mg.select(this),c=u._hasGauge,h=u._isAngular,v=u._isBullet,b=u.domain,y={w:a._size.w*(b.x[1]-b.x[0]),h:a._size.h*(b.y[1]-b.y[0]),l:a._size.l+a._size.w*b.x[0],r:a._size.r+a._size.w*(1-b.x[1]),t:a._size.t+a._size.h*(1-b.y[1]),b:a._size.b+a._size.h*b.y[0]},x=y.l+y.w/2,m=y.t+y.h/2,_=Math.min(y.w/2,y.h),g=vg.innerRadius*_,A,w,k,p=u.align||"center";if(w=m,!c)A=y.l+dg[p]*y.w,k=function(C){return Rwe(C,y.w,y.h)};else if(h&&(A=x,w=m+_/2,k=function(C){return dgt(C,.9*g)}),v){var d=vg.bulletPadding,M=1-vg.bulletNumberDomainSize+d;A=y.l+(M+(1-M)*dg[p])*y.w,k=function(C){return Rwe(C,(vg.bulletNumberDomainSize-d)*y.w,y.h)}}hgt(t,f,s,{numbersX:A,numbersY:w,numbersScaler:k,transitionOpts:n,onComplete:o});var T,S;c&&(T={range:u.gauge.axis.range,color:u.gauge.bgcolor,line:{color:u.gauge.bordercolor,width:0},thickness:1},S={range:u.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:u.gauge.bordercolor,width:u.gauge.borderwidth},thickness:1});var E=f.selectAll("g.angular").data(h?s:[]);E.exit().remove();var L=f.selectAll("g.angularaxis").data(h?s:[]);L.exit().remove(),h&&cgt(t,f,s,{radius:_,innerRadius:g,gauge:E,layer:L,size:y,gaugeBg:T,gaugeOutline:S,transitionOpts:n,onComplete:o});var D=f.selectAll("g.bullet").data(v?s:[]);D.exit().remove();var R=f.selectAll("g.bulletaxis").data(v?s:[]);R.exit().remove(),v&&fgt(t,f,s,{gauge:D,layer:R,size:y,gaugeBg:T,gaugeOutline:S,transitionOpts:n,onComplete:o});var q=f.selectAll("text.title").data(s);q.exit().remove(),q.enter().append("text").classed("title",!0),q.attr("text-anchor",function(){return v?UP.right:UP[u.title.align]}).text(u.title.text).call(gg.font,u.title.font).call(s5.convertToTspans,t),q.attr("transform",function(){var C=y.l+y.w*dg[u.title.align],F,N=vg.titlePadding,U=gg.bBox(q.node());if(c){if(h)if(u.gauge.axis.visible){var V=gg.bBox(L.node());F=V.top-N-U.bottom}else F=y.t+y.h/2-_/2-U.bottom-N;v&&(F=w-(U.top+U.bottom)/2,C=y.l-vg.bulletPadding*y.w)}else F=u._numbersTop-N-U.bottom;return xw(C,F)})})};function fgt(e,t,r,n){var i=r[0].trace,a=n.gauge,o=n.layer,s=n.gaugeBg,l=n.gaugeOutline,u=n.size,f=i.domain,c=n.transitionOpts,h=n.onComplete,v,b,y,x,m;a.enter().append("g").classed("bullet",!0),a.attr("transform",xw(u.l,u.t)),o.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),o.selectAll("g.xbulletaxistick,path,text").remove();var _=u.h,g=i.gauge.bar.thickness*_,A=f.x[0],w=f.x[0]+(f.x[1]-f.x[0])*(i._hasNumber||i._hasDelta?1-vg.bulletNumberDomainSize:1);v=yw(e,i.gauge.axis),v._id="xbulletaxis",v.domain=[A,w],v.setScale(),b=zs.calcTicks(v),y=zs.makeTransTickFn(v),x=zs.getTickSigns(v)[2],m=u.t+u.h,v.visible&&(zs.drawTicks(e,v,{vals:v.ticks==="inside"?zs.clipEnds(v,b):b,layer:o,path:zs.makeTickPath(v,m,x),transFn:y}),zs.drawLabels(e,v,{vals:b,layer:o,transFn:y,labelFns:zs.makeLabelFns(v,m)}));function k(L){L.attr("width",function(D){return Math.max(0,v.c2p(D.range[1])-v.c2p(D.range[0]))}).attr("x",function(D){return v.c2p(D.range[0])}).attr("y",function(D){return .5*(1-D.thickness)*_}).attr("height",function(D){return D.thickness*_})}var p=[s].concat(i.gauge.steps),d=a.selectAll("g.bg-bullet").data(p);d.enter().append("g").classed("bg-bullet",!0).append("rect"),d.select("rect").call(k).call(pg),d.exit().remove();var M=a.selectAll("g.value-bullet").data([i.gauge.bar]);M.enter().append("g").classed("value-bullet",!0).append("rect"),M.select("rect").attr("height",g).attr("y",(_-g)/2).call(pg),bw(c)?M.select("rect").transition().duration(c.duration).ease(c.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).attr("width",Math.max(0,v.c2p(Math.min(i.gauge.axis.range[1],r[0].y)))):M.select("rect").attr("width",typeof r[0].y=="number"?Math.max(0,v.c2p(Math.min(i.gauge.axis.range[1],r[0].y))):0),M.exit().remove();var T=r.filter(function(){return i.gauge.threshold.value||i.gauge.threshold.value===0}),S=a.selectAll("g.threshold-bullet").data(T);S.enter().append("g").classed("threshold-bullet",!0).append("line"),S.select("line").attr("x1",v.c2p(i.gauge.threshold.value)).attr("x2",v.c2p(i.gauge.threshold.value)).attr("y1",(1-i.gauge.threshold.thickness)/2*_).attr("y2",(1-(1-i.gauge.threshold.thickness)/2)*_).call(Ay.stroke,i.gauge.threshold.line.color).style("stroke-width",i.gauge.threshold.line.width),S.exit().remove();var E=a.selectAll("g.gauge-outline").data([l]);E.enter().append("g").classed("gauge-outline",!0).append("rect"),E.select("rect").call(k).call(pg),E.exit().remove()}function cgt(e,t,r,n){var i=r[0].trace,a=n.size,o=n.radius,s=n.innerRadius,l=n.gaugeBg,u=n.gaugeOutline,f=[a.l+a.w/2,a.t+a.h/2+o/2],c=n.gauge,h=n.layer,v=n.transitionOpts,b=n.onComplete,y=Math.PI/2;function x(Y){var K=i.gauge.axis.range[0],B=i.gauge.axis.range[1],z=(Y-K)/(B-K)*Math.PI-y;return z<-y?-y:z>y?y:z}function m(Y){return mg.svg.arc().innerRadius((s+o)/2-Y/2*(o-s)).outerRadius((s+o)/2+Y/2*(o-s)).startAngle(-y)}function _(Y){Y.attr("d",function(K){return m(K.thickness).startAngle(x(K.range[0])).endAngle(x(K.range[1]))()})}var g,A,w,k;c.enter().append("g").classed("angular",!0),c.attr("transform",xw(f[0],f[1])),h.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),h.selectAll("g.xangularaxistick,path,text").remove(),g=yw(e,i.gauge.axis),g.type="linear",g.range=i.gauge.axis.range,g._id="xangularaxis",g.ticklabeloverflow="allow",g.setScale();var p=function(Y){return(g.range[0]-Y.x)/(g.range[1]-g.range[0])*Math.PI+Math.PI},d={},M=zs.makeLabelFns(g,0),T=M.labelStandoff;d.xFn=function(Y){var K=p(Y);return Math.cos(K)*T},d.yFn=function(Y){var K=p(Y),B=Math.sin(K)>0?.2:1;return-Math.sin(K)*(T+Y.fontSize*B)+Math.abs(Math.cos(K))*(Y.fontSize*ogt)},d.anchorFn=function(Y){var K=p(Y),B=Math.cos(K);return Math.abs(B)<.1?"middle":B>0?"start":"end"},d.heightFn=function(Y,K,B){var z=p(Y);return-.5*(1+Math.sin(z))*B};var S=function(Y){return xw(f[0]+o*Math.cos(Y),f[1]-o*Math.sin(Y))};w=function(Y){return S(p(Y))};var E=function(Y){var K=p(Y);return S(K)+"rotate("+-agt(K)+")"};if(A=zs.calcTicks(g),k=zs.getTickSigns(g)[2],g.visible){k=g.ticks==="inside"?-1:1;var L=(g.linewidth||1)/2;zs.drawTicks(e,g,{vals:A,layer:h,path:"M"+k*L+",0h"+k*g.ticklen,transFn:E}),zs.drawLabels(e,g,{vals:A,layer:h,transFn:w,labelFns:d})}var D=[l].concat(i.gauge.steps),R=c.selectAll("g.bg-arc").data(D);R.enter().append("g").classed("bg-arc",!0).append("path"),R.select("path").call(_).call(pg),R.exit().remove();var q=m(i.gauge.bar.thickness),C=c.selectAll("g.value-arc").data([i.gauge.bar]);C.enter().append("g").classed("value-arc",!0).append("path");var F=C.select("path");bw(v)?(F.transition().duration(v.duration).ease(v.easing).each("end",function(){b&&b()}).each("interrupt",function(){b&&b()}).attrTween("d",vgt(q,x(r[0].lastY),x(r[0].y))),i._lastValue=r[0].y):F.attr("d",typeof r[0].y=="number"?q.endAngle(x(r[0].y)):"M0,0Z"),F.call(pg),C.exit().remove(),D=[];var N=i.gauge.threshold.value;(N||N===0)&&D.push({range:[N,N],color:i.gauge.threshold.color,line:{color:i.gauge.threshold.line.color,width:i.gauge.threshold.line.width},thickness:i.gauge.threshold.thickness});var U=c.selectAll("g.threshold-arc").data(D);U.enter().append("g").classed("threshold-arc",!0).append("path"),U.select("path").call(_).call(pg),U.exit().remove();var V=c.selectAll("g.gauge-outline").data([u]);V.enter().append("g").classed("gauge-outline",!0).append("path"),V.select("path").call(_).call(pg),V.exit().remove()}function hgt(e,t,r,n){var i=r[0].trace,a=n.numbersX,o=n.numbersY,s=i.align||"center",l=UP[s],u=n.transitionOpts,f=n.onComplete,c=y0.ensureSingle(t,"g","numbers"),h,v,b,y=[];i._hasNumber&&y.push("number"),i._hasDelta&&(y.push("delta"),i.delta.position==="left"&&y.reverse());var x=c.selectAll("text").data(y);x.enter().append("text"),x.attr("text-anchor",function(){return l}).attr("class",function(S){return S}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),x.exit().remove();function m(S,E,L,D){if(S.match("s")&&L>=0!=D>=0&&!E(L).slice(-1).match(qwe)&&!E(D).slice(-1).match(qwe)){var R=S.slice().replace("s","f").replace(/\d+/,function(C){return parseInt(C)-1}),q=yw(e,{tickformat:R});return function(C){return Math.abs(C)<1?zs.tickText(q,C).text:E(C)}}else return E}function _(){var S=yw(e,{tickformat:i.number.valueformat},i._range);S.setScale(),zs.prepTicks(S);var E=function(C){return zs.tickText(S,C).text},L=i.number.suffix,D=i.number.prefix,R=c.select("text.number");function q(){var C=typeof r[0].y=="number"?D+E(r[0].y)+L:"-";R.text(C).call(gg.font,i.number.font).call(s5.convertToTspans,e)}return bw(u)?R.transition().duration(u.duration).ease(u.easing).each("end",function(){q(),f&&f()}).each("interrupt",function(){q(),f&&f()}).attrTween("text",function(){var C=mg.select(this),F=Dwe(r[0].lastY,r[0].y);i._lastValue=r[0].y;var N=m(i.number.valueformat,E,r[0].lastY,r[0].y);return function(U){C.text(D+N(F(U))+L)}}):q(),h=Iwe(D+E(r[0].y)+L,i.number.font,l,e),R}function g(){var S=yw(e,{tickformat:i.delta.valueformat},i._range);S.setScale(),zs.prepTicks(S);var E=function(U){return zs.tickText(S,U).text},L=i.delta.suffix,D=i.delta.prefix,R=function(U){var V=i.delta.relative?U.relativeDelta:U.delta;return V},q=function(U,V){return U===0||typeof U!="number"||isNaN(U)?"-":(U>0?i.delta.increasing.symbol:i.delta.decreasing.symbol)+D+V(U)+L},C=function(U){return U.delta>=0?i.delta.increasing.color:i.delta.decreasing.color};i._deltaLastValue===void 0&&(i._deltaLastValue=R(r[0]));var F=c.select("text.delta");F.call(gg.font,i.delta.font).call(Ay.fill,C({delta:i._deltaLastValue}));function N(){F.text(q(R(r[0]),E)).call(Ay.fill,C(r[0])).call(s5.convertToTspans,e)}return bw(u)?F.transition().duration(u.duration).ease(u.easing).tween("text",function(){var U=mg.select(this),V=R(r[0]),Y=i._deltaLastValue,K=m(i.delta.valueformat,E,Y,V),B=Dwe(Y,V);return i._deltaLastValue=V,function(z){U.text(q(B(z),K)),U.call(Ay.fill,C({delta:B(z)}))}}).each("end",function(){N(),f&&f()}).each("interrupt",function(){N(),f&&f()}):N(),v=Iwe(q(R(r[0]),E),i.delta.font,l,e),F}var A=i.mode+i.align,w;if(i._hasDelta&&(w=g(),A+=i.delta.position+i.delta.font.size+i.delta.font.family+i.delta.valueformat,A+=i.delta.increasing.symbol+i.delta.decreasing.symbol,b=v),i._hasNumber&&(_(),A+=i.number.font.size+i.number.font.family+i.number.valueformat+i.number.suffix+i.number.prefix,b=h),i._hasDelta&&i._hasNumber){var k=[(h.left+h.right)/2,(h.top+h.bottom)/2],p=[(v.left+v.right)/2,(v.top+v.bottom)/2],d,M,T=.75*i.delta.font.size;i.delta.position==="left"&&(d=o5(i,"deltaPos",0,-1*(h.width*dg[i.align]+v.width*(1-dg[i.align])+T),A,Math.min),M=k[1]-p[1],b={width:h.width+v.width+T,height:Math.max(h.height,v.height),left:v.left+d,right:h.right,top:Math.min(h.top,v.top+M),bottom:Math.max(h.bottom,v.bottom+M)}),i.delta.position==="right"&&(d=o5(i,"deltaPos",0,h.width*(1-dg[i.align])+v.width*dg[i.align]+T,A,Math.max),M=k[1]-p[1],b={width:h.width+v.width+T,height:Math.max(h.height,v.height),left:h.left,right:v.right+d,top:Math.min(h.top,v.top+M),bottom:Math.max(h.bottom,v.bottom+M)}),i.delta.position==="bottom"&&(d=null,M=v.height,b={width:Math.max(h.width,v.width),height:h.height+v.height,left:Math.min(h.left,v.left),right:Math.max(h.right,v.right),top:h.bottom-h.height,bottom:h.bottom+v.height}),i.delta.position==="top"&&(d=null,M=h.top,b={width:Math.max(h.width,v.width),height:h.height+v.height,left:Math.min(h.left,v.left),right:Math.max(h.right,v.right),top:h.bottom-h.height-v.height,bottom:h.bottom}),w.attr({dx:d,dy:M})}(i._hasNumber||i._hasDelta)&&c.attr("transform",function(){var S=n.numbersScaler(b);A+=S[2];var E=o5(i,"numbersScale",1,S[0],A,Math.min),L;i._scaleNumbers||(E=1),i._isAngular?L=o-E*b.bottom:L=o-E*(b.top+b.bottom)/2,i._numbersTop=E*b.top+L;var D=b[s];s==="center"&&(D=(b.left+b.right)/2);var R=a-E*D;return R=o5(i,"numbersTranslate",0,R,A,Math.max),xw(R,L)+igt(E)})}function pg(e){e.each(function(t){Ay.stroke(mg.select(this),t.line.color)}).each(function(t){Ay.fill(mg.select(this),t.color)}).style("stroke-width",function(t){return t.line.width})}function vgt(e,t,r){return function(){var n=ngt(t,r);return function(i){return e.endAngle(n(i))()}}}function yw(e,t,r){var n=e._fullLayout,i=y0.extendFlat({type:"linear",ticks:"outside",range:r,showline:!0},t),a={type:"linear",_id:"x"+t._id},o={letter:"x",font:n.font,noHover:!0,noTickson:!0};function s(l,u){return y0.coerce(i,a,ugt,l,u)}return sgt(i,a,s,o,n),lgt(i,a,s,o),a}function Rwe(e,t,r){var n=Math.min(t/e.width,r/e.height);return[n,e,t+"x"+r]}function dgt(e,t){var r=Math.sqrt(e.width/2*(e.width/2)+e.height*e.height),n=t/r;return[n,e,t]}function Iwe(e,t,r,n){var i=document.createElementNS("http://www.w3.org/2000/svg","text"),a=mg.select(i);return a.text(e).attr("x",0).attr("y",0).attr("text-anchor",r).attr("data-unformatted",e).call(s5.convertToTspans,n).call(gg.font,t),gg.bBox(a.node())}function o5(e,t,r,n,i,a){var o="_cache"+t;e[o]&&e[o].key===i||(e[o]={key:i,value:r});var s=y0.aggNums(a,null,[e[o].value,n],2);return e[o].value=s,s}});var zwe=$((r8t,Nwe)=>{"use strict";Nwe.exports={moduleType:"trace",name:"indicator",basePlotModule:ywe(),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:BP(),supplyDefaults:Ewe().supplyDefaults,calc:Cwe().calc,plot:Fwe(),meta:{description:["An indicator is used to visualize a single `value` along with some","contextual information such as `steps` or a `threshold`, using a","combination of three visual elements: a number, a delta, and/or a gauge.","Deltas are taken with respect to a `reference`.","Gauges can be either angular or bullet (aka linear) gauges."].join(" ")}}});var Bwe=$((n8t,Owe)=>{"use strict";Owe.exports=zwe()});var jP=$((i8t,Vwe)=>{"use strict";var Hwe=Mp(),l5=ln().extendFlat,pgt=Fa().overrideAll,Uwe=Ba(),ggt=Ua().attributes,jwe=Ha().descriptionOnlyNumbers,mgt=Vwe.exports=pgt({domain:ggt({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null,description:["The width of columns expressed as a ratio. Columns fill the available width","in proportion of their specified column widths."].join(" ")},columnorder:{valType:"data_array",description:["Specifies the rendered order of the data columns; for example, a value `2` at position `0`","means that column index `0` in the data will be rendered as the","third column, as columns have an index base of zero."].join(" ")},header:{values:{valType:"data_array",dflt:[],description:["Header cell values. `values[m][n]` represents the value of the `n`th point in column `m`,","therefore the `values[m]` vector length for all columns must be the same (longer vectors","will be truncated). Each value must be a finite number or a string."].join(" ")},format:{valType:"data_array",dflt:[],description:jwe("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null,description:"Prefix for cell values."},suffix:{valType:"string",arrayOk:!0,dflt:null,description:"Suffix for cell values."},height:{valType:"number",dflt:28,description:"The height of cells."},align:l5({},Hwe.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white",description:["Sets the cell fill color. It accepts either a specific color","or an array of colors or a 2D array of colors."].join(" ")}},font:l5({},Uwe({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[],description:["Cell values. `values[m][n]` represents the value of the `n`th point in column `m`,","therefore the `values[m]` vector length for all columns must be the same (longer vectors","will be truncated). Each value must be a finite number or a string."].join(" ")},format:{valType:"data_array",dflt:[],description:jwe("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null,description:"Prefix for cell values."},suffix:{valType:"string",arrayOk:!0,dflt:null,description:"Suffix for cell values."},height:{valType:"number",dflt:20,description:"The height of cells."},align:l5({},Hwe.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white",description:["Sets the cell fill color. It accepts either a specific color","or an array of colors or a 2D array of colors."].join(" ")}},font:l5({},Uwe({arrayOk:!0}))}},"calc","from-root");mgt.transforms=void 0});var Ywe=$((a8t,Gwe)=>{"use strict";var ww=pt(),ygt=jP(),xgt=Ua().defaults;function bgt(e,t){for(var r=e.columnorder||[],n=e.header.values.length,i=r.slice(0,n),a=i.slice().sort(function(l,u){return l-u}),o=i.map(function(l){return a.indexOf(l)}),s=o.length;s<n;s++)o.push(s);t("columnorder",o)}Gwe.exports=function(t,r,n,i){function a(o,s){return ww.coerce(t,r,ygt,o,s)}xgt(r,i,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),ww.coerceFont(a,"header.font",ww.extendFlat({},i.font)),bgt(r,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),ww.coerceFont(a,"cells.font",ww.extendFlat({},i.font)),r._length=null}});var Xwe=$((o8t,Wwe)=>{"use strict";var wgt=my().wrap;Wwe.exports=function(){return wgt({})}});var VP=$((s8t,Zwe)=>{"use strict";Zwe.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}});var i_e=$((l8t,n_e)=>{"use strict";var $we=VP(),YP=ln().extendFlat,_gt=mn();n_e.exports=function(t,r){var n=GP(r.cells.values),i=function(M){return M.slice(r.header.values.length,M.length)},a=GP(r.header.values);a.length&&!a[0].length&&(a[0]=[""],a=GP(a));var o=a.concat(i(n).map(function(){return r_e((a[0]||[""]).length)})),s=r.domain,l=Math.floor(t._fullLayout._size.w*(s.x[1]-s.x[0])),u=Math.floor(t._fullLayout._size.h*(s.y[1]-s.y[0])),f=r.header.values.length?o[0].map(function(){return r.header.height}):[$we.emptyHeaderHeight],c=n.length?n[0].map(function(){return r.cells.height}):[],h=f.reduce(Kwe,0),v=u-h,b=v+$we.uplift,y=e_e(c,b),x=e_e(f,h),m=Qwe(x,[]),_=Qwe(y,m),g={},A=r._fullInput.columnorder.concat(i(n.map(function(M,T){return T}))),w=o.map(function(M,T){var S=Array.isArray(r.columnwidth)?r.columnwidth[Math.min(T,r.columnwidth.length-1)]:r.columnwidth;return _gt(S)?Number(S):1}),k=w.reduce(Kwe,0);w=w.map(function(M){return M/k*l});var p=Math.max(WP(r.header.line.width),WP(r.cells.line.width)),d={key:r.uid+t._context.staticPlot,translateX:s.x[0]*t._fullLayout._size.w,translateY:t._fullLayout._size.h*(1-s.y[1]),size:t._fullLayout._size,width:l,maxLineWidth:p,height:u,columnOrder:A,groupHeight:u,rowBlocks:_,headerRowBlocks:m,scrollY:0,cells:YP({},r.cells,{values:n}),headerCells:YP({},r.header,{values:o}),gdColumns:o.map(function(M){return M[0]}),gdColumnsOriginalOrder:o.map(function(M){return M[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:o.map(function(M,T){var S=g[M];g[M]=(S||0)+1;var E=M+"__"+g[M];return{key:E,label:M,specIndex:T,xIndex:A[T],xScale:Jwe,x:void 0,calcdata:void 0,columnWidth:w[T]}})};return d.columns.forEach(function(M){M.calcdata=d,M.x=Jwe(M)}),d};function WP(e){if(Array.isArray(e)){for(var t=0,r=0;r<e.length;r++)t=Math.max(t,WP(e[r]));return t}return e}function Kwe(e,t){return e+t}function GP(e){var t=e.slice(),r=1/0,n=0,i;for(i=0;i<t.length;i++)Array.isArray(t[i])||(t[i]=[t[i]]),r=Math.min(r,t[i].length),n=Math.max(n,t[i].length);if(r!==n)for(i=0;i<t.length;i++){var a=n-t[i].length;a&&(t[i]=t[i].concat(r_e(a)))}return t}function r_e(e){for(var t=new Array(e),r=0;r<e;r++)t[r]="";return t}function Jwe(e){return e.calcdata.columns.reduce(function(t,r){return r.xIndex<e.xIndex?t+r.columnWidth:t},0)}function Qwe(e,t){var r=Object.keys(e);return r.map(function(n){return YP({},e[n],{auxiliaryBlocks:t})})}function e_e(e,t){for(var r={},n,i=0,a=0,o=t_e(),s=0,l=0,u=0;u<e.length;u++)n=e[u],o.rows.push({rowIndex:u,rowHeight:n}),a+=n,(a>=t||u===e.length-1)&&(r[i]=o,o.key=l++,o.firstRowIndex=s,o.lastRowIndex=u,o=t_e(),i+=a,s=u+1,a=0);return r}function t_e(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}});var a_e=$(XP=>{"use strict";var u5=ln().extendFlat;XP.splitToPanels=function(e){var t=[0,0],r=u5({},e,{key:"header",type:"header",page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!0,values:e.calcdata.headerCells.values[e.specIndex],rowBlocks:e.calcdata.headerRowBlocks,calcdata:u5({},e.calcdata,{cells:e.calcdata.headerCells})}),n=u5({},e,{key:"cells1",type:"cells",page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:e.calcdata.cells.values[e.specIndex],rowBlocks:e.calcdata.rowBlocks}),i=u5({},e,{key:"cells2",type:"cells",page:1,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:e.calcdata.cells.values[e.specIndex],rowBlocks:e.calcdata.rowBlocks});return[n,i,r]};XP.splitToCells=function(e){var t=Tgt(e);return(e.values||[]).slice(t[0],t[1]).map(function(r,n){var i=typeof r=="string"&&r.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:n+i,key:t[0]+n,column:e,calcdata:e.calcdata,page:e.page,rowBlocks:e.rowBlocks,value:r}})};function Tgt(e){var t=e.rowBlocks[e.page],r=t?t.rows[0].rowIndex:0,n=t?r+t.rows.length:0;return[r,n]}});var n7=$((f8t,g_e)=>{"use strict";var Fr=VP(),ma=Nr(),Agt=pt(),Mgt=Agt.numberFormat,ji=my(),ZP=un(),kgt=Ta(),Sgt=pt().raiseToTop,sc=pt().strTranslate,Egt=pt().cancelTransition,Lgt=i_e(),h_e=a_e(),o_e=Rr();g_e.exports=function(t,r){var n=!t._context.staticPlot,i=t._fullLayout._paper.selectAll("."+Fr.cn.table).data(r.map(function(_){var g=ji.unwrap(_),A=g.trace;return Lgt(t,A)}),ji.keyFun);i.exit().remove(),i.enter().append("g").classed(Fr.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),i.attr("width",function(_){return _.width+_.size.l+_.size.r}).attr("height",function(_){return _.height+_.size.t+_.size.b}).attr("transform",function(_){return sc(_.translateX,_.translateY)});var a=i.selectAll("."+Fr.cn.tableControlView).data(ji.repeat,ji.keyFun),o=a.enter().append("g").classed(Fr.cn.tableControlView,!0).style("box-sizing","content-box");if(n){var s="onwheel"in document?"wheel":"mousewheel";o.on("mousemove",function(_){a.filter(function(g){return _===g}).call(_w,t)}).on(s,function(_){if(!_.scrollbarState.wheeling){_.scrollbarState.wheeling=!0;var g=_.scrollY+ma.event.deltaY,A=c5(t,a,null,g)(_);A||(ma.event.stopPropagation(),ma.event.preventDefault()),_.scrollbarState.wheeling=!1}}).call(_w,t,!0)}a.attr("transform",function(_){return sc(_.size.l,_.size.t)});var l=a.selectAll("."+Fr.cn.scrollBackground).data(ji.repeat,ji.keyFun);l.enter().append("rect").classed(Fr.cn.scrollBackground,!0).attr("fill","none"),l.attr("width",function(_){return _.width}).attr("height",function(_){return _.height}),a.each(function(_){ZP.setClipUrl(ma.select(this),s_e(t,_),t)});var u=a.selectAll("."+Fr.cn.yColumn).data(function(_){return _.columns},ji.keyFun);u.enter().append("g").classed(Fr.cn.yColumn,!0),u.exit().remove(),u.attr("transform",function(_){return sc(_.x,0)}),n&&u.call(ma.behavior.drag().origin(function(_){var g=ma.select(this);return f_e(g,_,-Fr.uplift),Sgt(this),_.calcdata.columnDragInProgress=!0,_w(a.filter(function(A){return _.calcdata.key===A.key}),t),_}).on("drag",function(_){var g=ma.select(this),A=function(p){return(_===p?ma.event.x:p.x)+p.columnWidth/2};_.x=Math.max(-Fr.overdrag,Math.min(_.calcdata.width+Fr.overdrag-_.columnWidth,ma.event.x));var w=v_e(u).filter(function(p){return p.calcdata.key===_.calcdata.key}),k=w.sort(function(p,d){return A(p)-A(d)});k.forEach(function(p,d){p.xIndex=d,p.x=_===p?p.x:p.xScale(p)}),u.filter(function(p){return _!==p}).transition().ease(Fr.transitionEase).duration(Fr.transitionDuration).attr("transform",function(p){return sc(p.x,0)}),g.call(Egt).attr("transform",sc(_.x,-Fr.uplift))}).on("dragend",function(_){var g=ma.select(this),A=_.calcdata;_.x=_.xScale(_),_.calcdata.columnDragInProgress=!1,f_e(g,_,0),Ogt(t,A,A.columns.map(function(w){return w.xIndex}))})),u.each(function(_){ZP.setClipUrl(ma.select(this),l_e(t,_),t)});var f=u.selectAll("."+Fr.cn.columnBlock).data(h_e.splitToPanels,ji.keyFun);f.enter().append("g").classed(Fr.cn.columnBlock,!0).attr("id",function(_){return _.key}),f.style("cursor",function(_){return _.dragHandle?"ew-resize":_.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var c=f.filter(Bgt),h=f.filter(e7);n&&h.call(ma.behavior.drag().origin(function(_){return ma.event.stopPropagation(),_}).on("drag",c5(t,a,-1)).on("dragend",function(){})),$P(t,a,c,f),$P(t,a,h,f);var v=a.selectAll("."+Fr.cn.scrollAreaClip).data(ji.repeat,ji.keyFun);v.enter().append("clipPath").classed(Fr.cn.scrollAreaClip,!0).attr("id",function(_){return s_e(t,_)});var b=v.selectAll("."+Fr.cn.scrollAreaClipRect).data(ji.repeat,ji.keyFun);b.enter().append("rect").classed(Fr.cn.scrollAreaClipRect,!0).attr("x",-Fr.overdrag).attr("y",-Fr.uplift).attr("fill","none"),b.attr("width",function(_){return _.width+2*Fr.overdrag}).attr("height",function(_){return _.height+Fr.uplift});var y=u.selectAll("."+Fr.cn.columnBoundary).data(ji.repeat,ji.keyFun);y.enter().append("g").classed(Fr.cn.columnBoundary,!0);var x=u.selectAll("."+Fr.cn.columnBoundaryClippath).data(ji.repeat,ji.keyFun);x.enter().append("clipPath").classed(Fr.cn.columnBoundaryClippath,!0),x.attr("id",function(_){return l_e(t,_)});var m=x.selectAll("."+Fr.cn.columnBoundaryRect).data(ji.repeat,ji.keyFun);m.enter().append("rect").classed(Fr.cn.columnBoundaryRect,!0).attr("fill","none"),m.attr("width",function(_){return _.columnWidth+2*f5(_)}).attr("height",function(_){return _.calcdata.height+2*f5(_)+Fr.uplift}).attr("x",function(_){return-f5(_)}).attr("y",function(_){return-f5(_)}),t7(null,h,a)};function f5(e){return Math.ceil(e.calcdata.maxLineWidth/2)}function s_e(e,t){return"clip"+e._fullLayout._uid+"_scrollAreaBottomClip_"+t.key}function l_e(e,t){return"clip"+e._fullLayout._uid+"_columnBoundaryClippath_"+t.calcdata.key+"_"+t.specIndex}function v_e(e){return[].concat.apply([],e.map(function(t){return t})).map(function(t){return t.__data__})}function _w(e,t,r){function n(u){var f=u.rowBlocks;return JP(f,f.length-1)+(f.length?h5(f[f.length-1],1/0):1)}var i=e.selectAll("."+Fr.cn.scrollbarKit).data(ji.repeat,ji.keyFun);i.enter().append("g").classed(Fr.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),i.each(function(u){var f=u.scrollbarState;f.totalHeight=n(u),f.scrollableAreaHeight=u.groupHeight-KP(u),f.currentlyVisibleHeight=Math.min(f.totalHeight,f.scrollableAreaHeight),f.ratio=f.currentlyVisibleHeight/f.totalHeight,f.barLength=Math.max(f.ratio*f.currentlyVisibleHeight,Fr.goldenRatio*Fr.scrollbarWidth),f.barWiggleRoom=f.currentlyVisibleHeight-f.barLength,f.wiggleRoom=Math.max(0,f.totalHeight-f.scrollableAreaHeight),f.topY=f.barWiggleRoom===0?0:u.scrollY/f.wiggleRoom*f.barWiggleRoom,f.bottomY=f.topY+f.barLength,f.dragMultiplier=f.wiggleRoom/f.barWiggleRoom}).attr("transform",function(u){var f=u.width+Fr.scrollbarWidth/2+Fr.scrollbarOffset;return sc(f,KP(u))});var a=i.selectAll("."+Fr.cn.scrollbar).data(ji.repeat,ji.keyFun);a.enter().append("g").classed(Fr.cn.scrollbar,!0);var o=a.selectAll("."+Fr.cn.scrollbarSlider).data(ji.repeat,ji.keyFun);o.enter().append("g").classed(Fr.cn.scrollbarSlider,!0),o.attr("transform",function(u){return sc(0,u.scrollbarState.topY||0)});var s=o.selectAll("."+Fr.cn.scrollbarGlyph).data(ji.repeat,ji.keyFun);s.enter().append("line").classed(Fr.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",Fr.scrollbarWidth).attr("stroke-linecap","round").attr("y1",Fr.scrollbarWidth/2),s.attr("y2",function(u){return u.scrollbarState.barLength-Fr.scrollbarWidth/2}).attr("stroke-opacity",function(u){return u.columnDragInProgress||!u.scrollbarState.barWiggleRoom||r?0:.4}),s.transition().delay(0).duration(0),s.transition().delay(Fr.scrollbarHideDelay).duration(Fr.scrollbarHideDuration).attr("stroke-opacity",0);var l=a.selectAll("."+Fr.cn.scrollbarCaptureZone).data(ji.repeat,ji.keyFun);l.enter().append("line").classed(Fr.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",Fr.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(u){var f=ma.event.y,c=this.getBoundingClientRect(),h=u.scrollbarState,v=f-c.top,b=ma.scale.linear().domain([0,h.scrollableAreaHeight]).range([0,h.totalHeight]).clamp(!0);h.topY<=v&&v<=h.bottomY||c5(t,e,null,b(v-h.barLength/2))(u)}).call(ma.behavior.drag().origin(function(u){return ma.event.stopPropagation(),u.scrollbarState.scrollbarScrollInProgress=!0,u}).on("drag",c5(t,e)).on("dragend",function(){})),l.attr("y2",function(u){return u.scrollbarState.scrollableAreaHeight}),t._context.staticPlot&&(s.remove(),l.remove())}function $P(e,t,r,n){var i=Cgt(r),a=Dgt(i);Pgt(a);var o=qgt(a);Ngt(o);var s=Igt(a),l=Rgt(s);Fgt(l),d_e(l,t,n,e),r7(a)}function Cgt(e){var t=e.selectAll("."+Fr.cn.columnCells).data(ji.repeat,ji.keyFun);return t.enter().append("g").classed(Fr.cn.columnCells,!0),t.exit().remove(),t}function Dgt(e){var t=e.selectAll("."+Fr.cn.columnCell).data(h_e.splitToCells,function(r){return r.keyWithinBlock});return t.enter().append("g").classed(Fr.cn.columnCell,!0),t.exit().remove(),t}function qgt(e){var t=e.selectAll("."+Fr.cn.cellRect).data(ji.repeat,function(r){return r.keyWithinBlock});return t.enter().append("rect").classed(Fr.cn.cellRect,!0),t}function Rgt(e){var t=e.selectAll("."+Fr.cn.cellText).data(ji.repeat,function(r){return r.keyWithinBlock});return t.enter().append("text").classed(Fr.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){ma.event.stopPropagation()}),t}function Igt(e){var t=e.selectAll("."+Fr.cn.cellTextHolder).data(ji.repeat,function(r){return r.keyWithinBlock});return t.enter().append("g").classed(Fr.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),t}function Pgt(e){e.each(function(t,r){var n=t.calcdata.cells.font,i=t.column.specIndex,a={size:Gh(n.size,i,r),color:Gh(n.color,i,r),family:Gh(n.family,i,r)};t.rowNumber=t.key,t.align=Gh(t.calcdata.cells.align,i,r),t.cellBorderWidth=Gh(t.calcdata.cells.line.width,i,r),t.font=a})}function Fgt(e){e.each(function(t){ZP.font(ma.select(this),t.font)})}function Ngt(e){e.attr("width",function(t){return t.column.columnWidth}).attr("stroke-width",function(t){return t.cellBorderWidth}).each(function(t){var r=ma.select(this);o_e.stroke(r,Gh(t.calcdata.cells.line.color,t.column.specIndex,t.rowNumber)),o_e.fill(r,Gh(t.calcdata.cells.fill.color,t.column.specIndex,t.rowNumber))})}function d_e(e,t,r,n){e.text(function(i){var a=i.column.specIndex,o=i.rowNumber,s=i.value,l=typeof s=="string",u=l&&s.match(/<br>/i),f=!l||u;i.mayHaveMarkup=l&&s.match(/[<&>]/);var c=zgt(s);i.latex=c;var h=c?"":Gh(i.calcdata.cells.prefix,a,o)||"",v=c?"":Gh(i.calcdata.cells.suffix,a,o)||"",b=c?null:Gh(i.calcdata.cells.format,a,o)||null,y=h+(b?Mgt(b)(i.value):i.value)+v,x;i.wrappingNeeded=!i.wrapped&&!f&&!c&&(x=u_e(y)),i.cellHeightMayIncrease=u||c||i.mayHaveMarkup||(x===void 0?u_e(y):x),i.needsConvertToTspans=i.mayHaveMarkup||i.wrappingNeeded||i.latex;var m;if(i.wrappingNeeded){var _=Fr.wrapSplitCharacter===" "?y.replace(/<a href=/ig,"<a_href="):y,g=_.split(Fr.wrapSplitCharacter),A=Fr.wrapSplitCharacter===" "?g.map(function(w){return w.replace(/<a_href=/ig,"<a href=")}):g;i.fragments=A.map(function(w){return{text:w,width:null}}),i.fragments.push({fragment:Fr.wrapSpacer,width:null}),m=A.join(Fr.lineBreaker)+Fr.lineBreaker+Fr.wrapSpacer}else delete i.fragments,m=y;return m}).attr("dy",function(i){return i.needsConvertToTspans?0:"0.75em"}).each(function(i){var a=this,o=ma.select(a),s=i.wrappingNeeded?Ugt:jgt;i.needsConvertToTspans?kgt.convertToTspans(o,n,s(r,a,t,n,i)):ma.select(a.parentNode).attr("transform",function(l){return sc(p_e(l),Fr.cellPad)}).attr("text-anchor",function(l){return{left:"start",center:"middle",right:"end"}[l.align]})})}function zgt(e){return typeof e=="string"&&e.match(Fr.latexCheck)}function u_e(e){return e.indexOf(Fr.wrapSplitCharacter)!==-1}function Ogt(e,t,r){var n=t.gdColumnsOriginalOrder;t.gdColumns.sort(function(i,a){return r[n.indexOf(i)]-r[n.indexOf(a)]}),t.columnorder=r,e.emit("plotly_restyle")}function Gh(e,t,r){if(Array.isArray(e)){var n=e[Math.min(t,e.length-1)];return Array.isArray(n)?n[Math.min(r,n.length-1)]:n}else return e}function f_e(e,t,r){e.transition().ease(Fr.releaseTransitionEase).duration(Fr.releaseTransitionDuration).attr("transform",sc(t.x,r))}function e7(e){return e.type==="cells"}function Bgt(e){return e.type==="header"}function KP(e){var t=e.rowBlocks.length?e.rowBlocks[0].auxiliaryBlocks:[];return t.reduce(function(r,n){return r+h5(n,1/0)},0)}function Hgt(e,t,r){for(var n=[],i=0,a=0;a<e.length;a++){for(var o=e[a],s=o.rows,l=0,u=0;u<s.length;u++)l+=s[u].rowHeight;o.allRowsHeight=l;var f=i+l,c=t,h=c+r;c<f&&h>i&&n.push(a),i+=l}return n}function t7(e,t,r){var n=v_e(t)[0];if(n!==void 0){var i=n.rowBlocks,a=n.calcdata,o=JP(i,i.length),s=n.calcdata.groupHeight-KP(n),l=a.scrollY=Math.max(0,Math.min(o-s,a.scrollY)),u=Hgt(i,l,s);u.length===1&&(u[0]===i.length-1?u.unshift(u[0]-1):u.push(u[0]+1)),u[0]%2&&u.reverse(),t.each(function(f,c){f.page=u[c],f.scrollY=l}),t.attr("transform",function(f){var c=JP(f.rowBlocks,f.page)-f.scrollY;return sc(0,c)}),e&&(c_e(e,r,t,u,n.prevPages,n,0),c_e(e,r,t,u,n.prevPages,n,1),_w(r,e))}}function c5(e,t,r,n){return function(a){var o=a.calcdata?a.calcdata:a,s=t.filter(function(c){return o.key===c.key}),l=r||o.scrollbarState.dragMultiplier,u=o.scrollY;o.scrollY=n===void 0?o.scrollY+l*ma.event.dy:n;var f=s.selectAll("."+Fr.cn.yColumn).selectAll("."+Fr.cn.columnBlock).filter(e7);return t7(e,f,s),o.scrollY===u}}function c_e(e,t,r,n,i,a,o){var s=n[o]!==i[o];s&&(clearTimeout(a.currentRepaint[o]),a.currentRepaint[o]=setTimeout(function(){var l=r.filter(function(u,f){return f===o&&n[f]!==i[f]});$P(e,t,l,r),i[o]=n[o]}))}function Ugt(e,t,r,n){return function(){var a=ma.select(t.parentNode);a.each(function(o){var s=o.fragments;a.selectAll("tspan.line").each(function(y,x){s[x].width=this.getComputedTextLength()});var l=s[s.length-1].width,u=s.slice(0,-1),f=[],c,h,v=0,b=o.column.columnWidth-2*Fr.cellPad;for(o.value="";u.length;)c=u.shift(),h=c.width+l,v+h>b&&(o.value+=f.join(Fr.wrapSpacer)+Fr.lineBreaker,f=[],v=0),f.push(c.text),v+=h;v&&(o.value+=f.join(Fr.wrapSpacer)),o.wrapped=!0}),a.selectAll("tspan.line").remove(),d_e(a.select("."+Fr.cn.cellText),r,e,n),ma.select(t.parentNode.parentNode).call(r7)}}function jgt(e,t,r,n,i){return function(){if(!i.settledY){var o=ma.select(t.parentNode),s=QP(i),l=i.key-s.firstRowIndex,u=s.rows[l].rowHeight,f=i.cellHeightMayIncrease?t.parentNode.getBoundingClientRect().height+2*Fr.cellPad:u,c=Math.max(f,u),h=c-s.rows[l].rowHeight;h&&(s.rows[l].rowHeight=c,e.selectAll("."+Fr.cn.columnCell).call(r7),t7(null,e.filter(e7),0),_w(r,n,!0)),o.attr("transform",function(){var v=this,b=v.parentNode,y=b.getBoundingClientRect(),x=ma.select(v.parentNode).select("."+Fr.cn.cellRect).node().getBoundingClientRect(),m=v.transform.baseVal.consolidate(),_=x.top-y.top+(m?m.matrix.f:Fr.cellPad);return sc(p_e(i,ma.select(v.parentNode).select("."+Fr.cn.cellTextHolder).node().getBoundingClientRect().width),_)}),i.settledY=!0}}}function p_e(e,t){switch(e.align){case"left":return Fr.cellPad;case"right":return e.column.columnWidth-(t||0)-Fr.cellPad;case"center":return(e.column.columnWidth-(t||0))/2;default:return Fr.cellPad}}function r7(e){e.attr("transform",function(t){var r=t.rowBlocks[0].auxiliaryBlocks.reduce(function(o,s){return o+h5(s,1/0)},0),n=QP(t),i=h5(n,t.key),a=i+r;return sc(0,a)}).selectAll("."+Fr.cn.cellRect).attr("height",function(t){return Ggt(QP(t),t.key).rowHeight})}function JP(e,t){for(var r=0,n=t-1;n>=0;n--)r+=Vgt(e[n]);return r}function h5(e,t){for(var r=0,n=0;n<e.rows.length&&e.rows[n].rowIndex<t;n++)r+=e.rows[n].rowHeight;return r}function Vgt(e){var t=e.allRowsHeight;if(t!==void 0)return t;for(var r=0,n=0;n<e.rows.length;n++)r+=e.rows[n].rowHeight;return e.allRowsHeight=r,r}function QP(e){return e.rowBlocks[e.page]}function Ggt(e,t){return e.rows[t-e.firstRowIndex]}});var m_e=$(d5=>{"use strict";var Ygt=Au().getModuleCalcData,Wgt=n7(),v5="table";d5.name=v5;d5.plot=function(e){var t=Ygt(e.calcdata,v5)[0];t.length&&Wgt(e,t)};d5.clean=function(e,t,r,n){var i=n._has&&n._has(v5),a=t._has&&t._has(v5);i&&!a&&n._paperdiv.selectAll(".table").remove()}});var x_e=$((h8t,y_e)=>{"use strict";y_e.exports={attributes:jP(),supplyDefaults:Ywe(),calc:Xwe(),plot:n7(),moduleType:"trace",name:"table",basePlotModule:m_e(),categories:["noOpacity"],meta:{description:["Table view for detailed data viewing.","The data are arranged in a grid of rows and columns.","Most styling can be specified for columns, rows or individual cells.","Table is using a column-major order, ie. the grid is represented as a vector of column vectors."].join(" ")}}});var w_e=$((v8t,b_e)=>{"use strict";b_e.exports=x_e()});var S_e=$((d8t,k_e)=>{"use strict";var i7=Ba(),__e=Ro(),T_e=xl(),Xgt=Ha().descriptionWithDates,Zgt=Fa().overrideAll,A_e=Ul().dash,M_e=ln().extendFlat;k_e.exports={color:{valType:"color",editType:"calc",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc",description:["Sets the title of this axis.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:i7({editType:"calc",description:["Sets this axis' title font.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),offset:{valType:"number",dflt:10,editType:"calc",description:["An additional amount by which to offset the title from the tick","labels, given in pixels.","Note that this used to be set","by the now deprecated `titleoffset` attribute."].join(" ")},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:T_e.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tickvals:{valType:"data_array",editType:"calc",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"calc",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc",description:["Determines whether axis labels are drawn on the low side,","the high side, both, or neither side of the axis."].join(" ")},tickfont:i7({editType:"calc",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"calc",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"calc",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"calc",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"calc",description:["Hide SI prefix for 10^n if |n| is below this number"].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"calc",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"calc",description:Xgt("tick label")},tickformatstops:Zgt(T_e.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},labelpadding:{valType:"integer",dflt:10,editType:"calc",description:"Extra padding between label and the axis"},labelprefix:{valType:"string",editType:"calc",description:"Sets a axis label prefix."},labelsuffix:{valType:"string",dflt:"",editType:"calc",description:"Sets a axis label suffix."},showline:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:__e.defaultLine,editType:"calc",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the axis line."},gridcolor:{valType:"color",editType:"calc",description:"Sets the axis line color."},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the axis line."},griddash:M_e({},A_e,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc",description:"Sets the number of minor grid ticks per major grid tick"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the grid lines."},minorgriddash:M_e({},A_e,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:__e.lightLine,editType:"calc",description:"Sets the color of the grid lines."},startline:{valType:"boolean",editType:"calc",description:["Determines whether or not a line is drawn at along the starting value","of this axis.","If *true*, the start line is drawn on top of the grid lines."].join(" ")},startlinecolor:{valType:"color",editType:"calc",description:"Sets the line color of the start line."},startlinewidth:{valType:"number",dflt:1,editType:"calc",description:"Sets the width (in px) of the start line."},endline:{valType:"boolean",editType:"calc",description:["Determines whether or not a line is drawn at along the final value","of this axis.","If *true*, the end line is drawn on top of the grid lines."].join(" ")},endlinewidth:{valType:"number",dflt:1,editType:"calc",description:"Sets the width (in px) of the end line."},endlinecolor:{valType:"color",editType:"calc",description:"Sets the line color of the end line."},tick0:{valType:"number",min:0,dflt:0,editType:"calc",description:"The starting index of grid lines along the axis"},dtick:{valType:"number",min:0,dflt:1,editType:"calc",description:"The stride between grid lines along the axis"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc",description:"The starting index of grid lines along the axis"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc",description:"The stride between grid lines along the axis"},_deprecated:{title:{valType:"string",editType:"calc",description:["Deprecated in favor of `title.text`.","Note that value of `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:i7({editType:"calc",description:"Deprecated in favor of `title.font`."}),titleoffset:{valType:"number",dflt:10,editType:"calc",description:"Deprecated in favor of `title.offset`."}},editType:"calc"}});var g5=$((p8t,C_e)=>{"use strict";var $gt=Ba(),E_e=S_e(),L_e=Ro(),p5=$gt({editType:"calc",description:"The default font used for axis & tick labels on this carpet"});p5.family.dflt='"Open Sans", verdana, arial, sans-serif';p5.size.dflt=12;p5.color.dflt=L_e.defaultLine;C_e.exports={carpet:{valType:"string",editType:"calc",description:["An identifier for this carpet, so that `scattercarpet` and","`contourcarpet` traces can specify a carpet plot on which","they lie"].join(" ")},x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["A two dimensional array of x coordinates at each carpet point.","If omitted, the plot is a cheater plot and the xaxis is hidden","by default."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"A two dimensional array of y coordinates at each carpet point."},a:{valType:"data_array",editType:"calc",description:["An array containing values of the first parameter value"].join(" ")},a0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `a`.","Builds a linear space of a coordinates.","Use with `da`","where `a0` is the starting coordinate and `da` the step."].join(" ")},da:{valType:"number",dflt:1,editType:"calc",description:["Sets the a coordinate step.","See `a0` for more info."].join(" ")},b:{valType:"data_array",editType:"calc",description:"A two dimensional array of y coordinates at each carpet point."},b0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `b`.","Builds a linear space of a coordinates.","Use with `db`","where `b0` is the starting coordinate and `db` the step."].join(" ")},db:{valType:"number",dflt:1,editType:"calc",description:["Sets the b coordinate step.","See `b0` for more info."].join(" ")},cheaterslope:{valType:"number",dflt:1,editType:"calc",description:["The shift applied to each successive row of data in creating a cheater plot.","Only used if `x` is been omitted."].join(" ")},aaxis:E_e,baxis:E_e,font:p5,color:{valType:"color",dflt:L_e.defaultLine,editType:"plot",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},transforms:void 0}});var R_e=$((g8t,q_e)=>{"use strict";var D_e=pt().isArray1D;q_e.exports=function(t,r,n){var i=n("x"),a=i&&i.length,o=n("y"),s=o&&o.length;if(!a&&!s)return!1;if(r._cheater=!i,(!a||D_e(i))&&(!s||D_e(o))){var l=a?i.length:1/0;s&&(l=Math.min(l,o.length)),r.a&&r.a.length&&(l=Math.min(l,r.a.length)),r.b&&r.b.length&&(l=Math.min(l,r.b.length)),r._length=l}else r._length=null;return!0}});var F_e=$((m8t,P_e)=>{"use strict";var Kgt=g5(),I_e=Rr().addOpacity,Jgt=Ir(),Tw=pt(),Qgt=ap(),e1t=op(),t1t=sp(),r1t=tA(),n1t=wv(),i1t=B1();P_e.exports=function(t,r,n){var i=n.letter,a=n.font||{},o=Kgt[i+"axis"];function s(M,T){return Tw.coerce(t,r,o,M,T)}function l(M,T){return Tw.coerce2(t,r,o,M,T)}n.name&&(r._name=n.name,r._id=n.name),s("autotypenumbers",n.autotypenumbersDflt);var u=s("type");if(u==="-"&&(n.data&&a1t(r,n.data),r.type==="-"?r.type="linear":u=t.type=r.type),s("smoothing"),s("cheatertype"),s("showticklabels"),s("labelprefix",i+" = "),s("labelsuffix"),s("showtickprefix"),s("showticksuffix"),s("separatethousands"),s("tickformat"),s("exponentformat"),s("minexponent"),s("showexponent"),s("categoryorder"),s("tickmode"),s("tickvals"),s("ticktext"),s("tick0"),s("dtick"),r.tickmode==="array"&&(s("arraytick0"),s("arraydtick")),s("labelpadding"),r._hovertitle=i,u==="date"){var f=Jgt.getComponentMethod("calendars","handleDefaults");f(t,r,"calendar",n.calendar)}n1t(r,n.fullLayout),r.c2p=Tw.identity;var c=s("color",n.dfltColor),h=c===t.color?c:a.color,v=s("title.text");v&&(Tw.coerceFont(s,"title.font",{family:a.family,size:Tw.bigFont(a.size),color:h}),s("title.offset")),s("tickangle");var b=s("autorange",!r.isValidRange(t.range));b&&s("rangemode"),s("range"),r.cleanRange(),s("fixedrange"),Qgt(t,r,s,u),t1t(t,r,s,u,n),e1t(t,r,s,u,n),r1t(t,r,s,{data:n.data,dataAttr:i});var y=l("gridcolor",I_e(c,.3)),x=l("gridwidth"),m=l("griddash"),_=s("showgrid");_||(delete r.gridcolor,delete r.gridwidth,delete r.griddash);var g=l("startlinecolor",c),A=l("startlinewidth",x),w=s("startline",r.showgrid||!!g||!!A);w||(delete r.startlinecolor,delete r.startlinewidth);var k=l("endlinecolor",c),p=l("endlinewidth",x),d=s("endline",r.showgrid||!!k||!!p);return d||(delete r.endlinecolor,delete r.endlinewidth),_?(s("minorgridcount"),s("minorgridwidth",x),s("minorgriddash",m),s("minorgridcolor",I_e(y,.06)),r.minorgridcount||(delete r.minorgridwidth,delete r.minorgriddash,delete r.minorgridcolor)):(delete r.gridcolor,delete r.gridwidth,delete r.griddash),r.showticklabels==="none"&&(delete r.tickfont,delete r.tickangle,delete r.showexponent,delete r.exponentformat,delete r.minexponent,delete r.tickformat,delete r.showticksuffix,delete r.showtickprefix),r.showticksuffix||delete r.ticksuffix,r.showtickprefix||delete r.tickprefix,s("tickmode"),r};function a1t(e,t){if(e.type==="-"){var r=e._id,n=r.charAt(0),i=n+"calendar",a=e[i];e.type=i1t(t,a,{autotypenumbers:e.autotypenumbers})}}});var z_e=$((y8t,N_e)=>{"use strict";var o1t=F_e(),s1t=bi();N_e.exports=function(t,r,n,i,a){var o=i("a");o||(i("da"),i("a0"));var s=i("b");s||(i("db"),i("b0")),l1t(t,r,n,a)};function l1t(e,t,r,n){var i=["aaxis","baxis"];i.forEach(function(a){var o=a.charAt(0),s=e[a]||{},l=s1t.newContainer(t,a),u={noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:t.font,name:a,data:e[o],calendar:t.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};o1t(s,l,u),l._categories=l._categories||[],!e[a]&&s.type!=="-"&&(e[a]={type:s.type})})}});var H_e=$((x8t,B_e)=>{"use strict";var O_e=pt(),u1t=R_e(),f1t=z_e(),c1t=g5(),h1t=Ro();B_e.exports=function(t,r,n,i){function a(l,u){return O_e.coerce(t,r,c1t,l,u)}r._clipPathId="clip"+r.uid+"carpet";var o=a("color",h1t.defaultLine);if(O_e.coerceFont(a,"font"),a("carpet"),f1t(t,r,i,a,o),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var s=u1t(t,r,a);s||(r.visible=!1),r._cheater&&a("cheaterslope")}});var a7=$((b8t,U_e)=>{"use strict";var v1t=pt().isArrayOrTypedArray;U_e.exports=function(t,r,n){var i;for(v1t(t)?t.length>r.length&&(t=t.slice(0,r.length)):t=[],i=0;i<r.length;i++)t[i]=n(r[i]);return t}});var o7=$((w8t,j_e)=>{"use strict";j_e.exports=function(t,r,n){if(t.length===0)return"";var i,a=[],o=n?3:1;for(i=0;i<t.length;i+=o)a.push(t[i]+","+r[i]),n&&i<t.length-o&&(a.push("C"),a.push([t[i+1]+","+r[i+1],t[i+2]+","+r[i+2]+" "].join(" ")));return a.join(n?"":"L")}});var G_e=$((_8t,V_e)=>{"use strict";V_e.exports=function(t,r,n,i,a,o){var s=a[0]*t.dpdx(r),l=a[1]*t.dpdy(n),u=1,f=1;if(o){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]),h=Math.sqrt(o[0]*o[0]+o[1]*o[1]),v=(a[0]*o[0]+a[1]*o[1])/c/h;f=Math.max(0,v)}var b=Math.atan2(l,s)*180/Math.PI;return b<-90?(b+=180,u=-u):b>90&&(b-=180,u=-u),{angle:b,flip:u,p:t.c2p(i,r,n),offsetMultplier:f}}});var Q_e=$((T8t,J_e)=>{"use strict";var b5=Nr(),m5=un(),y5=a7(),X_e=o7(),Aw=G_e(),s7=Ta(),Nu=pt(),Z_e=Nu.strRotate,x5=Nu.strTranslate,$_e=es();J_e.exports=function(t,r,n,i){var a=r.xaxis,o=r.yaxis,s=t._fullLayout,l=s._clips;Nu.makeTraceGroups(i,n,"trace").each(function(u){var f=b5.select(this),c=u[0],h=c.trace,v=h.aaxis,b=h.baxis,y=Nu.ensureSingle(f,"g","minorlayer"),x=Nu.ensureSingle(f,"g","majorlayer"),m=Nu.ensureSingle(f,"g","boundarylayer"),_=Nu.ensureSingle(f,"g","labellayer");f.style("opacity",h.opacity),My(a,o,x,v,"a",v._gridlines,!0),My(a,o,x,b,"b",b._gridlines,!0),My(a,o,y,v,"a",v._minorgridlines,!0),My(a,o,y,b,"b",b._minorgridlines,!0),My(a,o,m,v,"a-boundary",v._boundarylines),My(a,o,m,b,"b-boundary",b._boundarylines);var g=Y_e(t,a,o,h,c,_,v._labels,"a-label"),A=Y_e(t,a,o,h,c,_,b._labels,"b-label");p1t(t,_,h,c,a,o,g,A),d1t(h,c,l,a,o)})};function d1t(e,t,r,n,i){var a,o,s,l,u=r.select("#"+e._clipPathId);u.size()||(u=r.append("clipPath").classed("carpetclip",!0));var f=Nu.ensureSingle(u,"path","carpetboundary"),c=t.clipsegments,h=[];for(l=0;l<c.length;l++)a=c[l],o=y5([],a.x,n.c2p),s=y5([],a.y,i.c2p),h.push(X_e(o,s,a.bicubic));var v="M"+h.join("L")+"Z";u.attr("id",e._clipPathId),f.attr("d",v)}function My(e,t,r,n,i,a){var o="const-"+i+"-lines",s=r.selectAll("."+o).data(a);s.enter().append("path").classed(o,!0).style("vector-effect","non-scaling-stroke"),s.each(function(l){var u=l,f=u.x,c=u.y,h=y5([],f,e.c2p),v=y5([],c,t.c2p),b="M"+X_e(h,v,u.smoothing),y=b5.select(this);y.attr("d",b).style("stroke-width",u.width).style("stroke",u.color).style("stroke-dasharray",m5.dashStyle(u.dash,u.width)).style("fill","none")}),s.exit().remove()}function Y_e(e,t,r,n,i,a,o,s){var l=a.selectAll("text."+s).data(o);l.enter().append("text").classed(s,!0);var u=0,f={};return l.each(function(c,h){var v;if(c.axis.tickangle==="auto")v=Aw(n,t,r,c.xy,c.dxy);else{var b=(c.axis.tickangle+180)*Math.PI/180;v=Aw(n,t,r,c.xy,[Math.cos(b),Math.sin(b)])}h||(f={angle:v.angle,flip:v.flip});var y=(c.endAnchor?-1:1)*v.flip,x=b5.select(this).attr({"text-anchor":y>0?"start":"end","data-notex":1}).call(m5.font,c.font).text(c.text).call(s7.convertToTspans,e),m=m5.bBox(this);x.attr("transform",x5(v.p[0],v.p[1])+Z_e(v.angle)+x5(c.axis.labelpadding*y,m.height*.3)),u=Math.max(u,m.width+c.axis.labelpadding)}),l.exit().remove(),f.maxExtent=u,f}function p1t(e,t,r,n,i,a,o,s){var l,u,f,c,h=Nu.aggNums(Math.min,null,r.a),v=Nu.aggNums(Math.max,null,r.a),b=Nu.aggNums(Math.min,null,r.b),y=Nu.aggNums(Math.max,null,r.b);l=.5*(h+v),u=b,f=r.ab2xy(l,u,!0),c=r.dxyda_rough(l,u),o.angle===void 0&&Nu.extendFlat(o,Aw(r,i,a,f,r.dxydb_rough(l,u))),W_e(e,t,r,n,f,c,r.aaxis,i,a,o,"a-title"),l=h,u=.5*(b+y),f=r.ab2xy(l,u,!0),c=r.dxydb_rough(l,u),s.angle===void 0&&Nu.extendFlat(s,Aw(r,i,a,f,r.dxyda_rough(l,u))),W_e(e,t,r,n,f,c,r.baxis,i,a,s,"b-title")}var K_e=$_e.LINE_SPACING,g1t=(1-$_e.MID_SHIFT)/K_e+1;function W_e(e,t,r,n,i,a,o,s,l,u,f){var c=[];o.title.text&&c.push(o.title.text);var h=t.selectAll("text."+f).data(c),v=u.maxExtent;h.enter().append("text").classed(f,!0),h.each(function(){var b=Aw(r,s,l,i,a);["start","both"].indexOf(o.showticklabels)===-1&&(v=0);var y=o.title.font.size;v+=y+o.title.offset;var x=u.angle+(u.flip<0?180:0),m=(x-b.angle+450)%360,_=m>90&&m<270,g=b5.select(this);g.text(o.title.text).call(s7.convertToTspans,e),_&&(v=(-s7.lineCount(g)+g1t)*K_e*y-v),g.attr("transform",x5(b.p[0],b.p[1])+Z_e(b.angle)+x5(0,v)).attr("text-anchor","middle").call(m5.font,o.title.font)}),h.exit().remove()}});var t3e=$((A8t,e3e)=>{"use strict";var w5=pt().isArrayOrTypedArray;e3e.exports=function(e,t,r){var n,i,a,o,s,l,u=[],f=w5(e)?e.length:e,c=w5(t)?t.length:t,h=w5(e)?e:null,v=w5(t)?t:null;h&&(a=(h.length-1)/(h[h.length-1]-h[0])/(f-1)),v&&(o=(v.length-1)/(v[v.length-1]-v[0])/(c-1));var b,y=1/0,x=-1/0;for(i=0;i<c;i++)for(u[i]=[],l=v?(v[i]-v[0])*o:i/(c-1),n=0;n<f;n++)s=h?(h[n]-h[0])*a:n/(f-1),b=s-l*r,y=Math.min(b,y),x=Math.max(b,x),u[i][n]=b;var m=1/(x-y),_=-y*m;for(i=0;i<c;i++)for(n=0;n<f;n++)u[i][n]=m*u[i][n]+_;return u}});var a3e=$((M8t,i3e)=>{"use strict";var r3e=pt().isArrayOrTypedArray;i3e.exports=function(e){return n3e(e,0)};function n3e(e,t){if(!r3e(e)||t>=10)return null;for(var r=1/0,n=-1/0,i=e.length,a=0;a<i;a++){var o=e[a];if(r3e(o)){var s=n3e(o,t+1);s&&(r=Math.min(s[0],r),n=Math.max(s[1],n))}else r=Math.min(o,r),n=Math.max(o,n)}return[r,n]}});var s3e=$((k8t,o3e)=>{"use strict";var m1t=tn(),x0=ln().extendFlat;o3e.exports=function(t,r,n){var i,a,o,s,l,u,f,c,h,v,b,y,x,m,_=t["_"+r],g=t[r+"axis"],A=g._gridlines=[],w=g._minorgridlines=[],k=g._boundarylines=[],p=t["_"+n],d=t[n+"axis"];g.tickmode==="array"&&(g.tickvals=_.slice());var M=t._xctrl,T=t._yctrl,S=M[0].length,E=M.length,L=t._a.length,D=t._b.length;m1t.prepTicks(g),g.tickmode==="array"&&delete g.tickvals;var R=g.smoothing?3:1;function q(F){var N,U,V,Y,K,B,z,j,ae,ee,ve,fe,se=[],G=[],Z={};if(r==="b")for(U=t.b2j(F),V=Math.floor(Math.max(0,Math.min(D-2,U))),Y=U-V,Z.length=D,Z.crossLength=L,Z.xy=function(X){return t.evalxy([],X,U)},Z.dxy=function(X,ge){return t.dxydi([],X,V,ge,Y)},N=0;N<L;N++)B=Math.min(L-2,N),z=N-B,j=t.evalxy([],N,U),d.smoothing&&N>0&&(ae=t.dxydi([],N-1,V,0,Y),se.push(K[0]+ae[0]/3),G.push(K[1]+ae[1]/3),ee=t.dxydi([],N-1,V,1,Y),se.push(j[0]-ee[0]/3),G.push(j[1]-ee[1]/3)),se.push(j[0]),G.push(j[1]),K=j;else for(N=t.a2i(F),B=Math.floor(Math.max(0,Math.min(L-2,N))),z=N-B,Z.length=L,Z.crossLength=D,Z.xy=function(X){return t.evalxy([],N,X)},Z.dxy=function(X,ge){return t.dxydj([],B,X,z,ge)},U=0;U<D;U++)V=Math.min(D-2,U),Y=U-V,j=t.evalxy([],N,U),d.smoothing&&U>0&&(ve=t.dxydj([],B,U-1,z,0),se.push(K[0]+ve[0]/3),G.push(K[1]+ve[1]/3),fe=t.dxydj([],B,U-1,z,1),se.push(j[0]-fe[0]/3),G.push(j[1]-fe[1]/3)),se.push(j[0]),G.push(j[1]),K=j;return Z.axisLetter=r,Z.axis=g,Z.crossAxis=d,Z.value=F,Z.constvar=n,Z.index=c,Z.x=se,Z.y=G,Z.smoothing=d.smoothing,Z}function C(F){var N,U,V,Y,K,B=[],z=[],j={};if(j.length=_.length,j.crossLength=p.length,r==="b")for(V=Math.max(0,Math.min(D-2,F)),K=Math.min(1,Math.max(0,F-V)),j.xy=function(ae){return t.evalxy([],ae,F)},j.dxy=function(ae,ee){return t.dxydi([],ae,V,ee,K)},N=0;N<S;N++)B[N]=M[F*R][N],z[N]=T[F*R][N];else for(U=Math.max(0,Math.min(L-2,F)),Y=Math.min(1,Math.max(0,F-U)),j.xy=function(ae){return t.evalxy([],F,ae)},j.dxy=function(ae,ee){return t.dxydj([],U,ae,Y,ee)},N=0;N<E;N++)B[N]=M[N][F*R],z[N]=T[N][F*R];return j.axisLetter=r,j.axis=g,j.crossAxis=d,j.value=_[F],j.constvar=n,j.index=F,j.x=B,j.y=z,j.smoothing=d.smoothing,j}if(g.tickmode==="array"){for(s=5e-15,l=[Math.floor((_.length-1-g.arraytick0)/g.arraydtick*(1+s)),Math.ceil(-g.arraytick0/g.arraydtick/(1+s))].sort(function(F,N){return F-N}),u=l[0]-1,f=l[1]+1,c=u;c<f;c++)a=g.arraytick0+g.arraydtick*c,!(a<0||a>_.length-1)&&A.push(x0(C(a),{color:g.gridcolor,width:g.gridwidth,dash:g.griddash}));for(c=u;c<f;c++)if(o=g.arraytick0+g.arraydtick*c,b=Math.min(o+g.arraydtick,_.length-1),!(o<0||o>_.length-1)&&!(b<0||b>_.length-1))for(y=_[o],x=_[b],i=0;i<g.minorgridcount;i++)m=b-o,!(m<=0)&&(v=y+(x-y)*(i+1)/(g.minorgridcount+1)*(g.arraydtick/m),!(v<_[0]||v>_[_.length-1])&&w.push(x0(q(v),{color:g.minorgridcolor,width:g.minorgridwidth,dash:g.minorgriddash})));g.startline&&k.push(x0(C(0),{color:g.startlinecolor,width:g.startlinewidth})),g.endline&&k.push(x0(C(_.length-1),{color:g.endlinecolor,width:g.endlinewidth}))}else{for(s=5e-15,l=[Math.floor((_[_.length-1]-g.tick0)/g.dtick*(1+s)),Math.ceil((_[0]-g.tick0)/g.dtick/(1+s))].sort(function(F,N){return F-N}),u=l[0],f=l[1],c=u;c<=f;c++)h=g.tick0+g.dtick*c,A.push(x0(q(h),{color:g.gridcolor,width:g.gridwidth,dash:g.griddash}));for(c=u-1;c<f+1;c++)for(h=g.tick0+g.dtick*c,i=0;i<g.minorgridcount;i++)v=h+g.dtick*(i+1)/(g.minorgridcount+1),!(v<_[0]||v>_[_.length-1])&&w.push(x0(q(v),{color:g.minorgridcolor,width:g.minorgridwidth,dash:g.minorgriddash}));g.startline&&k.push(x0(q(_[0]),{color:g.startlinecolor,width:g.startlinewidth})),g.endline&&k.push(x0(q(_[_.length-1]),{color:g.endlinecolor,width:g.endlinewidth}))}}});var c3e=$((S8t,f3e)=>{"use strict";var l3e=tn(),u3e=ln().extendFlat;f3e.exports=function(t,r){var n,i,a,o,s,l=r._labels=[],u=r._gridlines;for(n=0;n<u.length;n++)s=u[n],["start","both"].indexOf(r.showticklabels)!==-1&&(i=l3e.tickText(r,s.value),u3e(i,{prefix:a,suffix:o,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:n===0,isLast:n===u.length-1}),l.push(i)),["end","both"].indexOf(r.showticklabels)!==-1&&(i=l3e.tickText(r,s.value),u3e(i,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:n===0,isLast:n===u.length-1}),l.push(i))}});var v3e=$((E8t,h3e)=>{"use strict";h3e.exports=function(t,r,n,i){var a,o,s,l=[],u=!!n.smoothing,f=!!i.smoothing,c=t[0].length-1,h=t.length-1;for(a=0,o=[],s=[];a<=c;a++)o[a]=t[0][a],s[a]=r[0][a];for(l.push({x:o,y:s,bicubic:u}),a=0,o=[],s=[];a<=h;a++)o[a]=t[a][c],s[a]=r[a][c];for(l.push({x:o,y:s,bicubic:f}),a=c,o=[],s=[];a>=0;a--)o[c-a]=t[h][a],s[c-a]=r[h][a];for(l.push({x:o,y:s,bicubic:u}),a=h,o=[],s=[];a>=0;a--)o[h-a]=t[a][0],s[h-a]=r[a][0];return l.push({x:o,y:s,bicubic:f}),l}});var p3e=$((L8t,d3e)=>{"use strict";var y1t=pt();d3e.exports=function(t,r,n){var i,a,o,s=[],l=[],u=t[0].length,f=t.length;function c(V,Y){var K=0,B,z=0;return V>0&&(B=t[Y][V-1])!==void 0&&(z++,K+=B),V<u-1&&(B=t[Y][V+1])!==void 0&&(z++,K+=B),Y>0&&(B=t[Y-1][V])!==void 0&&(z++,K+=B),Y<f-1&&(B=t[Y+1][V])!==void 0&&(z++,K+=B),K/Math.max(1,z)}var h=0;for(i=0;i<u;i++)for(a=0;a<f;a++)t[a][i]===void 0&&(s.push(i),l.push(a),t[a][i]=c(i,a)),h=Math.max(h,Math.abs(t[a][i]));if(!s.length)return t;var v,b,y,x,m,_,g,A,w,k,p,d=1e-5,M=0,T=100,S=0,E=s.length;do{for(M=0,o=0;o<E;o++){i=s[o],a=l[o];var L=0,D=0,R,q,C,F,N,U;i===0?(N=Math.min(u-1,2),C=r[N],F=r[1],R=t[a][N],q=t[a][1],D+=q+(q-R)*(r[0]-F)/(F-C),L++):i===u-1&&(N=Math.max(0,u-3),C=r[N],F=r[u-2],R=t[a][N],q=t[a][u-2],D+=q+(q-R)*(r[u-1]-F)/(F-C),L++),(i===0||i===u-1)&&a>0&&a<f-1&&(v=n[a+1]-n[a],b=n[a]-n[a-1],D+=(b*t[a+1][i]+v*t[a-1][i])/(b+v),L++),a===0?(U=Math.min(f-1,2),C=n[U],F=n[1],R=t[U][i],q=t[1][i],D+=q+(q-R)*(n[0]-F)/(F-C),L++):a===f-1&&(U=Math.max(0,f-3),C=n[U],F=n[f-2],R=t[U][i],q=t[f-2][i],D+=q+(q-R)*(n[f-1]-F)/(F-C),L++),(a===0||a===f-1)&&i>0&&i<u-1&&(v=r[i+1]-r[i],b=r[i]-r[i-1],D+=(b*t[a][i+1]+v*t[a][i-1])/(b+v),L++),L?D/=L:(y=r[i+1]-r[i],x=r[i]-r[i-1],m=n[a+1]-n[a],_=n[a]-n[a-1],g=y*x*(y+x),A=m*_*(m+_),D=(g*(_*t[a+1][i]+m*t[a-1][i])+A*(x*t[a][i+1]+y*t[a][i-1]))/(A*(x+y)+g*(_+m))),w=D-t[a][i],k=w/h,M+=k*k,p=L?0:.85,t[a][i]+=w*(1+p)}M=Math.sqrt(M)}while(S++<T&&M>d);return y1t.log("Smoother converged to",M,"after",S,"iterations"),t}});var m3e=$((C8t,g3e)=>{"use strict";g3e.exports={RELATIVE_CULL_TOLERANCE:1e-6}});var b3e=$((D8t,x3e)=>{"use strict";var y3e=.5;x3e.exports=function(t,r,n,i){var a=t[0]-r[0],o=t[1]-r[1],s=n[0]-r[0],l=n[1]-r[1],u=Math.pow(a*a+o*o,y3e/2),f=Math.pow(s*s+l*l,y3e/2),c=(f*f*a-u*u*s)*i,h=(f*f*o-u*u*l)*i,v=f*(u+f)*3,b=u*(u+f)*3;return[[r[0]+(v&&c/v),r[1]+(v&&h/v)],[r[0]-(b&&c/b),r[1]-(b&&h/b)]]}});var _3e=$((q8t,w3e)=>{"use strict";var l7=b3e(),_5=pt().ensureArray;function ky(e,t,r){var n=-.5*r[0]+1.5*t[0],i=-.5*r[1]+1.5*t[1];return[(2*n+e[0])/3,(2*i+e[1])/3]}w3e.exports=function(t,r,n,i,a,o){var s,l,u,f,c,h,v,b,y,x,m=n[0].length,_=n.length,g=a?3*m-2:m,A=o?3*_-2:_;for(t=_5(t,A),r=_5(r,A),u=0;u<A;u++)t[u]=_5(t[u],g),r[u]=_5(r[u],g);for(l=0,f=0;l<_;l++,f+=o?3:1)for(c=t[f],h=r[f],v=n[l],b=i[l],s=0,u=0;s<m;s++,u+=a?3:1)c[u]=v[s],h[u]=b[s];if(a)for(l=0,f=0;l<_;l++,f+=o?3:1){for(s=1,u=3;s<m-1;s++,u+=3)y=l7([n[l][s-1],i[l][s-1]],[n[l][s],i[l][s]],[n[l][s+1],i[l][s+1]],a),t[f][u-1]=y[0][0],r[f][u-1]=y[0][1],t[f][u+1]=y[1][0],r[f][u+1]=y[1][1];x=ky([t[f][0],r[f][0]],[t[f][2],r[f][2]],[t[f][3],r[f][3]]),t[f][1]=x[0],r[f][1]=x[1],x=ky([t[f][g-1],r[f][g-1]],[t[f][g-3],r[f][g-3]],[t[f][g-4],r[f][g-4]]),t[f][g-2]=x[0],r[f][g-2]=x[1]}if(o)for(u=0;u<g;u++){for(f=3;f<A-3;f+=3)y=l7([t[f-3][u],r[f-3][u]],[t[f][u],r[f][u]],[t[f+3][u],r[f+3][u]],o),t[f-1][u]=y[0][0],r[f-1][u]=y[0][1],t[f+1][u]=y[1][0],r[f+1][u]=y[1][1];x=ky([t[0][u],r[0][u]],[t[2][u],r[2][u]],[t[3][u],r[3][u]]),t[1][u]=x[0],r[1][u]=x[1],x=ky([t[A-1][u],r[A-1][u]],[t[A-3][u],r[A-3][u]],[t[A-4][u],r[A-4][u]]),t[A-2][u]=x[0],r[A-2][u]=x[1]}if(a&&o)for(f=1;f<A;f+=(f+1)%3===0?2:1){for(u=3;u<g-3;u+=3)y=l7([t[f][u-3],r[f][u-3]],[t[f][u],r[f][u]],[t[f][u+3],r[f][u+3]],a),t[f][u-1]=.5*(t[f][u-1]+y[0][0]),r[f][u-1]=.5*(r[f][u-1]+y[0][1]),t[f][u+1]=.5*(t[f][u+1]+y[1][0]),r[f][u+1]=.5*(r[f][u+1]+y[1][1]);x=ky([t[f][0],r[f][0]],[t[f][2],r[f][2]],[t[f][3],r[f][3]]),t[f][1]=.5*(t[f][1]+x[0]),r[f][1]=.5*(r[f][1]+x[1]),x=ky([t[f][g-1],r[f][g-1]],[t[f][g-3],r[f][g-3]],[t[f][g-4],r[f][g-4]]),t[f][g-2]=.5*(t[f][g-2]+x[0]),r[f][g-2]=.5*(r[f][g-2]+x[1])}return[t,r]}});var A3e=$((R8t,T3e)=>{"use strict";T3e.exports=function(e,t,r,n,i){var a=t-2,o=r-2;return n&&i?function(s,l,u){s||(s=[]);var f,c,h,v,b,y,x=Math.max(0,Math.min(Math.floor(l),a)),m=Math.max(0,Math.min(Math.floor(u),o)),_=Math.max(0,Math.min(1,l-x)),g=Math.max(0,Math.min(1,u-m));x*=3,m*=3;var A=_*_,w=A*_,k=1-_,p=k*k,d=p*k,M=g*g,T=M*g,S=1-g,E=S*S,L=E*S;for(y=0;y<e.length;y++)b=e[y],f=d*b[m][x]+3*(p*_*b[m][x+1]+k*A*b[m][x+2])+w*b[m][x+3],c=d*b[m+1][x]+3*(p*_*b[m+1][x+1]+k*A*b[m+1][x+2])+w*b[m+1][x+3],h=d*b[m+2][x]+3*(p*_*b[m+2][x+1]+k*A*b[m+2][x+2])+w*b[m+2][x+3],v=d*b[m+3][x]+3*(p*_*b[m+3][x+1]+k*A*b[m+3][x+2])+w*b[m+3][x+3],s[y]=L*f+3*(E*g*c+S*M*h)+T*v;return s}:n?function(s,l,u){s||(s=[]);var f=Math.max(0,Math.min(Math.floor(l),a)),c=Math.max(0,Math.min(Math.floor(u),o)),h=Math.max(0,Math.min(1,l-f)),v=Math.max(0,Math.min(1,u-c)),b,y,x,m,_,g;f*=3;var A=h*h,w=A*h,k=1-h,p=k*k,d=p*k,M=1-v;for(_=0;_<e.length;_++)g=e[_],b=M*g[c][f]+v*g[c+1][f],y=M*g[c][f+1]+v*g[c+1][f+1],x=M*g[c][f+2]+v*g[c+1][f+1],m=M*g[c][f+3]+v*g[c+1][f+1],s[_]=d*b+3*(p*h*y+k*A*x)+w*m;return s}:i?function(s,l,u){s||(s=[]);var f=Math.max(0,Math.min(Math.floor(l),a)),c=Math.max(0,Math.min(Math.floor(u),o)),h=Math.max(0,Math.min(1,l-f)),v=Math.max(0,Math.min(1,u-c)),b,y,x,m,_,g;c*=3;var A=v*v,w=A*v,k=1-v,p=k*k,d=p*k,M=1-h;for(_=0;_<e.length;_++)g=e[_],b=M*g[c][f]+h*g[c][f+1],y=M*g[c+1][f]+h*g[c+1][f+1],x=M*g[c+2][f]+h*g[c+2][f+1],m=M*g[c+3][f]+h*g[c+3][f+1],s[_]=d*b+3*(p*v*y+k*A*x)+w*m;return s}:function(s,l,u){s||(s=[]);var f=Math.max(0,Math.min(Math.floor(l),a)),c=Math.max(0,Math.min(Math.floor(u),o)),h=Math.max(0,Math.min(1,l-f)),v=Math.max(0,Math.min(1,u-c)),b,y,x,m,_=1-v,g=1-h;for(x=0;x<e.length;x++)m=e[x],b=g*m[c][f]+h*m[c][f+1],y=g*m[c+1][f]+h*m[c+1][f+1],s[x]=_*b+v*y;return s}}});var k3e=$((I8t,M3e)=>{"use strict";M3e.exports=function(e,t,r){return t&&r?function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h,v;i*=3,a*=3;var b=o*o,y=1-o,x=y*y,m=y*o*2,_=-3*x,g=3*(x-m),A=3*(m-b),w=3*b,k=s*s,p=k*s,d=1-s,M=d*d,T=M*d;for(v=0;v<e.length;v++)h=e[v],l=_*h[a][i]+g*h[a][i+1]+A*h[a][i+2]+w*h[a][i+3],u=_*h[a+1][i]+g*h[a+1][i+1]+A*h[a+1][i+2]+w*h[a+1][i+3],f=_*h[a+2][i]+g*h[a+2][i+1]+A*h[a+2][i+2]+w*h[a+2][i+3],c=_*h[a+3][i]+g*h[a+3][i+1]+A*h[a+3][i+2]+w*h[a+3][i+3],n[v]=T*l+3*(M*s*u+d*k*f)+p*c;return n}:t?function(n,i,a,o,s){n||(n=[]);var l,u,f,c;i*=3;var h=o*o,v=1-o,b=v*v,y=v*o*2,x=-3*b,m=3*(b-y),_=3*(y-h),g=3*h,A=1-s;for(f=0;f<e.length;f++)c=e[f],l=x*c[a][i]+m*c[a][i+1]+_*c[a][i+2]+g*c[a][i+3],u=x*c[a+1][i]+m*c[a+1][i+1]+_*c[a+1][i+2]+g*c[a+1][i+3],n[f]=A*l+s*u;return n}:r?function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h,v;a*=3;var b=s*s,y=b*s,x=1-s,m=x*x,_=m*x;for(h=0;h<e.length;h++)v=e[h],l=v[a][i+1]-v[a][i],u=v[a+1][i+1]-v[a+1][i],f=v[a+2][i+1]-v[a+2][i],c=v[a+3][i+1]-v[a+3][i],n[h]=_*l+3*(m*s*u+x*b*f)+y*c;return n}:function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h=1-s;for(f=0;f<e.length;f++)c=e[f],l=c[a][i+1]-c[a][i],u=c[a+1][i+1]-c[a+1][i],n[f]=h*l+s*u;return n}}});var E3e=$((P8t,S3e)=>{"use strict";S3e.exports=function(e,t,r){return t&&r?function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h,v;i*=3,a*=3;var b=o*o,y=b*o,x=1-o,m=x*x,_=m*x,g=s*s,A=1-s,w=A*A,k=A*s*2,p=-3*w,d=3*(w-k),M=3*(k-g),T=3*g;for(v=0;v<e.length;v++)h=e[v],l=p*h[a][i]+d*h[a+1][i]+M*h[a+2][i]+T*h[a+3][i],u=p*h[a][i+1]+d*h[a+1][i+1]+M*h[a+2][i+1]+T*h[a+3][i+1],f=p*h[a][i+2]+d*h[a+1][i+2]+M*h[a+2][i+2]+T*h[a+3][i+2],c=p*h[a][i+3]+d*h[a+1][i+3]+M*h[a+2][i+3]+T*h[a+3][i+3],n[v]=_*l+3*(m*o*u+x*b*f)+y*c;return n}:t?function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h,v;i*=3;var b=s*s,y=b*s,x=1-s,m=x*x,_=m*x;for(h=0;h<e.length;h++)v=e[h],l=v[a+1][i]-v[a][i],u=v[a+1][i+1]-v[a][i+1],f=v[a+1][i+2]-v[a][i+2],c=v[a+1][i+3]-v[a][i+3],n[h]=_*l+3*(m*s*u+x*b*f)+y*c;return n}:r?function(n,i,a,o,s){n||(n=[]);var l,u,f,c;a*=3;var h=1-o,v=s*s,b=1-s,y=b*b,x=b*s*2,m=-3*y,_=3*(y-x),g=3*(x-v),A=3*v;for(f=0;f<e.length;f++)c=e[f],l=m*c[a][i]+_*c[a+1][i]+g*c[a+2][i]+A*c[a+3][i],u=m*c[a][i+1]+_*c[a+1][i+1]+g*c[a+2][i+1]+A*c[a+3][i+1],n[f]=h*l+o*u;return n}:function(n,i,a,o,s){n||(n=[]);var l,u,f,c,h=1-o;for(f=0;f<e.length;f++)c=e[f],l=c[a+1][i]-c[a][i],u=c[a+1][i+1]-c[a][i+1],n[f]=h*l+o*u;return n}}});var q3e=$((F8t,D3e)=>{"use strict";var L3e=m3e(),C3e=e3().findBin,x1t=_3e(),b1t=A3e(),w1t=k3e(),_1t=E3e();D3e.exports=function(t){var r=t._a,n=t._b,i=r.length,a=n.length,o=t.aaxis,s=t.baxis,l=r[0],u=r[i-1],f=n[0],c=n[a-1],h=r[r.length-1]-r[0],v=n[n.length-1]-n[0],b=h*L3e.RELATIVE_CULL_TOLERANCE,y=v*L3e.RELATIVE_CULL_TOLERANCE;l-=b,u+=b,f-=y,c+=y,t.isVisible=function(x,m){return x>l&&x<u&&m>f&&m<c},t.isOccluded=function(x,m){return x<l||x>u||m<f||m>c},t.setScale=function(){var x=t._x,m=t._y,_=x1t(t._xctrl,t._yctrl,x,m,o.smoothing,s.smoothing);t._xctrl=_[0],t._yctrl=_[1],t.evalxy=b1t([t._xctrl,t._yctrl],i,a,o.smoothing,s.smoothing),t.dxydi=w1t([t._xctrl,t._yctrl],o.smoothing,s.smoothing),t.dxydj=_1t([t._xctrl,t._yctrl],o.smoothing,s.smoothing)},t.i2a=function(x){var m=Math.max(0,Math.floor(x[0]),i-2),_=x[0]-m;return(1-_)*r[m]+_*r[m+1]},t.j2b=function(x){var m=Math.max(0,Math.floor(x[1]),i-2),_=x[1]-m;return(1-_)*n[m]+_*n[m+1]},t.ij2ab=function(x){return[t.i2a(x[0]),t.j2b(x[1])]},t.a2i=function(x){var m=Math.max(0,Math.min(C3e(x,r),i-2)),_=r[m],g=r[m+1];return Math.max(0,Math.min(i-1,m+(x-_)/(g-_)))},t.b2j=function(x){var m=Math.max(0,Math.min(C3e(x,n),a-2)),_=n[m],g=n[m+1];return Math.max(0,Math.min(a-1,m+(x-_)/(g-_)))},t.ab2ij=function(x){return[t.a2i(x[0]),t.b2j(x[1])]},t.i2c=function(x,m){return t.evalxy([],x,m)},t.ab2xy=function(x,m,_){if(!_&&(x<r[0]||x>r[i-1]|m<n[0]||m>n[a-1]))return[!1,!1];var g=t.a2i(x),A=t.b2j(m),w=t.evalxy([],g,A);if(_){var k=0,p=0,d=[],M,T,S,E;x<r[0]?(M=0,T=0,k=(x-r[0])/(r[1]-r[0])):x>r[i-1]?(M=i-2,T=1,k=(x-r[i-1])/(r[i-1]-r[i-2])):(M=Math.max(0,Math.min(i-2,Math.floor(g))),T=g-M),m<n[0]?(S=0,E=0,p=(m-n[0])/(n[1]-n[0])):m>n[a-1]?(S=a-2,E=1,p=(m-n[a-1])/(n[a-1]-n[a-2])):(S=Math.max(0,Math.min(a-2,Math.floor(A))),E=A-S),k&&(t.dxydi(d,M,S,T,E),w[0]+=d[0]*k,w[1]+=d[1]*k),p&&(t.dxydj(d,M,S,T,E),w[0]+=d[0]*p,w[1]+=d[1]*p)}return w},t.c2p=function(x,m,_){return[m.c2p(x[0]),_.c2p(x[1])]},t.p2x=function(x,m,_){return[m.p2c(x[0]),_.p2c(x[1])]},t.dadi=function(x){var m=Math.max(0,Math.min(r.length-2,x));return r[m+1]-r[m]},t.dbdj=function(x){var m=Math.max(0,Math.min(n.length-2,x));return n[m+1]-n[m]},t.dxyda=function(x,m,_,g){var A=t.dxydi(null,x,m,_,g),w=t.dadi(x,_);return[A[0]/w,A[1]/w]},t.dxydb=function(x,m,_,g){var A=t.dxydj(null,x,m,_,g),w=t.dbdj(m,g);return[A[0]/w,A[1]/w]},t.dxyda_rough=function(x,m,_){var g=h*(_||.1),A=t.ab2xy(x+g,m,!0),w=t.ab2xy(x-g,m,!0);return[(A[0]-w[0])*.5/g,(A[1]-w[1])*.5/g]},t.dxydb_rough=function(x,m,_){var g=v*(_||.1),A=t.ab2xy(x,m+g,!0),w=t.ab2xy(x,m-g,!0);return[(A[0]-w[0])*.5/g,(A[1]-w[1])*.5/g]},t.dpdx=function(x){return x._m},t.dpdy=function(x){return x._m}}});var B3e=$((N8t,O3e)=>{"use strict";var T5=tn(),R3e=pt().isArray1D,T1t=t3e(),I3e=a3e(),P3e=s3e(),F3e=c3e(),A1t=v3e(),N3e=rM(),z3e=p3e(),M1t=eM(),k1t=q3e();O3e.exports=function(t,r){var n=T5.getFromId(t,r.xaxis),i=T5.getFromId(t,r.yaxis),a=r.aaxis,o=r.baxis,s=r.x,l=r.y,u=[];s&&R3e(s)&&u.push("x"),l&&R3e(l)&&u.push("y"),u.length&&M1t(r,a,o,"a","b",u);var f=r._a=r._a||r.a,c=r._b=r._b||r.b;s=r._x||r.x,l=r._y||r.y;var h={};if(r._cheater){var v=a.cheatertype==="index"?f.length:f,b=o.cheatertype==="index"?c.length:c;s=T1t(v,b,r.cheaterslope)}r._x=s=N3e(s),r._y=l=N3e(l),z3e(s,f,c),z3e(l,f,c),k1t(r),r.setScale();var y=I3e(s),x=I3e(l),m=.5*(y[1]-y[0]),_=.5*(y[1]+y[0]),g=.5*(x[1]-x[0]),A=.5*(x[1]+x[0]),w=1.3;return y=[_-m*w,_+m*w],x=[A-g*w,A+g*w],r._extremes[n._id]=T5.findExtremes(n,y,{padded:!0}),r._extremes[i._id]=T5.findExtremes(i,x,{padded:!0}),P3e(r,"a","b"),P3e(r,"b","a"),F3e(r,a),F3e(r,o),h.clipsegments=A1t(r._xctrl,r._yctrl,a,o),h.x=s,h.y=l,h.a=f,h.b=c,[h]}});var U3e=$((z8t,H3e)=>{"use strict";H3e.exports={attributes:g5(),supplyDefaults:H_e(),plot:Q_e(),calc:B3e(),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:as(),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{description:["The data describing carpet axis layout is set in `y` and (optionally)","also `x`. If only `y` is present, `x` the plot is interpreted as a","cheater plot and is filled in using the `y` values.","`x` and `y` may either be 2D arrays matching with each dimension matching","that of `a` and `b`, or they may be 1D arrays with total length equal to","that of `a` and `b`."].join(" ")}}});var V3e=$((O8t,j3e)=>{"use strict";j3e.exports=U3e()});var u7=$((B8t,Y3e)=>{"use strict";var _f=Ps(),S1t=aa(),E1t=Yn().hovertemplateAttrs,L1t=Yn().texttemplateAttrs,G3e=Ma(),b0=ln().extendFlat,Zv=_f.marker,Mw=_f.line,C1t=Zv.line;Y3e.exports={carpet:{valType:"string",editType:"calc",description:["An identifier for this carpet, so that `scattercarpet` and","`contourcarpet` traces can specify a carpet plot on which","they lie"].join(" ")},a:{valType:"data_array",editType:"calc",description:"Sets the a-axis coordinates."},b:{valType:"data_array",editType:"calc",description:"Sets the b-axis coordinates."},mode:b0({},_f.mode,{dflt:"markers"}),text:b0({},_f.text,{description:["Sets text elements associated with each (a,b) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b).","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:L1t({editType:"plot"},{keys:["a","b","text"]}),hovertext:b0({},_f.hovertext,{description:["Sets hover text elements associated with each (a,b) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b).","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),line:{color:Mw.color,width:Mw.width,dash:Mw.dash,shape:b0({},Mw.shape,{values:["linear","spline"]}),smoothing:Mw.smoothing,editType:"calc"},connectgaps:_f.connectgaps,fill:b0({},_f.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterternary has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:_f.fillcolor,marker:b0({symbol:Zv.symbol,opacity:Zv.opacity,maxdisplayed:Zv.maxdisplayed,size:Zv.size,sizeref:Zv.sizeref,sizemin:Zv.sizemin,sizemode:Zv.sizemode,line:b0({width:C1t.width,editType:"calc"},G3e("marker.line")),gradient:Zv.gradient,editType:"calc"},G3e("marker")),textfont:_f.textfont,textposition:_f.textposition,selected:_f.selected,unselected:_f.unselected,hoverinfo:b0({},S1t.hoverinfo,{flags:["a","b","text","name"]}),hoveron:_f.hoveron,hovertemplate:E1t()}});var $3e=$((H8t,Z3e)=>{"use strict";var W3e=pt(),D1t=kp(),Sy=ts(),q1t=Cp(),R1t=Dp(),X3e=qb(),I1t=qp(),P1t=nm(),F1t=u7();Z3e.exports=function(t,r,n,i){function a(h,v){return W3e.coerce(t,r,F1t,h,v)}a("carpet"),r.xaxis="x",r.yaxis="y";var o=a("a"),s=a("b"),l=Math.min(o.length,s.length);if(!l){r.visible=!1;return}r._length=l,a("text"),a("texttemplate"),a("hovertext");var u=l<D1t.PTS_LINESONLY?"lines+markers":"lines";a("mode",u),Sy.hasLines(r)&&(R1t(t,r,n,i,a),X3e(t,r,a),a("connectgaps")),Sy.hasMarkers(r)&&q1t(t,r,n,i,a,{gradient:!0}),Sy.hasText(r)&&I1t(t,r,i,a);var f=[];(Sy.hasMarkers(r)||Sy.hasText(r))&&(a("marker.maxdisplayed"),f.push("points")),a("fill"),r.fill!=="none"&&(P1t(t,r,n,a),Sy.hasLines(r)||X3e(t,r,a)),(r.fill==="tonext"||r.fill==="toself")&&f.push("fills");var c=a("hoveron",f.join("+")||"points");c!=="fills"&&a("hovertemplate"),W3e.coerceSelectionMarkerOpacity(r,a)}});var J3e=$((U8t,K3e)=>{"use strict";K3e.exports=function(t,r){var n={},i=r._carpet,a=i.ab2ij([t.a,t.b]),o=Math.floor(a[0]),s=a[0]-o,l=Math.floor(a[1]),u=a[1]-l,f=i.evalxy([],o,l,s,u);return n.yLabel=f[1].toFixed(3),n}});var A5=$((j8t,Q3e)=>{"use strict";Q3e.exports=function(e,t){for(var r=e._fullData.length,n,i=0;i<r;i++){var a=e._fullData[i];if(a.index!==t.index&&a.type==="carpet"&&(n||(n=a),a.carpet===t.carpet))return a}return n}});var rTe=$((V8t,tTe)=>{"use strict";var eTe=mn(),N1t=Rp(),z1t=Cv(),O1t=jc(),B1t=Ip().calcMarkerSize,H1t=A5();tTe.exports=function(t,r){var n=r._carpetTrace=H1t(t,r);if(!(!n||!n.visible||n.visible==="legendonly")){var i;r.xaxis=n.xaxis,r.yaxis=n.yaxis;var a=r._length,o=new Array(a),s,l,u=!1;for(i=0;i<a;i++)if(s=r.a[i],l=r.b[i],eTe(s)&&eTe(l)){var f=n.ab2xy(+s,+l,!0),c=n.isVisible(+s,+l);c||(u=!0),o[i]={x:f[0],y:f[1],a:s,b:l,vis:c}}else o[i]={x:!1,y:!1};return r._needsCull=u,o[0].carpet=n,o[0].trace=r,B1t(r,a),N1t(t,r),z1t(o,r),O1t(o,r),o}}});var aTe=$((G8t,iTe)=>{"use strict";var U1t=Fb(),nTe=tn(),j1t=un();iTe.exports=function(t,r,n,i){var a,o,s,l=n[0][0].carpet,u={xaxis:nTe.getFromId(t,l.xaxis||"x"),yaxis:nTe.getFromId(t,l.yaxis||"y"),plot:r.plot};for(U1t(t,u,n,i),a=0;a<n.length;a++)o=n[a][0].trace,s=i.selectAll("g.trace"+o.uid+" .js-line"),j1t.setClipUrl(s,n[a][0].carpet._clipPathId,t)}});var sTe=$((Y8t,oTe)=>{"use strict";var V1t=Nb(),G1t=pt().fillText;oTe.exports=function(t,r,n,i){var a=V1t(t,r,n,i);if(!a||a[0].index===!1)return;var o=a[0];if(o.index===void 0){var s=1-o.y0/t.ya._length,l=t.xa._length,u=l*s/2,f=l-u;return o.x0=Math.max(Math.min(o.x0,f),u),o.x1=Math.max(Math.min(o.x1,f),u),a}var c=o.cd[o.index];o.a=c.a,o.b=c.b,o.xLabelVal=void 0,o.yLabelVal=void 0;var h=o.trace,v=h._carpet,b=h._module.formatLabels(c,h);o.yLabel=b.yLabel,delete o.text;var y=[];function x(g,A){var w;g.labelprefix&&g.labelprefix.length>0?w=g.labelprefix.replace(/ = $/,""):w=g._hovertitle,y.push(w+": "+A.toFixed(3)+g.labelsuffix)}if(!h.hovertemplate){var m=c.hi||h.hoverinfo,_=m.split("+");_.indexOf("all")!==-1&&(_=["a","b","text"]),_.indexOf("a")!==-1&&x(v.aaxis,c.a),_.indexOf("b")!==-1&&x(v.baxis,c.b),y.push("y: "+o.yLabel),_.indexOf("text")!==-1&&G1t(c,h,y),o.extraText=y.join("<br>")}return a}});var uTe=$((W8t,lTe)=>{"use strict";lTe.exports=function(t,r,n,i,a){var o=i[a];return t.a=o.a,t.b=o.b,t.y=o.y,t}});var cTe=$((X8t,fTe)=>{"use strict";fTe.exports={attributes:u7(),supplyDefaults:$3e(),colorbar:Zf(),formatLabels:J3e(),calc:rTe(),plot:aTe(),style:gf().style,styleOnSelect:gf().styleOnSelect,hoverPoints:sTe(),selectPoints:zb(),eventData:uTe(),moduleType:"trace",name:"scattercarpet",basePlotModule:as(),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{hrName:"scatter_carpet",description:["Plots a scatter trace on either the first carpet axis or the","carpet axis with a matching `carpet` attribute."].join(" ")}}});var vTe=$((Z8t,hTe)=>{"use strict";hTe.exports=cTe()});var f7=$(($8t,dTe)=>{"use strict";var lc=Yp(),w0=w2(),Y1t=Ma(),W1t=ln().extendFlat,Yh=w0.contours;dTe.exports=W1t({carpet:{valType:"string",editType:"calc",description:["The `carpet` of the carpet axes on which this contour trace lies"].join(" ")},z:lc.z,a:lc.x,a0:lc.x0,da:lc.dx,b:lc.y,b0:lc.y0,db:lc.dy,text:lc.text,hovertext:lc.hovertext,transpose:lc.transpose,atype:lc.xtype,btype:lc.ytype,fillcolor:w0.fillcolor,autocontour:w0.autocontour,ncontours:w0.ncontours,contours:{type:Yh.type,start:Yh.start,end:Yh.end,size:Yh.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc",description:["Determines the coloring method showing the contour values.","If *fill*, coloring is done evenly between each contour level","If *lines*, coloring is done on the contour lines.","If *none*, no coloring is applied on this trace."].join(" ")},showlines:Yh.showlines,showlabels:Yh.showlabels,labelfont:Yh.labelfont,labelformat:Yh.labelformat,operation:Yh.operation,value:Yh.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:w0.line.color,width:w0.line.width,dash:w0.line.dash,smoothing:w0.line.smoothing,editType:"plot"},transforms:void 0},Y1t("",{cLetter:"z",autoColorDflt:!1}))});var c7=$((K8t,mTe)=>{"use strict";var pTe=pt(),X1t=v2(),gTe=f7(),Z1t=$q(),$1t=gM(),K1t=mM();mTe.exports=function(t,r,n,i){function a(u,f){return pTe.coerce(t,r,gTe,u,f)}function o(u){return pTe.coerce2(t,r,gTe,u)}if(a("carpet"),t.a&&t.b){var s=X1t(t,r,a,i,"a","b");if(!s){r.visible=!1;return}a("text");var l=a("contours.type")==="constraint";l?Z1t(t,r,a,i,n,{hasHover:!1}):($1t(t,r,a,o),K1t(t,r,a,i,{hasHover:!1}))}else r._defaultColor=n,r._length=null}});var wTe=$((J8t,bTe)=>{"use strict";var J1t=ku(),yTe=pt(),Q1t=eM(),emt=rM(),tmt=nM(),rmt=iM(),xTe=xq(),nmt=c7(),imt=A5(),amt=zq();bTe.exports=function(t,r){var n=r._carpetTrace=imt(t,r);if(!(!n||!n.visible||n.visible==="legendonly")){if(!r.a||!r.b){var i=t.data[n.index],a=t.data[r.index];a.a||(a.a=i.a),a.b||(a.b=i.b),nmt(a,r,r._defaultColor,t._fullLayout)}var o=omt(t,r);return amt(r,r._z),o}};function omt(e,t){var r=t._carpetTrace,n=r.aaxis,i=r.baxis,a,o,s,l,u,f,c;n._minDtick=0,i._minDtick=0,yTe.isArray1D(t.z)&&Q1t(t,n,i,"a","b",["z"]),a=t._a=t._a||t.a,l=t._b=t._b||t.b,a=a?n.makeCalcdata(t,"_a"):[],l=l?i.makeCalcdata(t,"_b"):[],o=t.a0||0,s=t.da||1,u=t.b0||0,f=t.db||1,c=t._z=emt(t._z||t.z,t.transpose),t._emptypoints=rmt(c),tmt(c,t._emptypoints);var h=yTe.maxRowLength(c),v=t.xtype==="scaled"?"":a,b=xTe(t,v,o,s,h,n),y=t.ytype==="scaled"?"":l,x=xTe(t,y,u,f,c.length,i),m={a:b,b:x,z:c};return t.contours.type==="levels"&&t.contours.coloring!=="none"&&J1t(e,t,{vals:c,containerStr:"",cLetter:"z"}),[m]}});var TTe=$((Q8t,_Te)=>{"use strict";var smt=pt().isArrayOrTypedArray;_Te.exports=function(e,t,r,n){var i,a,o,s,l,u,f,c,h,v,b,y,x,m=smt(r)?"a":"b",_=m==="a"?e.aaxis:e.baxis,g=_.smoothing,A=m==="a"?e.a2i:e.b2j,w=m==="a"?r:n,k=m==="a"?n:r,p=m==="a"?t.a.length:t.b.length,d=m==="a"?t.b.length:t.a.length,M=Math.floor(m==="a"?e.b2j(k):e.a2i(k)),T=m==="a"?function(Y){return e.evalxy([],Y,M)}:function(Y){return e.evalxy([],M,Y)};g&&(o=Math.max(0,Math.min(d-2,M)),s=M-o,a=m==="a"?function(Y,K){return e.dxydi([],Y,o,K,s)}:function(Y,K){return e.dxydj([],o,Y,s,K)});var S=A(w[0]),E=A(w[1]),L=S<E?1:-1,D=(E-S)*1e-8,R=L>0?Math.floor:Math.ceil,q=L>0?Math.ceil:Math.floor,C=L>0?Math.min:Math.max,F=L>0?Math.max:Math.min,N=R(S+D),U=q(E-D);f=T(S);var V=[[f]];for(i=N;i*L<U*L;i+=L)l=[],b=F(S,i),y=C(E,i+L),x=y-b,u=Math.max(0,Math.min(p-2,Math.floor(.5*(b+y)))),c=T(y),g&&(h=a(u,b-u),v=a(u,y-u),l.push([f[0]+h[0]/3*x,f[1]+h[1]/3*x]),l.push([c[0]-v[0]/3*x,c[1]-v[1]/3*x])),l.push(c),V.push(l),f=c;return V}});var CTe=$((eRt,LTe)=>{"use strict";var k5=Nr(),S5=a7(),ETe=o7(),kw=un(),$v=pt(),lmt=Bq(),umt=Hq(),yg=bM(),M5=T2(),fmt=Gq(),cmt=Vq(),hmt=Yq(),vmt=A5(),ATe=TTe();LTe.exports=function(t,r,n,i){var a=r.xaxis,o=r.yaxis;$v.makeTraceGroups(i,n,"contour").each(function(s){var l=k5.select(this),u=s[0],f=u.trace,c=f._carpetTrace=vmt(t,f),h=t.calcdata[c.index][0];if(!c.visible||c.visible==="legendonly")return;var v=u.a,b=u.b,y=f.contours,x=cmt(y,r,u),m=y.type==="constraint",_=y._operation,g=m?_==="="?"lines":"fill":y.coloring;function A(R){var q=c.ab2xy(R[0],R[1],!0);return[a.c2p(q[0]),o.c2p(q[1])]}var w=[[v[0],b[b.length-1]],[v[v.length-1],b[b.length-1]],[v[v.length-1],b[0]],[v[0],b[0]]];lmt(x);var k=(v[v.length-1]-v[0])*1e-8,p=(b[b.length-1]-b[0])*1e-8;umt(x,k,p);var d=x;y.type==="constraint"&&(d=fmt(x,_)),dmt(x,A);var M,T,S,E,L=[];for(E=h.clipsegments.length-1;E>=0;E--)M=h.clipsegments[E],T=S5([],M.x,a.c2p),S=S5([],M.y,o.c2p),T.reverse(),S.reverse(),L.push(ETe(T,S,M.bicubic));var D="M"+L.join("L")+"Z";mmt(l,h.clipsegments,a,o,m,g),ymt(f,l,a,o,d,w,A,c,h,g,D),pmt(l,x,t,u,y,r,c),kw.setClipUrl(l,c._clipPathId,t)})};function dmt(e,t){var r,n,i,a,o,s,l,u,f;for(r=0;r<e.length;r++){for(a=e[r],o=a.pedgepaths=[],s=a.ppaths=[],n=0;n<a.edgepaths.length;n++){for(f=a.edgepaths[n],l=[],i=0;i<f.length;i++)l[i]=t(f[i]);o.push(l)}for(n=0;n<a.paths.length;n++){for(f=a.paths[n],u=[],i=0;i<f.length;i++)u[i]=t(f[i]);s.push(u)}}}function pmt(e,t,r,n,i,a,o){var s=$v.ensureSingle(e,"g","contourlines"),l=i.showlines!==!1,u=i.showlabels,f=l&&u,c=yg.createLines(s,l||u,t),h=yg.createLineClip(s,f,r,n.trace.uid),v=e.selectAll("g.contourlabels").data(u?[0]:[]);if(v.exit().remove(),v.enter().append("g").classed("contourlabels",!0),u){var b=a.xaxis,y=a.yaxis,x=b._length,m=y._length,_=[[[0,0],[x,0],[x,m],[0,m]]],g=[];$v.clearLocationCache();var A=yg.labelFormatter(r,n),w=kw.tester.append("text").attr("data-notex",1).call(kw.font,i.labelfont),k={left:0,right:x,center:x/2,top:0,bottom:m,middle:m/2},p=Math.sqrt(x*x+m*m),d=M5.LABELDISTANCE*p/Math.max(1,t.length/M5.LABELINCREASE);c.each(function(M){var T=yg.calcTextOpts(M.level,A,w,r);k5.select(this).selectAll("path").each(function(S){var E=this,L=$v.getVisibleSegment(E,k,T.height/2);if(L&&(gmt(E,S,M,L,o,T.height),!(L.len<(T.width+T.height)*M5.LABELMIN)))for(var D=Math.min(Math.ceil(L.len/d),M5.LABELMAX),R=0;R<D;R++){var q=yg.findBestTextLocation(E,L,T,g,k);if(!q)break;yg.addLabelData(q,T,g,_)}})}),w.remove(),yg.drawLabels(v,g,r,h,f?_:null)}u&&!l&&c.remove()}function gmt(e,t,r,n,i,a){for(var o,s=0;s<r.pedgepaths.length;s++)t===r.pedgepaths[s]&&(o=r.edgepaths[s]);if(!o)return;var l=i.a[0],u=i.a[i.a.length-1],f=i.b[0],c=i.b[i.b.length-1];function h(m,_){var g=0,A,w=.1;return(Math.abs(m[0]-l)<w||Math.abs(m[0]-u)<w)&&(A=kTe(i.dxydb_rough(m[0],m[1],w)),g=Math.max(g,a*STe(_,A)/2)),(Math.abs(m[1]-f)<w||Math.abs(m[1]-c)<w)&&(A=kTe(i.dxyda_rough(m[0],m[1],w)),g=Math.max(g,a*STe(_,A)/2)),g}var v=MTe(e,0,1),b=MTe(e,n.total,n.total-1),y=h(o[0],v),x=n.total-h(o[o.length-1],b);n.min<y&&(n.min=y),n.max>x&&(n.max=x),n.len=n.max-n.min}function MTe(e,t,r){var n=e.getPointAtLength(t),i=e.getPointAtLength(r),a=i.x-n.x,o=i.y-n.y,s=Math.sqrt(a*a+o*o);return[a/s,o/s]}function kTe(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}function STe(e,t){var r=Math.abs(e[0]*t[0]+e[1]*t[1]),n=Math.sqrt(1-r*r);return n/r}function mmt(e,t,r,n,i,a){var o,s,l,u,f=$v.ensureSingle(e,"g","contourbg"),c=f.selectAll("path").data(a==="fill"&&!i?[0]:[]);c.enter().append("path"),c.exit().remove();var h=[];for(u=0;u<t.length;u++)o=t[u],s=S5([],o.x,r.c2p),l=S5([],o.y,n.c2p),h.push(ETe(s,l,o.bicubic));c.attr("d","M"+h.join("L")+"Z").style("stroke","none")}function ymt(e,t,r,n,i,a,o,s,l,u,f){var c=u==="fill";c&&hmt(i,e.contours);var h=$v.ensureSingle(t,"g","contourfill"),v=h.selectAll("path").data(c?i:[]);v.enter().append("path"),v.exit().remove(),v.each(function(b){var y=(b.prefixBoundary?f:"")+xmt(e,b,a,o,s,l,r,n);y?k5.select(this).attr("d",y).style("stroke","none"):k5.select(this).remove()})}function xmt(e,t,r,n,i,a,o,s){var l,u="",f=t.edgepaths.map(function(S,E){return E}),c=!0,h,v,b,y,x,m,_=Math.abs(r[0][0]-r[2][0])*1e-4,g=Math.abs(r[0][1]-r[2][1])*1e-4;function A(S){return Math.abs(S[1]-r[0][1])<g}function w(S){return Math.abs(S[1]-r[2][1])<g}function k(S){return Math.abs(S[0]-r[0][0])<_}function p(S){return Math.abs(S[0]-r[2][0])<_}function d(S,E){var L,D,R,q,C="";for(A(S)&&!p(S)||w(S)&&!k(S)?(q=i.aaxis,R=ATe(i,a,[S[0],E[0]],.5*(S[1]+E[1]))):(q=i.baxis,R=ATe(i,a,.5*(S[0]+E[0]),[S[1],E[1]])),L=1;L<R.length;L++)for(C+=q.smoothing?"C":"L",D=0;D<R[L].length;D++){var F=R[L][D];C+=[o.c2p(F[0]),s.c2p(F[1])]+" "}return C}for(l=0,h=null;f.length;){var M=t.edgepaths[l][0];for(h&&(u+=d(h,M)),m=kw.smoothopen(t.edgepaths[l].map(n),t.smoothing),u+=c?m:m.replace(/^M/,"L"),f.splice(f.indexOf(l),1),h=t.edgepaths[l][t.edgepaths[l].length-1],y=-1,b=0;b<4;b++){if(!h){$v.log("Missing end?",l,t);break}for(A(h)&&!p(h)?v=r[1]:k(h)?v=r[0]:w(h)?v=r[3]:p(h)&&(v=r[2]),x=0;x<t.edgepaths.length;x++){var T=t.edgepaths[x][0];Math.abs(h[0]-v[0])<_?Math.abs(h[0]-T[0])<_&&(T[1]-h[1])*(v[1]-T[1])>=0&&(v=T,y=x):Math.abs(h[1]-v[1])<g?Math.abs(h[1]-T[1])<g&&(T[0]-h[0])*(v[0]-T[0])>=0&&(v=T,y=x):$v.log("endpt to newendpt is not vert. or horz.",h,v,T)}if(y>=0)break;u+=d(h,v),h=v}if(y===t.edgepaths.length){$v.log("unclosed perimeter path");break}l=y,c=f.indexOf(l)===-1,c&&(l=f[0],u+=d(h,v)+"Z",h=null)}for(l=0;l<t.paths.length;l++)u+=kw.smoothclosed(t.paths[l].map(n),t.smoothing);return u}});var qTe=$((tRt,DTe)=>{"use strict";DTe.exports={attributes:f7(),supplyDefaults:c7(),colorbar:TM(),calc:wTe(),plot:CTe(),style:_M(),moduleType:"trace",name:"contourcarpet",basePlotModule:as(),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{hrName:"contour_carpet",description:["Plots contours on either the first carpet axis or the","carpet axis with a matching `carpet` attribute. Data `z`","is interpreted as matching that of the corresponding carpet","axis."].join(" ")}}});var ITe=$((rRt,RTe)=>{"use strict";RTe.exports=qTe()});var D5=$((nRt,zTe)=>{"use strict";var E5=pt().extendFlat,L5=Ps(),PTe=Ha().axisHoverFormat,h7=Ul().dash,bmt=m1(),NTe=Um(),wmt=NTe.INCREASING.COLOR,_mt=NTe.DECREASING.COLOR,C5=L5.line;function FTe(e){return{line:{color:E5({},C5.color,{dflt:e}),width:C5.width,dash:h7,editType:"style"},editType:"style"}}zTe.exports={xperiod:L5.xperiod,xperiod0:L5.xperiod0,xperiodalignment:L5.xperiodalignment,xhoverformat:PTe("x"),yhoverformat:PTe("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x coordinates.","If absent, linear coordinate will be generated."].join(" ")},open:{valType:"data_array",editType:"calc",description:"Sets the open values."},high:{valType:"data_array",editType:"calc",description:"Sets the high values."},low:{valType:"data_array",editType:"calc",description:"Sets the low values."},close:{valType:"data_array",editType:"calc",description:"Sets the close values."},line:{width:E5({},C5.width,{description:[C5.width,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")}),dash:E5({},h7,{description:[h7.description,"Note that this style setting can also be set per","direction via `increasing.line.dash` and","`decreasing.line.dash`."].join(" ")}),editType:"style"},increasing:FTe(wmt),decreasing:FTe(_mt),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets hover text elements associated with each sample point.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to","this trace's sample points."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc",description:["Sets the width of the open/close tick marks","relative to the *x* minimal interval."].join(" ")},hoverlabel:E5({},bmt.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style",description:["Show hover information (open, close, high, low) in","separate labels."].join(" ")}})}});var v7=$((iRt,OTe)=>{"use strict";var Tmt=Ir(),Amt=pt();OTe.exports=function(t,r,n,i){var a=n("x"),o=n("open"),s=n("high"),l=n("low"),u=n("close");n("hoverlabel.split");var f=Tmt.getComponentMethod("calendars","handleTraceDefaults");if(f(t,r,["x"],i),!!(o&&s&&l&&u)){var c=Math.min(o.length,s.length,l.length,u.length);return a&&(c=Math.min(c,Amt.minRowLength(a))),r._length=c,c}}});var UTe=$((aRt,HTe)=>{"use strict";var Mmt=pt(),kmt=v7(),Smt=Ph(),Emt=D5();HTe.exports=function(t,r,n,i){function a(s,l){return Mmt.coerce(t,r,Emt,s,l)}var o=kmt(t,r,a,i);if(!o){r.visible=!1;return}Smt(t,r,i,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),BTe(t,r,a,"increasing"),BTe(t,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),i._requestRangeslider[r.xaxis]=!0};function BTe(e,t,r,n){r(n+".line.color"),r(n+".line.width",t.line.width),r(n+".line.dash",t.line.dash)}});var d7=$((oRt,VTe)=>{"use strict";var I5=pt(),q5=I5._,R5=tn(),Lmt=Fh(),Sw=Zn().BADNUM;function Cmt(e,t){var r=R5.getFromId(e,t.xaxis),n=R5.getFromId(e,t.yaxis),i=qmt(e,r,t),a=t._minDiff;t._minDiff=null;var o=t._origX;t._origX=null;var s=t._xcalc;t._xcalc=null;var l=jTe(e,t,o,s,n,Dmt);return t._extremes[r._id]=R5.findExtremes(r,s,{vpad:a/2}),l.length?(I5.extendFlat(l[0].t,{wHover:a/2,tickLen:i}),l):[{t:{empty:!0}}]}function Dmt(e,t,r,n){return{o:e,h:t,l:r,c:n}}function jTe(e,t,r,n,i,a){for(var o=i.makeCalcdata(t,"open"),s=i.makeCalcdata(t,"high"),l=i.makeCalcdata(t,"low"),u=i.makeCalcdata(t,"close"),f=Array.isArray(t.text),c=Array.isArray(t.hovertext),h=!0,v=null,b=!!t.xperiodalignment,y=[],x=0;x<n.length;x++){var m=n[x],_=o[x],g=s[x],A=l[x],w=u[x];if(m!==Sw&&_!==Sw&&g!==Sw&&A!==Sw&&w!==Sw){w===_?v!==null&&w!==v&&(h=w>v):h=w>_,v=w;var k=a(_,g,A,w);k.pos=m,k.yc=(_+w)/2,k.i=x,k.dir=h?"increasing":"decreasing",k.x=k.pos,k.y=[A,g],b&&(k.orig_p=r[x]),f&&(k.tx=t.text[x]),c&&(k.htx=t.hovertext[x]),y.push(k)}else y.push({pos:m,empty:!0})}return t._extremes[i._id]=R5.findExtremes(i,I5.concat(l,s),{padded:!0}),y.length&&(y[0].t={labels:{open:q5(e,"open:")+" ",high:q5(e,"high:")+" ",low:q5(e,"low:")+" ",close:q5(e,"close:")+" "}}),y}function qmt(e,t,r){var n=r._minDiff;if(!n){var i=e._fullData,a=[];n=1/0;var o;for(o=0;o<i.length;o++){var s=i[o];if(s.type==="ohlc"&&s.visible===!0&&s.xaxis===t._id){a.push(s);var l=t.makeCalcdata(s,"x");s._origX=l;var u=Lmt(r,t,"x",l).vals;s._xcalc=u;var f=I5.distinctVals(u).minDiff;f&&isFinite(f)&&(n=Math.min(n,f))}}for(n===1/0&&(n=1),o=0;o<a.length;o++)a[o]._minDiff=n}return n*r.tickwidth}VTe.exports={calc:Cmt,calcCommon:jTe}});var WTe=$((sRt,YTe)=>{"use strict";var Rmt=Nr(),GTe=pt();YTe.exports=function(t,r,n,i){var a=r.yaxis,o=r.xaxis,s=!!o.rangebreaks;GTe.makeTraceGroups(i,n,"trace ohlc").each(function(l){var u=Rmt.select(this),f=l[0],c=f.t,h=f.trace;if(h.visible!==!0||c.empty){u.remove();return}var v=c.tickLen,b=u.selectAll("path").data(GTe.identity);b.enter().append("path"),b.exit().remove(),b.attr("d",function(y){if(y.empty)return"M0,0Z";var x=o.c2p(y.pos-v,!0),m=o.c2p(y.pos+v,!0),_=s?(x+m)/2:o.c2p(y.pos,!0),g=a.c2p(y.o,!0),A=a.c2p(y.h,!0),w=a.c2p(y.l,!0),k=a.c2p(y.c,!0);return"M"+x+","+g+"H"+_+"M"+_+","+A+"V"+w+"M"+m+","+k+"H"+_})})}});var ZTe=$((lRt,XTe)=>{"use strict";var p7=Nr(),Imt=un(),Pmt=Rr();XTe.exports=function(t,r,n){var i=n||p7.select(t).selectAll("g.ohlclayer").selectAll("g.trace");i.style("opacity",function(a){return a[0].trace.opacity}),i.each(function(a){var o=a[0].trace;p7.select(this).selectAll("path").each(function(s){if(!s.empty){var l=o[s.dir].line;p7.select(this).style("fill","none").call(Pmt.stroke,l.color).call(Imt.dashLine,l.dash,l.width).style("opacity",o.selectedpoints&&!s.selected?.3:1)}})})}});var m7=$((uRt,eAe)=>{"use strict";var g7=tn(),Fmt=pt(),P5=lo(),Nmt=Rr(),zmt=pt().fillText,$Te=Um(),Omt={increasing:$Te.INCREASING.SYMBOL,decreasing:$Te.DECREASING.SYMBOL};function Bmt(e,t,r,n){var i=e.cd,a=i[0].trace;return a.hoverlabel.split?JTe(e,t,r,n):QTe(e,t,r,n)}function KTe(e,t,r,n){var i=e.cd,a=e.xa,o=i[0].trace,s=i[0].t,l=o.type,u=l==="ohlc"?"l":"min",f=l==="ohlc"?"h":"max",c,h,v=s.bPos||0,b=function(T){return T.pos+v-t},y=s.bdPos||s.tickLen,x=s.wHover,m=Math.min(1,y/Math.abs(a.r2c(a.range[1])-a.r2c(a.range[0])));c=e.maxHoverDistance-m,h=e.maxSpikeDistance-m;function _(T){var S=b(T);return P5.inbox(S-x,S+x,c)}function g(T){var S=T[u],E=T[f];return S===E||P5.inbox(S-r,E-r,c)}function A(T){return(_(T)+g(T))/2}var w=P5.getDistanceFunction(n,_,g,A);if(P5.getClosest(i,w,e),e.index===!1)return null;var k=i[e.index];if(k.empty)return null;var p=k.dir,d=o[p],M=d.line.color;return Nmt.opacity(M)&&d.line.width?e.color=M:e.color=d.fillcolor,e.x0=a.c2p(k.pos+v-y,!0),e.x1=a.c2p(k.pos+v+y,!0),e.xLabelVal=k.orig_p!==void 0?k.orig_p:k.pos,e.spikeDistance=A(k)*h/c,e.xSpike=a.c2p(k.pos,!0),e}function JTe(e,t,r,n){var i=e.cd,a=e.ya,o=i[0].trace,s=i[0].t,l=[],u=KTe(e,t,r,n);if(!u)return[];var f=u.index,c=i[f],h=c.hi||o.hoverinfo,v=h.split("+"),b=h==="all",y=b||v.indexOf("y")!==-1;if(!y)return[];for(var x=["high","open","close","low"],m={},_=0;_<x.length;_++){var g=x[_],A=o[g][u.index],w=a.c2p(A,!0),k;A in m?(k=m[A],k.yLabel+="<br>"+s.labels[g]+g7.hoverLabelText(a,A,o.yhoverformat)):(k=Fmt.extendFlat({},u),k.y0=k.y1=w,k.yLabelVal=A,k.yLabel=s.labels[g]+g7.hoverLabelText(a,A,o.yhoverformat),k.name="",l.push(k),m[A]=k)}return l}function QTe(e,t,r,n){var i=e.cd,a=e.ya,o=i[0].trace,s=i[0].t,l=KTe(e,t,r,n);if(!l)return[];var u=l.index,f=i[u],c=l.index=f.i,h=f.dir;function v(A){return s.labels[A]+g7.hoverLabelText(a,o[A][c],o.yhoverformat)}var b=f.hi||o.hoverinfo,y=b.split("+"),x=b==="all",m=x||y.indexOf("y")!==-1,_=x||y.indexOf("text")!==-1,g=m?[v("open"),v("high"),v("low"),v("close")+"  "+Omt[h]]:[];return _&&zmt(f,o,g),l.extraText=g.join("<br>"),l.y0=l.y1=a.c2p(f.yc,!0),[l]}eAe.exports={hoverPoints:Bmt,hoverSplit:JTe,hoverOnPoints:QTe}});var y7=$((fRt,tAe)=>{"use strict";tAe.exports=function(t,r){var n=t.cd,i=t.xaxis,a=t.yaxis,o=[],s,l=n[0].t.bPos||0;if(r===!1)for(s=0;s<n.length;s++)n[s].selected=0;else for(s=0;s<n.length;s++){var u=n[s];r.contains([i.c2p(u.pos+l),a.c2p(u.yc)],null,u.i,t)?(o.push({pointNumber:u.i,x:i.c2d(u.pos),y:a.c2d(u.yc)}),u.selected=1):u.selected=0}return o}});var nAe=$((cRt,rAe)=>{"use strict";rAe.exports={moduleType:"trace",name:"ohlc",basePlotModule:as(),categories:["cartesian","svg","showLegend"],meta:{description:["The ohlc (short for Open-High-Low-Close) is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The tip of the lines represent the `low` and `high` values and","the horizontal segments represent the `open` and `close` values.","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing items are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:D5(),supplyDefaults:UTe(),calc:d7().calc,plot:WTe(),style:ZTe(),hoverPoints:m7().hoverPoints,selectPoints:y7()}});var aAe=$((hRt,iAe)=>{"use strict";iAe.exports=nAe()});var b7=$((vRt,lAe)=>{"use strict";var x7=pt().extendFlat,oAe=Ha().axisHoverFormat,Tf=D5(),Ey=l2();function sAe(e){return{line:{color:x7({},Ey.line.color,{dflt:e}),width:Ey.line.width,editType:"style"},fillcolor:Ey.fillcolor,editType:"style"}}lAe.exports={xperiod:Tf.xperiod,xperiod0:Tf.xperiod0,xperiodalignment:Tf.xperiodalignment,xhoverformat:oAe("x"),yhoverformat:oAe("y"),x:Tf.x,open:Tf.open,high:Tf.high,low:Tf.low,close:Tf.close,line:{width:x7({},Ey.line.width,{description:[Ey.line.width.description,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")}),editType:"style"},increasing:sAe(Tf.increasing.line.color.dflt),decreasing:sAe(Tf.decreasing.line.color.dflt),text:Tf.text,hovertext:Tf.hovertext,whiskerwidth:x7({},Ey.whiskerwidth,{dflt:0}),hoverlabel:Tf.hoverlabel}});var cAe=$((dRt,fAe)=>{"use strict";var Hmt=pt(),Umt=Rr(),jmt=v7(),Vmt=Ph(),Gmt=b7();fAe.exports=function(t,r,n,i){function a(s,l){return Hmt.coerce(t,r,Gmt,s,l)}var o=jmt(t,r,a,i);if(!o){r.visible=!1;return}Vmt(t,r,i,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),uAe(t,r,a,"increasing"),uAe(t,r,a,"decreasing"),a("text"),a("hovertext"),a("whiskerwidth"),i._requestRangeslider[r.xaxis]=!0};function uAe(e,t,r,n){var i=r(n+".line.color");r(n+".line.width",t.line.width),r(n+".fillcolor",Umt.addOpacity(i,.5))}});var pAe=$((pRt,dAe)=>{"use strict";var hAe=pt(),vAe=tn(),Ymt=Fh(),Wmt=d7().calcCommon;dAe.exports=function(e,t){var r=e._fullLayout,n=vAe.getFromId(e,t.xaxis),i=vAe.getFromId(e,t.yaxis),a=n.makeCalcdata(t,"x"),o=Ymt(t,n,"x",a).vals,s=Wmt(e,t,a,o,i,Xmt);return s.length?(hAe.extendFlat(s[0].t,{num:r._numBoxes,dPos:hAe.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,s):[{t:{empty:!0}}]};function Xmt(e,t,r,n){return{min:r,q1:Math.min(e,n),med:n,q3:Math.max(e,n),max:t}}});var mAe=$((gRt,gAe)=>{"use strict";gAe.exports={moduleType:"trace",name:"candlestick",basePlotModule:as(),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{description:["The candlestick is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The boxes represent the spread between the `open` and `close` values and","the lines represent the spread between the `low` and `high` values","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing candles are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:b7(),layoutAttributes:u2(),supplyLayoutDefaults:YA().supplyLayoutDefaults,crossTraceCalc:XA().crossTraceCalc,supplyDefaults:cAe(),calc:pAe(),plot:ZA().plot,layerName:"boxlayer",style:$A().style,hoverPoints:m7().hoverPoints,selectPoints:y7()}});var xAe=$((mRt,yAe)=>{"use strict";yAe.exports=mAe()});var _7=$((yRt,bAe)=>{"use strict";var Ew=pt(),Zmt=wv(),F5=Ew.deg2rad,w7=Ew.rad2deg;bAe.exports=function(t,r,n){switch(Zmt(t,n),t._id){case"x":case"radialaxis":$mt(t,r);break;case"angularaxis":Qmt(t,r);break}};function $mt(e,t){var r=t._subplot;e.setGeometry=function(){var n=e._rl[0],i=e._rl[1],a=r.innerRadius,o=(r.radius-a)/(i-n),s=a/o,l=n>i?function(u){return u<=0}:function(u){return u>=0};e.c2g=function(u){var f=e.c2l(u)-n;return(l(f)?f:0)+s},e.g2c=function(u){return e.l2c(u+n-s)},e.g2p=function(u){return u*o},e.c2p=function(u){return e.g2p(e.c2g(u))}}}function Kmt(e,t){return t==="degrees"?F5(e):e}function Jmt(e,t){return t==="degrees"?w7(e):e}function Qmt(e,t){var r=e.type;if(r==="linear"){var n=e.d2c,i=e.c2d;e.d2c=function(a,o){return Kmt(n(a),o)},e.c2d=function(a,o){return i(Jmt(a,o))}}e.makeCalcdata=function(a,o){var s=a[o],l=a._length,u,f,c=function(x){return e.d2c(x,a.thetaunit)};if(s){if(Ew.isTypedArray(s)&&r==="linear"){if(l===s.length)return s;if(s.subarray)return s.subarray(0,l)}for(u=new Array(l),f=0;f<l;f++)u[f]=c(s[f])}else{var h=o+"0",v="d"+o,b=h in a?c(a[h]):0,y=a[v]?c(a[v]):(e.period||2*Math.PI)/l;for(u=new Array(l),f=0;f<l;f++)u[f]=b+f*y}return u},e.setGeometry=function(){var a=t.sector,o=a.map(F5),s={clockwise:-1,counterclockwise:1}[e.direction],l=F5(e.rotation),u=function(m){return s*m+l},f=function(m){return(m-l)/s},c,h,v,b;switch(r){case"linear":h=c=Ew.identity,b=F5,v=w7,e.range=Ew.isFullCircle(o)?[a[0],a[0]+360]:o.map(f).map(w7);break;case"category":var y=e._categories.length,x=e.period?Math.max(e.period,y):y;x===0&&(x=1),h=b=function(m){return m*2*Math.PI/x},c=v=function(m){return m*x/Math.PI/2},e.range=[0,x];break}e.c2g=function(m){return u(h(m))},e.g2c=function(m){return c(f(m))},e.t2g=function(m){return u(b(m))},e.g2t=function(m){return v(f(m))}}}});var N5=$((xRt,wAe)=>{"use strict";wAe.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}});var O5=$((bRt,kAe)=>{"use strict";var xg=pt(),_Ae=lb().tester,T7=xg.findIndexOfMin,AAe=xg.isAngleInsideSector,eyt=xg.angleDelta,TAe=xg.angleDist;function tyt(e,t,r,n,i){if(!AAe(t,n))return!1;var a,o;r[0]<r[1]?(a=r[0],o=r[1]):(a=r[1],o=r[0]);var s=_Ae(Ly(a,n[0],n[1],i)),l=_Ae(Ly(o,n[0],n[1],i)),u=[e*Math.cos(t),e*Math.sin(t)];return l.contains(u)&&!s.contains(u)}function MAe(e,t,r,n){var i,a,o=n[0],s=n[1],l=z5(Math.sin(t)-Math.sin(e)),u=z5(Math.cos(t)-Math.cos(e)),f=Math.tan(r),c=z5(1/f),h=l/u,v=s-h*o;return c?l&&u?(i=v/(f-h),a=f*i):u?(i=s*c,a=s):(i=o,a=o*f):l&&u?(i=0,a=v):u?(i=0,a=s):i=a=NaN,[i,a]}function ryt(e,t,r,n){var i=-t*r,a=t*t+1,o=2*(t*i-r),s=i*i+r*r-e*e,l=Math.sqrt(o*o-4*a*s),u=(-o+l)/(2*a),f=(-o-l)/(2*a);return[[u,t*u+i+n],[f,t*f+i+n]]}function nyt(e,t){var r=t.length,n=new Array(r+1),i;for(i=0;i<r;i++){var a=t[i];n[i]=[e*Math.cos(a),e*Math.sin(a)]}return n[i]=n[0].slice(),n}function iyt(e,t,r,n){var i=n.length,a=[],o,s;function l(m){return[e*Math.cos(m),e*Math.sin(m)]}function u(m,_,g){return MAe(m,_,g,l(m))}function f(m){return xg.mod(m,i)}function c(m){return AAe(m,[t,r])}var h=T7(n,function(m){return c(m)?TAe(m,t):1/0}),v=u(n[h],n[f(h-1)],t);for(a.push(v),o=h,s=0;s<i;o++,s++){var b=n[f(o)];if(!c(b))break;a.push(l(b))}var y=T7(n,function(m){return c(m)?TAe(m,r):1/0}),x=u(n[y],n[f(y+1)],r);return a.push(x),a.push([0,0]),a.push(a[0].slice()),a}function Ly(e,t,r,n){return xg.isFullCircle([t,r])?nyt(e,n):iyt(e,t,r,n)}function ayt(e,t,r,n){for(var i=1/0,a=1/0,o=Ly(e,t,r,n),s=0;s<o.length;s++){var l=o[s];i=Math.min(i,l[0]),a=Math.min(a,-l[1])}return[i,a]}function oyt(e,t){var r=function(a){var o=eyt(a,e);return o>0?o:1/0},n=T7(t,r),i=xg.mod(n+1,t.length);return[t[n],t[i]]}function z5(e){return Math.abs(e)>1e-10?e:0}function A7(e,t,r){t=t||0,r=r||0;for(var n=e.length,i=new Array(n),a=0;a<n;a++){var o=e[a];i[a]=[t+o[0],r-o[1]]}return i}function syt(e,t,r,n,i,a){var o=Ly(e,t,r,n);return"M"+A7(o,i,a).join("L")}function lyt(e,t,r,n,i,a,o){var s,l;e<t?(s=e,l=t):(s=t,l=e);var u=A7(Ly(s,r,n,i),a,o),f=A7(Ly(l,r,n,i),a,o);return"M"+f.reverse().join("L")+"M"+u.join("L")}kAe.exports={isPtInsidePolygon:tyt,findPolygonOffset:ayt,findEnclosingVertexAngles:oyt,findIntersectionXY:MAe,findXYatLength:ryt,clampTiny:z5,pathPolygon:syt,pathPolygonAnnulus:lyt}});var CAe=$((wRt,LAe)=>{"use strict";function SAe(e){return e<0?-1:e>0?1:0}function Cy(e){var t=e[0],r=e[1];if(!isFinite(t)||!isFinite(r))return[1,0];var n=(t+1)*(t+1)+r*r;return[(t*t+r*r-1)/n,2*r/n]}function Dy(e,t){var r=t[0],n=t[1];return[r*e.radius+e.cx,-n*e.radius+e.cy]}function EAe(e,t){return t*e.radius}function uyt(e,t,r,n){var i=Dy(e,Cy([r,t])),a=i[0],o=i[1],s=Dy(e,Cy([n,t])),l=s[0],u=s[1];if(t===0)return["M"+a+","+o,"L"+l+","+u].join(" ");var f=EAe(e,1/Math.abs(t));return["M"+a+","+o,"A"+f+","+f+" 0 0,"+(t<0?1:0)+" "+l+","+u].join(" ")}function fyt(e,t,r,n){var i=EAe(e,1/(t+1)),a=Dy(e,Cy([t,r])),o=a[0],s=a[1],l=Dy(e,Cy([t,n])),u=l[0],f=l[1];if(SAe(r)!==SAe(n)){var c=Dy(e,Cy([t,0])),h=c[0],v=c[1];return["M"+o+","+s,"A"+i+","+i+" 0 0,"+(0<r?0:1)+" "+h+","+v,"A"+i+","+i+" 0 0,"+(n<0?0:1)+u+","+f].join(" ")}return["M"+o+","+s,"A"+i+","+i+" 0 0,"+(n<r?0:1)+" "+u+","+f].join(" ")}LAe.exports={smith:Cy,reactanceArc:uyt,resistanceArc:fyt,smithTransform:Dy}});var BAe=$((_Rt,OAe)=>{"use strict";var bg=Nr(),cyt=Ko(),_g=Ir(),oa=pt(),Wh=oa.strRotate,ls=oa.strTranslate,M7=Rr(),Lw=un(),hyt=Zi(),ru=tn(),vyt=wv(),dyt=_7(),pyt=Pc().doAutoRange,Kv=f6(),U5=Gl(),DAe=lo(),gyt=lp(),myt=Qs().prepSelect,yyt=Qs().selectOnClick,k7=Qs().clearOutline,qAe=Fc(),RAe=Wx(),IAe=rb().redrawReglTraces,xyt=es().MID_SHIFT,_0=N5(),Jv=O5(),j5=CAe(),B5=j5.smith,byt=j5.reactanceArc,wyt=j5.resistanceArc,H5=j5.smithTransform,_yt=oa._,PAe=oa.mod,T0=oa.deg2rad,wg=oa.rad2deg;function FAe(e,t,r){this.isSmith=r||!1,this.id=t,this.gd=e,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var n=e._fullLayout,i="clip"+n._uid+t;this.clipIds.forTraces=i+"-for-traces",this.clipPaths.forTraces=n._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=n["_"+(r?"smith":"polar")+"layer"].append("g").attr("class",t),this.getHole=function(a){return this.isSmith?0:a.hole},this.getSector=function(a){return this.isSmith?[0,360]:a.sector},this.getRadial=function(a){return this.isSmith?a.realaxis:a.radialaxis},this.getAngular=function(a){return this.isSmith?a.imaginaryaxis:a.angularaxis},r||(this.radialTickLayout=null,this.angularTickLayout=null)}var xs=FAe.prototype;OAe.exports=function(t,r,n){return new FAe(t,r,n)};xs.plot=function(e,t){for(var r=this,n=t[r.id],i=!1,a=0;a<e.length;a++){var o=e[a][0].trace;if(o.cliponaxis===!1){i=!0;break}}r._hasClipOnAxisFalse=i,r.updateLayers(t,n),r.updateLayout(t,n),hyt.generalUpdatePerTraceModule(r.gd,r,e,n),r.updateFx(t,n),r.isSmith&&(delete n.realaxis.range,delete n.imaginaryaxis.range)};xs.updateLayers=function(e,t){var r=this,n=r.isSmith,i=r.layers,a=r.getRadial(t),o=r.getAngular(t),s=_0.layerNames,l=s.indexOf("frontplot"),u=s.slice(0,l),f=o.layer==="below traces",c=a.layer==="below traces";f&&u.push("angular-line"),c&&u.push("radial-line"),f&&u.push("angular-axis"),c&&u.push("radial-axis"),u.push("frontplot"),f||u.push("angular-line"),c||u.push("radial-line"),f||u.push("angular-axis"),c||u.push("radial-axis");var h=(n?"smith":"polar")+"sublayer",v=r.framework.selectAll("."+h).data(u,String);v.enter().append("g").attr("class",function(b){return h+" "+b}).each(function(b){var y=i[b]=bg.select(this);switch(b){case"frontplot":n||y.append("g").classed("barlayer",!0),y.append("g").classed("scatterlayer",!0);break;case"backplot":y.append("g").classed("maplayer",!0);break;case"plotbg":i.bg=y.append("path");break;case"radial-grid":y.style("fill","none");break;case"angular-grid":y.style("fill","none");break;case"radial-line":y.append("line").style("fill","none");break;case"angular-line":y.append("path").style("fill","none");break}}),v.order()};xs.updateLayout=function(e,t){var r=this,n=r.layers,i=e._size,a=r.getRadial(t),o=r.getAngular(t),s=t.domain.x,l=t.domain.y;r.xOffset=i.l+i.w*s[0],r.yOffset=i.t+i.h*(1-l[1]);var u=r.xLength=i.w*(s[1]-s[0]),f=r.yLength=i.h*(l[1]-l[0]),c=r.getSector(t);r.sectorInRad=c.map(T0);var h=r.sectorBBox=Tyt(c),v=h[2]-h[0],b=h[3]-h[1],y=f/u,x=Math.abs(b/v),m,_,g,A,w;y>x?(m=u,_=u*x,w=(f-_)/i.h/2,g=[s[0],s[1]],A=[l[0]+w,l[1]-w]):(m=f/x,_=f,w=(u-m)/i.w/2,g=[s[0]+w,s[1]-w],A=[l[0],l[1]]),r.xLength2=m,r.yLength2=_,r.xDomain2=g,r.yDomain2=A;var k=r.xOffset2=i.l+i.w*g[0],p=r.yOffset2=i.t+i.h*(1-A[1]),d=r.radius=m/v,M=r.innerRadius=r.getHole(t)*d,T=r.cx=k-d*h[0],S=r.cy=p+d*h[3],E=r.cxx=T-k,L=r.cyy=S-p,D=a.side,R;D==="counterclockwise"?(R=D,D="top"):D==="clockwise"&&(R=D,D="bottom"),r.radialAxis=r.mockAxis(e,t,a,{_id:"x",side:D,_trueSide:R,domain:[M/i.w,d/i.w]}),r.angularAxis=r.mockAxis(e,t,o,{side:"right",domain:[0,Math.PI],autorange:!1}),r.doAutoRange(e,t),r.updateAngularAxis(e,t),r.updateRadialAxis(e,t),r.updateRadialAxisTitle(e,t),r.xaxis=r.mockCartesianAxis(e,t,{_id:"x",domain:g}),r.yaxis=r.mockCartesianAxis(e,t,{_id:"y",domain:A});var q=r.pathSubplot();r.clipPaths.forTraces.select("path").attr("d",q).attr("transform",ls(E,L)),n.frontplot.attr("transform",ls(k,p)).call(Lw.setClipUrl,r._hasClipOnAxisFalse?null:r.clipIds.forTraces,r.gd),n.bg.attr("d",q).attr("transform",ls(T,S)).call(M7.fill,t.bgcolor)};xs.mockAxis=function(e,t,r,n){var i=oa.extendFlat({},r,n);return dyt(i,t,e),i};xs.mockCartesianAxis=function(e,t,r){var n=this,i=n.isSmith,a=r._id,o=oa.extendFlat({type:"linear"},r);vyt(o,e);var s={x:[0,2],y:[1,3]};return o.setRange=function(){var l=n.sectorBBox,u=s[a],f=n.radialAxis._rl,c=(f[1]-f[0])/(1-n.getHole(t));o.range=[l[u[0]]*c,l[u[1]]*c]},o.isPtWithinRange=a==="x"&&!i?function(l){return n.isPtInside(l)}:function(){return!0},o.setRange(),o.setScale(),o};xs.doAutoRange=function(e,t){var r=this,n=r.gd,i=r.radialAxis,a=r.getRadial(t);pyt(n,i);var o=i.range;a.range=o.slice(),a._input.range=o.slice(),i._rl=[i.r2l(o[0],null,"gregorian"),i.r2l(o[1],null,"gregorian")]};xs.updateRadialAxis=function(e,t){var r=this,n=r.gd,i=r.layers,a=r.radius,o=r.innerRadius,s=r.cx,l=r.cy,u=r.getRadial(t),f=PAe(r.getSector(t)[0],360),c=r.radialAxis,h=o<a,v=r.isSmith;v||(r.fillViewInitialKey("radialaxis.angle",u.angle),r.fillViewInitialKey("radialaxis.range",c.range.slice()),c.setGeometry()),c.tickangle==="auto"&&f>90&&f<=270&&(c.tickangle=180);var b=v?function(d){var M=H5(r,B5([d.x,0]));return ls(M[0]-s,M[1]-l)}:function(d){return ls(c.l2p(d.x)+o,0)},y=v?function(d){return wyt(r,d.x,-1/0,1/0)}:function(d){return r.pathArc(c.r2p(d.x)+o)},x=NAe(u);if(r.radialTickLayout!==x&&(i["radial-axis"].selectAll(".xtick").remove(),r.radialTickLayout=x),h){c.setScale();var m=0,_=v?(c.tickvals||[]).filter(function(d){return d>=0}).map(function(d){return ru.tickText(c,d,!0,!1)}):ru.calcTicks(c),g=v?_:ru.clipEnds(c,_),A=ru.getTickSigns(c)[2];v&&((c.ticks==="top"&&c.side==="bottom"||c.ticks==="bottom"&&c.side==="top")&&(A=-A),c.ticks==="top"&&c.side==="top"&&(m=-c.ticklen),c.ticks==="bottom"&&c.side==="bottom"&&(m=c.ticklen)),ru.drawTicks(n,c,{vals:_,layer:i["radial-axis"],path:ru.makeTickPath(c,0,A),transFn:b,crisp:!1}),ru.drawGrid(n,c,{vals:g,layer:i["radial-grid"],path:y,transFn:oa.noop,crisp:!1}),ru.drawLabels(n,c,{vals:_,layer:i["radial-axis"],transFn:b,labelFns:ru.makeLabelFns(c,m)})}var w=r.radialAxisAngle=r.vangles?wg(zAe(T0(u.angle),r.vangles)):u.angle,k=ls(s,l),p=k+Wh(-w);Cw(i["radial-axis"],h&&(u.showticklabels||u.ticks),{transform:p}),Cw(i["radial-grid"],h&&u.showgrid,{transform:v?"":k}),Cw(i["radial-line"].select("line"),h&&u.showline,{x1:v?-a:o,y1:0,x2:a,y2:0,transform:p}).attr("stroke-width",u.linewidth).call(M7.stroke,u.linecolor)};xs.updateRadialAxisTitle=function(e,t,r){if(!this.isSmith){var n=this,i=n.gd,a=n.radius,o=n.cx,s=n.cy,l=n.getRadial(t),u=n.id+"title",f=0;if(l.title){var c=Lw.bBox(n.layers["radial-axis"].node()).height,h=l.title.font.size,v=l.side;f=v==="top"?h:v==="counterclockwise"?-(c+h*.4):c+h*.8}var b=r!==void 0?r:n.radialAxisAngle,y=T0(b),x=Math.cos(y),m=Math.sin(y),_=o+a/2*x+f*m,g=s-a/2*m+f*x;n.layers["radial-axis-title"]=gyt.draw(i,u,{propContainer:l,propName:n.id+".radialaxis.title",placeholder:_yt(i,"Click to enter radial axis title"),attributes:{x:_,y:g,"text-anchor":"middle"},transform:{rotate:-b}})}};xs.updateAngularAxis=function(e,t){var r=this,n=r.gd,i=r.layers,a=r.radius,o=r.innerRadius,s=r.cx,l=r.cy,u=r.getAngular(t),f=r.angularAxis,c=r.isSmith;c||(r.fillViewInitialKey("angularaxis.rotation",u.rotation),f.setGeometry(),f.setScale());var h=c?function(M){var T=H5(r,B5([0,M.x]));return Math.atan2(T[0]-s,T[1]-l)-Math.PI/2}:function(M){return f.t2g(M.x)};f.type==="linear"&&f.thetaunit==="radians"&&(f.tick0=wg(f.tick0),f.dtick=wg(f.dtick));var v=function(M){return ls(s+a*Math.cos(M),l-a*Math.sin(M))},b=c?function(M){var T=H5(r,B5([0,M.x]));return ls(T[0],T[1])}:function(M){return v(h(M))},y=c?function(M){var T=H5(r,B5([0,M.x])),S=Math.atan2(T[0]-s,T[1]-l)-Math.PI/2;return ls(T[0],T[1])+Wh(-wg(S))}:function(M){var T=h(M);return v(T)+Wh(-wg(T))},x=c?function(M){return byt(r,M.x,0,1/0)}:function(M){var T=h(M),S=Math.cos(T),E=Math.sin(T);return"M"+[s+o*S,l-o*E]+"L"+[s+a*S,l-a*E]},m=ru.makeLabelFns(f,0),_=m.labelStandoff,g={};g.xFn=function(M){var T=h(M);return Math.cos(T)*_},g.yFn=function(M){var T=h(M),S=Math.sin(T)>0?.2:1;return-Math.sin(T)*(_+M.fontSize*S)+Math.abs(Math.cos(T))*(M.fontSize*xyt)},g.anchorFn=function(M){var T=h(M),S=Math.cos(T);return Math.abs(S)<.1?"middle":S>0?"start":"end"},g.heightFn=function(M,T,S){var E=h(M);return-.5*(1+Math.sin(E))*S};var A=NAe(u);r.angularTickLayout!==A&&(i["angular-axis"].selectAll("."+f._id+"tick").remove(),r.angularTickLayout=A);var w=c?[1/0].concat(f.tickvals||[]).map(function(M){return ru.tickText(f,M,!0,!1)}):ru.calcTicks(f);c&&(w[0].text="\u221E",w[0].fontSize*=1.75);var k;if(t.gridshape==="linear"?(k=w.map(h),oa.angleDelta(k[0],k[1])<0&&(k=k.slice().reverse())):k=null,r.vangles=k,f.type==="category"&&(w=w.filter(function(M){return oa.isAngleInsideSector(h(M),r.sectorInRad)})),f.visible){var p=f.ticks==="inside"?-1:1,d=(f.linewidth||1)/2;ru.drawTicks(n,f,{vals:w,layer:i["angular-axis"],path:"M"+p*d+",0h"+p*f.ticklen,transFn:y,crisp:!1}),ru.drawGrid(n,f,{vals:w,layer:i["angular-grid"],path:x,transFn:oa.noop,crisp:!1}),ru.drawLabels(n,f,{vals:w,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:b,labelFns:g})}Cw(i["angular-line"].select("path"),u.showline,{d:r.pathSubplot(),transform:ls(s,l)}).attr("stroke-width",u.linewidth).call(M7.stroke,u.linecolor)};xs.updateFx=function(e,t){if(!this.gd._context.staticPlot){var r=!this.isSmith;r&&(this.updateAngularDrag(e),this.updateRadialDrag(e,t,0),this.updateRadialDrag(e,t,1)),this.updateHoverAndMainDrag(e)}};xs.updateHoverAndMainDrag=function(e){var t=this,r=t.isSmith,n=t.gd,i=t.layers,a=e._zoomlayer,o=_0.MINZOOM,s=_0.OFFEDGE,l=t.radius,u=t.innerRadius,f=t.cx,c=t.cy,h=t.cxx,v=t.cyy,b=t.sectorInRad,y=t.vangles,x=t.radialAxis,m=Jv.clampTiny,_=Jv.findXYatLength,g=Jv.findEnclosingVertexAngles,A=_0.cornerHalfWidth,w=_0.cornerLen/2,k,p,d=Kv.makeDragger(i,"path","maindrag",e.dragmode===!1?"none":"crosshair");bg.select(d).attr("d",t.pathSubplot()).attr("transform",ls(f,c)),d.onmousemove=function(X){DAe.hover(n,X,t.id),n._fullLayout._lasthover=d,n._fullLayout._hoversubplot=t.id},d.onmouseout=function(X){n._dragging||U5.unhover(n,X)};var M={element:d,gd:n,subplot:t.id,plotinfo:{id:t.id,xaxis:t.xaxis,yaxis:t.yaxis},xaxes:[t.xaxis],yaxes:[t.yaxis]},T,S,E,L,D,R,q,C,F;function N(X,ge){return Math.sqrt(X*X+ge*ge)}function U(X,ge){return N(X-h,ge-v)}function V(X,ge){return Math.atan2(v-ge,X-h)}function Y(X,ge){return[X*Math.cos(ge),X*Math.sin(-ge)]}function K(X,ge){if(X===0)return t.pathSector(2*A);var qe=w/X,Pe=ge-qe,Oe=ge+qe,de=Math.max(0,Math.min(X,l)),_e=de-A,ce=de+A;return"M"+Y(_e,Pe)+"A"+[_e,_e]+" 0,0,0 "+Y(_e,Oe)+"L"+Y(ce,Oe)+"A"+[ce,ce]+" 0,0,1 "+Y(ce,Pe)+"Z"}function B(X,ge,qe){if(X===0)return t.pathSector(2*A);var Pe=Y(X,ge),Oe=Y(X,qe),de=m((Pe[0]+Oe[0])/2),_e=m((Pe[1]+Oe[1])/2),ce,J;if(de&&_e){var ne=_e/de,be=-1/ne,Fe=_(A,ne,de,_e);ce=_(w,be,Fe[0][0],Fe[0][1]),J=_(w,be,Fe[1][0],Fe[1][1])}else{var He,te;_e?(He=w,te=A):(He=A,te=w),ce=[[de-He,_e-te],[de+He,_e-te]],J=[[de-He,_e+te],[de+He,_e+te]]}return"M"+ce.join("L")+"L"+J.reverse().join("L")+"Z"}function z(){E=null,L=null,D=t.pathSubplot(),R=!1;var X=n._fullLayout[t.id];q=cyt(X.bgcolor).getLuminance(),C=Kv.makeZoombox(a,q,f,c,D),C.attr("fill-rule","evenodd"),F=Kv.makeCorners(a,f,c),k7(n)}function j(X,ge){return ge=Math.max(Math.min(ge,l),u),X<s?X=0:l-X<s?X=l:ge<s?ge=0:l-ge<s&&(ge=l),Math.abs(ge-X)>o?(X<ge?(E=X,L=ge):(E=ge,L=X),!0):(E=null,L=null,!1)}function ae(X,ge){X=X||D,ge=ge||"M0,0Z",C.attr("d",X),F.attr("d",ge),Kv.transitionZoombox(C,F,R,q),R=!0;var qe={};G(qe),n.emit("plotly_relayouting",qe)}function ee(X,ge){X=X*k,ge=ge*p;var qe=T+X,Pe=S+ge,Oe=U(T,S),de=Math.min(U(qe,Pe),l),_e=V(T,S),ce,J;j(Oe,de)&&(ce=D+t.pathSector(L),E&&(ce+=t.pathSector(E)),J=K(E,_e)+K(L,_e)),ae(ce,J)}function ve(X,ge,qe,Pe){var Oe=Jv.findIntersectionXY(qe,Pe,qe,[X-h,v-ge]);return N(Oe[0],Oe[1])}function fe(X,ge){var qe=T+X,Pe=S+ge,Oe=V(T,S),de=V(qe,Pe),_e=g(Oe,y),ce=g(de,y),J=ve(T,S,_e[0],_e[1]),ne=Math.min(ve(qe,Pe,ce[0],ce[1]),l),be,Fe;j(J,ne)&&(be=D+t.pathSector(L),E&&(be+=t.pathSector(E)),Fe=[B(E,_e[0],_e[1]),B(L,_e[0],_e[1])].join(" ")),ae(be,Fe)}function se(){if(Kv.removeZoombox(n),!(E===null||L===null)){var X={};G(X),Kv.showDoubleClickNotifier(n),_g.call("_guiRelayout",n,X)}}function G(X){var ge=x._rl,qe=(ge[1]-ge[0])/(1-u/l)/l,Pe=[ge[0]+(E-u)*qe,ge[0]+(L-u)*qe];X[t.id+".radialaxis.range"]=Pe}function Z(X,ge){var qe=n._fullLayout.clickmode;if(Kv.removeZoombox(n),X===2){var Pe={};for(var Oe in t.viewInitial)Pe[t.id+"."+Oe]=t.viewInitial[Oe];n.emit("plotly_doubleclick",null),_g.call("_guiRelayout",n,Pe)}qe.indexOf("select")>-1&&X===1&&yyt(ge,n,[t.xaxis],[t.yaxis],t.id,M),qe.indexOf("event")>-1&&DAe.click(n,ge,t.id)}M.prepFn=function(X,ge,qe){var Pe=n._fullLayout.dragmode,Oe=d.getBoundingClientRect();n._fullLayout._calcInverseTransform(n);var de=n._fullLayout._invTransform;k=n._fullLayout._invScaleX,p=n._fullLayout._invScaleY;var _e=oa.apply3DTransform(de)(ge-Oe.left,qe-Oe.top);if(T=_e[0],S=_e[1],y){var ce=Jv.findPolygonOffset(l,b[0],b[1],y);T+=h+ce[0],S+=v+ce[1]}switch(Pe){case"zoom":M.clickFn=Z,r||(y?M.moveFn=fe:M.moveFn=ee,M.doneFn=se,z(X,ge,qe));break;case"select":case"lasso":myt(X,ge,qe,M,Pe);break}},U5.init(M)};xs.updateRadialDrag=function(e,t,r){var n=this,i=n.gd,a=n.layers,o=n.radius,s=n.innerRadius,l=n.cx,u=n.cy,f=n.radialAxis,c=_0.radialDragBoxSize,h=c/2;if(!f.visible)return;var v=T0(n.radialAxisAngle),b=f._rl,y=b[0],x=b[1],m=b[r],_=.75*(b[1]-b[0])/(1-n.getHole(t))/o,g,A,w;r?(g=l+(o+h)*Math.cos(v),A=u-(o+h)*Math.sin(v),w="radialdrag"):(g=l+(s-h)*Math.cos(v),A=u-(s-h)*Math.sin(v),w="radialdrag-inner");var k=Kv.makeRectDragger(a,w,"crosshair",-h,-h,c,c),p={element:k,gd:i};e.dragmode===!1&&(p.dragmode=!1),Cw(bg.select(k),f.visible&&s<o,{transform:ls(g,A)});var d,M,T;function S(q,C){if(d)d(q,C);else{var F=[q,-C],N=[Math.cos(v),Math.sin(v)],U=Math.abs(oa.dot(F,N)/Math.sqrt(oa.dot(F,F)));isNaN(U)||(d=U<.5?D:R)}var V={};E(V),i.emit("plotly_relayouting",V)}function E(q){M!==null?q[n.id+".radialaxis.angle"]=M:T!==null&&(q[n.id+".radialaxis.range["+r+"]"]=T)}function L(){M!==null?_g.call("_guiRelayout",i,n.id+".radialaxis.angle",M):T!==null&&_g.call("_guiRelayout",i,n.id+".radialaxis.range["+r+"]",T)}function D(q,C){if(r!==0){var F=g+q,N=A+C;M=Math.atan2(u-N,F-l),n.vangles&&(M=zAe(M,n.vangles)),M=wg(M);var U=ls(l,u)+Wh(-M);a["radial-axis"].attr("transform",U),a["radial-line"].select("line").attr("transform",U);var V=n.gd._fullLayout,Y=V[n.id];n.updateRadialAxisTitle(V,Y,M)}}function R(q,C){var F=oa.dot([q,-C],[Math.cos(v),Math.sin(v)]);if(T=m-_*F,_>0!=(r?T>y:T<x)){T=null;return}var N=i._fullLayout,U=N[n.id];f.range[r]=T,f._rl[r]=T,n.updateRadialAxis(N,U),n.xaxis.setRange(),n.xaxis.setScale(),n.yaxis.setRange(),n.yaxis.setScale();var V=!1;for(var Y in n.traceHash){var K=n.traceHash[Y],B=oa.filterVisible(K),z=K[0][0].trace._module;z.plot(i,n,B,U),_g.traceIs(Y,"gl")&&B.length&&(V=!0)}V&&(RAe(i),IAe(i))}p.prepFn=function(){d=null,M=null,T=null,p.moveFn=S,p.doneFn=L,k7(i)},p.clampFn=function(q,C){return Math.sqrt(q*q+C*C)<_0.MINDRAG&&(q=0,C=0),[q,C]},U5.init(p)};xs.updateAngularDrag=function(e){var t=this,r=t.gd,n=t.layers,i=t.radius,a=t.angularAxis,o=t.cx,s=t.cy,l=t.cxx,u=t.cyy,f=_0.angularDragBoxSize,c=Kv.makeDragger(n,"path","angulardrag",e.dragmode===!1?"none":"move"),h={element:c,gd:r};e.dragmode===!1?h.dragmode=!1:bg.select(c).attr("d",t.pathAnnulus(i,i+f)).attr("transform",ls(o,s)).call(qAe,"move");function v(T,S){return Math.atan2(u+f-S,T-l-f)}var b=n.frontplot.select(".scatterlayer").selectAll(".trace"),y=b.selectAll(".point"),x=b.selectAll(".textpoint"),m,_,g,A,w,k;function p(T,S){var E=t.gd._fullLayout,L=E[t.id],D=m+T*e._invScaleX,R=_+S*e._invScaleY,q=v(D,R),C=wg(q-k);if(A=g+C,n.frontplot.attr("transform",ls(t.xOffset2,t.yOffset2)+Wh([-C,l,u])),t.vangles){w=t.radialAxisAngle+C;var F=ls(o,s)+Wh(-C),N=ls(o,s)+Wh(-w);n.bg.attr("transform",F),n["radial-grid"].attr("transform",F),n["radial-axis"].attr("transform",N),n["radial-line"].select("line").attr("transform",N),t.updateRadialAxisTitle(E,L,w)}else t.clipPaths.forTraces.select("path").attr("transform",ls(l,u)+Wh(C));y.each(function(){var j=bg.select(this),ae=Lw.getTranslate(j);j.attr("transform",ls(ae.x,ae.y)+Wh([C]))}),x.each(function(){var j=bg.select(this),ae=j.select("text"),ee=Lw.getTranslate(j);j.attr("transform",Wh([C,ae.attr("x"),ae.attr("y")])+ls(ee.x,ee.y))}),a.rotation=oa.modHalf(A,360),t.updateAngularAxis(E,L),t._hasClipOnAxisFalse&&!oa.isFullCircle(t.sectorInRad)&&b.call(Lw.hideOutsideRangePoints,t);var U=!1;for(var V in t.traceHash)if(_g.traceIs(V,"gl")){var Y=t.traceHash[V],K=oa.filterVisible(Y),B=Y[0][0].trace._module;B.plot(r,t,K,L),K.length&&(U=!0)}U&&(RAe(r),IAe(r));var z={};d(z),r.emit("plotly_relayouting",z)}function d(T){T[t.id+".angularaxis.rotation"]=A,t.vangles&&(T[t.id+".radialaxis.angle"]=w)}function M(){x.select("text").attr("transform",null);var T={};d(T),_g.call("_guiRelayout",r,T)}h.prepFn=function(T,S,E){var L=e[t.id];g=L.angularaxis.rotation;var D=c.getBoundingClientRect();m=S-D.left,_=E-D.top,r._fullLayout._calcInverseTransform(r);var R=oa.apply3DTransform(e._invTransform)(m,_);m=R[0],_=R[1],k=v(m,_),h.moveFn=p,h.doneFn=M,k7(r)},t.vangles&&!oa.isFullCircle(t.sectorInRad)&&(h.prepFn=oa.noop,qAe(bg.select(c),null)),U5.init(h)};xs.isPtInside=function(e){if(this.isSmith)return!0;var t=this.sectorInRad,r=this.vangles,n=this.angularAxis.c2g(e.theta),i=this.radialAxis,a=i.c2l(e.r),o=i._rl,s=r?Jv.isPtInsidePolygon:oa.isPtInsideSector;return s(a,n,o,t,r)};xs.pathArc=function(e){var t=this.sectorInRad,r=this.vangles,n=r?Jv.pathPolygon:oa.pathArc;return n(e,t[0],t[1],r)};xs.pathSector=function(e){var t=this.sectorInRad,r=this.vangles,n=r?Jv.pathPolygon:oa.pathSector;return n(e,t[0],t[1],r)};xs.pathAnnulus=function(e,t){var r=this.sectorInRad,n=this.vangles,i=n?Jv.pathPolygonAnnulus:oa.pathAnnulus;return i(e,t,r[0],r[1],n)};xs.pathSubplot=function(){var e=this.innerRadius,t=this.radius;return e?this.pathAnnulus(e,t):this.pathSector(t)};xs.fillViewInitialKey=function(e,t){e in this.viewInitial||(this.viewInitial[e]=t)};function NAe(e){var t=e.ticks+String(e.ticklen)+String(e.showticklabels);return"side"in e&&(t+=e.side),t}function Tyt(e){var t=e[0],r=e[1],n=r-t,i=PAe(t,360),a=i+n,o=Math.cos(T0(i)),s=Math.sin(T0(i)),l=Math.cos(T0(a)),u=Math.sin(T0(a)),f,c,h,v;return i<=90&&a>=90||i>90&&a>=450?v=1:s<=0&&u<=0?v=0:v=Math.max(s,u),i<=180&&a>=180||i>180&&a>=540?f=-1:o>=0&&l>=0?f=0:f=Math.min(o,l),i<=270&&a>=270||i>270&&a>=630?c=-1:s>=0&&u>=0?c=0:c=Math.min(s,u),a>=360?h=1:o<=0&&l<=0?h=0:h=Math.max(o,l),[f,c,h,v]}function zAe(e,t){var r=function(i){return oa.angleDist(e,i)},n=oa.findIndexOfMin(t,r);return t[n]}function Cw(e,t,r){return t?(e.attr("display",null),e.attr(r)):e&&e.attr("display","none"),e}});var S7=$((TRt,YAe)=>{"use strict";var Ayt=Ro(),Fn=xl(),Myt=Ua().attributes,ih=pt().extendFlat,HAe=Fa().overrideAll,UAe=HAe({color:Fn.color,showline:ih({},Fn.showline,{dflt:!0}),linecolor:Fn.linecolor,linewidth:Fn.linewidth,showgrid:ih({},Fn.showgrid,{dflt:!0}),gridcolor:Fn.gridcolor,gridwidth:Fn.gridwidth,griddash:Fn.griddash},"plot","from-root"),jAe=HAe({tickmode:Fn.tickmode,nticks:Fn.nticks,tick0:Fn.tick0,dtick:Fn.dtick,tickvals:Fn.tickvals,ticktext:Fn.ticktext,ticks:Fn.ticks,ticklen:Fn.ticklen,tickwidth:Fn.tickwidth,tickcolor:Fn.tickcolor,ticklabelstep:Fn.ticklabelstep,showticklabels:Fn.showticklabels,showtickprefix:Fn.showtickprefix,tickprefix:Fn.tickprefix,showticksuffix:Fn.showticksuffix,ticksuffix:Fn.ticksuffix,showexponent:Fn.showexponent,exponentformat:Fn.exponentformat,minexponent:Fn.minexponent,separatethousands:Fn.separatethousands,tickfont:Fn.tickfont,tickangle:Fn.tickangle,tickformat:Fn.tickformat,tickformatstops:Fn.tickformatstops,layer:Fn.layer},"plot","from-root"),VAe={visible:ih({},Fn.visible,{dflt:!0}),type:ih({},Fn.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Fn.autotypenumbers,autorange:ih({},Fn.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:ih({},Fn.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:Fn.categoryorder,categoryarray:Fn.categoryarray,angle:{valType:"angle",editType:"plot",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:ih({},Fn.title.text,{editType:"plot",dflt:""}),font:ih({},Fn.title.font,{editType:"plot"}),editType:"plot"},hoverformat:Fn.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:Fn._deprecated.title,titlefont:Fn._deprecated.titlefont}};ih(VAe,UAe,jAe);var GAe={visible:ih({},Fn.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},autotypenumbers:Fn.autotypenumbers,categoryorder:Fn.categoryorder,categoryarray:Fn.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:Fn.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};ih(GAe,UAe,jAe);YAe.exports={domain:Myt({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",editType:"plot",dflt:Ayt.background,description:"Set the background color of the subplot"},radialaxis:VAe,angularaxis:GAe,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}});var $Ae=$((ARt,ZAe)=>{"use strict";var V5=pt(),kyt=Rr(),Syt=bi(),Eyt=E2(),Lyt=Au().getSubplotData,Cyt=ap(),Dyt=F1(),qyt=op(),Ryt=sp(),Iyt=tA(),Pyt=rA(),Fyt=B1(),XAe=S7(),Nyt=_7(),G5=N5(),WAe=G5.axisNames;function zyt(e,t,r,n){var i=r("bgcolor");n.bgColor=kyt.combine(i,n.paper_bgcolor);var a=r("sector");r("hole");var o=Lyt(n.fullData,G5.name,n.id),s=n.layoutOut,l;function u(d,M){return r(l+"."+d,M)}for(var f=0;f<WAe.length;f++){l=WAe[f],V5.isPlainObject(e[l])||(e[l]={});var c=e[l],h=Syt.newContainer(t,l);h._id=h._name=l,h._attr=n.id+"."+l,h._traceIndices=o.map(function(d){return d._expandedIndex});var v=G5.axisName2dataArray[l],b=Oyt(c,h,u,o,v,n);Iyt(c,h,u,{axData:o,dataAttr:v});var y=u("visible");switch(Nyt(h,t,s),u("uirevision",t.uirevision),h._m=1,l){case"radialaxis":var x=u("autorange",!h.isValidRange(c.range));c.autorange=x,x&&(b==="linear"||b==="-")&&u("rangemode"),x==="reversed"&&(h._m=-1),u("range"),h.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(b==="date"){V5.log("Polar plots do not support date angular axes yet.");for(var m=0;m<o.length;m++)o[m].visible=!1;b=c.type=h.type="linear"}u(b==="linear"?"thetaunit":"period");var _=u("direction");u("rotation",{counterclockwise:0,clockwise:90}[_]);break}if(Ryt(c,h,u,h.type,{tickSuffixDflt:h.thetaunit==="degrees"?"\xB0":void 0}),y){var g,A,w,k,p=n.font||{};g=u("color"),A=g===c.color?g:p.color,w=p.size,k=p.family,Cyt(c,h,u,h.type),qyt(c,h,u,h.type,{font:{color:A,size:w,family:k}}),Dyt(c,h,u,{outerTicks:!0}),Pyt(c,h,u,{dfltColor:g,bgColor:n.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:XAe[l]}),u("layer"),l==="radialaxis"&&(u("side"),u("angle",a[0]),u("title.text"),V5.coerceFont(u,"title.font",{color:A,size:V5.bigFont(w),family:k}))}b!=="category"&&u("hoverformat"),h._input=c}t.angularaxis.type==="category"&&r("gridshape")}function Oyt(e,t,r,n,i,a){var o=r("autotypenumbers",a.autotypenumbersDflt),s=r("type");if(s==="-"){for(var l,u=0;u<n.length;u++)if(n[u].visible){l=n[u];break}l&&l[i]&&(t.type=Fyt(l[i],"gregorian",{noMultiCategory:!0,autotypenumbers:o})),t.type==="-"?t.type="linear":e.type=t.type}return t.type}ZAe.exports=function(t,r,n){Eyt(t,r,n,{type:G5.name,attributes:XAe,handleDefaults:zyt,font:r.font,autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,fullData:n,layoutOut:r})}});var E7=$((MRt,tMe)=>{"use strict";var Byt=Au().getSubplotCalcData,Hyt=pt().counterRegex,Uyt=BAe(),JAe=N5(),QAe=JAe.attr,Tg=JAe.name,KAe=Hyt(Tg),eMe={};eMe[QAe]={valType:"subplotid",dflt:Tg,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")};function jyt(e){for(var t=e._fullLayout,r=e.calcdata,n=t._subplots[Tg],i=0;i<n.length;i++){var a=n[i],o=Byt(r,Tg,a),s=t[a]._subplot;s||(s=Uyt(e,a),t[a]._subplot=s),s.plot(o,t,e._promises)}}function Vyt(e,t,r,n){for(var i=n._subplots[Tg]||[],a=n._has&&n._has("gl"),o=t._has&&t._has("gl"),s=a&&!o,l=0;l<i.length;l++){var u=i[l],f=n[u]._subplot;if(!t[u]&&f){f.framework.remove(),f.layers["radial-axis-title"].remove();for(var c in f.clipPaths)f.clipPaths[c].remove()}s&&f._scene&&(f._scene.destroy(),f._scene=null)}}tMe.exports={attr:QAe,name:Tg,idRoot:Tg,idRegex:KAe,attrRegex:KAe,attributes:eMe,layoutAttributes:S7(),supplyLayoutDefaults:$Ae(),plot:jyt,clean:Vyt,toSVG:as().toSVG}});var W5=$((kRt,rMe)=>{"use strict";var Gyt=Yn().hovertemplateAttrs,Yyt=Yn().texttemplateAttrs,Y5=ln().extendFlat,zu=Ps(),Wyt=aa(),Dw=zu.line;rMe.exports={mode:zu.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:zu.text,texttemplate:Yyt({editType:"plot"},{keys:["r","theta","text"]}),hovertext:zu.hovertext,line:{color:Dw.color,width:Dw.width,dash:Dw.dash,shape:Y5({},Dw.shape,{values:["linear","spline"]}),smoothing:Dw.smoothing,editType:"calc"},connectgaps:zu.connectgaps,marker:zu.marker,cliponaxis:Y5({},zu.cliponaxis,{dflt:!1}),textposition:zu.textposition,textfont:zu.textfont,fill:Y5({},zu.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:zu.fillcolor,hoverinfo:Y5({},Wyt.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:zu.hoveron,hovertemplate:Gyt(),selected:zu.selected,unselected:zu.unselected}});var L7=$((SRt,oMe)=>{"use strict";var nMe=pt(),qy=ts(),Xyt=Cp(),Zyt=Dp(),iMe=qb(),$yt=qp(),Kyt=nm(),Jyt=kp().PTS_LINESONLY,Qyt=W5();function ext(e,t,r,n){function i(s,l){return nMe.coerce(e,t,Qyt,s,l)}var a=aMe(e,t,n,i);if(!a){t.visible=!1;return}i("thetaunit"),i("mode",a<Jyt?"lines+markers":"lines"),i("text"),i("hovertext"),t.hoveron!=="fills"&&i("hovertemplate"),qy.hasLines(t)&&(Zyt(e,t,r,n,i),iMe(e,t,i),i("connectgaps")),qy.hasMarkers(t)&&Xyt(e,t,r,n,i,{gradient:!0}),qy.hasText(t)&&(i("texttemplate"),$yt(e,t,n,i));var o=[];(qy.hasMarkers(t)||qy.hasText(t))&&(i("cliponaxis"),i("marker.maxdisplayed"),o.push("points")),i("fill"),t.fill!=="none"&&(Kyt(e,t,r,i),qy.hasLines(t)||iMe(e,t,i)),(t.fill==="tonext"||t.fill==="toself")&&o.push("fills"),i("hoveron",o.join("+")||"points"),nMe.coerceSelectionMarkerOpacity(t,i)}function aMe(e,t,r,n){var i=n("r"),a=n("theta"),o;if(i)a?o=Math.min(i.length,a.length):(o=i.length,n("theta0"),n("dtheta"));else{if(!a)return 0;o=t.theta.length,n("r0"),n("dr")}return t._length=o,o}oMe.exports={handleRThetaDefaults:aMe,supplyDefaults:ext}});var C7=$((ERt,lMe)=>{"use strict";var txt=pt(),sMe=tn();lMe.exports=function(t,r,n){var i={},a=n[r.subplot]._subplot,o,s;a?(o=a.radialAxis,s=a.angularAxis):(a=n[r.subplot],o=a.radialaxis,s=a.angularaxis);var l=o.c2l(t.r);i.rLabel=sMe.tickText(o,l,!0).text;var u=s.thetaunit==="degrees"?txt.rad2deg(t.theta):t.theta;return i.thetaLabel=sMe.tickText(s,u,!0).text,i}});var cMe=$((LRt,fMe)=>{"use strict";var uMe=mn(),rxt=Zn().BADNUM,nxt=tn(),ixt=Rp(),axt=Cv(),oxt=jc(),sxt=Ip().calcMarkerSize;fMe.exports=function(t,r){for(var n=t._fullLayout,i=r.subplot,a=n[i].radialaxis,o=n[i].angularaxis,s=a.makeCalcdata(r,"r"),l=o.makeCalcdata(r,"theta"),u=r._length,f=new Array(u),c=0;c<u;c++){var h=s[c],v=l[c],b=f[c]={};uMe(h)&&uMe(v)?(b.r=h,b.theta=v):b.r=rxt}var y=sxt(r,u);return r._extremes.x=nxt.findExtremes(a,s,{ppad:y}),ixt(t,r),axt(f,r),oxt(f,r),f}});var dMe=$((CRt,vMe)=>{"use strict";var lxt=Fb(),hMe=Zn().BADNUM;vMe.exports=function(t,r,n){for(var i=r.layers.frontplot.select("g.scatterlayer"),a={xaxis:r.xaxis,yaxis:r.yaxis,plot:r.framework,layerClipId:r._hasClipOnAxisFalse?r.clipIds.forTraces:null},o=r.radialAxis,s=r.angularAxis,l=0;l<n.length;l++)for(var u=n[l],f=0;f<u.length;f++){var c=u[f],h=c.r;if(h===hMe)c.x=c.y=hMe;else{var v=o.c2g(h),b=s.c2g(c.theta);c.x=v*Math.cos(b),c.y=v*Math.sin(b)}}lxt(t,a,n,i)}});var D7=$((DRt,gMe)=>{"use strict";var uxt=Nb();function fxt(e,t,r,n){var i=uxt(e,t,r,n);if(!(!i||i[0].index===!1)){var a=i[0];if(a.index===void 0)return i;var o=e.subplot,s=a.cd[a.index],l=a.trace;if(o.isPtInside(s))return a.xLabelVal=void 0,a.yLabelVal=void 0,pMe(s,l,o,a),a.hovertemplate=l.hovertemplate,i}}function pMe(e,t,r,n){var i=r.radialAxis,a=r.angularAxis;i._hovertitle="r",a._hovertitle="\u03B8";var o={};o[t.subplot]={_subplot:r};var s=t._module.formatLabels(e,t,o);n.rLabel=s.rLabel,n.thetaLabel=s.thetaLabel;var l=e.hi||t.hoverinfo,u=[];function f(h,v){u.push(h._hovertitle+": "+v)}if(!t.hovertemplate){var c=l.split("+");c.indexOf("all")!==-1&&(c=["r","theta","text"]),c.indexOf("r")!==-1&&f(i,n.rLabel),c.indexOf("theta")!==-1&&f(a,n.thetaLabel),c.indexOf("text")!==-1&&n.text&&(u.push(n.text),delete n.text),n.extraText=u.join("<br>")}}gMe.exports={hoverPoints:fxt,makeHoverPointText:pMe}});var yMe=$((qRt,mMe)=>{"use strict";mMe.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:E7(),categories:["polar","symbols","showLegend","scatter-like"],attributes:W5(),supplyDefaults:L7().supplyDefaults,colorbar:Zf(),formatLabels:C7(),calc:cMe(),plot:dMe(),style:gf().style,styleOnSelect:gf().styleOnSelect,hoverPoints:D7().hoverPoints,selectPoints:zb(),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}});var bMe=$((RRt,xMe)=>{"use strict";xMe.exports=yMe()});var q7=$((IRt,wMe)=>{"use strict";var cxt=Yn().hovertemplateAttrs,qw=ln().extendFlat,A0=W5(),M0=zh();wMe.exports={r:A0.r,theta:A0.theta,r0:A0.r0,dr:A0.dr,theta0:A0.theta0,dtheta:A0.dtheta,thetaunit:A0.thetaunit,base:qw({},M0.base,{description:["Sets where the bar base is drawn (in radial axis units).","In *stack* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")}),offset:qw({},M0.offset,{description:["Shifts the angular position where the bar is drawn","(in *thetatunit* units)."].join(" ")}),width:qw({},M0.width,{description:["Sets the bar angular width (in *thetaunit* units)."].join(" ")}),text:qw({},M0.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:qw({},M0.hovertext,{description:"Same as `text`."}),marker:M0.marker,hoverinfo:A0.hoverinfo,hovertemplate:cxt(),selected:M0.selected,unselected:M0.unselected}});var R7=$((PRt,_Me)=>{"use strict";_Me.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc",description:["Sets the gap between bars of","adjacent location coordinates.","Values are unitless, they represent fractions of the minimum difference","in bar positions in the data."].join(" ")}}});var MMe=$((FRt,AMe)=>{"use strict";var TMe=pt(),hxt=L7().handleRThetaDefaults,vxt=zA(),dxt=q7();AMe.exports=function(t,r,n,i){function a(s,l){return TMe.coerce(t,r,dxt,s,l)}var o=hxt(t,r,i,a);if(!o){r.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),vxt(t,r,a,n,i),TMe.coerceSelectionMarkerOpacity(r,a)}});var SMe=$((NRt,kMe)=>{"use strict";var pxt=pt(),gxt=R7();kMe.exports=function(e,t,r){var n={},i;function a(l,u){return pxt.coerce(e[i]||{},t[i],gxt,l,u)}for(var o=0;o<r.length;o++){var s=r[o];s.type==="barpolar"&&s.visible===!0&&(i=s.subplot,n[i]||(a("barmode"),a("bargap"),n[i]=1))}}});var I7=$((zRt,CMe)=>{"use strict";var EMe=jl().hasColorscale,LMe=ku(),mxt=t2(),yxt=Tm().setGroupPositions,xxt=jc(),bxt=Ir().traceIs,wxt=pt().extendFlat;function _xt(e,t){for(var r=e._fullLayout,n=t.subplot,i=r[n].radialaxis,a=r[n].angularaxis,o=i.makeCalcdata(t,"r"),s=a.makeCalcdata(t,"theta"),l=t._length,u=new Array(l),f=o,c=s,h=0;h<l;h++)u[h]={p:c[h],s:f[h]};function v(b){var y=t[b];y!==void 0&&(t["_"+b]=Array.isArray(y)?a.makeCalcdata(t,b):a.d2c(y,t.thetaunit))}return a.type==="linear"&&(v("width"),v("offset")),EMe(t,"marker")&&LMe(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),EMe(t,"marker.line")&&LMe(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),mxt(u,t),xxt(u,t),u}function Txt(e,t,r){for(var n=e.calcdata,i=[],a=0;a<n.length;a++){var o=n[a],s=o[0].trace;s.visible===!0&&bxt(s,"bar")&&s.subplot===r&&i.push(o)}var l=wxt({},t.radialaxis,{_id:"x"}),u=t.angularaxis;yxt(e,u,l,i,{mode:t.barmode,norm:t.barnorm,gap:t.bargap,groupgap:t.bargroupgap})}CMe.exports={calc:_xt,crossTraceCalc:Txt}});var RMe=$((ORt,qMe)=>{"use strict";var DMe=Nr(),X5=mn(),Ry=pt(),Axt=un(),P7=O5();qMe.exports=function(t,r,n){var i=r.xaxis,a=r.yaxis,o=r.radialAxis,s=r.angularAxis,l=Mxt(r),u=r.layers.frontplot.select("g.barlayer");Ry.makeTraceGroups(u,n,"trace bars").each(function(){var f=DMe.select(this),c=Ry.ensureSingle(f,"g","points"),h=c.selectAll("g.point").data(Ry.identity);h.enter().append("g").style("vector-effect","non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),h.exit().remove(),h.each(function(v){var b=DMe.select(this),y=v.rp0=o.c2p(v.s0),x=v.rp1=o.c2p(v.s1),m=v.thetag0=s.c2g(v.p0),_=v.thetag1=s.c2g(v.p1),g;if(!X5(y)||!X5(x)||!X5(m)||!X5(_)||y===x||m===_)g="M0,0Z";else{var A=o.c2g(v.s1),w=(m+_)/2;v.ct=[i.c2p(A*Math.cos(w)),a.c2p(A*Math.sin(w))],g=l(y,x,m,_)}Ry.ensureSingle(b,"path").attr("d",g)}),Axt.setClipUrl(f,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function Mxt(e){var t=e.cxx,r=e.cyy;return e.vangles?function(n,i,a,o){var s,l;Ry.angleDelta(a,o)>0?(s=a,l=o):(s=o,l=a);var u=P7.findEnclosingVertexAngles(s,e.vangles)[0],f=P7.findEnclosingVertexAngles(l,e.vangles)[1],c=[u,(s+l)/2,f];return P7.pathPolygonAnnulus(n,i,s,l,c,t,r)}:function(n,i,a,o){return Ry.pathAnnulus(n,i,a,o,t,r)}}});var PMe=$((BRt,IMe)=>{"use strict";var kxt=lo(),F7=pt(),Sxt=km().getTraceColor,Ext=F7.fillText,Lxt=D7().makeHoverPointText,Cxt=O5().isPtInsidePolygon;IMe.exports=function(t,r,n){var i=t.cd,a=i[0].trace,o=t.subplot,s=o.radialAxis,l=o.angularAxis,u=o.vangles,f=u?Cxt:F7.isPtInsideSector,c=t.maxHoverDistance,h=l._period||2*Math.PI,v=Math.abs(s.g2p(Math.sqrt(r*r+n*n))),b=Math.atan2(n,r);s.range[0]>s.range[1]&&(b+=Math.PI);var y=function(g){return f(v,b,[g.rp0,g.rp1],[g.thetag0,g.thetag1],u)?c+Math.min(1,Math.abs(g.thetag1-g.thetag0)/h)-1+(g.rp1-v)/(g.rp1-g.rp0)-1:1/0};if(kxt.getClosest(i,y,t),t.index!==!1){var x=t.index,m=i[x];t.x0=t.x1=m.ct[0],t.y0=t.y1=m.ct[1];var _=F7.extendFlat({},m,{r:m.s,theta:m.p});return Ext(m,a,t),Lxt(_,a,o,t),t.hovertemplate=a.hovertemplate,t.color=Sxt(a,m),t.xLabelVal=t.yLabelVal=void 0,m.s<0&&(t.idealAlign="left"),[t]}}});var NMe=$((HRt,FMe)=>{"use strict";FMe.exports={moduleType:"trace",name:"barpolar",basePlotModule:E7(),categories:["polar","bar","showLegend"],attributes:q7(),layoutAttributes:R7(),supplyDefaults:MMe(),supplyLayoutDefaults:SMe(),calc:I7().calc,crossTraceCalc:I7().crossTraceCalc,plot:RMe(),colorbar:Zf(),formatLabels:C7(),style:Kf().style,styleOnSelect:Kf().styleOnSelect,hoverPoints:PMe(),selectPoints:Sm(),meta:{hrName:"bar_polar",description:["The data visualized by the radial span of the bars is set in `r`"].join(" ")}}});var OMe=$((URt,zMe)=>{"use strict";zMe.exports=NMe()});var Rw=$(BMe=>{"use strict";BMe.pointsAccessorFunction=function(e,t){for(var r,n,i=0;i<e.length&&(r=e[i],r!==t);i++)!r._indexToPoints||r.enabled===!1||(n=r._indexToPoints);var a=n?function(o){return n[o]}:function(o){return[o]};return a}});var VMe=$(Py=>{"use strict";var Dxt=tn(),Iy=pt(),qxt=Ed(),Rxt=Rw().pointsAccessorFunction,Ja=Zn().BADNUM;Py.moduleType="transform";Py.name="aggregate";var jMe=Py.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this aggregate transform is enabled or disabled."].join(" ")},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc",description:["Sets the grouping target to which the aggregation is applied.","Data points with matching group values will be coalesced into","one point, using the supplied aggregation functions to reduce data","in other data arrays.","If a string, `groups` is assumed to be a reference to a data array","in the parent trace object.","To aggregate by nested variables, use *.* to access them.","For example, set `groups` to *marker.color* to aggregate","about the marker color array.","If an array, `groups` is itself the data array by which we aggregate."].join(" ")},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc",description:["A reference to the data array in the parent trace to aggregate.","To aggregate by nested variables, use *.* to access them.","For example, set `groups` to *marker.color* to aggregate","over the marker color array.","The referenced array must already exist, unless `func` is *count*,","and each array may only be referenced once."].join(" ")},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc",description:["Sets the aggregation function.","All values from the linked `target`, corresponding to the same value","in the `groups` array, are collected and reduced by this function.","*count* is simply the number of values in the `groups` array, so does","not even require the linked array to exist. *first* (*last*) is just","the first (last) linked value.","Invalid values are ignored, so for example in *avg* they do not","contribute to either the numerator or the denominator.","Any data type (numeric, date, category) may be aggregated with any","function, even though in certain cases it is unlikely to make sense,","for example a sum of dates or average of categories.","*median* will return the average of the two central values if there is","an even count. *mode* will return the first value to reach the maximum","count, in case of a tie.","*change* will return the difference between the first and last linked values.","*range* will return the difference between the min and max linked values."].join(" ")},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc",description:["*stddev* supports two formula variants: *sample* (normalize by N-1)","and *population* (normalize by N)."].join(" ")},enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this aggregation function is enabled or disabled."].join(" ")},editType:"calc"},editType:"calc"},HMe=jMe.aggregations;Py.supplyDefaults=function(e,t){var r={},n;function i(x,m){return Iy.coerce(e,r,jMe,x,m)}var a=i("enabled");if(!a)return r;var o=qxt.findArrayAttributes(t),s={};for(n=0;n<o.length;n++)s[o[n]]=1;var l=i("groups");if(!Array.isArray(l)){if(!s[l])return r.enabled=!1,r;s[l]=0}var u=e.aggregations||[],f=r.aggregations=new Array(u.length),c;function h(x,m){return Iy.coerce(u[n],c,HMe,x,m)}for(n=0;n<u.length;n++){c={_index:n};var v=h("target"),b=h("func"),y=h("enabled");y&&v&&(s[v]||b==="count"&&s[v]===void 0)?(b==="stddev"&&h("funcmode"),s[v]=0,f[n]=c):f[n]={enabled:!1,_index:n}}for(n=0;n<o.length;n++)s[o[n]]&&f.push({target:o[n],func:HMe.func.dflt,enabled:!0,_index:-1});return r};Py.calcTransform=function(e,t,r){if(r.enabled){var n=r.groups,i=Iy.getTargetArray(t,{target:n});if(i){var a,o,s,l,u={},f={},c=[],h=Rxt(t.transforms,r),v=i.length;for(t._length&&(v=Math.min(v,t._length)),a=0;a<v;a++)o=i[a],s=u[o],s===void 0?(u[o]=c.length,l=[a],c.push(l),f[u[o]]=h(a)):(c[s].push(a),f[u[o]]=(f[u[o]]||[]).concat(h(a)));r._indexToPoints=f;var b=r.aggregations;for(a=0;a<b.length;a++)UMe(e,t,c,b[a]);typeof n=="string"&&UMe(e,t,c,{target:n,func:"first",enabled:!0}),t._length=c.length}}};function UMe(e,t,r,n){if(n.enabled){for(var i=n.target,a=Iy.nestedProperty(t,i),o=a.get(),s=Dxt.getDataConversions(e,t,i,o),l=Ixt(n,s),u=new Array(r.length),f=0;f<r.length;f++)u[f]=l(o,r[f]);a.set(u),n.func==="count"&&Iy.pushUnique(t._arrayAttrs,i)}}function Ixt(e,t){var r=e.func,n=t.d2c,i=t.c2d;switch(r){case"count":return Pxt;case"first":return Fxt;case"last":return Nxt;case"sum":return function(a,o){for(var s=0,l=0;l<o.length;l++){var u=n(a[o[l]]);u!==Ja&&(s+=u)}return i(s)};case"avg":return function(a,o){for(var s=0,l=0,u=0;u<o.length;u++){var f=n(a[o[u]]);f!==Ja&&(s+=f,l++)}return l?i(s/l):Ja};case"min":return function(a,o){for(var s=1/0,l=0;l<o.length;l++){var u=n(a[o[l]]);u!==Ja&&(s=Math.min(s,u))}return s===1/0?Ja:i(s)};case"max":return function(a,o){for(var s=-1/0,l=0;l<o.length;l++){var u=n(a[o[l]]);u!==Ja&&(s=Math.max(s,u))}return s===-1/0?Ja:i(s)};case"range":return function(a,o){for(var s=1/0,l=-1/0,u=0;u<o.length;u++){var f=n(a[o[u]]);f!==Ja&&(s=Math.min(s,f),l=Math.max(l,f))}return l===-1/0||s===1/0?Ja:i(l-s)};case"change":return function(a,o){var s=n(a[o[0]]),l=n(a[o[o.length-1]]);return s===Ja||l===Ja?Ja:i(l-s)};case"median":return function(a,o){for(var s=[],l=0;l<o.length;l++){var u=n(a[o[l]]);u!==Ja&&s.push(u)}if(!s.length)return Ja;s.sort(Iy.sorterAsc);var f=(s.length-1)/2;return i((s[Math.floor(f)]+s[Math.ceil(f)])/2)};case"mode":return function(a,o){for(var s={},l=0,u=Ja,f=0;f<o.length;f++){var c=n(a[o[f]]);if(c!==Ja){var h=s[c]=(s[c]||0)+1;h>l&&(l=h,u=c)}}return l?i(u):Ja};case"rms":return function(a,o){for(var s=0,l=0,u=0;u<o.length;u++){var f=n(a[o[u]]);f!==Ja&&(s+=f*f,l++)}return l?i(Math.sqrt(s/l)):Ja};case"stddev":return function(a,o){var s=0,l=0,u=1,f=Ja,c;for(c=0;c<o.length&&f===Ja;c++)f=n(a[o[c]]);if(f===Ja)return Ja;for(;c<o.length;c++){var h=n(a[o[c]]);if(h!==Ja){var v=h-f;s+=v,l+=v*v,u++}}var b=e.funcmode==="sample"?u-1:u;return b?Math.sqrt((l-s*s/u)/b):0}}}function Pxt(e,t){return t.length}function Fxt(e,t){return e[t[0]]}function Nxt(e,t){return e[t[t.length-1]]}});var YMe=$((GRt,GMe)=>{"use strict";GMe.exports=VMe()});var WMe=$(Mg=>{"use strict";var Ag=pt(),zxt=Ir(),Oxt=tn(),Bxt=Rw().pointsAccessorFunction,B7=b2(),N7=B7.COMPARISON_OPS,z7=B7.INTERVAL_OPS,O7=B7.SET_OPS;Mg.moduleType="transform";Mg.name="filter";Mg.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this filter transform is enabled or disabled."].join(" ")},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc",description:["Sets the filter target by which the filter is applied.","If a string, `target` is assumed to be a reference to a data array","in the parent trace object.","To filter about nested variables, use *.* to access them.","For example, set `target` to *marker.color* to filter","about the marker color array.","If an array, `target` is then the data array by which the filter is applied."].join(" ")},operation:{valType:"enumerated",values:[].concat(N7).concat(z7).concat(O7),dflt:"=",editType:"calc",description:["Sets the filter operation.","*=* keeps items equal to `value`","*!=* keeps items not equal to `value`","*<* keeps items less than `value`","*<=* keeps items less than or equal to `value`","*>* keeps items greater than `value`","*>=* keeps items greater than or equal to `value`","*[]* keeps items inside `value[0]` to `value[1]` including both bounds","*()* keeps items inside `value[0]` to `value[1]` excluding both bounds","*[)* keeps items inside `value[0]` to `value[1]` including `value[0]` but excluding `value[1]","*(]* keeps items inside `value[0]` to `value[1]` excluding `value[0]` but including `value[1]","*][* keeps items outside `value[0]` to `value[1]` and equal to both bounds","*)(* keeps items outside `value[0]` to `value[1]`","*](* keeps items outside `value[0]` to `value[1]` and equal to `value[0]`","*)[* keeps items outside `value[0]` to `value[1]` and equal to `value[1]`","*{}* keeps items present in a set of values","*}{* keeps items not present in a set of values"].join(" ")},value:{valType:"any",dflt:0,editType:"calc",description:["Sets the value or values by which to filter.","Values are expected to be in the same type as the data linked","to `target`.","When `operation` is set to one of","the comparison values ("+N7+")","`value` is expected to be a number or a string.","When `operation` is set to one of the interval values","("+z7+")","`value` is expected to be 2-item array where the first item","is the lower bound and the second item is the upper bound.","When `operation`, is set to one of the set values","("+O7+")","`value` is expected to be an array with as many items as","the desired set elements."].join(" ")},preservegaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps in data arrays produced by the filter operation","are preserved.","Setting this to *true* might be useful when plotting a line chart","with `connectgaps` set to *false*."].join(" ")},editType:"calc"};Mg.supplyDefaults=function(e){var t={};function r(o,s){return Ag.coerce(e,t,Mg.attributes,o,s)}var n=r("enabled");if(n){var i=r("target");if(Ag.isArrayOrTypedArray(i)&&i.length===0)return t.enabled=!1,t;r("preservegaps"),r("operation"),r("value");var a=zxt.getComponentMethod("calendars","handleDefaults");a(e,t,"valuecalendar",null),a(e,t,"targetcalendar",null)}return t};Mg.calcTransform=function(e,t,r){if(!r.enabled)return;var n=Ag.getTargetArray(t,r);if(!n)return;var i=r.target,a=n.length;t._length&&(a=Math.min(a,t._length));var o=r.targetcalendar,s=t._arrayAttrs,l=r.preservegaps;if(typeof i=="string"){var u=Ag.nestedProperty(t,i+"calendar").get();u&&(o=u)}var f=Oxt.getDataToCoordFunc(e,t,i,n),c=Hxt(r,f,o),h={},v={},b=0;function y(w,k){for(var p=0;p<s.length;p++){var d=Ag.nestedProperty(t,s[p]);w(d,k)}}var x,m;l?(x=function(w){h[w.astr]=Ag.extendDeep([],w.get()),w.set(new Array(a))},m=function(w,k){var p=h[w.astr][k];w.get()[k]=p}):(x=function(w){h[w.astr]=Ag.extendDeep([],w.get()),w.set([])},m=function(w,k){var p=h[w.astr][k];w.get().push(p)}),y(x);for(var _=Bxt(t.transforms,r),g=0;g<a;g++){var A=c(n[g]);A?(y(m,g),v[b++]=_(g)):l&&b++}r._indexToPoints=v,t._length=b};function Hxt(e,t,r){var n=e.operation,i=e.value,a=Array.isArray(i);function o(f){return f.indexOf(n)!==-1}var s=function(f){return t(f,0,e.valuecalendar)},l=function(f){return t(f,0,r)},u;switch(o(N7)?u=s(a?i[0]:i):o(z7)?u=a?[s(i[0]),s(i[1])]:[s(i),s(i)]:o(O7)&&(u=a?i.map(s):[s(i)]),n){case"=":return function(f){return l(f)===u};case"!=":return function(f){return l(f)!==u};case"<":return function(f){return l(f)<u};case"<=":return function(f){return l(f)<=u};case">":return function(f){return l(f)>u};case">=":return function(f){return l(f)>=u};case"[]":return function(f){var c=l(f);return c>=u[0]&&c<=u[1]};case"()":return function(f){var c=l(f);return c>u[0]&&c<u[1]};case"[)":return function(f){var c=l(f);return c>=u[0]&&c<u[1]};case"(]":return function(f){var c=l(f);return c>u[0]&&c<=u[1]};case"][":return function(f){var c=l(f);return c<=u[0]||c>=u[1]};case")(":return function(f){var c=l(f);return c<u[0]||c>u[1]};case"](":return function(f){var c=l(f);return c<=u[0]||c>u[1]};case")[":return function(f){var c=l(f);return c<u[0]||c>=u[1]};case"{}":return function(f){return u.indexOf(l(f))!==-1};case"}{":return function(f){return u.indexOf(l(f))===-1}}}});var ZMe=$((WRt,XMe)=>{"use strict";XMe.exports=WMe()});var $Me=$(Qv=>{"use strict";var nu=pt(),Uxt=Ed(),jxt=Zi(),Vxt=Rw().pointsAccessorFunction;Qv.moduleType="transform";Qv.name="groupby";Qv.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this group-by transform is enabled or disabled."].join(" ")},groups:{valType:"data_array",dflt:[],editType:"calc",description:["Sets the groups in which the trace data will be split.","For example, with `x` set to *[1, 2, 3, 4]* and","`groups` set to *['a', 'b', 'a', 'b']*,","the groupby transform with split in one trace","with `x` [1, 3] and one trace with `x` [2, 4]."].join(" ")},nameformat:{valType:"string",editType:"calc",description:["Pattern by which grouped traces are named. If only one trace is present,",'defaults to the group name (`"%{group}"`), otherwise defaults to the group name','with trace name (`"%{group} (%{trace})"`). Available escape sequences are `%{group}`, which',"inserts the group name, and `%{trace}`, which inserts the trace name. If grouping","GDP data by country when more than one trace is present, for example, the",'default "%{group} (%{trace})" would return "Monaco (GDP per capita)".'].join(" ")},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc",description:["The group value which receives these styles."].join(" ")},value:{valType:"any",dflt:{},editType:"calc",description:["Sets each group styles.","For example, with `groups` set to *['a', 'b', 'a', 'b']*","and `styles` set to *[{target: 'a', value: { marker: { color: 'red' } }}]","marker points in group *'a'* will be drawn in red."].join(" "),_compareAsJSON:!0},editType:"calc"},editType:"calc"};Qv.supplyDefaults=function(e,t,r){var n,i={};function a(c,h){return nu.coerce(e,i,Qv.attributes,c,h)}var o=a("enabled");if(!o)return i;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var s=e.styles,l=i.styles=[];if(s)for(n=0;n<s.length;n++){var u=l[n]={};nu.coerce(s[n],l[n],Qv.attributes.styles,"target");var f=nu.coerce(s[n],l[n],Qv.attributes.styles,"value");nu.isPlainObject(f)?u.value=nu.extendDeep({},f):f&&delete u.value}return i};Qv.transform=function(e,t){var r,n,i,a=[];for(n=0;n<e.length;n++)for(r=Gxt(e[n],t),i=0;i<r.length;i++)a.push(r[i]);return a};function Gxt(e,t){var r,n,i,a,o,s,l,u,f,c,h=t.transform,v=t.transformIndex,b=e.transforms[v].groups,y=Vxt(e.transforms,h);if(!nu.isArrayOrTypedArray(b)||b.length===0)return[e];var x=nu.filterUnique(b),m=new Array(x.length),_=b.length,g=Uxt.findArrayAttributes(e),A=h.styles||[],w={};for(r=0;r<A.length;r++)w[A[r].target]=A[r].value;h.styles&&(c=nu.keyedContainer(h,"styles","target","value.name"));var k={},p={};for(r=0;r<x.length;r++){s=x[r],k[s]=r,p[s]=0,l=m[r]=nu.extendDeepNoArrays({},e),l._group=s,l.transforms[v]._indexToPoints={};var d=null;for(c&&(d=c.get(s)),d||d===""?l.name=d:l.name=nu.templateString(h.nameformat,{trace:e.name,group:s}),u=l.transforms,l.transforms=[],n=0;n<u.length;n++)l.transforms[n]=nu.extendDeepNoArrays({},u[n]);for(n=0;n<g.length;n++)nu.nestedProperty(l,g[n]).set([])}for(i=0;i<g.length;i++){for(a=g[i],n=0,f=[];n<x.length;n++)f[n]=nu.nestedProperty(m[n],a).get();for(o=nu.nestedProperty(e,a).get(),n=0;n<_;n++)f[k[b[n]]].push(o[n])}for(n=0;n<_;n++){l=m[k[b[n]]];var M=l.transforms[v]._indexToPoints;M[p[b[n]]]=y(n),p[b[n]]++}for(r=0;r<x.length;r++)s=x[r],l=m[r],jxt.clearExpandedTraceDefaultColors(l),l=nu.extendDeepNoArrays(l,w[s]||{});return m}});var JMe=$((ZRt,KMe)=>{"use strict";KMe.exports=$Me()});var QMe=$(kg=>{"use strict";var H7=pt(),Yxt=tn(),Wxt=Rw().pointsAccessorFunction,Z5=Zn().BADNUM;kg.moduleType="transform";kg.name="sort";kg.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this sort transform is enabled or disabled."].join(" ")},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc",description:["Sets the target by which the sort transform is applied.","If a string, *target* is assumed to be a reference to a data array","in the parent trace object.","To sort about nested variables, use *.* to access them.","For example, set `target` to *marker.size* to sort","about the marker size array.","If an array, *target* is then the data array by which","the sort transform is applied."].join(" ")},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc",description:["Sets the sort transform order."].join(" ")},editType:"calc"};kg.supplyDefaults=function(e){var t={};function r(i,a){return H7.coerce(e,t,kg.attributes,i,a)}var n=r("enabled");return n&&(r("target"),r("order")),t};kg.calcTransform=function(e,t,r){if(r.enabled){var n=H7.getTargetArray(t,r);if(n){var i=r.target,a=n.length;t._length&&(a=Math.min(a,t._length));var o=t._arrayAttrs,s=Yxt.getDataToCoordFunc(e,t,i,n),l=Xxt(r,n,s,a),u=Wxt(t.transforms,r),f={},c,h;for(c=0;c<o.length;c++){var v=H7.nestedProperty(t,o[c]),b=v.get(),y=new Array(a);for(h=0;h<a;h++)y[h]=b[l[h]];v.set(y)}for(h=0;h<a;h++)f[h]=u(l[h]);r._indexToPoints=f,t._length=a}}};function Xxt(e,t,r,n){var i=new Array(n),a=new Array(n),o;for(o=0;o<n;o++)i[o]={v:t[o],i:o};for(i.sort(Zxt(e,r)),o=0;o<n;o++)a[o]=i[o].i;return a}function Zxt(e,t){switch(e.order){case"ascending":return function(r,n){var i=t(r.v),a=t(n.v);return i===Z5?1:a===Z5?-1:i-a};case"descending":return function(r,n){var i=t(r.v),a=t(n.v);return i===Z5?1:a===Z5?-1:a-i}}}});var tke=$((KRt,eke)=>{"use strict";eke.exports=QMe()});var ol=$((JRt,nke)=>{"use strict";var rke=Object.getOwnPropertySymbols,$xt=Object.prototype.hasOwnProperty,Kxt=Object.prototype.propertyIsEnumerable;function Jxt(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Qxt(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}nke.exports=Qxt()?Object.assign:function(e,t){for(var r,n=Jxt(e),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)$xt.call(r,o)&&(n[o]=r[o]);if(rke){i=rke(r);for(var s=0;s<i.length;s++)Kxt.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n}});var sl=$((QRt,ake)=>{var K5=ol();function ike(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}K5(ike.prototype,{instance:function(e,t){e=(e||"gregorian").toLowerCase(),t=t||"";var r=this._localCals[e+"-"+t];if(!r&&this.calendars[e]&&(r=new this.calendars[e](t),this._localCals[e+"-"+t]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return r},newDate:function(e,t,r,n,i){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,i):n)||this.instance(),n.newDate(e,t,r)},substituteDigits:function(e){return function(t){return(t+"").replace(/[0-9]/g,function(r){return e[r]})}},substituteChineseDigits:function(e,t){return function(r){for(var n="",i=0;r>0;){var a=r%10;n=(a===0?"":e[a]+t[i])+n,i++,r=Math.floor(r/10)}return n.indexOf(e[1]+t[1])===0&&(n=n.substr(1)),n||e[0]}}});function U7(e,t,r,n){if(this._calendar=e,this._year=t,this._month=r,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(jn.local.invalidDate||jn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function $5(e,t){return e=""+e,"000000".substring(0,t-e.length)+e}K5(U7.prototype,{newDate:function(e,t,r){return this._calendar.newDate(e??this,t,r)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,t,r){if(!this._calendar.isValid(e,t,r))throw(jn.local.invalidDate||jn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=t,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(jn.local.differentCalendars||jn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var t=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+$5(Math.abs(this.year()),4)+"-"+$5(this.month(),2)+"-"+$5(this.day(),2)}});function j7(){this.shortYearCutoff="+10"}K5(j7.prototype,{_validateLevel:0,newDate:function(e,t,r){return e==null?this.today():(e.year&&(this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate),r=e.day(),t=e.month(),e=e.year()),new U7(this,e,t,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var t=this._validate(e,this.minMonth,this.minDay,jn.local.invalidYear||jn.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,jn.local.invalidYear||jn.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+$5(Math.abs(t.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,jn.local.invalidYear||jn.regionalOptions[""].invalidYear),12},monthOfYear:function(e,t){var r=this._validate(e,t,this.minDay,jn.local.invalidMonth||jn.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(e,t){var r=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,r,this.minDay,jn.local.invalidMonth||jn.regionalOptions[""].invalidMonth),r},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,jn.local.invalidYear||jn.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,r){var n=this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,r){var n=this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,t,r){return this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate),{}},add:function(e,t,r){return this._validate(e,this.minMonth,this.minDay,jn.local.invalidDate||jn.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,t,r),t,r)},_add:function(e,t,r){if(this._validateLevel++,r==="d"||r==="w"){var n=e.toJD()+t*(r==="w"?this.daysInWeek():1),i=e.calendar().fromJD(n);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var a=e.year()+(r==="y"?t:0),o=e.monthOfYear()+(r==="m"?t:0),i=e.day(),s=function(f){for(;o<f.minMonth;)a--,o+=f.monthsInYear(a);for(var c=f.monthsInYear(a);o>c-1+f.minMonth;)a++,o-=c,c=f.monthsInYear(a)};r==="y"?(e.month()!==this.fromMonthOfYear(a,o)&&(o=this.newDate(a,e.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(a)),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o)))):r==="m"&&(s(this),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o))));var l=[a,this.fromMonthOfYear(a,o),i];return this._validateLevel--,l}catch(u){throw this._validateLevel--,u}},_correctAdd:function(e,t,r,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||e.year()>0!=t[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],a=r<0?-1:1;t=this._add(e,r*i[0]+a*i[1],i[2])}return e.date(t[0],t[1],t[2])},set:function(e,t,r){this._validate(e,this.minMonth,this.minDay,jn.local.invalidDate||jn.regionalOptions[""].invalidDate);var n=r==="y"?t:e.year(),i=r==="m"?t:e.month(),a=r==="d"?t:e.day();return(r==="y"||r==="m")&&(a=Math.min(a,this.daysInMonth(n,i))),e.date(n,i,a)},isValid:function(e,t,r){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var i=this.newDate(e,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(i)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(i)}return this._validateLevel--,n},toJSDate:function(e,t,r){var n=this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate);return jn.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(jn.instance().fromJSDate(e).toJD())},_validate:function(e,t,r,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(jn.local.differentCalendars||jn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,t,r))throw n.replace(/\{0\}/,this.local.name);var i=this.newDate(e,t,r);return this._validateLevel--,i}catch(a){throw this._validateLevel--,a}}});function V7(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}V7.prototype=new j7;K5(V7.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,jn.local.invalidYear||jn.regionalOptions[""].invalidYear),r=t.year()+(t.year()<0?1:0);return r%4===0&&(r%100!==0||r%400===0)},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,jn.local.invalidMonth||jn.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var n=this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate);e=n.year(),t=n.month(),r=n.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r+a-1524.5},fromJD:function(e){var t=Math.floor(e+.5),r=Math.floor((t-186721625e-2)/36524.25);r=t+1+r-Math.floor(r/4);var n=r+1524,i=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*i),o=Math.floor((n-a)/30.6001),s=n-a-Math.floor(o*30.6001),l=o-(o>13.5?13:1),u=i-(l>2.5?4716:4715);return u<=0&&u--,this.newDate(u,l,s)},toJSDate:function(e,t,r){var n=this._validate(e,t,r,jn.local.invalidDate||jn.regionalOptions[""].invalidDate),i=new Date(n.year(),n.month()-1,n.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var jn=ake.exports=new ike;jn.cdate=U7;jn.baseCalendar=j7;jn.calendars.gregorian=V7});var oke=$(()=>{var G7=ol(),bs=sl();G7(bs.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});bs.local=bs.regionalOptions[""];G7(bs.cdate.prototype,{formatDate:function(e,t){return typeof e!="string"&&(t=e,e=""),this._calendar.formatDate(e||"",this,t)}});G7(bs.baseCalendar.prototype,{UNIX_EPOCH:bs.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:bs.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,t,r){if(typeof e!="string"&&(r=t,t=e,e=""),!t)return"";if(t.calendar()!==this)throw bs.local.invalidFormat||bs.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,r=r||{};for(var n=r.dayNamesShort||this.local.dayNamesShort,i=r.dayNames||this.local.dayNames,a=r.monthNumbers||this.local.monthNumbers,o=r.monthNamesShort||this.local.monthNamesShort,s=r.monthNames||this.local.monthNames,l=r.calculateWeek||this.local.calculateWeek,u=function(A,w){for(var k=1;g+k<e.length&&e.charAt(g+k)===A;)k++;return g+=k-1,Math.floor(k/(w||1))>1},f=function(A,w,k,p){var d=""+w;if(u(A,p))for(;d.length<k;)d="0"+d;return d},c=function(A,w,k,p){return u(A)?p[w]:k[w]},h=this,v=function(A){return typeof a=="function"?a.call(h,A,u("m")):x(f("m",A.month(),2))},b=function(A,w){return w?typeof s=="function"?s.call(h,A):s[A.month()-h.minMonth]:typeof o=="function"?o.call(h,A):o[A.month()-h.minMonth]},y=this.local.digits,x=function(A){return r.localNumbers&&y?y(A):A},m="",_=!1,g=0;g<e.length;g++)if(_)e.charAt(g)==="'"&&!u("'")?_=!1:m+=e.charAt(g);else switch(e.charAt(g)){case"d":m+=x(f("d",t.day(),2));break;case"D":m+=c("D",t.dayOfWeek(),n,i);break;case"o":m+=f("o",t.dayOfYear(),3);break;case"w":m+=f("w",t.weekOfYear(),2);break;case"m":m+=v(t);break;case"M":m+=b(t,u("M"));break;case"y":m+=u("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":u("Y",2),m+=t.formatYear();break;case"J":m+=t.toJD();break;case"@":m+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?m+="'":_=!0;break;default:m+=e.charAt(g)}return m},parseDate:function(e,t,r){if(t==null)throw bs.local.invalidArguments||bs.regionalOptions[""].invalidArguments;if(t=typeof t=="object"?t.toString():t+"",t==="")return null;e=e||this.local.dateFormat,r=r||{};var n=r.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var i=r.dayNamesShort||this.local.dayNamesShort,a=r.dayNames||this.local.dayNames,o=r.parseMonth||this.local.parseMonth,s=r.monthNumbers||this.local.monthNumbers,l=r.monthNamesShort||this.local.monthNamesShort,u=r.monthNames||this.local.monthNames,f=-1,c=-1,h=-1,v=-1,b=-1,y=!1,x=!1,m=function(E,L){for(var D=1;M+D<e.length&&e.charAt(M+D)===E;)D++;return M+=D-1,Math.floor(D/(L||1))>1},_=function(E,L){var D=m(E,L),R=[2,3,D?4:2,D?4:2,10,11,20]["oyYJ@!".indexOf(E)+1],q=new RegExp("^-?\\d{1,"+R+"}"),C=t.substring(d).match(q);if(!C)throw(bs.local.missingNumberAt||bs.regionalOptions[""].missingNumberAt).replace(/\{0\}/,d);return d+=C[0].length,parseInt(C[0],10)},g=this,A=function(){if(typeof s=="function"){m("m");var E=s.call(g,t.substring(d));return d+=E.length,E}return _("m")},w=function(E,L,D,R){for(var q=m(E,R)?D:L,C=0;C<q.length;C++)if(t.substr(d,q[C].length).toLowerCase()===q[C].toLowerCase())return d+=q[C].length,C+g.minMonth;throw(bs.local.unknownNameAt||bs.regionalOptions[""].unknownNameAt).replace(/\{0\}/,d)},k=function(){if(typeof u=="function"){var E=m("M")?u.call(g,t.substring(d)):l.call(g,t.substring(d));return d+=E.length,E}return w("M",l,u)},p=function(){if(t.charAt(d)!==e.charAt(M))throw(bs.local.unexpectedLiteralAt||bs.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,d);d++},d=0,M=0;M<e.length;M++)if(x)e.charAt(M)==="'"&&!m("'")?x=!1:p();else switch(e.charAt(M)){case"d":v=_("d");break;case"D":w("D",i,a);break;case"o":b=_("o");break;case"w":_("w");break;case"m":h=A();break;case"M":h=k();break;case"y":var T=M;y=!m("y",2),M=T,c=_("y",2);break;case"Y":c=_("Y",2);break;case"J":f=_("J")+.5,t.charAt(d)==="."&&(d++,_("J"));break;case"@":f=_("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=_("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":d=t.length;break;case"'":m("'")?p():x=!0;break;default:p()}if(d<t.length)throw bs.local.unexpectedText||bs.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&y&&(c+=n===-1?1900:this.today().year()-this.today().year()%100-(c<=n?0:100)),typeof h=="string"&&(h=o.call(this,c,h)),b>-1){h=1,v=b;for(var S=this.daysInMonth(c,h);v>S;S=this.daysInMonth(c,h))h++,v-=S}return f>-1?this.fromJD(f):this.newDate(c,h,v)},determineDate:function(e,t,r,n,i){r&&typeof r!="object"&&(i=n,n=r,r=null),typeof n!="string"&&(i=n,n="");var a=this,o=function(s){try{return a.parseDate(n,s,i)}catch{}s=s.toLowerCase();for(var l=(s.match(/^c/)&&r?r.newDate():null)||a.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(s);f;)l.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(s);return l};return t=t?t.newDate():null,e=e==null?t:typeof e=="string"?o(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?t:a.today().add(e,"d"):a.newDate(e),e}})});var ske=$(()=>{var k0=sl(),ebt=ol(),Y7=k0.instance();function J5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}J5.prototype=new k0.baseCalendar;ebt(J5.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,t){if(typeof e=="string"){var r=e.match(rbt);return r?r[0]:""}var n=this._validateYear(e),i=e.month(),a=""+this.toChineseMonth(n,i);return t&&a.length<2&&(a="0"+a),this.isIntercalaryMonth(n,i)&&(a+="i"),a},monthNames:function(e){if(typeof e=="string"){var t=e.match(nbt);return t?t[0]:""}var r=this._validateYear(e),n=e.month(),i=this.toChineseMonth(r,n),a=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][i-1];return this.isIntercalaryMonth(r,n)&&(a="\u95F0"+a),a},monthNamesShort:function(e){if(typeof e=="string"){var t=e.match(ibt);return t?t[0]:""}var r=this._validateYear(e),n=e.month(),i=this.toChineseMonth(r,n),a=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][i-1];return this.isIntercalaryMonth(r,n)&&(a="\u95F0"+a),a},parseMonth:function(e,t){e=this._validateYear(e);var r=parseInt(t),n;if(isNaN(r))t[0]==="\u95F0"&&(n=!0,t=t.substring(1)),t[t.length-1]==="\u6708"&&(t=t.substring(0,t.length-1)),r=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(t);else{var i=t[t.length-1];n=i==="i"||i==="I"}var a=this.toMonthIndex(e,r,n);return a},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,t){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw t.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,t,r){var n=this.intercalaryMonth(e),i=r&&t!==n;if(i||t<1||t>12)throw k0.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return n?!r&&t<=n?a=t-1:a=t:a=t-1,a},toChineseMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var r=this.intercalaryMonth(e),n=r?12:11;if(t<0||t>n)throw k0.local.invalidMonth.replace(/\{0\}/,this.local.name);var i;return r?t<r?i=t+1:i=t:i=t+1,i},intercalaryMonth:function(e){e=this._validateYear(e);var t=S0[e-S0[0]],r=t>>13;return r},isIntercalaryMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var r=this.intercalaryMonth(e);return!!r&&r===t},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,t,r){var n=this._validateYear(e,k0.local.invalidyear),i=E0[n-E0[0]],a=i>>9&4095,o=i>>5&15,s=i&31,l;l=Y7.newDate(a,o,s),l.add(4-(l.dayOfWeek()||7),"d");var u=this.toJD(e,t,r)-l.toJD();return 1+Math.floor(u/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){e.year&&(t=e.month(),e=e.year()),e=this._validateYear(e);var r=S0[e-S0[0]],n=r>>13,i=n?12:11;if(t>i)throw k0.local.invalidMonth.replace(/\{0\}/,this.local.name);var a=r&1<<12-t?30:29;return a},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var n=this._validate(e,a,r,k0.local.invalidDate);e=this._validateYear(n.year()),t=n.month(),r=n.day();var i=this.isIntercalaryMonth(e,t),a=this.toChineseMonth(e,t),o=obt(e,a,r,i);return Y7.toJD(o.year,o.month,o.day)},fromJD:function(e){var t=Y7.fromJD(e),r=abt(t.year(),t.month(),t.day()),n=this.toMonthIndex(r.year,r.month,r.isIntercalary);return this.newDate(r.year,n,r.day)},fromString:function(e){var t=e.match(tbt),r=this._validateYear(+t[1]),n=+t[2],i=!!t[3],a=this.toMonthIndex(r,n,i),o=+t[4];return this.newDate(r,a,o)},add:function(e,t,r){var n=e.year(),i=e.month(),a=this.isIntercalaryMonth(n,i),o=this.toChineseMonth(n,i),s=Object.getPrototypeOf(J5.prototype).add.call(this,e,t,r);if(r==="y"){var l=s.year(),u=s.month(),f=this.isIntercalaryMonth(l,o),c=a&&f?this.toMonthIndex(l,o,!0):this.toMonthIndex(l,o,!1);c!==u&&s.month(c)}return s}});var tbt=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,rbt=/^\d?\d[iI]?/m,nbt=/^闰?十?[一二三四五六七八九]?月/m,ibt=/^闰?十?[一二三四五六七八九]?/m;k0.calendars.chinese=J5;var S0=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],E0=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function abt(e,t,r,n){var i,a;if(typeof e=="object")i=e,a=t||{};else{var o=typeof e=="number"&&e>=1888&&e<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var s=typeof t=="number"&&t>=1&&t<=12;if(!s)throw new Error("Solar month outside range 1 - 12");var l=typeof r=="number"&&r>=1&&r<=31;if(!l)throw new Error("Solar day outside range 1 - 31");i={year:e,month:t,day:r},a=n||{}}var u=E0[i.year-E0[0]],f=i.year<<9|i.month<<5|i.day;a.year=f>=u?i.year:i.year-1,u=E0[a.year-E0[0]];var c=u>>9&4095,h=u>>5&15,v=u&31,b,y=new Date(c,h-1,v),x=new Date(i.year,i.month-1,i.day);b=Math.round((x-y)/(24*3600*1e3));var m=S0[a.year-S0[0]],_;for(_=0;_<13;_++){var g=m&1<<12-_?30:29;if(b<g)break;b-=g}var A=m>>13;return!A||_<A?(a.isIntercalary=!1,a.month=1+_):_===A?(a.isIntercalary=!0,a.month=_):(a.isIntercalary=!1,a.month=_),a.day=1+b,a}function obt(e,t,r,n,i){var a,o;if(typeof e=="object")o=e,a=t||{};else{var s=typeof e=="number"&&e>=1888&&e<=2111;if(!s)throw new Error("Lunar year outside range 1888-2111");var l=typeof t=="number"&&t>=1&&t<=12;if(!l)throw new Error("Lunar month outside range 1 - 12");var u=typeof r=="number"&&r>=1&&r<=30;if(!u)throw new Error("Lunar day outside range 1 - 30");var f;typeof n=="object"?(f=!1,a=n):(f=!!n,a=i||{}),o={year:e,month:t,day:r,isIntercalary:f}}var c;c=o.day-1;var h=S0[o.year-S0[0]],v=h>>13,b;v&&(o.month>v||o.isIntercalary)?b=o.month:b=o.month-1;for(var y=0;y<b;y++){var x=h&1<<12-y?30:29;c+=x}var m=E0[o.year-E0[0]],_=m>>9&4095,g=m>>5&15,A=m&31,w=new Date(_,g-1,A+c);return a.year=w.getFullYear(),a.month=1+w.getMonth(),a.day=w.getDate(),a}});var lke=$(()=>{var Sg=sl(),sbt=ol();function W7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}W7.prototype=new Sg.baseCalendar;sbt(W7.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,Sg.local.invalidYear),r=t.year()+(t.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Sg.local.invalidYear||Sg.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Sg.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var n=this._validate(e,t,r,Sg.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,r=Math.floor((t-Math.floor((t+366)/1461))/365)+1;r<=0&&r--,t=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(t/30)+1,i=t-(n-1)*30+1;return this.newDate(r,n,i)}});Sg.calendars.coptic=W7});var uke=$(()=>{var ed=sl(),lbt=ol();function X7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}X7.prototype=new ed.baseCalendar;lbt(X7.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,ed.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,ed.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,ed.local.invalidYear),400},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,ed.local.invalidMonth);return this.daysPerMonth[r.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,r){var n=this._validate(e,t,r,ed.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,t,r){var n=this.dayOfWeek(e,t,r);return n>=2&&n<=6},extraInfo:function(e,t,r){var n=this._validate(e,t,r,ed.local.invalidDate);return{century:ubt[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,t,r){var n=this._validate(e,t,r,ed.local.invalidDate);return e=n.year()+(n.year()<0?1:0),t=n.month(),r=n.day(),r+(t>1?16:0)+(t>2?(t-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=(t-1)*400,e+=e>15?16:0;var r=Math.floor(e/32)+1,n=e-(r-1)*32+1;return this.newDate(t<=0?t-1:t,r,n)}});var ubt={20:"Fruitbat",21:"Anchovy"};ed.calendars.discworld=X7});var fke=$(()=>{var Eg=sl(),fbt=ol();function Z7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Z7.prototype=new Eg.baseCalendar;fbt(Z7.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,Eg.local.invalidYear),r=t.year()+(t.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Eg.local.invalidYear||Eg.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Eg.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var n=this._validate(e,t,r,Eg.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,r=Math.floor((t-Math.floor((t+366)/1461))/365)+1;r<=0&&r--,t=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(t/30)+1,i=t-(n-1)*30+1;return this.newDate(r,n,i)}});Eg.calendars.ethiopian=Z7});var cke=$(()=>{var L0=sl(),cbt=ol();function $7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}$7.prototype=new L0.baseCalendar;cbt($7.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,L0.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){return e=e<0?e+1:e,Q5(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,L0.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,L0.local.invalidYear);return e=t.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,L0.local.invalidMonth),t===12&&this.leapYear(e)||t===8&&Q5(this.daysInYear(e),10)===5?30:t===9&&Q5(this.daysInYear(e),10)===3?29:this.daysPerMonth[t-1]},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==6},extraInfo:function(e,t,r){var n=this._validate(e,t,r,L0.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,t,r){var n=this._validate(e,t,r,L0.local.invalidDate);e=n.year(),t=n.month(),r=n.day();var i=e<=0?e+1:e,a=this.jdEpoch+this._delay1(i)+this._delay2(i)+r+1;if(t<7){for(var o=7;o<=this.monthsInYear(e);o++)a+=this.daysInMonth(e,o);for(var o=1;o<t;o++)a+=this.daysInMonth(e,o)}else for(var o=7;o<t;o++)a+=this.daysInMonth(e,o);return a},_delay1:function(e){var t=Math.floor((235*e-234)/19),r=12084+13753*t,n=t*29+Math.floor(r/25920);return Q5(3*(n+1),7)<3&&n++,n},_delay2:function(e){var t=this._delay1(e-1),r=this._delay1(e),n=this._delay1(e+1);return n-r===356?2:r-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var t=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(t===-1?1:t+1,7,1);)t++;for(var r=e<this.toJD(t,1,1)?7:1;e>this.toJD(t,r,this.daysInMonth(t,r));)r++;var n=e-this.toJD(t,r,1)+1;return this.newDate(t,r,n)}});function Q5(e,t){return e-t*Math.floor(e/t)}L0.calendars.hebrew=$7});var hke=$(()=>{var Iw=sl(),hbt=ol();function K7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}K7.prototype=new Iw.baseCalendar;hbt(K7.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,Iw.local.invalidYear);return(t.year()*11+14)%30<11},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Iw.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var n=this._validate(e,t,r,Iw.local.invalidDate);return e=n.year(),t=n.month(),r=n.day(),e=e<=0?e+1:e,r+Math.ceil(29.5*(t-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var r=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1),n=e-this.toJD(t,r,1)+1;return this.newDate(t,r,n)}});Iw.calendars.islamic=K7});var vke=$(()=>{var Pw=sl(),vbt=ol();function J7(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}J7.prototype=new Pw.baseCalendar;vbt(J7.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,Pw.local.invalidYear),r=t.year()<0?t.year()+1:t.year();return r%4===0},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Pw.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var n=this._validate(e,t,r,Pw.local.invalidDate);return e=n.year(),t=n.month(),r=n.day(),e<0&&e++,t<=2&&(e--,t+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r-1524.5},fromJD:function(e){var t=Math.floor(e+.5),r=t+1524,n=Math.floor((r-122.1)/365.25),i=Math.floor(365.25*n),a=Math.floor((r-i)/30.6001),o=a-Math.floor(a<14?1:13),s=n-Math.floor(o>2?4716:4715),l=r-i-Math.floor(30.6001*a);return s<=0&&s--,this.newDate(s,o,l)}});Pw.calendars.julian=J7});var pke=$(()=>{var uc=sl(),dbt=ol();function e9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}e9.prototype=new uc.baseCalendar;dbt(e9.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear),!1},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear);e=t.year();var r=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return r+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r],10);if(Math.abs(n)>19||r>0&&n<0)throw"Invalid Mayan year";t=t*20+n}return t},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear),18},weekOfYear:function(e,t,r){return this._validate(e,t,r,uc.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear),360},daysInMonth:function(e,t){return this._validate(e,t,this.minDay,uc.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,r){var n=this._validate(e,t,r,uc.local.invalidDate);return n.day()},weekDay:function(e,t,r){return this._validate(e,t,r,uc.local.invalidDate),!0},extraInfo:function(e,t,r){var n=this._validate(e,t,r,uc.local.invalidDate),i=n.toJD(),a=this._toHaab(i),o=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(e){e-=this.jdEpoch;var t=Q7(e+8+(18-1)*20,365);return[Math.floor(t/20)+1,Q7(t,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[dke(e+20,20),dke(e+4,13)]},toJD:function(e,t,r){var n=this._validate(e,t,r,uc.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e=e%360,e+=e<0?360:0;var r=Math.floor(e/20),n=e%20;return this.newDate(t,r,n)}});function Q7(e,t){return e-t*Math.floor(e/t)}function dke(e,t){return Q7(e-1,t)+1}uc.calendars.mayan=e9});var mke=$(()=>{var Lg=sl(),pbt=ol();function t9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}t9.prototype=new Lg.baseCalendar;var gke=Lg.instance("gregorian");pbt(t9.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,Lg.local.invalidYear||Lg.regionalOptions[""].invalidYear);return gke.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Lg.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(i,t,r){var n=this._validate(i,t,r,Lg.local.invalidMonth),i=n.year();i<0&&i++;for(var a=n.day(),o=1;o<n.month();o++)a+=this.daysPerMonth[o-1];return a+gke.toJD(i+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var t=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(t+1,1,1);)t++;for(var r=e-Math.floor(this.toJD(t,1,1)+.5)+1,n=1;r>this.daysInMonth(t,n);)r-=this.daysInMonth(t,n),n++;return this.newDate(t,n,r)}});Lg.calendars.nanakshahi=t9});var yke=$(()=>{var Cg=sl(),gbt=ol();function r9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}r9.prototype=new Cg.baseCalendar;gbt(r9.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,Cg.local.invalidYear);if(e=t.year(),typeof this.NEPALI_CALENDAR_DATA[e]>"u")return this.daysPerYear;for(var r=0,n=this.minMonth;n<=12;n++)r+=this.NEPALI_CALENDAR_DATA[e][n];return r},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,Cg.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]>"u"?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==6},toJD:function(e,t,r){var n=this._validate(e,t,r,Cg.local.invalidDate);e=n.year(),t=n.month(),r=n.day();var i=Cg.instance(),a=0,o=t,s=e;this._createMissingCalendarData(e);var l=e-(o>9||o===9&&r>=this.NEPALI_CALENDAR_DATA[s][0]?56:57);for(t!==9&&(a=r,o--);o!==9;)o<=0&&(o=12,s--),a+=this.NEPALI_CALENDAR_DATA[s][o],o--;return t===9?(a+=r-this.NEPALI_CALENDAR_DATA[s][0],a<0&&(a+=i.daysInYear(l))):a+=this.NEPALI_CALENDAR_DATA[s][9]-this.NEPALI_CALENDAR_DATA[s][0],i.newDate(l,1,1).add(a,"d").toJD()},fromJD:function(e){var t=Cg.instance(),r=t.fromJD(e),n=r.year(),i=r.dayOfYear(),a=n+56;this._createMissingCalendarData(a);for(var o=9,s=this.NEPALI_CALENDAR_DATA[a][0],l=this.NEPALI_CALENDAR_DATA[a][o]-s+1;i>l;)o++,o>12&&(o=1,a++),l+=this.NEPALI_CALENDAR_DATA[a][o];var u=this.NEPALI_CALENDAR_DATA[a][o]-(l-i);return this.newDate(a,o,u)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var r=e-1;r<e+2;r++)typeof this.NEPALI_CALENDAR_DATA[r]>"u"&&(this.NEPALI_CALENDAR_DATA[r]=t)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});Cg.calendars.nepali=r9});var xke=$(()=>{var Fy=sl(),mbt=ol();function eS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}eS.prototype=new Fy.baseCalendar;mbt(eS.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,Fy.local.invalidYear);return((t.year()-(t.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Fy.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var n=this._validate(e,t,r,Fy.local.invalidDate);e=n.year(),t=n.month(),r=n.day();var i=e-(e>=0?474:473),a=474+n9(i,2820);return r+(t<=7?(t-1)*31:(t-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(i/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=e-this.toJD(475,1,1),r=Math.floor(t/1029983),n=n9(t,1029983),i=2820;if(n!==1029982){var a=Math.floor(n/366),o=n9(n,366);i=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var s=i+2820*r+474;s=s<=0?s-1:s;var l=e-this.toJD(s,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),f=e-this.toJD(s,u,1)+1;return this.newDate(s,u,f)}});function n9(e,t){return e-t*Math.floor(e/t)}Fy.calendars.persian=eS;Fy.calendars.jalali=eS});var bke=$(()=>{var Dg=sl(),ybt=ol(),tS=Dg.instance();function i9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i9.prototype=new Dg.baseCalendar;ybt(i9.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,Dg.local.invalidYear),r=this._t2gYear(t.year());return tS.leapYear(r)},weekOfYear:function(i,t,r){var n=this._validate(i,this.minMonth,this.minDay,Dg.local.invalidYear),i=this._t2gYear(n.year());return tS.weekOfYear(i,n.month(),n.day())},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,Dg.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(i,t,r){var n=this._validate(i,t,r,Dg.local.invalidDate),i=this._t2gYear(n.year());return tS.toJD(i,n.month(),n.day())},fromJD:function(e){var t=tS.fromJD(e),r=this._g2tYear(t.year());return this.newDate(r,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});Dg.calendars.taiwan=i9});var wke=$(()=>{var qg=sl(),xbt=ol(),rS=qg.instance();function a9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a9.prototype=new qg.baseCalendar;xbt(a9.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,qg.local.invalidYear),r=this._t2gYear(t.year());return rS.leapYear(r)},weekOfYear:function(i,t,r){var n=this._validate(i,this.minMonth,this.minDay,qg.local.invalidYear),i=this._t2gYear(n.year());return rS.weekOfYear(i,n.month(),n.day())},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,qg.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(i,t,r){var n=this._validate(i,t,r,qg.local.invalidDate),i=this._t2gYear(n.year());return rS.toJD(i,n.month(),n.day())},fromJD:function(e){var t=rS.fromJD(e),r=this._g2tYear(t.year());return this.newDate(r,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});qg.calendars.thai=a9});var _ke=$(()=>{var Rg=sl(),bbt=ol();function o9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o9.prototype=new Rg.baseCalendar;bbt(o9.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,Rg.local.invalidYear);return this.daysInYear(t.year())===355},weekOfYear:function(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var t=0,r=1;r<=12;r++)t+=this.daysInMonth(e,r);return t},daysInMonth:function(e,t){for(var r=this._validate(e,t,this.minDay,Rg.local.invalidMonth),n=r.toJD()-24e5+.5,i=0,a=0;a<C0.length;a++){if(C0[a]>n)return C0[i]-C0[i-1];i++}return 30},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var n=this._validate(e,t,r,Rg.local.invalidDate),i=12*(n.year()-1)+n.month()-15292,a=n.day()+C0[i-1]-1;return a+24e5-.5},fromJD:function(e){for(var t=e-24e5+.5,r=0,n=0;n<C0.length&&!(C0[n]>t);n++)r++;var i=r+15292,a=Math.floor((i-1)/12),o=a+1,s=i-12*a,l=t-C0[r-1]+1;return this.newDate(o,s,l)},isValid:function(e,t,r){var n=Rg.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,t,r,n){var i=Rg.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw n.replace(/\{0\}/,this.local.name);return i}});Rg.calendars.ummalqura=o9;var C0=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var Ake=$((CIt,Tke)=>{"use strict";Tke.exports=sl();oke();ske();lke();uke();fke();cke();hke();vke();pke();mke();yke();xke();bke();wke();_ke()});var Dke=$((DIt,Cke)=>{"use strict";var kke=Ake(),Fw=pt(),Ske=Zn(),wbt=Ske.EPOCHJD,_bt=Ske.ONEDAY,u9={valType:"enumerated",values:Fw.sortObjectKeys(kke.calendars),editType:"calc",dflt:"gregorian"},Eke=function(e,t,r,n){var i={};return i[r]=u9,Fw.coerce(e,t,i,r,n)},Tbt=function(e,t,r,n){for(var i=0;i<r.length;i++)Eke(e,t,r[i]+"calendar",n.calendar)},Abt={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},Mbt={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},kbt={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},nS="##",Sbt={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:nS,w:nS,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Ebt(e,t,r){for(var n=Math.floor((t+.05)/_bt)+wbt,i=Lke(r).fromJD(n),a=0,o,s,l,u,f;(a=e.indexOf("%",a))!==-1;)o=e.charAt(a+1),o==="0"||o==="-"||o==="_"?(l=3,s=e.charAt(a+2),o==="_"&&(o="-")):(s=o,o="0",l=2),u=Sbt[s],u?(u===nS?f=nS:f=i.formatDate(u[o]),e=e.substr(0,a)+f+e.substr(a+l),a+=f.length):a+=l;return e}var Mke={};function Lke(e){var t=Mke[e];return t||(t=Mke[e]=kke.instance(e),t)}function Ig(e){return Fw.extendFlat({},u9,{description:e})}function f9(e){return"Sets the calendar system to use with `"+e+"` date data."}var l9={xcalendar:Ig(f9("x"))},Xh=Fw.extendFlat({},l9,{ycalendar:Ig(f9("y"))}),s9=Fw.extendFlat({},Xh,{zcalendar:Ig(f9("z"))}),Ny=Ig(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Cke.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Xh,bar:Xh,box:Xh,heatmap:Xh,contour:Xh,histogram:Xh,histogram2d:Xh,histogram2dcontour:Xh,scatter3d:s9,surface:s9,mesh3d:s9,scattergl:Xh,ohlc:l9,candlestick:l9},layout:{calendar:Ig(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Ny},yaxis:{calendar:Ny},scene:{xaxis:{calendar:Ny},yaxis:{calendar:Ny},zaxis:{calendar:Ny}},polar:{radialaxis:{calendar:Ny}}},transforms:{filter:{valuecalendar:Ig(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:Ig(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:u9,handleDefaults:Eke,handleTraceDefaults:Tbt,CANONICAL_SUNDAY:Mbt,CANONICAL_TICK:Abt,DFLTRANGE:kbt,getCal:Lke,worldCalFmt:Ebt}});var Rke=$((qIt,qke)=>{"use strict";qke.exports=Dke()});var Vke=$((k7t,jke)=>{var AS,p9;AS=[];p9=[];function n2t(e,t,r){var n,i,a,o,s,l,u,f;if(e===t)return 0;if(n=e.length,i=t.length,n===0)return i;if(i===0)return n;for(r&&(e=e.toLowerCase(),t=t.toLowerCase()),u=0;u<n;)p9[u]=e.charCodeAt(u),AS[u]=++u;for(f=0;f<i;)for(a=t.charCodeAt(f),o=s=f++,u=-1;++u<n;)l=a===p9[u]?s:s+1,s=AS[u],AS[u]=o=s>o?l>o?o+1:l:l>s?s+1:l;return o}jke.exports=n2t});var g9=$((S7t,Yke)=>{var Gke=Vke();function i2t(){var e,t,r,n,i,a=0,o=arguments[0],s=arguments[1],l=s.length,u=arguments[2];u&&(n=u.threshold,i=u.ignoreCase),n===void 0&&(n=0);for(var f=0;f<l;++f)i?t=Gke(o,s[f],!0):t=Gke(o,s[f]),t>o.length?e=1-t/s[f].length:e=1-t/o.length,e>a&&(a=e,r=s[f]);return a>=n?r:null}Yke.exports=i2t});var MS=$((Oy,Hw)=>{(function(){var e,t="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",s=500,l="__lodash_placeholder__",u=1,f=2,c=4,h=1,v=2,b=1,y=2,x=4,m=8,_=16,g=32,A=64,w=128,k=256,p=512,d=30,M="...",T=800,S=16,E=1,L=2,D=3,R=1/0,q=9007199254740991,C=17976931348623157e292,F=0/0,N=4294967295,U=N-1,V=N>>>1,Y=[["ary",w],["bind",b],["bindKey",y],["curry",m],["curryRight",_],["flip",p],["partial",g],["partialRight",A],["rearg",k]],K="[object Arguments]",B="[object Array]",z="[object AsyncFunction]",j="[object Boolean]",ae="[object Date]",ee="[object DOMException]",ve="[object Error]",fe="[object Function]",se="[object GeneratorFunction]",G="[object Map]",Z="[object Number]",X="[object Null]",ge="[object Object]",qe="[object Promise]",Pe="[object Proxy]",Oe="[object RegExp]",de="[object Set]",_e="[object String]",ce="[object Symbol]",J="[object Undefined]",ne="[object WeakMap]",be="[object WeakSet]",Fe="[object ArrayBuffer]",He="[object DataView]",te="[object Float32Array]",ye="[object Float64Array]",Te="[object Int8Array]",Ce="[object Int16Array]",De="[object Int32Array]",oe="[object Uint8Array]",pe="[object Uint8ClampedArray]",Le="[object Uint16Array]",Ue="[object Uint32Array]",et=/\b__p \+= '';/g,Qe=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,kt=RegExp(ht.source),St=RegExp(_t.source),Ot=/<%-([\s\S]+?)%>/g,je=/<%([\s\S]+?)%>/g,Ve=/<%=([\s\S]+?)%>/g,Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(tt.source),yt=/^\s+/,Ht=/\s/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tr=/\{\n\/\* \[wrapped with (.+)\] \*/,rr=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zt=/[()=,{}\[\]\/\s]/,Sr=/\\(\\)?/g,gr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lr=/\w*$/,en=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,vn=/^\[object .+?Constructor\]$/,qn=/^0o[0-7]+$/i,Kr=/^(?:0|[1-9]\d*)$/,Qr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kn=/($^)/,Vn=/['\n\r\u2028\u2029\\]/g,Tn="\\ud800-\\udfff",Nn="\\u0300-\\u036f",ci="\\ufe20-\\ufe2f",On="\\u20d0-\\u20ff",Sn=Nn+ci+On,_i="\\u2700-\\u27bf",ua="a-z\\xdf-\\xf6\\xf8-\\xff",Yi="\\xac\\xb1\\xd7\\xf7",xn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ia="\\u2000-\\u206f",ti=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",co="A-Z\\xc0-\\xd6\\xd8-\\xde",fa="\\ufe0e\\ufe0f",Ea=Yi+xn+ia+ti,Qn="['\u2019]",Ki="["+Tn+"]",ho="["+Ea+"]",ja="["+Sn+"]",Ji="\\d+",au="["+_i+"]",Rl="["+ua+"]",ou="[^"+Tn+Ea+Ji+_i+ua+co+"]",Ie="\\ud83c[\\udffb-\\udfff]",st="(?:"+ja+"|"+Ie+")",lt="[^"+Tn+"]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+co+"]",nr="\\u200d",Pt="(?:"+Rl+"|"+ou+")",ir="(?:"+At+"|"+ou+")",wr="(?:"+Qn+"(?:d|ll|m|re|s|t|ve))?",Mr="(?:"+Qn+"(?:D|LL|M|RE|S|T|VE))?",Vr=st+"?",sn="["+fa+"]?",Xn="(?:"+nr+"(?:"+[lt,xt,Vt].join("|")+")"+sn+Vr+")*",wn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=sn+Vr+Xn,Wi="(?:"+[au,xt,Vt].join("|")+")"+Bn,Xi="(?:"+[lt+ja+"?",ja,xt,Vt,Ki].join("|")+")",Qi=RegExp(Qn,"g"),ya=RegExp(ja,"g"),La=RegExp(Ie+"(?="+Ie+")|"+Xi+Bn,"g"),Ca=RegExp([At+"?"+Rl+"+"+wr+"(?="+[ho,At,"$"].join("|")+")",ir+"+"+Mr+"(?="+[ho,At+Pt,"$"].join("|")+")",At+"?"+Pt+"+"+wr,At+"+"+Mr,oi,wn,Ji,Wi].join("|"),"g"),Bo=RegExp("["+nr+Tn+Sn+fa+"]"),vo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Da=-1,En={};En[te]=En[ye]=En[Te]=En[Ce]=En[De]=En[oe]=En[pe]=En[Le]=En[Ue]=!0,En[K]=En[B]=En[Fe]=En[j]=En[He]=En[ae]=En[ve]=En[fe]=En[G]=En[Z]=En[ge]=En[Oe]=En[de]=En[_e]=En[ne]=!1;var Gr={};Gr[K]=Gr[B]=Gr[Fe]=Gr[He]=Gr[j]=Gr[ae]=Gr[te]=Gr[ye]=Gr[Te]=Gr[Ce]=Gr[De]=Gr[G]=Gr[Z]=Gr[ge]=Gr[Oe]=Gr[de]=Gr[_e]=Gr[ce]=Gr[oe]=Gr[pe]=Gr[Le]=Gr[Ue]=!0,Gr[ve]=Gr[fe]=Gr[ne]=!1;var si={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Il={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_s=parseFloat,Uo=parseInt,Hs=typeof global=="object"&&global&&global.Object===Object&&global,Uu=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Hs||Uu||Function("return this")(),ju=typeof Oy=="object"&&Oy&&!Oy.nodeType&&Oy,Qa=ju&&typeof Hw=="object"&&Hw&&!Hw.nodeType&&Hw,jo=Qa&&Qa.exports===ju,Ts=jo&&Hs.process,eo=function(){try{var Gt=Qa&&Qa.require&&Qa.require("util").types;return Gt||Ts&&Ts.binding&&Ts.binding("util")}catch{}}(),us=eo&&eo.isArrayBuffer,fs=eo&&eo.isDate,Vu=eo&&eo.isMap,Vo=eo&&eo.isRegExp,id=eo&&eo.isSet,ul=eo&&eo.isTypedArray;function Va(Gt,lr,Jt){switch(Jt.length){case 0:return Gt.call(lr);case 1:return Gt.call(lr,Jt[0]);case 2:return Gt.call(lr,Jt[0],Jt[1]);case 3:return Gt.call(lr,Jt[0],Jt[1],Jt[2])}return Gt.apply(lr,Jt)}function R0(Gt,lr,Jt,Xr){for(var bn=-1,hi=Gt==null?0:Gt.length;++bn<hi;){var Ra=Gt[bn];lr(Xr,Ra,Jt(Ra),Gt)}return Xr}function qa(Gt,lr){for(var Jt=-1,Xr=Gt==null?0:Gt.length;++Jt<Xr&&lr(Gt[Jt],Jt,Gt)!==!1;);return Gt}function Gu(Gt,lr){for(var Jt=Gt==null?0:Gt.length;Jt--&&lr(Gt[Jt],Jt,Gt)!==!1;);return Gt}function su(Gt,lr){for(var Jt=-1,Xr=Gt==null?0:Gt.length;++Jt<Xr;)if(!lr(Gt[Jt],Jt,Gt))return!1;return!0}function Go(Gt,lr){for(var Jt=-1,Xr=Gt==null?0:Gt.length,bn=0,hi=[];++Jt<Xr;){var Ra=Gt[Jt];lr(Ra,Jt,Gt)&&(hi[bn++]=Ra)}return hi}function Us(Gt,lr){var Jt=Gt==null?0:Gt.length;return!!Jt&&Pl(Gt,lr,0)>-1}function Yu(Gt,lr,Jt){for(var Xr=-1,bn=Gt==null?0:Gt.length;++Xr<bn;)if(Jt(lr,Gt[Xr]))return!0;return!1}function zi(Gt,lr){for(var Jt=-1,Xr=Gt==null?0:Gt.length,bn=Array(Xr);++Jt<Xr;)bn[Jt]=lr(Gt[Jt],Jt,Gt);return bn}function As(Gt,lr){for(var Jt=-1,Xr=lr.length,bn=Gt.length;++Jt<Xr;)Gt[bn+Jt]=lr[Jt];return Gt}function Wu(Gt,lr,Jt,Xr){var bn=-1,hi=Gt==null?0:Gt.length;for(Xr&&hi&&(Jt=Gt[++bn]);++bn<hi;)Jt=lr(Jt,Gt[bn],bn,Gt);return Jt}function Xu(Gt,lr,Jt,Xr){var bn=Gt==null?0:Gt.length;for(Xr&&bn&&(Jt=Gt[--bn]);bn--;)Jt=lr(Jt,Gt[bn],bn,Gt);return Jt}function lu(Gt,lr){for(var Jt=-1,Xr=Gt==null?0:Gt.length;++Jt<Xr;)if(lr(Gt[Jt],Jt,Gt))return!0;return!1}var Af=js("length");function ah(Gt){return Gt.split("")}function oh(Gt){return Gt.match(Ct)||[]}function Ms(Gt,lr,Jt){var Xr;return Jt(Gt,function(bn,hi,Ra){if(lr(bn,hi,Ra))return Xr=hi,!1}),Xr}function Zu(Gt,lr,Jt,Xr){for(var bn=Gt.length,hi=Jt+(Xr?1:-1);Xr?hi--:++hi<bn;)if(lr(Gt[hi],hi,Gt))return hi;return-1}function Pl(Gt,lr,Jt){return lr===lr?bc(Gt,lr,Jt):Zu(Gt,za,Jt)}function cs(Gt,lr,Jt,Xr){for(var bn=Jt-1,hi=Gt.length;++bn<hi;)if(Xr(Gt[bn],lr))return bn;return-1}function za(Gt){return Gt!==Gt}function po(Gt,lr){var Jt=Gt==null?0:Gt.length;return Jt?pc(Gt,lr)/Jt:F}function js(Gt){return function(lr){return lr==null?e:lr[Gt]}}function $u(Gt){return function(lr){return Gt==null?e:Gt[lr]}}function uu(Gt,lr,Jt,Xr,bn){return bn(Gt,function(hi,Ra,vi){Jt=Xr?(Xr=!1,hi):lr(Jt,hi,Ra,vi)}),Jt}function Mf(Gt,lr){var Jt=Gt.length;for(Gt.sort(lr);Jt--;)Gt[Jt]=Gt[Jt].value;return Gt}function pc(Gt,lr){for(var Jt,Xr=-1,bn=Gt.length;++Xr<bn;){var hi=lr(Gt[Xr]);hi!==e&&(Jt=Jt===e?hi:Jt+hi)}return Jt}function sh(Gt,lr){for(var Jt=-1,Xr=Array(Gt);++Jt<Gt;)Xr[Jt]=lr(Jt);return Xr}function I0(Gt,lr){return zi(lr,function(Jt){return[Jt,Gt[Jt]]})}function ad(Gt){return Gt&&Gt.slice(0,Jh(Gt)+1).replace(yt,"")}function Eo(Gt){return function(lr){return Gt(lr)}}function gc(Gt,lr){return zi(lr,function(Jt){return Gt[Jt]})}function Ku(Gt,lr){return Gt.has(lr)}function lh(Gt,lr){for(var Jt=-1,Xr=Gt.length;++Jt<Xr&&Pl(lr,Gt[Jt],0)>-1;);return Jt}function Kh(Gt,lr){for(var Jt=Gt.length;Jt--&&Pl(lr,Gt[Jt],0)>-1;);return Jt}function od(Gt,lr){for(var Jt=Gt.length,Xr=0;Jt--;)Gt[Jt]===lr&&++Xr;return Xr}var mc=$u(si),yc=$u(Ho);function fl(Gt){return"\\"+Il[Gt]}function uh(Gt,lr){return Gt==null?e:Gt[lr]}function cl(Gt){return Bo.test(Gt)}function fh(Gt){return vo.test(Gt)}function sd(Gt){for(var lr,Jt=[];!(lr=Gt.next()).done;)Jt.push(lr.value);return Jt}function xc(Gt){var lr=-1,Jt=Array(Gt.size);return Gt.forEach(function(Xr,bn){Jt[++lr]=[bn,Xr]}),Jt}function ld(Gt,lr){return function(Jt){return Gt(lr(Jt))}}function Lo(Gt,lr){for(var Jt=-1,Xr=Gt.length,bn=0,hi=[];++Jt<Xr;){var Ra=Gt[Jt];(Ra===lr||Ra===l)&&(Gt[Jt]=l,hi[bn++]=Jt)}return hi}function Ju(Gt){var lr=-1,Jt=Array(Gt.size);return Gt.forEach(function(Xr){Jt[++lr]=Xr}),Jt}function kf(Gt){var lr=-1,Jt=Array(Gt.size);return Gt.forEach(function(Xr){Jt[++lr]=[Xr,Xr]}),Jt}function bc(Gt,lr,Jt){for(var Xr=Jt-1,bn=Gt.length;++Xr<bn;)if(Gt[Xr]===lr)return Xr;return-1}function wc(Gt,lr,Jt){for(var Xr=Jt+1;Xr--;)if(Gt[Xr]===lr)return Xr;return Xr}function fu(Gt){return cl(Gt)?ud(Gt):Af(Gt)}function Ga(Gt){return cl(Gt)?ev(Gt):ah(Gt)}function Jh(Gt){for(var lr=Gt.length;lr--&&Ht.test(Gt.charAt(lr)););return lr}var Qh=$u(Bs);function ud(Gt){for(var lr=La.lastIndex=0;La.test(Gt);)++lr;return lr}function ev(Gt){return Gt.match(La)||[]}function ch(Gt){return Gt.match(Ca)||[]}var tv=function Gt(lr){lr=lr==null?Ni:hl.defaults(Ni.Object(),lr,hl.pick(Ni,xa));var Jt=lr.Array,Xr=lr.Date,bn=lr.Error,hi=lr.Function,Ra=lr.Math,vi=lr.Object,hh=lr.RegExp,P0=lr.String,ks=lr.TypeError,Ss=Jt.prototype,vl=hi.prototype,Ya=vi.prototype,vh=lr["__core-js_shared__"],Fl=vl.toString,ki=Ya.hasOwnProperty,Es=0,rv=function(){var I=/[^.]+$/.exec(vh&&vh.keys&&vh.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),_c=Ya.toString,Tc=Fl.call(vi),fd=Ni._,dh=hh("^"+Fl.call(ki).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cu=jo?lr.Buffer:e,Vs=lr.Symbol,hu=lr.Uint8Array,cd=cu?cu.allocUnsafe:e,vu=ld(vi.getPrototypeOf,vi),du=vi.create,Sf=Ya.propertyIsEnumerable,dl=Ss.splice,Qu=Vs?Vs.isConcatSpreadable:e,pu=Vs?Vs.iterator:e,Gs=Vs?Vs.toStringTag:e,Ac=function(){try{var I=B0(vi,"defineProperty");return I({},"",{}),I}catch{}}(),ph=lr.clearTimeout!==Ni.clearTimeout&&lr.clearTimeout,hd=Xr&&Xr.now!==Ni.Date.now&&Xr.now,vd=lr.setTimeout!==Ni.setTimeout&&lr.setTimeout,Ef=Ra.ceil,ef=Ra.floor,ba=vi.getOwnPropertySymbols,Ys=cu?cu.isBuffer:e,tf=lr.isFinite,gh=Ss.join,Mc=ld(vi.keys,vi),wa=Ra.max,Ae=Ra.min,ze=Xr.now,rt=lr.parseInt,Ze=Ra.random,mt=Ss.reverse,It=B0(lr,"DataView"),Ut=B0(lr,"Map"),Xt=B0(lr,"Promise"),$t=B0(lr,"Set"),ar=B0(lr,"WeakMap"),jt=B0(vi,"create"),er=ar&&new ar,Kt={},ur=H0(It),vr=H0(Ut),Yr=H0(Xt),Br=H0($t),Jr=H0(ar),Zr=Vs?Vs.prototype:e,mr=Zr?Zr.valueOf:e,Ar=Zr?Zr.toString:e;function We(I){if(xo(I)&&!Jn(I)&&!(I instanceof Wr)){if(I instanceof zn)return I;if(ki.call(I,"__wrapped__"))return TF(I)}return new zn(I)}var on=function(){function I(){}return function(O){if(!ro(O))return{};if(du)return du(O);I.prototype=O;var re=new I;return I.prototype=e,re}}();function Gn(){}function zn(I,O){this.__wrapped__=I,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=e}We.templateSettings={escape:Ot,evaluate:je,interpolate:Ve,variable:"",imports:{_:We}},We.prototype=Gn.prototype,We.prototype.constructor=We,zn.prototype=on(Gn.prototype),zn.prototype.constructor=zn;function Wr(I){this.__wrapped__=I,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function Oi(){var I=new Wr(this.__wrapped__);return I.__actions__=mu(this.__actions__),I.__dir__=this.__dir__,I.__filtered__=this.__filtered__,I.__iteratees__=mu(this.__iteratees__),I.__takeCount__=this.__takeCount__,I.__views__=mu(this.__views__),I}function Hn(){if(this.__filtered__){var I=new Wr(this);I.__dir__=-1,I.__filtered__=!0}else I=this.clone(),I.__dir__*=-1;return I}function to(){var I=this.__wrapped__.value(),O=this.__dir__,re=Jn(I),Me=O<0,Ge=re?I.length:0,ut=c4e(0,Ge,this.__views__),Tt=ut.start,Bt=ut.end,Wt=Bt-Tt,dr=Me?Bt:Tt-1,yr=this.__iteratees__,Tr=yr.length,$r=0,gn=Ae(Wt,this.__takeCount__);if(!re||!Me&&Ge==Wt&&gn==Wt)return ds(I,this.__actions__);var Rn=[];e:for(;Wt--&&$r<gn;){dr+=O;for(var ui=-1,In=I[dr];++ui<Tr;){var Ti=yr[ui],qi=Ti.iteratee,ff=Ti.type,Hl=qi(In);if(ff==L)In=Hl;else if(!Hl){if(ff==E)continue e;break e}}Rn[$r++]=In}return Rn}Wr.prototype=on(Gn.prototype),Wr.prototype.constructor=Wr;function Bi(I){var O=-1,re=I==null?0:I.length;for(this.clear();++O<re;){var Me=I[O];this.set(Me[0],Me[1])}}function Hi(){this.__data__=jt?jt(null):{},this.size=0}function Cr(I){var O=this.has(I)&&delete this.__data__[I];return this.size-=O?1:0,O}function ei(I){var O=this.__data__;if(jt){var re=O[I];return re===o?e:re}return ki.call(O,I)?O[I]:e}function Ia(I){var O=this.__data__;return jt?O[I]!==e:ki.call(O,I)}function go(I,O){var re=this.__data__;return this.size+=this.has(I)?0:1,re[I]=jt&&O===e?o:O,this}Bi.prototype.clear=Hi,Bi.prototype.delete=Cr,Bi.prototype.get=ei,Bi.prototype.has=Ia,Bi.prototype.set=go;function Pa(I){var O=-1,re=I==null?0:I.length;for(this.clear();++O<re;){var Me=I[O];this.set(Me[0],Me[1])}}function Nl(){this.__data__=[],this.size=0}function pl(I){var O=this.__data__,re=Q(O,I);if(re<0)return!1;var Me=O.length-1;return re==Me?O.pop():dl.call(O,re,1),--this.size,!0}function rf(I){var O=this.__data__,re=Q(O,I);return re<0?e:O[re][1]}function Ws(I){return Q(this.__data__,I)>-1}function nf(I,O){var re=this.__data__,Me=Q(re,I);return Me<0?(++this.size,re.push([I,O])):re[Me][1]=O,this}Pa.prototype.clear=Nl,Pa.prototype.delete=pl,Pa.prototype.get=rf,Pa.prototype.has=Ws,Pa.prototype.set=nf;function Yo(I){var O=-1,re=I==null?0:I.length;for(this.clear();++O<re;){var Me=I[O];this.set(Me[0],Me[1])}}function mh(){this.size=0,this.__data__={hash:new Bi,map:new(Ut||Pa),string:new Bi}}function dd(I){var O=l_(this,I).delete(I);return this.size-=O?1:0,O}function pd(I){return l_(this,I).get(I)}function Xg(I){return l_(this,I).has(I)}function nv(I,O){var re=l_(this,I),Me=re.size;return re.set(I,O),this.size+=re.size==Me?0:1,this}Yo.prototype.clear=mh,Yo.prototype.delete=dd,Yo.prototype.get=pd,Yo.prototype.has=Xg,Yo.prototype.set=nv;function Co(I){var O=-1,re=I==null?0:I.length;for(this.__data__=new Yo;++O<re;)this.add(I[O])}function Zg(I){return this.__data__.set(I,o),this}function $g(I){return this.__data__.has(I)}Co.prototype.add=Co.prototype.push=Zg,Co.prototype.has=$g;function Ls(I){var O=this.__data__=new Pa(I);this.size=O.size}function F0(){this.__data__=new Pa,this.size=0}function Kg(I){var O=this.__data__,re=O.delete(I);return this.size=O.size,re}function Jg(I){return this.__data__.get(I)}function Qg(I){return this.__data__.has(I)}function gd(I,O){var re=this.__data__;if(re instanceof Pa){var Me=re.__data__;if(!Ut||Me.length<r-1)return Me.push([I,O]),this.size=++re.size,this;re=this.__data__=new Yo(Me)}return re.set(I,O),this.size=re.size,this}Ls.prototype.clear=F0,Ls.prototype.delete=Kg,Ls.prototype.get=Jg,Ls.prototype.has=Qg,Ls.prototype.set=gd;function yh(I,O){var re=Jn(I),Me=!re&&U0(I),Ge=!re&&!Me&&yd(I),ut=!re&&!Me&&!Ge&&n1(I),Tt=re||Me||Ge||ut,Bt=Tt?sh(I.length,P0):[],Wt=Bt.length;for(var dr in I)(O||ki.call(I,dr))&&!(Tt&&(dr=="length"||Ge&&(dr=="offset"||dr=="parent")||ut&&(dr=="buffer"||dr=="byteLength"||dr=="byteOffset")||uv(dr,Wt)))&&Bt.push(dr);return Bt}function N0(I){var O=I.length;return O?I[sr(0,O-1)]:e}function z0(I,O){return u_(mu(I),Re(O,0,I.length))}function Xy(I){return u_(mu(I))}function iv(I,O,re){(re!==e&&!Lc(I[O],re)||re===e&&!(O in I))&&Se(I,O,re)}function Wo(I,O,re){var Me=I[O];(!(ki.call(I,O)&&Lc(Me,re))||re===e&&!(O in I))&&Se(I,O,re)}function Q(I,O){for(var re=I.length;re--;)if(Lc(I[re][0],O))return re;return-1}function le(I,O,re,Me){return wt(I,function(Ge,ut,Tt){O(Me,Ge,re(Ge),Tt)}),Me}function me(I,O){return I&&wh(O,Rs(O),I)}function xe(I,O){return I&&wh(O,xu(O),I)}function Se(I,O,re){O=="__proto__"&&Ac?Ac(I,O,{configurable:!0,enumerable:!0,value:re,writable:!0}):I[O]=re}function ke(I,O){for(var re=-1,Me=O.length,Ge=Jt(Me),ut=I==null;++re<Me;)Ge[re]=ut?e:s4(I,O[re]);return Ge}function Re(I,O,re){return I===I&&(re!==e&&(I=I<=re?I:re),O!==e&&(I=I>=O?I:O)),I}function $e(I,O,re,Me,Ge,ut){var Tt,Bt=O&u,Wt=O&f,dr=O&c;if(re&&(Tt=Ge?re(I,Me,Ge,ut):re(I)),Tt!==e)return Tt;if(!ro(I))return I;var yr=Jn(I);if(yr){if(Tt=v4e(I),!Bt)return mu(I,Tt)}else{var Tr=yl(I),$r=Tr==fe||Tr==se;if(yd(I))return lf(I,Bt);if(Tr==ge||Tr==K||$r&&!Ge){if(Tt=Wt||$r?{}:dF(I),!Bt)return Wt?r4e(I,xe(Tt,I)):t4e(I,me(Tt,I))}else{if(!Gr[Tr])return Ge?I:{};Tt=d4e(I,Tr,Bt)}}ut||(ut=new Ls);var gn=ut.get(I);if(gn)return gn;ut.set(I,Tt),jF(I)?I.forEach(function(In){Tt.add($e(In,O,re,In,I,ut))}):HF(I)&&I.forEach(function(In,Ti){Tt.set(Ti,$e(In,O,re,Ti,I,ut))});var Rn=dr?Wt?WS:YS:Wt?xu:Rs,ui=yr?e:Rn(I);return qa(ui||I,function(In,Ti){ui&&(Ti=In,In=I[Ti]),Wo(Tt,Ti,$e(In,O,re,Ti,I,ut))}),Tt}function it(I){var O=Rs(I);return function(re){return Ke(re,I,O)}}function Ke(I,O,re){var Me=re.length;if(I==null)return!Me;for(I=vi(I);Me--;){var Ge=re[Me],ut=O[Ge],Tt=I[Ge];if(Tt===e&&!(Ge in I)||!ut(Tt))return!1}return!0}function at(I,O,re){if(typeof I!="function")throw new ks(i);return Jy(function(){I.apply(e,re)},O)}function gt(I,O,re,Me){var Ge=-1,ut=Us,Tt=!0,Bt=I.length,Wt=[],dr=O.length;if(!Bt)return Wt;re&&(O=zi(O,Eo(re))),Me?(ut=Yu,Tt=!1):O.length>=r&&(ut=Ku,Tt=!1,O=new Co(O));e:for(;++Ge<Bt;){var yr=I[Ge],Tr=re==null?yr:re(yr);if(yr=Me||yr!==0?yr:0,Tt&&Tr===Tr){for(var $r=dr;$r--;)if(O[$r]===Tr)continue e;Wt.push(yr)}else ut(O,Tr,Me)||Wt.push(yr)}return Wt}var wt=eF(nn),Rt=eF(xi,!0);function Yt(I,O){var re=!0;return wt(I,function(Me,Ge,ut){return re=!!O(Me,Ge,ut),re}),re}function Qt(I,O,re){for(var Me=-1,Ge=I.length;++Me<Ge;){var ut=I[Me],Tt=O(ut);if(Tt!=null&&(Bt===e?Tt===Tt&&!uf(Tt):re(Tt,Bt)))var Bt=Tt,Wt=ut}return Wt}function hr(I,O,re,Me){var Ge=I.length;for(re=ri(re),re<0&&(re=-re>Ge?0:Ge+re),Me=Me===e||Me>Ge?Ge:ri(Me),Me<0&&(Me+=Ge),Me=re>Me?0:GF(Me);re<Me;)I[re++]=O;return I}function qr(I,O){var re=[];return wt(I,function(Me,Ge,ut){O(Me,Ge,ut)&&re.push(Me)}),re}function zr(I,O,re,Me,Ge){var ut=-1,Tt=I.length;for(re||(re=g4e),Ge||(Ge=[]);++ut<Tt;){var Bt=I[ut];O>0&&re(Bt)?O>1?zr(Bt,O-1,re,Me,Ge):As(Ge,Bt):Me||(Ge[Ge.length]=Bt)}return Ge}var rn=tF(),an=tF(!0);function nn(I,O){return I&&rn(I,O,Rs)}function xi(I,O){return I&&an(I,O,Rs)}function Pi(I,O){return Go(O,function(re){return fv(I[re])})}function Ln(I,O){O=xh(O,I);for(var re=0,Me=O.length;I!=null&&re<Me;)I=I[_h(O[re++])];return re&&re==Me?I:e}function ca(I,O,re){var Me=O(I);return Jn(I)?Me:As(Me,re(I))}function Si(I){return I==null?I===e?J:X:Gs&&Gs in vi(I)?f4e(I):T4e(I)}function hs(I,O){return I>O}function af(I,O){return I!=null&&ki.call(I,O)}function kc(I,O){return I!=null&&O in vi(I)}function Xo(I,O,re){return I>=Ae(O,re)&&I<wa(O,re)}function mo(I,O,re){for(var Me=re?Yu:Us,Ge=I[0].length,ut=I.length,Tt=ut,Bt=Jt(ut),Wt=1/0,dr=[];Tt--;){var yr=I[Tt];Tt&&O&&(yr=zi(yr,Eo(O))),Wt=Ae(yr.length,Wt),Bt[Tt]=!re&&(O||Ge>=120&&yr.length>=120)?new Co(Tt&&yr):e}yr=I[0];var Tr=-1,$r=Bt[0];e:for(;++Tr<Ge&&dr.length<Wt;){var gn=yr[Tr],Rn=O?O(gn):gn;if(gn=re||gn!==0?gn:0,!($r?Ku($r,Rn):Me(dr,Rn,re))){for(Tt=ut;--Tt;){var ui=Bt[Tt];if(!(ui?Ku(ui,Rn):Me(I[Tt],Rn,re)))continue e}$r&&$r.push(Rn),dr.push(gn)}}return dr}function zl(I,O,re,Me){return nn(I,function(Ge,ut,Tt){O(Me,re(Ge),ut,Tt)}),Me}function Xs(I,O,re){O=xh(O,I),I=yF(I,O);var Me=I==null?I:I[_h(Cf(O))];return Me==null?e:Va(Me,I,re)}function gu(I){return xo(I)&&Si(I)==K}function of(I){return xo(I)&&Si(I)==Fe}function Lf(I){return xo(I)&&Si(I)==ae}function Cs(I,O,re,Me,Ge){return I===O?!0:I==null||O==null||!xo(I)&&!xo(O)?I!==I&&O!==O:Sc(I,O,re,Me,Cs,Ge)}function Sc(I,O,re,Me,Ge,ut){var Tt=Jn(I),Bt=Jn(O),Wt=Tt?B:yl(I),dr=Bt?B:yl(O);Wt=Wt==K?ge:Wt,dr=dr==K?ge:dr;var yr=Wt==ge,Tr=dr==ge,$r=Wt==dr;if($r&&yd(I)){if(!yd(O))return!1;Tt=!0,yr=!1}if($r&&!yr)return ut||(ut=new Ls),Tt||n1(I)?cF(I,O,re,Me,Ge,ut):l4e(I,O,Wt,re,Me,Ge,ut);if(!(re&h)){var gn=yr&&ki.call(I,"__wrapped__"),Rn=Tr&&ki.call(O,"__wrapped__");if(gn||Rn){var ui=gn?I.value():I,In=Rn?O.value():O;return ut||(ut=new Ls),Ge(ui,In,re,Me,ut)}}return $r?(ut||(ut=new Ls),u4e(I,O,re,Me,Ge,ut)):!1}function av(I){return xo(I)&&yl(I)==G}function P(I,O,re,Me){var Ge=re.length,ut=Ge,Tt=!Me;if(I==null)return!ut;for(I=vi(I);Ge--;){var Bt=re[Ge];if(Tt&&Bt[2]?Bt[1]!==I[Bt[0]]:!(Bt[0]in I))return!1}for(;++Ge<ut;){Bt=re[Ge];var Wt=Bt[0],dr=I[Wt],yr=Bt[1];if(Tt&&Bt[2]){if(dr===e&&!(Wt in I))return!1}else{var Tr=new Ls;if(Me)var $r=Me(dr,yr,Wt,I,O,Tr);if(!($r===e?Cs(yr,dr,h|v,Me,Tr):$r))return!1}}return!0}function H(I){if(!ro(I)||y4e(I))return!1;var O=fv(I)?dh:vn;return O.test(H0(I))}function W(I){return xo(I)&&Si(I)==Oe}function ie(I){return xo(I)&&yl(I)==de}function ue(I){return xo(I)&&p_(I.length)&&!!En[Si(I)]}function he(I){return typeof I=="function"?I:I==null?bu:typeof I=="object"?Jn(I)?ft(I[0],I[1]):Xe(I):rN(I)}function Ee(I){if(!Ky(I))return Mc(I);var O=[];for(var re in vi(I))ki.call(I,re)&&re!="constructor"&&O.push(re);return O}function we(I){if(!ro(I))return _4e(I);var O=Ky(I),re=[];for(var Me in I)Me=="constructor"&&(O||!ki.call(I,Me))||re.push(Me);return re}function Ne(I,O){return I<O}function Ye(I,O){var re=-1,Me=yu(I)?Jt(I.length):[];return wt(I,function(Ge,ut,Tt){Me[++re]=O(Ge,ut,Tt)}),Me}function Xe(I){var O=ZS(I);return O.length==1&&O[0][2]?gF(O[0][0],O[0][1]):function(re){return re===I||P(re,I,O)}}function ft(I,O){return KS(I)&&pF(O)?gF(_h(I),O):function(re){var Me=s4(re,I);return Me===e&&Me===O?l4(re,I):Cs(O,Me,h|v)}}function ct(I,O,re,Me,Ge){I!==O&&rn(O,function(ut,Tt){if(Ge||(Ge=new Ls),ro(ut))Dt(I,O,Tt,re,ct,Me,Ge);else{var Bt=Me?Me(QS(I,Tt),ut,Tt+"",I,O,Ge):e;Bt===e&&(Bt=ut),iv(I,Tt,Bt)}},xu)}function Dt(I,O,re,Me,Ge,ut,Tt){var Bt=QS(I,re),Wt=QS(O,re),dr=Tt.get(Wt);if(dr){iv(I,re,dr);return}var yr=ut?ut(Bt,Wt,re+"",I,O,Tt):e,Tr=yr===e;if(Tr){var $r=Jn(Wt),gn=!$r&&yd(Wt),Rn=!$r&&!gn&&n1(Wt);yr=Wt,$r||gn||Rn?Jn(Bt)?yr=Bt:Do(Bt)?yr=mu(Bt):gn?(Tr=!1,yr=lf(Wt,!0)):Rn?(Tr=!1,yr=O0(Wt,!0)):yr=[]:Qy(Wt)||U0(Wt)?(yr=Bt,U0(Bt)?yr=YF(Bt):(!ro(Bt)||fv(Bt))&&(yr=dF(Wt))):Tr=!1}Tr&&(Tt.set(Wt,yr),Ge(yr,Wt,Me,ut,Tt),Tt.delete(Wt)),iv(I,re,yr)}function Ft(I,O){var re=I.length;if(re)return O+=O<0?re:0,uv(O,re)?I[O]:e}function vt(I,O,re){O.length?O=zi(O,function(ut){return Jn(ut)?function(Tt){return Ln(Tt,ut.length===1?ut[0]:ut)}:ut}):O=[bu];var Me=-1;O=zi(O,Eo(Cn()));var Ge=Ye(I,function(ut,Tt,Bt){var Wt=zi(O,function(dr){return dr(ut)});return{criteria:Wt,index:++Me,value:ut}});return Mf(Ge,function(ut,Tt){return e4e(ut,Tt,re)})}function bt(I,O){return Mt(I,O,function(re,Me){return l4(I,Me)})}function Mt(I,O,re){for(var Me=-1,Ge=O.length,ut={};++Me<Ge;){var Tt=O[Me],Bt=Ln(I,Tt);re(Bt,Tt)&&dn(ut,xh(Tt,I),Bt)}return ut}function Nt(I){return function(O){return Ln(O,I)}}function zt(I,O,re,Me){var Ge=Me?cs:Pl,ut=-1,Tt=O.length,Bt=I;for(I===O&&(O=mu(O)),re&&(Bt=zi(I,Eo(re)));++ut<Tt;)for(var Wt=0,dr=O[ut],yr=re?re(dr):dr;(Wt=Ge(Bt,yr,Wt,Me))>-1;)Bt!==I&&dl.call(Bt,Wt,1),dl.call(I,Wt,1);return I}function Et(I,O){for(var re=I?O.length:0,Me=re-1;re--;){var Ge=O[re];if(re==Me||Ge!==ut){var ut=Ge;uv(Ge)?dl.call(I,Ge,1):yo(I,Ge)}}return I}function sr(I,O){return I+ef(Ze()*(O-I+1))}function kr(I,O,re,Me){for(var Ge=-1,ut=wa(Ef((O-I)/(re||1)),0),Tt=Jt(ut);ut--;)Tt[Me?ut:++Ge]=I,I+=re;return Tt}function Dr(I,O){var re="";if(!I||O<1||O>q)return re;do O%2&&(re+=I),O=ef(O/2),O&&(I+=I);while(O);return re}function or(I,O){return e4(mF(I,O,bu),I+"")}function Hr(I){return N0(i1(I))}function Ur(I,O){var re=i1(I);return u_(re,Re(O,0,re.length))}function dn(I,O,re,Me){if(!ro(I))return I;O=xh(O,I);for(var Ge=-1,ut=O.length,Tt=ut-1,Bt=I;Bt!=null&&++Ge<ut;){var Wt=_h(O[Ge]),dr=re;if(Wt==="__proto__"||Wt==="constructor"||Wt==="prototype")return I;if(Ge!=Tt){var yr=Bt[Wt];dr=Me?Me(yr,Wt,Bt):e,dr===e&&(dr=ro(yr)?yr:uv(O[Ge+1])?[]:{})}Wo(Bt,Wt,dr),Bt=Bt[Wt]}return I}var jr=er?function(I,O){return er.set(I,O),I}:bu,pn=Ac?function(I,O){return Ac(I,"toString",{configurable:!0,enumerable:!1,value:f4(O),writable:!0})}:bu;function di(I){return u_(i1(I))}function Ei(I,O,re){var Me=-1,Ge=I.length;O<0&&(O=-O>Ge?0:Ge+O),re=re>Ge?Ge:re,re<0&&(re+=Ge),Ge=O>re?0:re-O>>>0,O>>>=0;for(var ut=Jt(Ge);++Me<Ge;)ut[Me]=I[Me+O];return ut}function Li(I,O){var re;return wt(I,function(Me,Ge,ut){return re=O(Me,Ge,ut),!re}),!!re}function br(I,O,re){var Me=0,Ge=I==null?Me:I.length;if(typeof O=="number"&&O===O&&Ge<=V){for(;Me<Ge;){var ut=Me+Ge>>>1,Tt=I[ut];Tt!==null&&!uf(Tt)&&(re?Tt<=O:Tt<O)?Me=ut+1:Ge=ut}return Ge}return yn(I,O,bu,re)}function yn(I,O,re,Me){var Ge=0,ut=I==null?0:I.length;if(ut===0)return 0;O=re(O);for(var Tt=O!==O,Bt=O===null,Wt=uf(O),dr=O===e;Ge<ut;){var yr=ef((Ge+ut)/2),Tr=re(I[yr]),$r=Tr!==e,gn=Tr===null,Rn=Tr===Tr,ui=uf(Tr);if(Tt)var In=Me||Rn;else dr?In=Rn&&(Me||$r):Bt?In=Rn&&$r&&(Me||!gn):Wt?In=Rn&&$r&&!gn&&(Me||!ui):gn||ui?In=!1:In=Me?Tr<=O:Tr<O;In?Ge=yr+1:ut=yr}return Ae(ut,U)}function An(I,O){for(var re=-1,Me=I.length,Ge=0,ut=[];++re<Me;){var Tt=I[re],Bt=O?O(Tt):Tt;if(!re||!Lc(Bt,Wt)){var Wt=Bt;ut[Ge++]=Tt===0?0:Tt}}return ut}function li(I){return typeof I=="number"?I:uf(I)?F:+I}function pi(I){if(typeof I=="string")return I;if(Jn(I))return zi(I,pi)+"";if(uf(I))return Ar?Ar.call(I):"";var O=I+"";return O=="0"&&1/I==-R?"-0":O}function ea(I,O,re){var Me=-1,Ge=Us,ut=I.length,Tt=!0,Bt=[],Wt=Bt;if(re)Tt=!1,Ge=Yu;else if(ut>=r){var dr=O?null:o4e(I);if(dr)return Ju(dr);Tt=!1,Ge=Ku,Wt=new Co}else Wt=O?[]:Bt;e:for(;++Me<ut;){var yr=I[Me],Tr=O?O(yr):yr;if(yr=re||yr!==0?yr:0,Tt&&Tr===Tr){for(var $r=Wt.length;$r--;)if(Wt[$r]===Tr)continue e;O&&Wt.push(Tr),Bt.push(yr)}else Ge(Wt,Tr,re)||(Wt!==Bt&&Wt.push(Tr),Bt.push(yr))}return Bt}function yo(I,O){return O=xh(O,I),I=yF(I,O),I==null||delete I[_h(Cf(O))]}function vs(I,O,re,Me){return dn(I,O,re(Ln(I,O)),Me)}function Zo(I,O,re,Me){for(var Ge=I.length,ut=Me?Ge:-1;(Me?ut--:++ut<Ge)&&O(I[ut],ut,I););return re?Ei(I,Me?0:ut,Me?ut+1:Ge):Ei(I,Me?ut+1:0,Me?Ge:ut)}function ds(I,O){var re=I;return re instanceof Wr&&(re=re.value()),Wu(O,function(Me,Ge){return Ge.func.apply(Ge.thisArg,As([Me],Ge.args))},re)}function Ds(I,O,re){var Me=I.length;if(Me<2)return Me?ea(I[0]):[];for(var Ge=-1,ut=Jt(Me);++Ge<Me;)for(var Tt=I[Ge],Bt=-1;++Bt<Me;)Bt!=Ge&&(ut[Ge]=gt(ut[Ge]||Tt,I[Bt],O,re));return ea(zr(ut,1),O,re)}function $o(I,O,re){for(var Me=-1,Ge=I.length,ut=O.length,Tt={};++Me<Ge;){var Bt=Me<ut?O[Me]:e;re(Tt,I[Me],Bt)}return Tt}function qs(I){return Do(I)?I:[]}function Ec(I){return typeof I=="function"?I:bu}function xh(I,O){return Jn(I)?I:KS(I,O)?[I]:_F(ta(I))}var sf=or;function _a(I,O,re){var Me=I.length;return re=re===e?Me:re,!O&&re>=Me?I:Ei(I,O,re)}var Ol=ph||function(I){return Ni.clearTimeout(I)};function lf(I,O){if(O)return I.slice();var re=I.length,Me=cd?cd(re):new I.constructor(re);return I.copy(Me),Me}function ml(I){var O=new I.constructor(I.byteLength);return new hu(O).set(new hu(I)),O}function md(I,O){var re=O?ml(I.buffer):I.buffer;return new I.constructor(re,I.byteOffset,I.byteLength)}function ov(I){var O=new I.constructor(I.source,Lr.exec(I));return O.lastIndex=I.lastIndex,O}function bh(I){return mr?vi(mr.call(I)):{}}function O0(I,O){var re=O?ml(I.buffer):I.buffer;return new I.constructor(re,I.byteOffset,I.length)}function Zy(I,O){if(I!==O){var re=I!==e,Me=I===null,Ge=I===I,ut=uf(I),Tt=O!==e,Bt=O===null,Wt=O===O,dr=uf(O);if(!Bt&&!dr&&!ut&&I>O||ut&&Tt&&Wt&&!Bt&&!dr||Me&&Tt&&Wt||!re&&Wt||!Ge)return 1;if(!Me&&!ut&&!dr&&I<O||dr&&re&&Ge&&!Me&&!ut||Bt&&re&&Ge||!Tt&&Ge||!Wt)return-1}return 0}function e4e(I,O,re){for(var Me=-1,Ge=I.criteria,ut=O.criteria,Tt=Ge.length,Bt=re.length;++Me<Tt;){var Wt=Zy(Ge[Me],ut[Me]);if(Wt){if(Me>=Bt)return Wt;var dr=re[Me];return Wt*(dr=="desc"?-1:1)}}return I.index-O.index}function J9(I,O,re,Me){for(var Ge=-1,ut=I.length,Tt=re.length,Bt=-1,Wt=O.length,dr=wa(ut-Tt,0),yr=Jt(Wt+dr),Tr=!Me;++Bt<Wt;)yr[Bt]=O[Bt];for(;++Ge<Tt;)(Tr||Ge<ut)&&(yr[re[Ge]]=I[Ge]);for(;dr--;)yr[Bt++]=I[Ge++];return yr}function Q9(I,O,re,Me){for(var Ge=-1,ut=I.length,Tt=-1,Bt=re.length,Wt=-1,dr=O.length,yr=wa(ut-Bt,0),Tr=Jt(yr+dr),$r=!Me;++Ge<yr;)Tr[Ge]=I[Ge];for(var gn=Ge;++Wt<dr;)Tr[gn+Wt]=O[Wt];for(;++Tt<Bt;)($r||Ge<ut)&&(Tr[gn+re[Tt]]=I[Ge++]);return Tr}function mu(I,O){var re=-1,Me=I.length;for(O||(O=Jt(Me));++re<Me;)O[re]=I[re];return O}function wh(I,O,re,Me){var Ge=!re;re||(re={});for(var ut=-1,Tt=O.length;++ut<Tt;){var Bt=O[ut],Wt=Me?Me(re[Bt],I[Bt],Bt,re,I):e;Wt===e&&(Wt=I[Bt]),Ge?Se(re,Bt,Wt):Wo(re,Bt,Wt)}return re}function t4e(I,O){return wh(I,$S(I),O)}function r4e(I,O){return wh(I,hF(I),O)}function r_(I,O){return function(re,Me){var Ge=Jn(re)?R0:le,ut=O?O():{};return Ge(re,I,Cn(Me,2),ut)}}function e1(I){return or(function(O,re){var Me=-1,Ge=re.length,ut=Ge>1?re[Ge-1]:e,Tt=Ge>2?re[2]:e;for(ut=I.length>3&&typeof ut=="function"?(Ge--,ut):e,Tt&&Bl(re[0],re[1],Tt)&&(ut=Ge<3?e:ut,Ge=1),O=vi(O);++Me<Ge;){var Bt=re[Me];Bt&&I(O,Bt,Me,ut)}return O})}function eF(I,O){return function(re,Me){if(re==null)return re;if(!yu(re))return I(re,Me);for(var Ge=re.length,ut=O?Ge:-1,Tt=vi(re);(O?ut--:++ut<Ge)&&Me(Tt[ut],ut,Tt)!==!1;);return re}}function tF(I){return function(O,re,Me){for(var Ge=-1,ut=vi(O),Tt=Me(O),Bt=Tt.length;Bt--;){var Wt=Tt[I?Bt:++Ge];if(re(ut[Wt],Wt,ut)===!1)break}return O}}function n4e(I,O,re){var Me=O&b,Ge=$y(I);function ut(){var Tt=this&&this!==Ni&&this instanceof ut?Ge:I;return Tt.apply(Me?re:this,arguments)}return ut}function rF(I){return function(O){O=ta(O);var re=cl(O)?Ga(O):e,Me=re?re[0]:O.charAt(0),Ge=re?_a(re,1).join(""):O.slice(1);return Me[I]()+Ge}}function t1(I){return function(O){return Wu(eN(QF(O).replace(Qi,"")),I,"")}}function $y(I){return function(){var O=arguments;switch(O.length){case 0:return new I;case 1:return new I(O[0]);case 2:return new I(O[0],O[1]);case 3:return new I(O[0],O[1],O[2]);case 4:return new I(O[0],O[1],O[2],O[3]);case 5:return new I(O[0],O[1],O[2],O[3],O[4]);case 6:return new I(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new I(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var re=on(I.prototype),Me=I.apply(re,O);return ro(Me)?Me:re}}function i4e(I,O,re){var Me=$y(I);function Ge(){for(var ut=arguments.length,Tt=Jt(ut),Bt=ut,Wt=r1(Ge);Bt--;)Tt[Bt]=arguments[Bt];var dr=ut<3&&Tt[0]!==Wt&&Tt[ut-1]!==Wt?[]:Lo(Tt,Wt);if(ut-=dr.length,ut<re)return sF(I,O,n_,Ge.placeholder,e,Tt,dr,e,e,re-ut);var yr=this&&this!==Ni&&this instanceof Ge?Me:I;return Va(yr,this,Tt)}return Ge}function nF(I){return function(O,re,Me){var Ge=vi(O);if(!yu(O)){var ut=Cn(re,3);O=Rs(O),re=function(Bt){return ut(Ge[Bt],Bt,Ge)}}var Tt=I(O,re,Me);return Tt>-1?Ge[ut?O[Tt]:Tt]:e}}function iF(I){return lv(function(O){var re=O.length,Me=re,Ge=zn.prototype.thru;for(I&&O.reverse();Me--;){var ut=O[Me];if(typeof ut!="function")throw new ks(i);if(Ge&&!Tt&&s_(ut)=="wrapper")var Tt=new zn([],!0)}for(Me=Tt?Me:re;++Me<re;){ut=O[Me];var Bt=s_(ut),Wt=Bt=="wrapper"?XS(ut):e;Wt&&JS(Wt[0])&&Wt[1]==(w|m|g|k)&&!Wt[4].length&&Wt[9]==1?Tt=Tt[s_(Wt[0])].apply(Tt,Wt[3]):Tt=ut.length==1&&JS(ut)?Tt[Bt]():Tt.thru(ut)}return function(){var dr=arguments,yr=dr[0];if(Tt&&dr.length==1&&Jn(yr))return Tt.plant(yr).value();for(var Tr=0,$r=re?O[Tr].apply(this,dr):yr;++Tr<re;)$r=O[Tr].call(this,$r);return $r}})}function n_(I,O,re,Me,Ge,ut,Tt,Bt,Wt,dr){var yr=O&w,Tr=O&b,$r=O&y,gn=O&(m|_),Rn=O&p,ui=$r?e:$y(I);function In(){for(var Ti=arguments.length,qi=Jt(Ti),ff=Ti;ff--;)qi[ff]=arguments[ff];if(gn)var Hl=r1(In),cf=od(qi,Hl);if(Me&&(qi=J9(qi,Me,Ge,gn)),ut&&(qi=Q9(qi,ut,Tt,gn)),Ti-=cf,gn&&Ti<dr){var qo=Lo(qi,Hl);return sF(I,O,n_,In.placeholder,re,qi,qo,Bt,Wt,dr-Ti)}var Cc=Tr?re:this,hv=$r?Cc[I]:I;return Ti=qi.length,Bt?qi=A4e(qi,Bt):Rn&&Ti>1&&qi.reverse(),yr&&Wt<Ti&&(qi.length=Wt),this&&this!==Ni&&this instanceof In&&(hv=ui||$y(hv)),hv.apply(Cc,qi)}return In}function aF(I,O){return function(re,Me){return zl(re,I,O(Me),{})}}function i_(I,O){return function(re,Me){var Ge;if(re===e&&Me===e)return O;if(re!==e&&(Ge=re),Me!==e){if(Ge===e)return Me;typeof re=="string"||typeof Me=="string"?(re=pi(re),Me=pi(Me)):(re=li(re),Me=li(Me)),Ge=I(re,Me)}return Ge}}function VS(I){return lv(function(O){return O=zi(O,Eo(Cn())),or(function(re){var Me=this;return I(O,function(Ge){return Va(Ge,Me,re)})})})}function a_(I,O){O=O===e?" ":pi(O);var re=O.length;if(re<2)return re?Dr(O,I):O;var Me=Dr(O,Ef(I/fu(O)));return cl(O)?_a(Ga(Me),0,I).join(""):Me.slice(0,I)}function a4e(I,O,re,Me){var Ge=O&b,ut=$y(I);function Tt(){for(var Bt=-1,Wt=arguments.length,dr=-1,yr=Me.length,Tr=Jt(yr+Wt),$r=this&&this!==Ni&&this instanceof Tt?ut:I;++dr<yr;)Tr[dr]=Me[dr];for(;Wt--;)Tr[dr++]=arguments[++Bt];return Va($r,Ge?re:this,Tr)}return Tt}function oF(I){return function(O,re,Me){return Me&&typeof Me!="number"&&Bl(O,re,Me)&&(re=Me=e),O=cv(O),re===e?(re=O,O=0):re=cv(re),Me=Me===e?O<re?1:-1:cv(Me),kr(O,re,Me,I)}}function o_(I){return function(O,re){return typeof O=="string"&&typeof re=="string"||(O=Df(O),re=Df(re)),I(O,re)}}function sF(I,O,re,Me,Ge,ut,Tt,Bt,Wt,dr){var yr=O&m,Tr=yr?Tt:e,$r=yr?e:Tt,gn=yr?ut:e,Rn=yr?e:ut;O|=yr?g:A,O&=~(yr?A:g),O&x||(O&=~(b|y));var ui=[I,O,Ge,gn,Tr,Rn,$r,Bt,Wt,dr],In=re.apply(e,ui);return JS(I)&&xF(In,ui),In.placeholder=Me,bF(In,I,O)}function GS(I){var O=Ra[I];return function(re,Me){if(re=Df(re),Me=Me==null?0:Ae(ri(Me),292),Me&&tf(re)){var Ge=(ta(re)+"e").split("e"),ut=O(Ge[0]+"e"+(+Ge[1]+Me));return Ge=(ta(ut)+"e").split("e"),+(Ge[0]+"e"+(+Ge[1]-Me))}return O(re)}}var o4e=$t&&1/Ju(new $t([,-0]))[1]==R?function(I){return new $t(I)}:v4;function lF(I){return function(O){var re=yl(O);return re==G?xc(O):re==de?kf(O):I0(O,I(O))}}function sv(I,O,re,Me,Ge,ut,Tt,Bt){var Wt=O&y;if(!Wt&&typeof I!="function")throw new ks(i);var dr=Me?Me.length:0;if(dr||(O&=~(g|A),Me=Ge=e),Tt=Tt===e?Tt:wa(ri(Tt),0),Bt=Bt===e?Bt:ri(Bt),dr-=Ge?Ge.length:0,O&A){var yr=Me,Tr=Ge;Me=Ge=e}var $r=Wt?e:XS(I),gn=[I,O,re,Me,Ge,yr,Tr,ut,Tt,Bt];if($r&&w4e(gn,$r),I=gn[0],O=gn[1],re=gn[2],Me=gn[3],Ge=gn[4],Bt=gn[9]=gn[9]===e?Wt?0:I.length:wa(gn[9]-dr,0),!Bt&&O&(m|_)&&(O&=~(m|_)),!O||O==b)var Rn=n4e(I,O,re);else O==m||O==_?Rn=i4e(I,O,Bt):(O==g||O==(b|g))&&!Ge.length?Rn=a4e(I,O,re,Me):Rn=n_.apply(e,gn);var ui=$r?jr:xF;return bF(ui(Rn,gn),I,O)}function uF(I,O,re,Me){return I===e||Lc(I,Ya[re])&&!ki.call(Me,re)?O:I}function fF(I,O,re,Me,Ge,ut){return ro(I)&&ro(O)&&(ut.set(O,I),ct(I,O,e,fF,ut),ut.delete(O)),I}function s4e(I){return Qy(I)?e:I}function cF(I,O,re,Me,Ge,ut){var Tt=re&h,Bt=I.length,Wt=O.length;if(Bt!=Wt&&!(Tt&&Wt>Bt))return!1;var dr=ut.get(I),yr=ut.get(O);if(dr&&yr)return dr==O&&yr==I;var Tr=-1,$r=!0,gn=re&v?new Co:e;for(ut.set(I,O),ut.set(O,I);++Tr<Bt;){var Rn=I[Tr],ui=O[Tr];if(Me)var In=Tt?Me(ui,Rn,Tr,O,I,ut):Me(Rn,ui,Tr,I,O,ut);if(In!==e){if(In)continue;$r=!1;break}if(gn){if(!lu(O,function(Ti,qi){if(!Ku(gn,qi)&&(Rn===Ti||Ge(Rn,Ti,re,Me,ut)))return gn.push(qi)})){$r=!1;break}}else if(!(Rn===ui||Ge(Rn,ui,re,Me,ut))){$r=!1;break}}return ut.delete(I),ut.delete(O),$r}function l4e(I,O,re,Me,Ge,ut,Tt){switch(re){case He:if(I.byteLength!=O.byteLength||I.byteOffset!=O.byteOffset)return!1;I=I.buffer,O=O.buffer;case Fe:return!(I.byteLength!=O.byteLength||!ut(new hu(I),new hu(O)));case j:case ae:case Z:return Lc(+I,+O);case ve:return I.name==O.name&&I.message==O.message;case Oe:case _e:return I==O+"";case G:var Bt=xc;case de:var Wt=Me&h;if(Bt||(Bt=Ju),I.size!=O.size&&!Wt)return!1;var dr=Tt.get(I);if(dr)return dr==O;Me|=v,Tt.set(I,O);var yr=cF(Bt(I),Bt(O),Me,Ge,ut,Tt);return Tt.delete(I),yr;case ce:if(mr)return mr.call(I)==mr.call(O)}return!1}function u4e(I,O,re,Me,Ge,ut){var Tt=re&h,Bt=YS(I),Wt=Bt.length,dr=YS(O),yr=dr.length;if(Wt!=yr&&!Tt)return!1;for(var Tr=Wt;Tr--;){var $r=Bt[Tr];if(!(Tt?$r in O:ki.call(O,$r)))return!1}var gn=ut.get(I),Rn=ut.get(O);if(gn&&Rn)return gn==O&&Rn==I;var ui=!0;ut.set(I,O),ut.set(O,I);for(var In=Tt;++Tr<Wt;){$r=Bt[Tr];var Ti=I[$r],qi=O[$r];if(Me)var ff=Tt?Me(qi,Ti,$r,O,I,ut):Me(Ti,qi,$r,I,O,ut);if(!(ff===e?Ti===qi||Ge(Ti,qi,re,Me,ut):ff)){ui=!1;break}In||(In=$r=="constructor")}if(ui&&!In){var Hl=I.constructor,cf=O.constructor;Hl!=cf&&"constructor"in I&&"constructor"in O&&!(typeof Hl=="function"&&Hl instanceof Hl&&typeof cf=="function"&&cf instanceof cf)&&(ui=!1)}return ut.delete(I),ut.delete(O),ui}function lv(I){return e4(mF(I,e,kF),I+"")}function YS(I){return ca(I,Rs,$S)}function WS(I){return ca(I,xu,hF)}var XS=er?function(I){return er.get(I)}:v4;function s_(I){for(var O=I.name+"",re=Kt[O],Me=ki.call(Kt,O)?re.length:0;Me--;){var Ge=re[Me],ut=Ge.func;if(ut==null||ut==I)return Ge.name}return O}function r1(I){var O=ki.call(We,"placeholder")?We:I;return O.placeholder}function Cn(){var I=We.iteratee||c4;return I=I===c4?he:I,arguments.length?I(arguments[0],arguments[1]):I}function l_(I,O){var re=I.__data__;return m4e(O)?re[typeof O=="string"?"string":"hash"]:re.map}function ZS(I){for(var O=Rs(I),re=O.length;re--;){var Me=O[re],Ge=I[Me];O[re]=[Me,Ge,pF(Ge)]}return O}function B0(I,O){var re=uh(I,O);return H(re)?re:e}function f4e(I){var O=ki.call(I,Gs),re=I[Gs];try{I[Gs]=e;var Me=!0}catch{}var Ge=_c.call(I);return Me&&(O?I[Gs]=re:delete I[Gs]),Ge}var $S=ba?function(I){return I==null?[]:(I=vi(I),Go(ba(I),function(O){return Sf.call(I,O)}))}:d4,hF=ba?function(I){for(var O=[];I;)As(O,$S(I)),I=vu(I);return O}:d4,yl=Si;(It&&yl(new It(new ArrayBuffer(1)))!=He||Ut&&yl(new Ut)!=G||Xt&&yl(Xt.resolve())!=qe||$t&&yl(new $t)!=de||ar&&yl(new ar)!=ne)&&(yl=function(I){var O=Si(I),re=O==ge?I.constructor:e,Me=re?H0(re):"";if(Me)switch(Me){case ur:return He;case vr:return G;case Yr:return qe;case Br:return de;case Jr:return ne}return O});function c4e(I,O,re){for(var Me=-1,Ge=re.length;++Me<Ge;){var ut=re[Me],Tt=ut.size;switch(ut.type){case"drop":I+=Tt;break;case"dropRight":O-=Tt;break;case"take":O=Ae(O,I+Tt);break;case"takeRight":I=wa(I,O-Tt);break}}return{start:I,end:O}}function h4e(I){var O=I.match(tr);return O?O[1].split(rr):[]}function vF(I,O,re){O=xh(O,I);for(var Me=-1,Ge=O.length,ut=!1;++Me<Ge;){var Tt=_h(O[Me]);if(!(ut=I!=null&&re(I,Tt)))break;I=I[Tt]}return ut||++Me!=Ge?ut:(Ge=I==null?0:I.length,!!Ge&&p_(Ge)&&uv(Tt,Ge)&&(Jn(I)||U0(I)))}function v4e(I){var O=I.length,re=new I.constructor(O);return O&&typeof I[0]=="string"&&ki.call(I,"index")&&(re.index=I.index,re.input=I.input),re}function dF(I){return typeof I.constructor=="function"&&!Ky(I)?on(vu(I)):{}}function d4e(I,O,re){var Me=I.constructor;switch(O){case Fe:return ml(I);case j:case ae:return new Me(+I);case He:return md(I,re);case te:case ye:case Te:case Ce:case De:case oe:case pe:case Le:case Ue:return O0(I,re);case G:return new Me;case Z:case _e:return new Me(I);case Oe:return ov(I);case de:return new Me;case ce:return bh(I)}}function p4e(I,O){var re=O.length;if(!re)return I;var Me=re-1;return O[Me]=(re>1?"& ":"")+O[Me],O=O.join(re>2?", ":" "),I.replace(Lt,`{
/* [wrapped with `+O+`] */
`)}function g4e(I){return Jn(I)||U0(I)||!!(Qu&&I&&I[Qu])}function uv(I,O){var re=typeof I;return O=O??q,!!O&&(re=="number"||re!="symbol"&&Kr.test(I))&&I>-1&&I%1==0&&I<O}function Bl(I,O,re){if(!ro(re))return!1;var Me=typeof O;return(Me=="number"?yu(re)&&uv(O,re.length):Me=="string"&&O in re)?Lc(re[O],I):!1}function KS(I,O){if(Jn(I))return!1;var re=typeof I;return re=="number"||re=="symbol"||re=="boolean"||I==null||uf(I)?!0:nt.test(I)||!Je.test(I)||O!=null&&I in vi(O)}function m4e(I){var O=typeof I;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?I!=="__proto__":I===null}function JS(I){var O=s_(I),re=We[O];if(typeof re!="function"||!(O in Wr.prototype))return!1;if(I===re)return!0;var Me=XS(re);return!!Me&&I===Me[0]}function y4e(I){return!!rv&&rv in I}var x4e=vh?fv:p4;function Ky(I){var O=I&&I.constructor,re=typeof O=="function"&&O.prototype||Ya;return I===re}function pF(I){return I===I&&!ro(I)}function gF(I,O){return function(re){return re==null?!1:re[I]===O&&(O!==e||I in vi(re))}}function b4e(I){var O=v_(I,function(Me){return re.size===s&&re.clear(),Me}),re=O.cache;return O}function w4e(I,O){var re=I[1],Me=O[1],Ge=re|Me,ut=Ge<(b|y|w),Tt=Me==w&&re==m||Me==w&&re==k&&I[7].length<=O[8]||Me==(w|k)&&O[7].length<=O[8]&&re==m;if(!(ut||Tt))return I;Me&b&&(I[2]=O[2],Ge|=re&b?0:x);var Bt=O[3];if(Bt){var Wt=I[3];I[3]=Wt?J9(Wt,Bt,O[4]):Bt,I[4]=Wt?Lo(I[3],l):O[4]}return Bt=O[5],Bt&&(Wt=I[5],I[5]=Wt?Q9(Wt,Bt,O[6]):Bt,I[6]=Wt?Lo(I[5],l):O[6]),Bt=O[7],Bt&&(I[7]=Bt),Me&w&&(I[8]=I[8]==null?O[8]:Ae(I[8],O[8])),I[9]==null&&(I[9]=O[9]),I[0]=O[0],I[1]=Ge,I}function _4e(I){var O=[];if(I!=null)for(var re in vi(I))O.push(re);return O}function T4e(I){return _c.call(I)}function mF(I,O,re){return O=wa(O===e?I.length-1:O,0),function(){for(var Me=arguments,Ge=-1,ut=wa(Me.length-O,0),Tt=Jt(ut);++Ge<ut;)Tt[Ge]=Me[O+Ge];Ge=-1;for(var Bt=Jt(O+1);++Ge<O;)Bt[Ge]=Me[Ge];return Bt[O]=re(Tt),Va(I,this,Bt)}}function yF(I,O){return O.length<2?I:Ln(I,Ei(O,0,-1))}function A4e(I,O){for(var re=I.length,Me=Ae(O.length,re),Ge=mu(I);Me--;){var ut=O[Me];I[Me]=uv(ut,re)?Ge[ut]:e}return I}function QS(I,O){if(!(O==="constructor"&&typeof I[O]=="function")&&O!="__proto__")return I[O]}var xF=wF(jr),Jy=vd||function(I,O){return Ni.setTimeout(I,O)},e4=wF(pn);function bF(I,O,re){var Me=O+"";return e4(I,p4e(Me,M4e(h4e(Me),re)))}function wF(I){var O=0,re=0;return function(){var Me=ze(),Ge=S-(Me-re);if(re=Me,Ge>0){if(++O>=T)return arguments[0]}else O=0;return I.apply(e,arguments)}}function u_(I,O){var re=-1,Me=I.length,Ge=Me-1;for(O=O===e?Me:O;++re<O;){var ut=sr(re,Ge),Tt=I[ut];I[ut]=I[re],I[re]=Tt}return I.length=O,I}var _F=b4e(function(I){var O=[];return I.charCodeAt(0)===46&&O.push(""),I.replace(Be,function(re,Me,Ge,ut){O.push(Ge?ut.replace(Sr,"$1"):Me||re)}),O});function _h(I){if(typeof I=="string"||uf(I))return I;var O=I+"";return O=="0"&&1/I==-R?"-0":O}function H0(I){if(I!=null){try{return Fl.call(I)}catch{}try{return I+""}catch{}}return""}function M4e(I,O){return qa(Y,function(re){var Me="_."+re[0];O&re[1]&&!Us(I,Me)&&I.push(Me)}),I.sort()}function TF(I){if(I instanceof Wr)return I.clone();var O=new zn(I.__wrapped__,I.__chain__);return O.__actions__=mu(I.__actions__),O.__index__=I.__index__,O.__values__=I.__values__,O}function k4e(I,O,re){(re?Bl(I,O,re):O===e)?O=1:O=wa(ri(O),0);var Me=I==null?0:I.length;if(!Me||O<1)return[];for(var Ge=0,ut=0,Tt=Jt(Ef(Me/O));Ge<Me;)Tt[ut++]=Ei(I,Ge,Ge+=O);return Tt}function S4e(I){for(var O=-1,re=I==null?0:I.length,Me=0,Ge=[];++O<re;){var ut=I[O];ut&&(Ge[Me++]=ut)}return Ge}function E4e(){var I=arguments.length;if(!I)return[];for(var O=Jt(I-1),re=arguments[0],Me=I;Me--;)O[Me-1]=arguments[Me];return As(Jn(re)?mu(re):[re],zr(O,1))}var L4e=or(function(I,O){return Do(I)?gt(I,zr(O,1,Do,!0)):[]}),C4e=or(function(I,O){var re=Cf(O);return Do(re)&&(re=e),Do(I)?gt(I,zr(O,1,Do,!0),Cn(re,2)):[]}),D4e=or(function(I,O){var re=Cf(O);return Do(re)&&(re=e),Do(I)?gt(I,zr(O,1,Do,!0),e,re):[]});function q4e(I,O,re){var Me=I==null?0:I.length;return Me?(O=re||O===e?1:ri(O),Ei(I,O<0?0:O,Me)):[]}function R4e(I,O,re){var Me=I==null?0:I.length;return Me?(O=re||O===e?1:ri(O),O=Me-O,Ei(I,0,O<0?0:O)):[]}function I4e(I,O){return I&&I.length?Zo(I,Cn(O,3),!0,!0):[]}function P4e(I,O){return I&&I.length?Zo(I,Cn(O,3),!0):[]}function F4e(I,O,re,Me){var Ge=I==null?0:I.length;return Ge?(re&&typeof re!="number"&&Bl(I,O,re)&&(re=0,Me=Ge),hr(I,O,re,Me)):[]}function AF(I,O,re){var Me=I==null?0:I.length;if(!Me)return-1;var Ge=re==null?0:ri(re);return Ge<0&&(Ge=wa(Me+Ge,0)),Zu(I,Cn(O,3),Ge)}function MF(I,O,re){var Me=I==null?0:I.length;if(!Me)return-1;var Ge=Me-1;return re!==e&&(Ge=ri(re),Ge=re<0?wa(Me+Ge,0):Ae(Ge,Me-1)),Zu(I,Cn(O,3),Ge,!0)}function kF(I){var O=I==null?0:I.length;return O?zr(I,1):[]}function N4e(I){var O=I==null?0:I.length;return O?zr(I,R):[]}function z4e(I,O){var re=I==null?0:I.length;return re?(O=O===e?1:ri(O),zr(I,O)):[]}function O4e(I){for(var O=-1,re=I==null?0:I.length,Me={};++O<re;){var Ge=I[O];Me[Ge[0]]=Ge[1]}return Me}function SF(I){return I&&I.length?I[0]:e}function B4e(I,O,re){var Me=I==null?0:I.length;if(!Me)return-1;var Ge=re==null?0:ri(re);return Ge<0&&(Ge=wa(Me+Ge,0)),Pl(I,O,Ge)}function H4e(I){var O=I==null?0:I.length;return O?Ei(I,0,-1):[]}var U4e=or(function(I){var O=zi(I,qs);return O.length&&O[0]===I[0]?mo(O):[]}),j4e=or(function(I){var O=Cf(I),re=zi(I,qs);return O===Cf(re)?O=e:re.pop(),re.length&&re[0]===I[0]?mo(re,Cn(O,2)):[]}),V4e=or(function(I){var O=Cf(I),re=zi(I,qs);return O=typeof O=="function"?O:e,O&&re.pop(),re.length&&re[0]===I[0]?mo(re,e,O):[]});function G4e(I,O){return I==null?"":gh.call(I,O)}function Cf(I){var O=I==null?0:I.length;return O?I[O-1]:e}function Y4e(I,O,re){var Me=I==null?0:I.length;if(!Me)return-1;var Ge=Me;return re!==e&&(Ge=ri(re),Ge=Ge<0?wa(Me+Ge,0):Ae(Ge,Me-1)),O===O?wc(I,O,Ge):Zu(I,za,Ge,!0)}function W4e(I,O){return I&&I.length?Ft(I,ri(O)):e}var X4e=or(EF);function EF(I,O){return I&&I.length&&O&&O.length?zt(I,O):I}function Z4e(I,O,re){return I&&I.length&&O&&O.length?zt(I,O,Cn(re,2)):I}function $4e(I,O,re){return I&&I.length&&O&&O.length?zt(I,O,e,re):I}var K4e=lv(function(I,O){var re=I==null?0:I.length,Me=ke(I,O);return Et(I,zi(O,function(Ge){return uv(Ge,re)?+Ge:Ge}).sort(Zy)),Me});function J4e(I,O){var re=[];if(!(I&&I.length))return re;var Me=-1,Ge=[],ut=I.length;for(O=Cn(O,3);++Me<ut;){var Tt=I[Me];O(Tt,Me,I)&&(re.push(Tt),Ge.push(Me))}return Et(I,Ge),re}function t4(I){return I==null?I:mt.call(I)}function Q4e(I,O,re){var Me=I==null?0:I.length;return Me?(re&&typeof re!="number"&&Bl(I,O,re)?(O=0,re=Me):(O=O==null?0:ri(O),re=re===e?Me:ri(re)),Ei(I,O,re)):[]}function eEe(I,O){return br(I,O)}function tEe(I,O,re){return yn(I,O,Cn(re,2))}function rEe(I,O){var re=I==null?0:I.length;if(re){var Me=br(I,O);if(Me<re&&Lc(I[Me],O))return Me}return-1}function nEe(I,O){return br(I,O,!0)}function iEe(I,O,re){return yn(I,O,Cn(re,2),!0)}function aEe(I,O){var re=I==null?0:I.length;if(re){var Me=br(I,O,!0)-1;if(Lc(I[Me],O))return Me}return-1}function oEe(I){return I&&I.length?An(I):[]}function sEe(I,O){return I&&I.length?An(I,Cn(O,2)):[]}function lEe(I){var O=I==null?0:I.length;return O?Ei(I,1,O):[]}function uEe(I,O,re){return I&&I.length?(O=re||O===e?1:ri(O),Ei(I,0,O<0?0:O)):[]}function fEe(I,O,re){var Me=I==null?0:I.length;return Me?(O=re||O===e?1:ri(O),O=Me-O,Ei(I,O<0?0:O,Me)):[]}function cEe(I,O){return I&&I.length?Zo(I,Cn(O,3),!1,!0):[]}function hEe(I,O){return I&&I.length?Zo(I,Cn(O,3)):[]}var vEe=or(function(I){return ea(zr(I,1,Do,!0))}),dEe=or(function(I){var O=Cf(I);return Do(O)&&(O=e),ea(zr(I,1,Do,!0),Cn(O,2))}),pEe=or(function(I){var O=Cf(I);return O=typeof O=="function"?O:e,ea(zr(I,1,Do,!0),e,O)});function gEe(I){return I&&I.length?ea(I):[]}function mEe(I,O){return I&&I.length?ea(I,Cn(O,2)):[]}function yEe(I,O){return O=typeof O=="function"?O:e,I&&I.length?ea(I,e,O):[]}function r4(I){if(!(I&&I.length))return[];var O=0;return I=Go(I,function(re){if(Do(re))return O=wa(re.length,O),!0}),sh(O,function(re){return zi(I,js(re))})}function LF(I,O){if(!(I&&I.length))return[];var re=r4(I);return O==null?re:zi(re,function(Me){return Va(O,e,Me)})}var xEe=or(function(I,O){return Do(I)?gt(I,O):[]}),bEe=or(function(I){return Ds(Go(I,Do))}),wEe=or(function(I){var O=Cf(I);return Do(O)&&(O=e),Ds(Go(I,Do),Cn(O,2))}),_Ee=or(function(I){var O=Cf(I);return O=typeof O=="function"?O:e,Ds(Go(I,Do),e,O)}),TEe=or(r4);function AEe(I,O){return $o(I||[],O||[],Wo)}function MEe(I,O){return $o(I||[],O||[],dn)}var kEe=or(function(I){var O=I.length,re=O>1?I[O-1]:e;return re=typeof re=="function"?(I.pop(),re):e,LF(I,re)});function CF(I){var O=We(I);return O.__chain__=!0,O}function SEe(I,O){return O(I),I}function f_(I,O){return O(I)}var EEe=lv(function(I){var O=I.length,re=O?I[0]:0,Me=this.__wrapped__,Ge=function(ut){return ke(ut,I)};return O>1||this.__actions__.length||!(Me instanceof Wr)||!uv(re)?this.thru(Ge):(Me=Me.slice(re,+re+(O?1:0)),Me.__actions__.push({func:f_,args:[Ge],thisArg:e}),new zn(Me,this.__chain__).thru(function(ut){return O&&!ut.length&&ut.push(e),ut}))});function LEe(){return CF(this)}function CEe(){return new zn(this.value(),this.__chain__)}function DEe(){this.__values__===e&&(this.__values__=VF(this.value()));var I=this.__index__>=this.__values__.length,O=I?e:this.__values__[this.__index__++];return{done:I,value:O}}function qEe(){return this}function REe(I){for(var O,re=this;re instanceof Gn;){var Me=TF(re);Me.__index__=0,Me.__values__=e,O?Ge.__wrapped__=Me:O=Me;var Ge=Me;re=re.__wrapped__}return Ge.__wrapped__=I,O}function IEe(){var I=this.__wrapped__;if(I instanceof Wr){var O=I;return this.__actions__.length&&(O=new Wr(this)),O=O.reverse(),O.__actions__.push({func:f_,args:[t4],thisArg:e}),new zn(O,this.__chain__)}return this.thru(t4)}function PEe(){return ds(this.__wrapped__,this.__actions__)}var FEe=r_(function(I,O,re){ki.call(I,re)?++I[re]:Se(I,re,1)});function NEe(I,O,re){var Me=Jn(I)?su:Yt;return re&&Bl(I,O,re)&&(O=e),Me(I,Cn(O,3))}function zEe(I,O){var re=Jn(I)?Go:qr;return re(I,Cn(O,3))}var OEe=nF(AF),BEe=nF(MF);function HEe(I,O){return zr(c_(I,O),1)}function UEe(I,O){return zr(c_(I,O),R)}function jEe(I,O,re){return re=re===e?1:ri(re),zr(c_(I,O),re)}function DF(I,O){var re=Jn(I)?qa:wt;return re(I,Cn(O,3))}function qF(I,O){var re=Jn(I)?Gu:Rt;return re(I,Cn(O,3))}var VEe=r_(function(I,O,re){ki.call(I,re)?I[re].push(O):Se(I,re,[O])});function GEe(I,O,re,Me){I=yu(I)?I:i1(I),re=re&&!Me?ri(re):0;var Ge=I.length;return re<0&&(re=wa(Ge+re,0)),g_(I)?re<=Ge&&I.indexOf(O,re)>-1:!!Ge&&Pl(I,O,re)>-1}var YEe=or(function(I,O,re){var Me=-1,Ge=typeof O=="function",ut=yu(I)?Jt(I.length):[];return wt(I,function(Tt){ut[++Me]=Ge?Va(O,Tt,re):Xs(Tt,O,re)}),ut}),WEe=r_(function(I,O,re){Se(I,re,O)});function c_(I,O){var re=Jn(I)?zi:Ye;return re(I,Cn(O,3))}function XEe(I,O,re,Me){return I==null?[]:(Jn(O)||(O=O==null?[]:[O]),re=Me?e:re,Jn(re)||(re=re==null?[]:[re]),vt(I,O,re))}var ZEe=r_(function(I,O,re){I[re?0:1].push(O)},function(){return[[],[]]});function $Ee(I,O,re){var Me=Jn(I)?Wu:uu,Ge=arguments.length<3;return Me(I,Cn(O,4),re,Ge,wt)}function KEe(I,O,re){var Me=Jn(I)?Xu:uu,Ge=arguments.length<3;return Me(I,Cn(O,4),re,Ge,Rt)}function JEe(I,O){var re=Jn(I)?Go:qr;return re(I,d_(Cn(O,3)))}function QEe(I){var O=Jn(I)?N0:Hr;return O(I)}function eLe(I,O,re){(re?Bl(I,O,re):O===e)?O=1:O=ri(O);var Me=Jn(I)?z0:Ur;return Me(I,O)}function tLe(I){var O=Jn(I)?Xy:di;return O(I)}function rLe(I){if(I==null)return 0;if(yu(I))return g_(I)?fu(I):I.length;var O=yl(I);return O==G||O==de?I.size:Ee(I).length}function nLe(I,O,re){var Me=Jn(I)?lu:Li;return re&&Bl(I,O,re)&&(O=e),Me(I,Cn(O,3))}var iLe=or(function(I,O){if(I==null)return[];var re=O.length;return re>1&&Bl(I,O[0],O[1])?O=[]:re>2&&Bl(O[0],O[1],O[2])&&(O=[O[0]]),vt(I,zr(O,1),[])}),h_=hd||function(){return Ni.Date.now()};function aLe(I,O){if(typeof O!="function")throw new ks(i);return I=ri(I),function(){if(--I<1)return O.apply(this,arguments)}}function RF(I,O,re){return O=re?e:O,O=I&&O==null?I.length:O,sv(I,w,e,e,e,e,O)}function IF(I,O){var re;if(typeof O!="function")throw new ks(i);return I=ri(I),function(){return--I>0&&(re=O.apply(this,arguments)),I<=1&&(O=e),re}}var n4=or(function(I,O,re){var Me=b;if(re.length){var Ge=Lo(re,r1(n4));Me|=g}return sv(I,Me,O,re,Ge)}),PF=or(function(I,O,re){var Me=b|y;if(re.length){var Ge=Lo(re,r1(PF));Me|=g}return sv(O,Me,I,re,Ge)});function FF(I,O,re){O=re?e:O;var Me=sv(I,m,e,e,e,e,e,O);return Me.placeholder=FF.placeholder,Me}function NF(I,O,re){O=re?e:O;var Me=sv(I,_,e,e,e,e,e,O);return Me.placeholder=NF.placeholder,Me}function zF(I,O,re){var Me,Ge,ut,Tt,Bt,Wt,dr=0,yr=!1,Tr=!1,$r=!0;if(typeof I!="function")throw new ks(i);O=Df(O)||0,ro(re)&&(yr=!!re.leading,Tr="maxWait"in re,ut=Tr?wa(Df(re.maxWait)||0,O):ut,$r="trailing"in re?!!re.trailing:$r);function gn(qo){var Cc=Me,hv=Ge;return Me=Ge=e,dr=qo,Tt=I.apply(hv,Cc),Tt}function Rn(qo){return dr=qo,Bt=Jy(Ti,O),yr?gn(qo):Tt}function ui(qo){var Cc=qo-Wt,hv=qo-dr,nN=O-Cc;return Tr?Ae(nN,ut-hv):nN}function In(qo){var Cc=qo-Wt,hv=qo-dr;return Wt===e||Cc>=O||Cc<0||Tr&&hv>=ut}function Ti(){var qo=h_();if(In(qo))return qi(qo);Bt=Jy(Ti,ui(qo))}function qi(qo){return Bt=e,$r&&Me?gn(qo):(Me=Ge=e,Tt)}function ff(){Bt!==e&&Ol(Bt),dr=0,Me=Wt=Ge=Bt=e}function Hl(){return Bt===e?Tt:qi(h_())}function cf(){var qo=h_(),Cc=In(qo);if(Me=arguments,Ge=this,Wt=qo,Cc){if(Bt===e)return Rn(Wt);if(Tr)return Ol(Bt),Bt=Jy(Ti,O),gn(Wt)}return Bt===e&&(Bt=Jy(Ti,O)),Tt}return cf.cancel=ff,cf.flush=Hl,cf}var oLe=or(function(I,O){return at(I,1,O)}),sLe=or(function(I,O,re){return at(I,Df(O)||0,re)});function lLe(I){return sv(I,p)}function v_(I,O){if(typeof I!="function"||O!=null&&typeof O!="function")throw new ks(i);var re=function(){var Me=arguments,Ge=O?O.apply(this,Me):Me[0],ut=re.cache;if(ut.has(Ge))return ut.get(Ge);var Tt=I.apply(this,Me);return re.cache=ut.set(Ge,Tt)||ut,Tt};return re.cache=new(v_.Cache||Yo),re}v_.Cache=Yo;function d_(I){if(typeof I!="function")throw new ks(i);return function(){var O=arguments;switch(O.length){case 0:return!I.call(this);case 1:return!I.call(this,O[0]);case 2:return!I.call(this,O[0],O[1]);case 3:return!I.call(this,O[0],O[1],O[2])}return!I.apply(this,O)}}function uLe(I){return IF(2,I)}var fLe=sf(function(I,O){O=O.length==1&&Jn(O[0])?zi(O[0],Eo(Cn())):zi(zr(O,1),Eo(Cn()));var re=O.length;return or(function(Me){for(var Ge=-1,ut=Ae(Me.length,re);++Ge<ut;)Me[Ge]=O[Ge].call(this,Me[Ge]);return Va(I,this,Me)})}),i4=or(function(I,O){var re=Lo(O,r1(i4));return sv(I,g,e,O,re)}),OF=or(function(I,O){var re=Lo(O,r1(OF));return sv(I,A,e,O,re)}),cLe=lv(function(I,O){return sv(I,k,e,e,e,O)});function hLe(I,O){if(typeof I!="function")throw new ks(i);return O=O===e?O:ri(O),or(I,O)}function vLe(I,O){if(typeof I!="function")throw new ks(i);return O=O==null?0:wa(ri(O),0),or(function(re){var Me=re[O],Ge=_a(re,0,O);return Me&&As(Ge,Me),Va(I,this,Ge)})}function dLe(I,O,re){var Me=!0,Ge=!0;if(typeof I!="function")throw new ks(i);return ro(re)&&(Me="leading"in re?!!re.leading:Me,Ge="trailing"in re?!!re.trailing:Ge),zF(I,O,{leading:Me,maxWait:O,trailing:Ge})}function pLe(I){return RF(I,1)}function gLe(I,O){return i4(Ec(O),I)}function mLe(){if(!arguments.length)return[];var I=arguments[0];return Jn(I)?I:[I]}function yLe(I){return $e(I,c)}function xLe(I,O){return O=typeof O=="function"?O:e,$e(I,c,O)}function bLe(I){return $e(I,u|c)}function wLe(I,O){return O=typeof O=="function"?O:e,$e(I,u|c,O)}function _Le(I,O){return O==null||Ke(I,O,Rs(O))}function Lc(I,O){return I===O||I!==I&&O!==O}var TLe=o_(hs),ALe=o_(function(I,O){return I>=O}),U0=gu(function(){return arguments}())?gu:function(I){return xo(I)&&ki.call(I,"callee")&&!Sf.call(I,"callee")},Jn=Jt.isArray,MLe=us?Eo(us):of;function yu(I){return I!=null&&p_(I.length)&&!fv(I)}function Do(I){return xo(I)&&yu(I)}function kLe(I){return I===!0||I===!1||xo(I)&&Si(I)==j}var yd=Ys||p4,SLe=fs?Eo(fs):Lf;function ELe(I){return xo(I)&&I.nodeType===1&&!Qy(I)}function LLe(I){if(I==null)return!0;if(yu(I)&&(Jn(I)||typeof I=="string"||typeof I.splice=="function"||yd(I)||n1(I)||U0(I)))return!I.length;var O=yl(I);if(O==G||O==de)return!I.size;if(Ky(I))return!Ee(I).length;for(var re in I)if(ki.call(I,re))return!1;return!0}function CLe(I,O){return Cs(I,O)}function DLe(I,O,re){re=typeof re=="function"?re:e;var Me=re?re(I,O):e;return Me===e?Cs(I,O,e,re):!!Me}function a4(I){if(!xo(I))return!1;var O=Si(I);return O==ve||O==ee||typeof I.message=="string"&&typeof I.name=="string"&&!Qy(I)}function qLe(I){return typeof I=="number"&&tf(I)}function fv(I){if(!ro(I))return!1;var O=Si(I);return O==fe||O==se||O==z||O==Pe}function BF(I){return typeof I=="number"&&I==ri(I)}function p_(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=q}function ro(I){var O=typeof I;return I!=null&&(O=="object"||O=="function")}function xo(I){return I!=null&&typeof I=="object"}var HF=Vu?Eo(Vu):av;function RLe(I,O){return I===O||P(I,O,ZS(O))}function ILe(I,O,re){return re=typeof re=="function"?re:e,P(I,O,ZS(O),re)}function PLe(I){return UF(I)&&I!=+I}function FLe(I){if(x4e(I))throw new bn(n);return H(I)}function NLe(I){return I===null}function zLe(I){return I==null}function UF(I){return typeof I=="number"||xo(I)&&Si(I)==Z}function Qy(I){if(!xo(I)||Si(I)!=ge)return!1;var O=vu(I);if(O===null)return!0;var re=ki.call(O,"constructor")&&O.constructor;return typeof re=="function"&&re instanceof re&&Fl.call(re)==Tc}var o4=Vo?Eo(Vo):W;function OLe(I){return BF(I)&&I>=-q&&I<=q}var jF=id?Eo(id):ie;function g_(I){return typeof I=="string"||!Jn(I)&&xo(I)&&Si(I)==_e}function uf(I){return typeof I=="symbol"||xo(I)&&Si(I)==ce}var n1=ul?Eo(ul):ue;function BLe(I){return I===e}function HLe(I){return xo(I)&&yl(I)==ne}function ULe(I){return xo(I)&&Si(I)==be}var jLe=o_(Ne),VLe=o_(function(I,O){return I<=O});function VF(I){if(!I)return[];if(yu(I))return g_(I)?Ga(I):mu(I);if(pu&&I[pu])return sd(I[pu]());var O=yl(I),re=O==G?xc:O==de?Ju:i1;return re(I)}function cv(I){if(!I)return I===0?I:0;if(I=Df(I),I===R||I===-R){var O=I<0?-1:1;return O*C}return I===I?I:0}function ri(I){var O=cv(I),re=O%1;return O===O?re?O-re:O:0}function GF(I){return I?Re(ri(I),0,N):0}function Df(I){if(typeof I=="number")return I;if(uf(I))return F;if(ro(I)){var O=typeof I.valueOf=="function"?I.valueOf():I;I=ro(O)?O+"":O}if(typeof I!="string")return I===0?I:+I;I=ad(I);var re=Or.test(I);return re||qn.test(I)?Uo(I.slice(2),re?2:8):en.test(I)?F:+I}function YF(I){return wh(I,xu(I))}function GLe(I){return I?Re(ri(I),-q,q):I===0?I:0}function ta(I){return I==null?"":pi(I)}var YLe=e1(function(I,O){if(Ky(O)||yu(O)){wh(O,Rs(O),I);return}for(var re in O)ki.call(O,re)&&Wo(I,re,O[re])}),WF=e1(function(I,O){wh(O,xu(O),I)}),m_=e1(function(I,O,re,Me){wh(O,xu(O),I,Me)}),WLe=e1(function(I,O,re,Me){wh(O,Rs(O),I,Me)}),XLe=lv(ke);function ZLe(I,O){var re=on(I);return O==null?re:me(re,O)}var $Le=or(function(I,O){I=vi(I);var re=-1,Me=O.length,Ge=Me>2?O[2]:e;for(Ge&&Bl(O[0],O[1],Ge)&&(Me=1);++re<Me;)for(var ut=O[re],Tt=xu(ut),Bt=-1,Wt=Tt.length;++Bt<Wt;){var dr=Tt[Bt],yr=I[dr];(yr===e||Lc(yr,Ya[dr])&&!ki.call(I,dr))&&(I[dr]=ut[dr])}return I}),KLe=or(function(I){return I.push(e,fF),Va(XF,e,I)});function JLe(I,O){return Ms(I,Cn(O,3),nn)}function QLe(I,O){return Ms(I,Cn(O,3),xi)}function eCe(I,O){return I==null?I:rn(I,Cn(O,3),xu)}function tCe(I,O){return I==null?I:an(I,Cn(O,3),xu)}function rCe(I,O){return I&&nn(I,Cn(O,3))}function nCe(I,O){return I&&xi(I,Cn(O,3))}function iCe(I){return I==null?[]:Pi(I,Rs(I))}function aCe(I){return I==null?[]:Pi(I,xu(I))}function s4(I,O,re){var Me=I==null?e:Ln(I,O);return Me===e?re:Me}function oCe(I,O){return I!=null&&vF(I,O,af)}function l4(I,O){return I!=null&&vF(I,O,kc)}var sCe=aF(function(I,O,re){O!=null&&typeof O.toString!="function"&&(O=_c.call(O)),I[O]=re},f4(bu)),lCe=aF(function(I,O,re){O!=null&&typeof O.toString!="function"&&(O=_c.call(O)),ki.call(I,O)?I[O].push(re):I[O]=[re]},Cn),uCe=or(Xs);function Rs(I){return yu(I)?yh(I):Ee(I)}function xu(I){return yu(I)?yh(I,!0):we(I)}function fCe(I,O){var re={};return O=Cn(O,3),nn(I,function(Me,Ge,ut){Se(re,O(Me,Ge,ut),Me)}),re}function cCe(I,O){var re={};return O=Cn(O,3),nn(I,function(Me,Ge,ut){Se(re,Ge,O(Me,Ge,ut))}),re}var hCe=e1(function(I,O,re){ct(I,O,re)}),XF=e1(function(I,O,re,Me){ct(I,O,re,Me)}),vCe=lv(function(I,O){var re={};if(I==null)return re;var Me=!1;O=zi(O,function(ut){return ut=xh(ut,I),Me||(Me=ut.length>1),ut}),wh(I,WS(I),re),Me&&(re=$e(re,u|f|c,s4e));for(var Ge=O.length;Ge--;)yo(re,O[Ge]);return re});function dCe(I,O){return ZF(I,d_(Cn(O)))}var pCe=lv(function(I,O){return I==null?{}:bt(I,O)});function ZF(I,O){if(I==null)return{};var re=zi(WS(I),function(Me){return[Me]});return O=Cn(O),Mt(I,re,function(Me,Ge){return O(Me,Ge[0])})}function gCe(I,O,re){O=xh(O,I);var Me=-1,Ge=O.length;for(Ge||(Ge=1,I=e);++Me<Ge;){var ut=I==null?e:I[_h(O[Me])];ut===e&&(Me=Ge,ut=re),I=fv(ut)?ut.call(I):ut}return I}function mCe(I,O,re){return I==null?I:dn(I,O,re)}function yCe(I,O,re,Me){return Me=typeof Me=="function"?Me:e,I==null?I:dn(I,O,re,Me)}var $F=lF(Rs),KF=lF(xu);function xCe(I,O,re){var Me=Jn(I),Ge=Me||yd(I)||n1(I);if(O=Cn(O,4),re==null){var ut=I&&I.constructor;Ge?re=Me?new ut:[]:ro(I)?re=fv(ut)?on(vu(I)):{}:re={}}return(Ge?qa:nn)(I,function(Tt,Bt,Wt){return O(re,Tt,Bt,Wt)}),re}function bCe(I,O){return I==null?!0:yo(I,O)}function wCe(I,O,re){return I==null?I:vs(I,O,Ec(re))}function _Ce(I,O,re,Me){return Me=typeof Me=="function"?Me:e,I==null?I:vs(I,O,Ec(re),Me)}function i1(I){return I==null?[]:gc(I,Rs(I))}function TCe(I){return I==null?[]:gc(I,xu(I))}function ACe(I,O,re){return re===e&&(re=O,O=e),re!==e&&(re=Df(re),re=re===re?re:0),O!==e&&(O=Df(O),O=O===O?O:0),Re(Df(I),O,re)}function MCe(I,O,re){return O=cv(O),re===e?(re=O,O=0):re=cv(re),I=Df(I),Xo(I,O,re)}function kCe(I,O,re){if(re&&typeof re!="boolean"&&Bl(I,O,re)&&(O=re=e),re===e&&(typeof O=="boolean"?(re=O,O=e):typeof I=="boolean"&&(re=I,I=e)),I===e&&O===e?(I=0,O=1):(I=cv(I),O===e?(O=I,I=0):O=cv(O)),I>O){var Me=I;I=O,O=Me}if(re||I%1||O%1){var Ge=Ze();return Ae(I+Ge*(O-I+_s("1e-"+((Ge+"").length-1))),O)}return sr(I,O)}var SCe=t1(function(I,O,re){return O=O.toLowerCase(),I+(re?JF(O):O)});function JF(I){return u4(ta(I).toLowerCase())}function QF(I){return I=ta(I),I&&I.replace(Qr,mc).replace(ya,"")}function ECe(I,O,re){I=ta(I),O=pi(O);var Me=I.length;re=re===e?Me:Re(ri(re),0,Me);var Ge=re;return re-=O.length,re>=0&&I.slice(re,Ge)==O}function LCe(I){return I=ta(I),I&&St.test(I)?I.replace(_t,yc):I}function CCe(I){return I=ta(I),I&&ot.test(I)?I.replace(tt,"\\$&"):I}var DCe=t1(function(I,O,re){return I+(re?"-":"")+O.toLowerCase()}),qCe=t1(function(I,O,re){return I+(re?" ":"")+O.toLowerCase()}),RCe=rF("toLowerCase");function ICe(I,O,re){I=ta(I),O=ri(O);var Me=O?fu(I):0;if(!O||Me>=O)return I;var Ge=(O-Me)/2;return a_(ef(Ge),re)+I+a_(Ef(Ge),re)}function PCe(I,O,re){I=ta(I),O=ri(O);var Me=O?fu(I):0;return O&&Me<O?I+a_(O-Me,re):I}function FCe(I,O,re){I=ta(I),O=ri(O);var Me=O?fu(I):0;return O&&Me<O?a_(O-Me,re)+I:I}function NCe(I,O,re){return re||O==null?O=0:O&&(O=+O),rt(ta(I).replace(yt,""),O||0)}function zCe(I,O,re){return(re?Bl(I,O,re):O===e)?O=1:O=ri(O),Dr(ta(I),O)}function OCe(){var I=arguments,O=ta(I[0]);return I.length<3?O:O.replace(I[1],I[2])}var BCe=t1(function(I,O,re){return I+(re?"_":"")+O.toLowerCase()});function HCe(I,O,re){return re&&typeof re!="number"&&Bl(I,O,re)&&(O=re=e),re=re===e?N:re>>>0,re?(I=ta(I),I&&(typeof O=="string"||O!=null&&!o4(O))&&(O=pi(O),!O&&cl(I))?_a(Ga(I),0,re):I.split(O,re)):[]}var UCe=t1(function(I,O,re){return I+(re?" ":"")+u4(O)});function jCe(I,O,re){return I=ta(I),re=re==null?0:Re(ri(re),0,I.length),O=pi(O),I.slice(re,re+O.length)==O}function VCe(I,O,re){var Me=We.templateSettings;re&&Bl(I,O,re)&&(O=e),I=ta(I),O=m_({},O,Me,uF);var Ge=m_({},O.imports,Me.imports,uF),ut=Rs(Ge),Tt=gc(Ge,ut),Bt,Wt,dr=0,yr=O.interpolate||kn,Tr="__p += '",$r=hh((O.escape||kn).source+"|"+yr.source+"|"+(yr===Ve?gr:kn).source+"|"+(O.evaluate||kn).source+"|$","g"),gn="//# sourceURL="+(ki.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Da+"]")+`
`;I.replace($r,function(In,Ti,qi,ff,Hl,cf){return qi||(qi=ff),Tr+=I.slice(dr,cf).replace(Vn,fl),Ti&&(Bt=!0,Tr+=`' +
__e(`+Ti+`) +
'`),Hl&&(Wt=!0,Tr+=`';
`+Hl+`;
__p += '`),qi&&(Tr+=`' +
((__t = (`+qi+`)) == null ? '' : __t) +
'`),dr=cf+In.length,In}),Tr+=`';
`;var Rn=ki.call(O,"variable")&&O.variable;if(!Rn)Tr=`with (obj) {
`+Tr+`
}
`;else if(Zt.test(Rn))throw new bn(a);Tr=(Wt?Tr.replace(et,""):Tr).replace(Qe,"$1").replace(dt,"$1;"),Tr="function("+(Rn||"obj")+`) {
`+(Rn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Bt?", __e = _.escape":"")+(Wt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tr+`return __p
}`;var ui=tN(function(){return hi(ut,gn+"return "+Tr).apply(e,Tt)});if(ui.source=Tr,a4(ui))throw ui;return ui}function GCe(I){return ta(I).toLowerCase()}function YCe(I){return ta(I).toUpperCase()}function WCe(I,O,re){if(I=ta(I),I&&(re||O===e))return ad(I);if(!I||!(O=pi(O)))return I;var Me=Ga(I),Ge=Ga(O),ut=lh(Me,Ge),Tt=Kh(Me,Ge)+1;return _a(Me,ut,Tt).join("")}function XCe(I,O,re){if(I=ta(I),I&&(re||O===e))return I.slice(0,Jh(I)+1);if(!I||!(O=pi(O)))return I;var Me=Ga(I),Ge=Kh(Me,Ga(O))+1;return _a(Me,0,Ge).join("")}function ZCe(I,O,re){if(I=ta(I),I&&(re||O===e))return I.replace(yt,"");if(!I||!(O=pi(O)))return I;var Me=Ga(I),Ge=lh(Me,Ga(O));return _a(Me,Ge).join("")}function $Ce(I,O){var re=d,Me=M;if(ro(O)){var Ge="separator"in O?O.separator:Ge;re="length"in O?ri(O.length):re,Me="omission"in O?pi(O.omission):Me}I=ta(I);var ut=I.length;if(cl(I)){var Tt=Ga(I);ut=Tt.length}if(re>=ut)return I;var Bt=re-fu(Me);if(Bt<1)return Me;var Wt=Tt?_a(Tt,0,Bt).join(""):I.slice(0,Bt);if(Ge===e)return Wt+Me;if(Tt&&(Bt+=Wt.length-Bt),o4(Ge)){if(I.slice(Bt).search(Ge)){var dr,yr=Wt;for(Ge.global||(Ge=hh(Ge.source,ta(Lr.exec(Ge))+"g")),Ge.lastIndex=0;dr=Ge.exec(yr);)var Tr=dr.index;Wt=Wt.slice(0,Tr===e?Bt:Tr)}}else if(I.indexOf(pi(Ge),Bt)!=Bt){var $r=Wt.lastIndexOf(Ge);$r>-1&&(Wt=Wt.slice(0,$r))}return Wt+Me}function KCe(I){return I=ta(I),I&&kt.test(I)?I.replace(ht,Qh):I}var JCe=t1(function(I,O,re){return I+(re?" ":"")+O.toUpperCase()}),u4=rF("toUpperCase");function eN(I,O,re){return I=ta(I),O=re?e:O,O===e?fh(I)?ch(I):oh(I):I.match(O)||[]}var tN=or(function(I,O){try{return Va(I,e,O)}catch(re){return a4(re)?re:new bn(re)}}),QCe=lv(function(I,O){return qa(O,function(re){re=_h(re),Se(I,re,n4(I[re],I))}),I});function e6e(I){var O=I==null?0:I.length,re=Cn();return I=O?zi(I,function(Me){if(typeof Me[1]!="function")throw new ks(i);return[re(Me[0]),Me[1]]}):[],or(function(Me){for(var Ge=-1;++Ge<O;){var ut=I[Ge];if(Va(ut[0],this,Me))return Va(ut[1],this,Me)}})}function t6e(I){return it($e(I,u))}function f4(I){return function(){return I}}function r6e(I,O){return I==null||I!==I?O:I}var n6e=iF(),i6e=iF(!0);function bu(I){return I}function c4(I){return he(typeof I=="function"?I:$e(I,u))}function a6e(I){return Xe($e(I,u))}function o6e(I,O){return ft(I,$e(O,u))}var s6e=or(function(I,O){return function(re){return Xs(re,I,O)}}),l6e=or(function(I,O){return function(re){return Xs(I,re,O)}});function h4(I,O,re){var Me=Rs(O),Ge=Pi(O,Me);re==null&&!(ro(O)&&(Ge.length||!Me.length))&&(re=O,O=I,I=this,Ge=Pi(O,Rs(O)));var ut=!(ro(re)&&"chain"in re)||!!re.chain,Tt=fv(I);return qa(Ge,function(Bt){var Wt=O[Bt];I[Bt]=Wt,Tt&&(I.prototype[Bt]=function(){var dr=this.__chain__;if(ut||dr){var yr=I(this.__wrapped__),Tr=yr.__actions__=mu(this.__actions__);return Tr.push({func:Wt,args:arguments,thisArg:I}),yr.__chain__=dr,yr}return Wt.apply(I,As([this.value()],arguments))})}),I}function u6e(){return Ni._===this&&(Ni._=fd),this}function v4(){}function f6e(I){return I=ri(I),or(function(O){return Ft(O,I)})}var c6e=VS(zi),h6e=VS(su),v6e=VS(lu);function rN(I){return KS(I)?js(_h(I)):Nt(I)}function d6e(I){return function(O){return I==null?e:Ln(I,O)}}var p6e=oF(),g6e=oF(!0);function d4(){return[]}function p4(){return!1}function m6e(){return{}}function y6e(){return""}function x6e(){return!0}function b6e(I,O){if(I=ri(I),I<1||I>q)return[];var re=N,Me=Ae(I,N);O=Cn(O),I-=N;for(var Ge=sh(Me,O);++re<I;)O(re);return Ge}function w6e(I){return Jn(I)?zi(I,_h):uf(I)?[I]:mu(_F(ta(I)))}function _6e(I){var O=++Es;return ta(I)+O}var T6e=i_(function(I,O){return I+O},0),A6e=GS("ceil"),M6e=i_(function(I,O){return I/O},1),k6e=GS("floor");function S6e(I){return I&&I.length?Qt(I,bu,hs):e}function E6e(I,O){return I&&I.length?Qt(I,Cn(O,2),hs):e}function L6e(I){return po(I,bu)}function C6e(I,O){return po(I,Cn(O,2))}function D6e(I){return I&&I.length?Qt(I,bu,Ne):e}function q6e(I,O){return I&&I.length?Qt(I,Cn(O,2),Ne):e}var R6e=i_(function(I,O){return I*O},1),I6e=GS("round"),P6e=i_(function(I,O){return I-O},0);function F6e(I){return I&&I.length?pc(I,bu):0}function N6e(I,O){return I&&I.length?pc(I,Cn(O,2)):0}return We.after=aLe,We.ary=RF,We.assign=YLe,We.assignIn=WF,We.assignInWith=m_,We.assignWith=WLe,We.at=XLe,We.before=IF,We.bind=n4,We.bindAll=QCe,We.bindKey=PF,We.castArray=mLe,We.chain=CF,We.chunk=k4e,We.compact=S4e,We.concat=E4e,We.cond=e6e,We.conforms=t6e,We.constant=f4,We.countBy=FEe,We.create=ZLe,We.curry=FF,We.curryRight=NF,We.debounce=zF,We.defaults=$Le,We.defaultsDeep=KLe,We.defer=oLe,We.delay=sLe,We.difference=L4e,We.differenceBy=C4e,We.differenceWith=D4e,We.drop=q4e,We.dropRight=R4e,We.dropRightWhile=I4e,We.dropWhile=P4e,We.fill=F4e,We.filter=zEe,We.flatMap=HEe,We.flatMapDeep=UEe,We.flatMapDepth=jEe,We.flatten=kF,We.flattenDeep=N4e,We.flattenDepth=z4e,We.flip=lLe,We.flow=n6e,We.flowRight=i6e,We.fromPairs=O4e,We.functions=iCe,We.functionsIn=aCe,We.groupBy=VEe,We.initial=H4e,We.intersection=U4e,We.intersectionBy=j4e,We.intersectionWith=V4e,We.invert=sCe,We.invertBy=lCe,We.invokeMap=YEe,We.iteratee=c4,We.keyBy=WEe,We.keys=Rs,We.keysIn=xu,We.map=c_,We.mapKeys=fCe,We.mapValues=cCe,We.matches=a6e,We.matchesProperty=o6e,We.memoize=v_,We.merge=hCe,We.mergeWith=XF,We.method=s6e,We.methodOf=l6e,We.mixin=h4,We.negate=d_,We.nthArg=f6e,We.omit=vCe,We.omitBy=dCe,We.once=uLe,We.orderBy=XEe,We.over=c6e,We.overArgs=fLe,We.overEvery=h6e,We.overSome=v6e,We.partial=i4,We.partialRight=OF,We.partition=ZEe,We.pick=pCe,We.pickBy=ZF,We.property=rN,We.propertyOf=d6e,We.pull=X4e,We.pullAll=EF,We.pullAllBy=Z4e,We.pullAllWith=$4e,We.pullAt=K4e,We.range=p6e,We.rangeRight=g6e,We.rearg=cLe,We.reject=JEe,We.remove=J4e,We.rest=hLe,We.reverse=t4,We.sampleSize=eLe,We.set=mCe,We.setWith=yCe,We.shuffle=tLe,We.slice=Q4e,We.sortBy=iLe,We.sortedUniq=oEe,We.sortedUniqBy=sEe,We.split=HCe,We.spread=vLe,We.tail=lEe,We.take=uEe,We.takeRight=fEe,We.takeRightWhile=cEe,We.takeWhile=hEe,We.tap=SEe,We.throttle=dLe,We.thru=f_,We.toArray=VF,We.toPairs=$F,We.toPairsIn=KF,We.toPath=w6e,We.toPlainObject=YF,We.transform=xCe,We.unary=pLe,We.union=vEe,We.unionBy=dEe,We.unionWith=pEe,We.uniq=gEe,We.uniqBy=mEe,We.uniqWith=yEe,We.unset=bCe,We.unzip=r4,We.unzipWith=LF,We.update=wCe,We.updateWith=_Ce,We.values=i1,We.valuesIn=TCe,We.without=xEe,We.words=eN,We.wrap=gLe,We.xor=bEe,We.xorBy=wEe,We.xorWith=_Ee,We.zip=TEe,We.zipObject=AEe,We.zipObjectDeep=MEe,We.zipWith=kEe,We.entries=$F,We.entriesIn=KF,We.extend=WF,We.extendWith=m_,h4(We,We),We.add=T6e,We.attempt=tN,We.camelCase=SCe,We.capitalize=JF,We.ceil=A6e,We.clamp=ACe,We.clone=yLe,We.cloneDeep=bLe,We.cloneDeepWith=wLe,We.cloneWith=xLe,We.conformsTo=_Le,We.deburr=QF,We.defaultTo=r6e,We.divide=M6e,We.endsWith=ECe,We.eq=Lc,We.escape=LCe,We.escapeRegExp=CCe,We.every=NEe,We.find=OEe,We.findIndex=AF,We.findKey=JLe,We.findLast=BEe,We.findLastIndex=MF,We.findLastKey=QLe,We.floor=k6e,We.forEach=DF,We.forEachRight=qF,We.forIn=eCe,We.forInRight=tCe,We.forOwn=rCe,We.forOwnRight=nCe,We.get=s4,We.gt=TLe,We.gte=ALe,We.has=oCe,We.hasIn=l4,We.head=SF,We.identity=bu,We.includes=GEe,We.indexOf=B4e,We.inRange=MCe,We.invoke=uCe,We.isArguments=U0,We.isArray=Jn,We.isArrayBuffer=MLe,We.isArrayLike=yu,We.isArrayLikeObject=Do,We.isBoolean=kLe,We.isBuffer=yd,We.isDate=SLe,We.isElement=ELe,We.isEmpty=LLe,We.isEqual=CLe,We.isEqualWith=DLe,We.isError=a4,We.isFinite=qLe,We.isFunction=fv,We.isInteger=BF,We.isLength=p_,We.isMap=HF,We.isMatch=RLe,We.isMatchWith=ILe,We.isNaN=PLe,We.isNative=FLe,We.isNil=zLe,We.isNull=NLe,We.isNumber=UF,We.isObject=ro,We.isObjectLike=xo,We.isPlainObject=Qy,We.isRegExp=o4,We.isSafeInteger=OLe,We.isSet=jF,We.isString=g_,We.isSymbol=uf,We.isTypedArray=n1,We.isUndefined=BLe,We.isWeakMap=HLe,We.isWeakSet=ULe,We.join=G4e,We.kebabCase=DCe,We.last=Cf,We.lastIndexOf=Y4e,We.lowerCase=qCe,We.lowerFirst=RCe,We.lt=jLe,We.lte=VLe,We.max=S6e,We.maxBy=E6e,We.mean=L6e,We.meanBy=C6e,We.min=D6e,We.minBy=q6e,We.stubArray=d4,We.stubFalse=p4,We.stubObject=m6e,We.stubString=y6e,We.stubTrue=x6e,We.multiply=R6e,We.nth=W4e,We.noConflict=u6e,We.noop=v4,We.now=h_,We.pad=ICe,We.padEnd=PCe,We.padStart=FCe,We.parseInt=NCe,We.random=kCe,We.reduce=$Ee,We.reduceRight=KEe,We.repeat=zCe,We.replace=OCe,We.result=gCe,We.round=I6e,We.runInContext=Gt,We.sample=QEe,We.size=rLe,We.snakeCase=BCe,We.some=nLe,We.sortedIndex=eEe,We.sortedIndexBy=tEe,We.sortedIndexOf=rEe,We.sortedLastIndex=nEe,We.sortedLastIndexBy=iEe,We.sortedLastIndexOf=aEe,We.startCase=UCe,We.startsWith=jCe,We.subtract=P6e,We.sum=F6e,We.sumBy=N6e,We.template=VCe,We.times=b6e,We.toFinite=cv,We.toInteger=ri,We.toLength=GF,We.toLower=GCe,We.toNumber=Df,We.toSafeInteger=GLe,We.toString=ta,We.toUpper=YCe,We.trim=WCe,We.trimEnd=XCe,We.trimStart=ZCe,We.truncate=$Ce,We.unescape=KCe,We.uniqueId=_6e,We.upperCase=JCe,We.upperFirst=u4,We.each=DF,We.eachRight=qF,We.first=SF,h4(We,function(){var I={};return nn(We,function(O,re){ki.call(We.prototype,re)||(I[re]=O)}),I}(),{chain:!1}),We.VERSION=t,qa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(I){We[I].placeholder=We}),qa(["drop","take"],function(I,O){Wr.prototype[I]=function(re){re=re===e?1:wa(ri(re),0);var Me=this.__filtered__&&!O?new Wr(this):this.clone();return Me.__filtered__?Me.__takeCount__=Ae(re,Me.__takeCount__):Me.__views__.push({size:Ae(re,N),type:I+(Me.__dir__<0?"Right":"")}),Me},Wr.prototype[I+"Right"]=function(re){return this.reverse()[I](re).reverse()}}),qa(["filter","map","takeWhile"],function(I,O){var re=O+1,Me=re==E||re==D;Wr.prototype[I]=function(Ge){var ut=this.clone();return ut.__iteratees__.push({iteratee:Cn(Ge,3),type:re}),ut.__filtered__=ut.__filtered__||Me,ut}}),qa(["head","last"],function(I,O){var re="take"+(O?"Right":"");Wr.prototype[I]=function(){return this[re](1).value()[0]}}),qa(["initial","tail"],function(I,O){var re="drop"+(O?"":"Right");Wr.prototype[I]=function(){return this.__filtered__?new Wr(this):this[re](1)}}),Wr.prototype.compact=function(){return this.filter(bu)},Wr.prototype.find=function(I){return this.filter(I).head()},Wr.prototype.findLast=function(I){return this.reverse().find(I)},Wr.prototype.invokeMap=or(function(I,O){return typeof I=="function"?new Wr(this):this.map(function(re){return Xs(re,I,O)})}),Wr.prototype.reject=function(I){return this.filter(d_(Cn(I)))},Wr.prototype.slice=function(I,O){I=ri(I);var re=this;return re.__filtered__&&(I>0||O<0)?new Wr(re):(I<0?re=re.takeRight(-I):I&&(re=re.drop(I)),O!==e&&(O=ri(O),re=O<0?re.dropRight(-O):re.take(O-I)),re)},Wr.prototype.takeRightWhile=function(I){return this.reverse().takeWhile(I).reverse()},Wr.prototype.toArray=function(){return this.take(N)},nn(Wr.prototype,function(I,O){var re=/^(?:filter|find|map|reject)|While$/.test(O),Me=/^(?:head|last)$/.test(O),Ge=We[Me?"take"+(O=="last"?"Right":""):O],ut=Me||/^find/.test(O);Ge&&(We.prototype[O]=function(){var Tt=this.__wrapped__,Bt=Me?[1]:arguments,Wt=Tt instanceof Wr,dr=Bt[0],yr=Wt||Jn(Tt),Tr=function(Ti){var qi=Ge.apply(We,As([Ti],Bt));return Me&&$r?qi[0]:qi};yr&&re&&typeof dr=="function"&&dr.length!=1&&(Wt=yr=!1);var $r=this.__chain__,gn=!!this.__actions__.length,Rn=ut&&!$r,ui=Wt&&!gn;if(!ut&&yr){Tt=ui?Tt:new Wr(this);var In=I.apply(Tt,Bt);return In.__actions__.push({func:f_,args:[Tr],thisArg:e}),new zn(In,$r)}return Rn&&ui?I.apply(this,Bt):(In=this.thru(Tr),Rn?Me?In.value()[0]:In.value():In)})}),qa(["pop","push","shift","sort","splice","unshift"],function(I){var O=Ss[I],re=/^(?:push|sort|unshift)$/.test(I)?"tap":"thru",Me=/^(?:pop|shift)$/.test(I);We.prototype[I]=function(){var Ge=arguments;if(Me&&!this.__chain__){var ut=this.value();return O.apply(Jn(ut)?ut:[],Ge)}return this[re](function(Tt){return O.apply(Jn(Tt)?Tt:[],Ge)})}}),nn(Wr.prototype,function(I,O){var re=We[O];if(re){var Me=re.name+"";ki.call(Kt,Me)||(Kt[Me]=[]),Kt[Me].push({name:O,func:re})}}),Kt[n_(e,y).name]=[{name:"wrapper",func:e}],Wr.prototype.clone=Oi,Wr.prototype.reverse=Hn,Wr.prototype.value=to,We.prototype.at=EEe,We.prototype.chain=LEe,We.prototype.commit=CEe,We.prototype.next=DEe,We.prototype.plant=REe,We.prototype.reverse=IEe,We.prototype.toJSON=We.prototype.valueOf=We.prototype.value=PEe,We.prototype.first=We.prototype.head,pu&&(We.prototype[pu]=qEe),We},hl=tv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ni._=hl,define(function(){return hl})):Qa?((Qa.exports=hl)._=hl,ju._=hl):Ni._=hl}).call(Oy)});var S5e=$((sFt,DS)=>{(function(){function e(n){for(var i=0,a=n.length-1,o=void 0,s=void 0,l=void 0,u=r(i,a);;){if(a<=i)return n[u];if(a==i+1)return n[i]>n[a]&&t(n,i,a),n[u];for(o=r(i,a),n[o]>n[a]&&t(n,o,a),n[i]>n[a]&&t(n,i,a),n[o]>n[i]&&t(n,o,i),t(n,o,i+1),s=i+1,l=a;;){do s++;while(n[i]>n[s]);do l--;while(n[l]>n[i]);if(l<s)break;t(n,s,l)}t(n,i,l),l<=u&&(i=s),l>=u&&(a=l-1)}}var t=function(i,a,o){var s;return s=[i[o],i[a]],i[a]=s[0],i[o]=s[1],s},r=function(i,a){return~~((i+a)/2)};typeof DS<"u"&&DS.exports?DS.exports=e:window.median=e})()});var I5e=$((EFt,R5e)=>{"use strict";function b2t(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],o=1;o<n;++o)if(a=i,i=e[o],t(i,a)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}function w2t(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,n=e[a],n!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}function _2t(e,t,r){return e.length===0?e:t?(r||e.sort(t),b2t(e,t)):(r||e.sort(),w2t(e))}R5e.exports=_2t});var N5e=$((LFt,F5e)=>{"use strict";var T2t=I5e();function P5e(e,t,r){var n=e.length,i=t.arrayArgs.length,a=t.indexArgs.length>0,o=[],s=[],l=0,u=0,f,c;for(f=0;f<n;++f)s.push(["i",f,"=0"].join(""));for(c=0;c<i;++c)for(f=0;f<n;++f)u=l,l=e[f],f===0?s.push(["d",c,"s",f,"=t",c,"p",l].join("")):s.push(["d",c,"s",f,"=(t",c,"p",l,"-s",u,"*t",c,"p",u,")"].join(""));for(s.length>0&&o.push("var "+s.join(",")),f=n-1;f>=0;--f)l=e[f],o.push(["for(i",f,"=0;i",f,"<s",l,";++i",f,"){"].join(""));for(o.push(r),f=0;f<n;++f){for(u=l,l=e[f],c=0;c<i;++c)o.push(["p",c,"+=d",c,"s",f].join(""));a&&(f>0&&o.push(["index[",u,"]-=s",u].join("")),o.push(["++index[",l,"]"].join(""))),o.push("}")}return o.join(`
`)}function A2t(e,t,r,n){for(var i=t.length,a=r.arrayArgs.length,o=r.blockSize,s=r.indexArgs.length>0,l=[],u=0;u<a;++u)l.push(["var offset",u,"=p",u].join(""));for(var u=e;u<i;++u)l.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),l.push(["if(j",u,"<",o,"){"].join("")),l.push(["s",t[u],"=j",u].join("")),l.push(["j",u,"=0"].join("")),l.push(["}else{s",t[u],"=",o].join("")),l.push(["j",u,"-=",o,"}"].join("")),s&&l.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<a;++u){for(var f=["offset"+u],c=e;c<i;++c)f.push(["j",c,"*t",u,"p",t[c]].join(""));l.push(["p",u,"=(",f.join("+"),")"].join(""))}l.push(P5e(t,r,n));for(var u=e;u<i;++u)l.push("}");return l.join(`
`)}function M2t(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function M9(e,t,r){for(var n=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",f=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o),h=t.offsetArgs[c];f=h.array,u="+q"+c;case"array":u="p"+f+u;var v="l"+o,b="a"+f;if(t.arrayBlockIndices[f]===0)s.count===1?r[f]==="generic"?s.lvalue?(i.push(["var ",v,"=",b,".get(",u,")"].join("")),n=n.replace(l,v),a.push([b,".set(",u,",",v,")"].join(""))):n=n.replace(l,[b,".get(",u,")"].join("")):n=n.replace(l,[b,"[",u,"]"].join("")):r[f]==="generic"?(i.push(["var ",v,"=",b,".get(",u,")"].join("")),n=n.replace(l,v),s.lvalue&&a.push([b,".set(",u,",",v,")"].join(""))):(i.push(["var ",v,"=",b,"[",u,"]"].join("")),n=n.replace(l,v),s.lvalue&&a.push([b,"[",u,"]=",v].join("")));else{for(var y=[s.name],x=[u],m=0;m<Math.abs(t.arrayBlockIndices[f]);m++)y.push("\\s*\\[([^\\]]+)\\]"),x.push("$"+(m+1)+"*t"+f+"b"+m);if(l=new RegExp(y.join(""),"g"),u=x.join("+"),r[f]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[b,"[",u,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape");break}}}return[i.join(`
`),n,a.join(`
`)].join(`
`).trim()}function k2t(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a?a=a[0]:a="",i.charAt(0)===0?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function S2t(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,n=new Array(e.arrayArgs.length),i=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)i[a]=t[2*a],n[a]=t[2*a+1];for(var o=[],s=[],l=[],u=[],f=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(l.push(0),u.push(r),o.push(r),s.push(r+e.arrayBlockIndices[a])):(l.push(e.arrayBlockIndices[a]),u.push(e.arrayBlockIndices[a]+r),o.push(0),s.push(e.arrayBlockIndices[a]));for(var c=[],h=0;h<n[a].length;h++)l[a]<=n[a][h]&&n[a][h]<u[a]&&c.push(n[a][h]-l[a]);f.push(c)}for(var v=["SS"],b=["'use strict'"],y=[],h=0;h<r;++h)y.push(["s",h,"=SS[",h,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){v.push("a"+a),v.push("t"+a),v.push("p"+a);for(var h=0;h<r;++h)y.push(["t",a,"p",h,"=t",a,"[",l[a]+h,"]"].join(""));for(var h=0;h<Math.abs(e.arrayBlockIndices[a]);++h)y.push(["t",a,"b",h,"=t",a,"[",o[a]+h,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)v.push("Y"+a);if(e.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var x=new Array(r),a=0;a<r;++a)x[a]="0";y.push(["index=[",x.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var m=e.offsetArgs[a],_=[],h=0;h<m.offset.length;++h)m.offset[h]!==0&&(m.offset[h]===1?_.push(["t",m.array,"p",h].join("")):_.push([m.offset[h],"*t",m.array,"p",h].join("")));_.length===0?y.push("q"+a+"=0"):y.push(["q",a,"=",_.join("+")].join(""))}var g=T2t([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));y=y.concat(g),y.length>0&&b.push("var "+y.join(","));for(var a=0;a<e.arrayArgs.length;++a)b.push("p"+a+"|=0");e.pre.body.length>3&&b.push(M9(e.pre,e,i));var A=M9(e.body,e,i),w=M2t(f);w<r?b.push(A2t(w,f[0],e,A)):b.push(P5e(f[0],e,A)),e.post.body.length>3&&b.push(M9(e.post,e,i)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+b.join(`
`)+`
----------`);var k=[e.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",w,k2t(i)].join(""),p=new Function(["function ",k,"(",v.join(","),"){",b.join(`
`),"} return ",k].join(""));return p()}F5e.exports=S2t});var O5e=$((CFt,z5e)=>{"use strict";var E2t=N5e();function L2t(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],s=[],l=[],u=0;u<e.arrayArgs.length;++u){var f=e.arrayArgs[u];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),o.push("array"+f+".data"),o.push("array"+f+".stride"),o.push("array"+f+".offset|0"),u>0&&(s.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var u=0;u<e.scalarArgs.length;++u)o.push("scalar"+e.scalarArgs[u]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var c=new Function("compile",t.join(`
`));return c(E2t.bind(void 0,e))}z5e.exports=L2t});var H5e=$((DFt,B5e)=>{"use strict";var C2t=O5e();function D2t(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function q2t(e){var t=new D2t;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var n=0;n<r.length;++n){var i=r[n];if(i==="array"||typeof i=="object"&&i.blockIndices){if(t.argTypes[n]="array",t.arrayArgs.push(n),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if(i==="scalar")t.scalarArgs.push(n),t.shimArgs.push("scalar"+n);else if(i==="index"){if(t.indexArgs.push(n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if(i==="shape"){if(t.shapeArgs.push(n),n<t.pre.args.length&&t.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<t.post.args.length&&t.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof i=="object"&&i.offset)t.argTypes[n]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(n);else throw new Error("cwise: Unknown argument type "+r[n])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,C2t(t)}B5e.exports=q2t});var X5e=$(Mi=>{"use strict";var Ou=H5e(),RS={body:"",args:[],thisVars:[],localVars:[]};function k9(e){if(!e)return RS;for(var t=0;t<e.args.length;++t){var r=e.args[t];t===0?e.args[t]={name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function R2t(e){return Ou({args:e.args,pre:k9(e.pre),body:k9(e.body),post:k9(e.proc),funcName:e.funcName})}function fo(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);var n=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return n(R2t(e))}var U5e={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var e in U5e){var t=U5e[e];Mi[e]=fo({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),Mi[e+"eq"]=fo({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),Mi[e+"s"]=fo({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),Mi[e+"seq"]=fo({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}})();var j5e={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var e in j5e){var t=j5e[e];Mi[e]=fo({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),Mi[e+"eq"]=fo({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}})();var V5e={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var e in V5e){var t=V5e[e];Mi[e]=fo({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),Mi[e+"s"]=fo({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),Mi[e+"eq"]=fo({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),Mi[e+"seq"]=fo({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}})();var G5e=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var e=0;e<G5e.length;++e){var t=G5e[e];Mi[t]=fo({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),Mi[t+"eq"]=fo({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}})();var Y5e=["max","min","atan2","pow"];(function(){for(var e=0;e<Y5e.length;++e){var t=Y5e[e];Mi[t]=fo({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),Mi[t+"s"]=fo({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),Mi[t+"eq"]=fo({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),Mi[t+"seq"]=fo({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}})();var W5e=["atan2","pow"];(function(){for(var e=0;e<W5e.length;++e){var t=W5e[e];Mi[t+"op"]=fo({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),Mi[t+"ops"]=fo({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),Mi[t+"opeq"]=fo({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),Mi[t+"opseq"]=fo({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}})();Mi.any=Ou({args:["array"],pre:RS,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"});Mi.all=Ou({args:["array"],pre:RS,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"});Mi.sum=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"});Mi.prod=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"});Mi.norm2squared=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"});Mi.norm2=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"});Mi.norminf=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"});Mi.norm1=Ou({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"});Mi.sup=Ou({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});Mi.inf=Ou({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});Mi.argmin=Ou({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});Mi.argmax=Ou({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});Mi.random=fo({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"});Mi.assign=fo({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"});Mi.assigns=fo({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"});Mi.equals=Ou({args:["array","array"],pre:RS,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})});var $5e=$((RFt,Z5e)=>{"use strict";function I2t(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}Z5e.exports=I2t});var Q5e=$((IFt,J5e)=>{J5e.exports=function(e){return e!=null&&(K5e(e)||P2t(e)||!!e._isBuffer)};function K5e(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function P2t(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&K5e(e.slice(0,0))}});var S9=$((PFt,eSe)=>{var F2t=$5e(),N2t=Q5e(),z2t=typeof Float64Array<"u";function O2t(e,t){return e[0]-t[0]}function B2t(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(O2t);var n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=t[r][1];return n}function H2t(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n=e==="generic";if(t===-1){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",y=new Function(i);return y()}else if(t===0){var i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",y=new Function("TrivialArray",i);return y(IS[e][0])}var i=["'use strict'"],a=F2t(t),o=a.map(function(x){return"i"+x}),s="this.offset+"+a.map(function(x){return"this.stride["+x+"]*i"+x}).join("+"),l=a.map(function(x){return"b"+x}).join(","),u=a.map(function(x){return"c"+x}).join(",");i.push("function "+r+"(a,"+l+","+u+",d){this.data=a","this.shape=["+l+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(x){return"this.shape["+x+"]"}).join("*"),"}})"),t===1?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+r+"_order(){"),t===2?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+o.join(",")+",v){"),n?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+r+"_get("+o.join(",")+"){"),n?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+r+"_index(",o.join(),"){return "+s+"}"),i.push("proto.hi=function "+r+"_hi("+o.join(",")+"){return new "+r+"(this.data,"+a.map(function(x){return["(typeof i",x,"!=='number'||i",x,"<0)?this.shape[",x,"]:i",x,"|0"].join("")}).join(",")+","+a.map(function(x){return"this.stride["+x+"]"}).join(",")+",this.offset)}");var f=a.map(function(x){return"a"+x+"=this.shape["+x+"]"}),c=a.map(function(x){return"c"+x+"=this.stride["+x+"]"});i.push("proto.lo=function "+r+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+c.join(","));for(var h=0;h<t;++h)i.push("if(typeof i"+h+"==='number'&&i"+h+">=0){d=i"+h+"|0;b+=c"+h+"*d;a"+h+"-=d}");i.push("return new "+r+"(this.data,"+a.map(function(x){return"a"+x}).join(",")+","+a.map(function(x){return"c"+x}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+o.join(",")+"){var "+a.map(function(x){return"a"+x+"=this.shape["+x+"]"}).join(",")+","+a.map(function(x){return"b"+x+"=this.stride["+x+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var h=0;h<t;++h)i.push("if(typeof i"+h+"==='number'){d=i"+h+"|0;if(d<0){c+=b"+h+"*(a"+h+"-1);a"+h+"=ceil(-a"+h+"/d)}else{a"+h+"=ceil(a"+h+"/d)}b"+h+"*=d}");i.push("return new "+r+"(this.data,"+a.map(function(x){return"a"+x}).join(",")+","+a.map(function(x){return"b"+x}).join(",")+",c)}");for(var v=new Array(t),b=new Array(t),h=0;h<t;++h)v[h]="a[i"+h+"]",b[h]="b[i"+h+"]";i.push("proto.transpose=function "+r+"_transpose("+o+"){"+o.map(function(x,m){return x+"=("+x+"===undefined?"+m+":"+x+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+b.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var h=0;h<t;++h)i.push("if(typeof i"+h+"==='number'&&i"+h+">=0){c=(c+this.stride["+h+"]*i"+h+")|0}else{a.push(this.shape["+h+"]);b.push(this.stride["+h+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(x){return"shape["+x+"]"}).join(",")+","+a.map(function(x){return"stride["+x+"]"}).join(",")+",offset)}");var y=new Function("CTOR_LIST","ORDER",i.join(`
`));return y(IS[e],B2t)}function U2t(e){if(N2t(e))return"buffer";if(z2t)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var IS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function j2t(e,t,r,n){if(e===void 0){var u=IS.array[0];return u([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var i=t.length;if(r===void 0){r=new Array(i);for(var a=i-1,o=1;a>=0;--a)r[a]=o,o*=t[a]}if(n===void 0){n=0;for(var a=0;a<i;++a)r[a]<0&&(n-=(t[a]-1)*r[a])}for(var s=U2t(e),l=IS[s];l.length<=i+1;)l.push(H2t(s,l.length-1));var u=l[i+1];return u(e,t,r,n)}eSe.exports=j2t});var L9=$(So=>{"use strict";var E9=32;So.INT_BITS=E9;So.INT_MAX=2147483647;So.INT_MIN=-1<<E9-1;So.sign=function(e){return(e>0)-(e<0)};So.abs=function(e){var t=e>>E9-1;return(e^t)-t};So.min=function(e,t){return t^(e^t)&-(e<t)};So.max=function(e,t){return e^(e^t)&-(e<t)};So.isPow2=function(e){return!(e&e-1)&&!!e};So.log2=function(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,t|=r,t|e>>1};So.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};So.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function tSe(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}So.countTrailingZeros=tSe;So.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};So.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};So.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var Zw=new Array(256);(function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=r&1,--i;e[t]=n<<i&255}})(Zw);So.reverse=function(e){return Zw[e&255]<<24|Zw[e>>>8&255]<<16|Zw[e>>>16&255]<<8|Zw[e>>>24&255]};So.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1};So.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};So.interleave3=function(e,t,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2};So.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};So.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>tSe(e)+1}});var iSe=$((NFt,nSe)=>{"use strict";function rSe(e,t,r){var n=e[r]|0;if(n<=0)return[];var i=new Array(n),a;if(r===e.length-1)for(a=0;a<n;++a)i[a]=t;else for(a=0;a<n;++a)i[a]=rSe(e,t,r+1);return i}function V2t(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function G2t(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return V2t(e|0,t);break;case"object":if(typeof e.length=="number")return rSe(e,t,0);break}return[]}nSe.exports=G2t});var sSe=$(PS=>{"use strict";PS.byteLength=W2t;PS.toByteArray=Z2t;PS.fromByteArray=J2t;var Zh=[],dc=[],Y2t=typeof Uint8Array<"u"?Uint8Array:Array,C9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Yg=0,aSe=C9.length;Yg<aSe;++Yg)Zh[Yg]=C9[Yg],dc[C9.charCodeAt(Yg)]=Yg;var Yg,aSe;dc["-".charCodeAt(0)]=62;dc["_".charCodeAt(0)]=63;function oSe(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function W2t(e){var t=oSe(e),r=t[0],n=t[1];return(r+n)*3/4-n}function X2t(e,t,r){return(t+r)*3/4-r}function Z2t(e){var t,r=oSe(e),n=r[0],i=r[1],a=new Y2t(X2t(e,n,i)),o=0,s=i>0?n-4:n,l;for(l=0;l<s;l+=4)t=dc[e.charCodeAt(l)]<<18|dc[e.charCodeAt(l+1)]<<12|dc[e.charCodeAt(l+2)]<<6|dc[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=dc[e.charCodeAt(l)]<<2|dc[e.charCodeAt(l+1)]>>4,a[o++]=t&255),i===1&&(t=dc[e.charCodeAt(l)]<<10|dc[e.charCodeAt(l+1)]<<4|dc[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function $2t(e){return Zh[e>>18&63]+Zh[e>>12&63]+Zh[e>>6&63]+Zh[e&63]}function K2t(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push($2t(n));return i.join("")}function J2t(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(K2t(e,o,o+a>s?s:o+a));return n===1?(t=e[r-1],i.push(Zh[t>>2]+Zh[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Zh[t>>10]+Zh[t>>4&63]+Zh[t<<2&63]+"=")),i.join("")}});var lSe=$(D9=>{D9.read=function(e,t,r,n,i){var a,o,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,v=e[t+c];for(c+=h,a=v&(1<<-f)-1,v>>=-f,f+=s;f>0;a=a*256+e[t+c],c+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=o*256+e[t+c],c+=h,f-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(v?-1:1)*o*Math.pow(2,a-n)};D9.write=function(e,t,r,n,i,a){var o,s,l,u=a*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,b=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*l-1)*Math.pow(2,i),o=o+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=s&255,v+=b,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+v]=o&255,v+=b,o/=256,u-=8);e[r+v-b]|=y*128}});var MSe=$(Gy=>{"use strict";var q9=sSe(),jy=lSe(),uSe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Gy.Buffer=fr;Gy.SlowBuffer=iwt;Gy.INSPECT_MAX_BYTES=50;var FS=2147483647;Gy.kMaxLength=FS;fr.TYPED_ARRAY_SUPPORT=Q2t();!fr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Q2t(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(fr.prototype,"parent",{enumerable:!0,get:function(){if(fr.isBuffer(this))return this.buffer}});Object.defineProperty(fr.prototype,"offset",{enumerable:!0,get:function(){if(fr.isBuffer(this))return this.byteOffset}});function nd(e){if(e>FS)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,fr.prototype),t}function fr(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F9(e)}return vSe(e,t,r)}fr.poolSize=8192;function vSe(e,t,r){if(typeof e=="string")return twt(e,t);if(ArrayBuffer.isView(e))return rwt(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($h(e,ArrayBuffer)||e&&$h(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($h(e,SharedArrayBuffer)||e&&$h(e.buffer,SharedArrayBuffer)))return I9(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return fr.from(n,t,r);let i=nwt(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return fr.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}fr.from=function(e,t,r){return vSe(e,t,r)};Object.setPrototypeOf(fr.prototype,Uint8Array.prototype);Object.setPrototypeOf(fr,Uint8Array);function dSe(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ewt(e,t,r){return dSe(e),e<=0?nd(e):t!==void 0?typeof r=="string"?nd(e).fill(t,r):nd(e).fill(t):nd(e)}fr.alloc=function(e,t,r){return ewt(e,t,r)};function F9(e){return dSe(e),nd(e<0?0:N9(e)|0)}fr.allocUnsafe=function(e){return F9(e)};fr.allocUnsafeSlow=function(e){return F9(e)};function twt(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!fr.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=pSe(e,t)|0,n=nd(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function R9(e){let t=e.length<0?0:N9(e.length)|0,r=nd(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}function rwt(e){if($h(e,Uint8Array)){let t=new Uint8Array(e);return I9(t.buffer,t.byteOffset,t.byteLength)}return R9(e)}function I9(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,fr.prototype),n}function nwt(e){if(fr.isBuffer(e)){let t=N9(e.length)|0,r=nd(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||O9(e.length)?nd(0):R9(e);if(e.type==="Buffer"&&Array.isArray(e.data))return R9(e.data)}function N9(e){if(e>=FS)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+FS.toString(16)+" bytes");return e|0}function iwt(e){return+e!=e&&(e=0),fr.alloc(+e)}fr.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==fr.prototype};fr.compare=function(t,r){if($h(t,Uint8Array)&&(t=fr.from(t,t.offset,t.byteLength)),$h(r,Uint8Array)&&(r=fr.from(r,r.offset,r.byteLength)),!fr.isBuffer(t)||!fr.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let n=t.length,i=r.length;for(let a=0,o=Math.min(n,i);a<o;++a)if(t[a]!==r[a]){n=t[a],i=r[a];break}return n<i?-1:i<n?1:0};fr.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};fr.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return fr.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;let i=fr.allocUnsafe(r),a=0;for(n=0;n<t.length;++n){let o=t[n];if($h(o,Uint8Array))a+o.length>i.length?(fr.isBuffer(o)||(o=fr.from(o)),o.copy(i,a)):Uint8Array.prototype.set.call(i,o,a);else if(fr.isBuffer(o))o.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return i};function pSe(e,t){if(fr.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$h(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return P9(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ASe(e).length;default:if(i)return n?-1:P9(e).length;t=(""+t).toLowerCase(),i=!0}}fr.byteLength=pSe;function awt(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return pwt(this,t,r);case"utf8":case"utf-8":return mSe(this,t,r);case"ascii":return vwt(this,t,r);case"latin1":case"binary":return dwt(this,t,r);case"base64":return cwt(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gwt(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}fr.prototype._isBuffer=!0;function Wg(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}fr.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)Wg(this,r,r+1);return this};fr.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)Wg(this,r,r+3),Wg(this,r+1,r+2);return this};fr.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)Wg(this,r,r+7),Wg(this,r+1,r+6),Wg(this,r+2,r+5),Wg(this,r+3,r+4);return this};fr.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?mSe(this,0,t):awt.apply(this,arguments)};fr.prototype.toLocaleString=fr.prototype.toString;fr.prototype.equals=function(t){if(!fr.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:fr.compare(this,t)===0};fr.prototype.inspect=function(){let t="",r=Gy.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};uSe&&(fr.prototype[uSe]=fr.prototype.inspect);fr.prototype.compare=function(t,r,n,i,a){if($h(t,Uint8Array)&&(t=fr.from(t,t.offset,t.byteLength)),!fr.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===t)return 0;let o=a-i,s=n-r,l=Math.min(o,s),u=this.slice(i,a),f=t.slice(r,n);for(let c=0;c<l;++c)if(u[c]!==f[c]){o=u[c],s=f[c];break}return o<s?-1:s<o?1:0};function gSe(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,O9(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=fr.from(t,n)),fr.isBuffer(t))return t.length===0?-1:fSe(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):fSe(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function fSe(e,t,r,n,i){let a=1,o=e.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,o/=2,s/=2,r/=2}function l(f,c){return a===1?f[c]:f.readUInt16BE(c*a)}let u;if(i){let f=-1;for(u=r;u<o;u++)if(l(e,u)===l(t,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===s)return f*a}else f!==-1&&(u-=u-f),f=-1}else for(r+s>o&&(r=o-s),u=r;u>=0;u--){let f=!0;for(let c=0;c<s;c++)if(l(e,u+c)!==l(t,c)){f=!1;break}if(f)return u}return-1}fr.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};fr.prototype.indexOf=function(t,r,n){return gSe(this,t,r,n,!0)};fr.prototype.lastIndexOf=function(t,r,n){return gSe(this,t,r,n,!1)};function owt(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let a=t.length;n>a/2&&(n=a/2);let o;for(o=0;o<n;++o){let s=parseInt(t.substr(o*2,2),16);if(O9(s))return o;e[r+o]=s}return o}function swt(e,t,r,n){return NS(P9(t,e.length-r),e,r,n)}function lwt(e,t,r,n){return NS(bwt(t),e,r,n)}function uwt(e,t,r,n){return NS(ASe(t),e,r,n)}function fwt(e,t,r,n){return NS(wwt(t,e.length-r),e,r,n)}fr.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((n===void 0||n>a)&&(n=a),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return owt(this,t,r,n);case"utf8":case"utf-8":return swt(this,t,r,n);case"ascii":case"latin1":case"binary":return lwt(this,t,r,n);case"base64":return uwt(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fwt(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};fr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function cwt(e,t,r){return t===0&&r===e.length?q9.fromByteArray(e):q9.fromByteArray(e.slice(t,r))}function mSe(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){let l,u,f,c;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[i+1],(l&192)===128&&(c=(a&31)<<6|l&63,c>127&&(o=c));break;case 3:l=e[i+1],u=e[i+2],(l&192)===128&&(u&192)===128&&(c=(a&15)<<12|(l&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:l=e[i+1],u=e[i+2],f=e[i+3],(l&192)===128&&(u&192)===128&&(f&192)===128&&(c=(a&15)<<18|(l&63)<<12|(u&63)<<6|f&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return hwt(n)}var cSe=4096;function hwt(e){let t=e.length;if(t<=cSe)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=cSe));return r}function vwt(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function dwt(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function pwt(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let a=t;a<r;++a)i+=_wt[e[a]];return i}function gwt(e,t,r){let n=e.slice(t,r),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}fr.prototype.slice=function(t,r){let n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);let i=this.subarray(t,r);return Object.setPrototypeOf(i,fr.prototype),i};function Os(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}fr.prototype.readUintLE=fr.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||Os(t,r,this.length);let i=this[t],a=1,o=0;for(;++o<r&&(a*=256);)i+=this[t+o]*a;return i};fr.prototype.readUintBE=fr.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||Os(t,r,this.length);let i=this[t+--r],a=1;for(;r>0&&(a*=256);)i+=this[t+--r]*a;return i};fr.prototype.readUint8=fr.prototype.readUInt8=function(t,r){return t=t>>>0,r||Os(t,1,this.length),this[t]};fr.prototype.readUint16LE=fr.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||Os(t,2,this.length),this[t]|this[t+1]<<8};fr.prototype.readUint16BE=fr.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||Os(t,2,this.length),this[t]<<8|this[t+1]};fr.prototype.readUint32LE=fr.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};fr.prototype.readUint32BE=fr.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};fr.prototype.readBigUInt64LE=D0(function(t){t=t>>>0,Vy(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&$w(t,this.length-8);let i=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,a=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});fr.prototype.readBigUInt64BE=D0(function(t){t=t>>>0,Vy(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&$w(t,this.length-8);let i=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],a=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});fr.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||Os(t,r,this.length);let i=this[t],a=1,o=0;for(;++o<r&&(a*=256);)i+=this[t+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};fr.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||Os(t,r,this.length);let i=r,a=1,o=this[t+--i];for(;i>0&&(a*=256);)o+=this[t+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o};fr.prototype.readInt8=function(t,r){return t=t>>>0,r||Os(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};fr.prototype.readInt16LE=function(t,r){t=t>>>0,r||Os(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};fr.prototype.readInt16BE=function(t,r){t=t>>>0,r||Os(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};fr.prototype.readInt32LE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};fr.prototype.readInt32BE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};fr.prototype.readBigInt64LE=D0(function(t){t=t>>>0,Vy(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&$w(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});fr.prototype.readBigInt64BE=D0(function(t){t=t>>>0,Vy(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&$w(t,this.length-8);let i=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});fr.prototype.readFloatLE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),jy.read(this,t,!0,23,4)};fr.prototype.readFloatBE=function(t,r){return t=t>>>0,r||Os(t,4,this.length),jy.read(this,t,!1,23,4)};fr.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||Os(t,8,this.length),jy.read(this,t,!0,52,8)};fr.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||Os(t,8,this.length),jy.read(this,t,!1,52,8)};function Bu(e,t,r,n,i,a){if(!fr.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}fr.prototype.writeUintLE=fr.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Bu(this,t,r,n,s,0)}let a=1,o=0;for(this[r]=t&255;++o<n&&(a*=256);)this[r+o]=t/a&255;return r+n};fr.prototype.writeUintBE=fr.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Bu(this,t,r,n,s,0)}let a=n-1,o=1;for(this[r+a]=t&255;--a>=0&&(o*=256);)this[r+a]=t/o&255;return r+n};fr.prototype.writeUint8=fr.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,1,255,0),this[r]=t&255,r+1};fr.prototype.writeUint16LE=fr.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};fr.prototype.writeUint16BE=fr.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};fr.prototype.writeUint32LE=fr.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};fr.prototype.writeUint32BE=fr.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function ySe(e,t,r,n,i){TSe(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,r}function xSe(e,t,r,n,i){TSe(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a=a>>8,e[r+6]=a,a=a>>8,e[r+5]=a,a=a>>8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o=o>>8,e[r+2]=o,o=o>>8,e[r+1]=o,o=o>>8,e[r]=o,r+8}fr.prototype.writeBigUInt64LE=D0(function(t,r=0){return ySe(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});fr.prototype.writeBigUInt64BE=D0(function(t,r=0){return xSe(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});fr.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let l=Math.pow(2,8*n-1);Bu(this,t,r,n,l-1,-l)}let a=0,o=1,s=0;for(this[r]=t&255;++a<n&&(o*=256);)t<0&&s===0&&this[r+a-1]!==0&&(s=1),this[r+a]=(t/o>>0)-s&255;return r+n};fr.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let l=Math.pow(2,8*n-1);Bu(this,t,r,n,l-1,-l)}let a=n-1,o=1,s=0;for(this[r+a]=t&255;--a>=0&&(o*=256);)t<0&&s===0&&this[r+a+1]!==0&&(s=1),this[r+a]=(t/o>>0)-s&255;return r+n};fr.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};fr.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};fr.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};fr.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};fr.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||Bu(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};fr.prototype.writeBigInt64LE=D0(function(t,r=0){return ySe(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});fr.prototype.writeBigInt64BE=D0(function(t,r=0){return xSe(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function bSe(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function wSe(e,t,r,n,i){return t=+t,r=r>>>0,i||bSe(e,t,r,4,34028234663852886e22,-34028234663852886e22),jy.write(e,t,r,n,23,4),r+4}fr.prototype.writeFloatLE=function(t,r,n){return wSe(this,t,r,!0,n)};fr.prototype.writeFloatBE=function(t,r,n){return wSe(this,t,r,!1,n)};function _Se(e,t,r,n,i){return t=+t,r=r>>>0,i||bSe(e,t,r,8,17976931348623157e292,-17976931348623157e292),jy.write(e,t,r,n,52,8),r+8}fr.prototype.writeDoubleLE=function(t,r,n){return _Se(this,t,r,!0,n)};fr.prototype.writeDoubleBE=function(t,r,n){return _Se(this,t,r,!1,n)};fr.prototype.copy=function(t,r,n,i){if(!fr.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);let a=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),a};fr.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!fr.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let o=t.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(t=o)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let a;if(typeof t=="number")for(a=r;a<n;++a)this[a]=t;else{let o=fr.isBuffer(t)?t:fr.from(t,i),s=o.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=o[a%s]}return this};var Uy={};function z9(e,t,r){Uy[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}z9("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);z9("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);z9("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=hSe(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=hSe(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function hSe(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function mwt(e,t,r){Vy(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&$w(t,e.length-(r+1))}function TSe(e,t,r,n,i,a){if(e>r||e<t){let o=typeof t=="bigint"?"n":"",s;throw a>3?t===0||t===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${t}${o} and <= ${r}${o}`,new Uy.ERR_OUT_OF_RANGE("value",s,e)}mwt(n,i,a)}function Vy(e,t){if(typeof e!="number")throw new Uy.ERR_INVALID_ARG_TYPE(t,"number",e)}function $w(e,t,r){throw Math.floor(e)!==e?(Vy(e,r),new Uy.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new Uy.ERR_BUFFER_OUT_OF_BOUNDS:new Uy.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var ywt=/[^+/0-9A-Za-z-_]/g;function xwt(e){if(e=e.split("=")[0],e=e.trim().replace(ywt,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function P9(e,t){t=t||1/0;let r,n=e.length,i=null,a=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function bwt(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function wwt(e,t){let r,n,i,a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function ASe(e){return q9.toByteArray(xwt(e))}function NS(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function $h(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function O9(e){return e!==e}var _wt=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function D0(e){return typeof BigInt>"u"?Twt:e}function Twt(){throw new Error("BigInt not supported")}});var BSe=$(Di=>{"use strict";var q0=L9(),ll=iSe(),kSe=MSe().Buffer;global.__TYPEDARRAY_POOL||(global.__TYPEDARRAY_POOL={UINT8:ll([32,0]),UINT16:ll([32,0]),UINT32:ll([32,0]),BIGUINT64:ll([32,0]),INT8:ll([32,0]),INT16:ll([32,0]),INT32:ll([32,0]),BIGINT64:ll([32,0]),FLOAT:ll([32,0]),DOUBLE:ll([32,0]),DATA:ll([32,0]),UINT8C:ll([32,0]),BUFFER:ll([32,0])});var Awt=typeof Uint8ClampedArray<"u",Mwt=typeof BigUint64Array<"u",kwt=typeof BigInt64Array<"u",Oo=global.__TYPEDARRAY_POOL;Oo.UINT8C||(Oo.UINT8C=ll([32,0]));Oo.BIGUINT64||(Oo.BIGUINT64=ll([32,0]));Oo.BIGINT64||(Oo.BIGINT64=ll([32,0]));Oo.BUFFER||(Oo.BUFFER=ll([32,0]));var zS=Oo.DATA,OS=Oo.BUFFER;Di.free=function(t){if(kSe.isBuffer(t))OS[q0.log2(t.length)].push(t);else{if(Object.prototype.toString.call(t)!=="[object ArrayBuffer]"&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,n=q0.log2(r)|0;zS[n].push(t)}};function SSe(e){if(e){var t=e.length||e.byteLength,r=q0.log2(t);zS[r].push(e)}}function Swt(e){SSe(e.buffer)}Di.freeUint8=Di.freeUint16=Di.freeUint32=Di.freeBigUint64=Di.freeInt8=Di.freeInt16=Di.freeInt32=Di.freeBigInt64=Di.freeFloat32=Di.freeFloat=Di.freeFloat64=Di.freeDouble=Di.freeUint8Clamped=Di.freeDataView=Swt;Di.freeArrayBuffer=SSe;Di.freeBuffer=function(t){OS[q0.log2(t.length)].push(t)};Di.malloc=function(t,r){if(r===void 0||r==="arraybuffer")return Hu(t);switch(r){case"uint8":return B9(t);case"uint16":return ESe(t);case"uint32":return LSe(t);case"int8":return CSe(t);case"int16":return DSe(t);case"int32":return qSe(t);case"float":case"float32":return RSe(t);case"double":case"float64":return ISe(t);case"uint8_clamped":return PSe(t);case"bigint64":return NSe(t);case"biguint64":return FSe(t);case"buffer":return OSe(t);case"data":case"dataview":return zSe(t);default:return null}return null};function Hu(t){var t=q0.nextPow2(t),r=q0.log2(t),n=zS[r];return n.length>0?n.pop():new ArrayBuffer(t)}Di.mallocArrayBuffer=Hu;function B9(e){return new Uint8Array(Hu(e),0,e)}Di.mallocUint8=B9;function ESe(e){return new Uint16Array(Hu(2*e),0,e)}Di.mallocUint16=ESe;function LSe(e){return new Uint32Array(Hu(4*e),0,e)}Di.mallocUint32=LSe;function CSe(e){return new Int8Array(Hu(e),0,e)}Di.mallocInt8=CSe;function DSe(e){return new Int16Array(Hu(2*e),0,e)}Di.mallocInt16=DSe;function qSe(e){return new Int32Array(Hu(4*e),0,e)}Di.mallocInt32=qSe;function RSe(e){return new Float32Array(Hu(4*e),0,e)}Di.mallocFloat32=Di.mallocFloat=RSe;function ISe(e){return new Float64Array(Hu(8*e),0,e)}Di.mallocFloat64=Di.mallocDouble=ISe;function PSe(e){return Awt?new Uint8ClampedArray(Hu(e),0,e):B9(e)}Di.mallocUint8Clamped=PSe;function FSe(e){return Mwt?new BigUint64Array(Hu(8*e),0,e):null}Di.mallocBigUint64=FSe;function NSe(e){return kwt?new BigInt64Array(Hu(8*e),0,e):null}Di.mallocBigInt64=NSe;function zSe(e){return new DataView(Hu(e),0,e)}Di.mallocDataView=zSe;function OSe(e){e=q0.nextPow2(e);var t=q0.log2(e),r=OS[t];return r.length>0?r.pop():new kSe(e)}Di.mallocBuffer=OSe;Di.clearCache=function(){for(var t=0;t<32;++t)Oo.UINT8[t].length=0,Oo.UINT16[t].length=0,Oo.UINT32[t].length=0,Oo.INT8[t].length=0,Oo.INT16[t].length=0,Oo.INT32[t].length=0,Oo.FLOAT[t].length=0,Oo.DOUBLE[t].length=0,Oo.BIGUINT64[t].length=0,Oo.BIGINT64[t].length=0,Oo.UINT8C[t].length=0,zS[t].length=0,OS[t].length=0}});var HSe=$((jFt,H9)=>{var Kw=L9();function Ewt(e,t,r,n,i,a,o){e|=0,t|=0,r|=0,i|=0,a|=0,Kw.isPow2(r)?BS(e,t,r,n,i,a):Cwt(e,t,r,n,i,a,o)}H9.exports=Ewt;function Lwt(e){return Kw.isPow2(e)?0:2*e+4*Kw.nextPow2(2*e+1)}H9.exports.scratchMemory=Lwt;function BS(e,t,r,n,i,a){e|=0,t|=0,r|=0,i|=0,a|=0;var o,s,l,u,f,c,h,v,b,y,x,m,_,g,A,w,k,p,d,M,T,S,E,L,D,R;for(o=r,s=Kw.log2(o),d=0;d<t;++d){for(h=o>>1,f=0,l=0;l<o-1;l++){for(l<f&&(_=n[i+l],n[i+l]=n[i+f],n[i+f]=_,_=n[a+l],n[a+l]=n[a+f],n[a+f]=_),c=h;c<=f;)f-=c,c>>=1;f+=c}for(x=-1,m=0,y=1,v=0;v<s;v++){for(b=y,y<<=1,w=1,k=0,f=0;f<b;f++){for(l=f;l<o;l+=y)u=l+b,M=n[i+u],T=n[a+u],S=n[i+l],E=n[a+l],L=w*(M+T),D=M*(k-w),R=T*(w+k),g=L-R,A=L+D,n[i+u]=S-g,n[a+u]=E-A,n[i+l]+=g,n[a+l]+=A;L=x*(w+k),D=w*(m-x),R=k*(x+m),w=L-R,k=L+D}m=Math.sqrt((1-x)/2),e<0&&(m=-m),x=Math.sqrt((1+x)/2)}if(e<0){var q=1/o;for(l=0;l<o;l++)n[i+l]*=q,n[a+l]*=q}i+=r,a+=r}}function Cwt(e,t,r,n,i,a,o){e|=0,t|=0,r|=0,i|=0,a|=0,o|=0;var s=Kw.nextPow2(2*r+1),l=o,u=l+r,f=u+r,c=f+s,h=c+s,v=h+s,b=-e*Math.PI/r,y,x,m,_,g,A,w,k,p;for(p=0;p<r;++p)x=b*(p*p%(r*2)),_=Math.cos(x),g=Math.sin(x),n[h+(s-p)]=n[h+p]=n[l+p]=_,n[v+(s-p)]=n[v+p]=n[u+p]=g;for(p=r;p<=s-r;++p)n[h+p]=0;for(p=r;p<=s-r;++p)n[v+p]=0;for(BS(1,1,s,n,h,v),e<0?b=1/r:b=1,y=0;y<t;++y){for(p=0;p<r;++p)x=n[i+p],m=n[a+p],_=n[l+p],g=-n[u+p],A=_*(x+m),w=x*(g-_),k=m*(_+g),n[f+p]=A-k,n[c+p]=A+w;for(p=r;p<s;++p)n[f+p]=0;for(p=r;p<s;++p)n[c+p]=0;for(BS(1,1,s,n,f,c),p=0;p<s;++p)x=n[f+p],m=n[c+p],_=n[h+p],g=n[v+p],A=_*(x+m),w=x*(g-_),k=m*(_+g),n[f+p]=A-k,n[c+p]=A+w;for(BS(-1,1,s,n,f,c),p=0;p<r;++p)x=n[f+p],m=n[c+p],_=n[l+p],g=-n[u+p],A=_*(x+m),w=x*(g-_),k=m*(_+g),n[i+p]=b*(A-k),n[a+p]=b*(A+w);i+=r,a+=r}}});var VSe=$((VFt,jSe)=>{"use strict";var Yy=X5e(),HS=S9(),U9=BSe(),USe=HSe();function Dwt(e,t,r){var n=t.shape,i=n.length,a=1,o=new Array(i),s=0,l,u;for(l=i-1;l>=0;--l)if(o[l]=a,a*=n[l],s=Math.max(s,USe.scratchMemory(n[l])),t.shape[l]!==r.shape[l])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var f=4*a+s,c;t.dtype==="array"||t.dtype==="float64"||t.dtype==="custom"?c=U9.mallocDouble(f):c=U9.mallocFloat(f);var h=HS(c,n.slice(0),o,0),v=HS(c,n.slice(0),o.slice(0),a),b=HS(c,n.slice(0),o.slice(0),2*a),y=HS(c,n.slice(0),o.slice(0),3*a),x,m,_,g,A=4*a;for(Yy.assign(h,t),Yy.assign(v,r),l=i-1;l>=0&&(USe(e,a/n[l],n[l],c,h.offset,v.offset,A),l!==0);--l){for(m=1,_=b.stride,g=y.stride,u=l-1;u<i;++u)g[u]=_[u]=m,m*=n[u];for(u=l-2;u>=0;--u)g[u]=_[u]=m,m*=n[u];Yy.assign(b,h),Yy.assign(y,v),x=h,h=b,b=x,x=v,v=y,y=x}Yy.assign(t,h),Yy.assign(r,v),U9.free(c)}jSe.exports=Dwt});var WSe=$((iNt,YSe)=>{"use strict";function Iwt(e,t,r,n,i){for(var a=i+1;n<=i;){var o=n+i>>>1,s=e[o],l=r!==void 0?r(s,t):s-t;l>=0?(a=o,i=o-1):n=o+1}return a}function Pwt(e,t,r,n,i){for(var a=i+1;n<=i;){var o=n+i>>>1,s=e[o],l=r!==void 0?r(s,t):s-t;l>0?(a=o,i=o-1):n=o+1}return a}function Fwt(e,t,r,n,i){for(var a=n-1;n<=i;){var o=n+i>>>1,s=e[o],l=r!==void 0?r(s,t):s-t;l<0?(a=o,n=o+1):i=o-1}return a}function Nwt(e,t,r,n,i){for(var a=n-1;n<=i;){var o=n+i>>>1,s=e[o],l=r!==void 0?r(s,t):s-t;l<=0?(a=o,n=o+1):i=o-1}return a}function zwt(e,t,r,n,i){for(;n<=i;){var a=n+i>>>1,o=e[a],s=r!==void 0?r(o,t):o-t;if(s===0)return a;s<=0?n=a+1:i=a-1}return-1}function t_(e,t,r,n,i,a){return typeof r=="function"?a(e,t,r,n===void 0?0:n|0,i===void 0?e.length-1:i|0):a(e,t,void 0,r===void 0?0:r|0,n===void 0?e.length-1:n|0)}YSe.exports={ge:function(e,t,r,n,i){return t_(e,t,r,n,i,Iwt)},gt:function(e,t,r,n,i){return t_(e,t,r,n,i,Pwt)},lt:function(e,t,r,n,i){return t_(e,t,r,n,i,Fwt)},le:function(e,t,r,n,i){return t_(e,t,r,n,i,Nwt)},eq:function(e,t,r,n,i){return t_(e,t,r,n,i,zwt)}}});var JSe=Dc(DH());var qH="2.1.0";function i9e(e){return Boolean(e)}var a9e=e=>{let t=Array.from(document.querySelectorAll('style[id^="plotly.js"]')).map(r=>r.sheet).filter(i9e).flatMap(r=>Array.from(r.cssRules)).map(r=>r.cssText).join(`
`);e.innerHTML+=`
    .js-plotly-plot .plotly .modebar-btn {
      fill: rgb(136,136,136);
    }
    ${t}`},RH=a9e;window.global=window;var Ike=jae();Ike.register([Joe(),Ose(),Yle(),hue(),Mue(),Tfe(),Pfe(),wce(),$ce(),Dhe(),mve(),ide(),Bde(),k0e(),epe(),Tpe(),e1e(),x1e(),N1e(),Z1e(),ume(),Ame(),Bme(),hxe(),Fxe(),_be(),Ibe(),f2e(),gwe(),Bwe(),w_e(),V3e(),vTe(),ITe(),aAe(),xAe(),bMe(),OMe(),YMe(),ZMe(),JMe(),tke(),Rke()]);var iS=Ike;function Nw(e){return!(td(e)||Pg(e))}function td(e){return!!e.attribute}function Pg(e){return!!e.statistic}var zw=!0;if(!zw){let e=new WebSocket("ws://localhost:8081");e.addEventListener("connection",t=>{console.log("connected ",t)}),e.addEventListener("message",async t=>{if(window.no_hot_reload)return;console.log("Message from server ",t);let{action:r,payload:n}=JSON.parse(t.data);r==="update-app"&&window.location.reload(),r==="error"&&console.warn(n)})}var aS=e=>new Promise(t=>setTimeout(t,e));function Pke(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Fke(e){let t=Promise.resolve(),r={cancelled:!1};return n=>{r.cancelled=!0;let i={cancelled:!1};return r=i,t=t.catch(()=>{}).then(()=>new Promise(async a=>{n&&await aS(n),requestAnimationFrame(async()=>{i.cancelled?a():a(e())})}))}}function Fg(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Vi(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function oS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oS=function(r){return typeof r}:oS=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oS(e)}function sa(e){Vi(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||oS(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Lbt={};function sS(){return Lbt}function lS(e,t){var r,n,i,a,o,s,l,u;Vi(1,arguments);var f=sS(),c=Fg((r=(n=(i=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=sa(e),v=h.getDay(),b=(v<c?7:0)+v-c;return h.setDate(h.getDate()-b),h.setHours(0,0,0,0),h}function uS(e){Vi(1,arguments);var t=sa(e);return t.setHours(0,0,0,0),t}var Cbt=365.2425,Dbt=Math.pow(10,8)*24*60*60*1e3,c9=6e4,h9=36e5;var KIt=-Dbt;var qbt=3600;var Nke=qbt*24,JIt=Nke*7,Rbt=Nke*Cbt,Ibt=Rbt/12,QIt=Ibt*3;function fS(e){Vi(1,arguments);var t=sa(e);return t.setHours(23,59,59,999),t}function cS(e){Vi(1,arguments);var t=sa(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hS(e){Vi(1,arguments);var t=sa(e);return t.setSeconds(0,0),t}function vS(e){Vi(1,arguments);var t=sa(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function dS(e){Vi(1,arguments);var t=sa(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pS(e){Vi(1,arguments);var t=sa(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function gS(e){Vi(1,arguments);var t=sa(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function mS(e){Vi(1,arguments);var t=sa(e);return t.setMinutes(59,59,999),t}function yS(e,t){var r,n,i,a,o,s,l,u;Vi(1,arguments);var f=sS(),c=Fg((r=(n=(i=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=sa(e),v=h.getDay(),b=(v<c?-7:0)+6-(v-c);return h.setDate(h.getDate()+b),h.setHours(23,59,59,999),h}function xS(e){Vi(1,arguments);var t=sa(e);return t.setSeconds(59,999),t}function bS(e){Vi(1,arguments);var t=sa(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}function wS(e){Vi(1,arguments);var t=sa(e);return t.setMinutes(0,0,0),t}function zy(e,t){var r;Vi(1,arguments);var n=Fg((r=t?.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=zbt(e),a;if(i.date){var o=Obt(i.date,n);a=Bbt(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(i.time&&(l=Hbt(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Ubt(i.timezone),isNaN(u))return new Date(NaN)}else{var f=new Date(s+l),c=new Date(0);return c.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),c.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),c}return new Date(s+l+u)}var _S={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pbt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fbt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nbt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zbt(e){var t={},r=e.split(_S.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],_S.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_S.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var i=_S.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Obt(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Bbt(e,t){if(t===null)return new Date(NaN);var r=e.match(Pbt);if(!r)return new Date(NaN);var n=!!r[4],i=Ow(r[1]),a=Ow(r[2])-1,o=Ow(r[3]),s=Ow(r[4]),l=Ow(r[5])-1;if(n)return Wbt(t,s,l)?jbt(t,s,l):new Date(NaN);var u=new Date(0);return!Gbt(t,a,o)||!Ybt(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}function Ow(e){return e?parseInt(e):1}function Hbt(e){var t=e.match(Fbt);if(!t)return NaN;var r=v9(t[1]),n=v9(t[2]),i=v9(t[3]);return Xbt(r,n,i)?r*h9+n*c9+i*1e3:NaN}function v9(e){return e&&parseFloat(e.replace(",","."))||0}function Ubt(e){if(e==="Z")return 0;var t=e.match(Nbt);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Zbt(n,i)?r*(n*h9+i*c9):NaN}function jbt(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var Vbt=[31,null,31,30,31,30,31,31,30,31,30,31];function zke(e){return e%400===0||e%4===0&&e%100!==0}function Gbt(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Vbt[t]||(zke(e)?29:28))}function Ybt(e,t){return t>=1&&t<=(zke(e)?366:365)}function Wbt(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xbt(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Zbt(e,t){return t>=0&&t<=59}var $bt=250,TS=class{constructor(t){this.isEnabled=!0;this.clientX=0;this.clientY=0;this.lastSingleTouchTimestamp=0;this.state="idle";this.onTouchStart=async t=>{if(!this.isEnabled)return;let r=this.state;if(this.state="idle",t.touches.length==1){let n=Date.now();n-this.lastSingleTouchTimestamp<$bt?(t.stopPropagation(),t.stopImmediatePropagation(),this.state="one finger",this.clientX=t.touches[0].clientX,this.clientY=t.touches[0].clientY,this.lastTouches=t.touches,this.elRect=this.el.getBoundingClientRect()):this.lastSingleTouchTimestamp=n}else t.touches.length==2&&(this.state="two fingers",this.lastTouches=t.touches,this.clientX=(t.touches[0].clientX+t.touches[1].clientX)/2,this.clientY=(t.touches[0].clientY+t.touches[1].clientY)/2);r==="idle"&&r!==this.state&&this.onZoomStart()};this.onTouchMove=async t=>{this.isEnabled&&(t.touches.length===1&&this.state==="one finger"&&this.handleSingleFingerZoom(t),t.touches.length===2&&this.state==="two fingers"&&this.handleTwoFingersZoom(t))};this.onTouchEnd=()=>{this.isEnabled&&this.state!=="idle"&&(this.onZoomEnd(),this.state="idle")};this.el=t.el,this.onZoomStart=t.onZoomStart,this.onZoomEnd=t.onZoomEnd}disconnect(){this.el.removeEventListener("touchmove",this.onTouchMove),this.el.removeEventListener("touchstart",this.onTouchStart),this.el.removeEventListener("touchend",this.onTouchEnd)}connect(){this.el.addEventListener("touchmove",this.onTouchMove,{capture:!0}),this.el.addEventListener("touchstart",this.onTouchStart,{capture:!0}),this.el.addEventListener("touchend",this.onTouchEnd,{capture:!0})}async handleSingleFingerZoom(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();let r=this.lastTouches;this.lastTouches=t.touches;let i=t.touches[0].clientY-r[0].clientY;await this.handleZoom(i)}async handleTwoFingersZoom(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();let r=this.lastTouches;this.lastTouches=t.touches;let n=t.touches,i=Math.sqrt((r[0].clientX-r[1].clientX)**2+(r[0].clientY-r[1].clientY)**2),a=Math.sqrt((n[0].clientX-n[1].clientX)**2+(n[0].clientY-n[1].clientY)**2);await this.handleZoom(a-i)}async handleZoom(t){let r=new WheelEvent("wheel",{clientX:this.clientX,clientY:this.clientY,deltaX:0,deltaY:-t});this.el.querySelector(".nsewdrag.drag").dispatchEvent(r)}};var Kbt=([e,t],[r,n])=>{if(t<r)return[[e,t]];if(n<e)return[[e,t]];if(e<r&&n<t)return[[e,r-1],[n+1,t]];if(r<=e&&t<=n)return[];if(r<=e&&e<=n&&n<t)return[[n+1,t]];if(e<r&&r<=t&&t<=n)return[[e,r-1]];throw new Error("Error computing range subtraction. Please report an issue in the repo of this card and share this:"+JSON.stringify([e,t])+JSON.stringify([r,n]))},Jbt=(e,t)=>e.flatMap(r=>Kbt(r,t)),Oke=(e,t)=>t.reduce((r,n)=>Jbt(r,n),e),Bke=e=>e.slice().sort((t,r)=>t[0]-r[0]).reduce((t,r)=>{if(t.length===0)return[r];let n=t[t.length-1];if(n[1]+1>=r[0]){let i=[n[0],r[1]];return[...t.slice(0,-1),i]}return[...t,r]},[]);async function Qbt(e,t,[r,n]){let i=null;try{i=(await e.callWS({type:"recorder/statistics_during_period",start_time:r.toISOString(),end_time:n.toISOString(),statistic_ids:[t.entity],period:t.period}))[t.entity]}catch(a){throw console.error(a),new Error(`Error fetching statistics of ${t.entity}: ${JSON.stringify(a.message||"")}`)}return(i||[]).map(a=>({statistics:a,x:new Date(a.start),y:null})).filter(({x:a})=>a)}var Hke=Qbt;async function e2t(e,t,[r,n]){let i=`history/period/${r.toISOString()}?`+[`filter_entity_id=${t.entity}`,"significant_changes_only=0",td(t)?"":"no_attributes&",td(t)?"":"minimal_response&",`end_time=${n.toISOString()}`].filter(Boolean).join("&"),a;try{a=(await e.callApi("GET",i)||[])[0]}catch(o){throw console.error(o),new Error(`Error fetching states of ${t.entity}: ${JSON.stringify(o.message||"")}`)}return(a||[]).map(o=>({state:o,x:new Date(o.last_updated||o.last_changed),y:null})).filter(({x:o})=>o)}var Uke=e2t;async function t2t(e,t,[r,n]){let i=new Date(r-1);n=Math.min(n,Date.now());let a=new Date(n),o;Pg(t)?o=await Hke(e,t,[i,a]):o=await Uke(e,t,[i,a]);let s=[r,n];return o.length&&(o[0].fake_boundary_datapoint=!0),{range:s,history:o}}function d9(e){if(td(e))return`${e.entity}::attribute:`;if(Pg(e))return`${e.entity}::statistics::${e.period}`;if(Nw(e))return`${e.entity}`;throw new Error(`Entity malformed:${JSON.stringify(e)}`)}var r2t=Date.parse("0001-01-02T00:00:00.000Z"),Bw=class{constructor(){this.ranges={};this.histories={};this.busy=Promise.resolve(null)}add(t,r,n){var o,s,l,u;let i=d9(t),a=(s=(o=this.histories)[i])!=null?s:o[i]=[];a.push(...r),a.sort((f,c)=>+f.x-+c.x),a=a.filter((f,c)=>c==0||!f.fake_boundary_datapoint),a=a.filter((f,c)=>{var h;return+((h=a[c-1])==null?void 0:h.x)!=+a[c].x}),this.histories[i]=a,(u=(l=this.ranges)[i])!=null||(l[i]=[]),this.ranges[i].push(n),this.ranges[i]=Bke(this.ranges[i])}clearCache(){this.ranges={},this.histories={}}getData(t){let r=d9(t),n=this.histories[r]||[],i={xs:[],ys:[],states:[],statistics:[]};if(i.xs=n.map(({x:a})=>a),Pg(t))i.statistics=n.map(({statistics:a})=>a),i.ys=i.statistics.map(a=>a[t.statistic]);else if(td(t))i.states=n.map(({state:a})=>a),i.ys=i.states.map(a=>a.attributes[t.attribute]);else if(Nw(t))i.states=n.map(({state:a})=>a),i.ys=i.states.map(a=>a.state);else throw new Error(`Unrecognised fetch type for ${t.entity}`);return i.ys=i.ys.map(a=>a==="unavailable"||a==="none"||a==="unknown"?null:a),i}async fetch(t,r,n){return this.busy=this.busy.catch(()=>{}).then(async()=>{var i,a;if(t=t.map(o=>Math.max(r2t,o)),r.entity){let o=d9(r);(a=(i=this.ranges)[o])!=null||(i[o]=[]);let s=Oke([t],this.ranges[o]);for(let l of s){let u=await t2t(n,r,l);this.add(r,u.history,u.range)}}return this.getData(r)})}};var ZSe=Dc(g9()),$Se=Dc(U4());var Ng=Dc(MS());var kS={accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],category20b:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],category20c:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],tableau10:["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],tableau20:["#4c78a8","#9ecae9","#f58518","#ffbf79","#54a24b","#88d27a","#b79a20","#f2cf5b","#439894","#83bcb6","#e45756","#ff9d98","#79706e","#bab0ac","#d67195","#fcbfd2","#b279a2","#d6a5c9","#9e765f","#d8b5a5"],retro_metro:["#ea5545","#f46a9b","#ef9b20","#edbf33","#ede15b","#bdcf32","#87bc45","#27aeef","#b33dc6"],dutch_field:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"],river_nights:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],spring_pastels:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],blue_to_yellow:["#115f9a","#1984c5","#22a7f0","#48b5c4","#76c68f","#a6d75b","#c9e52f","#d0ee11","#d0f400"],grey_to_red:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],black_to_pink:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#ff80ff"],blue_to_red:["#1984c5","#22a7f0","#63bff0","#a7d5ed","#e2e2e2","#e1a692","#de6e56","#e14b31","#c23728"],orange_to_purple:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#776bcd","#9080ff"],pink_foam:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],salmon_to_aqua:["#e27c7c","#a86464","#6d4b4b","#503f3f","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"]};function a2t(e){return Array.isArray(e)}function Wke(e){let t=e!=null?e:"category10",r=a2t(t)?t:kS[t]||kS[Object.keys(kS)[t]]||null;if(r===null)throw new Error(`color_scheme: "${e}" is not valid. Valid are an array of colors (see readme) or ${Object.keys(kS)}`);return r}var m9={tickcolor:"rgba(127,127,127,.3)",gridcolor:"rgba(127,127,127,.3)",linecolor:"rgba(127,127,127,.3)",zerolinecolor:"rgba(127,127,127,.3)"};function y9(e){return{paper_bgcolor:e["card-background-color"],plot_bgcolor:e["card-background-color"],font:{color:e["secondary-text-color"],size:11},xaxis:{...m9},yaxis:{...m9},...Object.fromEntries(Array.from({length:28}).map((t,r)=>[`yaxis${r+2}`,{...m9}]))}}var SS=()=>()=>{},o2t={entity:"",show_value:!1,internal:!1,time_offset:"0s",on_legend_click:SS,on_legend_dblclick:SS,on_click:SS},s2t={mode:"lines",line:{width:1,shape:"hv",color:({getFromConfig:e,path:t})=>{let r=Wke(e("color_scheme"));return r[ES(t)%r.length]}},unit_of_measurement:({meta:e})=>e.unit_of_measurement||"",name:({meta:e,getFromConfig:t})=>{let r=e.friendly_name||t(".entity"),n=t(".attribute");return n&&(r+=` (${n}) `),r},hovertemplate:({getFromConfig:e})=>`<b>${e(".name")}</b><br><i>%{x}</i><br>%{y} ${e(".unit_of_measurement")}<extra></extra>`,yaxis:({getFromConfig:e,path:t})=>{let r=[];for(let i=0;i<=ES(t);i++){let a=e(`entities.${i}.unit_of_measurement`);!e(`entities.${i}.internal`)&&!r.includes(a)&&r.push(a)}let n=r.length;return"y"+(n===1?"":n)}},l2t={title:"",hours_to_show:1,refresh_interval:"auto",color_scheme:"category10",time_offset:"0s",raw_plotly_config:!1,ha_theme:!0,disable_pinch_to_zoom:!1,raw_plotly:!1,defaults:{entity:{},yaxes:{}},layout:{},on_dblclick:SS,autorange_after_scroll:!1},Xke={side:"right",overlaying:"y",showgrid:!1,visible:!1,layer:"below traces"},u2t={config:{displaylogo:!1,scrollZoom:!0,modeBarButtonsToRemove:["resetScale2d","toImage","lasso2d","select2d"]},layout:{height:285,dragmode:"pan",xaxis:{autorange:!1,type:"date"},yaxis:{},yaxis2:{...Xke,visible:!0},...Object.fromEntries(Array.from({length:27}).map((e,t)=>[`yaxis${t+3}`,{...Xke}])),legend:{orientation:"h",bgcolor:"transparent",x:0,y:1,yanchor:"bottom"},title:{y:1,pad:{t:15}},modebar:{orientation:"v"},margin:{b:50,t:0,l:60,r:({getFromConfig:e})=>{let t=e("entities"),r=t.some(({yaxis:i})=>i==="y2"),n=t.some(({show_value:i})=>i);return r|n?60:30}}}};function Zke(e,t){let r=(0,Ng.merge)({},e,l2t,e);for(let n=1;n<31;n++){let i="yaxis"+(n==1?"":n);r.layout[i]=(0,Ng.merge)({},r.layout[i],r.defaults.yaxes,r.layout[i])}return r=(0,Ng.merge)({},r,{layout:r.ha_theme?y9(t):{}},r.raw_plotly_config?{}:u2t,r),r.entities=r.entities.map(n=>{var o,s;typeof n=="string"&&(n={entity:n}),(o=n.entity)!=null||(n.entity="");let[i,a]=n.entity.split("::");return a&&(n.entity=i,n.attribute=a),n=(0,Ng.merge)({},n,o2t,r.raw_plotly_config?{}:s2t,(s=r.defaults)==null?void 0:s.entity,n),n}),r}function $ke(e){let t=Object.fromEntries(e.entities.map(({unit_of_measurement:n,yaxis:i})=>["yaxis"+(i==null?void 0:i.slice(1)),{title:n}])),r=(0,Ng.merge)({},e.layout,e.raw_plotly_config?{}:{xaxis:{range:e.visible_range}},e.raw_plotly_config?{}:t,e.layout);return(0,Ng.merge)({},e,{layout:r},e)}var By={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24,w:1e3*60*60*24*7,M:1e3*60*60*24*30,y:1e3*60*60*24*365},iu=e=>{if(e==="0")return 0;if(!e||!e.match)throw new Error(`Cannot parse "${e}" as a duration`);let t=e.match(/^(?<sign>[+-])?(?<number>\d*(\.\d)?)(?<unit>(ms|s|m|h|d|w|M|y))$/);if(!t||!t.groups)throw new Error(`Cannot parse "${e}" as a duration`);let r=t.groups,n=r.sign==="-"?-1:1,i=parseFloat(r.number);if(Number.isNaN(i))throw new Error(`Cannot parse "${e}" as a duration`);let a=By[r.unit];if(a===void 0)throw new Error(`Cannot parse "${e}" as a duration`);return n*i*a},Kke=e=>{try{return iu(e),!0}catch(t){return!1}},x9=e=>{let t=new Date;switch(e){case"current_minute":return[+hS(t),+xS(t)];case"current_hour":return[+wS(t),+mS(t)];case"current_day":return[+uS(t),+fS(t)];case"current_week":return[+lS(t),+yS(t)];case"current_month":return[+dS(t),+cS(t)];case"current_quarter":return[+vS(t),+bS(t)];case"current_year":return[+gS(t),+pS(t)]}throw new Error(`${e} is not a dynamic relative time`)},Jke=e=>{try{return x9(e),!0}catch(t){return!1}};var b9=["state","sum","min","max","mean"],Uw=["5minute","hour","day","week","month"];function f2t(e){if(!Pke(e))return!1;let t=-1;for(let r in e){let n=e[r],i=iu(r);if(!Uw.includes(n))throw new Error(`Error parsing automatic period config: "${n}" not expected. Must be ${Uw}`);if(i<=t)throw new Error(`Error parsing automatic period config: ranges must be sorted in ascending order, "${r}" not expected`);t=i}return!0}function Qke(e,t,r){if(!t&&!r)return null;if(t!=null||(t="mean"),r!=null||(r="hour"),r==="auto"&&(r={0:"5minute","1d":"hour","7d":"day","28d":"week","12M":"month"}),f2t(r)){let n=r;r="5minute";let i=e[1]-e[0],a=Object.entries(n).map(([o,s])=>[iu(o),s]);for(let[o,s]of a)i>=o&&(r=s)}if(!b9.includes(t))throw new Error(`statistic: "${t}" is not valid. Use ${b9}`);if(!Uw.includes(r))throw new Error(`period: "${r}" is not valid. Use ${Uw}`);return{statistic:t,period:r}}var GSe=Dc(g9());var c2t=Object.prototype.toString;function la(e){return c2t.call(e).endsWith("Array]")}function Gi(e,t){return e<0?(e=0-e,typeof t=="number"?`- ${e.toPrecision(t)}`:`- ${e.toString()}`):typeof t=="number"?e.toPrecision(t):e.toString()}function ql(e,t){if(!la(e)||!la(t))throw new TypeError("x and y must be arrays");if(e.length!==t.length)throw new RangeError("x and y arrays must have the same length")}var ws=class{constructor(){if(new.target===ws)throw new Error("BaseRegression must be subclassed")}predict(t){if(typeof t=="number")return this._predict(t);if(la(t)){let r=[];for(let n=0;n<t.length;n++)r.push(this._predict(t[n]));return r}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(t,r){if(!la(t)||!la(r)||t.length!==r.length)throw new Error("x and y must be arrays of the same length");let n=t.length,i=new Array(n);for(let v=0;v<n;v++)i[v]=this._predict(t[v]);let a=0,o=0,s=0,l=0,u=0,f=0,c=0;for(let v=0;v<n;v++)a+=i[v],o+=r[v],u+=i[v]*i[v],f+=r[v]*r[v],c+=i[v]*r[v],r[v]!==0&&(s+=(r[v]-i[v])*(r[v]-i[v])/r[v]),l+=(r[v]-i[v])*(r[v]-i[v]);let h=(n*c-a*o)/Math.sqrt((n*u-a*a)*(n*f-o*o));return{r:h,r2:h*h,chi2:s,rmsd:Math.sqrt(l/n)}}};var fc=class extends ws{constructor(t,r){super(),t===!0?(this.slope=r.slope,this.intercept=r.intercept,this.coefficients=[r.intercept,r.slope]):(ql(t,r),h2t(this,t,r))}toJSON(){return{name:"simpleLinearRegression",slope:this.slope,intercept:this.intercept}}_predict(t){return this.slope*t+this.intercept}computeX(t){return(t-this.intercept)/this.slope}toString(t){let r="f(x) = ";if(this.slope!==0){let n=Gi(this.slope,t);if(r+=`${n==="1"?"":`${n} * `}x`,this.intercept!==0){let i=Math.abs(this.intercept),a=i===this.intercept?"+":"-";r+=` ${a} ${Gi(i,t)}`}}else r+=Gi(this.intercept,t);return r}toLaTeX(t){return this.toString(t)}static load(t){if(t.name!=="simpleLinearRegression")throw new TypeError("not a SLR model");return new fc(!0,t)}};function h2t(e,t,r){let n=t.length,i=0,a=0,o=0,s=0;for(let u=0;u<n;u++)i+=t[u],a+=r[u],o+=t[u]*t[u],s+=t[u]*r[u];let l=n*s-i*a;e.slope=l/(n*o-i*i),e.intercept=1/n*a-e.slope*(1/n)*i,e.coefficients=[e.intercept,e.slope]}function e5e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!la(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],s=n+1;s<a;s++)e[s]>o&&(o=e[s]);return o}function t5e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!la(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],s=n+1;s<a;s++)e[s]<o&&(o=e[s]);return o}function w9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(la(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!la(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var n=t5e(e),i=e5e(e);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,o=a===void 0?t.autoMinMax?n:0:a,s=t.max,l=s===void 0?t.autoMinMax?i:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(i-n),f=0;f<e.length;f++)r[f]=(e[f]-n)*u+o;return r}var LS=" ".repeat(2),n5e=" ".repeat(4);function i5e(){return _9(this)}function _9(e,t={}){let{maxRows:r=15,maxColumns:n=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${LS}[
${n5e}${v2t(e,r,n,i,a)}
${LS}]
${LS}rows: ${e.rows}
${LS}columns: ${e.columns}
}`}function v2t(e,t,r,n,i){let{rows:a,columns:o}=e,s=Math.min(a,t),l=Math.min(o,r),u=[];if(i==="auto"){i=!1;e:for(let f=0;f<s;f++)for(let c=0;c<l;c++)if(e.get(f,c)<0){i=!0;break e}}for(let f=0;f<s;f++){let c=[];for(let h=0;h<l;h++)c.push(d2t(e.get(f,h),n,i));u.push(`${c.join(" ")}`)}return l!==o&&(u[u.length-1]+=` ... ${o-r} more columns`),s!==a&&u.push(`... ${a-t} more rows`),u.join(`
${n5e}`)}function d2t(e,t,r){return(e>=0&&r?` ${r5e(e,t-1)}`:r5e(e,t)).padEnd(t)}function r5e(e,t){let r=e.toString();if(r.length<=t)return r;let n=e.toFixed(t);if(n.length>t&&(n=e.toFixed(Math.max(0,t-(n.length-t)))),n.length<=t&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function a5e(e,t){e.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},e.prototype.addS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n);return this},e.prototype.addM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n.get(i,a));return this},e.add=function(n,i){return new t(n).add(i)},e.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},e.prototype.subS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n);return this},e.prototype.subM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n.get(i,a));return this},e.sub=function(n,i){return new t(n).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},e.prototype.mulS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n);return this},e.prototype.mulM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n.get(i,a));return this},e.mul=function(n,i){return new t(n).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},e.prototype.divS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n);return this},e.prototype.divM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n.get(i,a));return this},e.div=function(n,i){return new t(n).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},e.prototype.modS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n);return this},e.prototype.modM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n.get(i,a));return this},e.mod=function(n,i){return new t(n).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},e.prototype.andS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n);return this},e.prototype.andM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n.get(i,a));return this},e.and=function(n,i){return new t(n).and(i)},e.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},e.prototype.orS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n);return this},e.prototype.orM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n.get(i,a));return this},e.or=function(n,i){return new t(n).or(i)},e.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},e.prototype.xorS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n);return this},e.prototype.xorM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n.get(i,a));return this},e.xor=function(n,i){return new t(n).xor(i)},e.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},e.prototype.leftShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n);return this},e.prototype.leftShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n.get(i,a));return this},e.leftShift=function(n,i){return new t(n).leftShift(i)},e.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},e.prototype.signPropagatingRightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n);return this},e.prototype.signPropagatingRightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n.get(i,a));return this},e.signPropagatingRightShift=function(n,i){return new t(n).signPropagatingRightShift(i)},e.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},e.prototype.rightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n);return this},e.prototype.rightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n.get(i,a));return this},e.rightShift=function(n,i){return new t(n).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,~this.get(n,i));return this},e.not=function(n){return new t(n).not()},e.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.abs(this.get(n,i)));return this},e.abs=function(n){return new t(n).abs()},e.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acos(this.get(n,i)));return this},e.acos=function(n){return new t(n).acos()},e.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acosh(this.get(n,i)));return this},e.acosh=function(n){return new t(n).acosh()},e.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asin(this.get(n,i)));return this},e.asin=function(n){return new t(n).asin()},e.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asinh(this.get(n,i)));return this},e.asinh=function(n){return new t(n).asinh()},e.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atan(this.get(n,i)));return this},e.atan=function(n){return new t(n).atan()},e.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atanh(this.get(n,i)));return this},e.atanh=function(n){return new t(n).atanh()},e.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cbrt(this.get(n,i)));return this},e.cbrt=function(n){return new t(n).cbrt()},e.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.ceil(this.get(n,i)));return this},e.ceil=function(n){return new t(n).ceil()},e.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.clz32(this.get(n,i)));return this},e.clz32=function(n){return new t(n).clz32()},e.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cos(this.get(n,i)));return this},e.cos=function(n){return new t(n).cos()},e.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cosh(this.get(n,i)));return this},e.cosh=function(n){return new t(n).cosh()},e.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.exp(this.get(n,i)));return this},e.exp=function(n){return new t(n).exp()},e.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.expm1(this.get(n,i)));return this},e.expm1=function(n){return new t(n).expm1()},e.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.floor(this.get(n,i)));return this},e.floor=function(n){return new t(n).floor()},e.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.fround(this.get(n,i)));return this},e.fround=function(n){return new t(n).fround()},e.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log(this.get(n,i)));return this},e.log=function(n){return new t(n).log()},e.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log1p(this.get(n,i)));return this},e.log1p=function(n){return new t(n).log1p()},e.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log10(this.get(n,i)));return this},e.log10=function(n){return new t(n).log10()},e.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log2(this.get(n,i)));return this},e.log2=function(n){return new t(n).log2()},e.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.round(this.get(n,i)));return this},e.round=function(n){return new t(n).round()},e.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sign(this.get(n,i)));return this},e.sign=function(n){return new t(n).sign()},e.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sin(this.get(n,i)));return this},e.sin=function(n){return new t(n).sin()},e.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sinh(this.get(n,i)));return this},e.sinh=function(n){return new t(n).sinh()},e.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sqrt(this.get(n,i)));return this},e.sqrt=function(n){return new t(n).sqrt()},e.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tan(this.get(n,i)));return this},e.tan=function(n){return new t(n).tan()},e.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tanh(this.get(n,i)));return this},e.tanh=function(n){return new t(n).tanh()},e.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.trunc(this.get(n,i)));return this},e.trunc=function(n){return new t(n).trunc()},e.pow=function(n,i){return new t(n).pow(i)},e.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},e.prototype.powS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n));return this},e.prototype.powM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n.get(i,a)));return this}}function cc(e,t,r){let n=r?e.rows:e.rows-1;if(t<0||t>n)throw new RangeError("Row index out of range")}function hc(e,t,r){let n=r?e.columns:e.columns-1;if(t<0||t>n)throw new RangeError("Column index out of range")}function zg(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Og(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function o5e(e,t){if(!la(t))throw new TypeError("row indices must be an array");for(let r=0;r<t.length;r++)if(t[r]<0||t[r]>=e.rows)throw new RangeError("row indices are out of range")}function s5e(e,t){if(!la(t))throw new TypeError("column indices must be an array");for(let r=0;r<t.length;r++)if(t[r]<0||t[r]>=e.columns)throw new RangeError("column indices are out of range")}function T9(e,t,r,n,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(CS("startRow",t),CS("endRow",r),CS("startColumn",n),CS("endColumn",i),t>r||n>i||t<0||t>=e.rows||r<0||r>=e.rows||n<0||n>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function jw(e,t=0){let r=[];for(let n=0;n<e;n++)r.push(t);return r}function CS(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function Bg(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function l5e(e){let t=jw(e.rows);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[r]+=e.get(r,n);return t}function u5e(e){let t=jw(e.columns);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[n]+=e.get(r,n);return t}function f5e(e){let t=0;for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)t+=e.get(r,n);return t}function c5e(e){let t=jw(e.rows,1);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[r]*=e.get(r,n);return t}function h5e(e){let t=jw(e.columns,1);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[n]*=e.get(r,n);return t}function v5e(e){let t=1;for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)t*=e.get(r,n);return t}function d5e(e,t,r){let n=e.rows,i=e.columns,a=[];for(let o=0;o<n;o++){let s=0,l=0,u=0;for(let f=0;f<i;f++)u=e.get(o,f)-r[o],s+=u,l+=u*u;t?a.push((l-s*s/i)/(i-1)):a.push((l-s*s/i)/i)}return a}function p5e(e,t,r){let n=e.rows,i=e.columns,a=[];for(let o=0;o<i;o++){let s=0,l=0,u=0;for(let f=0;f<n;f++)u=e.get(f,o)-r[o],s+=u,l+=u*u;t?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function g5e(e,t,r){let n=e.rows,i=e.columns,a=n*i,o=0,s=0,l=0;for(let u=0;u<n;u++)for(let f=0;f<i;f++)l=e.get(u,f)-r,o+=l,s+=l*l;return t?(s-o*o/a)/(a-1):(s-o*o/a)/a}function m5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[r])}function y5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[n])}function x5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t)}function b5e(e){let t=[];for(let r=0;r<e.rows;r++){let n=0;for(let i=0;i<e.columns;i++)n+=Math.pow(e.get(r,i),2)/(e.columns-1);t.push(Math.sqrt(n))}return t}function w5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[r])}function _5e(e){let t=[];for(let r=0;r<e.columns;r++){let n=0;for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/(e.rows-1);t.push(Math.sqrt(n))}return t}function T5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[n])}function A5e(e){let t=e.size-1,r=0;for(let n=0;n<e.columns;n++)for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/t;return Math.sqrt(r)}function M5e(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t)}var Kn=class{static from1DArray(t,r,n){if(t*r!==n.length)throw new RangeError("data length does not match given dimensions");let a=new hn(t,r);for(let o=0;o<t;o++)for(let s=0;s<r;s++)a.set(o,s,n[o*r+s]);return a}static rowVector(t){let r=new hn(1,t.length);for(let n=0;n<t.length;n++)r.set(0,n,t[n]);return r}static columnVector(t){let r=new hn(t.length,1);for(let n=0;n<t.length;n++)r.set(n,0,t[n]);return r}static zeros(t,r){return new hn(t,r)}static ones(t,r){return new hn(t,r).fill(1)}static rand(t,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{random:i=Math.random}=n,a=new hn(t,r);for(let o=0;o<t;o++)for(let s=0;s<r;s++)a.set(o,s,i());return a}static randInt(t,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{min:i=0,max:a=1e3,random:o=Math.random}=n;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let s=a-i,l=new hn(t,r);for(let u=0;u<t;u++)for(let f=0;f<r;f++){let c=i+Math.round(o()*s);l.set(u,f,c)}return l}static eye(t,r,n){r===void 0&&(r=t),n===void 0&&(n=1);let i=Math.min(t,r),a=this.zeros(t,r);for(let o=0;o<i;o++)a.set(o,o,n);return a}static diag(t,r,n){let i=t.length;r===void 0&&(r=i),n===void 0&&(n=r);let a=Math.min(i,r,n),o=this.zeros(r,n);for(let s=0;s<a;s++)o.set(s,s,t[s]);return o}static min(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);let n=t.rows,i=t.columns,a=new hn(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.min(t.get(o,s),r.get(o,s)));return a}static max(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);let n=t.rows,i=t.columns,a=new this(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.max(t.get(o,s),r.get(o,s)));return a}static checkMatrix(t){return Kn.isMatrix(t)?t:new hn(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.call(this,r,n);return this}to1DArray(){let t=[];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.push(this.get(r,n));return t}to2DArray(){let t=[];for(let r=0;r<this.rows;r++){t.push([]);for(let n=0;n<this.columns;n++)t[r].push(this.get(r,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}isEchelonForm(){let t=0,r=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(r=0,a=!1;r<this.columns&&a===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(a=!0,n=r):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,r=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(r=0,a=!1;r<this.columns&&a===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(a=!0,n=r):(i=!1,a=!0);for(let o=r+1;o<this.rows;o++)this.get(t,o)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),r=0,n=0;for(;r<t.rows&&n<t.columns;){let i=r;for(let a=r;a<t.rows;a++)t.get(a,n)>t.get(i,n)&&(i=a);if(t.get(i,n)===0)n++;else{t.swapRows(r,i);let a=t.get(r,n);for(let o=n;o<t.columns;o++)t.set(r,o,t.get(r,o)/a);for(let o=r+1;o<t.rows;o++){let s=t.get(o,n)/t.get(r,n);t.set(o,n,0);for(let l=n+1;l<t.columns;l++)t.set(o,l,t.get(o,l)-t.get(r,l)*s)}r++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),r=t.columns,n=t.rows,i=n-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,o=!1;for(;a<n&&o===!1;)t.get(i,a)===1?o=!0:a++;for(let s=0;s<i;s++){let l=t.get(s,a);for(let u=a;u<r;u++){let f=t.get(s,u)-l*t.get(i,u);t.set(s,u,f)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");let{rows:r=1,columns:n=1}=t;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let i=new hn(this.rows*r,this.columns*n);for(let a=0;a<r;a++)for(let o=0;o<n;o++)i.setSubMatrix(this,this.rows*a,this.columns*o);return i}fill(t){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,t);return this}neg(){return this.mulS(-1)}getRow(t){cc(this,t);let r=[];for(let n=0;n<this.columns;n++)r.push(this.get(t,n));return r}getRowVector(t){return hn.rowVector(this.getRow(t))}setRow(t,r){cc(this,t),r=zg(this,r);for(let n=0;n<this.columns;n++)this.set(t,n,r[n]);return this}swapRows(t,r){cc(this,t),cc(this,r);for(let n=0;n<this.columns;n++){let i=this.get(t,n);this.set(t,n,this.get(r,n)),this.set(r,n,i)}return this}getColumn(t){hc(this,t);let r=[];for(let n=0;n<this.rows;n++)r.push(this.get(n,t));return r}getColumnVector(t){return hn.columnVector(this.getColumn(t))}setColumn(t,r){hc(this,t),r=Og(this,r);for(let n=0;n<this.rows;n++)this.set(n,t,r[n]);return this}swapColumns(t,r){hc(this,t),hc(this,r);for(let n=0;n<this.rows;n++){let i=this.get(n,t);this.set(n,t,this.get(n,r)),this.set(n,r,i)}return this}addRowVector(t){t=zg(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[n]);return this}subRowVector(t){t=zg(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[n]);return this}mulRowVector(t){t=zg(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[n]);return this}divRowVector(t){t=zg(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[n]);return this}addColumnVector(t){t=Og(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[r]);return this}subColumnVector(t){t=Og(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[r]);return this}mulColumnVector(t){t=Og(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[r]);return this}divColumnVector(t){t=Og(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[r]);return this}mulRow(t,r){cc(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*r);return this}mulColumn(t,r){hc(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*r);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{let r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>r[n]&&(r[n]=this.get(n,i));return r}case"column":{let r=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>r[i]&&(r[i]=this.get(n,i));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>r&&(r=this.get(n,i));return r}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){Bg(this);let t=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>t&&(t=this.get(n,i),r[0]=n,r[1]=i);return r}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{let r=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<r[n]&&(r[n]=this.get(n,i));return r}case"column":{let r=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<r[i]&&(r[i]=this.get(n,i));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<r&&(r=this.get(n,i));return r}default:throw new Error(`invalid option: ${t}`)}}minIndex(){Bg(this);let t=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<t&&(t=this.get(n,i),r[0]=n,r[1]=i);return r}maxRow(t){if(cc(this,t),this.isEmpty())return NaN;let r=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>r&&(r=this.get(t,n));return r}maxRowIndex(t){cc(this,t),Bg(this);let r=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>r&&(r=this.get(t,i),n[1]=i);return n}minRow(t){if(cc(this,t),this.isEmpty())return NaN;let r=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<r&&(r=this.get(t,n));return r}minRowIndex(t){cc(this,t),Bg(this);let r=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<r&&(r=this.get(t,i),n[1]=i);return n}maxColumn(t){if(hc(this,t),this.isEmpty())return NaN;let r=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>r&&(r=this.get(n,t));return r}maxColumnIndex(t){hc(this,t),Bg(this);let r=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>r&&(r=this.get(i,t),n[0]=i);return n}minColumn(t){if(hc(this,t),this.isEmpty())return NaN;let r=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<r&&(r=this.get(n,t));return r}minColumnIndex(t){hc(this,t),Bg(this);let r=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<r&&(r=this.get(i,t),n[0]=i);return n}diag(){let t=Math.min(this.rows,this.columns),r=[];for(let n=0;n<t;n++)r.push(this.get(n,n));return r}norm(t="frobenius"){let r=0;if(t==="max")return this.max();if(t==="frobenius"){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)r=r+this.get(n,i)*this.get(n,i);return Math.sqrt(r)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t+=this.get(r,n),this.set(r,n,t);return this}dot(t){Kn.isMatrix(t)&&(t=t.to1DArray());let r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let i=0;i<r.length;i++)n+=r[i]*t[i];return n}mmul(t){t=hn.checkMatrix(t);let r=this.rows,n=this.columns,i=t.columns,a=new hn(r,i),o=new Float64Array(n);for(let s=0;s<i;s++){for(let l=0;l<n;l++)o[l]=t.get(l,s);for(let l=0;l<r;l++){let u=0;for(let f=0;f<n;f++)u+=this.get(l,f)*o[f];a.set(l,s,u)}}return a}strassen2x2(t){t=hn.checkMatrix(t);let r=new hn(2,2),n=this.get(0,0),i=t.get(0,0),a=this.get(0,1),o=t.get(0,1),s=this.get(1,0),l=t.get(1,0),u=this.get(1,1),f=t.get(1,1),c=(n+u)*(i+f),h=(s+u)*i,v=n*(o-f),b=u*(l-i),y=(n+a)*f,x=(s-n)*(i+o),m=(a-u)*(l+f),_=c+b-y+m,g=v+y,A=h+b,w=c-h+v+x;return r.set(0,0,_),r.set(0,1,g),r.set(1,0,A),r.set(1,1,w),r}strassen3x3(t){t=hn.checkMatrix(t);let r=new hn(3,3),n=this.get(0,0),i=this.get(0,1),a=this.get(0,2),o=this.get(1,0),s=this.get(1,1),l=this.get(1,2),u=this.get(2,0),f=this.get(2,1),c=this.get(2,2),h=t.get(0,0),v=t.get(0,1),b=t.get(0,2),y=t.get(1,0),x=t.get(1,1),m=t.get(1,2),_=t.get(2,0),g=t.get(2,1),A=t.get(2,2),w=(n+i+a-o-s-f-c)*x,k=(n-o)*(-v+x),p=s*(-h+v+y-x-m-_+A),d=(-n+o+s)*(h-v+x),M=(o+s)*(-h+v),T=n*h,S=(-n+u+f)*(h-b+m),E=(-n+u)*(b-m),L=(u+f)*(-h+b),D=(n+i+a-s-l-u-f)*m,R=f*(-h+b+y-x-m-_+g),q=(-a+f+c)*(x+_-g),C=(a-c)*(x-g),F=a*_,N=(f+c)*(-_+g),U=(-a+s+l)*(m+_-A),V=(a-l)*(m-A),Y=(s+l)*(-_+A),K=i*y,B=l*g,z=o*b,j=u*v,ae=c*A,ee=T+F+K,ve=w+d+M+T+q+F+N,fe=T+S+L+D+F+U+Y,se=k+p+d+T+F+U+V,G=k+d+M+T+B,Z=F+U+V+Y+z,X=T+S+E+R+q+C+F,ge=q+C+F+N+j,qe=T+S+E+L+ae;return r.set(0,0,ee),r.set(0,1,ve),r.set(0,2,fe),r.set(1,0,se),r.set(1,1,G),r.set(1,2,Z),r.set(2,0,X),r.set(2,1,ge),r.set(2,2,qe),r}mmulStrassen(t){t=hn.checkMatrix(t);let r=this.clone(),n=r.rows,i=r.columns,a=t.rows,o=t.columns;i!==a&&console.warn(`Multiplying ${n} x ${i} and ${a} x ${o} matrix: dimensions do not match.`);function s(c,h,v){let b=c.rows,y=c.columns;if(b===h&&y===v)return c;{let x=Kn.zeros(h,v);return x=x.setSubMatrix(c,0,0),x}}let l=Math.max(n,a),u=Math.max(i,o);r=s(r,l,u),t=s(t,l,u);function f(c,h,v,b){if(v<=512||b<=512)return c.mmul(h);v%2===1&&b%2===1?(c=s(c,v+1,b+1),h=s(h,v+1,b+1)):v%2===1?(c=s(c,v+1,b),h=s(h,v+1,b)):b%2===1&&(c=s(c,v,b+1),h=s(h,v,b+1));let y=parseInt(c.rows/2,10),x=parseInt(c.columns/2,10),m=c.subMatrix(0,y-1,0,x-1),_=h.subMatrix(0,y-1,0,x-1),g=c.subMatrix(0,y-1,x,c.columns-1),A=h.subMatrix(0,y-1,x,h.columns-1),w=c.subMatrix(y,c.rows-1,0,x-1),k=h.subMatrix(y,h.rows-1,0,x-1),p=c.subMatrix(y,c.rows-1,x,c.columns-1),d=h.subMatrix(y,h.rows-1,x,h.columns-1),M=f(Kn.add(m,p),Kn.add(_,d),y,x),T=f(Kn.add(w,p),_,y,x),S=f(m,Kn.sub(A,d),y,x),E=f(p,Kn.sub(k,_),y,x),L=f(Kn.add(m,g),d,y,x),D=f(Kn.sub(w,m),Kn.add(_,A),y,x),R=f(Kn.sub(g,p),Kn.add(k,d),y,x),q=Kn.add(M,E);q.sub(L),q.add(R);let C=Kn.add(S,L),F=Kn.add(T,E),N=Kn.sub(M,T);N.add(S),N.add(D);let U=Kn.zeros(2*q.rows,2*q.columns);return U=U.setSubMatrix(q,0,0),U=U.setSubMatrix(C,q.rows,0),U=U.setSubMatrix(F,0,q.columns),U=U.setSubMatrix(N,q.rows,q.columns),U.subMatrix(0,v-1,0,b-1)}return f(r,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=t;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let i=new hn(this.rows,this.columns);for(let a=0;a<this.rows;a++){let o=this.getRow(a);o.length>0&&w9(o,{min:r,max:n,output:o}),i.setRow(a,o)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=t;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let i=new hn(this.rows,this.columns);for(let a=0;a<this.columns;a++){let o=this.getColumn(a);o.length&&w9(o,{min:r,max:n,output:o}),i.setColumn(a,o)}return i}flipRows(){let t=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let n=0;n<t;n++){let i=this.get(r,n),a=this.get(r,this.columns-1-n);this.set(r,n,a),this.set(r,this.columns-1-n,i)}return this}flipColumns(){let t=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let n=0;n<t;n++){let i=this.get(n,r),a=this.get(this.rows-1-n,r);this.set(n,r,a),this.set(this.rows-1-n,r,i)}return this}kroneckerProduct(t){t=hn.checkMatrix(t);let r=this.rows,n=this.columns,i=t.rows,a=t.columns,o=new hn(r*i,n*a);for(let s=0;s<r;s++)for(let l=0;l<n;l++)for(let u=0;u<i;u++)for(let f=0;f<a;f++)o.set(i*s+u,a*l+f,this.get(s,l)*t.get(u,f));return o}kroneckerSum(t){if(t=hn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let r=this.rows,n=t.rows,i=this.kroneckerProduct(hn.eye(n,n)),a=hn.eye(r,r).kroneckerProduct(t);return i.add(a)}transpose(){let t=new hn(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.set(n,r,this.get(r,n));return t}sortRows(t=k5e){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}sortColumns(t=k5e){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}subMatrix(t,r,n,i){T9(this,t,r,n,i);let a=new hn(r-t+1,i-n+1);for(let o=t;o<=r;o++)for(let s=n;s<=i;s++)a.set(o-t,s-n,this.get(o,s));return a}subMatrixRow(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.columns-1),r>n||r<0||r>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let i=new hn(t.length,n-r+1);for(let a=0;a<t.length;a++)for(let o=r;o<=n;o++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,o-r,this.get(t[a],o))}return i}subMatrixColumn(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.rows-1),r>n||r<0||r>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let i=new hn(n-r+1,t.length);for(let a=0;a<t.length;a++)for(let o=r;o<=n;o++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(o-r,a,this.get(o,t[a]))}return i}setSubMatrix(t,r,n){if(t=hn.checkMatrix(t),t.isEmpty())return this;let i=r+t.rows-1,a=n+t.columns-1;T9(this,r,i,n,a);for(let o=0;o<t.rows;o++)for(let s=0;s<t.columns;s++)this.set(r+o,n+s,t.get(o,s));return this}selection(t,r){o5e(this,t),s5e(this,r);let n=new hn(t.length,r.length);for(let i=0;i<t.length;i++){let a=t[i];for(let o=0;o<r.length;o++){let s=r[o];n.set(i,o,this.get(a,s))}}return n}trace(){let t=Math.min(this.rows,this.columns),r=0;for(let n=0;n<t;n++)r+=this.get(n,n);return r}clone(){let t=new hn(this.rows,this.columns);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.set(r,n,this.get(r,n));return t}sum(t){switch(t){case"row":return l5e(this);case"column":return u5e(this);case void 0:return f5e(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return c5e(this);case"column":return h5e(this);case void 0:return v5e(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){let r=this.sum(t);switch(t){case"row":{for(let n=0;n<this.rows;n++)r[n]/=this.columns;return r}case"column":{for(let n=0;n<this.columns;n++)r[n]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");let{unbiased:n=!0,mean:i=this.mean(t)}=r;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!la(i))throw new TypeError("mean must be an array");return d5e(this,n,i)}case"column":{if(!la(i))throw new TypeError("mean must be an array");return p5e(this,n,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return g5e(this,n,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,r){typeof t=="object"&&(r=t,t=void 0);let n=this.variance(t,r);if(t===void 0)return Math.sqrt(n);for(let i=0;i<n.length;i++)n[i]=Math.sqrt(n[i]);return n}center(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");let{center:n=this.mean(t)}=r;switch(t){case"row":{if(!la(n))throw new TypeError("center must be an array");return m5e(this,n),this}case"column":{if(!la(n))throw new TypeError("center must be an array");return y5e(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return x5e(this,n),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");let n=r.scale;switch(t){case"row":{if(n===void 0)n=b5e(this);else if(!la(n))throw new TypeError("scale must be an array");return w5e(this,n),this}case"column":{if(n===void 0)n=_5e(this);else if(!la(n))throw new TypeError("scale must be an array");return T5e(this,n),this}case void 0:{if(n===void 0)n=A5e(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return M5e(this,n),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return _9(this,t)}};Kn.prototype.klass="Matrix";typeof Symbol<"u"&&(Kn.prototype[Symbol.for("nodejs.util.inspect.custom")]=i5e);function k5e(e,t){return e-t}function p2t(e){return e.every(t=>typeof t=="number")}Kn.random=Kn.rand;Kn.randomInt=Kn.randInt;Kn.diagonal=Kn.diag;Kn.prototype.diagonal=Kn.prototype.diag;Kn.identity=Kn.eye;Kn.prototype.negate=Kn.prototype.neg;Kn.prototype.tensorProduct=Kn.prototype.kroneckerProduct;var hn=class extends Kn{constructor(t,r){if(super(),hn.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(r)&&r>=0)for(let n=0;n<t;n++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(la(t)){let n=t;if(t=n.length,r=t?n[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(n[i].length!==r)throw new RangeError("Inconsistent array dimensions");if(!p2t(n[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=r}set(t,r,n){return this.data[t][r]=n,this}get(t,r){return this.data[t][r]}removeRow(t){return cc(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,r){return r===void 0&&(r=t,t=this.rows),cc(this,t,!0),r=Float64Array.from(zg(this,r)),this.data.splice(t,0,r),this.rows+=1,this}removeColumn(t){hc(this,t);for(let r=0;r<this.rows;r++){let n=new Float64Array(this.columns-1);for(let i=0;i<t;i++)n[i]=this.data[r][i];for(let i=t+1;i<this.columns;i++)n[i-1]=this.data[r][i];this.data[r]=n}return this.columns-=1,this}addColumn(t,r){typeof r>"u"&&(r=t,t=this.columns),hc(this,t,!0),r=Og(this,r);for(let n=0;n<this.rows;n++){let i=new Float64Array(this.columns+1),a=0;for(;a<t;a++)i[a]=this.data[n][a];for(i[a++]=r[n];a<this.columns+1;a++)i[a]=this.data[n][a-1];this.data[n]=i}return this.columns+=1,this}};a5e(Kn,hn);var Vw=class extends Kn{constructor(t,r,n){super(),this.matrix=t,this.rows=r,this.columns=n}};var Hg=class extends Vw{constructor(t){super(t,t.columns,t.rows)}set(t,r,n){return this.matrix.set(r,t,n),this}get(t,r){return this.matrix.get(r,t)}};var vc=class extends Kn{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,r,n){return this.data[t][r]=n,this}get(t,r){return this.data[t][r]}};var Gw=class{constructor(t){t=vc.checkMatrix(t);let r=t.clone(),n=r.rows,i=r.columns,a=new Float64Array(n),o=1,s,l,u,f,c,h,v,b,y;for(s=0;s<n;s++)a[s]=s;for(b=new Float64Array(n),l=0;l<i;l++){for(s=0;s<n;s++)b[s]=r.get(s,l);for(s=0;s<n;s++){for(y=Math.min(s,l),c=0,u=0;u<y;u++)c+=r.get(s,u)*b[u];b[s]-=c,r.set(s,l,b[s])}for(f=l,s=l+1;s<n;s++)Math.abs(b[s])>Math.abs(b[f])&&(f=s);if(f!==l){for(u=0;u<i;u++)h=r.get(f,u),r.set(f,u,r.get(l,u)),r.set(l,u,h);v=a[f],a[f]=a[l],a[l]=v,o=-o}if(l<n&&r.get(l,l)!==0)for(s=l+1;s<n;s++)r.set(s,l,r.get(s,l)/r.get(l,l))}this.LU=r,this.pivotVector=a,this.pivotSign=o}isSingular(){let t=this.LU,r=t.columns;for(let n=0;n<r;n++)if(t.get(n,n)===0)return!0;return!1}solve(t){t=hn.checkMatrix(t);let r=this.LU;if(r.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i=t.columns,a=t.subMatrixRow(this.pivotVector,0,i-1),o=r.columns,s,l,u;for(u=0;u<o;u++)for(s=u+1;s<o;s++)for(l=0;l<i;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*r.get(s,u));for(u=o-1;u>=0;u--){for(l=0;l<i;l++)a.set(u,l,a.get(u,l)/r.get(u,u));for(s=0;s<u;s++)for(l=0;l<i;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*r.get(s,u))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let r=this.pivotSign,n=t.columns;for(let i=0;i<n;i++)r*=t.get(i,i);return r}get lowerTriangularMatrix(){let t=this.LU,r=t.rows,n=t.columns,i=new hn(r,n);for(let a=0;a<r;a++)for(let o=0;o<n;o++)a>o?i.set(a,o,t.get(a,o)):a===o?i.set(a,o,1):i.set(a,o,0);return i}get upperTriangularMatrix(){let t=this.LU,r=t.rows,n=t.columns,i=new hn(r,n);for(let a=0;a<r;a++)for(let o=0;o<n;o++)a<=o?i.set(a,o,t.get(a,o)):i.set(a,o,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}};function rd(e,t){let r=0;return Math.abs(e)>Math.abs(t)?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):t!==0?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0}var Yw=class{constructor(t){t=vc.checkMatrix(t);let r=t.clone(),n=t.rows,i=t.columns,a=new Float64Array(i),o,s,l,u;for(l=0;l<i;l++){let f=0;for(o=l;o<n;o++)f=rd(f,r.get(o,l));if(f!==0){for(r.get(l,l)<0&&(f=-f),o=l;o<n;o++)r.set(o,l,r.get(o,l)/f);for(r.set(l,l,r.get(l,l)+1),s=l+1;s<i;s++){for(u=0,o=l;o<n;o++)u+=r.get(o,l)*r.get(o,s);for(u=-u/r.get(l,l),o=l;o<n;o++)r.set(o,s,r.get(o,s)+u*r.get(o,l))}}a[l]=-f}this.QR=r,this.Rdiag=a}solve(t){t=hn.checkMatrix(t);let r=this.QR,n=r.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let i=t.columns,a=t.clone(),o=r.columns,s,l,u,f;for(u=0;u<o;u++)for(l=0;l<i;l++){for(f=0,s=u;s<n;s++)f+=r.get(s,u)*a.get(s,l);for(f=-f/r.get(u,u),s=u;s<n;s++)a.set(s,l,a.get(s,l)+f*r.get(s,u))}for(u=o-1;u>=0;u--){for(l=0;l<i;l++)a.set(u,l,a.get(u,l)/this.Rdiag[u]);for(s=0;s<u;s++)for(l=0;l<i;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*r.get(s,u))}return a.subMatrix(0,o-1,0,i-1)}isFullRank(){let t=this.QR.columns;for(let r=0;r<t;r++)if(this.Rdiag[r]===0)return!1;return!0}get upperTriangularMatrix(){let t=this.QR,r=t.columns,n=new hn(r,r),i,a;for(i=0;i<r;i++)for(a=0;a<r;a++)i<a?n.set(i,a,t.get(i,a)):i===a?n.set(i,a,this.Rdiag[i]):n.set(i,a,0);return n}get orthogonalMatrix(){let t=this.QR,r=t.rows,n=t.columns,i=new hn(r,n),a,o,s,l;for(s=n-1;s>=0;s--){for(a=0;a<r;a++)i.set(a,s,0);for(i.set(s,s,1),o=s;o<n;o++)if(t.get(s,s)!==0){for(l=0,a=s;a<r;a++)l+=t.get(a,s)*i.get(a,o);for(l=-l/t.get(s,s),a=s;a<r;a++)i.set(a,o,i.get(a,o)+l*t.get(a,s))}}return i}};var Ww=class{constructor(t,r={}){if(t=vc.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,i=t.columns,{computeLeftSingularVectors:a=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=r,l=Boolean(a),u=Boolean(o),f=!1,c;if(n<i)if(!s)c=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=t.transpose(),n=c.rows,i=c.columns,f=!0;let S=l;l=u,u=S}else c=t.clone();let h=Math.min(n,i),v=Math.min(n+1,i),b=new Float64Array(v),y=new hn(n,h),x=new hn(i,i),m=new Float64Array(i),_=new Float64Array(n),g=new Float64Array(v);for(let S=0;S<v;S++)g[S]=S;let A=Math.min(n-1,i),w=Math.max(0,Math.min(i-2,n)),k=Math.max(A,w);for(let S=0;S<k;S++){if(S<A){b[S]=0;for(let E=S;E<n;E++)b[S]=rd(b[S],c.get(E,S));if(b[S]!==0){c.get(S,S)<0&&(b[S]=-b[S]);for(let E=S;E<n;E++)c.set(E,S,c.get(E,S)/b[S]);c.set(S,S,c.get(S,S)+1)}b[S]=-b[S]}for(let E=S+1;E<i;E++){if(S<A&&b[S]!==0){let L=0;for(let D=S;D<n;D++)L+=c.get(D,S)*c.get(D,E);L=-L/c.get(S,S);for(let D=S;D<n;D++)c.set(D,E,c.get(D,E)+L*c.get(D,S))}m[E]=c.get(S,E)}if(l&&S<A)for(let E=S;E<n;E++)y.set(E,S,c.get(E,S));if(S<w){m[S]=0;for(let E=S+1;E<i;E++)m[S]=rd(m[S],m[E]);if(m[S]!==0){m[S+1]<0&&(m[S]=0-m[S]);for(let E=S+1;E<i;E++)m[E]/=m[S];m[S+1]+=1}if(m[S]=-m[S],S+1<n&&m[S]!==0){for(let E=S+1;E<n;E++)_[E]=0;for(let E=S+1;E<n;E++)for(let L=S+1;L<i;L++)_[E]+=m[L]*c.get(E,L);for(let E=S+1;E<i;E++){let L=-m[E]/m[S+1];for(let D=S+1;D<n;D++)c.set(D,E,c.get(D,E)+L*_[D])}}if(u)for(let E=S+1;E<i;E++)x.set(E,S,m[E])}}let p=Math.min(i,n+1);if(A<i&&(b[A]=c.get(A,A)),n<p&&(b[p-1]=0),w+1<p&&(m[w]=c.get(w,p-1)),m[p-1]=0,l){for(let S=A;S<h;S++){for(let E=0;E<n;E++)y.set(E,S,0);y.set(S,S,1)}for(let S=A-1;S>=0;S--)if(b[S]!==0){for(let E=S+1;E<h;E++){let L=0;for(let D=S;D<n;D++)L+=y.get(D,S)*y.get(D,E);L=-L/y.get(S,S);for(let D=S;D<n;D++)y.set(D,E,y.get(D,E)+L*y.get(D,S))}for(let E=S;E<n;E++)y.set(E,S,-y.get(E,S));y.set(S,S,1+y.get(S,S));for(let E=0;E<S-1;E++)y.set(E,S,0)}else{for(let E=0;E<n;E++)y.set(E,S,0);y.set(S,S,1)}}if(u)for(let S=i-1;S>=0;S--){if(S<w&&m[S]!==0)for(let E=S+1;E<i;E++){let L=0;for(let D=S+1;D<i;D++)L+=x.get(D,S)*x.get(D,E);L=-L/x.get(S+1,S);for(let D=S+1;D<i;D++)x.set(D,E,x.get(D,E)+L*x.get(D,S))}for(let E=0;E<i;E++)x.set(E,S,0);x.set(S,S,1)}let d=p-1,M=0,T=Number.EPSILON;for(;p>0;){let S,E;for(S=p-2;S>=-1&&S!==-1;S--){let L=Number.MIN_VALUE+T*Math.abs(b[S]+Math.abs(b[S+1]));if(Math.abs(m[S])<=L||Number.isNaN(m[S])){m[S]=0;break}}if(S===p-2)E=4;else{let L;for(L=p-1;L>=S&&L!==S;L--){let D=(L!==p?Math.abs(m[L]):0)+(L!==S+1?Math.abs(m[L-1]):0);if(Math.abs(b[L])<=T*D){b[L]=0;break}}L===S?E=3:L===p-1?E=1:(E=2,S=L)}switch(S++,E){case 1:{let L=m[p-2];m[p-2]=0;for(let D=p-2;D>=S;D--){let R=rd(b[D],L),q=b[D]/R,C=L/R;if(b[D]=R,D!==S&&(L=-C*m[D-1],m[D-1]=q*m[D-1]),u)for(let F=0;F<i;F++)R=q*x.get(F,D)+C*x.get(F,p-1),x.set(F,p-1,-C*x.get(F,D)+q*x.get(F,p-1)),x.set(F,D,R)}break}case 2:{let L=m[S-1];m[S-1]=0;for(let D=S;D<p;D++){let R=rd(b[D],L),q=b[D]/R,C=L/R;if(b[D]=R,L=-C*m[D],m[D]=q*m[D],l)for(let F=0;F<n;F++)R=q*y.get(F,D)+C*y.get(F,S-1),y.set(F,S-1,-C*y.get(F,D)+q*y.get(F,S-1)),y.set(F,D,R)}break}case 3:{let L=Math.max(Math.abs(b[p-1]),Math.abs(b[p-2]),Math.abs(m[p-2]),Math.abs(b[S]),Math.abs(m[S])),D=b[p-1]/L,R=b[p-2]/L,q=m[p-2]/L,C=b[S]/L,F=m[S]/L,N=((R+D)*(R-D)+q*q)/2,U=D*q*(D*q),V=0;(N!==0||U!==0)&&(N<0?V=0-Math.sqrt(N*N+U):V=Math.sqrt(N*N+U),V=U/(N+V));let Y=(C+D)*(C-D)+V,K=C*F;for(let B=S;B<p-1;B++){let z=rd(Y,K);z===0&&(z=Number.MIN_VALUE);let j=Y/z,ae=K/z;if(B!==S&&(m[B-1]=z),Y=j*b[B]+ae*m[B],m[B]=j*m[B]-ae*b[B],K=ae*b[B+1],b[B+1]=j*b[B+1],u)for(let ee=0;ee<i;ee++)z=j*x.get(ee,B)+ae*x.get(ee,B+1),x.set(ee,B+1,-ae*x.get(ee,B)+j*x.get(ee,B+1)),x.set(ee,B,z);if(z=rd(Y,K),z===0&&(z=Number.MIN_VALUE),j=Y/z,ae=K/z,b[B]=z,Y=j*m[B]+ae*b[B+1],b[B+1]=-ae*m[B]+j*b[B+1],K=ae*m[B+1],m[B+1]=j*m[B+1],l&&B<n-1)for(let ee=0;ee<n;ee++)z=j*y.get(ee,B)+ae*y.get(ee,B+1),y.set(ee,B+1,-ae*y.get(ee,B)+j*y.get(ee,B+1)),y.set(ee,B,z)}m[p-2]=Y,M=M+1;break}case 4:{if(b[S]<=0&&(b[S]=b[S]<0?-b[S]:0,u))for(let L=0;L<=d;L++)x.set(L,S,-x.get(L,S));for(;S<d&&!(b[S]>=b[S+1]);){let L=b[S];if(b[S]=b[S+1],b[S+1]=L,u&&S<i-1)for(let D=0;D<i;D++)L=x.get(D,S+1),x.set(D,S+1,x.get(D,S)),x.set(D,S,L);if(l&&S<n-1)for(let D=0;D<n;D++)L=y.get(D,S+1),y.set(D,S+1,y.get(D,S)),y.set(D,S,L);S++}M=0,p--;break}}}if(f){let S=x;x=y,y=S}this.m=n,this.n=i,this.s=b,this.U=y,this.V=x}solve(t){let r=t,n=this.threshold,i=this.s.length,a=hn.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=n?a.set(h,h,0):a.set(h,h,1/this.s[h]);let o=this.U,s=this.rightSingularVectors,l=s.mmul(a),u=s.rows,f=o.rows,c=hn.zeros(u,f);for(let h=0;h<u;h++)for(let v=0;v<f;v++){let b=0;for(let y=0;y<i;y++)b+=l.get(h,y)*o.get(v,y);c.set(h,v,b)}return c.mmul(r)}solveForDiagonal(t){return this.solve(hn.diag(t))}inverse(){let t=this.V,r=this.threshold,n=t.rows,i=t.columns,a=new hn(n,this.s.length);for(let f=0;f<n;f++)for(let c=0;c<i;c++)Math.abs(this.s[c])>r&&a.set(f,c,t.get(f,c)/this.s[c]);let o=this.U,s=o.rows,l=o.columns,u=new hn(n,s);for(let f=0;f<n;f++)for(let c=0;c<s;c++){let h=0;for(let v=0;v<l;v++)h+=a.get(f,v)*o.get(c,v);u.set(f,c,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,n=this.s;for(let i=0,a=n.length;i<a;i++)n[i]>t&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return hn.diag(this.s)}};function Xw(e,t,r=!1){return e=vc.checkMatrix(e),t=vc.checkMatrix(t),r?new Ww(e).solve(t):e.isSquare()?new Gw(e).solve(t):new Yw(e).solve(t)}var Ug=class extends ws{constructor(t,r,n){super(),t===!0?(this.degree=r.degree,this.powers=r.powers,this.coefficients=r.coefficients):(ql(t,r),g2t(this,t,r,n))}_predict(t){let r=0;for(let n=0;n<this.powers.length;n++)r+=this.coefficients[n]*Math.pow(t,this.powers[n]);return r}toJSON(){return{name:"polynomialRegression",degree:this.degree,powers:this.powers,coefficients:this.coefficients}}toString(t){return this._toFormula(t,!1)}toLaTeX(t){return this._toFormula(t,!0)}_toFormula(t,r){let n="^",i="",a=" * ";r&&(n="^{",i="}",a="");let o="",s="";for(let l=0;l<this.coefficients.length;l++)s="",this.coefficients[l]!==0&&(this.powers[l]===0?s=Gi(this.coefficients[l],t):this.powers[l]===1?s=`${Gi(this.coefficients[l],t)+a}x`:s=`${Gi(this.coefficients[l],t)+a}x${n}${this.powers[l]}${i}`,this.coefficients[l]>0&&l!==this.coefficients.length-1?s=` + ${s}`:l!==this.coefficients.length-1&&(s=` ${s}`)),o=s+o;return o.charAt(0)==="+"&&(o=o.slice(1)),`f(x) = ${o}`}static load(t){if(t.name!=="polynomialRegression")throw new TypeError("not a polynomial regression model");return new Ug(!0,t)}};function g2t(e,t,r,n){let i=t.length,a;if(Array.isArray(n))a=n,n=a.length;else{n++,a=new Array(n);for(let c=0;c<n;c++)a[c]=c}let o=new hn(i,n),s=new hn([r]);for(let c=0;c<n;c++)for(let h=0;h<i;h++)a[c]===0?o.set(h,c,1):o.set(h,c,Math.pow(t[h],a[c]));let l=new Hg(o),u=l.mmul(o),f=l.mmul(new Hg(s));e.degree=n-1,e.powers=a,e.coefficients=Xw(u,f).to1DArray()}var jg=class extends ws{constructor(t,r){super(),t===!0?(this.A=r.A,this.B=r.B):(ql(t,r),m2t(this,t,r))}_predict(t){return this.A*Math.pow(t,this.B)}toJSON(){return{name:"powerRegression",A:this.A,B:this.B}}toString(t){return`f(x) = ${Gi(this.A,t)} * x^${Gi(this.B,t)}`}toLaTeX(t){let r="";return this.B>=0?r=`f(x) = ${Gi(this.A,t)}x^{${Gi(this.B,t)}}`:r=`f(x) = \\frac{${Gi(this.A,t)}}{x^{${Gi(-this.B,t)}}}`,r=r.replace(/e([+-]?[0-9]+)/g,"e^{$1}"),r}static load(t){if(t.name!=="powerRegression")throw new TypeError("not a power regression model");return new jg(!0,t)}};function m2t(e,t,r){let n=t.length,i=new Array(n),a=new Array(n);for(let s=0;s<n;s++)i[s]=Math.log(t[s]),a[s]=Math.log(r[s]);let o=new fc(i,a);e.A=Math.exp(o.intercept),e.B=o.slope}var Vg=class extends ws{constructor(t,r){super(),t===!0?(this.A=r.A,this.B=r.B):(ql(t,r),y2t(this,t,r))}_predict(t){return this.B*Math.exp(t*this.A)}toJSON(){return{name:"exponentialRegression",A:this.A,B:this.B}}toString(t){return`f(x) = ${Gi(this.B,t)} * e^(${Gi(this.A,t)} * x)`}toLaTeX(t){return this.A>=0?`f(x) = ${Gi(this.B,t)}e^{${Gi(this.A,t)}x}`:`f(x) = \\frac{${Gi(this.B,t)}}{e^{${Gi(-this.A,t)}x}}`}static load(t){if(t.name!=="exponentialRegression")throw new TypeError("not a exponential regression model");return new Vg(!0,t)}};function y2t(e,t,r){let n=t.length,i=new Array(n);for(let o=0;o<n;o++)i[o]=Math.log(r[o]);let a=new fc(t,i);e.A=a.slope,e.B=Math.exp(a.intercept)}var E5e=Dc(S5e());function A9(e){if(!la(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");return(0,E5e.default)(e.slice())}var Gg=class extends ws{constructor(t,r){super(),t===!0?(this.slope=r.slope,this.intercept=r.intercept,this.coefficients=r.coefficients):(ql(t,r),x2t(this,t,r))}toJSON(){return{name:"TheilSenRegression",slope:this.slope,intercept:this.intercept}}_predict(t){return this.slope*t+this.intercept}computeX(t){return(t-this.intercept)/this.slope}toString(t){var r="f(x) = ";if(this.slope){var n=Gi(this.slope,t);if(r+=`${Math.abs(n-1)<1e-5?"":`${n} * `}x`,this.intercept){var i=Math.abs(this.intercept),a=i===this.intercept?"+":"-";r+=` ${a} ${Gi(i,t)}`}}else r+=Gi(this.intercept,t);return r}toLaTeX(t){return this.toString(t)}static load(t){if(t.name!=="TheilSenRegression")throw new TypeError("not a Theil-Sen model");return new Gg(!0,t)}};function x2t(e,t,r){let n=t.length,i=new Array(n*n),a=0;for(let l=0;l<n;++l)for(let u=l+1;u<n;++u)t[l]!==t[u]&&(i[a++]=(r[u]-r[l])/(t[u]-t[l]));i.length=a;let o=A9(i),s=new Array(n);for(let l=0;l<n;++l)s[l]=r[l]-o*t[l];e.slope=o,e.intercept=A9(s),e.coefficients=[e.intercept,e.slope]}function qS(e,t,r){let n=0;for(let i=0;i<t.length;i++)n+=r[i]*Math.pow(e,t[i]);return n}function L5e(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){n[i]=[e[i].y],r[i]=new Array(t.length);for(let a=0;a<t.length;a++)r[i][a]=Math.pow(e[i].x,t[a])}return Xw(r,n).to1DArray()}function C5e(e,t,r){let n=Math.floor(e.length/r),i=new Array(n);for(let a=0;a<e.length;a++){let o=Math.floor(Math.random()*n),s=0;for(;s<e.length;)if(i[o])if(i[o].length<r){i[o].push({x:e[a],y:t[a]});break}else s++,o=(o+1)%n;else{i[o]=[{x:e[a],y:t[a]}];break}if(s===e.length)return i}return i}function D5e(e){e.sort((n,i)=>n.residual-i.residual);let t=e.length,r=Math.floor(t/2);return t%2===0?e[r-1]:e[r]}function q5e(e,t,r,n){let i=Array(n).fill(0).map((s,l)=>l),a=C5e(t,r,n),o;for(let s of a){let l=L5e(s,i),u=[];for(let c=0;c<t.length;c++){let h=r[c]-qS(t[c],i,l);u[c]={residual:h*h,coefficients:l}}let f=D5e(u);(!o||f.residual<o.residual)&&(o=f)}e.degree=n,e.powers=i,e.coefficients=o?o.coefficients:[]}var Hy=class extends ws{constructor(t,r,n){if(super(),la(t))ql(t,r),q5e(this,t,r,n);else{let i="robustPolynomialRegression",a=t;this.degree=a.degree,this.powers=a.powers,this.coefficients=a.coefficients,this.name=i}}toJSON(){return{name:this.name,degree:this.degree,powers:this.powers,coefficients:this.coefficients}}_predict(t){return qS(t,this.powers,this.coefficients)}toString(t){return this._toFormula(t,!1)}toLaTeX(t){return this._toFormula(t,!0)}_toFormula(t,r){let n="^",i="",a=" * ";r&&(n="^{",i="}",a="");let o="",s="",l=this.coefficients,u=this.powers;for(let f=0;f<l.length;f++)s="",l[f]!==0&&(u[f]===0?s=Gi(l[f],t):u[f]===1?s=`${Gi(l[f],t)+a}x`:s=`${Gi(l[f],t)+a}x${n}${u[f]}${i}`,l[f]>0&&f!==l.length-1?s=` + ${s}`:f!==l.length-1&&(s=` ${s}`)),o=s+o;return o.startsWith("+")&&(o=o.slice(1)),`f(x) = ${o}`}static load(t){if(t.name!=="robustPolynomialRegression")throw new TypeError("not a RobustPolynomialRegression model");return new Hy(t,void 0,void 0)}};var j9=Dc(VSe()),V9=Dc(S9());var Jw=class extends ws{constructor(r,n,i){super();y_(this,"x0",0);y_(this,"dt",0);y_(this,"filtered",[]);if(r===!0)throw new Error("not implemented");ql(r,n),this._regress(r,n,i)}_regress(r,n,i){var a=(0,V9.default)(new Float64Array(n)),o=(0,V9.default)(new Float64Array(Array(n.length).fill(0)));(0,j9.default)(1,a,o),this.x0=r[0],this.dt=(r[r.length-1]-r[0])/r.length;let s=Array.from(a.data).map((l,u)=>[l,u]).sort((l,u)=>u[0]-l[0]);for(let l=i;l<s.length;l++)a.set(s[l][1],0),o.set(s[l][1],0);(0,j9.default)(-1,a,o),this.filtered=a.data}toJSON(){throw new Error("not implemented")}_predict(r){return this.filtered[Math.round((r-this.x0)/this.dt)%this.filtered.length]}computeX(r){return"not implemented"}toString(r){return"not implemented"}toLaTeX(r){return this.toString(r)}static load(r){throw new Error("not implemented")}};var W9=e=>parseFloat(e),Qw=typeof window!="undefined"?window.eval:global.eval,Wy=(e,t)=>e.map((r,n)=>{let i=W9(r);return Number.isNaN(i)?r:t(i,n)}),e_=({xs:e,ys:t,states:r,statistics:n,...i})=>{let a=t.map(s=>W9(s)),o=a.map(s=>!isNaN(s));return{ys:a.filter((s,l)=>o[l]),xs:e.filter((s,l)=>o[l]),states:r.filter((s,l)=>o[l]),statistics:n.filter((s,l)=>o[l]),...i}},qwt={force_numeric:()=>e_,add:e=>({ys:t})=>({ys:Wy(t,r=>r+e)}),multiply:e=>({ys:t})=>({ys:Wy(t,r=>r*e)}),calibrate_linear:e=>({ys:t,meta:r})=>{let n=e.map(a=>a.split("->").map(parseFloat)),i=new fc(n.map(([a,o])=>a),n.map(([a,o])=>o));return{ys:i.predict(t.map(W9)),meta:{...r,regression:i}}},deduplicate_adjacent:()=>({xs:e,ys:t,states:r,statistics:n})=>{let i=t.map((a,o)=>a!==t[o-1]);return{ys:t.filter((a,o)=>i[o]),xs:e.filter((a,o)=>i[o]),states:r.filter((a,o)=>i[o]),statistics:n.filter((a,o)=>i[o])}},delta:()=>({ys:e,meta:t,xs:r,statistics:n,states:i})=>{let a={y:NaN};return{meta:{...t,unit_of_measurement:`\u0394${t.unit_of_measurement}`},ys:Wy(e,o=>{let s=o-a.y;return a.y=o,s}).slice(1),xs:r.slice(1),statistics:n.slice(1),states:i.slice(1)}},derivate:(e="h")=>({xs:t,ys:r,meta:n})=>{let i={x:+t[0],y:NaN};return G9(e),G9(e),{meta:{...n,unit_of_measurement:`${n.unit_of_measurement}/${e}`},xs:t,ys:Wy(r,(a,o)=>{let s=+t[o],l=(s-i.x)/By[e],u=(a-i.y)/l;return i.y=a,i.x=s,u})}},integrate:(e="h")=>{var s,l,u;let t=typeof e=="string"?{unit:e}:e;console.log("param",t);let r=(s=t.unit)!=null?s:"h",n=iu((l=t.reset_every)!=null?l:"0s"),i=iu((u=t.offset)!=null?u:"0s");G9(r);let a=new Date;a.setHours(0),a.setMinutes(0),a.setSeconds(0);let o=+a+i;return({xs:f,ys:c,meta:h})=>{let v=0,b={x:NaN,laps:0,y:0};return{meta:{...h,unit_of_measurement:`${h.unit_of_measurement}${r}`},xs:f,ys:Wy(c,(y,x)=>{let m=+f[x];if(n>0){let A=Math.floor((m-o)/n);A!==b.laps&&(v=0,b.laps=A)}let _=(m-b.x)/By[r],g=isNaN(b.x);return b.x=m,g?NaN:(v+=b.y*_,b.y=y,v)})}}},sliding_window_moving_average:({window_size:e=10,extended:t=!1,centered:r=!0}={})=>n=>{let{xs:i,ys:a,...o}=e_(n),s=[],l=[],u={y:0,count:0,x:0};for(let f=0;f<a.length+e;f++)f<a.length&&(u.x+=+i[f],u.y+=a[f],u.count++),f>=e&&(u.x-=+i[f-e],u.y-=a[f-e],u.count--),(f>=e&&f<a.length||t)&&(r?l.push(new Date(u.x/u.count)):l.push(i[f]),s.push(u.y/u.count));return{xs:l,ys:s,...o}},median:({window_size:e=10,extended:t=!1,centered:r=!0}={})=>n=>{let{xs:i,ys:a,...o}=e_(n),s=[],l=[],u={ys:[],x:0};for(let f=0;f<a.length+e;f++)if(f<a.length&&(u.x+=+i[f],u.ys.push(a[f])),f>=e&&(u.x-=+i[f-e],u.ys.shift()),f>=e&&f<a.length||t){r?l.push(new Date(u.x/u.ys.length)):l.push(i[f]);let c=u.ys.slice().sort(),h=Math.floor(c.length/2),v=Math.ceil(c.length/2);s.push((c[h]+c[v])/2)}return{ys:s,xs:l,...o}},exponential_moving_average:({alpha:e=.1}={})=>t=>{let{ys:r,...n}=e_(t),i=r[0];return{ys:r.map(a=>i=i*(1-e)+a*e),...n}},map_y_numbers:e=>{let t=Qw(`(i, x, y, state, statistic, xs, ys, states, statistics, meta, vars, hass) => ${e}`);return({xs:r,ys:n,states:i,statistics:a,meta:o,vars:s,hass:l})=>({xs:r,ys:Wy(n,(u,f)=>t(f,r[f],n[f],i[f],a[f],r,n,i,a,o,s,l))})},map_y:e=>{let t=Qw(`(i, x, y, state, statistic, xs, ys, states, statistics, meta, vars, hass) => ${e}`);return({xs:r,ys:n,states:i,statistics:a,meta:o,vars:s,hass:l})=>({xs:r,ys:n.map((u,f)=>t(f,r[f],n[f],i[f],a[f],r,n,i,a,o,s,l))})},map_x:e=>{let t=Qw(`(i, x, y, state, statistic, xs, ys, states, statistics, meta, vars, hass) => ${e}`);return({xs:r,ys:n,states:i,statistics:a,meta:o,vars:s,hass:l})=>({ys:n,xs:r.map((u,f)=>t(f,r[f],n[f],i[f],a[f],r,n,i,a,o,s,l))})},resample:(e="5m")=>({xs:t,ys:r,states:n,statistics:i})=>{let a={xs:[],ys:[],states:[],statistics:[]},o=iu(e),s=Math.floor(+t[0]/o)*o,l=+t[t.length-1],u=0;for(let f=s;f<l;f+=o){for(;+t[u+1]<f&&u<t.length-1;)u++;a.xs.push(new Date(f)),a.ys.push(r[u]),n[u]&&a.states.push(n[u]),i[u]&&a.statistics.push(i[u])}return a},load_var:e=>({vars:t})=>t[e],store_var:e=>({vars:t,xs:r,ys:n,states:i,statistics:a,meta:o})=>({vars:{...t,[e]:{xs:r,ys:n,states:i,statistics:a,meta:o}}}),trendline:(e="linear")=>{var i,a,o,s,l;let t={};typeof e=="string"?t={type:e}:t={...e},(i=t.type)!=null||(t.type="linear"),(a=t.forecast)!=null||(t.forecast="0s"),(o=t.show_formula)!=null||(t.show_formula=!1),(s=t.show_r2)!=null||(t.show_r2=!1),(l=t.degree)!=null||(t.degree=2);let r=t,n=iu(r.forecast);return u=>{let{xs:f,ys:c,meta:h,...v}=e_(u),b=+f[0]-.1,y=+f[f.length-1],x=f.map(w=>+w-b),m=Y9[r.type];if(!m)throw new Error(`Trendline '${r.type}' doesn't exist. Did you mean <b>${(0,GSe.default)(r.type,Object.keys(Y9))}<b>?
Others: ${Object.keys(Y9)}`);let _=new m(x,c,r.degree),g=[];if(r.show_r2&&g.push(`r\xB2=${Rwt(_.score(x,c).r2,2)}`),n>0){let w=Math.round(x.length/(x[x.length-1]-x[0])*n);x.push(...Array.from({length:w}).map((k,p)=>y-b+n/w*p))}let A=_.predict(x);return r.show_formula&&g.push(_.toString(2)),{...v,xs:x.map(w=>new Date(w+b)),ys:A,meta:{...h,friendly_name:"Trend"+(g.length?` (${g.join(", ")})`:"")}}}},fn:e=>Qw(e),filter:e=>{let t=Qw(`(i, x, y, state, statistic, xs, ys, states, statistics, meta, vars, hass) => ${e}`);return({xs:r,ys:n,states:i,statistics:a,meta:o,vars:s,hass:l})=>{let u=n.map((f,c)=>t(c,r[c],n[c],i[c],a[c],r,n,i,a,o,s,l));return{ys:n.filter((f,c)=>u[c]),xs:r.filter((f,c)=>u[c]),states:i.filter((f,c)=>u[c]),statistics:a.filter((f,c)=>u[c])}}}},US=qwt;function G9(e){if(!By[e])throw new Error(`Unit '${e}' is not valid, use ${Object.keys(By)}`)}var Y9={linear:fc,polynomial:Ug,power:jg,exponential:Vg,theil_sen:Gg,robust_polynomial:Hy,fft:Jw};function Rwt(e,t){return Math.round(e*10**t)/10**t}var Z9=Dc(WSe()),KSe=Dc(MS());function X9(e,t){let r=Owt(e,t);return r?new Error(`at [${e}]: ${r}`):null}function Owt(e,t){if(e.match(/^no_theme$/))return"renamed to ha_theme (inverted logic) in v3.0.0";if(e.match(/^no_default_layout$/))return"replaced with more general raw_plotly_config in v3.0.0";if(e.match(/^offset$/))return"renamed to time_offset in v3.0.0";if(e.match(/^entities\.\d+\.offset$/))try{return iu(t),'renamed to time_offset in v3.0.0 to avoid conflicts with <a href="https://plotly.com/javascript/reference/bar/#bar-offset">bar-offsets</a>'}catch(r){}return e.match(/^entities\.\d+\.lambda$/)?"removed in v3.0.0, use filters instead":e.match(/^entities\.\d+\.show_value\.right_margin$/)?"removed in v3.0.0, use `true` and set the global `time_offset` or `layout.margins.r` to make space at the right. ":e.match(/^significant_changes_only$/)?"removed in v3.0.0, it is now always set to false":e.match(/^minimal_response$/)?"removed in v3.0.0, if you need attributes use the 'attribute' parameter instead.":null}var jS=class{constructor(){this.yaml={};this.cache=new Bw;this.busy=!1;this.observed_range=[Date.now(),Date.now()]}resetObservedRange(){this.observed_range=[Date.now(),Date.now()]}async update(t){if(this.busy)throw new Error("ParseConfig was updated while busy");this.busy=!0;try{return this._update(t)}finally{this.busy=!1}}async _update({yaml:t,hass:r,css_vars:n}){var i;this.yaml={},this.errors=[],this.hass=r,this.yaml_with_defaults=Zke(t,n),this.fnParam={vars:{},path:"",hass:r,css_vars:n,getFromConfig:()=>""};for(let[a,o]of Object.entries(this.yaml_with_defaults))try{await this.evalNode({parent:this.yaml,path:a,key:a,value:o})}catch(s){console.warn(`Plotly Graph Card: Error parsing [${a}]`,s),(i=this.errors)==null||i.push(s)}return this.yaml=$ke(this.yaml),{errors:this.errors,parsed:this.yaml}}async evalNode({parent:t,path:r,key:n,value:i}){var o,s,l,u,f;if(r.match(/^defaults$/))return;if(this.fnParam.path=r,this.fnParam.getFromConfig=c=>this.getEvaledPath(c,r),!this.fnParam.xs&&r.match(/^entities\.\d+\./)&&!r.match(/^entities\.\d+\.(entity|attribute|time_offset|statistic|period)/)&&(XSe(i)||r.match(/^entities\.\d+\.filters\.\d+$/))){let c=r.match(/^(entities\.\d+)\./)[1];await this.fetchDataForEntity(c)}typeof i=="string"&&i.startsWith("$fn")&&(i=Bwt(i.slice(3)));let a=X9(r,i);if(a&&((o=this.errors)==null||o.push(a)),typeof i=="function")t[n]=i=i(this.fnParam);else if(Hwt(i)){let c=Array.isArray(i)?[]:{};t[n]=c;for(let[h,v]of Object.entries(i)){let b=`${r}.${h}`;try{await this.evalNode({parent:c,path:b,key:h,value:v})}catch(y){console.warn(`Plotly Graph Card: Error parsing [${b}]`,y),(s=this.errors)==null||s.push(new Error(`at [${b}]: ${(y==null?void 0:y.message)||y}`))}}}else t[n]=i;if(r.match(/^entities\.\d+\.filters\.\d+$/)&&this.evalFilter({parent:t,path:r,key:n,value:i}),r.match(/^entities\.\d+$/)){this.fnParam.xs||await this.fetchDataForEntity(r);let c=t[n];this.fnParam.getFromConfig("raw_plotly_config")||(c.x||(c.x=this.fnParam.xs),c.y||(c.y=this.fnParam.ys),c.x.length===0&&c.y.length===0&&(c.x=[new Date],c.y=[null])),delete this.fnParam.xs,delete this.fnParam.ys,delete this.fnParam.statistics,delete this.fnParam.states,delete this.fnParam.meta}if(r.match(/^entities$/)){t[n]=t[n].filter(({internal:v})=>!v);let c=t[n],h=c.length;for(let v=0;v<h;v++){let b=c[v];b.show_value&&((l=b.legendgroup)!=null||(b.legendgroup="group"+v),c.push({texttemplate:`%{y:.2~f} ${this.fnParam.getFromConfig(`entities.${v}.unit_of_measurement`)}`,...b,cliponaxis:!1,mode:"text+markers",showlegend:!1,hoverinfo:"skip",textposition:"middle right",marker:{color:(u=b.line)==null?void 0:u.color},textfont:{color:(f=b.line)==null?void 0:f.color},x:b.x.slice(-1),y:b.y.slice(-1)}))}}}async fetchDataForEntity(t){var h,v,b;let r=this.fnParam.getFromConfig("visible_range");if(!r){let y=iu(this.fnParam.getFromConfig("time_offset")),x=this.fnParam.getFromConfig("hours_to_show");if(Jke(x)){let[m,_]=x9(x);r=[m+y,_+y]}else{let m;if(Kke(x))m=iu(x);else if(typeof x=="number")m=x*60*60*1e3;else throw new Error(`${x} is not a valid duration. Use numbers, durations (e.g 1d) or dynamic time (e.g current_day)`);r=[+new Date-m+y,+new Date+y]}this.yaml.visible_range=r}this.fnParam.getFromConfig("autorange_after_scroll")&&(this.observed_range=r.slice()),this.observed_range[0]=Math.min(this.observed_range[0],r[0]),this.observed_range[1]=Math.max(this.observed_range[1],r[1]);let n=Qke(r,this.fnParam.getFromConfig(t+".statistic"),this.fnParam.getFromConfig(t+".period")),i=this.fnParam.getFromConfig(t+".attribute"),a={entity:this.fnParam.getFromConfig(t+".entity"),...n||(i?{attribute:i}:{})},o=iu(this.fnParam.getFromConfig(t+".time_offset")),s=[r[0]-o,r[1]-o],l=this.fnParam.getFromConfig("fetch_mask"),u=ES(t),f=l[u]===!1?this.cache.getData(a):await this.cache.fetch(s,a,this.hass),c=(h=this.fnParam.getFromConfig(t+".extend_to_present"))!=null?h:!n;if(f.xs=f.xs.map(y=>new Date(+y+o)),Uwt(f,this.observed_range),c&&f.xs.length>0){let y=f.xs.length-1,x=Math.min(this.observed_range[1],Date.now());f.xs.push(new Date(Math.min(this.observed_range[1],x+o))),f.ys.push(f.ys[y]),f.states.length&&f.states.push(f.states[y]),f.statistics.length&&f.statistics.push(f.statistics[y])}this.fnParam.xs=f.xs,this.fnParam.ys=f.ys,this.fnParam.statistics=f.statistics,this.fnParam.states=f.states,this.fnParam.meta=((b=(v=this.hass)==null?void 0:v.states[a.entity])==null?void 0:b.attributes)||{}}getEvaledPath(t,r){if(t.startsWith(".")&&(t=r.split(".").slice(0,-1).concat(t.slice(1).split(".")).join(".")),(0,KSe.has)(this.yaml,t))return(0,$Se.default)(this.yaml,t);let n=this.yaml_with_defaults;for(let i of t.split(".")){if(n===void 0)return;if(n=n[i],XSe(n))throw new Error(`Since [${t}] is a $fn, it has to be defined before [${r}]`)}return n}evalFilter(t){let r=t.value,n,i=null;typeof r=="string"?n=r:(n=Object.keys(r)[0],i=Object.values(r)[0]);let a=US[n];if(!a)throw new Error(`Filter '${n}' doesn't exist. Did you mean <b>${(0,ZSe.default)(n,Object.keys(US))}<b>?
Others: ${Object.keys(US)}`);let o=i===null?a():a(i);try{let s=o(this.fnParam);for(let l in s)this.fnParam[l]=s[l]}catch(s){throw console.error(s),new Error(`Error in filter: ${s}`)}}},Bwt=typeof window!="undefined"?window.eval:global.eval;function Hwt(e){return e!==null&&typeof e=="object"&&!(e instanceof Date)}function XSe(e){return typeof e=="function"||typeof e=="string"&&e.startsWith("$fn")}function Uwt(e,t){let r=Z9.default.le(e.xs,new Date(t[0]));r>-1&&(e.xs.splice(0,r),e.xs[0]=new Date(t[0]),e.ys.splice(0,r),e.states.splice(0,r),e.statistics.splice(0,r));let n=Z9.default.gt(e.xs,new Date(t[1]));n>-1&&(e.xs.splice(n),e.ys.splice(n),e.states.splice(n),e.statistics.splice(n))}var ES=e=>+e.match(/entities\.(\d+)/)[1];var QSe=Dc(MS()),K9=zw?"plotly-graph":"plotly-graph-dev";console.info(`%c ${K9.toUpperCase()} %c ${qH} production`,"color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray");var $9=class extends HTMLElement{constructor(){super();this.size={};this.isBrowsing=!1;this.isInternalRelayout=0;this.configParser=new jS;this.pausedRendering=!1;this.handles={};this.enterBrowsingMode=()=>{this.isBrowsing=!0,this.resetButtonEl.classList.remove("hidden")};this.exitBrowsingMode=async()=>{this.isBrowsing=!1,this.resetButtonEl.classList.add("hidden"),this.withoutRelayout(async()=>{this.configParser.resetObservedRange(),await this.plot({should_fetch:!0})})};this.onLegendItemClick=({curveNumber:r,...n})=>this.parsed_config.entities[r].on_legend_click({curveNumber:r,...n});this.onLegendItemDoubleclick=({curveNumber:r,...n})=>this.parsed_config.entities[r].on_legend_dblclick({curveNumber:r,...n});this.onDataClick=({points:r,...n})=>this.parsed_config.entities[r[0].curveNumber].on_click({points:r,...n});this.onDoubleclick=()=>this.parsed_config.on_dblclick();this.onRestyle=async()=>{this.isInternalRelayout||(this.enterBrowsingMode(),await this.plot({should_fetch:!0}))};this.onRelayout=async()=>{this.isInternalRelayout||(this.enterBrowsingMode(),await this.plot({should_fetch:!0}))};this.fetchScheduled=!1;this.plot=async({should_fetch:r},n)=>{r&&(this.fetchScheduled=!0),await this._plot(n)};this._plot=Fke(async()=>{var b;if(this.pausedRendering)return;let r=this.fetchScheduled;this.fetchScheduled=!1;let n=0;for(;!(this.config&&this.hass&&this.isConnected);){if(n++>10)throw new Error("Card didn't load");console.log("waiting for loading"),await aS(100)}let i=this.contentEl.data.map(({visible:y})=>r&&y!=="legendonly"),a=this.isBrowsing?((b=this.contentEl.layout)==null?void 0:b.uirevision)||0:Math.random(),o=(0,QSe.merge)({},this.config,{layout:{...this.size,uirevision:a},fetch_mask:i},this.isBrowsing?{visible_range:this.getVisibleRange()}:{},this.config),{errors:s,parsed:l}=await this.configParser.update({yaml:o,hass:this.hass,css_vars:this.getCSSVars()});this.errorMsgEl.style.display=s.length?"block":"none",this.errorMsgEl.innerHTML=s.map(y=>"<span>"+(y||"See devtools console")+"</span>").join(`
<br />
`),this.parsed_config=l;let{entities:u,layout:f,config:c,refresh_interval:h,autorange_after_scroll:v}=this.parsed_config;clearTimeout(this.handles.refreshTimeout),h!=="auto"&&h>0&&(this.handles.refreshTimeout=window.setTimeout(()=>this.plot({should_fetch:!0}),h*1e3)),this.titleEl.innerText=this.parsed_config.title||"",f.paper_bgcolor&&(this.titleEl.style.background=f.paper_bgcolor),await this.withoutRelayout(async()=>{await iS.react(this.contentEl,u,f,c),v&&await iS.relayout(this.contentEl,{"yaxis.autorange":!0}),this.contentEl.style.visibility=""}),this.handles.dataClick=this.contentEl.on("plotly_click",this.onDataClick)});zw||(window.plotlyGraphCard=this);let r=this.attachShadow({mode:"open"});r.innerHTML=`
        <ha-card>
          <style>
            ha-card{
              overflow: hidden;
              background: transparent;
              width: 100%;
              height: calc(100% - 5px);
              direction: ltr;
            }
            ha-card > #plotly{
              width: 100px;
            }
            ha-card > #title{
              text-align: center;
              background: var(--card-background-color);
              color: var(--secondary-text-color);
              margin: 0;
              padding-top: 10px;
              font-size: 1.2em;
            }
            button#reset.hidden{
              display: none;
            }
            button#reset {
              position: absolute;
              display: block;
              top: 13px;
              left: 15px;
              height: 19px;
              color: rgb(114, 114, 114);
              background: rgb(238, 238, 238);
              border: 0px;
              border-radius: 3px;
            }
            #error-msg {
              position: absolute;
              color: #ffffff;
              top: 0;
              padding: 10px;
              width: calc(100% - 20px);
              background: rgba(203,0,0,0.8);
              overflow-wrap: break-word;
              display: none;
            }
            #error-msg a{
              color: mediumturquoise;
            }
          </style>
          <div id="title"> </div>
          <div id="plotly"> </div>
          <span id="error-msg"> </span>
          <button id="reset" class="hidden">\u21BB</button>
        </ha-card>`,this.errorMsgEl=r.querySelector("#error-msg"),this.cardEl=r.querySelector("ha-card"),this.contentEl=r.querySelector("div#plotly"),this.resetButtonEl=r.querySelector("button#reset"),this.titleEl=r.querySelector("ha-card > #title"),RH(r.querySelector("style")),this.contentEl.style.visibility="hidden",this.touchController=new TS({el:this.contentEl,onZoomStart:()=>{this.pausedRendering=!0},onZoomEnd:()=>{this.pausedRendering=!1,this.plot({should_fetch:!0})}}),this.withoutRelayout(()=>iS.newPlot(this.contentEl,[],{}))}connectedCallback(){let r=async()=>{let n=this.cardEl.offsetWidth;this.contentEl.style.position="absolute";let i=this.cardEl.offsetHeight;this.contentEl.style.position="",this.size={width:n},i>100&&(this.size.height=i-this.titleEl.offsetHeight),this.plot({should_fetch:!1})};this.handles.resizeObserver=new ResizeObserver(r),this.handles.resizeObserver.observe(this.cardEl),r(),this.handles.relayoutListener=this.contentEl.on("plotly_relayout",this.onRelayout),this.handles.restyleListener=this.contentEl.on("plotly_restyle",this.onRestyle),this.handles.legendItemClick=this.contentEl.on("plotly_legendclick",this.onLegendItemClick),this.handles.legendItemDoubleclick=this.contentEl.on("plotly_legenddoubleclick",this.onLegendItemDoubleclick),this.handles.doubleclick=this.contentEl.on("plotly_doubleclick",this.onDoubleclick),this.resetButtonEl.addEventListener("click",this.exitBrowsingMode),this.touchController.connect(),this.plot({should_fetch:!0})}disconnectedCallback(){var r,n,i,a,o,s,l;(r=this.handles.resizeObserver)==null||r.disconnect(),(n=this.handles.relayoutListener)==null||n.off("plotly_relayout",this.onRelayout),(i=this.handles.restyleListener)==null||i.off("plotly_restyle",this.onRestyle),(a=this.handles.legendItemClick)==null||a.off("plotly_legendclick",this.onLegendItemClick),(o=this.handles.legendItemDoubleclick)==null||o.off("plotly_legenddoubleclick",this.onLegendItemDoubleclick),(s=this.handles.dataClick)==null||s.off("plotly_click",this.onDataClick),(l=this.handles.doubleclick)==null||l.off("plotly_doubleclick",this.onDoubleclick),clearTimeout(this.handles.refreshTimeout),this.resetButtonEl.removeEventListener("click",this.exitBrowsingMode),this.touchController.disconnect()}get hass(){return this._hass}set hass(r){var n,i;if(r){if(((n=this.parsed_config)==null?void 0:n.refresh_interval)==="auto"){let a=!1,o=!1;for(let s of this.parsed_config.entities){let l=r.states[s.entity],u=(i=this._hass)==null?void 0:i.states[s.entity];if(l&&u!==l){a=!0;let f=new Date((u==null?void 0:u.last_updated)||l.last_updated),c=new Date(l.last_updated),h=[+f,+c],v=!1;td(s)||Nw(s)?v=!0:Pg(s)&&(o=!0),v&&this.configParser.cache.add(s,[{state:l,x:new Date(c),y:null}],h)}}a&&this.plot({should_fetch:o},500)}this._hass=r}}async withoutRelayout(r){this.isInternalRelayout++,await r(),this.isInternalRelayout--}getVisibleRange(){var r,n;return(n=(r=this.contentEl.layout.xaxis)==null?void 0:r.range)==null?void 0:n.map(i=>Number.isFinite(i)?i:i.startsWith("-")?2*+zy("0000-01-01 00:00:00.000")-+zy(i.slice(1)):+zy(i))}async setConfig(r){let n=this.config;this.config=r;let i=this.config;this.touchController.isEnabled=!i.disable_pinch_to_zoom,this.exitBrowsingMode()}getCSSVars(){let r=window.getComputedStyle(this.contentEl);return(0,JSe.default)({"card-background-color":"red","primary-background-color":"red","primary-color":"red","primary-text-color":"red","secondary-text-color":"red"},(i,a)=>r.getPropertyValue("--"+a))}getCardSize(){return 3}static getStubConfig(){return{entities:[{entity:"sun.sun"}],hours_to_show:24,refresh_interval:10}}static async getConfigElement(){let{createCardElement:r}=await window.loadCardHelpers(),n=r({type:"history-graph",...this.getStubConfig()});for(;!n.constructor.getConfigElement;)await aS(100);return n.constructor.getConfigElement()}};window.customCards=window.customCards||[];window.customCards.push({type:K9,name:"Plotly Graph Card",preview:!0,description:"Plotly in HA"});customElements.define(K9,$9);})();
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

plotly.js/stackgl_modules/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*!
   * pad-left <https://github.com/jonschlinkert/pad-left>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT license.
   *)
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
