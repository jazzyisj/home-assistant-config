###############################################################################
## Fan - Bedroom Ceiling Fan Auto On
###############################################################################
- id: fan_bedroom_ceiling_fan_auto_on
  alias: "[Fan] Bedroom Ceiling Fan Auto On"
  description: "Turn Bedroom ceiling fan on."
  mode: restart
  trigger:
    - platform: state
      entity_id: binary_sensor.bedroom_temperature_fan
      to:
        - "on"
        - "off"
      not_from:
        - unknown
        - unavailable
  condition:
    - condition: state
      entity_id: timer.bedroom_fan
      state: idle
  action:
    - if: "{{ is_state('binary_sensor.bedroom_temperature_fan','on') }}"
      then:
        - service: script.turn_fan_on
          data:
            fans: fan.bedroom_fan
            percentage: 50
      else:
        - service: script.turn_fan_off
          data:
            fans: fan.bedroom_fan
