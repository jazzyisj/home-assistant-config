###############################################################################
## Fan - Ceiling Fans Auto On
###############################################################################
- id: fan_ceiling_fans_auto_on
  alias: "[Fan] Ceiling Fans Auto On"
  description: "Turn ceiling fans on."
  mode: single
  max_exceeded: silent
  trigger:
    - platform: state
      entity_id:
        - binary_sensor.hvac_fan
        - binary_sensor.schedule_fan
      to: "on"
      not_from:
        - unknown
        - unavailable
  condition:
    - condition: state
      alias: "Not at waketime or at bedtime"
      entity_id:
        - binary_sensor.bedtime_active
        - binary_sensor.waketime_active
      state: "off"

    - not:
        - condition: state
          entity_id: input_select.occupancy_mode
          state: Night
  action:
    - service: script.turn_fan_on
      data:
        fans:
          - fan.bedroom_fan
          - fan.living_room_fan
          - fan.office_fan
        percentage: 50 # fan auto on default speed
