#######################################################################################################################
## Light - Dining Room Light Color Extractor Test
#######################################################################################################################
- id: light_dining_room_light_color_extractor_test #TEMP
  alias: "[Light] Dining Room Light Color Extractor Test"
  description: "Test for color extractor integration."
  mode: restart
  trigger:
    - platform: state
      entity_id: media_player.dining_room_display
      attribute: entity_picture
  condition:
    - condition: state
      entity_id: light.dining_room_rgb_light
      state: 'on'

    - "{{ is_state_attr('media_player.dining_room_display','app_name','Spotify') }}"
  action:
    - service: switch.turn_off
      target:
        entity_id: switch.light_flux_dining_room

    - service: color_extractor.turn_on
      target:
        entity_id: light.dining_room_rgb_light
      data:
        color_extract_url: "{{ state_attr('media_player.dining_room_display','entity_picture') }}"
        brightness_pct: 80
        transition: 5