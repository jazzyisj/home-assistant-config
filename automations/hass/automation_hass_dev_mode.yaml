###############################################################################
## Hass - Dev Mode
###############################################################################
- id: hass_dev_mode
  alias: '[Hass] Dev Mode'
  description: 'Toggle selected automations, alerts.'
  trigger:
    - platform: state
      entity_id: input_boolean.dev_mode
      to: ~
  action:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.dev_mode
              state: 'on'
          sequence:
            - service: input_boolean.turn_off
              target:
                entity_id:
                  - group.automation_controls
                  - group.template_automations
                  - group.alert_controls
                  - input_boolean.tts_enabled
      default:
        - service: input_boolean.turn_on
          target:
            entity_id:
              - group.automation_controls
              - group.template_automations
              - group.alert_controls
              - input_boolean.tts_enabled

    - delay: 2 # allow sensor states to set

    - service: script.led_reset #ISSUE shouldn't be necessary?
