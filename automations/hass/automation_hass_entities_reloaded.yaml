###############################################################################
## Hass - Automations Reloaded
###############################################################################
- id: hass_automations_reloaded
  alias: "[Hass] Automations Reloaded"
  description: "Log entry, browser notification when automations are reloaded."
  trigger:
    - platform: event
      event_type: automation_reloaded
  action:
    - service: system_log.write
      data:
        logger: "{{ this.entity_id }}"
        level: critical
        message: "**** Automations have been reloaded. ****"

    - service: browser_mod.notification
      data:
        duration: 30000
        action_text: "DISMISS"
        action: navigate
        navigation_path: /
        message: "**** Automations have been reloaded. ****"

###############################################################################
## Hass - Templates Reloaded
###############################################################################
- id: hass_templates_reloaded
  alias: "[Hass] Templates Reloaded"
  description: "Log entry, browser notification when templates are reloaded."
  trigger:
    - platform: event
      event_type: event_template_reloaded
  action:
    - service: system_log.write
      data:
        logger: "{{ this.entity_id }}"
        level: critical
        message: "**** Templates have been reloaded. ****"

    - service: browser_mod.notification
      data:
        duration: 30000
        action_text: "DISMISS"
        action: navigate
        navigation_path: /
        message: "**** Templates have been reloaded. ****"

###############################################################################
## Hass - Scripts Reloaded
###############################################################################
- id: hass_scripts_reloaded
  alias: "[Hass] Scripts Reloaded"
  description: "Log entry, browser notification when scripts are reloaded."
  max_exceeded: silent
  trigger:
    - platform: state
      entity_id: script.reset_script # empty script
  action:
    - service: system_log.write
      data:
        logger: "{{ this.entity_id }}"
        level: critical
        message: "**** Scripts have been reloaded. ****"

    - service: browser_mod.notification
      data:
        duration: 30000
        action_text: "DISMISS"
        action: navigate
        navigation_path: /
        message: "**** Scripts have been reloaded. ****"
