###############################################################################
## Schedule - Toggle Work Today Off
#NOTE this toggles input_boolean.work_today_off 2X to reset binary_sensor.work_today delay
###############################################################################
- id: schedule_automation_toggle_work_today_off
  alias: '[Schedule] Toggle Work Today Off'
  description: 'Toggle work today 2X when boolean changed.'
  max_exceeded: silent
  trigger:
    - platform: state
      entity_id: input_boolean.work_today_off
      to: ~
  action:
    - service: input_boolean.toggle
      target:
        entity_id: input_boolean.work_today_off

    - service: input_boolean.toggle
      target:
        entity_id: input_boolean.work_today_off

###############################################################################
## Schedule - Reset Work Off Today
###############################################################################
- id: schedule_automation_reset_work_off_today 
  alias: '[Schedule] Reset Work Off Today'
  description: 'Turn boolean off at end of day.'
  trigger:
    - platform: time
      at: '00:00:00'
  condition:
    - condition: state
      entity_id: input_boolean.work_today_off
      state: 'on'
  action:
    - service: input_boolean.turn_off
      target:
        entity_id: input_boolean.work_today_off

###############################################################################
## Schedule - Reset Work Off Tomorrow
###############################################################################
- id: schedule_automation_reset_work_off_tomorrow
  alias: '[Schedule] Reset Work Off Tomorrow'
  description: 'Turn boolean off at end of day turn on work today off boolean.'
  trigger:
    - platform: time
      at: '00:00:00'
  condition:
    - condition: state
      entity_id: input_boolean.work_tomorrow_off
      state: 'on'
  action:
    - service: input_boolean.turn_on
      target:
        entity_id: input_boolean.work_today_on

    - service: input_boolean.turn_off
      target:
        entity_id: input_boolean.work_today_off
