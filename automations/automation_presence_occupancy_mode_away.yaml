#######################################################################################################################
## Presence - Occupancy Mode Away
#######################################################################################################################
- id: presence_occupancy_mode_away
  alias: "[Presence] Occupancy Mode Away"
  description: "Away state."
  initial_state: true
  mode: single
  trigger:
    - platform: state
      entity_id: input_select.occupancy_mode
      to:
        - Away
        - Vacation

  action:
    # make sure guest boolean is off
    - service: input_boolean.turn_off
      entity_id: input_boolean.guest_home

    # timers cancelled here so lights / fans can turn off
    - service: timer.cancel
      entity_id:
        - group.light_in_use_timers
        - group.ceiling_fans_in_use_timers
        - group.vent_fan_in_use_timers
