###############################################################################
## Pause Alert
###############################################################################
- id: pause_alert
  alias: "Pause Alert"
  description: "Pause alert."
  mode: parallel
  variables:
    alert: "{{ trigger.event.data['action'][12:] }}"
  trigger:
    - platform: event
      event_type: mobile_app_notification_action
  condition: "{{ trigger.event.data['action'][:11] == 'pause_alert' }}"
  action:
    - service: automation.turn_off
      target:
        entity_id: automation.notify_clear_alert_notification
      data:
        stop_actions: false

    - service: alert.turn_off
      continue_on_error: true
      target:
        entity_id: "alert.{{ alert }}"

    - service: automation.turn_on
      target:
        entity_id: automation.notify_clear_alert_notification
