###############################################################################
## Camera - Detection Mode
###############################################################################
- id: camera_detection_mode
  alias: "[Camera] Detection Mode"
  description: "Control camera detection mode."
  mode: queued
  trigger:
    - platform: state
      entity_id: alarm_control_panel.master
      to: disarmed
      for:
        minutes: 5

    - platform: state
      entity_id: alarm_control_panel.master
      from: disarmed
  action:
    - if:
        - condition: state
          entity_id: alarm_control_panel.master
          state: disarmed
      then:
        - service: switch.turn_off
          target:
            entity_id: group.cameara_detection_controls
      else:
        - service: switch.turn_on
          target:
            entity_id: group.cameara_detection_controls
