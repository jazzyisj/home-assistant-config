###############################################################################
## Lock - Reset
###############################################################################
- id: lock_reset
  alias: "[Lock] Reset"
  description: "Reset lock alert sensors."
  triggers:
    - platform: state
      id: intrusion
      entity_id: input_boolean.alarm_triggered
      to: "off"
      not_from:
        - unknown
        - unavailable

    - platform: event
      id: intrusion
      event_type: mobile_app_notification_action
      event_data:
        action: reset_intrusion_locks

    - platform: event
      id: jammed
      event_type: mobile_app_notification_action
      event_data:
        action: reset_jammed_locks

    - platform: event
      id: failed
      event_type: mobile_app_notification_action
      event_data:
        action: reset_failed_locks

    - platform: event
      id: keypad
      event_type: mobile_app_notification_action
      event_data:
        action: reset_keypad_disabled_locks
  actions:
    - action: script.reset_locks
      data:
        type: "{{ trigger.id }}"
