###############################################################################
## Mobile - Sheri Phone Waketime
###############################################################################
- id: mobile_sheri_phone_waketime
  alias: '[Mobile] Sheri Phone Waketime'
  description: 'Set waketime alarm volume.'
  trigger:
    - platform: state
      entity_id: binary_sensor.waketime_active
      to: 'on'
      from: 'off'

    # make sure runs if waketime is off
    - platform: time
      at: input_datetime.house_waketime
  condition:
    - condition: state
      entity_id: binary_sensor.sheri_home
      state: 'on'
  action:
    - choose:
        - conditions:
            - condition: numeric_state
              entity_id: sensor.sphone_volume_level_alarm
              above: input_number.mobile_waketime_volume_sheri
              below: input_number.mobile_waketime_volume_sheri
          sequence:
            - service: number.set_value
              target:
                entity_id: number.jason_phone_alarm_volume
              data:
                value: "{{ states('input_number.mobile_waketime_volume_jason') }}"
