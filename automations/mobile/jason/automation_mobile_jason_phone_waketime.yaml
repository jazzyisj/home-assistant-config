###############################################################################
## Mobile - Jason Phone Waketime
###############################################################################
- id: mobile_jason_phone_waketime
  alias: '[Mobile] Jason Phone Waketime'
  description: 'Set waketime alarm volume.'
  trigger:
    - platform: state
      entity_id: binary_sensor.waketime_active
      to: 'on'
      from: 'off'
  condition:
    - condition: state
      entity_id: binary_sensor.jason_home
      state: 'on'
  action:
    - choose:
        - conditions:
            - condition: numeric_state
              entity_id: sensor.jphone_volume_level_alarm
              above: input_number.mobile_waketime_volume_jason
              below: input_number.mobile_waketime_volume_jason
          sequence:
            - service: notify.mobile_app_jphone
              data:
                message: command_volume_level
                title: "{{ states('input_number.mobile_waketime_volume_jason') }}"
                data:
                  channel: alarm_stream # volume 0 - 7
