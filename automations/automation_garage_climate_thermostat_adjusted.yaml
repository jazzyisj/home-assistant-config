#######################################################################################################################
## Garage Climate - Thermostat Adjusted
#######################################################################################################################
- id: garage_climate_thermostat_adjusted
  alias: "[Garage Climate] Thermostat Adjusted"
  description: "Garage thermostat turned on or off, update hassio."
  initial_state: true
  mode: restart
  trigger:
    - platform: state
      entity_id: climate.garage_thermostat
      to:
       - heat
       - 'off'

  action:
    - service: automation.turn_off
      entity_id: automation.garage_climate_heat_changed

    # turn heat on if thermostat turned on or else turn it off
    - service: "{{ 'input_boolean.turn_on' if is_state('climate.garage_thermostat','heat') else 'input_boolean.turn_off' }}"
      entity_id: input_boolean.garage_heat

    - service: automation.turn_on
      entity_id: automation.garage_climate_heat_changed